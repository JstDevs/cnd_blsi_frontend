var mH=Object.defineProperty;var fH=(t,e,r)=>e in t?mH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var pH=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var vw=(t,e,r)=>fH(t,typeof e!="symbol"?e+"":e,r);var CYe=pH((En,Dn)=>{function hH(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ut(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V4={exports:{}},Sv={},U4={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=Symbol.for("react.element"),gH=Symbol.for("react.portal"),yH=Symbol.for("react.fragment"),xH=Symbol.for("react.strict_mode"),bH=Symbol.for("react.profiler"),vH=Symbol.for("react.provider"),jH=Symbol.for("react.context"),NH=Symbol.for("react.forward_ref"),wH=Symbol.for("react.suspense"),CH=Symbol.for("react.memo"),SH=Symbol.for("react.lazy"),ID=Symbol.iterator;function AH(t){return t===null||typeof t!="object"?null:(t=ID&&t[ID]||t["@@iterator"],typeof t=="function"?t:null)}var z4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W4=Object.assign,G4={};function _u(t,e,r){this.props=t,this.context=e,this.refs=G4,this.updater=r||z4}_u.prototype.isReactComponent={};_u.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_u.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H4(){}H4.prototype=_u.prototype;function CT(t,e,r){this.props=t,this.context=e,this.refs=G4,this.updater=r||z4}var ST=CT.prototype=new H4;ST.constructor=CT;W4(ST,_u.prototype);ST.isPureReactComponent=!0;var TD=Array.isArray,Y4=Object.prototype.hasOwnProperty,AT={current:null},K4={key:!0,ref:!0,__self:!0,__source:!0};function J4(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)Y4.call(e,n)&&!K4.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:bp,type:t,key:o,ref:i,props:s,_owner:AT.current}}function IH(t,e){return{$$typeof:bp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function IT(t){return typeof t=="object"&&t!==null&&t.$$typeof===bp}function TH(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var PD=/\/+/g;function jw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TH(""+t.key):e.toString(36)}function ag(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case bp:case gH:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+jw(i,0):n,TD(s)?(r="",t!=null&&(r=t.replace(PD,"$&/")+"/"),ag(s,e,r,"",function(u){return u})):s!=null&&(IT(s)&&(s=IH(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(PD,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",TD(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+jw(o,l);i+=ag(o,e,r,c,s)}else if(c=AH(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+jw(o,l++),i+=ag(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function nh(t,e,r){if(t==null)return t;var n=[],s=0;return ag(t,n,"","",function(o){return e.call(r,o,s++)}),n}function PH(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},sg={transition:null},kH={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:sg,ReactCurrentOwner:AT};function X4(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:nh,forEach:function(t,e,r){nh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nh(t,function(){e++}),e},toArray:function(t){return nh(t,function(e){return e})||[]},only:function(t){if(!IT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tt.Component=_u;tt.Fragment=yH;tt.Profiler=bH;tt.PureComponent=CT;tt.StrictMode=xH;tt.Suspense=wH;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kH;tt.act=X4;tt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=W4({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=AT.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)Y4.call(e,c)&&!K4.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bp,type:t.type,key:s,ref:o,props:n,_owner:i}};tt.createContext=function(t){return t={$$typeof:jH,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vH,_context:t},t.Consumer=t};tt.createElement=J4;tt.createFactory=function(t){var e=J4.bind(null,t);return e.type=t,e};tt.createRef=function(){return{current:null}};tt.forwardRef=function(t){return{$$typeof:NH,render:t}};tt.isValidElement=IT;tt.lazy=function(t){return{$$typeof:SH,_payload:{_status:-1,_result:t},_init:PH}};tt.memo=function(t,e){return{$$typeof:CH,type:t,compare:e===void 0?null:e}};tt.startTransition=function(t){var e=sg.transition;sg.transition={};try{t()}finally{sg.transition=e}};tt.unstable_act=X4;tt.useCallback=function(t,e){return un.current.useCallback(t,e)};tt.useContext=function(t){return un.current.useContext(t)};tt.useDebugValue=function(){};tt.useDeferredValue=function(t){return un.current.useDeferredValue(t)};tt.useEffect=function(t,e){return un.current.useEffect(t,e)};tt.useId=function(){return un.current.useId()};tt.useImperativeHandle=function(t,e,r){return un.current.useImperativeHandle(t,e,r)};tt.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};tt.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};tt.useMemo=function(t,e){return un.current.useMemo(t,e)};tt.useReducer=function(t,e,r){return un.current.useReducer(t,e,r)};tt.useRef=function(t){return un.current.useRef(t)};tt.useState=function(t){return un.current.useState(t)};tt.useSyncExternalStore=function(t,e,r){return un.current.useSyncExternalStore(t,e,r)};tt.useTransition=function(){return un.current.useTransition()};tt.version="18.3.1";U4.exports=tt;var j=U4.exports;const Q=ut(j),Xo=hH({__proto__:null,default:Q},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EH=j,DH=Symbol.for("react.element"),OH=Symbol.for("react.fragment"),$H=Object.prototype.hasOwnProperty,RH=EH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LH={key:!0,ref:!0,__self:!0,__source:!0};function Z4(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)$H.call(e,n)&&!LH.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:DH,type:t,key:o,ref:i,props:s,_owner:RH.current}}Sv.Fragment=OH;Sv.jsx=Z4;Sv.jsxs=Z4;V4.exports=Sv;var a=V4.exports,cS={},Q4={exports:{}},Vn={},e3={exports:{}},t3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,P){var O=B.length;B.push(P);e:for(;0<O;){var V=O-1>>>1,_=B[V];if(0<s(_,P))B[V]=P,B[O]=_,O=V;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var P=B[0],O=B.pop();if(O!==P){B[0]=O;e:for(var V=0,_=B.length,H=_>>>1;V<H;){var G=2*(V+1)-1,re=B[G],ie=G+1,te=B[ie];if(0>s(re,O))ie<_&&0>s(te,re)?(B[V]=te,B[ie]=O,V=ie):(B[V]=re,B[G]=O,V=G);else if(ie<_&&0>s(te,O))B[V]=te,B[ie]=O,V=ie;else break e}}return P}function s(B,P){var O=B.sortIndex-P.sortIndex;return O!==0?O:B.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,m=null,f=3,p=!1,h=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(B){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=B)n(u),P.sortIndex=P.expirationTime,e(c,P);else break;P=r(u)}}function w(B){if(y=!1,v(B),!h)if(r(c)!==null)h=!0,R(N);else{var P=r(u);P!==null&&U(w,P.startTime-B)}}function N(B,P){h=!1,y&&(y=!1,g(A),A=-1),p=!0;var O=f;try{for(v(P),m=r(c);m!==null&&(!(m.expirationTime>P)||B&&!k());){var V=m.callback;if(typeof V=="function"){m.callback=null,f=m.priorityLevel;var _=V(m.expirationTime<=P);P=t.unstable_now(),typeof _=="function"?m.callback=_:m===r(c)&&n(c),v(P)}else n(c);m=r(c)}if(m!==null)var H=!0;else{var G=r(u);G!==null&&U(w,G.startTime-P),H=!1}return H}finally{m=null,f=O,p=!1}}var S=!1,C=null,A=-1,T=5,I=-1;function k(){return!(t.unstable_now()-I<T)}function $(){if(C!==null){var B=t.unstable_now();I=B;var P=!0;try{P=C(!0,B)}finally{P?L():(S=!1,C=null)}}else S=!1}var L;if(typeof x=="function")L=function(){x($)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,E=q.port2;q.port1.onmessage=$,L=function(){E.postMessage(null)}}else L=function(){b($,0)};function R(B){C=B,S||(S=!0,L())}function U(B,P){A=b(function(){B(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,R(N))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var O=f;f=P;try{return B()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,P){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=f;f=B;try{return P()}finally{f=O}},t.unstable_scheduleCallback=function(B,P,O){var V=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?V+O:V):O=V,B){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=O+_,B={id:d++,callback:P,priorityLevel:B,startTime:O,expirationTime:_,sortIndex:-1},O>V?(B.sortIndex=O,e(u,B),r(c)===null&&B===r(u)&&(y?(g(A),A=-1):y=!0,U(w,O-V))):(B.sortIndex=_,e(c,B),h||p||(h=!0,R(N))),B},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(B){var P=f;return function(){var O=f;f=P;try{return B.apply(this,arguments)}finally{f=O}}}})(t3);e3.exports=t3;var FH=e3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MH=j,Ln=FH;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r3=new Set,Jm={};function $l(t,e){eu(t,e),eu(t+"Capture",e)}function eu(t,e){for(Jm[t]=e,t=0;t<e.length;t++)r3.add(e[t])}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uS=Object.prototype.hasOwnProperty,_H=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kD={},ED={};function BH(t){return uS.call(ED,t)?!0:uS.call(kD,t)?!1:_H.test(t)?ED[t]=!0:(kD[t]=!0,!1)}function qH(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VH(t,e,r,n){if(e===null||typeof e>"u"||qH(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_r[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_r[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_r[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_r[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_r[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_r[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_r[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_r[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_r[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var TT=/[\-:]([a-z])/g;function PT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(TT,PT);_r[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(TT,PT);_r[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(TT,PT);_r[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_r[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});_r.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_r[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kT(t,e,r,n){var s=_r.hasOwnProperty(e)?_r[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VH(e,r,s,n)&&(r=null),n||s===null?BH(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Js=MH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ah=Symbol.for("react.element"),cc=Symbol.for("react.portal"),uc=Symbol.for("react.fragment"),ET=Symbol.for("react.strict_mode"),dS=Symbol.for("react.profiler"),n3=Symbol.for("react.provider"),a3=Symbol.for("react.context"),DT=Symbol.for("react.forward_ref"),mS=Symbol.for("react.suspense"),fS=Symbol.for("react.suspense_list"),OT=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),s3=Symbol.for("react.offscreen"),DD=Symbol.iterator;function Ad(t){return t===null||typeof t!="object"?null:(t=DD&&t[DD]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Object.assign,Nw;function rm(t){if(Nw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Nw=e&&e[1]||""}return`
`+Nw+t}var ww=!1;function Cw(t,e){if(!t||ww)return"";ww=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{ww=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?rm(t):""}function UH(t){switch(t.tag){case 5:return rm(t.type);case 16:return rm("Lazy");case 13:return rm("Suspense");case 19:return rm("SuspenseList");case 0:case 2:case 15:return t=Cw(t.type,!1),t;case 11:return t=Cw(t.type.render,!1),t;case 1:return t=Cw(t.type,!0),t;default:return""}}function pS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uc:return"Fragment";case cc:return"Portal";case dS:return"Profiler";case ET:return"StrictMode";case mS:return"Suspense";case fS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case a3:return(t.displayName||"Context")+".Consumer";case n3:return(t._context.displayName||"Context")+".Provider";case DT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case OT:return e=t.displayName||null,e!==null?e:pS(t.type)||"Memo";case uo:e=t._payload,t=t._init;try{return pS(t(e))}catch{}}return null}function zH(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pS(e);case 8:return e===ET?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WH(t){var e=o3(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sh(t){t._valueTracker||(t._valueTracker=WH(t))}function i3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=o3(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function C0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hS(t,e){var r=e.checked;return Yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function OD(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function l3(t,e){e=e.checked,e!=null&&kT(t,"checked",e,!1)}function gS(t,e){l3(t,e);var r=Zo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yS(t,e.type,r):e.hasOwnProperty("defaultValue")&&yS(t,e.type,Zo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $D(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yS(t,e,r){(e!=="number"||C0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var nm=Array.isArray;function Ec(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zo(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return Yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RD(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(xe(92));if(nm(r)){if(1<r.length)throw Error(xe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zo(r)}}function c3(t,e){var r=Zo(e.value),n=Zo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function LD(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function u3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?u3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oh,d3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oh=oh||document.createElement("div"),oh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xm(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var fm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GH=["Webkit","ms","Moz","O"];Object.keys(fm).forEach(function(t){GH.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fm[e]=fm[t]})});function m3(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fm.hasOwnProperty(t)&&fm[t]?(""+e).trim():e+"px"}function f3(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=m3(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var HH=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vS(t,e){if(e){if(HH[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function jS(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NS=null;function $T(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wS=null,Dc=null,Oc=null;function FD(t){if(t=Np(t)){if(typeof wS!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=kv(e),wS(t.stateNode,t.type,e))}}function p3(t){Dc?Oc?Oc.push(t):Oc=[t]:Dc=t}function h3(){if(Dc){var t=Dc,e=Oc;if(Oc=Dc=null,FD(t),e)for(t=0;t<e.length;t++)FD(e[t])}}function g3(t,e){return t(e)}function y3(){}var Sw=!1;function x3(t,e,r){if(Sw)return t(e,r);Sw=!0;try{return g3(t,e,r)}finally{Sw=!1,(Dc!==null||Oc!==null)&&(y3(),h3())}}function Zm(t,e){var r=t.stateNode;if(r===null)return null;var n=kv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(xe(231,e,typeof r));return r}var CS=!1;if(Rs)try{var Id={};Object.defineProperty(Id,"passive",{get:function(){CS=!0}}),window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{CS=!1}function YH(t,e,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var pm=!1,S0=null,A0=!1,SS=null,KH={onError:function(t){pm=!0,S0=t}};function JH(t,e,r,n,s,o,i,l,c){pm=!1,S0=null,YH.apply(KH,arguments)}function XH(t,e,r,n,s,o,i,l,c){if(JH.apply(this,arguments),pm){if(pm){var u=S0;pm=!1,S0=null}else throw Error(xe(198));A0||(A0=!0,SS=u)}}function Rl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function b3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function MD(t){if(Rl(t)!==t)throw Error(xe(188))}function ZH(t){var e=t.alternate;if(!e){if(e=Rl(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return MD(s),t;if(o===n)return MD(s),e;o=o.sibling}throw Error(xe(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(xe(189))}}if(r.alternate!==n)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?t:e}function v3(t){return t=ZH(t),t!==null?j3(t):null}function j3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=j3(t);if(e!==null)return e;t=t.sibling}return null}var N3=Ln.unstable_scheduleCallback,_D=Ln.unstable_cancelCallback,QH=Ln.unstable_shouldYield,eY=Ln.unstable_requestPaint,ar=Ln.unstable_now,tY=Ln.unstable_getCurrentPriorityLevel,RT=Ln.unstable_ImmediatePriority,w3=Ln.unstable_UserBlockingPriority,I0=Ln.unstable_NormalPriority,rY=Ln.unstable_LowPriority,C3=Ln.unstable_IdlePriority,Av=null,Ja=null;function nY(t){if(Ja&&typeof Ja.onCommitFiberRoot=="function")try{Ja.onCommitFiberRoot(Av,t,void 0,(t.current.flags&128)===128)}catch{}}var Aa=Math.clz32?Math.clz32:oY,aY=Math.log,sY=Math.LN2;function oY(t){return t>>>=0,t===0?32:31-(aY(t)/sY|0)|0}var ih=64,lh=4194304;function am(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function T0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=am(l):(o&=i,o!==0&&(n=am(o)))}else i=r&~s,i!==0?n=am(i):o!==0&&(n=am(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Aa(e),s=1<<r,n|=t[r],e&=~s;return n}function iY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lY(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Aa(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=iY(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function AS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function S3(){var t=ih;return ih<<=1,!(ih&4194240)&&(ih=64),t}function Aw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Aa(e),t[e]=r}function cY(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Aa(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function LT(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Aa(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var vt=0;function A3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var I3,FT,T3,P3,k3,IS=!1,ch=[],ko=null,Eo=null,Do=null,Qm=new Map,ef=new Map,go=[],uY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BD(t,e){switch(t){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Qm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ef.delete(e.pointerId)}}function Td(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Np(e),e!==null&&FT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function dY(t,e,r,n,s){switch(e){case"focusin":return ko=Td(ko,t,e,r,n,s),!0;case"dragenter":return Eo=Td(Eo,t,e,r,n,s),!0;case"mouseover":return Do=Td(Do,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return Qm.set(o,Td(Qm.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,ef.set(o,Td(ef.get(o)||null,t,e,r,n,s)),!0}return!1}function E3(t){var e=Ri(t.target);if(e!==null){var r=Rl(e);if(r!==null){if(e=r.tag,e===13){if(e=b3(r),e!==null){t.blockedOn=e,k3(t.priority,function(){T3(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function og(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=TS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);NS=n,r.target.dispatchEvent(n),NS=null}else return e=Np(r),e!==null&&FT(e),t.blockedOn=r,!1;e.shift()}return!0}function qD(t,e,r){og(t)&&r.delete(e)}function mY(){IS=!1,ko!==null&&og(ko)&&(ko=null),Eo!==null&&og(Eo)&&(Eo=null),Do!==null&&og(Do)&&(Do=null),Qm.forEach(qD),ef.forEach(qD)}function Pd(t,e){t.blockedOn===e&&(t.blockedOn=null,IS||(IS=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,mY)))}function tf(t){function e(s){return Pd(s,t)}if(0<ch.length){Pd(ch[0],t);for(var r=1;r<ch.length;r++){var n=ch[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ko!==null&&Pd(ko,t),Eo!==null&&Pd(Eo,t),Do!==null&&Pd(Do,t),Qm.forEach(e),ef.forEach(e),r=0;r<go.length;r++)n=go[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<go.length&&(r=go[0],r.blockedOn===null);)E3(r),r.blockedOn===null&&go.shift()}var $c=Js.ReactCurrentBatchConfig,P0=!0;function fY(t,e,r,n){var s=vt,o=$c.transition;$c.transition=null;try{vt=1,MT(t,e,r,n)}finally{vt=s,$c.transition=o}}function pY(t,e,r,n){var s=vt,o=$c.transition;$c.transition=null;try{vt=4,MT(t,e,r,n)}finally{vt=s,$c.transition=o}}function MT(t,e,r,n){if(P0){var s=TS(t,e,r,n);if(s===null)Lw(t,e,n,k0,r),BD(t,n);else if(dY(s,t,e,r,n))n.stopPropagation();else if(BD(t,n),e&4&&-1<uY.indexOf(t)){for(;s!==null;){var o=Np(s);if(o!==null&&I3(o),o=TS(t,e,r,n),o===null&&Lw(t,e,n,k0,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Lw(t,e,n,null,r)}}var k0=null;function TS(t,e,r,n){if(k0=null,t=$T(n),t=Ri(t),t!==null)if(e=Rl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=b3(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return k0=t,null}function D3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tY()){case RT:return 1;case w3:return 4;case I0:case rY:return 16;case C3:return 536870912;default:return 16}default:return 16}}var No=null,_T=null,ig=null;function O3(){if(ig)return ig;var t,e=_T,r=e.length,n,s="value"in No?No.value:No.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return ig=s.slice(t,1<n?1-n:void 0)}function lg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uh(){return!0}function VD(){return!1}function Un(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?uh:VD,this.isPropagationStopped=VD,this}return Yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uh)},persist:function(){},isPersistent:uh}),e}var Bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},BT=Un(Bu),jp=Yt({},Bu,{view:0,detail:0}),hY=Un(jp),Iw,Tw,kd,Iv=Yt({},jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kd&&(kd&&t.type==="mousemove"?(Iw=t.screenX-kd.screenX,Tw=t.screenY-kd.screenY):Tw=Iw=0,kd=t),Iw)},movementY:function(t){return"movementY"in t?t.movementY:Tw}}),UD=Un(Iv),gY=Yt({},Iv,{dataTransfer:0}),yY=Un(gY),xY=Yt({},jp,{relatedTarget:0}),Pw=Un(xY),bY=Yt({},Bu,{animationName:0,elapsedTime:0,pseudoElement:0}),vY=Un(bY),jY=Yt({},Bu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NY=Un(jY),wY=Yt({},Bu,{data:0}),zD=Un(wY),CY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AY[t])?!!e[t]:!1}function qT(){return IY}var TY=Yt({},jp,{key:function(t){if(t.key){var e=CY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qT,charCode:function(t){return t.type==="keypress"?lg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PY=Un(TY),kY=Yt({},Iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WD=Un(kY),EY=Yt({},jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qT}),DY=Un(EY),OY=Yt({},Bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),$Y=Un(OY),RY=Yt({},Iv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LY=Un(RY),FY=[9,13,27,32],VT=Rs&&"CompositionEvent"in window,hm=null;Rs&&"documentMode"in document&&(hm=document.documentMode);var MY=Rs&&"TextEvent"in window&&!hm,$3=Rs&&(!VT||hm&&8<hm&&11>=hm),GD=" ",HD=!1;function R3(t,e){switch(t){case"keyup":return FY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dc=!1;function _Y(t,e){switch(t){case"compositionend":return L3(e);case"keypress":return e.which!==32?null:(HD=!0,GD);case"textInput":return t=e.data,t===GD&&HD?null:t;default:return null}}function BY(t,e){if(dc)return t==="compositionend"||!VT&&R3(t,e)?(t=O3(),ig=_T=No=null,dc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $3&&e.locale!=="ko"?null:e.data;default:return null}}var qY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qY[t.type]:e==="textarea"}function F3(t,e,r,n){p3(n),e=E0(e,"onChange"),0<e.length&&(r=new BT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var gm=null,rf=null;function VY(t){Y3(t,0)}function Tv(t){var e=pc(t);if(i3(e))return t}function UY(t,e){if(t==="change")return e}var M3=!1;if(Rs){var kw;if(Rs){var Ew="oninput"in document;if(!Ew){var KD=document.createElement("div");KD.setAttribute("oninput","return;"),Ew=typeof KD.oninput=="function"}kw=Ew}else kw=!1;M3=kw&&(!document.documentMode||9<document.documentMode)}function JD(){gm&&(gm.detachEvent("onpropertychange",_3),rf=gm=null)}function _3(t){if(t.propertyName==="value"&&Tv(rf)){var e=[];F3(e,rf,t,$T(t)),x3(VY,e)}}function zY(t,e,r){t==="focusin"?(JD(),gm=e,rf=r,gm.attachEvent("onpropertychange",_3)):t==="focusout"&&JD()}function WY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tv(rf)}function GY(t,e){if(t==="click")return Tv(e)}function HY(t,e){if(t==="input"||t==="change")return Tv(e)}function YY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Oa=typeof Object.is=="function"?Object.is:YY;function nf(t,e){if(Oa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!uS.call(e,s)||!Oa(t[s],e[s]))return!1}return!0}function XD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ZD(t,e){var r=XD(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=XD(r)}}function B3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q3(){for(var t=window,e=C0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=C0(t.document)}return e}function UT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KY(t){var e=q3(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&B3(r.ownerDocument.documentElement,r)){if(n!==null&&UT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=ZD(r,o);var i=ZD(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JY=Rs&&"documentMode"in document&&11>=document.documentMode,mc=null,PS=null,ym=null,kS=!1;function QD(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kS||mc==null||mc!==C0(n)||(n=mc,"selectionStart"in n&&UT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ym&&nf(ym,n)||(ym=n,n=E0(PS,"onSelect"),0<n.length&&(e=new BT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=mc)))}function dh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fc={animationend:dh("Animation","AnimationEnd"),animationiteration:dh("Animation","AnimationIteration"),animationstart:dh("Animation","AnimationStart"),transitionend:dh("Transition","TransitionEnd")},Dw={},V3={};Rs&&(V3=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function Pv(t){if(Dw[t])return Dw[t];if(!fc[t])return t;var e=fc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in V3)return Dw[t]=e[r];return t}var U3=Pv("animationend"),z3=Pv("animationiteration"),W3=Pv("animationstart"),G3=Pv("transitionend"),H3=new Map,eO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ii(t,e){H3.set(t,e),$l(e,[t])}for(var Ow=0;Ow<eO.length;Ow++){var $w=eO[Ow],XY=$w.toLowerCase(),ZY=$w[0].toUpperCase()+$w.slice(1);ii(XY,"on"+ZY)}ii(U3,"onAnimationEnd");ii(z3,"onAnimationIteration");ii(W3,"onAnimationStart");ii("dblclick","onDoubleClick");ii("focusin","onFocus");ii("focusout","onBlur");ii(G3,"onTransitionEnd");eu("onMouseEnter",["mouseout","mouseover"]);eu("onMouseLeave",["mouseout","mouseover"]);eu("onPointerEnter",["pointerout","pointerover"]);eu("onPointerLeave",["pointerout","pointerover"]);$l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$l("onBeforeInput",["compositionend","keypress","textInput","paste"]);$l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QY=new Set("cancel close invalid load scroll toggle".split(" ").concat(sm));function tO(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,XH(n,e,void 0,t),t.currentTarget=null}function Y3(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;tO(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;tO(s,l,u),o=c}}}if(A0)throw t=SS,A0=!1,SS=null,t}function Rt(t,e){var r=e[RS];r===void 0&&(r=e[RS]=new Set);var n=t+"__bubble";r.has(n)||(K3(e,t,2,!1),r.add(n))}function Rw(t,e,r){var n=0;e&&(n|=4),K3(r,t,n,e)}var mh="_reactListening"+Math.random().toString(36).slice(2);function af(t){if(!t[mh]){t[mh]=!0,r3.forEach(function(r){r!=="selectionchange"&&(QY.has(r)||Rw(r,!1,t),Rw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[mh]||(e[mh]=!0,Rw("selectionchange",!1,e))}}function K3(t,e,r,n){switch(D3(e)){case 1:var s=fY;break;case 4:s=pY;break;default:s=MT}r=s.bind(null,e,r,t),s=void 0,!CS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Lw(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Ri(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}x3(function(){var u=o,d=$T(r),m=[];e:{var f=H3.get(t);if(f!==void 0){var p=BT,h=t;switch(t){case"keypress":if(lg(r)===0)break e;case"keydown":case"keyup":p=PY;break;case"focusin":h="focus",p=Pw;break;case"focusout":h="blur",p=Pw;break;case"beforeblur":case"afterblur":p=Pw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=UD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DY;break;case U3:case z3:case W3:p=vY;break;case G3:p=$Y;break;case"scroll":p=hY;break;case"wheel":p=LY;break;case"copy":case"cut":case"paste":p=NY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=WD}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var x=u,v;x!==null;){v=x;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,g!==null&&(w=Zm(x,g),w!=null&&y.push(sf(x,w,v)))),b)break;x=x.return}0<y.length&&(f=new p(f,h,null,r,d),m.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==NS&&(h=r.relatedTarget||r.fromElement)&&(Ri(h)||h[Ls]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=r.relatedTarget||r.toElement,p=u,h=h?Ri(h):null,h!==null&&(b=Rl(h),h!==b||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(y=UD,w="onMouseLeave",g="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=WD,w="onPointerLeave",g="onPointerEnter",x="pointer"),b=p==null?f:pc(p),v=h==null?f:pc(h),f=new y(w,x+"leave",p,r,d),f.target=b,f.relatedTarget=v,w=null,Ri(d)===u&&(y=new y(g,x+"enter",h,r,d),y.target=v,y.relatedTarget=b,w=y),b=w,p&&h)t:{for(y=p,g=h,x=0,v=y;v;v=Ql(v))x++;for(v=0,w=g;w;w=Ql(w))v++;for(;0<x-v;)y=Ql(y),x--;for(;0<v-x;)g=Ql(g),v--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=Ql(y),g=Ql(g)}y=null}else y=null;p!==null&&rO(m,f,p,y,!1),h!==null&&b!==null&&rO(m,b,h,y,!0)}}e:{if(f=u?pc(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=UY;else if(YD(f))if(M3)N=HY;else{N=WY;var S=zY}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=GY);if(N&&(N=N(t,u))){F3(m,N,r,d);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&yS(f,"number",f.value)}switch(S=u?pc(u):window,t){case"focusin":(YD(S)||S.contentEditable==="true")&&(mc=S,PS=u,ym=null);break;case"focusout":ym=PS=mc=null;break;case"mousedown":kS=!0;break;case"contextmenu":case"mouseup":case"dragend":kS=!1,QD(m,r,d);break;case"selectionchange":if(JY)break;case"keydown":case"keyup":QD(m,r,d)}var C;if(VT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else dc?R3(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&($3&&r.locale!=="ko"&&(dc||A!=="onCompositionStart"?A==="onCompositionEnd"&&dc&&(C=O3()):(No=d,_T="value"in No?No.value:No.textContent,dc=!0)),S=E0(u,A),0<S.length&&(A=new zD(A,t,null,r,d),m.push({event:A,listeners:S}),C?A.data=C:(C=L3(r),C!==null&&(A.data=C)))),(C=MY?_Y(t,r):BY(t,r))&&(u=E0(u,"onBeforeInput"),0<u.length&&(d=new zD("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=C))}Y3(m,e)})}function sf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function E0(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Zm(t,r),o!=null&&n.unshift(sf(t,o,s)),o=Zm(t,e),o!=null&&n.push(sf(t,o,s))),t=t.return}return n}function Ql(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rO(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Zm(r,o),c!=null&&i.unshift(sf(r,c,l))):s||(c=Zm(r,o),c!=null&&i.push(sf(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var eK=/\r\n?/g,tK=/\u0000|\uFFFD/g;function nO(t){return(typeof t=="string"?t:""+t).replace(eK,`
`).replace(tK,"")}function fh(t,e,r){if(e=nO(e),nO(t)!==e&&r)throw Error(xe(425))}function D0(){}var ES=null,DS=null;function OS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $S=typeof setTimeout=="function"?setTimeout:void 0,rK=typeof clearTimeout=="function"?clearTimeout:void 0,aO=typeof Promise=="function"?Promise:void 0,nK=typeof queueMicrotask=="function"?queueMicrotask:typeof aO<"u"?function(t){return aO.resolve(null).then(t).catch(aK)}:$S;function aK(t){setTimeout(function(){throw t})}function Fw(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),tf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);tf(e)}function Oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var qu=Math.random().toString(36).slice(2),Wa="__reactFiber$"+qu,of="__reactProps$"+qu,Ls="__reactContainer$"+qu,RS="__reactEvents$"+qu,sK="__reactListeners$"+qu,oK="__reactHandles$"+qu;function Ri(t){var e=t[Wa];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ls]||r[Wa]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=sO(t);t!==null;){if(r=t[Wa])return r;t=sO(t)}return e}t=r,r=t.parentNode}return null}function Np(t){return t=t[Wa]||t[Ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function kv(t){return t[of]||null}var LS=[],hc=-1;function li(t){return{current:t}}function _t(t){0>hc||(t.current=LS[hc],LS[hc]=null,hc--)}function Dt(t,e){hc++,LS[hc]=t.current,t.current=e}var Qo={},Jr=li(Qo),gn=li(!1),gl=Qo;function tu(t,e){var r=t.type.contextTypes;if(!r)return Qo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yn(t){return t=t.childContextTypes,t!=null}function O0(){_t(gn),_t(Jr)}function oO(t,e,r){if(Jr.current!==Qo)throw Error(xe(168));Dt(Jr,e),Dt(gn,r)}function J3(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(xe(108,zH(t)||"Unknown",s));return Yt({},r,n)}function $0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qo,gl=Jr.current,Dt(Jr,t),Dt(gn,gn.current),!0}function iO(t,e,r){var n=t.stateNode;if(!n)throw Error(xe(169));r?(t=J3(t,e,gl),n.__reactInternalMemoizedMergedChildContext=t,_t(gn),_t(Jr),Dt(Jr,t)):_t(gn),Dt(gn,r)}var ys=null,Ev=!1,Mw=!1;function X3(t){ys===null?ys=[t]:ys.push(t)}function iK(t){Ev=!0,X3(t)}function ci(){if(!Mw&&ys!==null){Mw=!0;var t=0,e=vt;try{var r=ys;for(vt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ys=null,Ev=!1}catch(s){throw ys!==null&&(ys=ys.slice(t+1)),N3(RT,ci),s}finally{vt=e,Mw=!1}}return null}var gc=[],yc=0,R0=null,L0=0,Zn=[],Qn=0,yl=null,vs=1,js="";function Ai(t,e){gc[yc++]=L0,gc[yc++]=R0,R0=t,L0=e}function Z3(t,e,r){Zn[Qn++]=vs,Zn[Qn++]=js,Zn[Qn++]=yl,yl=t;var n=vs;t=js;var s=32-Aa(n)-1;n&=~(1<<s),r+=1;var o=32-Aa(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,vs=1<<32-Aa(e)+s|r<<s|n,js=o+t}else vs=1<<o|r<<s|n,js=t}function zT(t){t.return!==null&&(Ai(t,1),Z3(t,1,0))}function WT(t){for(;t===R0;)R0=gc[--yc],gc[yc]=null,L0=gc[--yc],gc[yc]=null;for(;t===yl;)yl=Zn[--Qn],Zn[Qn]=null,js=Zn[--Qn],Zn[Qn]=null,vs=Zn[--Qn],Zn[Qn]=null}var On=null,kn=null,Vt=!1,Na=null;function Q3(t,e){var r=ta(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function lO(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,kn=Oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yl!==null?{id:vs,overflow:js}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ta(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,On=t,kn=null,!0):!1;default:return!1}}function FS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function MS(t){if(Vt){var e=kn;if(e){var r=e;if(!lO(t,e)){if(FS(t))throw Error(xe(418));e=Oo(r.nextSibling);var n=On;e&&lO(t,e)?Q3(n,r):(t.flags=t.flags&-4097|2,Vt=!1,On=t)}}else{if(FS(t))throw Error(xe(418));t.flags=t.flags&-4097|2,Vt=!1,On=t}}}function cO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function ph(t){if(t!==On)return!1;if(!Vt)return cO(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!OS(t.type,t.memoizedProps)),e&&(e=kn)){if(FS(t))throw eB(),Error(xe(418));for(;e;)Q3(t,e),e=Oo(e.nextSibling)}if(cO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){kn=Oo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=On?Oo(t.stateNode.nextSibling):null;return!0}function eB(){for(var t=kn;t;)t=Oo(t.nextSibling)}function ru(){kn=On=null,Vt=!1}function GT(t){Na===null?Na=[t]:Na.push(t)}var lK=Js.ReactCurrentBatchConfig;function Ed(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var n=r.stateNode}if(!n)throw Error(xe(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,t))}return t}function hh(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uO(t){var e=t._init;return e(t._payload)}function tB(t){function e(g,x){if(t){var v=g.deletions;v===null?(g.deletions=[x],g.flags|=16):v.push(x)}}function r(g,x){if(!t)return null;for(;x!==null;)e(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function s(g,x){return g=Fo(g,x),g.index=0,g.sibling=null,g}function o(g,x,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<x?(g.flags|=2,x):v):(g.flags|=2,x)):(g.flags|=1048576,x)}function i(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,x,v,w){return x===null||x.tag!==6?(x=Ww(v,g.mode,w),x.return=g,x):(x=s(x,v),x.return=g,x)}function c(g,x,v,w){var N=v.type;return N===uc?d(g,x,v.props.children,w,v.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===uo&&uO(N)===x.type)?(w=s(x,v.props),w.ref=Ed(g,x,v),w.return=g,w):(w=hg(v.type,v.key,v.props,null,g.mode,w),w.ref=Ed(g,x,v),w.return=g,w)}function u(g,x,v,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Gw(v,g.mode,w),x.return=g,x):(x=s(x,v.children||[]),x.return=g,x)}function d(g,x,v,w,N){return x===null||x.tag!==7?(x=Zi(v,g.mode,w,N),x.return=g,x):(x=s(x,v),x.return=g,x)}function m(g,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ww(""+x,g.mode,v),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ah:return v=hg(x.type,x.key,x.props,null,g.mode,v),v.ref=Ed(g,null,x),v.return=g,v;case cc:return x=Gw(x,g.mode,v),x.return=g,x;case uo:var w=x._init;return m(g,w(x._payload),v)}if(nm(x)||Ad(x))return x=Zi(x,g.mode,v,null),x.return=g,x;hh(g,x)}return null}function f(g,x,v,w){var N=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(g,x,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ah:return v.key===N?c(g,x,v,w):null;case cc:return v.key===N?u(g,x,v,w):null;case uo:return N=v._init,f(g,x,N(v._payload),w)}if(nm(v)||Ad(v))return N!==null?null:d(g,x,v,w,null);hh(g,v)}return null}function p(g,x,v,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(v)||null,l(x,g,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ah:return g=g.get(w.key===null?v:w.key)||null,c(x,g,w,N);case cc:return g=g.get(w.key===null?v:w.key)||null,u(x,g,w,N);case uo:var S=w._init;return p(g,x,v,S(w._payload),N)}if(nm(w)||Ad(w))return g=g.get(v)||null,d(x,g,w,N,null);hh(x,w)}return null}function h(g,x,v,w){for(var N=null,S=null,C=x,A=x=0,T=null;C!==null&&A<v.length;A++){C.index>A?(T=C,C=null):T=C.sibling;var I=f(g,C,v[A],w);if(I===null){C===null&&(C=T);break}t&&C&&I.alternate===null&&e(g,C),x=o(I,x,A),S===null?N=I:S.sibling=I,S=I,C=T}if(A===v.length)return r(g,C),Vt&&Ai(g,A),N;if(C===null){for(;A<v.length;A++)C=m(g,v[A],w),C!==null&&(x=o(C,x,A),S===null?N=C:S.sibling=C,S=C);return Vt&&Ai(g,A),N}for(C=n(g,C);A<v.length;A++)T=p(C,g,A,v[A],w),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?A:T.key),x=o(T,x,A),S===null?N=T:S.sibling=T,S=T);return t&&C.forEach(function(k){return e(g,k)}),Vt&&Ai(g,A),N}function y(g,x,v,w){var N=Ad(v);if(typeof N!="function")throw Error(xe(150));if(v=N.call(v),v==null)throw Error(xe(151));for(var S=N=null,C=x,A=x=0,T=null,I=v.next();C!==null&&!I.done;A++,I=v.next()){C.index>A?(T=C,C=null):T=C.sibling;var k=f(g,C,I.value,w);if(k===null){C===null&&(C=T);break}t&&C&&k.alternate===null&&e(g,C),x=o(k,x,A),S===null?N=k:S.sibling=k,S=k,C=T}if(I.done)return r(g,C),Vt&&Ai(g,A),N;if(C===null){for(;!I.done;A++,I=v.next())I=m(g,I.value,w),I!==null&&(x=o(I,x,A),S===null?N=I:S.sibling=I,S=I);return Vt&&Ai(g,A),N}for(C=n(g,C);!I.done;A++,I=v.next())I=p(C,g,A,I.value,w),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?A:I.key),x=o(I,x,A),S===null?N=I:S.sibling=I,S=I);return t&&C.forEach(function($){return e(g,$)}),Vt&&Ai(g,A),N}function b(g,x,v,w){if(typeof v=="object"&&v!==null&&v.type===uc&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ah:e:{for(var N=v.key,S=x;S!==null;){if(S.key===N){if(N=v.type,N===uc){if(S.tag===7){r(g,S.sibling),x=s(S,v.props.children),x.return=g,g=x;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===uo&&uO(N)===S.type){r(g,S.sibling),x=s(S,v.props),x.ref=Ed(g,S,v),x.return=g,g=x;break e}r(g,S);break}else e(g,S);S=S.sibling}v.type===uc?(x=Zi(v.props.children,g.mode,w,v.key),x.return=g,g=x):(w=hg(v.type,v.key,v.props,null,g.mode,w),w.ref=Ed(g,x,v),w.return=g,g=w)}return i(g);case cc:e:{for(S=v.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){r(g,x.sibling),x=s(x,v.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else e(g,x);x=x.sibling}x=Gw(v,g.mode,w),x.return=g,g=x}return i(g);case uo:return S=v._init,b(g,x,S(v._payload),w)}if(nm(v))return h(g,x,v,w);if(Ad(v))return y(g,x,v,w);hh(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(r(g,x.sibling),x=s(x,v),x.return=g,g=x):(r(g,x),x=Ww(v,g.mode,w),x.return=g,g=x),i(g)):r(g,x)}return b}var nu=tB(!0),rB=tB(!1),F0=li(null),M0=null,xc=null,HT=null;function YT(){HT=xc=M0=null}function KT(t){var e=F0.current;_t(F0),t._currentValue=e}function _S(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Rc(t,e){M0=t,HT=xc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function la(t){var e=t._currentValue;if(HT!==t)if(t={context:t,memoizedValue:e,next:null},xc===null){if(M0===null)throw Error(xe(308));xc=t,M0.dependencies={lanes:0,firstContext:t}}else xc=xc.next=t;return e}var Li=null;function JT(t){Li===null?Li=[t]:Li.push(t)}function nB(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,JT(e)):(r.next=s.next,s.next=r),e.interleaved=r,Fs(t,n)}function Fs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var mo=!1;function XT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function As(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $o(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Fs(t,r)}return s=n.interleaved,s===null?(e.next=e,JT(n)):(e.next=s.next,s.next=e),n.interleaved=e,Fs(t,r)}function cg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,LT(t,r)}}function dO(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function _0(t,e,r,n){var s=t.updateQueue;mo=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var m=s.baseState;i=0,d=u=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,y=l;switch(f=e,p=r,y.tag){case 1:if(h=y.payload,typeof h=="function"){m=h.call(p,m,f);break e}m=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,f=typeof h=="function"?h.call(p,m,f):h,f==null)break e;m=Yt({},m,f);break e;case 2:mo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=m):d=d.next=p,i|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);bl|=i,t.lanes=i,t.memoizedState=m}}function mO(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(xe(191,s));s.call(n)}}}var wp={},Xa=li(wp),lf=li(wp),cf=li(wp);function Fi(t){if(t===wp)throw Error(xe(174));return t}function ZT(t,e){switch(Dt(cf,e),Dt(lf,t),Dt(Xa,wp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bS(e,t)}_t(Xa),Dt(Xa,e)}function au(){_t(Xa),_t(lf),_t(cf)}function sB(t){Fi(cf.current);var e=Fi(Xa.current),r=bS(e,t.type);e!==r&&(Dt(lf,t),Dt(Xa,r))}function QT(t){lf.current===t&&(_t(Xa),_t(lf))}var Wt=li(0);function B0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _w=[];function eP(){for(var t=0;t<_w.length;t++)_w[t]._workInProgressVersionPrimary=null;_w.length=0}var ug=Js.ReactCurrentDispatcher,Bw=Js.ReactCurrentBatchConfig,xl=0,Ht=null,br=null,Cr=null,q0=!1,xm=!1,uf=0,cK=0;function qr(){throw Error(xe(321))}function tP(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Oa(t[r],e[r]))return!1;return!0}function rP(t,e,r,n,s,o){if(xl=o,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ug.current=t===null||t.memoizedState===null?fK:pK,t=r(n,s),xm){o=0;do{if(xm=!1,uf=0,25<=o)throw Error(xe(301));o+=1,Cr=br=null,e.updateQueue=null,ug.current=hK,t=r(n,s)}while(xm)}if(ug.current=V0,e=br!==null&&br.next!==null,xl=0,Cr=br=Ht=null,q0=!1,e)throw Error(xe(300));return t}function nP(){var t=uf!==0;return uf=0,t}function qa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Ht.memoizedState=Cr=t:Cr=Cr.next=t,Cr}function ca(){if(br===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=br.next;var e=Cr===null?Ht.memoizedState:Cr.next;if(e!==null)Cr=e,br=t;else{if(t===null)throw Error(xe(310));br=t,t={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},Cr===null?Ht.memoizedState=Cr=t:Cr=Cr.next=t}return Cr}function df(t,e){return typeof e=="function"?e(t):e}function qw(t){var e=ca(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=br,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((xl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,i=n):c=c.next=m,Ht.lanes|=d,bl|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Oa(n,e.memoizedState)||(pn=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,Ht.lanes|=o,bl|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Vw(t){var e=ca(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Oa(o,e.memoizedState)||(pn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function oB(){}function iB(t,e){var r=Ht,n=ca(),s=e(),o=!Oa(n.memoizedState,s);if(o&&(n.memoizedState=s,pn=!0),n=n.queue,aP(uB.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Cr!==null&&Cr.memoizedState.tag&1){if(r.flags|=2048,mf(9,cB.bind(null,r,n,s,e),void 0,null),Ar===null)throw Error(xe(349));xl&30||lB(r,e,s)}return s}function lB(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function cB(t,e,r,n){e.value=r,e.getSnapshot=n,dB(e)&&mB(t)}function uB(t,e,r){return r(function(){dB(e)&&mB(t)})}function dB(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Oa(t,r)}catch{return!0}}function mB(t){var e=Fs(t,1);e!==null&&Ia(e,t,1,-1)}function fO(t){var e=qa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:df,lastRenderedState:t},e.queue=t,t=t.dispatch=mK.bind(null,Ht,t),[e.memoizedState,t]}function mf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function fB(){return ca().memoizedState}function dg(t,e,r,n){var s=qa();Ht.flags|=t,s.memoizedState=mf(1|e,r,void 0,n===void 0?null:n)}function Dv(t,e,r,n){var s=ca();n=n===void 0?null:n;var o=void 0;if(br!==null){var i=br.memoizedState;if(o=i.destroy,n!==null&&tP(n,i.deps)){s.memoizedState=mf(e,r,o,n);return}}Ht.flags|=t,s.memoizedState=mf(1|e,r,o,n)}function pO(t,e){return dg(8390656,8,t,e)}function aP(t,e){return Dv(2048,8,t,e)}function pB(t,e){return Dv(4,2,t,e)}function hB(t,e){return Dv(4,4,t,e)}function gB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yB(t,e,r){return r=r!=null?r.concat([t]):null,Dv(4,4,gB.bind(null,e,t),r)}function sP(){}function xB(t,e){var r=ca();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tP(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function bB(t,e){var r=ca();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tP(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function vB(t,e,r){return xl&21?(Oa(r,e)||(r=S3(),Ht.lanes|=r,bl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=r)}function uK(t,e){var r=vt;vt=r!==0&&4>r?r:4,t(!0);var n=Bw.transition;Bw.transition={};try{t(!1),e()}finally{vt=r,Bw.transition=n}}function jB(){return ca().memoizedState}function dK(t,e,r){var n=Lo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NB(t))wB(e,r);else if(r=nB(t,e,r,n),r!==null){var s=sn();Ia(r,t,n,s),CB(r,e,n)}}function mK(t,e,r){var n=Lo(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NB(t))wB(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Oa(l,i)){var c=e.interleaved;c===null?(s.next=s,JT(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=nB(t,e,s,n),r!==null&&(s=sn(),Ia(r,t,n,s),CB(r,e,n))}}function NB(t){var e=t.alternate;return t===Ht||e!==null&&e===Ht}function wB(t,e){xm=q0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function CB(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,LT(t,r)}}var V0={readContext:la,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},fK={readContext:la,useCallback:function(t,e){return qa().memoizedState=[t,e===void 0?null:e],t},useContext:la,useEffect:pO,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,dg(4194308,4,gB.bind(null,e,t),r)},useLayoutEffect:function(t,e){return dg(4194308,4,t,e)},useInsertionEffect:function(t,e){return dg(4,2,t,e)},useMemo:function(t,e){var r=qa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=qa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=dK.bind(null,Ht,t),[n.memoizedState,t]},useRef:function(t){var e=qa();return t={current:t},e.memoizedState=t},useState:fO,useDebugValue:sP,useDeferredValue:function(t){return qa().memoizedState=t},useTransition:function(){var t=fO(!1),e=t[0];return t=uK.bind(null,t[1]),qa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ht,s=qa();if(Vt){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=e(),Ar===null)throw Error(xe(349));xl&30||lB(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,pO(uB.bind(null,n,o,t),[t]),n.flags|=2048,mf(9,cB.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=qa(),e=Ar.identifierPrefix;if(Vt){var r=js,n=vs;r=(n&~(1<<32-Aa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=uf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cK++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pK={readContext:la,useCallback:xB,useContext:la,useEffect:aP,useImperativeHandle:yB,useInsertionEffect:pB,useLayoutEffect:hB,useMemo:bB,useReducer:qw,useRef:fB,useState:function(){return qw(df)},useDebugValue:sP,useDeferredValue:function(t){var e=ca();return vB(e,br.memoizedState,t)},useTransition:function(){var t=qw(df)[0],e=ca().memoizedState;return[t,e]},useMutableSource:oB,useSyncExternalStore:iB,useId:jB,unstable_isNewReconciler:!1},hK={readContext:la,useCallback:xB,useContext:la,useEffect:aP,useImperativeHandle:yB,useInsertionEffect:pB,useLayoutEffect:hB,useMemo:bB,useReducer:Vw,useRef:fB,useState:function(){return Vw(df)},useDebugValue:sP,useDeferredValue:function(t){var e=ca();return br===null?e.memoizedState=t:vB(e,br.memoizedState,t)},useTransition:function(){var t=Vw(df)[0],e=ca().memoizedState;return[t,e]},useMutableSource:oB,useSyncExternalStore:iB,useId:jB,unstable_isNewReconciler:!1};function xa(t,e){if(t&&t.defaultProps){e=Yt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function BS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Yt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ov={isMounted:function(t){return(t=t._reactInternals)?Rl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=sn(),s=Lo(t),o=As(n,s);o.payload=e,r!=null&&(o.callback=r),e=$o(t,o,s),e!==null&&(Ia(e,t,s,n),cg(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=sn(),s=Lo(t),o=As(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=$o(t,o,s),e!==null&&(Ia(e,t,s,n),cg(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=sn(),n=Lo(t),s=As(r,n);s.tag=2,e!=null&&(s.callback=e),e=$o(t,s,n),e!==null&&(Ia(e,t,n,r),cg(e,t,n))}};function hO(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!nf(r,n)||!nf(s,o):!0}function SB(t,e,r){var n=!1,s=Qo,o=e.contextType;return typeof o=="object"&&o!==null?o=la(o):(s=yn(e)?gl:Jr.current,n=e.contextTypes,o=(n=n!=null)?tu(t,s):Qo),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ov,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function gO(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ov.enqueueReplaceState(e,e.state,null)}function qS(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},XT(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=la(o):(o=yn(e)?gl:Jr.current,s.context=tu(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(BS(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ov.enqueueReplaceState(s,s.state,null),_0(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function su(t,e){try{var r="",n=e;do r+=UH(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Uw(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function VS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var gK=typeof WeakMap=="function"?WeakMap:Map;function AB(t,e,r){r=As(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){z0||(z0=!0,ZS=n),VS(t,e)},r}function IB(t,e,r){r=As(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){VS(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){VS(t,e),typeof n!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function yO(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new gK;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=kK.bind(null,t,e,r),e.then(t,t))}function xO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bO(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=As(-1,1),e.tag=2,$o(r,e,1))),r.lanes|=1),t)}var yK=Js.ReactCurrentOwner,pn=!1;function Xr(t,e,r,n){e.child=t===null?rB(e,null,r,n):nu(e,t.child,r,n)}function vO(t,e,r,n,s){r=r.render;var o=e.ref;return Rc(e,s),n=rP(t,e,r,n,o,s),r=nP(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ms(t,e,s)):(Vt&&r&&zT(e),e.flags|=1,Xr(t,e,n,s),e.child)}function jO(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!fP(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,TB(t,e,o,n,s)):(t=hg(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:nf,r(i,n)&&t.ref===e.ref)return Ms(t,e,s)}return e.flags|=1,t=Fo(o,n),t.ref=e.ref,t.return=e,e.child=t}function TB(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(nf(o,n)&&t.ref===e.ref)if(pn=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,Ms(t,e,s)}return US(t,e,r,n,s)}function PB(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(vc,In),In|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dt(vc,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Dt(vc,In),In|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Dt(vc,In),In|=n;return Xr(t,e,s,r),e.child}function kB(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function US(t,e,r,n,s){var o=yn(r)?gl:Jr.current;return o=tu(e,o),Rc(e,s),r=rP(t,e,r,n,o,s),n=nP(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ms(t,e,s)):(Vt&&n&&zT(e),e.flags|=1,Xr(t,e,r,s),e.child)}function NO(t,e,r,n,s){if(yn(r)){var o=!0;$0(e)}else o=!1;if(Rc(e,s),e.stateNode===null)mg(t,e),SB(e,r,n),qS(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=la(u):(u=yn(r)?gl:Jr.current,u=tu(e,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&gO(e,i,n,u),mo=!1;var f=e.memoizedState;i.state=f,_0(e,n,i,s),c=e.memoizedState,l!==n||f!==c||gn.current||mo?(typeof d=="function"&&(BS(e,r,d,n),c=e.memoizedState),(l=mo||hO(e,r,l,n,f,c,u))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,aB(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:xa(e.type,l),i.props=u,m=e.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=la(c):(c=yn(r)?gl:Jr.current,c=tu(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||f!==c)&&gO(e,i,n,c),mo=!1,f=e.memoizedState,i.state=f,_0(e,n,i,s);var h=e.memoizedState;l!==m||f!==h||gn.current||mo?(typeof p=="function"&&(BS(e,r,p,n),h=e.memoizedState),(u=mo||hO(e,r,u,n,f,h,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,h,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,h,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=h),i.props=n,i.state=h,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return zS(t,e,r,n,o,s)}function zS(t,e,r,n,s,o){kB(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&iO(e,r,!1),Ms(t,e,o);n=e.stateNode,yK.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=nu(e,t.child,null,o),e.child=nu(e,null,l,o)):Xr(t,e,l,o),e.memoizedState=n.state,s&&iO(e,r,!0),e.child}function EB(t){var e=t.stateNode;e.pendingContext?oO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oO(t,e.context,!1),ZT(t,e.containerInfo)}function wO(t,e,r,n,s){return ru(),GT(s),e.flags|=256,Xr(t,e,r,n),e.child}var WS={dehydrated:null,treeContext:null,retryLane:0};function GS(t){return{baseLanes:t,cachePool:null,transitions:null}}function DB(t,e,r){var n=e.pendingProps,s=Wt.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Dt(Wt,s&1),t===null)return MS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Lv(i,n,0,null),t=Zi(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=GS(r),e.memoizedState=WS,t):oP(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return xK(t,e,i,n,l,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Fo(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Fo(l,o):(o=Zi(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?GS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=WS,n}return o=t.child,t=o.sibling,n=Fo(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function oP(t,e){return e=Lv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gh(t,e,r,n){return n!==null&&GT(n),nu(e,t.child,null,r),t=oP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xK(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=Uw(Error(xe(422))),gh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=Lv({mode:"visible",children:n.children},s,0,null),o=Zi(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&nu(e,t.child,null,i),e.child.memoizedState=GS(i),e.memoizedState=WS,o);if(!(e.mode&1))return gh(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(xe(419)),n=Uw(o,n,void 0),gh(t,e,i,n)}if(l=(i&t.childLanes)!==0,pn||l){if(n=Ar,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Fs(t,s),Ia(n,t,s,-1))}return mP(),n=Uw(Error(xe(421))),gh(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=EK.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,kn=Oo(s.nextSibling),On=e,Vt=!0,Na=null,t!==null&&(Zn[Qn++]=vs,Zn[Qn++]=js,Zn[Qn++]=yl,vs=t.id,js=t.overflow,yl=e),e=oP(e,n.children),e.flags|=4096,e)}function CO(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),_S(t.return,e,r)}function zw(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function OB(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(Xr(t,e,n.children,r),n=Wt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CO(t,r,e);else if(t.tag===19)CO(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Dt(Wt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&B0(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),zw(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&B0(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}zw(e,!0,r,null,o);break;case"together":zw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ms(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),bl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,r=Fo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Fo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function bK(t,e,r){switch(e.tag){case 3:EB(e),ru();break;case 5:sB(e);break;case 1:yn(e.type)&&$0(e);break;case 4:ZT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Dt(F0,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Dt(Wt,Wt.current&1),e.flags|=128,null):r&e.child.childLanes?DB(t,e,r):(Dt(Wt,Wt.current&1),t=Ms(t,e,r),t!==null?t.sibling:null);Dt(Wt,Wt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return OB(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Dt(Wt,Wt.current),n)break;return null;case 22:case 23:return e.lanes=0,PB(t,e,r)}return Ms(t,e,r)}var $B,HS,RB,LB;$B=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};HS=function(){};RB=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Fi(Xa.current);var o=null;switch(r){case"input":s=hS(t,s),n=hS(t,n),o=[];break;case"select":s=Yt({},s,{value:void 0}),n=Yt({},n,{value:void 0}),o=[];break;case"textarea":s=xS(t,s),n=xS(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=D0)}vS(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jm.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Rt("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};LB=function(t,e,r,n){r!==n&&(e.flags|=4)};function Dd(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vK(t,e,r){var n=e.pendingProps;switch(WT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(e),null;case 1:return yn(e.type)&&O0(),Vr(e),null;case 3:return n=e.stateNode,au(),_t(gn),_t(Jr),eP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ph(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Na!==null&&(tA(Na),Na=null))),HS(t,e),Vr(e),null;case 5:QT(e);var s=Fi(cf.current);if(r=e.type,t!==null&&e.stateNode!=null)RB(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(xe(166));return Vr(e),null}if(t=Fi(Xa.current),ph(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Wa]=e,n[of]=o,t=(e.mode&1)!==0,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(s=0;s<sm.length;s++)Rt(sm[s],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":OD(n,o),Rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Rt("invalid",n);break;case"textarea":RD(n,o),Rt("invalid",n)}vS(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&fh(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&fh(n.textContent,l,t),s=["children",""+l]):Jm.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Rt("scroll",n)}switch(r){case"input":sh(n),$D(n,o,!0);break;case"textarea":sh(n),LD(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=D0)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=u3(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Wa]=e,t[of]=n,$B(t,e,!1,!1),e.stateNode=t;e:{switch(i=jS(r,n),r){case"dialog":Rt("cancel",t),Rt("close",t),s=n;break;case"iframe":case"object":case"embed":Rt("load",t),s=n;break;case"video":case"audio":for(s=0;s<sm.length;s++)Rt(sm[s],t);s=n;break;case"source":Rt("error",t),s=n;break;case"img":case"image":case"link":Rt("error",t),Rt("load",t),s=n;break;case"details":Rt("toggle",t),s=n;break;case"input":OD(t,n),s=hS(t,n),Rt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Yt({},n,{value:void 0}),Rt("invalid",t);break;case"textarea":RD(t,n),s=xS(t,n),Rt("invalid",t);break;default:s=n}vS(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?f3(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&d3(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xm(t,c):typeof c=="number"&&Xm(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Jm.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Rt("scroll",t):c!=null&&kT(t,o,c,i))}switch(r){case"input":sh(t),$D(t,n,!1);break;case"textarea":sh(t),LD(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zo(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Ec(t,!!n.multiple,o,!1):n.defaultValue!=null&&Ec(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=D0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vr(e),null;case 6:if(t&&e.stateNode!=null)LB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(xe(166));if(r=Fi(cf.current),Fi(Xa.current),ph(e)){if(n=e.stateNode,r=e.memoizedProps,n[Wa]=e,(o=n.nodeValue!==r)&&(t=On,t!==null))switch(t.tag){case 3:fh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fh(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wa]=e,e.stateNode=n}return Vr(e),null;case 13:if(_t(Wt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&kn!==null&&e.mode&1&&!(e.flags&128))eB(),ru(),e.flags|=98560,o=!1;else if(o=ph(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(xe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(xe(317));o[Wa]=e}else ru(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vr(e),o=!1}else Na!==null&&(tA(Na),Na=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Wt.current&1?vr===0&&(vr=3):mP())),e.updateQueue!==null&&(e.flags|=4),Vr(e),null);case 4:return au(),HS(t,e),t===null&&af(e.stateNode.containerInfo),Vr(e),null;case 10:return KT(e.type._context),Vr(e),null;case 17:return yn(e.type)&&O0(),Vr(e),null;case 19:if(_t(Wt),o=e.memoizedState,o===null)return Vr(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)Dd(o,!1);else{if(vr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=B0(t),i!==null){for(e.flags|=128,Dd(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Dt(Wt,Wt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ar()>ou&&(e.flags|=128,n=!0,Dd(o,!1),e.lanes=4194304)}else{if(!n)if(t=B0(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Dd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Vt)return Vr(e),null}else 2*ar()-o.renderingStartTime>ou&&r!==1073741824&&(e.flags|=128,n=!0,Dd(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ar(),e.sibling=null,r=Wt.current,Dt(Wt,n?r&1|2:r&1),e):(Vr(e),null);case 22:case 23:return dP(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?In&1073741824&&(Vr(e),e.subtreeFlags&6&&(e.flags|=8192)):Vr(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function jK(t,e){switch(WT(e),e.tag){case 1:return yn(e.type)&&O0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return au(),_t(gn),_t(Jr),eP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return QT(e),null;case 13:if(_t(Wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));ru()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _t(Wt),null;case 4:return au(),null;case 10:return KT(e.type._context),null;case 22:case 23:return dP(),null;case 24:return null;default:return null}}var yh=!1,Wr=!1,NK=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function bc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zt(t,e,n)}else r.current=null}function YS(t,e,r){try{r()}catch(n){Zt(t,e,n)}}var SO=!1;function wK(t,e){if(ES=P0,t=q3(),UT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,m=t,f=null;t:for(;;){for(var p;m!==r||s!==0&&m.nodeType!==3||(l=i+s),m!==o||n!==0&&m.nodeType!==3||(c=i+n),m.nodeType===3&&(i+=m.nodeValue.length),(p=m.firstChild)!==null;)f=m,m=p;for(;;){if(m===t)break t;if(f===r&&++u===s&&(l=i),f===o&&++d===n&&(c=i),(p=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(DS={focusedElem:t,selectionRange:r},P0=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,b=h.memoizedState,g=e.stateNode,x=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:xa(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(w){Zt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return h=SO,SO=!1,h}function bm(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&YS(e,r,o)}s=s.next}while(s!==n)}}function $v(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function KS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function FB(t){var e=t.alternate;e!==null&&(t.alternate=null,FB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wa],delete e[of],delete e[RS],delete e[sK],delete e[oK])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MB(t){return t.tag===5||t.tag===3||t.tag===4}function AO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function JS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=D0));else if(n!==4&&(t=t.child,t!==null))for(JS(t,e,r),t=t.sibling;t!==null;)JS(t,e,r),t=t.sibling}function XS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(XS(t,e,r),t=t.sibling;t!==null;)XS(t,e,r),t=t.sibling}var Dr=null,ba=!1;function so(t,e,r){for(r=r.child;r!==null;)_B(t,e,r),r=r.sibling}function _B(t,e,r){if(Ja&&typeof Ja.onCommitFiberUnmount=="function")try{Ja.onCommitFiberUnmount(Av,r)}catch{}switch(r.tag){case 5:Wr||bc(r,e);case 6:var n=Dr,s=ba;Dr=null,so(t,e,r),Dr=n,ba=s,Dr!==null&&(ba?(t=Dr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Dr.removeChild(r.stateNode));break;case 18:Dr!==null&&(ba?(t=Dr,r=r.stateNode,t.nodeType===8?Fw(t.parentNode,r):t.nodeType===1&&Fw(t,r),tf(t)):Fw(Dr,r.stateNode));break;case 4:n=Dr,s=ba,Dr=r.stateNode.containerInfo,ba=!0,so(t,e,r),Dr=n,ba=s;break;case 0:case 11:case 14:case 15:if(!Wr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&YS(r,e,i),s=s.next}while(s!==n)}so(t,e,r);break;case 1:if(!Wr&&(bc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Zt(r,e,l)}so(t,e,r);break;case 21:so(t,e,r);break;case 22:r.mode&1?(Wr=(n=Wr)||r.memoizedState!==null,so(t,e,r),Wr=n):so(t,e,r);break;default:so(t,e,r)}}function IO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new NK),e.forEach(function(n){var s=DK.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function pa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Dr=l.stateNode,ba=!1;break e;case 3:Dr=l.stateNode.containerInfo,ba=!0;break e;case 4:Dr=l.stateNode.containerInfo,ba=!0;break e}l=l.return}if(Dr===null)throw Error(xe(160));_B(o,i,s),Dr=null,ba=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Zt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BB(e,t),e=e.sibling}function BB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pa(e,t),_a(t),n&4){try{bm(3,t,t.return),$v(3,t)}catch(y){Zt(t,t.return,y)}try{bm(5,t,t.return)}catch(y){Zt(t,t.return,y)}}break;case 1:pa(e,t),_a(t),n&512&&r!==null&&bc(r,r.return);break;case 5:if(pa(e,t),_a(t),n&512&&r!==null&&bc(r,r.return),t.flags&32){var s=t.stateNode;try{Xm(s,"")}catch(y){Zt(t,t.return,y)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&l3(s,o),jS(l,i);var u=jS(l,o);for(i=0;i<c.length;i+=2){var d=c[i],m=c[i+1];d==="style"?f3(s,m):d==="dangerouslySetInnerHTML"?d3(s,m):d==="children"?Xm(s,m):kT(s,d,m,u)}switch(l){case"input":gS(s,o);break;case"textarea":c3(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ec(s,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ec(s,!!o.multiple,o.defaultValue,!0):Ec(s,!!o.multiple,o.multiple?[]:"",!1))}s[of]=o}catch(y){Zt(t,t.return,y)}}break;case 6:if(pa(e,t),_a(t),n&4){if(t.stateNode===null)throw Error(xe(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(y){Zt(t,t.return,y)}}break;case 3:if(pa(e,t),_a(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tf(e.containerInfo)}catch(y){Zt(t,t.return,y)}break;case 4:pa(e,t),_a(t);break;case 13:pa(e,t),_a(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(cP=ar())),n&4&&IO(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Wr=(u=Wr)||d,pa(e,t),Wr=u):pa(e,t),_a(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ie=t,d=t.child;d!==null;){for(m=Ie=d;Ie!==null;){switch(f=Ie,p=f.child,f.tag){case 0:case 11:case 14:case 15:bm(4,f,f.return);break;case 1:bc(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(y){Zt(n,r,y)}}break;case 5:bc(f,f.return);break;case 22:if(f.memoizedState!==null){PO(m);continue}}p!==null?(p.return=f,Ie=p):PO(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=m3("display",i))}catch(y){Zt(t,t.return,y)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){Zt(t,t.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pa(e,t),_a(t),n&4&&IO(t);break;case 21:break;default:pa(e,t),_a(t)}}function _a(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(MB(r)){var n=r;break e}r=r.return}throw Error(xe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xm(s,""),n.flags&=-33);var o=AO(t);XS(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=AO(t);JS(t,l,i);break;default:throw Error(xe(161))}}catch(c){Zt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CK(t,e,r){Ie=t,qB(t)}function qB(t,e,r){for(var n=(t.mode&1)!==0;Ie!==null;){var s=Ie,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||yh;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Wr;l=yh;var u=Wr;if(yh=i,(Wr=c)&&!u)for(Ie=s;Ie!==null;)i=Ie,c=i.child,i.tag===22&&i.memoizedState!==null?kO(s):c!==null?(c.return=i,Ie=c):kO(s);for(;o!==null;)Ie=o,qB(o),o=o.sibling;Ie=s,yh=l,Wr=u}TO(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Ie=o):TO(t)}}function TO(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wr||$v(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Wr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:xa(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&mO(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mO(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&tf(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Wr||e.flags&512&&KS(e)}catch(f){Zt(e,e.return,f)}}if(e===t){Ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function PO(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function kO(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{$v(4,e)}catch(c){Zt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Zt(e,s,c)}}var o=e.return;try{KS(e)}catch(c){Zt(e,o,c)}break;case 5:var i=e.return;try{KS(e)}catch(c){Zt(e,i,c)}}}catch(c){Zt(e,e.return,c)}if(e===t){Ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ie=l;break}Ie=e.return}}var SK=Math.ceil,U0=Js.ReactCurrentDispatcher,iP=Js.ReactCurrentOwner,aa=Js.ReactCurrentBatchConfig,st=0,Ar=null,dr=null,Fr=0,In=0,vc=li(0),vr=0,ff=null,bl=0,Rv=0,lP=0,vm=null,fn=null,cP=0,ou=1/0,hs=null,z0=!1,ZS=null,Ro=null,xh=!1,wo=null,W0=0,jm=0,QS=null,fg=-1,pg=0;function sn(){return st&6?ar():fg!==-1?fg:fg=ar()}function Lo(t){return t.mode&1?st&2&&Fr!==0?Fr&-Fr:lK.transition!==null?(pg===0&&(pg=S3()),pg):(t=vt,t!==0||(t=window.event,t=t===void 0?16:D3(t.type)),t):1}function Ia(t,e,r,n){if(50<jm)throw jm=0,QS=null,Error(xe(185));vp(t,r,n),(!(st&2)||t!==Ar)&&(t===Ar&&(!(st&2)&&(Rv|=r),vr===4&&yo(t,Fr)),xn(t,n),r===1&&st===0&&!(e.mode&1)&&(ou=ar()+500,Ev&&ci()))}function xn(t,e){var r=t.callbackNode;lY(t,e);var n=T0(t,t===Ar?Fr:0);if(n===0)r!==null&&_D(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&_D(r),e===1)t.tag===0?iK(EO.bind(null,t)):X3(EO.bind(null,t)),nK(function(){!(st&6)&&ci()}),r=null;else{switch(A3(n)){case 1:r=RT;break;case 4:r=w3;break;case 16:r=I0;break;case 536870912:r=C3;break;default:r=I0}r=KB(r,VB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function VB(t,e){if(fg=-1,pg=0,st&6)throw Error(xe(327));var r=t.callbackNode;if(Lc()&&t.callbackNode!==r)return null;var n=T0(t,t===Ar?Fr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=G0(t,n);else{e=n;var s=st;st|=2;var o=zB();(Ar!==t||Fr!==e)&&(hs=null,ou=ar()+500,Xi(t,e));do try{TK();break}catch(l){UB(t,l)}while(!0);YT(),U0.current=o,st=s,dr!==null?e=0:(Ar=null,Fr=0,e=vr)}if(e!==0){if(e===2&&(s=AS(t),s!==0&&(n=s,e=eA(t,s))),e===1)throw r=ff,Xi(t,0),yo(t,n),xn(t,ar()),r;if(e===6)yo(t,n);else{if(s=t.current.alternate,!(n&30)&&!AK(s)&&(e=G0(t,n),e===2&&(o=AS(t),o!==0&&(n=o,e=eA(t,o))),e===1))throw r=ff,Xi(t,0),yo(t,n),xn(t,ar()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(xe(345));case 2:Ii(t,fn,hs);break;case 3:if(yo(t,n),(n&130023424)===n&&(e=cP+500-ar(),10<e)){if(T0(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){sn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$S(Ii.bind(null,t,fn,hs),e);break}Ii(t,fn,hs);break;case 4:if(yo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-Aa(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SK(n/1960))-n,10<n){t.timeoutHandle=$S(Ii.bind(null,t,fn,hs),n);break}Ii(t,fn,hs);break;case 5:Ii(t,fn,hs);break;default:throw Error(xe(329))}}}return xn(t,ar()),t.callbackNode===r?VB.bind(null,t):null}function eA(t,e){var r=vm;return t.current.memoizedState.isDehydrated&&(Xi(t,e).flags|=256),t=G0(t,e),t!==2&&(e=fn,fn=r,e!==null&&tA(e)),t}function tA(t){fn===null?fn=t:fn.push.apply(fn,t)}function AK(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Oa(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yo(t,e){for(e&=~lP,e&=~Rv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Aa(e),n=1<<r;t[r]=-1,e&=~n}}function EO(t){if(st&6)throw Error(xe(327));Lc();var e=T0(t,0);if(!(e&1))return xn(t,ar()),null;var r=G0(t,e);if(t.tag!==0&&r===2){var n=AS(t);n!==0&&(e=n,r=eA(t,n))}if(r===1)throw r=ff,Xi(t,0),yo(t,e),xn(t,ar()),r;if(r===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ii(t,fn,hs),xn(t,ar()),null}function uP(t,e){var r=st;st|=1;try{return t(e)}finally{st=r,st===0&&(ou=ar()+500,Ev&&ci())}}function vl(t){wo!==null&&wo.tag===0&&!(st&6)&&Lc();var e=st;st|=1;var r=aa.transition,n=vt;try{if(aa.transition=null,vt=1,t)return t()}finally{vt=n,aa.transition=r,st=e,!(st&6)&&ci()}}function dP(){In=vc.current,_t(vc)}function Xi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,rK(r)),dr!==null)for(r=dr.return;r!==null;){var n=r;switch(WT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&O0();break;case 3:au(),_t(gn),_t(Jr),eP();break;case 5:QT(n);break;case 4:au();break;case 13:_t(Wt);break;case 19:_t(Wt);break;case 10:KT(n.type._context);break;case 22:case 23:dP()}r=r.return}if(Ar=t,dr=t=Fo(t.current,null),Fr=In=e,vr=0,ff=null,lP=Rv=bl=0,fn=vm=null,Li!==null){for(e=0;e<Li.length;e++)if(r=Li[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Li=null}return t}function UB(t,e){do{var r=dr;try{if(YT(),ug.current=V0,q0){for(var n=Ht.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}q0=!1}if(xl=0,Cr=br=Ht=null,xm=!1,uf=0,iP.current=null,r===null||r.return===null){vr=1,ff=e,dr=null;break}e:{var o=t,i=r.return,l=r,c=e;if(e=Fr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=xO(i);if(p!==null){p.flags&=-257,bO(p,i,l,o,e),p.mode&1&&yO(o,u,e),e=p,c=u;var h=e.updateQueue;if(h===null){var y=new Set;y.add(c),e.updateQueue=y}else h.add(c);break e}else{if(!(e&1)){yO(o,u,e),mP();break e}c=Error(xe(426))}}else if(Vt&&l.mode&1){var b=xO(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),bO(b,i,l,o,e),GT(su(c,l));break e}}o=c=su(c,l),vr!==4&&(vr=2),vm===null?vm=[o]:vm.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=AB(o,c,e);dO(o,g);break e;case 1:l=c;var x=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ro===null||!Ro.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=IB(o,l,e);dO(o,w);break e}}o=o.return}while(o!==null)}GB(r)}catch(N){e=N,dr===r&&r!==null&&(dr=r=r.return);continue}break}while(!0)}function zB(){var t=U0.current;return U0.current=V0,t===null?V0:t}function mP(){(vr===0||vr===3||vr===2)&&(vr=4),Ar===null||!(bl&268435455)&&!(Rv&268435455)||yo(Ar,Fr)}function G0(t,e){var r=st;st|=2;var n=zB();(Ar!==t||Fr!==e)&&(hs=null,Xi(t,e));do try{IK();break}catch(s){UB(t,s)}while(!0);if(YT(),st=r,U0.current=n,dr!==null)throw Error(xe(261));return Ar=null,Fr=0,vr}function IK(){for(;dr!==null;)WB(dr)}function TK(){for(;dr!==null&&!QH();)WB(dr)}function WB(t){var e=YB(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?GB(t):dr=e,iP.current=null}function GB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=jK(r,e),r!==null){r.flags&=32767,dr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vr=6,dr=null;return}}else if(r=vK(r,e,In),r!==null){dr=r;return}if(e=e.sibling,e!==null){dr=e;return}dr=e=t}while(e!==null);vr===0&&(vr=5)}function Ii(t,e,r){var n=vt,s=aa.transition;try{aa.transition=null,vt=1,PK(t,e,r,n)}finally{aa.transition=s,vt=n}return null}function PK(t,e,r,n){do Lc();while(wo!==null);if(st&6)throw Error(xe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(cY(t,o),t===Ar&&(dr=Ar=null,Fr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xh||(xh=!0,KB(I0,function(){return Lc(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=aa.transition,aa.transition=null;var i=vt;vt=1;var l=st;st|=4,iP.current=null,wK(t,r),BB(r,t),KY(DS),P0=!!ES,DS=ES=null,t.current=r,CK(r),eY(),st=l,vt=i,aa.transition=o}else t.current=r;if(xh&&(xh=!1,wo=t,W0=s),o=t.pendingLanes,o===0&&(Ro=null),nY(r.stateNode),xn(t,ar()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(z0)throw z0=!1,t=ZS,ZS=null,t;return W0&1&&t.tag!==0&&Lc(),o=t.pendingLanes,o&1?t===QS?jm++:(jm=0,QS=t):jm=0,ci(),null}function Lc(){if(wo!==null){var t=A3(W0),e=aa.transition,r=vt;try{if(aa.transition=null,vt=16>t?16:t,wo===null)var n=!1;else{if(t=wo,wo=null,W0=0,st&6)throw Error(xe(331));var s=st;for(st|=4,Ie=t.current;Ie!==null;){var o=Ie,i=o.child;if(Ie.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:bm(8,d,o)}var m=d.child;if(m!==null)m.return=d,Ie=m;else for(;Ie!==null;){d=Ie;var f=d.sibling,p=d.return;if(FB(d),d===u){Ie=null;break}if(f!==null){f.return=p,Ie=f;break}Ie=p}}}var h=o.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Ie=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Ie=i;else e:for(;Ie!==null;){if(o=Ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bm(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Ie=g;break e}Ie=o.return}}var x=t.current;for(Ie=x;Ie!==null;){i=Ie;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,Ie=v;else e:for(i=x;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$v(9,l)}}catch(N){Zt(l,l.return,N)}if(l===i){Ie=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Ie=w;break e}Ie=l.return}}if(st=s,ci(),Ja&&typeof Ja.onPostCommitFiberRoot=="function")try{Ja.onPostCommitFiberRoot(Av,t)}catch{}n=!0}return n}finally{vt=r,aa.transition=e}}return!1}function DO(t,e,r){e=su(r,e),e=AB(t,e,1),t=$o(t,e,1),e=sn(),t!==null&&(vp(t,1,e),xn(t,e))}function Zt(t,e,r){if(t.tag===3)DO(t,t,r);else for(;e!==null;){if(e.tag===3){DO(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ro===null||!Ro.has(n))){t=su(r,t),t=IB(e,t,1),e=$o(e,t,1),t=sn(),e!==null&&(vp(e,1,t),xn(e,t));break}}e=e.return}}function kK(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&r,Ar===t&&(Fr&r)===r&&(vr===4||vr===3&&(Fr&130023424)===Fr&&500>ar()-cP?Xi(t,0):lP|=r),xn(t,e)}function HB(t,e){e===0&&(t.mode&1?(e=lh,lh<<=1,!(lh&130023424)&&(lh=4194304)):e=1);var r=sn();t=Fs(t,e),t!==null&&(vp(t,e,r),xn(t,r))}function EK(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),HB(t,r)}function DK(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(xe(314))}n!==null&&n.delete(e),HB(t,r)}var YB;YB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)pn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return pn=!1,bK(t,e,r);pn=!!(t.flags&131072)}else pn=!1,Vt&&e.flags&1048576&&Z3(e,L0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;mg(t,e),t=e.pendingProps;var s=tu(e,Jr.current);Rc(e,r),s=rP(null,e,n,t,s,r);var o=nP();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(n)?(o=!0,$0(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,XT(e),s.updater=Ov,e.stateNode=s,s._reactInternals=e,qS(e,n,t,r),e=zS(null,e,n,!0,o,r)):(e.tag=0,Vt&&o&&zT(e),Xr(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(mg(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=$K(n),t=xa(n,t),s){case 0:e=US(null,e,n,t,r);break e;case 1:e=NO(null,e,n,t,r);break e;case 11:e=vO(null,e,n,t,r);break e;case 14:e=jO(null,e,n,xa(n.type,t),r);break e}throw Error(xe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xa(n,s),US(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xa(n,s),NO(t,e,n,s,r);case 3:e:{if(EB(e),t===null)throw Error(xe(387));n=e.pendingProps,o=e.memoizedState,s=o.element,aB(t,e),_0(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=su(Error(xe(423)),e),e=wO(t,e,n,r,s);break e}else if(n!==s){s=su(Error(xe(424)),e),e=wO(t,e,n,r,s);break e}else for(kn=Oo(e.stateNode.containerInfo.firstChild),On=e,Vt=!0,Na=null,r=rB(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ru(),n===s){e=Ms(t,e,r);break e}Xr(t,e,n,r)}e=e.child}return e;case 5:return sB(e),t===null&&MS(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,OS(n,s)?i=null:o!==null&&OS(n,o)&&(e.flags|=32),kB(t,e),Xr(t,e,i,r),e.child;case 6:return t===null&&MS(e),null;case 13:return DB(t,e,r);case 4:return ZT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=nu(e,null,n,r):Xr(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xa(n,s),vO(t,e,n,s,r);case 7:return Xr(t,e,e.pendingProps,r),e.child;case 8:return Xr(t,e,e.pendingProps.children,r),e.child;case 12:return Xr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Dt(F0,n._currentValue),n._currentValue=i,o!==null)if(Oa(o.value,i)){if(o.children===s.children&&!gn.current){e=Ms(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=As(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),_S(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(xe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),_S(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Xr(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Rc(e,r),s=la(s),n=n(s),e.flags|=1,Xr(t,e,n,r),e.child;case 14:return n=e.type,s=xa(n,e.pendingProps),s=xa(n.type,s),jO(t,e,n,s,r);case 15:return TB(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xa(n,s),mg(t,e),e.tag=1,yn(n)?(t=!0,$0(e)):t=!1,Rc(e,r),SB(e,n,s),qS(e,n,s,r),zS(null,e,n,!0,t,r);case 19:return OB(t,e,r);case 22:return PB(t,e,r)}throw Error(xe(156,e.tag))};function KB(t,e){return N3(t,e)}function OK(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(t,e,r,n){return new OK(t,e,r,n)}function fP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $K(t){if(typeof t=="function")return fP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===DT)return 11;if(t===OT)return 14}return 2}function Fo(t,e){var r=t.alternate;return r===null?(r=ta(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function hg(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")fP(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case uc:return Zi(r.children,s,o,e);case ET:i=8,s|=8;break;case dS:return t=ta(12,r,e,s|2),t.elementType=dS,t.lanes=o,t;case mS:return t=ta(13,r,e,s),t.elementType=mS,t.lanes=o,t;case fS:return t=ta(19,r,e,s),t.elementType=fS,t.lanes=o,t;case s3:return Lv(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n3:i=10;break e;case a3:i=9;break e;case DT:i=11;break e;case OT:i=14;break e;case uo:i=16,n=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=ta(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Zi(t,e,r,n){return t=ta(7,t,n,e),t.lanes=r,t}function Lv(t,e,r,n){return t=ta(22,t,n,e),t.elementType=s3,t.lanes=r,t.stateNode={isHidden:!1},t}function Ww(t,e,r){return t=ta(6,t,null,e),t.lanes=r,t}function Gw(t,e,r){return e=ta(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RK(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aw(0),this.expirationTimes=Aw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pP(t,e,r,n,s,o,i,l,c){return t=new RK(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ta(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},XT(o),t}function LK(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function JB(t){if(!t)return Qo;t=t._reactInternals;e:{if(Rl(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var r=t.type;if(yn(r))return J3(t,r,e)}return e}function XB(t,e,r,n,s,o,i,l,c){return t=pP(r,n,!0,t,s,o,i,l,c),t.context=JB(null),r=t.current,n=sn(),s=Lo(r),o=As(n,s),o.callback=e??null,$o(r,o,s),t.current.lanes=s,vp(t,s,n),xn(t,n),t}function Fv(t,e,r,n){var s=e.current,o=sn(),i=Lo(s);return r=JB(r),e.context===null?e.context=r:e.pendingContext=r,e=As(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$o(s,e,i),t!==null&&(Ia(t,s,i,o),cg(t,s,i)),i}function H0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function hP(t,e){OO(t,e),(t=t.alternate)&&OO(t,e)}function FK(){return null}var ZB=typeof reportError=="function"?reportError:function(t){console.error(t)};function gP(t){this._internalRoot=t}Mv.prototype.render=gP.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));Fv(t,e,null,null)};Mv.prototype.unmount=gP.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vl(function(){Fv(null,t,null,null)}),e[Ls]=null}};function Mv(t){this._internalRoot=t}Mv.prototype.unstable_scheduleHydration=function(t){if(t){var e=P3();t={blockedOn:null,target:t,priority:e};for(var r=0;r<go.length&&e!==0&&e<go[r].priority;r++);go.splice(r,0,t),r===0&&E3(t)}};function yP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _v(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $O(){}function MK(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=H0(i);o.call(u)}}var i=XB(e,n,t,0,null,!1,!1,"",$O);return t._reactRootContainer=i,t[Ls]=i.current,af(t.nodeType===8?t.parentNode:t),vl(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=H0(c);l.call(u)}}var c=pP(t,0,!1,null,null,!1,!1,"",$O);return t._reactRootContainer=c,t[Ls]=c.current,af(t.nodeType===8?t.parentNode:t),vl(function(){Fv(e,c,r,n)}),c}function Bv(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=H0(i);l.call(c)}}Fv(e,i,t,s)}else i=MK(r,e,t,s,n);return H0(i)}I3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=am(e.pendingLanes);r!==0&&(LT(e,r|1),xn(e,ar()),!(st&6)&&(ou=ar()+500,ci()))}break;case 13:vl(function(){var n=Fs(t,1);if(n!==null){var s=sn();Ia(n,t,1,s)}}),hP(t,1)}};FT=function(t){if(t.tag===13){var e=Fs(t,134217728);if(e!==null){var r=sn();Ia(e,t,134217728,r)}hP(t,134217728)}};T3=function(t){if(t.tag===13){var e=Lo(t),r=Fs(t,e);if(r!==null){var n=sn();Ia(r,t,e,n)}hP(t,e)}};P3=function(){return vt};k3=function(t,e){var r=vt;try{return vt=t,e()}finally{vt=r}};wS=function(t,e,r){switch(e){case"input":if(gS(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=kv(n);if(!s)throw Error(xe(90));i3(n),gS(n,s)}}}break;case"textarea":c3(t,r);break;case"select":e=r.value,e!=null&&Ec(t,!!r.multiple,e,!1)}};g3=uP;y3=vl;var _K={usingClientEntryPoint:!1,Events:[Np,pc,kv,p3,h3,uP]},Od={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BK={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=v3(t),t===null?null:t.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||FK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{Av=bh.inject(BK),Ja=bh}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_K;Vn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yP(e))throw Error(xe(200));return LK(t,e,null,r)};Vn.createRoot=function(t,e){if(!yP(t))throw Error(xe(299));var r=!1,n="",s=ZB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pP(t,1,!1,null,null,r,!1,n,s),t[Ls]=e.current,af(t.nodeType===8?t.parentNode:t),new gP(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=v3(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return vl(t)};Vn.hydrate=function(t,e,r){if(!_v(e))throw Error(xe(200));return Bv(null,t,e,!0,r)};Vn.hydrateRoot=function(t,e,r){if(!yP(t))throw Error(xe(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=ZB;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=XB(e,null,t,1,r??null,s,!1,o,i),t[Ls]=e.current,af(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Mv(e)};Vn.render=function(t,e,r){if(!_v(e))throw Error(xe(200));return Bv(null,t,e,!1,r)};Vn.unmountComponentAtNode=function(t){if(!_v(t))throw Error(xe(40));return t._reactRootContainer?(vl(function(){Bv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ls]=null})}),!0):!1};Vn.unstable_batchedUpdates=uP;Vn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!_v(r))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return Bv(t,e,r,!1,n)};Vn.version="18.3.1-next-f1338f8080-20240426";function QB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QB)}catch(t){console.error(t)}}QB(),Q4.exports=Vn;var qv=Q4.exports,RO=qv;cS.createRoot=RO.createRoot,cS.hydrateRoot=RO.hydrateRoot;var e6={exports:{}},t6={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=j;function qK(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var VK=typeof Object.is=="function"?Object.is:qK,UK=Cp.useSyncExternalStore,zK=Cp.useRef,WK=Cp.useEffect,GK=Cp.useMemo,HK=Cp.useDebugValue;t6.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var o=zK(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=GK(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),s!==void 0&&i.hasValue){var h=i.value;if(s(h,p))return m=h}return m=p}if(h=m,VK(d,p))return h;var y=n(p);return s!==void 0&&s(h,y)?(d=p,h):(d=p,m=y)}var u=!1,d,m,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,n,s]);var l=UK(t,o[0],o[1]);return WK(function(){i.hasValue=!0,i.value=l},[l]),HK(l),l};e6.exports=t6;var YK=e6.exports;function KK(t){t()}function JK(){let t=null,e=null;return{clear(){t=null,e=null},notify(){KK(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=e={callback:r,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!n||t===null||(n=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var LO={notify(){},get:()=>[]};function XK(t,e){let r,n=LO,s=0,o=!1;function i(y){d();const b=n.subscribe(y);let g=!1;return()=>{g||(g=!0,b(),m())}}function l(){n.notify()}function c(){h.onStateChange&&h.onStateChange()}function u(){return o}function d(){s++,r||(r=t.subscribe(c),n=JK())}function m(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=LO)}function f(){o||(o=!0,d())}function p(){o&&(o=!1,m())}const h={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return h}var ZK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QK=ZK(),eJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tJ=eJ(),rJ=()=>QK||tJ?j.useLayoutEffect:j.useEffect,nJ=rJ(),Hw=Symbol.for("react-redux-context"),Yw=typeof globalThis<"u"?globalThis:{};function aJ(){if(!j.createContext)return{};const t=Yw[Hw]??(Yw[Hw]=new Map);let e=t.get(j.createContext);return e||(e=j.createContext(null),t.set(j.createContext,e)),e}var ei=aJ();function sJ(t){const{children:e,context:r,serverState:n,store:s}=t,o=j.useMemo(()=>{const c=XK(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),i=j.useMemo(()=>s.getState(),[s]);nJ(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,i]);const l=r||ei;return j.createElement(l.Provider,{value:o},e)}var oJ=sJ;function xP(t=ei){return function(){return j.useContext(t)}}var r6=xP();function n6(t=ei){const e=t===ei?r6:xP(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var iJ=n6();function lJ(t=ei){const e=t===ei?iJ:n6(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var he=lJ(),cJ=(t,e)=>t===e;function uJ(t=ei){const e=t===ei?r6:xP(t),r=(n,s={})=>{const{equalityFn:o=cJ}=typeof s=="function"?{equalityFn:s}:s,i=e(),{store:l,subscription:c,getServerState:u}=i;j.useRef(!0);const d=j.useCallback({[n.name](f){return n(f)}}[n.name],[n]),m=YK.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,o);return j.useDebugValue(m),m};return Object.assign(r,{withTypes:()=>r}),r}var ee=uJ();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pf.apply(this,arguments)}var Co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Co||(Co={}));const FO="popstate";function dJ(t){t===void 0&&(t={});function e(n,s){let{pathname:o,search:i,hash:l}=n.location;return rA("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Y0(s)}return fJ(e,r,null,t)}function or(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function a6(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mJ(){return Math.random().toString(36).substr(2,8)}function MO(t,e){return{usr:t.state,key:t.key,idx:e}}function rA(t,e,r,n){return r===void 0&&(r=null),pf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vu(e):e,{state:r,key:e&&e.key||n||mJ()})}function Y0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function fJ(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=Co.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(pf({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function m(){l=Co.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:g})}function f(b,g){l=Co.Push;let x=rA(y.location,b,g);u=d()+1;let v=MO(x,u),w=y.createHref(x);try{i.pushState(v,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(w)}o&&c&&c({action:l,location:y.location,delta:1})}function p(b,g){l=Co.Replace;let x=rA(y.location,b,g);u=d();let v=MO(x,u),w=y.createHref(x);i.replaceState(v,"",w),o&&c&&c({action:l,location:y.location,delta:0})}function h(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:Y0(b);return x=x.replace(/ $/,"%20"),or(g,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,g)}let y={get action(){return l},get location(){return t(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(FO,m),c=b,()=>{s.removeEventListener(FO,m),c=null}},createHref(b){return e(s,b)},createURL:h,encodeLocation(b){let g=h(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return i.go(b)}};return y}var _O;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_O||(_O={}));function pJ(t,e,r){return r===void 0&&(r="/"),hJ(t,e,r)}function hJ(t,e,r,n){let s=typeof e=="string"?Vu(e):e,o=bP(s.pathname||"/",r);if(o==null)return null;let i=s6(t);gJ(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=TJ(o);l=SJ(i[c],u)}return l}function s6(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(or(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Mo([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(or(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),s6(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:wJ(u,o.index),routesMeta:d})};return t.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of o6(o.path))s(o,i,c)}),e}function o6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=o6(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function gJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:CJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const yJ=/^:[\w-]+$/,xJ=3,bJ=2,vJ=1,jJ=10,NJ=-2,BO=t=>t==="*";function wJ(t,e){let r=t.split("/"),n=r.length;return r.some(BO)&&(n+=NJ),e&&(n+=bJ),r.filter(s=>!BO(s)).reduce((s,o)=>s+(yJ.test(o)?xJ:o===""?vJ:jJ),n)}function CJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function SJ(t,e,r){let{routesMeta:n}=t,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?e:e.slice(o.length)||"/",m=AJ({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m)return null;Object.assign(s,m.params),i.push({params:s,pathname:Mo([o,m.pathname]),pathnameBase:DJ(Mo([o,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(o=Mo([o,m.pathnameBase]))}return i}function AJ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=IJ(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=l[m]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const h=l[m];return p&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function IJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),a6(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function TJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return a6(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bP(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function PJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Vu(t):t;return{pathname:r?r.startsWith("/")?r:kJ(r,e):e,search:OJ(n),hash:$J(s)}}function kJ(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Kw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vP(t,e){let r=EJ(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function jP(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Vu(t):(s=pf({},t),or(!s.pathname||!s.pathname.includes("?"),Kw("?","pathname","search",s)),or(!s.pathname||!s.pathname.includes("#"),Kw("#","pathname","hash",s)),or(!s.search||!s.search.includes("#"),Kw("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let m=e.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?e[m]:"/"}let c=PJ(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Mo=t=>t.join("/").replace(/\/\/+/g,"/"),DJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$J=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const i6=["post","put","patch","delete"];new Set(i6);const LJ=["get",...i6];new Set(LJ);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}const NP=j.createContext(null),FJ=j.createContext(null),ui=j.createContext(null),Vv=j.createContext(null),Xs=j.createContext({outlet:null,matches:[],isDataRoute:!1}),l6=j.createContext(null);function MJ(t,e){let{relative:r}=e===void 0?{}:e;Uu()||or(!1);let{basename:n,navigator:s}=j.useContext(ui),{hash:o,pathname:i,search:l}=u6(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Mo([n,i])),s.createHref({pathname:c,search:l,hash:o})}function Uu(){return j.useContext(Vv)!=null}function Zs(){return Uu()||or(!1),j.useContext(Vv).location}function c6(t){j.useContext(ui).static||j.useLayoutEffect(t)}function Ll(){let{isDataRoute:t}=j.useContext(Xs);return t?QJ():_J()}function _J(){Uu()||or(!1);let t=j.useContext(NP),{basename:e,future:r,navigator:n}=j.useContext(ui),{matches:s}=j.useContext(Xs),{pathname:o}=Zs(),i=JSON.stringify(vP(s,r.v7_relativeSplatPath)),l=j.useRef(!1);return c6(()=>{l.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=jP(u,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Mo([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,i,o,t])}const BJ=j.createContext(null);function qJ(t){let e=j.useContext(Xs).outlet;return e&&j.createElement(BJ.Provider,{value:t},e)}function u6(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(ui),{matches:s}=j.useContext(Xs),{pathname:o}=Zs(),i=JSON.stringify(vP(s,n.v7_relativeSplatPath));return j.useMemo(()=>jP(t,JSON.parse(i),o,r==="path"),[t,i,o,r])}function VJ(t,e){return UJ(t,e)}function UJ(t,e,r,n){Uu()||or(!1);let{navigator:s}=j.useContext(ui),{matches:o}=j.useContext(Xs),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Zs(),d;if(e){var m;let b=typeof e=="string"?Vu(e):e;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||or(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let h=pJ(t,{pathname:p}),y=YJ(h&&h.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Mo([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Mo([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return e&&y?j.createElement(Vv.Provider,{value:{location:hf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Co.Pop}},y):y}function zJ(){let t=ZJ(),e=RJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:s},r):null,null)}const WJ=j.createElement(zJ,null);class GJ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(Xs.Provider,{value:this.props.routeContext},j.createElement(l6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HJ(t){let{routeContext:e,match:r,children:n}=t,s=j.useContext(NP);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Xs.Provider,{value:e},n)}function YJ(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||or(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:p}=r,h=m.route.loader&&f[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||h){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,m,f)=>{let p,h=!1,y=null,b=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||WJ,c&&(u<0&&f===0?(eX("route-fallback"),h=!0,b=null):u===f&&(h=!0,b=m.route.hydrateFallbackElement||null)));let g=e.concat(i.slice(0,f+1)),x=()=>{let v;return p?v=y:h?v=b:m.route.Component?v=j.createElement(m.route.Component,null):m.route.element?v=m.route.element:v=d,j.createElement(HJ,{match:m,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:v})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?j.createElement(GJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):x()},null)}var d6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(d6||{}),m6=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(m6||{});function KJ(t){let e=j.useContext(NP);return e||or(!1),e}function JJ(t){let e=j.useContext(FJ);return e||or(!1),e}function XJ(t){let e=j.useContext(Xs);return e||or(!1),e}function f6(t){let e=XJ(),r=e.matches[e.matches.length-1];return r.route.id||or(!1),r.route.id}function ZJ(){var t;let e=j.useContext(l6),r=JJ(),n=f6();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function QJ(){let{router:t}=KJ(d6.UseNavigateStable),e=f6(m6.UseNavigateStable),r=j.useRef(!1);return c6(()=>{r.current=!0}),j.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,hf({fromRouteId:e},o)))},[t,e])}const qO={};function eX(t,e,r){qO[t]||(qO[t]=!0)}function tX(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $d(t){let{to:e,replace:r,state:n,relative:s}=t;Uu()||or(!1);let{future:o,static:i}=j.useContext(ui),{matches:l}=j.useContext(Xs),{pathname:c}=Zs(),u=Ll(),d=jP(e,vP(l,o.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:s}),[u,m,s,r,n]),null}function p6(t){return qJ(t.context)}function ye(t){or(!1)}function rX(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Co.Pop,navigator:o,static:i=!1,future:l}=t;Uu()&&or(!1);let c=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:o,static:i,future:hf({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Vu(n));let{pathname:d="/",search:m="",hash:f="",state:p=null,key:h="default"}=n,y=j.useMemo(()=>{let b=bP(d,c);return b==null?null:{location:{pathname:b,search:m,hash:f,state:p,key:h},navigationType:s}},[c,d,m,f,p,h,s]);return y==null?null:j.createElement(ui.Provider,{value:u},j.createElement(Vv.Provider,{children:r,value:y}))}function nX(t){let{children:e,location:r}=t;return VJ(nA(e),r)}new Promise(()=>{});function nA(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,s)=>{if(!j.isValidElement(n))return;let o=[...e,s];if(n.type===j.Fragment){r.push.apply(r,nA(n.props.children,o));return}n.type!==ye&&or(!1),!n.props.index||!n.props.children||or(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=nA(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aA.apply(this,arguments)}function aX(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function sX(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oX(t,e){return t.button===0&&(!e||e==="_self")&&!sX(t)}const iX=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lX="6";try{window.__reactRouterVersion=lX}catch{}const cX="startTransition",VO=Xo[cX];function uX(t){let{basename:e,children:r,future:n,window:s}=t,o=j.useRef();o.current==null&&(o.current=dJ({window:s,v5Compat:!0}));let i=o.current,[l,c]=j.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=j.useCallback(m=>{u&&VO?VO(()=>c(m)):c(m)},[c,u]);return j.useLayoutEffect(()=>i.listen(d),[i,d]),j.useEffect(()=>tX(n),[n]),j.createElement(rX,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const dX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nm=j.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=e,f=aX(e,iX),{basename:p}=j.useContext(ui),h,y=!1;if(typeof u=="string"&&mX.test(u)&&(h=u,dX))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),N=bP(w.pathname,p);w.origin===v.origin&&N!=null?u=N+w.search+w.hash:y=!0}catch{}let b=MJ(u,{relative:s}),g=fX(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:m});function x(v){n&&n(v),v.defaultPrevented||g(v)}return j.createElement("a",aA({},f,{href:h||b,onClick:y||o?n:x,ref:r,target:c}))});var UO;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(UO||(UO={}));var zO;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zO||(zO={}));function fX(t,e){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=e===void 0?{}:e,c=Ll(),u=Zs(),d=u6(t,{relative:i});return j.useCallback(m=>{if(oX(m,r)){m.preventDefault();let f=n!==void 0?n:Y0(u)===Y0(d);c(t,{replace:f,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,s,r,t,o,i,l])}function kr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pX=typeof Symbol=="function"&&Symbol.observable||"@@observable",WO=pX,Jw=()=>Math.random().toString(36).substring(7).split("").join("."),hX={INIT:`@@redux/INIT${Jw()}`,REPLACE:`@@redux/REPLACE${Jw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jw()}`},K0=hX;function wP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function h6(t,e,r){if(typeof t!="function")throw new Error(kr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(kr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(kr(1));return r(h6)(t,e)}let n=t,s=e,o=new Map,i=o,l=0,c=!1;function u(){i===o&&(i=new Map,o.forEach((b,g)=>{i.set(g,b)}))}function d(){if(c)throw new Error(kr(3));return s}function m(b){if(typeof b!="function")throw new Error(kr(4));if(c)throw new Error(kr(5));let g=!0;u();const x=l++;return i.set(x,b),function(){if(g){if(c)throw new Error(kr(6));g=!1,u(),i.delete(x),o=null}}}function f(b){if(!wP(b))throw new Error(kr(7));if(typeof b.type>"u")throw new Error(kr(8));if(typeof b.type!="string")throw new Error(kr(17));if(c)throw new Error(kr(9));try{c=!0,s=n(s,b)}finally{c=!1}return(o=i).forEach(x=>{x()}),b}function p(b){if(typeof b!="function")throw new Error(kr(10));n=b,f({type:K0.REPLACE})}function h(){const b=m;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(kr(11));function x(){const w=g;w.next&&w.next(d())}return x(),{unsubscribe:b(x)}},[WO](){return this}}}return f({type:K0.INIT}),{dispatch:f,subscribe:m,getState:d,replaceReducer:p,[WO]:h}}function gX(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:K0.INIT})>"u")throw new Error(kr(12));if(typeof r(void 0,{type:K0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kr(13))})}function yX(t){const e=Object.keys(t),r={};for(let o=0;o<e.length;o++){const i=e[o];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let s;try{gX(r)}catch(o){s=o}return function(i={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<n.length;d++){const m=n[d],f=r[m],p=i[m],h=f(p,l);if(typeof h>"u")throw l&&l.type,new Error(kr(14));u[m]=h,c=c||h!==p}return c=c||n.length!==Object.keys(i).length,c?u:i}}function J0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function xX(...t){return e=>(r,n)=>{const s=e(r,n);let o=()=>{throw new Error(kr(15))};const i={getState:s.getState,dispatch:(c,...u)=>o(c,...u)},l=t.map(c=>c(i));return o=J0(...l)(s.dispatch),{...s,dispatch:o}}}function bX(t){return wP(t)&&"type"in t&&typeof t.type=="string"}var g6=Symbol.for("immer-nothing"),GO=Symbol.for("immer-draftable"),Fn=Symbol.for("immer-state");function wa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var iu=Object.getPrototypeOf;function jl(t){return!!t&&!!t[Fn]}function _s(t){var e;return t?y6(t)||Array.isArray(t)||!!t[GO]||!!((e=t.constructor)!=null&&e[GO])||Sp(t)||zv(t):!1}var vX=Object.prototype.constructor.toString();function y6(t){if(!t||typeof t!="object")return!1;const e=iu(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===vX}function X0(t,e){Uv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Uv(t){const e=t[Fn];return e?e.type_:Array.isArray(t)?1:Sp(t)?2:zv(t)?3:0}function sA(t,e){return Uv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function x6(t,e,r){const n=Uv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function jX(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Sp(t){return t instanceof Map}function zv(t){return t instanceof Set}function Ti(t){return t.copy_||t.base_}function oA(t,e){if(Sp(t))return new Map(t);if(zv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=y6(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Fn];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const i=s[o],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(iu(t),n)}else{const n=iu(t);if(n!==null&&r)return{...t};const s=Object.create(n);return Object.assign(s,t)}}function CP(t,e=!1){return Wv(t)||jl(t)||!_s(t)||(Uv(t)>1&&Object.defineProperties(t,{set:{value:vh},add:{value:vh},clear:{value:vh},delete:{value:vh}}),Object.freeze(t),e&&Object.values(t).forEach(r=>CP(r,!0))),t}function vh(){wa(2)}function Wv(t){return Object.isFrozen(t)}var NX={};function Nl(t){const e=NX[t];return e||wa(0,t),e}var gf;function b6(){return gf}function wX(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function HO(t,e){e&&(Nl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function iA(t){lA(t),t.drafts_.forEach(CX),t.drafts_=null}function lA(t){t===gf&&(gf=t.parent_)}function YO(t){return gf=wX(gf,t)}function CX(t){const e=t[Fn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function KO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Fn].modified_&&(iA(e),wa(4)),_s(t)&&(t=Z0(e,t),e.parent_||Q0(e,t)),e.patches_&&Nl("Patches").generateReplacementPatches_(r[Fn].base_,t,e.patches_,e.inversePatches_)):t=Z0(e,r,[]),iA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==g6?t:void 0}function Z0(t,e,r){if(Wv(e))return e;const n=e[Fn];if(!n)return X0(e,(s,o)=>JO(t,n,e,s,o,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Q0(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,i=!1;n.type_===3&&(o=new Set(s),s.clear(),i=!0),X0(o,(l,c)=>JO(t,n,s,l,c,r,i)),Q0(t,s,!1),r&&t.patches_&&Nl("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function JO(t,e,r,n,s,o,i){if(jl(s)){const l=o&&e&&e.type_!==3&&!sA(e.assigned_,n)?o.concat(n):void 0,c=Z0(t,s,l);if(x6(r,n,c),jl(c))t.canAutoFreeze_=!1;else return}else i&&r.add(s);if(_s(s)&&!Wv(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Z0(t,s),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Sp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Q0(t,s)}}function Q0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CP(e,r)}function SX(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:b6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=SP;r&&(s=[n],o=yf);const{revoke:i,proxy:l}=Proxy.revocable(s,o);return n.draft_=l,n.revoke_=i,l}var SP={get(t,e){if(e===Fn)return t;const r=Ti(t);if(!sA(r,e))return AX(t,r,e);const n=r[e];return t.finalized_||!_s(n)?n:n===Xw(t.base_,e)?(Zw(t),t.copy_[e]=uA(n,t)):n},has(t,e){return e in Ti(t)},ownKeys(t){return Reflect.ownKeys(Ti(t))},set(t,e,r){const n=v6(Ti(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const s=Xw(Ti(t),e),o=s==null?void 0:s[Fn];if(o&&o.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(jX(r,s)&&(r!==void 0||sA(t.base_,e)))return!0;Zw(t),cA(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Xw(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Zw(t),cA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Ti(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){wa(11)},getPrototypeOf(t){return iu(t.base_)},setPrototypeOf(){wa(12)}},yf={};X0(SP,(t,e)=>{yf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});yf.deleteProperty=function(t,e){return yf.set.call(this,t,e,void 0)};yf.set=function(t,e,r){return SP.set.call(this,t[0],e,r,t[0])};function Xw(t,e){const r=t[Fn];return(r?Ti(r):t)[e]}function AX(t,e,r){var s;const n=v6(e,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(t.draft_):void 0}function v6(t,e){if(!(e in t))return;let r=iu(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=iu(r)}}function cA(t){t.modified_||(t.modified_=!0,t.parent_&&cA(t.parent_))}function Zw(t){t.copy_||(t.copy_=oA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var IX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const o=r;r=e;const i=this;return function(c=o,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&wa(6),n!==void 0&&typeof n!="function"&&wa(7);let s;if(_s(e)){const o=YO(this),i=uA(e,void 0);let l=!0;try{s=r(i),l=!1}finally{l?iA(o):lA(o)}return HO(o,n),KO(s,o)}else if(!e||typeof e!="object"){if(s=r(e),s===void 0&&(s=e),s===g6&&(s=void 0),this.autoFreeze_&&CP(s,!0),n){const o=[],i=[];Nl("Patches").generateReplacementPatches_(e,s,o,i),n(o,i)}return s}else wa(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,s;return[this.produce(e,r,(i,l)=>{n=i,s=l}),n,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){_s(t)||wa(8),jl(t)&&(t=TX(t));const e=YO(this),r=uA(t,void 0);return r[Fn].isManual_=!0,lA(e),r}finishDraft(t,e){const r=t&&t[Fn];(!r||!r.isManual_)&&wa(9);const{scope_:n}=r;return HO(n,e),KO(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const s=e[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(e=e.slice(r+1));const n=Nl("Patches").applyPatches_;return jl(t)?n(t,e):this.produce(t,s=>n(s,e))}};function uA(t,e){const r=Sp(t)?Nl("MapSet").proxyMap_(t,e):zv(t)?Nl("MapSet").proxySet_(t,e):SX(t,e);return(e?e.scope_:b6()).drafts_.push(r),r}function TX(t){return jl(t)||wa(10,t),j6(t)}function j6(t){if(!_s(t)||Wv(t))return t;const e=t[Fn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=oA(t,e.scope_.immer_.useStrictShallowCopy_)}else r=oA(t,!0);return X0(r,(n,s)=>{x6(r,n,j6(s))}),e&&(e.finalized_=!1),r}var PX=new IX,N6=PX.produce;function w6(t){return({dispatch:r,getState:n})=>s=>o=>typeof o=="function"?o(r,n,t):s(o)}var kX=w6(),EX=w6,DX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?J0:J0.apply(null,arguments)},OX=t=>t&&typeof t.match=="function";function wm(t,e){function r(...n){if(e){let s=e(...n);if(!s)throw new Error(Is(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>bX(n)&&n.type===t,r}var C6=class om extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,om.prototype)}static get[Symbol.species](){return om}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new om(...e[0].concat(this)):new om(...e.concat(this))}};function XO(t){return _s(t)?N6(t,()=>{}):t}function jh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function $X(t){return typeof t=="boolean"}var RX=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=e??{};let i=new C6;return r&&($X(r)?i.push(kX):i.push(EX(r.extraArgument))),i},LX="RTK_autoBatch",ZO=t=>e=>{setTimeout(e,t)},FX=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let s=!0,o=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ZO(10):t.type==="callback"?t.queueNotification:ZO(t.timeout),u=()=>{i=!1,o&&(o=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const m=()=>s&&d(),f=n.subscribe(m);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var m;try{return s=!((m=d==null?void 0:d.meta)!=null&&m[LX]),o=!s,o&&(i||(i=!0,c(u))),n.dispatch(d)}finally{s=!0}}})},MX=t=>function(r){const{autoBatch:n=!0}=r??{};let s=new C6(t);return n&&s.push(FX(typeof n=="object"?n:void 0)),s};function _X(t){const e=RX(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:o=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(wP(r))l=yX(r);else throw new Error(Is(1));let c;typeof n=="function"?c=n(e):c=e();let u=J0;s&&(u=DX({trace:!1,...typeof s=="object"&&s}));const d=xX(...c),m=MX(d);let f=typeof i=="function"?i(m):m();const p=u(...f);return h6(l,o,p)}function S6(t){const e={},r=[];let n;const s={addCase(o,i){const l=typeof o=="string"?o:o.type;if(!l)throw new Error(Is(28));if(l in e)throw new Error(Is(29));return e[l]=i,s},addAsyncThunk(o,i){return i.pending&&(e[o.pending.type]=i.pending),i.rejected&&(e[o.rejected.type]=i.rejected),i.fulfilled&&(e[o.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:o.settled,reducer:i.settled}),s},addMatcher(o,i){return r.push({matcher:o,reducer:i}),s},addDefaultCase(o){return n=o,s}};return t(s),[e,r,n]}function BX(t){return typeof t=="function"}function qX(t,e){let[r,n,s]=S6(e),o;if(BX(t))o=()=>XO(t());else{const l=XO(t);o=()=>l}function i(l=o(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,m)=>{if(m)if(jl(d)){const p=m(d,c);return p===void 0?d:p}else{if(_s(d))return N6(d,f=>m(f,c));{const f=m(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return i.getInitialState=o,i}var VX=(t,e)=>OX(t)?t.match(e):t(e);function UX(...t){return e=>t.some(r=>VX(r,e))}var zX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WX=(t=21)=>{let e="",r=t;for(;r--;)e+=zX[Math.random()*64|0];return e},GX=["name","message","stack","code"],Qw=class{constructor(t,e){vw(this,"_type");this.payload=t,this.meta=e}},QO=class{constructor(t,e){vw(this,"_type");this.payload=t,this.meta=e}},HX=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of GX)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},e$="External signal was aborted",K=(()=>{function t(e,r,n){const s=wm(e+"/fulfilled",(c,u,d,m)=>({payload:c,meta:{...m||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),o=wm(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=wm(e+"/rejected",(c,u,d,m,f)=>({payload:m,error:(n&&n.serializeError||HX)(c||"Rejected"),meta:{...f||{},arg:d,requestId:u,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,m,f)=>{const p=n!=null&&n.idGenerator?n.idGenerator(c):WX(),h=new AbortController;let y,b;function g(v){b=v,h.abort()}u&&(u.aborted?g(e$):u.addEventListener("abort",()=>g(e$),{once:!0}));const x=async function(){var N,S;let v;try{let C=(N=n==null?void 0:n.condition)==null?void 0:N.call(n,c,{getState:m,extra:f});if(KX(C)&&(C=await C),C===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((T,I)=>{y=()=>{I({name:"AbortError",message:b||"Aborted"})},h.signal.addEventListener("abort",y)});d(o(p,c,(S=n==null?void 0:n.getPendingMeta)==null?void 0:S.call(n,{requestId:p,arg:c},{getState:m,extra:f}))),v=await Promise.race([A,Promise.resolve(r(c,{dispatch:d,getState:m,extra:f,requestId:p,signal:h.signal,abort:g,rejectWithValue:(T,I)=>new Qw(T,I),fulfillWithValue:(T,I)=>new QO(T,I)})).then(T=>{if(T instanceof Qw)throw T;return T instanceof QO?s(T.payload,p,c,T.meta):s(T,p,c)})])}catch(C){v=C instanceof Qw?i(null,p,c,C.payload,C.meta):i(C,p,c)}finally{y&&h.signal.removeEventListener("abort",y)}return n&&!n.dispatchConditionRejection&&i.match(v)&&v.meta.condition||d(v),v}();return Object.assign(x,{abort:g,requestId:p,arg:c,unwrap(){return x.then(YX)}})}}return Object.assign(l,{pending:o,rejected:i,fulfilled:s,settled:UX(i,s),typePrefix:e})}return t.withTypes=()=>t,t})();function YX(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function KX(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var JX=Symbol.for("rtk-slice-createasyncthunk");function XX(t,e){return`${t}/${e}`}function ZX({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[JX];return function(s){const{name:o,reducerPath:i=o}=s;if(!o)throw new Error(Is(11));const l=(typeof s.reducers=="function"?s.reducers(eZ()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,N){const S=typeof w=="string"?w:w.type;if(!S)throw new Error(Is(12));if(S in u.sliceCaseReducersByType)throw new Error(Is(13));return u.sliceCaseReducersByType[S]=N,d},addMatcher(w,N){return u.sliceMatchers.push({matcher:w,reducer:N}),d},exposeAction(w,N){return u.actionCreators[w]=N,d},exposeCaseReducer(w,N){return u.sliceCaseReducersByName[w]=N,d}};c.forEach(w=>{const N=l[w],S={reducerName:w,type:XX(o,w),createNotation:typeof s.reducers=="function"};rZ(N)?aZ(S,N,d,e):tZ(S,N,d)});function m(){const[w={},N=[],S=void 0]=typeof s.extraReducers=="function"?S6(s.extraReducers):[s.extraReducers],C={...w,...u.sliceCaseReducersByType};return qX(s.initialState,A=>{for(let T in C)A.addCase(T,C[T]);for(let T of u.sliceMatchers)A.addMatcher(T.matcher,T.reducer);for(let T of N)A.addMatcher(T.matcher,T.reducer);S&&A.addDefaultCase(S)})}const f=w=>w,p=new Map,h=new WeakMap;let y;function b(w,N){return y||(y=m()),y(w,N)}function g(){return y||(y=m()),y.getInitialState()}function x(w,N=!1){function S(A){let T=A[w];return typeof T>"u"&&N&&(T=jh(h,S,g)),T}function C(A=f){const T=jh(p,N,()=>new WeakMap);return jh(T,A,()=>{const I={};for(const[k,$]of Object.entries(s.selectors??{}))I[k]=QX($,A,()=>jh(h,A,g),N);return I})}return{reducerPath:w,getSelectors:C,get selectors(){return C(S)},selectSlice:S}}const v={name:o,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...x(i),injectInto(w,{reducerPath:N,...S}={}){const C=N??i;return w.inject({reducerPath:C,reducer:b},S),{...v,...x(C,!0)}}};return v}}function QX(t,e,r,n){function s(o,...i){let l=e(o);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return s.unwrapped=t,s}var Ce=ZX();function eZ(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function tZ({type:t,reducerName:e,createNotation:r},n,s){let o,i;if("reducer"in n){if(r&&!nZ(n))throw new Error(Is(17));o=n.reducer,i=n.prepare}else o=n;s.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,i?wm(t,i):wm(t))}function rZ(t){return t._reducerDefinitionType==="asyncThunk"}function nZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function aZ({type:t,reducerName:e},r,n,s){if(!s)throw new Error(Is(18));const{payloadCreator:o,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,m=s(t,o,d);n.exposeAction(e,m),i&&n.addCase(m.fulfilled,i),l&&n.addCase(m.pending,l),c&&n.addCase(m.rejected,c),u&&n.addMatcher(m.settled,u),n.exposeCaseReducer(e,{fulfilled:i||Nh,pending:l||Nh,rejected:c||Nh,settled:u||Nh})}function Nh(){}function Is(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const Gv=()=>{const t="http://192.168.1.215:5001";if(t.trim()!==""){let e=t.trim();return e=e.replace(/\/api\/?$/,""),e.includes(":3000")&&(e=e.replace(":3000",":5001")),e.includes(":5000")&&!e.includes(":5001")&&(e=e.replace(":5000",":5001")),e}if(typeof window<"u"&&window.location){const e=window.location.hostname,r=window.location.protocol;return e==="localhost"||e==="127.0.0.1"?"http://localhost:5001":`${r==="https:"?"https:":"http:"}//${e}:5001`}return"http://localhost:5001"};Gv();const sZ=async(t,e)=>{var r,n,s;try{const o=Gv();if(!o||o.trim()==="")throw new Error("API URL is not configured. Please set VITE_API_URL in your .env file or ensure backend is accessible.");const l=`${o.replace(/\/$/,"")}/auth/login`,c={userName:t,password:e};console.log("Login API URL:",l),console.log("Request body:",c);const u=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!u.ok){let m=`Login failed (${u.status} ${u.statusText})`,f=null;try{const p=await u.text();console.error("Backend error response:",p),p&&(f=JSON.parse(p),m=f.message||f.error||((r=f.errors)==null?void 0:r.general)||m,f.stack)}catch(p){console.error("Failed to parse error response:",p)}throw new Error(m)}const d=await u.json();if(!d.token)throw new Error(d.message||((n=d.errors)==null?void 0:n.general)||"Login failed");if(((s=d.user.accessList)==null?void 0:s.length)>0){const m=d.user.accessList.length>=2?d.user.accessList[1]:d.user.accessList[0];sessionStorage.setItem("selectedRole",JSON.stringify(m))}return sessionStorage.setItem("token",d.token),sessionStorage.setItem("user",JSON.stringify(d.user)),d.user}catch(o){throw new Error(o.message)}},oZ=async()=>(sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),sessionStorage.removeItem("selectedRole"),null),iZ=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=sessionStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),lZ=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),Hv={login:sZ,logout:oZ,fetchUserProfile:iZ,changePassword:lZ},cZ={user:null,isAuthenticated:!1,isLoading:!1,error:null,selectedRole:null},gg=K("auth/login",async({username:t,password:e},r)=>{try{return await Hv.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),A6=K("auth/logout",async(t,e)=>{try{return await Hv.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),e1=K("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await Hv.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),yg=K("auth/fetchUserProfile",async(t,e)=>{try{return await Hv.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),I6=K("auth/updateSelectedRole",async(t,e)=>{try{return sessionStorage.setItem("selectedRole",JSON.stringify(t)),t}catch(r){return e.rejectWithValue(r.message)}}),T6=Ce({name:"auth",initialState:cZ,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gg.fulfilled,(e,r)=>{var n;if(e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload,((n=r.payload.accessList)==null?void 0:n.length)>0){const s=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=s,sessionStorage.setItem("selectedRole",JSON.stringify(s))}sessionStorage.removeItem("welcome_seen")}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(A6.fulfilled,e=>{e.user=null,e.isAuthenticated=!1,e.selectedRole=null,sessionStorage.removeItem("welcome_seen")}).addCase(yg.pending,e=>{e.isLoading=!0}).addCase(yg.fulfilled,(e,r)=>{var s;e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload;const n=sessionStorage.getItem("selectedRole");if(n)e.selectedRole=JSON.parse(n);else if(((s=r.payload.accessList)==null?void 0:s.length)>0){const o=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=o}}).addCase(yg.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(e1.pending,e=>{e.isLoading=!0}).addCase(e1.fulfilled,e=>{e.isLoading=!1}).addCase(e1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(I6.fulfilled,(e,r)=>{e.selectedRole=r.payload})}}),{resetAuthState:AYe}=T6.actions,uZ=T6.reducer;let dZ={data:""},mZ=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||dZ},fZ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,pZ=/\/\*[^]*?\*\/|  +/g,t$=/\n+/g,xo=(t,e)=>{let r="",n="",s="";for(let o in t){let i=t[o];o[0]=="@"?o[1]=="i"?r=o+" "+i+";":n+=o[1]=="f"?xo(i,o):o+"{"+xo(i,o[1]=="k"?"":e)+"}":typeof i=="object"?n+=xo(i,e?e.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=xo.p?xo.p(o,i):o+":"+i+";")}return r+(e&&s?e+"{"+s+"}":s)+n},ms={},P6=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+P6(t[r]);return e}return t},hZ=(t,e,r,n,s)=>{let o=P6(t),i=ms[o]||(ms[o]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(o));if(!ms[i]){let c=o!==t?t:(u=>{let d,m,f=[{}];for(;d=fZ.exec(u.replace(pZ,""));)d[4]?f.shift():d[3]?(m=d[3].replace(t$," ").trim(),f.unshift(f[0][m]=f[0][m]||{})):f[0][d[1]]=d[2].replace(t$," ").trim();return f[0]})(t);ms[i]=xo(s?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&ms.g?ms.g:null;return r&&(ms.g=ms[i]),((c,u,d,m)=>{m?u.data=u.data.replace(m,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(ms[i],e,n,l),i},gZ=(t,e,r)=>t.reduce((n,s,o)=>{let i=e[o];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":xo(l,""):l===!1?"":l}return n+s+(i??"")},"");function Yv(t){let e=this||{},r=t.call?t(e.p):t;return hZ(r.unshift?r.raw?gZ(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,mZ(e.target),e.g,e.o,e.k)}let k6,dA,mA;Yv.bind({g:1});let Bs=Yv.bind({k:1});function yZ(t,e,r,n){xo.p=e,k6=t,dA=r,mA=n}function di(t,e){let r=this||{};return function(){let n=arguments;function s(o,i){let l=Object.assign({},o),c=l.className||s.className;r.p=Object.assign({theme:dA&&dA()},l),r.o=/ *go\d+/.test(c),l.className=Yv.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),mA&&u[0]&&mA(l),k6(u,l)}return s}}var xZ=t=>typeof t=="function",eb=(t,e)=>xZ(t)?t(e):t,bZ=(()=>{let t=0;return()=>(++t).toString()})(),E6=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),vZ=20,AP="default",D6=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return D6(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},xg=[],O6={toasts:[],pausedAt:void 0,settings:{toastLimit:vZ}},Ya={},$6=(t,e=AP)=>{Ya[e]=D6(Ya[e]||O6,t),xg.forEach(([r,n])=>{r===e&&n(Ya[e])})},R6=t=>Object.keys(Ya).forEach(e=>$6(t,e)),jZ=t=>Object.keys(Ya).find(e=>Ya[e].toasts.some(r=>r.id===t)),Kv=(t=AP)=>e=>{$6(e,t)},NZ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wZ=(t={},e=AP)=>{let[r,n]=j.useState(Ya[e]||O6),s=j.useRef(Ya[e]);j.useEffect(()=>(s.current!==Ya[e]&&n(Ya[e]),xg.push([e,n]),()=>{let i=xg.findIndex(([l])=>l===e);i>-1&&xg.splice(i,1)}),[e]);let o=r.toasts.map(i=>{var l,c,u;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((l=t[i.type])==null?void 0:l.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((c=t[i.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||NZ[i.type],style:{...t.style,...(u=t[i.type])==null?void 0:u.style,...i.style}}});return{...r,toasts:o}},CZ=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||bZ()}),Ap=t=>(e,r)=>{let n=CZ(e,t,r);return Kv(n.toasterId||jZ(n.id))({type:2,toast:n}),n.id},le=(t,e)=>Ap("blank")(t,e);le.error=Ap("error");le.success=Ap("success");le.loading=Ap("loading");le.custom=Ap("custom");le.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Kv(e)(r):R6(r)};le.dismissAll=t=>le.dismiss(void 0,t);le.remove=(t,e)=>{let r={type:4,toastId:t};e?Kv(e)(r):R6(r)};le.removeAll=t=>le.remove(void 0,t);le.promise=(t,e,r)=>{let n=le.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?eb(e.success,s):void 0;return o?le.success(o,{id:n,...r,...r==null?void 0:r.success}):le.dismiss(n),s}).catch(s=>{let o=e.error?eb(e.error,s):void 0;o?le.error(o,{id:n,...r,...r==null?void 0:r.error}):le.dismiss(n)}),t};var SZ=1e3,AZ=(t,e="default")=>{let{toasts:r,pausedAt:n}=wZ(t,e),s=j.useRef(new Map).current,o=j.useCallback((m,f=SZ)=>{if(s.has(m))return;let p=setTimeout(()=>{s.delete(m),i({type:4,toastId:m})},f);s.set(m,p)},[]);j.useEffect(()=>{if(n)return;let m=Date.now(),f=r.map(p=>{if(p.duration===1/0)return;let h=(p.duration||0)+p.pauseDuration-(m-p.createdAt);if(h<0){p.visible&&le.dismiss(p.id);return}return setTimeout(()=>le.dismiss(p.id,e),h)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[r,n,e]);let i=j.useCallback(Kv(e),[e]),l=j.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=j.useCallback((m,f)=>{i({type:1,toast:{id:m,height:f}})},[i]),u=j.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),d=j.useCallback((m,f)=>{let{reverseOrder:p=!1,gutter:h=8,defaultPosition:y}=f||{},b=r.filter(v=>(v.position||y)===(m.position||y)&&v.height),g=b.findIndex(v=>v.id===m.id),x=b.filter((v,w)=>w<g&&v.visible).length;return b.filter(v=>v.visible).slice(...p?[x+1]:[0,x]).reduce((v,w)=>v+(w.height||0)+h,0)},[r]);return j.useEffect(()=>{r.forEach(m=>{if(m.dismissed)o(m.id,m.removeDelay);else{let f=s.get(m.id);f&&(clearTimeout(f),s.delete(m.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},IZ=Bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,TZ=Bs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PZ=Bs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,kZ=di("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IZ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${TZ} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${PZ} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,EZ=Bs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DZ=di("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${EZ} 1s linear infinite;
`,OZ=Bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$Z=Bs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RZ=di("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${OZ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$Z} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,LZ=di("div")`
  position: absolute;
`,FZ=di("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,MZ=Bs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_Z=di("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${MZ} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,BZ=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?j.createElement(_Z,null,e):e:r==="blank"?null:j.createElement(FZ,null,j.createElement(DZ,{...n}),r!=="loading"&&j.createElement(LZ,null,r==="error"?j.createElement(kZ,{...n}):j.createElement(RZ,{...n})))},qZ=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,VZ=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,UZ="0%{opacity:0;} 100%{opacity:1;}",zZ="0%{opacity:1;} 100%{opacity:0;}",WZ=di("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GZ=di("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,HZ=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=E6()?[UZ,zZ]:[qZ(r),VZ(r)];return{animation:e?`${Bs(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Bs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},YZ=j.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?HZ(t.position||e||"top-center",t.visible):{opacity:0},o=j.createElement(BZ,{toast:t}),i=j.createElement(GZ,{...t.ariaProps},eb(t.message,t));return j.createElement(WZ,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:o,message:i}):j.createElement(j.Fragment,null,o,i))});yZ(j.createElement);var KZ=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let o=j.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return j.createElement("div",{ref:o,className:e,style:r},s)},JZ=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:E6()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},XZ=Yv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wh=16,ZZ=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,toasterId:o,containerStyle:i,containerClassName:l})=>{let{toasts:c,handlers:u}=AZ(r,o);return j.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:wh,left:wh,right:wh,bottom:wh,pointerEvents:"none",...i},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let m=d.position||e,f=u.calculateOffset(d,{reverseOrder:t,gutter:n,defaultPosition:e}),p=JZ(m,f);return j.createElement(KZ,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?XZ:"",style:p},d.type==="custom"?eb(d.message,d):s?s(d):j.createElement(YZ,{toast:d,position:m}))}))},Y=le;const IP=j.createContext({});function TP(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const L6=typeof window<"u",F6=L6?j.useLayoutEffect:j.useEffect,Jv=j.createContext(null);function PP(t,e){t.indexOf(e)===-1&&t.push(e)}function kP(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const ss=(t,e,r)=>r>e?e:r<t?t:r;let EP=()=>{};const qs={},M6=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _6(t){return typeof t=="object"&&t!==null}const B6=t=>/^0[^.\s]+$/u.test(t);function DP(t){let e;return()=>(e===void 0&&(e=t()),e)}const sa=t=>t,QZ=(t,e)=>r=>e(t(r)),Ip=(...t)=>t.reduce(QZ),xf=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class OP{constructor(){this.subscriptions=[]}add(e){return PP(this.subscriptions,e),()=>kP(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ts=t=>t*1e3,ra=t=>t/1e3;function q6(t,e){return e?t*(1e3/e):0}const V6=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,eQ=1e-7,tQ=12;function rQ(t,e,r,n,s){let o,i,l=0;do i=e+(r-e)/2,o=V6(i,n,s)-t,o>0?r=i:e=i;while(Math.abs(o)>eQ&&++l<tQ);return i}function Tp(t,e,r,n){if(t===e&&r===n)return sa;const s=o=>rQ(o,0,1,t,r);return o=>o===0||o===1?o:V6(s(o),e,n)}const U6=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,z6=t=>e=>1-t(1-e),W6=Tp(.33,1.53,.69,.99),$P=z6(W6),G6=U6($P),H6=t=>(t*=2)<1?.5*$P(t):.5*(2-Math.pow(2,-10*(t-1))),RP=t=>1-Math.sin(Math.acos(t)),Y6=z6(RP),K6=U6(RP),nQ=Tp(.42,0,1,1),aQ=Tp(0,0,.58,1),J6=Tp(.42,0,.58,1),sQ=t=>Array.isArray(t)&&typeof t[0]!="number",X6=t=>Array.isArray(t)&&typeof t[0]=="number",oQ={linear:sa,easeIn:nQ,easeInOut:J6,easeOut:aQ,circIn:RP,circInOut:K6,circOut:Y6,backIn:$P,backInOut:G6,backOut:W6,anticipate:H6},iQ=t=>typeof t=="string",r$=t=>{if(X6(t)){EP(t.length===4);const[e,r,n,s]=t;return Tp(e,r,n,s)}else if(iQ(t))return oQ[t];return t},Ch=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lQ(t,e){let r=new Set,n=new Set,s=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){i.has(d)&&(u.schedule(d),t()),d(l)}const u={schedule:(d,m=!1,f=!1)=>{const h=f&&s?r:n;return m&&i.add(d),h.has(d)||h.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(l=d,s){o=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,o&&(o=!1,u.process(d))}};return u}const cQ=40;function Z6(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,i=Ch.reduce((v,w)=>(v[w]=lQ(o),v),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:m,preRender:f,render:p,postRender:h}=i,y=()=>{const v=qs.useManualTiming?s.timestamp:performance.now();r=!1,qs.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(v-s.timestamp,cQ),1)),s.timestamp=v,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),m.process(s),f.process(s),p.process(s),h.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(y))},b=()=>{r=!0,n=!0,s.isProcessing||t(y)};return{schedule:Ch.reduce((v,w)=>{const N=i[w];return v[w]=(S,C=!1,A=!1)=>(r||b(),N.schedule(S,C,A)),v},{}),cancel:v=>{for(let w=0;w<Ch.length;w++)i[Ch[w]].cancel(v)},state:s,steps:i}}const{schedule:Bt,cancel:ti,state:Or,steps:t1}=Z6(typeof requestAnimationFrame<"u"?requestAnimationFrame:sa,!0);let bg;function uQ(){bg=void 0}const Qr={now:()=>(bg===void 0&&Qr.set(Or.isProcessing||qs.useManualTiming?Or.timestamp:performance.now()),bg),set:t=>{bg=t,queueMicrotask(uQ)}},Q6=t=>e=>typeof e=="string"&&e.startsWith(t),eq=Q6("--"),dQ=Q6("var(--"),LP=t=>dQ(t)?mQ.test(t.split("/*")[0].trim()):!1,mQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function n$(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const zu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bf={...zu,transform:t=>ss(0,1,t)},Sh={...zu,default:1},Cm=t=>Math.round(t*1e5)/1e5,FP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fQ(t){return t==null}const pQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MP=(t,e)=>r=>!!(typeof r=="string"&&pQ.test(r)&&r.startsWith(t)||e&&!fQ(r)&&Object.prototype.hasOwnProperty.call(r,e)),tq=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,o,i,l]=n.match(FP);return{[t]:parseFloat(s),[e]:parseFloat(o),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},hQ=t=>ss(0,255,t),r1={...zu,transform:t=>Math.round(hQ(t))},Mi={test:MP("rgb","red"),parse:tq("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+r1.transform(t)+", "+r1.transform(e)+", "+r1.transform(r)+", "+Cm(bf.transform(n))+")"};function gQ(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const fA={test:MP("#"),parse:gQ,transform:Mi.transform},Pp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lo=Pp("deg"),Za=Pp("%"),Ee=Pp("px"),yQ=Pp("vh"),xQ=Pp("vw"),a$={...Za,parse:t=>Za.parse(t)/100,transform:t=>Za.transform(t*100)},jc={test:MP("hsl","hue"),parse:tq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Za.transform(Cm(e))+", "+Za.transform(Cm(r))+", "+Cm(bf.transform(n))+")"},cr={test:t=>Mi.test(t)||fA.test(t)||jc.test(t),parse:t=>Mi.test(t)?Mi.parse(t):jc.test(t)?jc.parse(t):fA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Mi.transform(t):jc.transform(t),getAnimatableNone:t=>{const e=cr.parse(t);return e.alpha=0,cr.transform(e)}},bQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vQ(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(FP))==null?void 0:e.length)||0)+(((r=t.match(bQ))==null?void 0:r.length)||0)>0}const rq="number",nq="color",jQ="var",NQ="var(",s$="${}",wQ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vf(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let o=0;const l=e.replace(wQ,c=>(cr.test(c)?(n.color.push(o),s.push(nq),r.push(cr.parse(c))):c.startsWith(NQ)?(n.var.push(o),s.push(jQ),r.push(c)):(n.number.push(o),s.push(rq),r.push(parseFloat(c))),++o,s$)).split(s$);return{values:r,split:l,indexes:n,types:s}}function aq(t){return vf(t).values}function sq(t){const{split:e,types:r}=vf(t),n=e.length;return s=>{let o="";for(let i=0;i<n;i++)if(o+=e[i],s[i]!==void 0){const l=r[i];l===rq?o+=Cm(s[i]):l===nq?o+=cr.transform(s[i]):o+=s[i]}return o}}const CQ=t=>typeof t=="number"?0:cr.test(t)?cr.getAnimatableNone(t):t;function SQ(t){const e=aq(t);return sq(t)(e.map(CQ))}const ri={test:vQ,parse:aq,createTransformer:sq,getAnimatableNone:SQ};function n1(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function AQ({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,o=0,i=0;if(!e)s=o=i=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;s=n1(c,l,t+1/3),o=n1(c,l,t),i=n1(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}function tb(t,e){return r=>r>0?e:t}const Gt=(t,e,r)=>t+(e-t)*r,a1=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},IQ=[fA,Mi,jc],TQ=t=>IQ.find(e=>e.test(t));function o$(t){const e=TQ(t);if(!e)return!1;let r=e.parse(t);return e===jc&&(r=AQ(r)),r}const i$=(t,e)=>{const r=o$(t),n=o$(e);if(!r||!n)return tb(t,e);const s={...r};return o=>(s.red=a1(r.red,n.red,o),s.green=a1(r.green,n.green,o),s.blue=a1(r.blue,n.blue,o),s.alpha=Gt(r.alpha,n.alpha,o),Mi.transform(s))},pA=new Set(["none","hidden"]);function PQ(t,e){return pA.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function kQ(t,e){return r=>Gt(t,e,r)}function _P(t){return typeof t=="number"?kQ:typeof t=="string"?LP(t)?tb:cr.test(t)?i$:OQ:Array.isArray(t)?oq:typeof t=="object"?cr.test(t)?i$:EQ:tb}function oq(t,e){const r=[...t],n=r.length,s=t.map((o,i)=>_P(o)(o,e[i]));return o=>{for(let i=0;i<n;i++)r[i]=s[i](o);return r}}function EQ(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=_P(t[s])(t[s],e[s]));return s=>{for(const o in n)r[o]=n[o](s);return r}}function DQ(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],i=t.indexes[o][n[o]],l=t.values[i]??0;r[s]=l,n[o]++}return r}const OQ=(t,e)=>{const r=ri.createTransformer(e),n=vf(t),s=vf(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?pA.has(t)&&!s.values.length||pA.has(e)&&!n.values.length?PQ(t,e):Ip(oq(DQ(n,s),s.values),r):tb(t,e)};function iq(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Gt(t,e,r):_P(t)(t,e)}const $Q=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Bt.update(e,r),stop:()=>ti(e),now:()=>Or.isProcessing?Or.timestamp:Qr.now()}},lq=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let o=0;o<s;o++)n+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},rb=2e4;function BP(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<rb;)e+=r,n=t.next(e);return e>=rb?1/0:e}function RQ(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(BP(n),rb);return{type:"keyframes",ease:o=>n.next(s*o).value/e,duration:ra(s)}}const LQ=5;function cq(t,e,r){const n=Math.max(e-LQ,0);return q6(r-t(n),e-n)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},s1=.001;function FQ({duration:t=Xt.duration,bounce:e=Xt.bounce,velocity:r=Xt.velocity,mass:n=Xt.mass}){let s,o,i=1-e;i=ss(Xt.minDamping,Xt.maxDamping,i),t=ss(Xt.minDuration,Xt.maxDuration,ra(t)),i<1?(s=u=>{const d=u*i,m=d*t,f=d-r,p=hA(u,i),h=Math.exp(-m);return s1-f/p*h},o=u=>{const m=u*i*t,f=m*r+r,p=Math.pow(i,2)*Math.pow(u,2)*t,h=Math.exp(-m),y=hA(Math.pow(u,2),i);return(-s(u)+s1>0?-1:1)*((f-p)*h)/y}):(s=u=>{const d=Math.exp(-u*t),m=(u-r)*t+1;return-s1+d*m},o=u=>{const d=Math.exp(-u*t),m=(r-u)*(t*t);return d*m});const l=5/t,c=_Q(s,o,l);if(t=Ts(t),isNaN(c))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:t}}}const MQ=12;function _Q(t,e,r){let n=r;for(let s=1;s<MQ;s++)n=n-t(n)/e(n);return n}function hA(t,e){return t*Math.sqrt(1-e*e)}const BQ=["duration","bounce"],qQ=["stiffness","damping","mass"];function l$(t,e){return e.some(r=>t[r]!==void 0)}function VQ(t){let e={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...t};if(!l$(t,qQ)&&l$(t,BQ))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,o=2*ss(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Xt.mass,stiffness:s,damping:o}}else{const r=FQ(t);e={...e,...r,mass:Xt.mass},e.isResolvedFromDuration=!0}return e}function nb(t=Xt.visualDuration,e=Xt.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const o=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:m,velocity:f,isResolvedFromDuration:p}=VQ({...r,velocity:-ra(r.velocity||0)}),h=f||0,y=u/(2*Math.sqrt(c*d)),b=i-o,g=ra(Math.sqrt(c/d)),x=Math.abs(b)<5;n||(n=x?Xt.restSpeed.granular:Xt.restSpeed.default),s||(s=x?Xt.restDelta.granular:Xt.restDelta.default);let v;if(y<1){const N=hA(g,y);v=S=>{const C=Math.exp(-y*g*S);return i-C*((h+y*g*b)/N*Math.sin(N*S)+b*Math.cos(N*S))}}else if(y===1)v=N=>i-Math.exp(-g*N)*(b+(h+g*b)*N);else{const N=g*Math.sqrt(y*y-1);v=S=>{const C=Math.exp(-y*g*S),A=Math.min(N*S,300);return i-C*((h+y*g*b)*Math.sinh(A)+N*b*Math.cosh(A))/N}}const w={calculatedDuration:p&&m||null,next:N=>{const S=v(N);if(p)l.done=N>=m;else{let C=N===0?h:0;y<1&&(C=N===0?Ts(h):cq(v,N,S));const A=Math.abs(C)<=n,T=Math.abs(i-S)<=s;l.done=A&&T}return l.value=l.done?i:S,l},toString:()=>{const N=Math.min(BP(w),rb),S=lq(C=>w.next(N*C).value,N,30);return N+"ms "+S},toTransition:()=>{}};return w}nb.applyToOptions=t=>{const e=RQ(t,100,nb);return t.ease=e.ease,t.duration=Ts(e.duration),t.type="keyframes",t};function gA({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const m=t[0],f={done:!1,value:m},p=A=>l!==void 0&&A<l||c!==void 0&&A>c,h=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let y=r*e;const b=m+y,g=i===void 0?b:i(b);g!==b&&(y=g-m);const x=A=>-y*Math.exp(-A/n),v=A=>g+x(A),w=A=>{const T=x(A),I=v(A);f.done=Math.abs(T)<=u,f.value=f.done?g:I};let N,S;const C=A=>{p(f.value)&&(N=A,S=nb({keyframes:[f.value,h(f.value)],velocity:cq(v,A,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:A=>{let T=!1;return!S&&N===void 0&&(T=!0,w(A),C(A)),N!==void 0&&A>=N?S.next(A-N):(!T&&w(A),f)}}}function UQ(t,e,r){const n=[],s=r||qs.mix||iq,o=t.length-1;for(let i=0;i<o;i++){let l=s(t[i],t[i+1]);if(e){const c=Array.isArray(e)?e[i]||sa:e;l=Ip(c,l)}n.push(l)}return n}function zQ(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const o=t.length;if(EP(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const i=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=UQ(e,n,s),c=l.length,u=d=>{if(i&&d<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(d<t[m+1]);m++);const f=xf(t[m],t[m+1],d);return l[m](f)};return r?d=>u(ss(t[0],t[o-1],d)):u}function WQ(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=xf(0,e,n);t.push(Gt(r,1,s))}}function GQ(t){const e=[0];return WQ(e,t.length-1),e}function HQ(t,e){return t.map(r=>r*e)}function YQ(t,e){return t.map(()=>e||J6).splice(0,t.length-1)}function Sm({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=sQ(n)?n.map(r$):r$(n),o={done:!1,value:e[0]},i=HQ(r&&r.length===e.length?r:GQ(e),t),l=zQ(i,e,{ease:Array.isArray(s)?s:YQ(e,s)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}const KQ=t=>t!==null;function qP(t,{repeat:e,repeatType:r="loop"},n,s=1){const o=t.filter(KQ),l=s<0||e&&r!=="loop"&&e%2===1?0:o.length-1;return!l||n===void 0?o[l]:n}const JQ={decay:gA,inertia:gA,tween:Sm,keyframes:Sm,spring:nb};function uq(t){typeof t.type=="string"&&(t.type=JQ[t.type])}class VP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const XQ=t=>t/100;class UP extends VP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Qr.now()&&this.tick(Qr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uq(e);const{type:r=Sm,repeat:n=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=e;let{keyframes:l}=e;const c=r||Sm;c!==Sm&&typeof l[0]!="number"&&(this.mixKeyframes=Ip(XQ,iq(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=BP(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:m,repeatType:f,repeatDelay:p,type:h,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let v=this.currentTime,w=n;if(m){const A=Math.min(this.currentTime,s)/l;let T=Math.floor(A),I=A%1;!I&&A>=1&&(I=1),I===1&&T--,T=Math.min(T,m+1),!!(T%2)&&(f==="reverse"?(I=1-I,p&&(I-=p/l)):f==="mirror"&&(w=i)),v=ss(0,1,I)*l}const N=x?{done:!1,value:d[0]}:w.next(v);o&&(N.value=o(N.value));let{done:S}=N;!x&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&h!==gA&&(N.value=qP(d,this.options,b,this.speed)),y&&y(N.value),C&&this.finish(),N}then(e,r){return this.finished.then(e,r)}get duration(){return ra(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ra(e)}get time(){return ra(this.currentTime)}set time(e){var r;e=Ts(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Qr.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ra(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=$Q,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),(o=(s=this.options).onPlay)==null||o.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function ZQ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _i=t=>t*180/Math.PI,yA=t=>{const e=_i(Math.atan2(t[1],t[0]));return xA(e)},QQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yA,rotateZ:yA,skewX:t=>_i(Math.atan(t[1])),skewY:t=>_i(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xA=t=>(t=t%360,t<0&&(t+=360),t),c$=yA,u$=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),d$=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:u$,scaleY:d$,scale:t=>(u$(t)+d$(t))/2,rotateX:t=>xA(_i(Math.atan2(t[6],t[5]))),rotateY:t=>xA(_i(Math.atan2(-t[2],t[0]))),rotateZ:c$,rotate:c$,skewX:t=>_i(Math.atan(t[4])),skewY:t=>_i(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function bA(t){return t.includes("scale")?1:0}function vA(t,e){if(!t||t==="none")return bA(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=eee,s=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=QQ,s=l}if(!s)return bA(e);const o=n[e],i=s[1].split(",").map(ree);return typeof o=="function"?o(i):i[o]}const tee=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return vA(r,e)};function ree(t){return parseFloat(t.trim())}const Wu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gu=new Set(Wu),m$=t=>t===zu||t===Ee,nee=new Set(["x","y","z"]),aee=Wu.filter(t=>!nee.has(t));function see(t){const e=[];return aee.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const So={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>vA(e,"x"),y:(t,{transform:e})=>vA(e,"y")};So.translateX=So.x;So.translateY=So.y;const Qi=new Set;let jA=!1,NA=!1,wA=!1;function dq(){if(NA){const t=Array.from(Qi).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=see(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([o,i])=>{var l;(l=n.getValue(o))==null||l.set(i)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}NA=!1,jA=!1,Qi.forEach(t=>t.complete(wA)),Qi.clear()}function mq(){Qi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(NA=!0)})}function oee(){wA=!0,mq(),dq(),wA=!1}class zP{constructor(e,r,n,s,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Qi.add(this),jA||(jA=!0,Bt.read(mq),Bt.resolveKeyframes(dq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),i=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const l=n.readValue(r,i);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=i),s&&o===void 0&&s.set(e[0])}ZQ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qi.delete(this)}cancel(){this.state==="scheduled"&&(Qi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const iee=t=>t.startsWith("--");function lee(t,e,r){iee(e)?t.style.setProperty(e,r):t.style[e]=r}const cee=DP(()=>window.ScrollTimeline!==void 0),uee={};function dee(t,e){const r=DP(t);return()=>uee[e]??r()}const fq=dee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),im=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,f$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:im([0,.65,.55,1]),circOut:im([.55,0,1,.45]),backIn:im([.31,.01,.66,-.59]),backOut:im([.33,1.53,.69,.99])};function pq(t,e){if(t)return typeof t=="function"?fq()?lq(t,e):"ease-out":X6(t)?im(t):Array.isArray(t)?t.map(r=>pq(r,e)||f$.easeOut):f$[t]}function mee(t,e,r,{delay:n=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:r};c&&(d.offset=c);const m=pq(l,s);Array.isArray(m)&&(d.easing=m);const f={delay:n,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(d,f)}function hq(t){return typeof t=="function"&&"applyToOptions"in t}function fee({type:t,...e}){return hq(t)&&fq()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pee extends VP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=e,EP(typeof e.type!="string");const u=fee(e);this.animation=mee(r,n,s,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=qP(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):lee(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ra(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ra(e)}get time(){return ra(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ts(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&cee()?(this.animation.timeline=e,sa):r(this)}}const gq={anticipate:H6,backInOut:G6,circInOut:K6};function hee(t){return t in gq}function gee(t){typeof t.ease=="string"&&hee(t.ease)&&(t.ease=gq[t.ease])}const o1=10;class yee extends pee{constructor(e){gee(e),uq(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:o,...i}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new UP({...i,autoplay:!1}),c=Math.max(o1,Qr.now()-this.startTime),u=ss(0,o1,c-o1);r.setWithVelocity(l.sample(Math.max(0,c-u)).value,l.sample(c).value,u),l.stop()}}const p$=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ri.test(t)||t==="0")&&!t.startsWith("url("));function xee(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function bee(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],i=p$(s,e),l=p$(o,e);return!i||!l?!1:xee(t)||(r==="spring"||hq(r))&&n}function CA(t){t.duration=0,t.type="keyframes"}const vee=new Set(["opacity","clipPath","filter","transform"]),jee=DP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Nee(t){var d;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:o,type:i}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return jee()&&r&&vee.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&o!==0&&i!=="inertia"}const wee=40;class Cee extends VP{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...m}){var h;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=Qr.now();const f={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:o,repeatType:i,name:c,motionValue:u,element:d,...m},p=(d==null?void 0:d.KeyframeResolver)||zP;this.keyframeResolver=new p(l,(y,b,g)=>this.onKeyframesResolved(y,b,f,!g),c,u,d),(h=this.keyframeResolver)==null||h.scheduleResolve()}onKeyframesResolved(e,r,n,s){var b,g;this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Qr.now(),bee(e,o,i,l)||((qs.instantAnimations||!c)&&(d==null||d(qP(e,n,r))),e[0]=e[e.length-1],CA(n),n.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>wee?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},p=!u&&Nee(f),h=(g=(b=f.motionValue)==null?void 0:b.owner)==null?void 0:g.current,y=p?new yee({...f,element:h}):new UP(f);y.finished.then(()=>{this.notifyFinished()}).catch(sa),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),oee()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function yq(t,e,r,n=0,s=1){const o=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),i=t.size,l=(i-1)*n;return typeof r=="function"?r(o,i):s===1?o*n:l-o*n}const See=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Aee(t){const e=See.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function xq(t,e,r=1){const[n,s]=Aee(t);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const i=o.trim();return M6(i)?parseFloat(i):i}return LP(s)?xq(s,e,r+1):s}const Iee={type:"spring",stiffness:500,damping:25,restSpeed:10},Tee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Pee={type:"keyframes",duration:.8},kee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Eee=(t,{keyframes:e})=>e.length>2?Pee:Gu.has(t)?t.startsWith("scale")?Tee(e[1]):Iee:kee,Dee=t=>t!==null;function Oee(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(Dee),o=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[o]}function WP(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function $ee({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const GP=(t,e,r,n={},s,o)=>i=>{const l=WP(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ts(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:o?void 0:s};$ee(l)||Object.assign(d,Eee(t,d)),d.duration&&(d.duration=Ts(d.duration)),d.repeatDelay&&(d.repeatDelay=Ts(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(CA(d),d.delay===0&&(m=!0)),(qs.instantAnimations||qs.skipAnimations)&&(m=!0,CA(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,m&&!o&&e.get()!==void 0){const f=Oee(d.keyframes,l);if(f!==void 0){Bt.update(()=>{d.onUpdate(f),d.onComplete()});return}}return l.isSync?new UP(d):new Cee(d)};function h$(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function HP(t,e,r,n){if(typeof e=="function"){const[s,o]=h$(n);e=e(r!==void 0?r:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=h$(n);e=e(r!==void 0?r:t.custom,s,o)}return e}function Fc(t,e,r){const n=t.getProps();return HP(n,e,r!==void 0?r:n.custom,t)}const bq=new Set(["width","height","top","left","right","bottom",...Wu]),g$=30,Ree=t=>!isNaN(parseFloat(t));class Lee{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var o;const s=Qr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Qr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ree(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new OP);const n=this.events[e].add(r);return e==="change"?()=>{n(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>g$)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,g$);return q6(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lu(t,e){return new Lee(t,e)}const SA=t=>Array.isArray(t);function Fee(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,lu(r))}function Mee(t){return SA(t)?t[t.length-1]||0:t}function _ee(t,e){const r=Fc(t,e);let{transitionEnd:n={},transition:s={},...o}=r||{};o={...o,...n};for(const i in o){const l=Mee(o[i]);Fee(t,i,l)}}const Kr=t=>!!(t&&t.getVelocity);function Bee(t){return!!(Kr(t)&&t.add)}function AA(t,e){const r=t.getValue("willChange");if(Bee(r))return r.add(e);if(!r&&qs.WillChange){const n=new qs.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function YP(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const qee="framerAppearId",vq="data-"+YP(qee);function jq(t){return t.props[vq]}function Vee({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Nq(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=e;n&&(o=n);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in l){const m=t.getValue(d,t.latestValues[d]??null),f=l[d];if(f===void 0||u&&Vee(u,d))continue;const p={delay:r,...WP(o||{},d)},h=m.get();if(h!==void 0&&!m.isAnimating&&!Array.isArray(f)&&f===h&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=jq(t);if(g){const x=window.MotionHandoffAnimation(g,d,Bt);x!==null&&(p.startTime=x,y=!0)}}AA(t,d),m.start(GP(d,m,f,t.shouldReduceMotion&&bq.has(d)?{type:!1}:p,t,y));const b=m.animation;b&&c.push(b)}return i&&Promise.all(c).then(()=>{Bt.update(()=>{i&&_ee(t,i)})}),c}function IA(t,e,r={}){var c;const n=Fc(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const o=n?()=>Promise.all(Nq(t,n,r)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:f}=s;return Uee(t,e,u,d,m,f,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>d())}else return Promise.all([o(),i(r.delay)])}function Uee(t,e,r=0,n=0,s=0,o=1,i){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(IA(c,e,{...i,delay:r+(typeof n=="function"?0:n)+yq(t.variantChildren,c,n,s,o)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function zee(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(o=>IA(t,o,r));n=Promise.all(s)}else if(typeof e=="string")n=IA(t,e,r);else{const s=typeof e=="function"?Fc(t,e,r.custom):e;n=Promise.all(Nq(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Wee={test:t=>t==="auto",parse:t=>t},wq=t=>e=>e.test(t),Cq=[zu,Ee,Za,lo,xQ,yQ,Wee],y$=t=>Cq.find(wq(t));function Gee(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||B6(t):!0}const Hee=new Set(["brightness","contrast","saturate","opacity"]);function Yee(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(FP)||[];if(!n)return t;const s=r.replace(n,"");let o=Hee.has(e)?1:0;return n!==r&&(o*=100),e+"("+o+s+")"}const Kee=/\b([a-z-]*)\(.*?\)/gu,TA={...ri,getAnimatableNone:t=>{const e=t.match(Kee);return e?e.map(Yee).join(" "):t}},x$={...zu,transform:Math.round},Jee={rotate:lo,rotateX:lo,rotateY:lo,rotateZ:lo,scale:Sh,scaleX:Sh,scaleY:Sh,scaleZ:Sh,skew:lo,skewX:lo,skewY:lo,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:bf,originX:a$,originY:a$,originZ:Ee},KP={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,inset:Ee,insetBlock:Ee,insetBlockStart:Ee,insetBlockEnd:Ee,insetInline:Ee,insetInlineStart:Ee,insetInlineEnd:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,paddingBlock:Ee,paddingBlockStart:Ee,paddingBlockEnd:Ee,paddingInline:Ee,paddingInlineStart:Ee,paddingInlineEnd:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,marginBlock:Ee,marginBlockStart:Ee,marginBlockEnd:Ee,marginInline:Ee,marginInlineStart:Ee,marginInlineEnd:Ee,fontSize:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...Jee,zIndex:x$,fillOpacity:bf,strokeOpacity:bf,numOctaves:x$},Xee={...KP,color:cr,backgroundColor:cr,outlineColor:cr,fill:cr,stroke:cr,borderColor:cr,borderTopColor:cr,borderRightColor:cr,borderBottomColor:cr,borderLeftColor:cr,filter:TA,WebkitFilter:TA},Sq=t=>Xee[t];function Aq(t,e){let r=Sq(t);return r!==TA&&(r=ri),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Zee=new Set(["auto","none","0"]);function Qee(t,e,r){let n=0,s;for(;n<t.length&&!s;){const o=t[n];typeof o=="string"&&!Zee.has(o)&&vf(o).values.length&&(s=t[n]),n++}if(s&&r)for(const o of e)t[o]=Aq(r,s)}class ete extends zP{constructor(e,r,n,s,o){super(e,r,n,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),LP(m))){const f=xq(m,r.current);f!==void 0&&(e[d]=f),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!bq.has(n)||e.length!==2)return;const[s,o]=e,i=y$(s),l=y$(o),c=n$(s),u=n$(o);if(c!==u&&So[n]){this.needsMeasurement=!0;return}if(i!==l)if(m$(i)&&m$(l))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else So[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||Gee(e[s]))&&n.push(s);n.length&&Qee(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=So[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=n.length-1,i=n[o];n[o]=So[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function tte(t,e,r){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(n=>n!=null)}const Iq=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function PA(t){return _6(t)&&"offsetHeight"in t}const{schedule:JP}=Z6(queueMicrotask,!1),ya={x:!1,y:!1};function Tq(){return ya.x||ya.y}function rte(t){return t==="x"||t==="y"?ya[t]?null:(ya[t]=!0,()=>{ya[t]=!1}):ya.x||ya.y?null:(ya.x=ya.y=!0,()=>{ya.x=ya.y=!1})}function Pq(t,e){const r=tte(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function b$(t){return!(t.pointerType==="touch"||Tq())}function nte(t,e,r={}){const[n,s,o]=Pq(t,r),i=l=>{if(!b$(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=m=>{b$(m)&&(u(m),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",i,s)}),o}const kq=(t,e)=>e?t===e?!0:kq(t,e.parentElement):!1,XP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ate=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Eq(t){return ate.has(t.tagName)||t.isContentEditable===!0}const vg=new WeakSet;function v$(t){return e=>{e.key==="Enter"&&t(e)}}function i1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ste=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=v$(()=>{if(vg.has(r))return;i1(r,"down");const s=v$(()=>{i1(r,"up")}),o=()=>i1(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function j$(t){return XP(t)&&!Tq()}function ote(t,e,r={}){const[n,s,o]=Pq(t,r),i=l=>{const c=l.currentTarget;if(!j$(l))return;vg.add(c);const u=e(c,l),d=(p,h)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",f),vg.has(c)&&vg.delete(c),j$(p)&&typeof u=="function"&&u(p,{success:h})},m=p=>{d(p,c===window||c===document||r.useGlobalTarget||kq(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",f,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,s),PA(l)&&(l.addEventListener("focus",u=>ste(u,s)),!Eq(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function Dq(t){return _6(t)&&"ownerSVGElement"in t}function ite(t){return Dq(t)&&t.tagName==="svg"}const lte=[...Cq,cr,ri],cte=t=>lte.find(wq(t)),N$=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nc=()=>({x:N$(),y:N$()}),w$=()=>({min:0,max:0}),xr=()=>({x:w$(),y:w$()}),kA={current:null},Oq={current:!1},ute=typeof window<"u";function dte(){if(Oq.current=!0,!!ute)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>kA.current=t.matches;t.addEventListener("change",e),e()}else kA.current=!1}const mte=new WeakMap;function Xv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function jf(t){return typeof t=="string"||Array.isArray(t)}const ZP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QP=["initial",...ZP];function Zv(t){return Xv(t.animate)||QP.some(e=>jf(t[e]))}function $q(t){return!!(Zv(t)||t.variants)}function fte(t,e,r){for(const n in e){const s=e[n],o=r[n];if(Kr(s))t.addValue(n,s);else if(Kr(o))t.addValue(n,lu(s,{owner:t}));else if(o!==s)if(t.hasValue(n)){const i=t.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=t.getStaticValue(n);t.addValue(n,lu(i!==void 0?i:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const C$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let ab={};function Rq(t){ab=t}function pte(){return ab}class hte{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Qr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Bt.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Zv(r),this.isVariantNode=$q(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in m){const p=m[f];c[f]!==void 0&&Kr(p)&&p.set(c[f])}}mount(e){var r;this.current=e,mte.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Oq.current||dte(),this.shouldReduceMotion=kA.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ti(this.notifyUpdate),ti(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Gu.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ab){const r=ab[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<C$.length;n++){const s=C$[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=e[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=fte(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=lu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(M6(n)||B6(n))?n=parseFloat(n):!cte(n)&&ri.test(r)&&(n=Aq(e,r)),this.setBaseTarget(e,Kr(n)?n.get():n)),Kr(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var o;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=HP(this.props,r,(o=this.presenceContext)==null?void 0:o.custom);i&&(n=i[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Kr(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new OP),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){JP.render(this.render)}}class Lq extends hte{constructor(){super(...arguments),this.KeyframeResolver=ete}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Fq({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function gte({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yte(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function l1(t){return t===void 0||t===1}function EA({scale:t,scaleX:e,scaleY:r}){return!l1(t)||!l1(e)||!l1(r)}function Pi(t){return EA(t)||Mq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Mq(t){return S$(t.x)||S$(t.y)}function S$(t){return t&&t!=="0%"}function sb(t,e,r){const n=t-r,s=e*n;return r+s}function A$(t,e,r,n,s){return s!==void 0&&(t=sb(t,s,n)),sb(t,r,n)+e}function DA(t,e=0,r=1,n,s){t.min=A$(t.min,e,r,n,s),t.max=A$(t.max,e,r,n,s)}function _q(t,{x:e,y:r}){DA(t.x,e.translate,e.scale,e.originPoint),DA(t.y,r.translate,r.scale,r.originPoint)}const I$=.999999999999,T$=1.0000000000001;function xte(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let o,i;for(let l=0;l<s;l++){o=r[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Cc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,_q(t,i)),n&&Pi(o.latestValues)&&Cc(t,o.latestValues))}e.x<T$&&e.x>I$&&(e.x=1),e.y<T$&&e.y>I$&&(e.y=1)}function wc(t,e){t.min=t.min+e,t.max=t.max+e}function P$(t,e,r,n,s=.5){const o=Gt(t.min,t.max,s);DA(t,e,r,o,n)}function Cc(t,e){P$(t.x,e.x,e.scaleX,e.scale,e.originX),P$(t.y,e.y,e.scaleY,e.scale,e.originY)}function Bq(t,e){return Fq(yte(t.getBoundingClientRect(),e))}function bte(t,e,r){const n=Bq(t,r),{scroll:s}=e;return s&&(wc(n.x,s.offset.x),wc(n.y,s.offset.y)),n}const vte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jte=Wu.length;function Nte(t,e,r){let n="",s=!0;for(let o=0;o<jte;o++){const i=Wu[o],l=t[i];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(i.startsWith("scale")?1:0);else{const u=parseFloat(l);c=i.startsWith("scale")?u===1:u===0}if(!c||r){const u=Iq(l,KP[i]);if(!c){s=!1;const d=vte[i]||i;n+=`${d}(${u}) `}r&&(e[i]=u)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function ek(t,e,r){const{style:n,vars:s,transformOrigin:o}=t;let i=!1,l=!1;for(const c in e){const u=e[c];if(Gu.has(c)){i=!0;continue}else if(eq(c)){s[c]=u;continue}else{const d=Iq(u,KP[c]);c.startsWith("origin")?(l=!0,o[c]=d):n[c]=d}}if(e.transform||(i||r?n.transform=Nte(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;n.transformOrigin=`${c} ${u} ${d}`}}function qq(t,{style:e,vars:r},n,s){const o=t.style;let i;for(i in e)o[i]=e[i];s==null||s.applyProjectionStyles(o,n);for(i in r)o.setProperty(i,r[i])}function k$(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ee.test(t))t=parseFloat(t);else return t;const r=k$(t,e.target.x),n=k$(t,e.target.y);return`${r}% ${n}%`}},wte={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=ri.parse(t);if(s.length>5)return n;const o=ri.createTransformer(t),i=typeof s[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;s[0+i]/=l,s[1+i]/=c;const u=Gt(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}},OA={borderRadius:{...Rd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rd,borderTopRightRadius:Rd,borderBottomLeftRadius:Rd,borderBottomRightRadius:Rd,boxShadow:wte};function Vq(t,{layout:e,layoutId:r}){return Gu.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!OA[t]||t==="opacity")}function tk(t,e,r){var i;const n=t.style,s=e==null?void 0:e.style,o={};if(!n)return o;for(const l in n)(Kr(n[l])||s&&Kr(s[l])||Vq(l,t)||((i=r==null?void 0:r.getValue(l))==null?void 0:i.liveStyle)!==void 0)&&(o[l]=n[l]);return o}function Cte(t){return window.getComputedStyle(t)}class Ste extends Lq{constructor(){super(...arguments),this.type="html",this.renderInstance=qq}readValueFromInstance(e,r){var n;if(Gu.has(r))return(n=this.projection)!=null&&n.isProjecting?bA(r):tee(e,r);{const s=Cte(e),o=(eq(r)?s.getPropertyValue(r):s[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Bq(e,r)}build(e,r,n){ek(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return tk(e,r,n)}}const Ate={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ite={offset:"strokeDashoffset",array:"strokeDasharray"};function Tte(t,e,r=1,n=0,s=!0){t.pathLength=1;const o=s?Ate:Ite;t[o.offset]=`${-n}`,t[o.array]=`${e} ${r}`}const Pte=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Uq(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:o=1,pathOffset:i=0,...l},c,u,d){if(ek(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:f}=t;m.transform&&(f.transform=m.transform,delete m.transform),(f.transform||m.transformOrigin)&&(f.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete m.transformBox);for(const p of Pte)m[p]!==void 0&&(f[p]=m[p],delete m[p]);e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),s!==void 0&&Tte(m,s,o,i,!1)}const zq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Wq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kte(t,e,r,n){qq(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(zq.has(s)?s:YP(s),e.attrs[s])}function Gq(t,e,r){const n=tk(t,e,r);for(const s in t)if(Kr(t[s])||Kr(e[s])){const o=Wu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=t[s]}return n}class Ete extends Lq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Gu.has(r)){const n=Sq(r);return n&&n.default||0}return r=zq.has(r)?r:YP(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return Gq(e,r,n)}build(e,r,n){Uq(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){kte(e,r,n,s)}mount(e){this.isSVGTag=Wq(e.tagName),super.mount(e)}}const Dte=QP.length;function Hq(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Hq(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Dte;r++){const n=QP[r],s=t.props[n];(jf(s)||s===!1)&&(e[n]=s)}return e}function Yq(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Ote=[...ZP].reverse(),$te=ZP.length;function Rte(t){return e=>Promise.all(e.map(({animation:r,options:n})=>zee(t,r,n)))}function Lte(t){let e=Rte(t),r=E$(),n=!0;const s=c=>(u,d)=>{var f;const m=Fc(t,d,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(m){const{transition:p,transitionEnd:h,...y}=m;u={...u,...y,...h}}return u};function o(c){e=c(t)}function i(c){const{props:u}=t,d=Hq(t.parent)||{},m=[],f=new Set;let p={},h=1/0;for(let b=0;b<$te;b++){const g=Ote[b],x=r[g],v=u[g]!==void 0?u[g]:d[g],w=jf(v),N=g===c?x.isActive:null;N===!1&&(h=b);let S=v===d[g]&&v!==u[g]&&w;if(S&&n&&t.manuallyAnimateOnMount&&(S=!1),x.protectedKeys={...p},!x.isActive&&N===null||!v&&!x.prevProp||Xv(v)||typeof v=="boolean")continue;const C=Fte(x.prevProp,v);let A=C||g===c&&x.isActive&&!S&&w||b>h&&w,T=!1;const I=Array.isArray(v)?v:[v];let k=I.reduce(s(g),{});N===!1&&(k={});const{prevResolvedValues:$={}}=x,L={...$,...k},q=U=>{A=!0,f.has(U)&&(T=!0,f.delete(U)),x.needsAnimating[U]=!0;const B=t.getValue(U);B&&(B.liveStyle=!1)};for(const U in L){const B=k[U],P=$[U];if(p.hasOwnProperty(U))continue;let O=!1;SA(B)&&SA(P)?O=!Yq(B,P):O=B!==P,O?B!=null?q(U):f.add(U):B!==void 0&&f.has(U)?q(U):x.protectedKeys[U]=!0}x.prevProp=v,x.prevResolvedValues=k,x.isActive&&(p={...p,...k}),n&&t.blockInitialAnimation&&(A=!1);const E=S&&C;A&&(!E||T)&&m.push(...I.map(U=>{const B={type:g};if(typeof U=="string"&&n&&!E&&t.manuallyAnimateOnMount&&t.parent){const{parent:P}=t,O=Fc(P,U);if(P.enteringChildren&&O){const{delayChildren:V}=O.transition||{};B.delay=yq(P.enteringChildren,t,V)}}return{animation:U,options:B}}))}if(f.size){const b={};if(typeof u.initial!="boolean"){const g=Fc(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(b.transition=g.transition)}f.forEach(g=>{const x=t.getBaseTarget(g),v=t.getValue(g);v&&(v.liveStyle=!0),b[g]=x??null}),m.push({animation:b})}let y=!!m.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(y=!1),n=!1,y?e(m):Promise.resolve()}function l(c,u){var m;if(r[c].isActive===u)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>r,reset:()=>{r=E$()}}}function Fte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yq(e,t):!1}function ji(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function E$(){return{animate:ji(!0),whileInView:ji(),whileHover:ji(),whileTap:ji(),whileDrag:ji(),whileFocus:ji(),exit:ji()}}function D$(t,e){t.min=e.min,t.max=e.max}function ha(t,e){D$(t.x,e.x),D$(t.y,e.y)}function O$(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Kq=1e-4,Mte=1-Kq,_te=1+Kq,Jq=.01,Bte=0-Jq,qte=0+Jq;function en(t){return t.max-t.min}function Vte(t,e,r){return Math.abs(t-e)<=r}function $$(t,e,r,n=.5){t.origin=n,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=en(r)/en(e),t.translate=Gt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Mte&&t.scale<=_te||isNaN(t.scale))&&(t.scale=1),(t.translate>=Bte&&t.translate<=qte||isNaN(t.translate))&&(t.translate=0)}function Am(t,e,r,n){$$(t.x,e.x,r.x,n?n.originX:void 0),$$(t.y,e.y,r.y,n?n.originY:void 0)}function R$(t,e,r){t.min=r.min+e.min,t.max=t.min+en(e)}function Ute(t,e,r){R$(t.x,e.x,r.x),R$(t.y,e.y,r.y)}function L$(t,e,r){t.min=e.min-r.min,t.max=t.min+en(e)}function ob(t,e,r){L$(t.x,e.x,r.x),L$(t.y,e.y,r.y)}function F$(t,e,r,n,s){return t-=e,t=sb(t,1/r,n),s!==void 0&&(t=sb(t,1/s,n)),t}function zte(t,e=0,r=1,n=.5,s,o=t,i=t){if(Za.test(e)&&(e=parseFloat(e),e=Gt(i.min,i.max,e/100)-i.min),typeof e!="number")return;let l=Gt(o.min,o.max,n);t===o&&(l-=e),t.min=F$(t.min,e,r,l,s),t.max=F$(t.max,e,r,l,s)}function M$(t,e,[r,n,s],o,i){zte(t,e[r],e[n],e[s],e.scale,o,i)}const Wte=["x","scaleX","originX"],Gte=["y","scaleY","originY"];function _$(t,e,r,n){M$(t.x,e,Wte,r?r.x:void 0,n?n.x:void 0),M$(t.y,e,Gte,r?r.y:void 0,n?n.y:void 0)}function B$(t){return t.translate===0&&t.scale===1}function Xq(t){return B$(t.x)&&B$(t.y)}function q$(t,e){return t.min===e.min&&t.max===e.max}function Hte(t,e){return q$(t.x,e.x)&&q$(t.y,e.y)}function V$(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Zq(t,e){return V$(t.x,e.x)&&V$(t.y,e.y)}function U$(t){return en(t.x)/en(t.y)}function z$(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Xn(t){return[t("x"),t("y")]}function Yte(t,e,r){let n="";const s=t.x.translate/e.x,o=t.y.translate/e.y,i=(r==null?void 0:r.z)||0;if((s||o||i)&&(n=`translate3d(${s}px, ${o}px, ${i}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:m,rotateY:f,skewX:p,skewY:h}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),m&&(n+=`rotateX(${m}deg) `),f&&(n+=`rotateY(${f}deg) `),p&&(n+=`skewX(${p}deg) `),h&&(n+=`skewY(${h}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Qq=["TopLeft","TopRight","BottomLeft","BottomRight"],Kte=Qq.length,W$=t=>typeof t=="string"?parseFloat(t):t,G$=t=>typeof t=="number"||Ee.test(t);function Jte(t,e,r,n,s,o){s?(t.opacity=Gt(0,r.opacity??1,Xte(n)),t.opacityExit=Gt(e.opacity??1,0,Zte(n))):o&&(t.opacity=Gt(e.opacity??1,r.opacity??1,n));for(let i=0;i<Kte;i++){const l=`border${Qq[i]}Radius`;let c=H$(e,l),u=H$(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||G$(c)===G$(u)?(t[l]=Math.max(Gt(W$(c),W$(u),n),0),(Za.test(u)||Za.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=Gt(e.rotate||0,r.rotate||0,n))}function H$(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Xte=eV(0,.5,Y6),Zte=eV(.5,.95,sa);function eV(t,e,r){return n=>n<t?0:n>e?1:r(xf(t,e,n))}function Qte(t,e,r){const n=Kr(t)?t:lu(t);return n.start(GP("",n,e,r)),n.animation}function Nf(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const ere=(t,e)=>t.depth-e.depth;class tre{constructor(){this.children=[],this.isDirty=!1}add(e){PP(this.children,e),this.isDirty=!0}remove(e){kP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ere),this.isDirty=!1,this.children.forEach(e)}}function rre(t,e){const r=Qr.now(),n=({timestamp:s})=>{const o=s-r;o>=e&&(ti(n),t(o-e))};return Bt.setup(n,!0),()=>ti(n)}function jg(t){return Kr(t)?t.get():t}class nre{constructor(){this.members=[]}add(e){PP(this.members,e),e.scheduleRender()}remove(e){if(kP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const s=n.options.layoutDependency,o=e.options.layoutDependency;s!==void 0&&o!==void 0&&s===o||(e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:l}=e.options;l===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ng={hasAnimatedSinceResize:!0,hasEverUpdated:!1},c1=["","X","Y","Z"],are=1e3;let sre=0;function u1(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function tV(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=jq(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Bt,!(s||o))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&tV(n)}function rV({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},l=e==null?void 0:e()){this.id=sre++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lre),this.nodes.forEach(mre),this.nodes.forEach(fre),this.nodes.forEach(cre)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tre)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new OP),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=Dq(i)&&!ite(i),this.instance=i;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let d,m=0;const f=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{m=window.innerWidth}),t(i,()=>{const p=window.innerWidth;p!==m&&(m=p,this.root.updateBlockedByResize=!0,d&&d(),d=rre(f,250),Ng.hasAnimatedSinceResize&&(Ng.hasAnimatedSinceResize=!1,this.nodes.forEach(J$)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||u.getDefaultTransition()||xre,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),g=!this.targetLayout||!Zq(this.targetLayout,p),x=!m&&f;if(this.options.layoutRoot||this.resumeFrom||x||m&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...WP(h,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(d,x)}else m||J$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ti(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pre),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Y$);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(K$);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dre),this.nodes.forEach(ore),this.nodes.forEach(ire)):this.nodes.forEach(K$),this.clearAllSnapshots();const l=Qr.now();Or.delta=ss(0,1e3/60,l-Or.timestamp),Or.timestamp=l,Or.isProcessing=!0,t1.update.process(Or),t1.preRender.process(Or),t1.render.process(Or),Or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,JP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ure),this.sharedNodes.forEach(hre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!en(this.snapshot.measuredBox.x)&&!en(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=xr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Xq(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&this.instance&&(l||Pi(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),bre(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return xr();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(vre))){const{scroll:d}=this.root;d&&(wc(l.x,d.offset.x),wc(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=xr();if(ha(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:m,options:f}=d;d!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&ha(l,i),wc(l.x,m.offset.x),wc(l.y,m.offset.y))}return l}applyTransform(i,l=!1){const c=xr();ha(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Cc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Pi(d.latestValues)&&Cc(c,d.latestValues)}return Pi(this.latestValues)&&Cc(c,this.latestValues),c}removeTransform(i){const l=xr();ha(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Pi(u.latestValues))continue;EA(u.latestValues)&&u.updateSnapshot();const d=xr(),m=u.measurePageBox();ha(d,m),_$(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Pi(this.latestValues)&&_$(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!this.layout||!(d||m))return;this.resolvedRelativeTargetAt=Or.timestamp;const f=this.getClosestProjectingParent();f&&this.linkedParentVersion!==f.layoutVersion&&!f.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(f&&f.layout?this.createRelativeTarget(f,this.layout.layoutBox,f.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xr(),this.targetWithTransforms=xr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ute(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ha(this.target,this.layout.layoutBox),_q(this.target,this.targetDelta)):ha(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?this.createRelativeTarget(f,this.target,f.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||EA(this.parent.latestValues)||Mq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,l,c){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xr(),this.relativeTargetOrigin=xr(),ob(this.relativeTargetOrigin,l,c),ha(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var h;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Or.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ha(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,f=this.treeScale.y;xte(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=xr());const{target:p}=i;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O$(this.prevProjectionDelta.x,this.projectionDelta.x),O$(this.prevProjectionDelta.y,this.projectionDelta.y)),Am(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==f||!z$(this.projectionDelta.x,this.prevProjectionDelta.x)||!z$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nc(),this.projectionDelta=Nc(),this.projectionDeltaWithTransform=Nc()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},m=Nc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=xr(),p=c?c.source:void 0,h=this.layout?this.layout.source:void 0,y=p!==h,b=this.getStack(),g=!b||b.members.length<=1,x=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(yre));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const N=w/1e3;X$(m.x,i.x,N),X$(m.y,i.y,N),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ob(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gre(this.relativeTarget,this.relativeTargetOrigin,f,N),v&&Hte(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=xr()),ha(v,this.relativeTarget)),y&&(this.animationValues=d,Jte(d,u,this.latestValues,N,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(ti(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{Ng.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=lu(0)),this.currentAnimation=Qte(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(are),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&nV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||xr();const m=en(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+m;const f=en(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+f}ha(l,c),Cc(l,d),Am(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new nre),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&u1("z",i,u,this.animationValues);for(let d=0;d<c1.length;d++)u1(`rotate${c1[d]}`,i,u,this.animationValues),u1(`skew${c1[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}applyProjectionStyles(i,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=jg(l==null?void 0:l.pointerEvents)||"",i.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=jg(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Pi(this.latestValues)&&(i.transform=c?c({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=Yte(this.projectionDeltaWithTransform,this.treeScale,d);c&&(m=c(d,m)),i.transform=m;const{x:f,y:p}=this.projectionDelta;i.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,u.animationValues?i.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const h in OA){if(d[h]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:g}=OA[h],x=m==="none"?d[h]:y(d[h],u);if(b){const v=b.length;for(let w=0;w<v;w++)i[b[w]]=x}else g?this.options.visualElement.renderState.vars[h]=x:i[h]=x}this.options.layoutId&&(i.pointerEvents=u===this?jg(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Y$),this.root.sharedNodes.clear()}}}function ore(t){t.updateLayout()}function ire(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,i=e.source!==t.layout.source;o==="size"?Xn(m=>{const f=i?e.measuredBox[m]:e.layoutBox[m],p=en(f);f.min=n[m].min,f.max=f.min+p}):nV(o,e.layoutBox,n)&&Xn(m=>{const f=i?e.measuredBox[m]:e.layoutBox[m],p=en(n[m]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+p)});const l=Nc();Am(l,n,e.layoutBox);const c=Nc();i?Am(c,t.applyTransform(s,!0),e.measuredBox):Am(c,n,e.layoutBox);const u=!Xq(l);let d=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:p}=m;if(f&&p){const h=xr();ob(h,e.layoutBox,f.layoutBox);const y=xr();ob(y,n,p.layoutBox),Zq(h,y)||(d=!0),m.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=h,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function lre(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cre(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ure(t){t.clearSnapshot()}function Y$(t){t.clearMeasurements()}function K$(t){t.isLayoutDirty=!1}function dre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function J$(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mre(t){t.resolveTargetDelta()}function fre(t){t.calcProjection()}function pre(t){t.resetSkewAndRotation()}function hre(t){t.removeLeadSnapshot()}function X$(t,e,r){t.translate=Gt(e.translate,0,r),t.scale=Gt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function Z$(t,e,r,n){t.min=Gt(e.min,r.min,n),t.max=Gt(e.max,r.max,n)}function gre(t,e,r,n){Z$(t.x,e.x,r.x,n),Z$(t.y,e.y,r.y,n)}function yre(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xre={duration:.45,ease:[.4,0,.1,1]},Q$=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eR=Q$("applewebkit/")&&!Q$("chrome/")?Math.round:sa;function tR(t){t.min=eR(t.min),t.max=eR(t.max)}function bre(t){tR(t.x),tR(t.y)}function nV(t,e,r){return t==="position"||t==="preserve-aspect"&&!Vte(U$(e),U$(r),.2)}function vre(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const jre=rV({attachResizeListener:(t,e)=>Nf(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),d1={current:void 0},aV=rV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!d1.current){const t=new jre({});t.mount(window),t.setOptions({layoutScroll:!0}),d1.current=t}return d1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rk=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function rR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Nre(...t){return e=>{let r=!1;const n=t.map(s=>{const o=rR(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():rR(t[s],null)}}}}function wre(...t){return j.useCallback(Nre(...t),t)}class Cre extends j.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=PA(n)&&n.offsetWidth||0,o=PA(n)&&n.offsetHeight||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left,i.bottom=o-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Sre({children:t,isPresent:e,anchorX:r,anchorY:n,root:s}){var m;const o=j.useId(),i=j.useRef(null),l=j.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=j.useContext(rk),u=((m=t.props)==null?void 0:m.ref)??(t==null?void 0:t.ref),d=wre(i,u);return j.useInsertionEffect(()=>{const{width:f,height:p,top:h,left:y,right:b,bottom:g}=l.current;if(e||!i.current||!f||!p)return;const x=r==="left"?`left: ${y}`:`right: ${b}`,v=n==="bottom"?`bottom: ${g}`:`top: ${h}`;i.current.dataset.motionPopId=o;const w=document.createElement("style");c&&(w.nonce=c);const N=s??document.head;return N.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${x}px !important;
            ${v}px !important;
          }
        `),()=>{N.contains(w)&&N.removeChild(w)}},[e]),a.jsx(Cre,{isPresent:e,childRef:i,sizeRef:l,children:j.cloneElement(t,{ref:d})})}const Are=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:i,anchorX:l,anchorY:c,root:u})=>{const d=TP(Ire),m=j.useId();let f=!0,p=j.useMemo(()=>(f=!1,{id:m,initial:e,isPresent:r,custom:s,onExitComplete:h=>{d.set(h,!0);for(const y of d.values())if(!y)return;n&&n()},register:h=>(d.set(h,!1),()=>d.delete(h))}),[r,d,n]);return o&&f&&(p={...p}),j.useMemo(()=>{d.forEach((h,y)=>d.set(y,!1))},[r]),j.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),i==="popLayout"&&(t=a.jsx(Sre,{isPresent:r,anchorX:l,anchorY:c,root:u,children:t})),a.jsx(Jv.Provider,{value:p,children:t})};function Ire(){return new Map}function sV(t=!0){const e=j.useContext(Jv);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,o=j.useId();j.useEffect(()=>{if(t)return s(o)},[t]);const i=j.useCallback(()=>t&&n&&n(o),[o,n,t]);return!r&&n?[!1,i]:[!0]}const Ah=t=>t.key||"";function nR(t){const e=[];return j.Children.forEach(t,r=>{j.isValidElement(r)&&e.push(r)}),e}const oV=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:o="sync",propagate:i=!1,anchorX:l="left",anchorY:c="top",root:u})=>{const[d,m]=sV(i),f=j.useMemo(()=>nR(t),[t]),p=i&&!d?[]:f.map(Ah),h=j.useRef(!0),y=j.useRef(f),b=TP(()=>new Map),g=j.useRef(new Set),[x,v]=j.useState(f),[w,N]=j.useState(f);F6(()=>{h.current=!1,y.current=f;for(let A=0;A<w.length;A++){const T=Ah(w[A]);p.includes(T)?(b.delete(T),g.current.delete(T)):b.get(T)!==!0&&b.set(T,!1)}},[w,p.length,p.join("-")]);const S=[];if(f!==x){let A=[...f];for(let T=0;T<w.length;T++){const I=w[T],k=Ah(I);p.includes(k)||(A.splice(T,0,I),S.push(I))}return o==="wait"&&S.length&&(A=S),N(nR(A)),v(f),null}const{forceRender:C}=j.useContext(IP);return a.jsx(a.Fragment,{children:w.map(A=>{const T=Ah(A),I=i&&!d?!1:f===w||p.includes(T),k=()=>{if(g.current.has(T))return;if(g.current.add(T),b.has(T))b.set(T,!0);else return;let $=!0;b.forEach(L=>{L||($=!1)}),$&&(C==null||C(),N(y.current),i&&(m==null||m()),n&&n())};return a.jsx(Are,{isPresent:I,initial:!h.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:u,onExitComplete:I?void 0:k,anchorX:l,anchorY:c,children:A},T)})})},iV=j.createContext({strict:!1}),aR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let sR=!1;function Tre(){if(sR)return;const t={};for(const e in aR)t[e]={isEnabled:r=>aR[e].some(n=>!!r[n])};Rq(t),sR=!0}function lV(){return Tre(),pte()}function Pre(t){const e=lV();for(const r in t)e[r]={...e[r],...t[r]};Rq(e)}const kre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ib(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kre.has(t)}let cV=t=>!ib(t);function Ere(t){typeof t=="function"&&(cV=e=>e.startsWith("on")?!ib(e):t(e))}try{Ere(require("@emotion/is-prop-valid").default)}catch{}function Dre(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(cV(s)||r===!0&&ib(s)||!e&&!ib(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const Qv=j.createContext({});function Ore(t,e){if(Zv(t)){const{initial:r,animate:n}=t;return{initial:r===!1||jf(r)?r:void 0,animate:jf(n)?n:void 0}}return t.inherit!==!1?e:{}}function $re(t){const{initial:e,animate:r}=Ore(t,j.useContext(Qv));return j.useMemo(()=>({initial:e,animate:r}),[oR(e),oR(r)])}function oR(t){return Array.isArray(t)?t.join(" "):t}const nk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uV(t,e,r){for(const n in e)!Kr(e[n])&&!Vq(n,r)&&(t[n]=e[n])}function Rre({transformTemplate:t},e){return j.useMemo(()=>{const r=nk();return ek(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Lre(t,e){const r=t.style||{},n={};return uV(n,r,t),Object.assign(n,Rre(t,e)),n}function Fre(t,e){const r={},n=Lre(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const dV=()=>({...nk(),attrs:{}});function Mre(t,e,r,n){const s=j.useMemo(()=>{const o=dV();return Uq(o,e,Wq(n),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};uV(o,t.style,t),s.style={...o,...s.style}}return s}const _re=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ak(t){return typeof t!="string"||t.includes("-")?!1:!!(_re.indexOf(t)>-1||/[A-Z]/u.test(t))}function Bre(t,e,r,{latestValues:n},s,o=!1,i){const c=(i??ak(t)?Mre:Fre)(e,n,s,t),u=Dre(e,typeof t=="string",o),d=t!==j.Fragment?{...u,...c,ref:r}:{},{children:m}=e,f=j.useMemo(()=>Kr(m)?m.get():m,[m]);return j.createElement(t,{...d,children:f})}function qre({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:Vre(r,n,s,t),renderState:e()}}function Vre(t,e,r,n){const s={},o=n(t,{});for(const f in o)s[f]=jg(o[f]);let{initial:i,animate:l}=t;const c=Zv(t),u=$q(t);e&&u&&!c&&t.inherit!==!1&&(i===void 0&&(i=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const m=d?l:i;if(m&&typeof m!="boolean"&&!Xv(m)){const f=Array.isArray(m)?m:[m];for(let p=0;p<f.length;p++){const h=HP(t,f[p]);if(h){const{transitionEnd:y,transition:b,...g}=h;for(const x in g){let v=g[x];if(Array.isArray(v)){const w=d?v.length-1:0;v=v[w]}v!==null&&(s[x]=v)}for(const x in y)s[x]=y[x]}}}return s}const mV=t=>(e,r)=>{const n=j.useContext(Qv),s=j.useContext(Jv),o=()=>qre(t,e,n,s);return r?o():TP(o)},Ure=mV({scrapeMotionValuesFromProps:tk,createRenderState:nk}),zre=mV({scrapeMotionValuesFromProps:Gq,createRenderState:dV}),Wre=Symbol.for("motionComponentSymbol");function Gre(t,e,r){const n=j.useRef(r);j.useInsertionEffect(()=>{n.current=r});const s=j.useRef(null);return j.useCallback(o=>{var l;o&&((l=t.onMount)==null||l.call(t,o)),e&&(o?e.mount(o):e.unmount());const i=n.current;if(typeof i=="function")if(o){const c=i(o);typeof c=="function"&&(s.current=c)}else s.current?(s.current(),s.current=null):i(o);else i&&(i.current=o)},[e])}const fV=j.createContext({});function lm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Hre(t,e,r,n,s,o){var g,x;const{visualElement:i}=j.useContext(Qv),l=j.useContext(iV),c=j.useContext(Jv),u=j.useContext(rk).reducedMotion,d=j.useRef(null),m=j.useRef(!1);n=n||l.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u,isSVG:o}),m.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const f=d.current,p=j.useContext(fV);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Yre(d.current,r,s,p);const h=j.useRef(!1);j.useInsertionEffect(()=>{f&&h.current&&f.update(r,c)});const y=r[vq],b=j.useRef(!!y&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,y))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,y)));return F6(()=>{m.current=!0,f&&(h.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),b.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,y)}),b.current=!1),f.enteringChildren=void 0)}),f}function Yre(t,e,r,n){const{layoutId:s,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:pV(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||l&&lm(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function pV(t){if(t)return t.options.allowProjection!==!1?t.projection:pV(t.parent)}function m1(t,{forwardMotionProps:e=!1,type:r}={},n,s){n&&Pre(n);const o=r?r==="svg":ak(t),i=o?zre:Ure;function l(u,d){let m;const f={...j.useContext(rk),...u,layoutId:Kre(u)},{isStatic:p}=f,h=$re(u),y=i(u,p);if(!p&&L6){Jre();const b=Xre(f);m=b.MeasureLayout,h.visualElement=Hre(t,y,f,s,b.ProjectionNode,o)}return a.jsxs(Qv.Provider,{value:h,children:[m&&h.visualElement?a.jsx(m,{visualElement:h.visualElement,...f}):null,Bre(t,u,Gre(y,h.visualElement,d),y,p,e,o)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=j.forwardRef(l);return c[Wre]=t,c}function Kre({layoutId:t}){const e=j.useContext(IP).id;return e&&t!==void 0?e+"-"+t:t}function Jre(t,e){j.useContext(iV).strict}function Xre(t){const e=lV(),{drag:r,layout:n}=e;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Zre(t,e){if(typeof Proxy>"u")return m1;const r=new Map,n=(o,i)=>m1(o,i,t,e),s=(o,i)=>n(o,i);return new Proxy(s,{get:(o,i)=>i==="create"?n:(r.has(i)||r.set(i,m1(i,void 0,t,e)),r.get(i))})}const Qre=(t,e)=>e.isSVG??ak(t)?new Ete(e):new Ste(e,{allowProjection:t!==j.Fragment});class ene extends mi{constructor(e){super(e),e.animationState||(e.animationState=Lte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let tne=0;class rne extends mi{constructor(){super(...arguments),this.id=tne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nne={animation:{Feature:ene},exit:{Feature:rne}};function kp(t){return{point:{x:t.pageX,y:t.pageY}}}const ane=t=>e=>XP(e)&&t(e,kp(e));function Im(t,e,r,n){return Nf(t,e,ane(r),n)}const hV=({current:t})=>t?t.ownerDocument.defaultView:null,iR=(t,e)=>Math.abs(t-e);function sne(t,e){const r=iR(t.x,e.x),n=iR(t.y,e.y);return Math.sqrt(r**2+n**2)}const lR=new Set(["auto","scroll"]);class gV{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=p1(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=sne(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!y)return;const{point:b}=p,{timestamp:g}=Or;this.history.push({...b,timestamp:g});const{onStart:x,onMove:v}=this.handlers;h||(x&&x(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,h)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=f1(h,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(p,h)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=p1(p.type==="pointercancel"?this.lastMoveEventInfo:f1(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,x),b&&b(p,x)},!XP(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=s||window;const c=kp(e),u=f1(c,this.transformPagePoint),{point:d}=u,{timestamp:m}=Or;this.history=[{...d,timestamp:m}];const{onSessionStart:f}=r;f&&f(e,p1(u,this.history)),this.removeListeners=Ip(Im(this.contextWindow,"pointermove",this.handlePointerMove),Im(this.contextWindow,"pointerup",this.handlePointerUp),Im(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(lR.has(n.overflowX)||lR.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,s=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:s.x-r.x,y:s.y-r.y};o.x===0&&o.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,s),Bt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ti(this.updatePoint)}}function f1(t,e){return e?{point:e(t.point)}:t}function cR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function p1({point:t},e){return{point:t,delta:cR(t,yV(e)),offset:cR(t,one(e)),velocity:ine(e,.1)}}function one(t){return t[0]}function yV(t){return t[t.length-1]}function ine(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=yV(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>Ts(e)));)r--;if(!n)return{x:0,y:0};const o=ra(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function lne(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Gt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Gt(r,t,n.max):Math.min(t,r)),t}function uR(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function cne(t,{top:e,left:r,bottom:n,right:s}){return{x:uR(t.x,r,s),y:uR(t.y,e,n)}}function dR(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function une(t,e){return{x:dR(t.x,e.x),y:dR(t.y,e.y)}}function dne(t,e){let r=.5;const n=en(t),s=en(e);return s>n?r=xf(e.min,e.max-n,t.min):n>s&&(r=xf(t.min,t.max-s,e.min)),ss(0,1,r)}function mne(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const $A=.35;function fne(t=$A){return t===!1?t=0:t===!0&&(t=$A),{x:mR(t,"left","right"),y:mR(t,"top","bottom")}}function mR(t,e,r){return{min:fR(t,e),max:fR(t,r)}}function fR(t,e){return typeof t=="number"?t:t[e]||0}const pne=new WeakMap;class hne{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=m=>{r?(this.stopAnimation(),this.snapToCursor(kp(m).point)):this.pauseAnimation()},i=(m,f)=>{this.stopAnimation();const{drag:p,dragPropagation:h,onDragStart:y}=this.getProps();if(p&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=rte(p),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(g=>{let x=this.getAxisMotionValue(g).get()||0;if(Za.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[g];w&&(x=en(w)*(parseFloat(x)/100))}}this.originPoint[g]=x}),y&&Bt.postRender(()=>y(m,f)),AA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:h,onDirectionLock:y,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:g}=f;if(h&&this.currentDirection===null){this.currentDirection=gne(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),b&&b(m,f)},c=(m,f)=>{this.latestPointerEvent=m,this.latestPanInfo=f,this.stop(m,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Xn(m=>{var f;return this.getAnimationState(m)==="paused"&&((f=this.getAxisMotionValue(m).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new gV(e,{onSessionStart:o,onStart:i,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:hV(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!n)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&Bt.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Ih(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=lne(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&lm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=cne(n.layoutBox,e):this.constraints=!1,this.elastic=fne(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Xn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=mne(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!lm(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=bte(n,s.root,this.visualElement.getTransformPagePoint());let i=une(s.layout.layoutBox,o);if(r){const l=r(gte(i));this.hasMutatedConstraints=!!l,l&&(i=Fq(l))}return i}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Xn(d=>{if(!Ih(d,r,this.currentDirection))return;let m=c&&c[d]||{};i&&(m={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,h={type:"inertia",velocity:n?e[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(d,h)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return AA(this.visualElement,e),n.start(GP(e,n,0,r,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Xn(r=>{const{drag:n}=this.getProps();if(!Ih(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[r],c=o.get()||0;o.set(e[r]-Gt(i,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!lm(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Xn(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();s[i]=dne({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xn(i=>{if(!Ih(i,e,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(Gt(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;pne.set(this.visualElement,this);const e=this.visualElement.current,r=Im(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps(),m=c.target,f=m!==e&&Eq(m);u&&d&&!f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();lm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Bt.read(n);const i=Nf(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xn(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=c[d].translate,m.set(m.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=$A,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Ih(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function gne(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class yne extends mi{constructor(e){super(e),this.removeGroupControls=sa,this.removeListeners=sa,this.controls=new hne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sa}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const pR=t=>(e,r)=>{t&&Bt.postRender(()=>t(e,r))};class xne extends mi{constructor(){super(...arguments),this.removePointerDownListener=sa}onPointerDown(e){this.session=new gV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:pR(e),onStart:pR(r),onMove:n,onEnd:(o,i)=>{delete this.session,s&&Bt.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=Im(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let h1=!1;class bne extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=e;o&&(r.group&&r.group.add(o),n&&n.register&&s&&n.register(o),h1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Ng.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:o}=this.props,{projection:i}=n;return i&&(i.isPresent=o,e.layoutDependency!==r&&i.setOptions({...i.options,layoutDependency:r}),h1=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Bt.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),JP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;h1=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xV(t){const[e,r]=sV(),n=j.useContext(IP);return a.jsx(bne,{...t,layoutGroup:n,switchLayoutGroup:j.useContext(fV),isPresent:e,safeToRemove:r})}const vne={pan:{Feature:xne},drag:{Feature:yne,ProjectionNode:aV,MeasureLayout:xV}};function hR(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,o=n[s];o&&Bt.postRender(()=>o(e,kp(e)))}class jne extends mi{mount(){const{current:e}=this.node;e&&(this.unmount=nte(e,(r,n)=>(hR(this.node,n,"Start"),s=>hR(this.node,s,"End"))))}unmount(){}}class Nne extends mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ip(Nf(this.node.current,"focus",()=>this.onFocus()),Nf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gR(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),o=n[s];o&&Bt.postRender(()=>o(e,kp(e)))}class wne extends mi{mount(){const{current:e}=this.node;e&&(this.unmount=ote(e,(r,n)=>(gR(this.node,n,"Start"),(s,{success:o})=>gR(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const RA=new WeakMap,g1=new WeakMap,Cne=t=>{const e=RA.get(t.target);e&&e(t)},Sne=t=>{t.forEach(Cne)};function Ane({root:t,...e}){const r=t||document;g1.has(r)||g1.set(r,{});const n=g1.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(Sne,{root:t,...e})),n[s]}function Ine(t,e,r){const n=Ane(e);return RA.set(t,r),n.observe(t),()=>{RA.delete(t),n.unobserve(t)}}const Tne={some:0,all:1};class Pne extends mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:o}=e,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:Tne[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),f=u?d:m;f&&f(c)};return Ine(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(kne(e,r))&&this.startObserver()}unmount(){}}function kne({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Ene={inView:{Feature:Pne},tap:{Feature:wne},focus:{Feature:Nne},hover:{Feature:jne}},Dne={layout:{ProjectionNode:aV,MeasureLayout:xV}},One={...nne,...Ene,...vne,...Dne},$ne=Zre(One,Qre),bV=({children:t})=>a.jsx($ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3,ease:"easeOut"},className:"w-full h-full",children:t});function vV(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=vV(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=vV(t))&&(n&&(n+=" "),n+=e);return n}function Rne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const jV=j.forwardRef(Rne);function Lne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}const Fne=j.forwardRef(Lne);function Mne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const $a=j.forwardRef(Mne);function _ne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const wf=j.forwardRef(_ne);function Bne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const qne=j.forwardRef(Bne);function Vne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}const Une=j.forwardRef(Vne);function zne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Wne=j.forwardRef(zne);function Gne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const Cf=j.forwardRef(Gne);function Hne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const ej=j.forwardRef(Hne);function Yne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const Kne=j.forwardRef(Yne);function Jne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const NV=j.forwardRef(Jne);function Xne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const tj=j.forwardRef(Xne);function Zne({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Qne=j.forwardRef(Zne);function eae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const yR=j.forwardRef(eae);function tae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const xR=j.forwardRef(tae);function rae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const nae=j.forwardRef(rae);function aae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const sae=j.forwardRef(aae);function oae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const iae=j.forwardRef(oae);function lae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ra=j.forwardRef(lae);function cae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const uae=j.forwardRef(cae);function dae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const mae=j.forwardRef(dae);function fae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Fe=j.forwardRef(fae);function pae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const qe=j.forwardRef(pae);function hae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const Fl=j.forwardRef(hae);function gae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Xe=j.forwardRef(gae);function yae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const xae=j.forwardRef(yae);function bae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const bR=j.forwardRef(bae);function vae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const sk=j.forwardRef(vae);function jae({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Hu=j.forwardRef(jae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wae=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),vR=t=>{const e=wae(t);return e.charAt(0).toUpperCase()+e.slice(1)},wV=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Cae=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>j.createElement("svg",{ref:c,...Sae,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:wV("lucide",s),...!o&&!Cae(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>j.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,e)=>{const r=j.forwardRef(({className:n,...s},o)=>j.createElement(Aae,{ref:o,iconNode:e,className:wV(`lucide-${Nae(vR(t))}`,`lucide-${t}`,n),...s}));return r.displayName=vR(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Tae=Ke("arrow-right-left",Iae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],kae=Ke("banknote",Pae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Dae=Ke("briefcase",Eae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],cu=Ke("building",Oae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],La=Ke("calendar",$ae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Lae=Ke("chart-column",Rae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M20 4L9 15",key:"1qkx8z"}],["path",{d:"M21 19L3 19",key:"100sma"}],["path",{d:"M9 15L4 10",key:"9zxff7"}]],wn=Ke("check-line",Fae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CV=Ke("circle-alert",Mae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],Bae=Ke("circle-arrow-left",_ae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sf=Ke("circle-check-big",qae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ep=Ke("circle-check",Vae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],SV=Ke("circle-x",Uae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],lb=Ke("credit-card",zae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gae=Ke("eye-off",Wae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],os=Ke("eye",Hae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-1",key:"zg0ygc"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"M16 18v-3",key:"j5jt4h"}]],Kae=Ke("file-chart-column",Yae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ir=Ke("file-text",Jae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],is=Ke("funnel",Xae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ok=Ke("globe",Zae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],ese=Ke("hand-coins",Qae);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],rse=Ke("image",tse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ase=Ke("layout-dashboard",nse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ose=Ke("list",sse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lse=Ke("mail",ise);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],use=Ke("map-pin",cse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Vs=Ke("paperclip",dse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Br=Ke("pencil",mse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"M20 11H4",key:"6ut86h"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"M7 21V4a1 1 0 0 1 1-1h4a1 1 0 0 1 0 12H7",key:"1ana5r"}]],Qs=Ke("philippine-peso",fse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],jR=Ke("phone",pse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cn=Ke("plus",hse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],uu=Ke("printer",gse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]],xse=Ke("receipt-text",yse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],AV=Ke("save",bse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jse=Ke("settings",vse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],IV=Ke("square-pen",Nse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],er=Ke("trash-2",wse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Kt=Ke("trash",Cse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TV=Ke("trending-up",Sse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ik=Ke("upload",Ase);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Tse=Ke("user-check",Ise);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Af=Ke("user",Pse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ni=Ke("users",kse);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],NR=Ke("wallet",Ese);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bt=Ke("x",Dse),Ose=ase,$se=kae,Rse=xse,Lse=ese,Fse=jse,Mse=[{name:"Dashboard",href:"/dashboard",icon:Ose},{name:"Disbursement",icon:$se,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests",moduleId:1},{name:"Disbursement Voucher",href:"/disbursement/vouchers",moduleId:2},{name:"Cheque Generator",href:"/disbursement/cheque-generator",moduleId:3},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers",moduleId:4},{name:"Purchase Request",href:"/disbursement/purchase-requests",moduleId:5},{name:"Fund Utilization Request",href:"/disbursement/fund-utilization-requests",moduleId:6},{name:"Beginning Balance",href:"/disbursement/beginning-balance",moduleId:7},{name:"Travel Order",href:"/disbursement/travel-orders",moduleId:8}]},{name:"Collections",icon:Rse,submenu:[{name:"Community Tax Individual",href:"/collections/community-tax",moduleId:9},{name:"Community Tax Corporate",href:"/collections/community-tax-corporation",moduleId:10},{name:"General Service Invoice",href:"/collections/general-service-receipts",moduleId:11},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts",moduleId:12},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts",moduleId:13},{name:"Real Property Tax Receipt",href:"/collections/real-property-tax",moduleId:14},{name:"Public Market Ticket",href:"/collections/public-market-tickets",moduleId:15},{name:"Business Permits",href:"/collections/business-permits",moduleId:16}]},{name:"Budget",icon:Lse,submenu:[{name:"Funds",href:"/budget/funds",moduleId:17},{name:"Budget Appropriation",href:"/budget/details",moduleId:18},{name:"Budget Allotment",href:"/budget/allotment",moduleId:19},{name:"Budget Supplemental",href:"/budget/supplemental",moduleId:20},{name:"Budget Transfer",href:"/budget/transfer",moduleId:21},{name:"Fund Transfer",href:"/budget/fund-transfer",moduleId:22}]},{name:"Reports",icon:Kae,submenu:[{name:"Disbursement Journals",href:"/disbursement/disbursement-journals",moduleId:23},{name:"General Ledger",href:"/reports/general-ledger",moduleId:24},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger",moduleId:25},{name:"Trial Balance",href:"/reports/trial-balance",moduleId:26},{name:"Post-Closing",href:"/reports/post-closing",moduleId:27},{name:"Financial Position",href:"/reports/financial-position",moduleId:28},{name:"Financial Performance",href:"/reports/financial-performance",moduleId:29},{name:"Cash Flow",href:"/reports/cash-flow",moduleId:30},{name:"Change in Equity",href:"/reports/change-in-equity",moduleId:31},{name:"BIR Reports",href:"/reports/bir",moduleId:32},{name:"Alphalist",href:"/reports/alphalist",moduleId:33},{name:"Cashbook",href:"/collections/cashbook",moduleId:34},{name:"Collection Report",href:"/collections/reports",moduleId:35},{name:"Budget Summary",href:"/budget/summary",moduleId:36},{name:"Statement of Comparison",href:"/budget/statement-comparison",moduleId:37},{name:"Statement of Appropriation",href:"/budget/statement-appropriation",moduleId:38}]},{name:"Settings",icon:Fse,submenu:[{name:"Departments",href:"/settings/departments",moduleId:39},{name:"Subdepartments",href:"/settings/subdepartments",moduleId:40},{name:"LGU Maintenance",href:"/settings/lgu-maintenance",moduleId:41},{name:"Locations",href:"/settings/locations",moduleId:42},{name:"User Settings",submenu:[{name:"User Details",href:"/settings/users",moduleId:43},{name:"User Roles",href:"/settings/user-roles",moduleId:44},{name:"Role Access",href:"/settings/role-access",moduleId:45}]},{name:"Employee Settings",submenu:[{name:"Employee Details",href:"/settings/employees",moduleId:46},{name:"Employment Status",href:"/settings/employmentStatus",moduleId:47},{name:"Positions",href:"/settings/positions",moduleId:48},{name:"Nationalities",href:"/settings/nationalities",moduleId:49},{name:"Approval Matrix",href:"/settings/approval-matrix",moduleId:50}]},{name:"Partner Settings",submenu:[{name:"Vendors",href:"/settings/vendors",moduleId:51},{name:"Individuals",href:"/settings/customer",moduleId:52}]},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank",moduleId:53},{name:"Currency",href:"/settings/currency",moduleId:54}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details",moduleId:55},{name:"Document Type Category",href:"/settings/document-type-categories",moduleId:56}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items",moduleId:57},{name:"Item Units",href:"/settings/items/units",moduleId:58}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details",moduleId:59},{name:"Project Type",href:"/settings/project-type",moduleId:60}]},{name:"Fiscal Year",href:"/settings/fiscal-year",moduleId:61},{name:"Tax Code",href:"/settings/tax-code",moduleId:62},{name:"Mode of Payment",href:"/settings/mode-of-payment",moduleId:63},{name:"Payment Terms",href:"/settings/payment-terms",moduleId:64},{name:"Industry",href:"/settings/industry",moduleId:65}]},{name:"Chart of Accounts Settings",submenu:[{name:"Account Group",href:"/settings/account-group",moduleId:66},{name:"Major Account Group",href:"/settings/major-account-group",moduleId:67},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group",moduleId:68},{name:"Chart of Accounts",href:"/settings/chart-of-accounts",moduleId:69},{name:"Subsidiary Accounts",href:"/settings/subsidiary-accounts",moduleId:70}]},{name:"Report Settings",submenu:[{name:"Signatories",href:"/settings/signatories",moduleId:71},{name:"Logos and Images",href:"/settings/logos-and-images",moduleId:72},{name:"Watermarks",href:"/settings/watermarks",moduleId:73},{name:"Data Sources",href:"/settings/data-sources",moduleId:74}]},{name:"Real Property Settings",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration",moduleId:75},{name:"Base Unit Value",href:"/settings/base-unit-value",moduleId:76},{name:"General Revision",href:"/settings/general-revision",moduleId:77}]},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe",moduleId:78},{name:"PPE Categories",href:"/settings/ppe-categories",moduleId:79},{name:"PPE Suppliers",href:"/settings/ppe-suppliers",moduleId:80}]}]}];function PV({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:s,level:o=0,parentPath:i="",hasViewPermission:l}){return a.jsx("div",{className:_e("space-y-1",o>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(c=>{const u=i?`${i}.${c.name}`:c.name,d=e[u],m=s(c.submenu||[]);return l(c.moduleId)?a.jsx("div",{className:"relative",children:c.submenu?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:f=>{f.preventDefault(),r(u)},className:_e("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",m?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",d&&"border-l-4 border-primary-500",o>0&&"pl-2"),children:[a.jsxs("div",{className:"flex items-center",children:[c.icon&&a.jsx(c.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",m?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),a.jsx("span",{className:"text-left",children:c.name})]}),a.jsx("div",{className:"flex items-center",children:a.jsx("svg",{className:_e("h-5 w-5 transform transition-transform flex-shrink-0",d?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d&&a.jsxs("div",{className:"mt-1",children:[" ",a.jsx(PV,{items:c.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:s,level:o+1,parentPath:u,hasViewPermission:l})]})]}):a.jsxs(Nm,{to:c.href,className:_e("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(c.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",o>0&&"pl-2"),children:[c.icon&&a.jsx(c.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",n(c.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),a.jsx("span",{className:"text-left",children:c.name})]})},u):null})})}function _se(){var m,f;const t=Zs(),{user:e,selectedRole:r}=ee(p=>p.auth),[n,s]=j.useState({}),o=p=>{s(h=>({...h,[p]:!h[p]}))},i=p=>t.pathname===p||t.pathname===p+"/",l=p=>p.some(h=>h.href?t.pathname===h.href:h.children&&l(h.children)),c=(r==null?void 0:r.Description)==="Administrator";function u(p){if(c||!p)return!0;if(!(r!=null&&r.ModuleAccesses))return!1;const h=r.ModuleAccesses.find(y=>y.ModuleID===p);return h==null?void 0:h.View}const d=Mse.map(p=>{if(p.submenu){const h=p.submenu.filter(y=>y.submenu?y.submenu.filter(g=>u(g.moduleId)).length>0:u(y.moduleId));return h.length>0?{...p,submenu:h}:null}return u(p.moduleId)?p:null}).filter(Boolean);return a.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[a.jsx("div",{className:"flex items-center justify-center h-20 border-b border-neutral-200 bg-primary-800",children:a.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"CND System"})}),a.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:a.jsx("nav",{className:"space-y-1 px-2",children:a.jsx(PV,{items:d,expandedMenus:n,toggleMenu:o,isActive:i,isSubMenuActive:l,hasViewPermission:u})})}),e&&a.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((m=e.firstName)==null?void 0:m.charAt(0))||"",((f=e.lastName)==null?void 0:f.charAt(0))||""]})}),a.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),a.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function ec(t,e,r){let n=r.initialDeps??[],s;function o(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const m=t();if(!(m.length!==n.length||m.some((h,y)=>n[y]!==h)))return s;n=m;let p;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(p=Date.now()),s=e(...m),r.key&&((c=r.debug)!=null&&c.call(r))){const h=Math.round((Date.now()-d)*100)/100,y=Math.round((Date.now()-p)*100)/100,b=y/16,g=(x,v)=>{for(x=String(x);x.length<v;)x=" "+x;return x};console.info(`%c ${g(y,5)} /${g(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,s),s}return o.updateDeps=i=>{n=i},o}function wR(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const Bse=(t,e)=>Math.abs(t-e)<1.01,qse=(t,e,r)=>{let n;return function(...s){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,s),r)}},CR=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},Vse=t=>t,Use=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let s=e;s<=r;s++)n.push(s);return n},zse=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const s=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(s(CR(r)),!n.ResizeObserver)return()=>{};const o=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(CR(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return o.observe(r,{box:"border-box"}),()=>{o.unobserve(r)}},SR={passive:!0},AR=typeof window>"u"?!0:"onscrollend"in window,Wse=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let s=0;const o=t.options.useScrollendEvent&&AR?()=>{}:qse(n,()=>{e(s,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:m,isRtl:f}=t.options;s=m?r.scrollLeft*(f&&-1||1):r.scrollTop,o(),e(s,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,SR);const u=t.options.useScrollendEvent&&AR;return u&&r.addEventListener("scrollend",c,SR),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},Gse=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},Hse=(t,{adjustments:e=0,behavior:r},n)=>{var s,o;const i=t+e;(o=(s=n.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class Yse{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{const i=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var s;(s=n())==null||s.disconnect(),r=null},observe:s=>{var o;return(o=n())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=n())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,s])=>{typeof s>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Vse,rangeExtractor:Use,onChange:()=>{},measureElement:Gse,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,s;(s=(n=this.options).onChange)==null||s.call(n,this,r)},this.maybeNotify=ec(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const s=new Map,o=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(s.has(l.lane))continue;const c=o.get(l.lane);if(c==null||l.end>c.end?o.set(l.lane,l):l.end<c.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=ec(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,s,o,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:s,getItemKey:o,enabled:i}),{key:!1}),this.getMeasurements=ec(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:s,getItemKey:o,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const m=o(d),f=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),p=f?f.end+this.options.gap:n+s,h=l.get(m),y=typeof h=="number"?h:this.options.estimateSize(d),b=p+y,g=f?f.lane:d%this.options.lanes;u[d]={index:d,start:p,size:y,end:b,key:m,lane:g}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ec(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,s,o)=>this.range=r.length>0&&n>0?Kse({measurements:r,outerSize:n,scrollOffset:s,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ec(()=>{let r=null,n=null;const s=this.calculateRange();return s&&(r=s.startIndex,n=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,s,o,i)=>o===null||i===null?[]:r({startIndex:o,endIndex:i,overscan:n,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,s=r.getAttribute(n);return s?parseInt(s,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const s=this.indexFromElement(r),o=this.measurementsCache[s];if(!o)return;const i=o.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(s,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const s=this.measurementsCache[r];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,i=n-o;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,i,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,s)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(s))});return}this._measureElement(r,void 0)},this.getVirtualItems=ec(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const s=[];for(let o=0,i=r.length;o<i;o++){const l=r[o],c=n[l];s.push(c)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return wR(n[kV(0,n.length-1,s=>wR(n[s]).start,r)])},this.getOffsetForAlignment=(r,n,s=0)=>{const o=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+o?"end":"start"),n==="center"?r+=(s-o)/2:n==="end"&&(r-=o);const l=this.getTotalSize()+this.options.scrollMargin-o;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const s=this.measurementsCache[r];if(!s)return;const o=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(s.end>=i+o-this.options.scrollPaddingEnd)n="end";else if(s.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,s.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:s})},this.scrollToIndex=(r,{align:n="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let o=0;const i=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(r,u);if(!d){console.warn("Failed to get offset for index:",r);return}const[m,f]=d;this._scrollToOffset(m,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),h=this.getOffsetForIndex(r,f);if(!h){console.warn("Failed to get offset for index:",r);return}Bse(h[0],p)||c(f)})},c=u=>{this.targetWindow&&(o++,o<i?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${r} after ${i} attempts.`))};l(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let s;if(n.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((r=n[n.length-1])==null?void 0:r.end)??0;else{const o=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&o.some(l=>l===null);){const l=n[i];o[l.lane]===null&&(o[l.lane]=l.end),i--}s=Math.max(...o.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:s})=>{this.options.scrollToFn(r,{behavior:s,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const kV=(t,e,r,n)=>{for(;t<=e;){const s=(t+e)/2|0,o=r(s);if(o<n)t=s+1;else if(o>n)e=s-1;else return s}return t>0?t-1:0};function Kse({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const s=t.length-1,o=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:s};let i=kV(0,s,o,r),l=i;if(n===1)for(;l<s&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<s&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(s,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const IR=typeof document<"u"?j.useLayoutEffect:j.useEffect;function Jse(t){const e=j.useReducer(()=>({}),{})[1],r={...t,onChange:(s,o)=>{var i;o?qv.flushSync(e):e(),(i=t.onChange)==null||i.call(t,s,o)}},[n]=j.useState(()=>new Yse(r));return n.setOptions(r),IR(()=>n._didMount(),[]),IR(()=>n._willUpdate()),n}function Xse(t){return Jse({observeElementRect:zse,observeElementOffset:Wse,scrollToFn:Hse,...t})}var Zse=Object.defineProperty,Qse=(t,e,r)=>e in t?Zse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,y1=(t,e,r)=>(Qse(t,typeof e!="symbol"?e+"":e,r),r);let eoe=class{constructor(){y1(this,"current",this.detect()),y1(this,"handoffState","pending"),y1(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ps=new eoe,Ct=(t,e)=>{Ps.isServer?j.useEffect(t,e):j.useLayoutEffect(t,e)};function Ta(t){let e=j.useRef(t);return Ct(()=>{e.current=t},[t]),e}function lk(t,e){let[r,n]=j.useState(t),s=Ta(t);return Ct(()=>n(s.current),[s,n,...e]),r}let Pe=function(t){let e=Ta(t);return Q.useCallback((...r)=>e.current(...r),[e])};function toe(t,e,r){let[n,s]=j.useState(r),o=t!==void 0,i=j.useRef(o),l=j.useRef(!1),c=j.useRef(!1);return o&&!i.current&&!l.current?(l.current=!0,i.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&i.current&&!c.current&&(c.current=!0,i.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?t:n,Pe(u=>(o||s(u),e==null?void 0:e(u)))]}function rj(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Mn(){let t=[],e={addEventListener(r,n,s,o){return r.addEventListener(n,s,o),e.add(()=>r.removeEventListener(n,s,o))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return rj(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,s){let o=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:o})})},group(r){let n=Mn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let s of t.splice(n,1))s()}},dispose(){for(let r of t.splice(0))r()}};return e}function fi(){let[t]=j.useState(Mn);return j.useEffect(()=>()=>t.dispose(),[t]),t}function roe(){let t=typeof document>"u";return"useSyncExternalStore"in Xo?(e=>e.useSyncExternalStore)(Xo)(()=>()=>{},()=>!1,()=>!t):!1}function Yu(){let t=roe(),[e,r]=j.useState(Ps.isHandoffComplete);return e&&Ps.isHandoffComplete===!1&&r(!1),j.useEffect(()=>{e!==!0&&r(!0)},[e]),j.useEffect(()=>Ps.handoff(),[]),t?!1:e}var TR;let Cn=(TR=Q.useId)!=null?TR:function(){let t=Yu(),[e,r]=Q.useState(t?()=>Ps.nextId():null);return Ct(()=>{e===null&&r(Ps.nextId())},[e]),e!=null?""+e:void 0};function Ut(t,e,...r){if(t in e){let s=e[t];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ut),n}function nj(t){return Ps.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let LA=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var bs=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(bs||{}),EV=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(EV||{}),noe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(noe||{});function DV(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(LA)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var ck=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(ck||{});function uk(t,e=0){var r;return t===((r=nj(t))==null?void 0:r.body)?!1:Ut(e,{0(){return t.matches(LA)},1(){let n=t;for(;n!==null;){if(n.matches(LA))return!0;n=n.parentElement}return!1}})}function OV(t){let e=nj(t);Mn().nextFrame(()=>{e&&!uk(e.activeElement,0)&&_o(t)})}var aoe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(aoe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function _o(t){t==null||t.focus({preventScroll:!0})}let soe=["textarea","input"].join(",");function ooe(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,soe))!=null?r:!1}function dk(t,e=r=>r){return t.slice().sort((r,n)=>{let s=e(r),o=e(n);if(s===null||o===null)return 0;let i=s.compareDocumentPosition(o);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ioe(t,e){return Tm(DV(),e,{relativeTo:t})}function Tm(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let o=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?dk(t):t:DV(t);s.length>0&&i.length>1&&(i=i.filter(p=>!s.includes(p))),n=n??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,m=i.length,f;do{if(d>=m||d+m<=0)return 0;let p=c+d;if(e&16)p=(p+m)%m;else{if(p<0)return 3;if(p>=m)return 1}f=i[p],f==null||f.focus(u),d+=l}while(f!==o.activeElement);return e&6&&ooe(f)&&f.select(),2}function $V(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function loe(){return/Android/gi.test(window.navigator.userAgent)}function RV(){return $V()||loe()}function Th(t,e,r){let n=Ta(e);j.useEffect(()=>{function s(o){n.current(o)}return document.addEventListener(t,s,r),()=>document.removeEventListener(t,s,r)},[t,r])}function LV(t,e,r){let n=Ta(e);j.useEffect(()=>{function s(o){n.current(o)}return window.addEventListener(t,s,r),()=>window.removeEventListener(t,s,r)},[t,r])}function mk(t,e,r=!0){let n=j.useRef(!1);j.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function s(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(m){return typeof m=="function"?d(m()):Array.isArray(m)||m instanceof Set?m:[m]}(t);for(let d of u){if(d===null)continue;let m=d instanceof HTMLElement?d:d.current;if(m!=null&&m.contains(c)||i.composed&&i.composedPath().includes(m))return}return!uk(c,ck.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let o=j.useRef(null);Th("pointerdown",i=>{var l,c;n.current&&(o.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Th("mousedown",i=>{var l,c;n.current&&(o.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Th("click",i=>{RV()||o.current&&(s(i,()=>o.current),o.current=null)},!0),Th("touchend",i=>s(i,()=>i.target instanceof HTMLElement?i.target:null),!0),LV("blur",i=>s(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ml(...t){return j.useMemo(()=>nj(...t),[...t])}function PR(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function FV(t,e){let[r,n]=j.useState(()=>PR(t));return Ct(()=>{n(PR(t))},[t.type,t.as]),Ct(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let MV=Symbol();function coe(t,e=!0){return Object.assign(t,{[MV]:e})}function pr(...t){let e=j.useRef(t);j.useEffect(()=>{e.current=t},[t]);let r=Pe(n=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return t.every(n=>n==null||(n==null?void 0:n[MV]))?void 0:r}function kR(t){return[t.screenX,t.screenY]}function _V(){let t=j.useRef([-1,-1]);return{wasMoved(e){let r=kR(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=kR(e)}}}function BV({container:t,accept:e,walk:r,enabled:n=!0}){let s=j.useRef(e),o=j.useRef(r);j.useEffect(()=>{s.current=e,o.current=r},[e,r]),Ct(()=>{if(!t||!n)return;let i=nj(t);if(!i)return;let l=s.current,c=o.current,u=Object.assign(m=>l(m),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,s,o])}function If(t,e){let r=j.useRef([]),n=Pe(t);j.useEffect(()=>{let s=[...r.current];for(let[o,i]of e.entries())if(r.current[o]!==i){let l=n(e,s);return r.current=e,l}},[n,...e])}function cb(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var ai=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ai||{}),Ao=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ao||{});function nr({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:s,visible:o=!0,name:i,mergeRefs:l}){l=l??uoe;let c=qV(e,t);if(o)return Ph(c,r,n,i,l);let u=s??0;if(u&2){let{static:d=!1,...m}=c;if(d)return Ph(m,r,n,i,l)}if(u&1){let{unmount:d=!0,...m}=c;return Ut(d?0:1,{0(){return null},1(){return Ph({...m,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return Ph(c,r,n,i,l)}function Ph(t,e={},r,n,s){let{as:o=r,children:i,refName:l="ref",...c}=x1(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let m={};if(e){let f=!1,p=[];for(let[h,y]of Object.entries(e))typeof y=="boolean"&&(f=!0),y===!0&&p.push(h);f&&(m["data-headlessui-state"]=p.join(" "))}if(o===j.Fragment&&Object.keys(FA(c)).length>0){if(!j.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let f=d.props,p=typeof(f==null?void 0:f.className)=="function"?(...y)=>cb(f==null?void 0:f.className(...y),c.className):cb(f==null?void 0:f.className,c.className),h=p?{className:p}:{};return j.cloneElement(d,Object.assign({},qV(d.props,FA(x1(c,["ref"]))),m,u,{ref:s(d.ref,u.ref)},h))}return j.createElement(o,Object.assign({},x1(c,["ref"]),o!==j.Fragment&&u,o!==j.Fragment&&m),d)}function uoe(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function qV(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):e[s]=n[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](s,...o){let i=r[n];for(let l of i){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...o)}}});return e}function Jt(t){var e;return Object.assign(j.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function FA(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function x1(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let doe="div";var Tf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Tf||{});function moe(t,e){var r;let{features:n=1,...s}=t,o={ref:e,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return nr({ourProps:o,theirProps:s,slot:{},defaultTag:doe,name:"Hidden"})}let ub=Jt(moe),fk=j.createContext(null);fk.displayName="OpenClosedContext";var sr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(sr||{});function Dp(){return j.useContext(fk)}function pk({value:t,children:e}){return Q.createElement(fk.Provider,{value:t},e)}function foe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ga=[];foe(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ga[0]!==e.target&&(Ga.unshift(e.target),Ga=Ga.filter(r=>r!=null&&r.isConnected),Ga.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function hk(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&poe(r)?!1:n}function poe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function hoe(t){throw new Error("Unexpected object: "+t)}var yt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(yt||{});function MA(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),s=n??-1;switch(t.focus){case 0:{for(let o=0;o<r.length;++o)if(!e.resolveDisabled(r[o],o,r))return o;return n}case 1:{for(let o=s-1;o>=0;--o)if(!e.resolveDisabled(r[o],o,r))return o;return n}case 2:{for(let o=s+1;o<r.length;++o)if(!e.resolveDisabled(r[o],o,r))return o;return n}case 3:{for(let o=r.length-1;o>=0;--o)if(!e.resolveDisabled(r[o],o,r))return o;return n}case 4:{for(let o=0;o<r.length;++o)if(e.resolveId(r[o],o,r)===t.id)return o;return n}case 5:return null;default:hoe(t)}}function VV(t={},e=null,r=[]){for(let[n,s]of Object.entries(t))zV(r,UV(e,n),s);return r}function UV(t,e){return t?t+"["+e+"]":e}function zV(t,e,r){if(Array.isArray(r))for(let[n,s]of r.entries())zV(t,UV(e,n.toString()),s);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):VV(r,e,t)}var pt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(pt||{}),goe={},yoe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(yoe||{}),xoe=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(xoe||{}),boe=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(boe||{}),voe=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(voe||{});function b1(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),s=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):dk(n,i=>i.dataRef.current.domRef.current),o=r?s.indexOf(r):null;return o===-1&&(o=null),{options:s,activeOptionIndex:o}}let joe={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,s,o,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((s=t.dataRef.current)!=null&&s.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===yt.Specific?e.idx:MA(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var f,p;return(p=(f=t.activeOptionIndex)!=null?f:t.virtual.options.findIndex(h=>!t.virtual.disabled(h)))!=null?p:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),m=(o=e.trigger)!=null?o:2;return t.activeOptionIndex===d&&t.activationTrigger===m?t:{...t,activeOptionIndex:d,activationTrigger:m}}let l=b1(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(m=>!m.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===yt.Specific?e.idx:MA(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,s;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let o=e.payload,i=b1(t,c=>(c.push(o),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(o));let l={...t,...i,activationTrigger:2};return(s=t.dataRef.current)!=null&&s.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(s=>s.id!==e.id)};let n=b1(t,s=>{let o=s.findIndex(i=>i.id===e.id);return o!==-1&&s.splice(o,1),s});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let s=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);s!==-1?n=s:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},gk=j.createContext(null);gk.displayName="ComboboxActionsContext";function Op(t){let e=j.useContext(gk);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Op),r}return e}let WV=j.createContext(null);function Noe(t){var e;let r=_l("VirtualProvider"),[n,s]=j.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),o=Xse({scrollPaddingStart:n,scrollPaddingEnd:s,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=j.useState(0);return Ct(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),Q.createElement(WV.Provider,{value:o},Q.createElement("div",{style:{position:"relative",width:"100%",height:`${o.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&goe.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&o.scrollToIndex(r.activeOptionIndex)}}},o.getVirtualItems().map(c=>{var u;return Q.createElement(j.Fragment,{key:c.key},Q.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let yk=j.createContext(null);yk.displayName="ComboboxDataContext";function _l(t){let e=j.useContext(yk);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,_l),r}return e}function woe(t,e){return Ut(e.type,joe,t,e)}let Coe=j.Fragment;function Soe(t,e){let{value:r,defaultValue:n,onChange:s,form:o,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:m=!1,immediate:f=!1,virtual:p=null,...h}=t,y=!1,b=null,[g=m?[]:void 0,x]=toe(r,s,n),[v,w]=j.useReducer(woe,{dataRef:j.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),N=j.useRef(!1),S=j.useRef({static:!1,hold:!1}),C=j.useRef(null),A=j.useRef(null),T=j.useRef(null),I=j.useRef(null),k=Pe(typeof l=="string"?(z,W)=>{let X=l;return(z==null?void 0:z[X])===(W==null?void 0:W[X])}:l??((z,W)=>z===W)),$=Pe(z=>v.options.findIndex(W=>k(W.dataRef.current.value,z))),L=j.useCallback(z=>Ut(E.mode,{1:()=>g.some(W=>k(W,z)),0:()=>k(g,z)}),[g]),q=Pe(z=>v.activeOptionIndex===$(z)),E=j.useMemo(()=>({...v,immediate:y,optionsPropsRef:S,labelRef:C,inputRef:A,buttonRef:T,optionsRef:I,value:g,defaultValue:n,disabled:c,mode:m?1:0,virtual:v.virtual,get activeOptionIndex(){if(N.current&&v.activeOptionIndex===null&&v.options.length>0){let z=v.options.findIndex(W=>!W.dataRef.current.disabled);if(z!==-1)return z}return v.activeOptionIndex},calculateIndex:$,compare:k,isSelected:L,isActive:q,nullable:d,__demoMode:u}),[g,n,c,m,d,u,v,b]);Ct(()=>{},[b,void 0]),Ct(()=>{v.dataRef.current=E},[E]),mk([E.buttonRef,E.inputRef,E.optionsRef],()=>re.closeCombobox(),E.comboboxState===0);let R=j.useMemo(()=>{var z,W,X;return{open:E.comboboxState===0,disabled:c,activeIndex:E.activeOptionIndex,activeOption:E.activeOptionIndex===null?null:E.virtual?E.virtual.options[(z=E.activeOptionIndex)!=null?z:0]:(X=(W=E.options[E.activeOptionIndex])==null?void 0:W.dataRef.current.value)!=null?X:null,value:g}},[E,c,g]),U=Pe(()=>{if(E.activeOptionIndex!==null){if(E.virtual)H(E.virtual.options[E.activeOptionIndex]);else{let{dataRef:z}=E.options[E.activeOptionIndex];H(z.current.value)}re.goToOption(yt.Specific,E.activeOptionIndex)}}),B=Pe(()=>{w({type:0}),N.current=!0}),P=Pe(()=>{w({type:1}),N.current=!1}),O=Pe((z,W,X)=>(N.current=!1,z===yt.Specific?w({type:2,focus:yt.Specific,idx:W,trigger:X}):w({type:2,focus:z,trigger:X}))),V=Pe((z,W)=>(w({type:3,payload:{id:z,dataRef:W}}),()=>{E.isActive(W.current.value)&&(N.current=!0),w({type:4,id:z})})),_=Pe(z=>(w({type:5,id:z}),()=>w({type:5,id:null}))),H=Pe(z=>Ut(E.mode,{0(){return x==null?void 0:x(z)},1(){let W=E.value.slice(),X=W.findIndex(F=>k(F,z));return X===-1?W.push(z):W.splice(X,1),x==null?void 0:x(W)}})),G=Pe(z=>{w({type:6,trigger:z})}),re=j.useMemo(()=>({onChange:H,registerOption:V,registerLabel:_,goToOption:O,closeCombobox:P,openCombobox:B,setActivationTrigger:G,selectActiveOption:U}),[]),ie=e===null?{}:{ref:e},te=j.useRef(null),Z=fi();return j.useEffect(()=>{te.current&&n!==void 0&&Z.addEventListener(te.current,"reset",()=>{x==null||x(n)})},[te,x]),Q.createElement(gk.Provider,{value:re},Q.createElement(yk.Provider,{value:E},Q.createElement(pk,{value:Ut(E.comboboxState,{0:sr.Open,1:sr.Closed})},i!=null&&g!=null&&VV({[i]:g}).map(([z,W],X)=>Q.createElement(ub,{features:Tf.Hidden,ref:X===0?F=>{var J;te.current=(J=F==null?void 0:F.closest("form"))!=null?J:null}:void 0,...FA({key:z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:o,disabled:c,name:z,value:W})})),nr({ourProps:ie,theirProps:h,slot:R,defaultTag:Coe,name:"Combobox"}))))}let Aoe="input";function Ioe(t,e){var r,n,s,o,i;let l=Cn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:m="text",...f}=t,p=_l("Combobox.Input"),h=Op("Combobox.Input"),y=pr(p.inputRef,e),b=Ml(p.inputRef),g=j.useRef(!1),x=fi(),v=Pe(()=>{h.onChange(null),p.optionsRef.current&&(p.optionsRef.current.scrollTop=0),h.goToOption(yt.Nothing)}),w=function(){var E;return typeof d=="function"&&p.value!==void 0?(E=d(p.value))!=null?E:"":typeof p.value=="string"?p.value:""}();If(([E,R],[U,B])=>{if(g.current)return;let P=p.inputRef.current;P&&((B===0&&R===1||E!==U)&&(P.value=E),requestAnimationFrame(()=>{if(g.current||!P||(b==null?void 0:b.activeElement)!==P)return;let{selectionStart:O,selectionEnd:V}=P;Math.abs((V??0)-(O??0))===0&&O===0&&P.setSelectionRange(P.value.length,P.value.length)}))},[w,p.comboboxState,b]),If(([E],[R])=>{if(E===0&&R===1){if(g.current)return;let U=p.inputRef.current;if(!U)return;let B=U.value,{selectionStart:P,selectionEnd:O,selectionDirection:V}=U;U.value="",U.value=B,V!==null?U.setSelectionRange(P,O,V):U.setSelectionRange(P,O)}},[p.comboboxState]);let N=j.useRef(!1),S=Pe(()=>{N.current=!0}),C=Pe(()=>{x.nextFrame(()=>{N.current=!1})}),A=Pe(E=>{switch(g.current=!0,E.key){case pt.Enter:if(g.current=!1,p.comboboxState!==0||N.current)return;if(E.preventDefault(),E.stopPropagation(),p.activeOptionIndex===null){h.closeCombobox();return}h.selectActiveOption(),p.mode===0&&h.closeCombobox();break;case pt.ArrowDown:return g.current=!1,E.preventDefault(),E.stopPropagation(),Ut(p.comboboxState,{0:()=>h.goToOption(yt.Next),1:()=>h.openCombobox()});case pt.ArrowUp:return g.current=!1,E.preventDefault(),E.stopPropagation(),Ut(p.comboboxState,{0:()=>h.goToOption(yt.Previous),1:()=>{h.openCombobox(),x.nextFrame(()=>{p.value||h.goToOption(yt.Last)})}});case pt.Home:if(E.shiftKey)break;return g.current=!1,E.preventDefault(),E.stopPropagation(),h.goToOption(yt.First);case pt.PageUp:return g.current=!1,E.preventDefault(),E.stopPropagation(),h.goToOption(yt.First);case pt.End:if(E.shiftKey)break;return g.current=!1,E.preventDefault(),E.stopPropagation(),h.goToOption(yt.Last);case pt.PageDown:return g.current=!1,E.preventDefault(),E.stopPropagation(),h.goToOption(yt.Last);case pt.Escape:return g.current=!1,p.comboboxState!==0?void 0:(E.preventDefault(),p.optionsRef.current&&!p.optionsPropsRef.current.static&&E.stopPropagation(),p.nullable&&p.mode===0&&p.value===null&&v(),h.closeCombobox());case pt.Tab:if(g.current=!1,p.comboboxState!==0)return;p.mode===0&&p.activationTrigger!==1&&h.selectActiveOption(),h.closeCombobox();break}}),T=Pe(E=>{u==null||u(E),p.nullable&&p.mode===0&&E.target.value===""&&v(),h.openCombobox()}),I=Pe(E=>{var R,U,B;let P=(R=E.relatedTarget)!=null?R:Ga.find(O=>O!==E.currentTarget);if(g.current=!1,!((U=p.optionsRef.current)!=null&&U.contains(P))&&!((B=p.buttonRef.current)!=null&&B.contains(P))&&p.comboboxState===0)return E.preventDefault(),p.mode===0&&(p.nullable&&p.value===null?v():p.activationTrigger!==1&&h.selectActiveOption()),h.closeCombobox()}),k=Pe(E=>{var R,U,B;let P=(R=E.relatedTarget)!=null?R:Ga.find(O=>O!==E.currentTarget);(U=p.buttonRef.current)!=null&&U.contains(P)||(B=p.optionsRef.current)!=null&&B.contains(P)||p.disabled||p.immediate&&p.comboboxState!==0&&(h.openCombobox(),x.nextFrame(()=>{h.setActivationTrigger(1)}))}),$=lk(()=>{if(p.labelId)return[p.labelId].join(" ")},[p.labelId]),L=j.useMemo(()=>({open:p.comboboxState===0,disabled:p.disabled}),[p]),q={ref:y,id:c,role:"combobox",type:m,"aria-controls":(r=p.optionsRef.current)==null?void 0:r.id,"aria-expanded":p.comboboxState===0,"aria-activedescendant":p.activeOptionIndex===null?void 0:p.virtual?(n=p.options.find(E=>{var R;return!((R=p.virtual)!=null&&R.disabled(E.dataRef.current.value))&&p.compare(E.dataRef.current.value,p.virtual.options[p.activeOptionIndex])}))==null?void 0:n.id:(s=p.options[p.activeOptionIndex])==null?void 0:s.id,"aria-labelledby":$,"aria-autocomplete":"list",defaultValue:(i=(o=t.defaultValue)!=null?o:p.defaultValue!==void 0?d==null?void 0:d(p.defaultValue):null)!=null?i:p.defaultValue,disabled:p.disabled,onCompositionStart:S,onCompositionEnd:C,onKeyDown:A,onChange:T,onFocus:k,onBlur:I};return nr({ourProps:q,theirProps:f,slot:L,defaultTag:Aoe,name:"Combobox.Input"})}let Toe="button";function Poe(t,e){var r;let n=_l("Combobox.Button"),s=Op("Combobox.Button"),o=pr(n.buttonRef,e),i=Cn(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=fi(),d=Pe(y=>{switch(y.key){case pt.ArrowDown:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&s.openCombobox(),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})});case pt.ArrowUp:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&(s.openCombobox(),u.nextFrame(()=>{n.value||s.goToOption(yt.Last)})),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})});case pt.Escape:return n.comboboxState!==0?void 0:(y.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&y.stopPropagation(),s.closeCombobox(),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})}));default:return}}),m=Pe(y=>{if(hk(y.currentTarget))return y.preventDefault();n.comboboxState===0?s.closeCombobox():(y.preventDefault(),s.openCombobox()),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})})}),f=lk(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),p=j.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),h={ref:o,id:l,type:FV(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":f,disabled:n.disabled,onClick:m,onKeyDown:d};return nr({ourProps:h,theirProps:c,slot:p,defaultTag:Toe,name:"Combobox.Button"})}let koe="label";function Eoe(t,e){let r=Cn(),{id:n=`headlessui-combobox-label-${r}`,...s}=t,o=_l("Combobox.Label"),i=Op("Combobox.Label"),l=pr(o.labelRef,e);Ct(()=>i.registerLabel(n),[n]);let c=Pe(()=>{var d;return(d=o.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=j.useMemo(()=>({open:o.comboboxState===0,disabled:o.disabled}),[o]);return nr({ourProps:{ref:l,id:n,onClick:c},theirProps:s,slot:u,defaultTag:koe,name:"Combobox.Label"})}let Doe="ul",Ooe=ai.RenderStrategy|ai.Static;function $oe(t,e){let r=Cn(),{id:n=`headlessui-combobox-options-${r}`,hold:s=!1,...o}=t,i=_l("Combobox.Options"),l=pr(i.optionsRef,e),c=Dp(),u=c!==null?(c&sr.Open)===sr.Open:i.comboboxState===0;Ct(()=>{var p;i.optionsPropsRef.current.static=(p=t.static)!=null?p:!1},[i.optionsPropsRef,t.static]),Ct(()=>{i.optionsPropsRef.current.hold=s},[i.optionsPropsRef,s]),BV({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(p){return p.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let d=lk(()=>{var p,h;return(h=i.labelId)!=null?h:(p=i.buttonRef.current)==null?void 0:p.id},[i.labelId,i.buttonRef.current]),m=j.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),f={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(o,{children:Q.createElement(Noe,null,o.children)}),nr({ourProps:f,theirProps:o,slot:m,defaultTag:Doe,features:Ooe,visible:u,name:"Combobox.Options"})}let Roe="li";function Loe(t,e){var r;let n=Cn(),{id:s=`headlessui-combobox-option-${n}`,disabled:o=!1,value:i,order:l=null,...c}=t,u=_l("Combobox.Option"),d=Op("Combobox.Option"),m=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===s,f=u.isSelected(i),p=j.useRef(null),h=Ta({disabled:o,value:i,domRef:p,order:l}),y=j.useContext(WV),b=pr(e,p,y?y.measureElement:null),g=Pe(()=>d.onChange(i));Ct(()=>d.registerOption(s,h),[h,s]);let x=j.useRef(!(u.virtual||u.__demoMode));Ct(()=>{if(!u.virtual||!u.__demoMode)return;let I=Mn();return I.requestAnimationFrame(()=>{x.current=!0}),I.dispose},[u.virtual,u.__demoMode]),Ct(()=>{if(!x.current||u.comboboxState!==0||!m||u.activationTrigger===0)return;let I=Mn();return I.requestAnimationFrame(()=>{var k,$;($=(k=p.current)==null?void 0:k.scrollIntoView)==null||$.call(k,{block:"nearest"})}),I.dispose},[p,m,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let v=Pe(I=>{var k;if(o||(k=u.virtual)!=null&&k.disabled(i))return I.preventDefault();g(),RV()||requestAnimationFrame(()=>{var $;return($=u.inputRef.current)==null?void 0:$.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),w=Pe(()=>{var I;if(o||(I=u.virtual)!=null&&I.disabled(i))return d.goToOption(yt.Nothing);let k=u.calculateIndex(i);d.goToOption(yt.Specific,k)}),N=_V(),S=Pe(I=>N.update(I)),C=Pe(I=>{var k;if(!N.wasMoved(I)||o||(k=u.virtual)!=null&&k.disabled(i)||m)return;let $=u.calculateIndex(i);d.goToOption(yt.Specific,$,0)}),A=Pe(I=>{var k;N.wasMoved(I)&&(o||(k=u.virtual)!=null&&k.disabled(i)||m&&(u.optionsPropsRef.current.hold||d.goToOption(yt.Nothing)))}),T=j.useMemo(()=>({active:m,selected:f,disabled:o}),[m,f,o]);return nr({ourProps:{id:s,ref:b,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":f,disabled:void 0,onClick:v,onFocus:w,onPointerEnter:S,onMouseEnter:S,onPointerMove:C,onMouseMove:C,onPointerLeave:A,onMouseLeave:A},theirProps:c,slot:T,defaultTag:Roe,name:"Combobox.Option"})}let Foe=Jt(Soe),Moe=Jt(Poe),_oe=Jt(Ioe),Boe=Jt(Eoe),qoe=Jt($oe),Voe=Jt(Loe),tc=Object.assign(Foe,{Input:_oe,Button:Moe,Label:Boe,Options:qoe,Option:Voe});function GV(t,e,r,n){let s=Ta(r);j.useEffect(()=>{t=t??window;function o(i){s.current(i)}return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)},[t,e,n])}function $p(){let t=j.useRef(!1);return Ct(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function HV(t){let e=Pe(t),r=j.useRef(!1);j.useEffect(()=>(r.current=!1,()=>{r.current=!0,rj(()=>{r.current&&e()})}),[e])}var cm=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(cm||{});function Uoe(){let t=j.useRef(0);return LV("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function YV(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let zoe="div";var KV=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(KV||{});function Woe(t,e){let r=j.useRef(null),n=pr(r,e),{initialFocus:s,containers:o,features:i=30,...l}=t;Yu()||(i=1);let c=Ml(r);Yoe({ownerDocument:c},!!(i&16));let u=Koe({ownerDocument:c,container:r,initialFocus:s},!!(i&2));Joe({ownerDocument:c,container:r,containers:o,previousActiveElement:u},!!(i&8));let d=Uoe(),m=Pe(y=>{let b=r.current;b&&(g=>g())(()=>{Ut(d.current,{[cm.Forwards]:()=>{Tm(b,bs.First,{skipElements:[y.relatedTarget]})},[cm.Backwards]:()=>{Tm(b,bs.Last,{skipElements:[y.relatedTarget]})}})})}),f=fi(),p=j.useRef(!1),h={ref:n,onKeyDown(y){y.key=="Tab"&&(p.current=!0,f.requestAnimationFrame(()=>{p.current=!1}))},onBlur(y){let b=YV(o);r.current instanceof HTMLElement&&b.add(r.current);let g=y.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(JV(b,g)||(p.current?Tm(r.current,Ut(d.current,{[cm.Forwards]:()=>bs.Next,[cm.Backwards]:()=>bs.Previous})|bs.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&_o(y.target)))}};return Q.createElement(Q.Fragment,null,!!(i&4)&&Q.createElement(ub,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Tf.Focusable}),nr({ourProps:h,theirProps:l,defaultTag:zoe,name:"FocusTrap"}),!!(i&4)&&Q.createElement(ub,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Tf.Focusable}))}let Goe=Jt(Woe),Ld=Object.assign(Goe,{features:KV});function Hoe(t=!0){let e=j.useRef(Ga.slice());return If(([r],[n])=>{n===!0&&r===!1&&rj(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Ga.slice())},[t,Ga,e]),Pe(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Yoe({ownerDocument:t},e){let r=Hoe(e);If(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&_o(r())},[e]),HV(()=>{e&&_o(r())})}function Koe({ownerDocument:t,container:e,initialFocus:r},n){let s=j.useRef(null),o=$p();return If(()=>{if(!n)return;let i=e.current;i&&rj(()=>{if(!o.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){s.current=l;return}}else if(i.contains(l)){s.current=l;return}r!=null&&r.current?_o(r.current):Tm(i,bs.First)===EV.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=t==null?void 0:t.activeElement})},[n]),s}function Joe({ownerDocument:t,container:e,containers:r,previousActiveElement:n},s){let o=$p();GV(t==null?void 0:t.defaultView,"focus",i=>{if(!s||!o.current)return;let l=YV(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?JV(l,u)?(n.current=u,_o(u)):(i.preventDefault(),i.stopPropagation(),_o(c)):_o(n.current)},!0)}function JV(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let XV=j.createContext(!1);function Xoe(){return j.useContext(XV)}function _A(t){return Q.createElement(XV.Provider,{value:t.force},t.children)}function Zoe(t){let e=Xoe(),r=j.useContext(ZV),n=Ml(t),[s,o]=j.useState(()=>{if(!e&&r!==null||Ps.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return j.useEffect(()=>{s!==null&&(n!=null&&n.body.contains(s)||n==null||n.body.appendChild(s))},[s,n]),j.useEffect(()=>{e||r!==null&&o(r.current)},[r,o,e]),s}let Qoe=j.Fragment;function eie(t,e){let r=t,n=j.useRef(null),s=pr(coe(d=>{n.current=d}),e),o=Ml(n),i=Zoe(n),[l]=j.useState(()=>{var d;return Ps.isServer?null:(d=o==null?void 0:o.createElement("div"))!=null?d:null}),c=j.useContext(BA),u=Yu();return Ct(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),Ct(()=>{if(l&&c)return c.register(l)},[c,l]),HV(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:qv.createPortal(nr({ourProps:{ref:s},theirProps:r,defaultTag:Qoe,name:"Portal"}),l):null}let tie=j.Fragment,ZV=j.createContext(null);function rie(t,e){let{target:r,...n}=t,s={ref:pr(e)};return Q.createElement(ZV.Provider,{value:r},nr({ourProps:s,theirProps:n,defaultTag:tie,name:"Popover.Group"}))}let BA=j.createContext(null);function nie(){let t=j.useContext(BA),e=j.useRef([]),r=Pe(o=>(e.current.push(o),t&&t.register(o),()=>n(o))),n=Pe(o=>{let i=e.current.indexOf(o);i!==-1&&e.current.splice(i,1),t&&t.unregister(o)}),s=j.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,j.useMemo(()=>function({children:o}){return Q.createElement(BA.Provider,{value:s},o)},[s])]}let aie=Jt(eie),sie=Jt(rie),qA=Object.assign(aie,{Group:sie});function oie(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const iie=typeof Object.is=="function"?Object.is:oie,{useState:lie,useEffect:cie,useLayoutEffect:uie,useDebugValue:die}=Xo;function mie(t,e,r){const n=e(),[{inst:s},o]=lie({inst:{value:n,getSnapshot:e}});return uie(()=>{s.value=n,s.getSnapshot=e,v1(s)&&o({inst:s})},[t,n,e]),cie(()=>(v1(s)&&o({inst:s}),t(()=>{v1(s)&&o({inst:s})})),[t]),die(n),n}function v1(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!iie(r,n)}catch{return!0}}function fie(t,e,r){return e()}const pie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hie=!pie,gie=hie?fie:mie,yie="useSyncExternalStore"in Xo?(t=>t.useSyncExternalStore)(Xo):gie;function xie(t){return yie(t.subscribe,t.getSnapshot,t.getSnapshot)}function bie(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...o){let i=e[s].call(r,...o);i&&(r=i,n.forEach(l=>l()))}}}function vie(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,s=n.clientWidth-n.offsetWidth,o=t-s;r.style(n,"paddingRight",`${o}px`)}}}function jie(){return $V()?{before({doc:t,d:e,meta:r}){function n(s){return r.containers.flatMap(o=>o()).some(o=>o.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Mn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;o!==c&&window.scrollTo(0,o),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function Nie(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function wie(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Bi=bie(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Mn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:wie(r)},s=[jie(),vie(),Nie()];s.forEach(({before:o})=>o==null?void 0:o(n)),s.forEach(({after:o})=>o==null?void 0:o(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Bi.subscribe(()=>{let t=Bi.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&Bi.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Bi.dispatch("TEARDOWN",r)}});function Cie(t,e,r){let n=xie(Bi),s=t?n.get(t):void 0,o=s?s.count>0:!1;return Ct(()=>{if(!(!t||!e))return Bi.dispatch("PUSH",t,r),()=>Bi.dispatch("POP",t,r)},[e,t]),o}let j1=new Map,Fd=new Map;function ER(t,e=!0){Ct(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function s(){var i;if(!n)return;let l=(i=Fd.get(n))!=null?i:1;if(l===1?Fd.delete(n):Fd.set(n,l-1),l!==1)return;let c=j1.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,j1.delete(n))}let o=(r=Fd.get(n))!=null?r:0;return Fd.set(n,o+1),o!==0||(j1.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),s},[t,e])}function Sie({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let s=j.useRef((n=r==null?void 0:r.current)!=null?n:null),o=Ml(s),i=Pe(()=>{var l,c,u;let d=[];for(let m of t)m!==null&&(m instanceof HTMLElement?d.push(m):"current"in m&&m.current instanceof HTMLElement&&d.push(m.current));if(e!=null&&e.current)for(let m of e.current)d.push(m);for(let m of(l=o==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])m!==document.body&&m!==document.head&&m instanceof HTMLElement&&m.id!=="headlessui-portal-root"&&(m.contains(s.current)||m.contains((u=(c=s.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(f=>m.contains(f))||d.push(m));return d});return{resolveContainers:i,contains:Pe(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:s,MainTreeNode:j.useMemo(()=>function(){return r!=null?null:Q.createElement(ub,{features:Tf.Hidden,ref:s})},[s,r])}}let xk=j.createContext(()=>{});xk.displayName="StackContext";var VA=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(VA||{});function Aie(){return j.useContext(xk)}function Iie({children:t,onUpdate:e,type:r,element:n,enabled:s}){let o=Aie(),i=Pe((...l)=>{e==null||e(...l),o(...l)});return Ct(()=>{let l=s===void 0||s===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,s]),Q.createElement(xk.Provider,{value:i},t)}let QV=j.createContext(null);function e9(){let t=j.useContext(QV);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,e9),e}return t}function Tie(){let[t,e]=j.useState([]);return[t.length>0?t.join(" "):void 0,j.useMemo(()=>function(r){let n=Pe(o=>(e(i=>[...i,o]),()=>e(i=>{let l=i.slice(),c=l.indexOf(o);return c!==-1&&l.splice(c,1),l}))),s=j.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return Q.createElement(QV.Provider,{value:s},r.children)},[e])]}let Pie="p";function kie(t,e){let r=Cn(),{id:n=`headlessui-description-${r}`,...s}=t,o=e9(),i=pr(e);Ct(()=>o.register(n),[n,o.register]);let l={ref:i,...o.props,id:n};return nr({ourProps:l,theirProps:s,slot:o.slot||{},defaultTag:Pie,name:o.name||"Description"})}let Eie=Jt(kie),Die=Object.assign(Eie,{});var Oie=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Oie||{}),$ie=(t=>(t[t.SetTitleId=0]="SetTitleId",t))($ie||{});let Rie={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},db=j.createContext(null);db.displayName="DialogContext";function Rp(t){let e=j.useContext(db);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Rp),r}return e}function Lie(t,e,r=()=>[document.body]){Cie(t,e,n=>{var s;return{containers:[...(s=n.containers)!=null?s:[],r]}})}function Fie(t,e){return Ut(e.type,Rie,t,e)}let Mie="div",_ie=ai.RenderStrategy|ai.Static;function Bie(t,e){let r=Cn(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:o,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,m]=j.useState(0),f=j.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(f.current||(f.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Dp();s===void 0&&p!==null&&(s=(p&sr.Open)===sr.Open);let h=j.useRef(null),y=pr(h,e),b=Ml(h),g=t.hasOwnProperty("open")||p!==null,x=t.hasOwnProperty("onClose");if(!g&&!x)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!x)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof o!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${o}`);let v=s?0:1,[w,N]=j.useReducer(Fie,{titleId:null,descriptionId:null,panelRef:j.createRef()}),S=Pe(()=>o(!1)),C=Pe(X=>N({type:0,id:X})),A=Yu()?c?!1:v===0:!1,T=d>1,I=j.useContext(db)!==null,[k,$]=nie(),L={get current(){var X;return(X=w.panelRef.current)!=null?X:h.current}},{resolveContainers:q,mainTreeNodeRef:E,MainTreeNode:R}=Sie({portals:k,defaultContainers:[L]}),U=T?"parent":"leaf",B=p!==null?(p&sr.Closing)===sr.Closing:!1,P=I||B?!1:A,O=j.useCallback(()=>{var X,F;return(F=Array.from((X=b==null?void 0:b.querySelectorAll("body > *"))!=null?X:[]).find(J=>J.id==="headlessui-portal-root"?!1:J.contains(E.current)&&J instanceof HTMLElement))!=null?F:null},[E]);ER(O,P);let V=T?!0:A,_=j.useCallback(()=>{var X,F;return(F=Array.from((X=b==null?void 0:b.querySelectorAll("[data-headlessui-portal]"))!=null?X:[]).find(J=>J.contains(E.current)&&J instanceof HTMLElement))!=null?F:null},[E]);ER(_,V),mk(q,X=>{X.preventDefault(),S()},!(!A||T));let G=!(T||v!==0);GV(b==null?void 0:b.defaultView,"keydown",X=>{G&&(X.defaultPrevented||X.key===pt.Escape&&(X.preventDefault(),X.stopPropagation(),S()))}),Lie(b,!(B||v!==0||I),q),j.useEffect(()=>{if(v!==0||!h.current)return;let X=new ResizeObserver(F=>{for(let J of F){let ne=J.target.getBoundingClientRect();ne.x===0&&ne.y===0&&ne.width===0&&ne.height===0&&S()}});return X.observe(h.current),()=>X.disconnect()},[v,h,S]);let[ie,te]=Tie(),Z=j.useMemo(()=>[{dialogState:v,close:S,setTitleId:C},w],[v,w,S,C]),z=j.useMemo(()=>({open:v===0}),[v]),W={ref:y,id:n,role:l,"aria-modal":v===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":ie};return Q.createElement(Iie,{type:"Dialog",enabled:v===0,element:h,onUpdate:Pe((X,F)=>{F==="Dialog"&&Ut(X,{[VA.Add]:()=>m(J=>J+1),[VA.Remove]:()=>m(J=>J-1)})})},Q.createElement(_A,{force:!0},Q.createElement(qA,null,Q.createElement(db.Provider,{value:Z},Q.createElement(qA.Group,{target:h},Q.createElement(_A,{force:!1},Q.createElement(te,{slot:z,name:"Dialog.Description"},Q.createElement(Ld,{initialFocus:i,containers:q,features:A?Ut(U,{parent:Ld.features.RestoreFocus,leaf:Ld.features.All&~Ld.features.FocusLock}):Ld.features.None},Q.createElement($,null,nr({ourProps:W,theirProps:u,slot:z,defaultTag:Mie,features:_ie,visible:v===0,name:"Dialog"}))))))))),Q.createElement(R,null))}let qie="div";function Vie(t,e){let r=Cn(),{id:n=`headlessui-dialog-overlay-${r}`,...s}=t,[{dialogState:o,close:i}]=Rp("Dialog.Overlay"),l=pr(e),c=Pe(d=>{if(d.target===d.currentTarget){if(hk(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=j.useMemo(()=>({open:o===0}),[o]);return nr({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:s,slot:u,defaultTag:qie,name:"Dialog.Overlay"})}let Uie="div";function zie(t,e){let r=Cn(),{id:n=`headlessui-dialog-backdrop-${r}`,...s}=t,[{dialogState:o},i]=Rp("Dialog.Backdrop"),l=pr(e);j.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=j.useMemo(()=>({open:o===0}),[o]);return Q.createElement(_A,{force:!0},Q.createElement(qA,null,nr({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:s,slot:c,defaultTag:Uie,name:"Dialog.Backdrop"})))}let Wie="div";function Gie(t,e){let r=Cn(),{id:n=`headlessui-dialog-panel-${r}`,...s}=t,[{dialogState:o},i]=Rp("Dialog.Panel"),l=pr(e,i.panelRef),c=j.useMemo(()=>({open:o===0}),[o]),u=Pe(d=>{d.stopPropagation()});return nr({ourProps:{ref:l,id:n,onClick:u},theirProps:s,slot:c,defaultTag:Wie,name:"Dialog.Panel"})}let Hie="h2";function Yie(t,e){let r=Cn(),{id:n=`headlessui-dialog-title-${r}`,...s}=t,[{dialogState:o,setTitleId:i}]=Rp("Dialog.Title"),l=pr(e);j.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=j.useMemo(()=>({open:o===0}),[o]);return nr({ourProps:{ref:l,id:n},theirProps:s,slot:c,defaultTag:Hie,name:"Dialog.Title"})}let Kie=Jt(Bie),Jie=Jt(zie),Xie=Jt(Gie),Zie=Jt(Vie),Qie=Jt(Yie),Mc=Object.assign(Kie,{Backdrop:Jie,Panel:Xie,Overlay:Zie,Title:Qie,Description:Die}),DR=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function OR(t){var e,r;let n=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return n;let o=!1;for(let l of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),o=!0;let i=o?(r=s.innerText)!=null?r:"":n;return DR.test(i)&&(i=i.replace(DR,"")),i}function ele(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(s=>{let o=document.getElementById(s);if(o){let i=o.getAttribute("aria-label");return typeof i=="string"?i.trim():OR(o).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return OR(t).trim()}function tle(t){let e=j.useRef(""),r=j.useRef("");return Pe(()=>{let n=t.current;if(!n)return"";let s=n.innerText;if(e.current===s)return r.current;let o=ele(n).trim().toLowerCase();return e.current=s,r.current=o,o})}var rle=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(rle||{}),nle=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(nle||{}),ale=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(ale||{});function N1(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=dk(e(t.items.slice()),o=>o.dataRef.current.domRef.current),s=r?n.indexOf(r):null;return s===-1&&(s=null),{items:n,activeItemIndex:s}}let sle={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=N1(t),s=MA(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:s,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),s=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),o=s?t.items.indexOf(s):-1;return o===-1||o===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:o,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=N1(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=N1(t,n=>{let s=n.findIndex(o=>o.id===e.id);return s!==-1&&n.splice(s,1),n});return{...t,...r,activationTrigger:1}}},bk=j.createContext(null);bk.displayName="MenuContext";function aj(t){let e=j.useContext(bk);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,aj),r}return e}function ole(t,e){return Ut(e.type,sle,t,e)}let ile=j.Fragment;function lle(t,e){let{__demoMode:r=!1,...n}=t,s=j.useReducer(ole,{__demoMode:r,menuState:r?0:1,buttonRef:j.createRef(),itemsRef:j.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:i,buttonRef:l},c]=s,u=pr(e);mk([l,i],(p,h)=>{var y;c({type:1}),uk(h,ck.Loose)||(p.preventDefault(),(y=l.current)==null||y.focus())},o===0);let d=Pe(()=>{c({type:1})}),m=j.useMemo(()=>({open:o===0,close:d}),[o,d]),f={ref:u};return Q.createElement(bk.Provider,{value:s},Q.createElement(pk,{value:Ut(o,{0:sr.Open,1:sr.Closed})},nr({ourProps:f,theirProps:n,slot:m,defaultTag:ile,name:"Menu"})))}let cle="button";function ule(t,e){var r;let n=Cn(),{id:s=`headlessui-menu-button-${n}`,...o}=t,[i,l]=aj("Menu.Button"),c=pr(i.buttonRef,e),u=fi(),d=Pe(y=>{switch(y.key){case pt.Space:case pt.Enter:case pt.ArrowDown:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:yt.First}));break;case pt.ArrowUp:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:yt.Last}));break}}),m=Pe(y=>{switch(y.key){case pt.Space:y.preventDefault();break}}),f=Pe(y=>{if(hk(y.currentTarget))return y.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var b;return(b=i.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(y.preventDefault(),l({type:0})))}),p=j.useMemo(()=>({open:i.menuState===0}),[i]),h={ref:c,id:s,type:FV(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:m,onClick:f};return nr({ourProps:h,theirProps:o,slot:p,defaultTag:cle,name:"Menu.Button"})}let dle="div",mle=ai.RenderStrategy|ai.Static;function fle(t,e){var r,n;let s=Cn(),{id:o=`headlessui-menu-items-${s}`,...i}=t,[l,c]=aj("Menu.Items"),u=pr(l.itemsRef,e),d=Ml(l.itemsRef),m=fi(),f=Dp(),p=f!==null?(f&sr.Open)===sr.Open:l.menuState===0;j.useEffect(()=>{let x=l.itemsRef.current;x&&l.menuState===0&&x!==(d==null?void 0:d.activeElement)&&x.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),BV({container:l.itemsRef.current,enabled:l.menuState===0,accept(x){return x.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:x.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(x){x.setAttribute("role","none")}});let h=Pe(x=>{var v,w;switch(m.dispose(),x.key){case pt.Space:if(l.searchQuery!=="")return x.preventDefault(),x.stopPropagation(),c({type:3,value:x.key});case pt.Enter:if(x.preventDefault(),x.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:N}=l.items[l.activeItemIndex];(w=(v=N.current)==null?void 0:v.domRef.current)==null||w.click()}OV(l.buttonRef.current);break;case pt.ArrowDown:return x.preventDefault(),x.stopPropagation(),c({type:2,focus:yt.Next});case pt.ArrowUp:return x.preventDefault(),x.stopPropagation(),c({type:2,focus:yt.Previous});case pt.Home:case pt.PageUp:return x.preventDefault(),x.stopPropagation(),c({type:2,focus:yt.First});case pt.End:case pt.PageDown:return x.preventDefault(),x.stopPropagation(),c({type:2,focus:yt.Last});case pt.Escape:x.preventDefault(),x.stopPropagation(),c({type:1}),Mn().nextFrame(()=>{var N;return(N=l.buttonRef.current)==null?void 0:N.focus({preventScroll:!0})});break;case pt.Tab:x.preventDefault(),x.stopPropagation(),c({type:1}),Mn().nextFrame(()=>{ioe(l.buttonRef.current,x.shiftKey?bs.Previous:bs.Next)});break;default:x.key.length===1&&(c({type:3,value:x.key}),m.setTimeout(()=>c({type:4}),350));break}}),y=Pe(x=>{switch(x.key){case pt.Space:x.preventDefault();break}}),b=j.useMemo(()=>({open:l.menuState===0}),[l]),g={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:o,onKeyDown:h,onKeyUp:y,role:"menu",tabIndex:0,ref:u};return nr({ourProps:g,theirProps:i,slot:b,defaultTag:dle,features:mle,visible:p,name:"Menu.Items"})}let ple=j.Fragment;function hle(t,e){let r=Cn(),{id:n=`headlessui-menu-item-${r}`,disabled:s=!1,...o}=t,[i,l]=aj("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=j.useRef(null),d=pr(e,u);Ct(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let N=Mn();return N.requestAnimationFrame(()=>{var S,C;(C=(S=u.current)==null?void 0:S.scrollIntoView)==null||C.call(S,{block:"nearest"})}),N.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let m=tle(u),f=j.useRef({disabled:s,domRef:u,get textValue(){return m()}});Ct(()=>{f.current.disabled=s},[f,s]),Ct(()=>(l({type:5,id:n,dataRef:f}),()=>l({type:6,id:n})),[f,n]);let p=Pe(()=>{l({type:1})}),h=Pe(N=>{if(s)return N.preventDefault();l({type:1}),OV(i.buttonRef.current)}),y=Pe(()=>{if(s)return l({type:2,focus:yt.Nothing});l({type:2,focus:yt.Specific,id:n})}),b=_V(),g=Pe(N=>b.update(N)),x=Pe(N=>{b.wasMoved(N)&&(s||c||l({type:2,focus:yt.Specific,id:n,trigger:0}))}),v=Pe(N=>{b.wasMoved(N)&&(s||c&&l({type:2,focus:yt.Nothing}))}),w=j.useMemo(()=>({active:c,disabled:s,close:p}),[c,s,p]);return nr({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,disabled:void 0,onClick:h,onFocus:y,onPointerEnter:g,onMouseEnter:g,onPointerMove:x,onMouseMove:x,onPointerLeave:v,onMouseLeave:v},theirProps:o,slot:w,defaultTag:ple,name:"Menu.Item"})}let gle=Jt(lle),yle=Jt(ule),xle=Jt(fle),ble=Jt(hle),rc=Object.assign(gle,{Button:yle,Items:xle,Item:ble});function vle(t=0){let[e,r]=j.useState(t),n=$p(),s=j.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),o=j.useCallback(c=>!!(e&c),[e]),i=j.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=j.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:s,hasFlag:o,removeFlag:i,toggleFlag:l}}function jle(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function w1(t,...e){t&&e.length>0&&t.classList.add(...e)}function C1(t,...e){t&&e.length>0&&t.classList.remove(...e)}function Nle(t,e){let r=Mn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(t),[o,i]=[n,s].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,m)=>m-d);return u}),l=o+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function wle(t,e,r,n){let s=r?"enter":"leave",o=Mn(),i=n!==void 0?jle(n):()=>{};s==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Ut(s,{enter:()=>e.enter,leave:()=>e.leave}),c=Ut(s,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Ut(s,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return C1(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),w1(t,...e.base,...l,...u),o.nextFrame(()=>{C1(t,...e.base,...l,...u),w1(t,...e.base,...l,...c),Nle(t,()=>(C1(t,...e.base,...l),w1(t,...e.base,...e.entered),i()))}),o.dispose}function Cle({immediate:t,container:e,direction:r,classes:n,onStart:s,onStop:o}){let i=$p(),l=fi(),c=Ta(r);Ct(()=>{t&&(c.current="enter")},[t]),Ct(()=>{let u=Mn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),s.current(c.current),u.add(wle(d,n.current,c.current==="enter",()=>{u.dispose(),o.current(c.current)})),u.dispose},[r])}function oo(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let sj=j.createContext(null);sj.displayName="TransitionContext";var Sle=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Sle||{});function Ale(){let t=j.useContext(sj);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Ile(){let t=j.useContext(oj);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let oj=j.createContext(null);oj.displayName="NestingContext";function ij(t){return"children"in t?ij(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function t9(t,e){let r=Ta(t),n=j.useRef([]),s=$p(),o=fi(),i=Pe((p,h=Ao.Hidden)=>{let y=n.current.findIndex(({el:b})=>b===p);y!==-1&&(Ut(h,{[Ao.Unmount](){n.current.splice(y,1)},[Ao.Hidden](){n.current[y].state="hidden"}}),o.microTask(()=>{var b;!ij(n)&&s.current&&((b=r.current)==null||b.call(r))}))}),l=Pe(p=>{let h=n.current.find(({el:y})=>y===p);return h?h.state!=="visible"&&(h.state="visible"):n.current.push({el:p,state:"visible"}),()=>i(p,Ao.Unmount)}),c=j.useRef([]),u=j.useRef(Promise.resolve()),d=j.useRef({enter:[],leave:[],idle:[]}),m=Pe((p,h,y)=>{c.current.splice(0),e&&(e.chains.current[h]=e.chains.current[h].filter(([b])=>b!==p)),e==null||e.chains.current[h].push([p,new Promise(b=>{c.current.push(b)})]),e==null||e.chains.current[h].push([p,new Promise(b=>{Promise.all(d.current[h].map(([g,x])=>x)).then(()=>b())})]),h==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(h)):y(h)}),f=Pe((p,h,y)=>{Promise.all(d.current[h].splice(0).map(([b,g])=>g)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>y(h))});return j.useMemo(()=>({children:n,register:l,unregister:i,onStart:m,onStop:f,wait:u,chains:d}),[l,i,n,m,f,d,u])}function Tle(){}let Ple=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function $R(t){var e;let r={};for(let n of Ple)r[n]=(e=t[n])!=null?e:Tle;return r}function kle(t){let e=j.useRef($R(t));return j.useEffect(()=>{e.current=$R(t)},[t]),e}let Ele="div",r9=ai.RenderStrategy;function Dle(t,e){var r,n;let{beforeEnter:s,afterEnter:o,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:m,leave:f,leaveFrom:p,leaveTo:h,...y}=t,b=j.useRef(null),g=pr(b,e),x=(r=y.unmount)==null||r?Ao.Unmount:Ao.Hidden,{show:v,appear:w,initial:N}=Ale(),[S,C]=j.useState(v?"visible":"hidden"),A=Ile(),{register:T,unregister:I}=A;j.useEffect(()=>T(b),[T,b]),j.useEffect(()=>{if(x===Ao.Hidden&&b.current){if(v&&S!=="visible"){C("visible");return}return Ut(S,{hidden:()=>I(b),visible:()=>T(b)})}},[S,b,T,I,v,x]);let k=Ta({base:oo(y.className),enter:oo(c),enterFrom:oo(u),enterTo:oo(d),entered:oo(m),leave:oo(f),leaveFrom:oo(p),leaveTo:oo(h)}),$=kle({beforeEnter:s,afterEnter:o,beforeLeave:i,afterLeave:l}),L=Yu();j.useEffect(()=>{if(L&&S==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,S,L]);let q=N&&!w,E=w&&v&&N,R=!L||q?"idle":v?"enter":"leave",U=vle(0),B=Pe(G=>Ut(G,{enter:()=>{U.addFlag(sr.Opening),$.current.beforeEnter()},leave:()=>{U.addFlag(sr.Closing),$.current.beforeLeave()},idle:()=>{}})),P=Pe(G=>Ut(G,{enter:()=>{U.removeFlag(sr.Opening),$.current.afterEnter()},leave:()=>{U.removeFlag(sr.Closing),$.current.afterLeave()},idle:()=>{}})),O=t9(()=>{C("hidden"),I(b)},A),V=j.useRef(!1);Cle({immediate:E,container:b,classes:k,direction:R,onStart:Ta(G=>{V.current=!0,O.onStart(b,G,B)}),onStop:Ta(G=>{V.current=!1,O.onStop(b,G,P),G==="leave"&&!ij(O)&&(C("hidden"),I(b))})});let _=y,H={ref:g};return E?_={..._,className:cb(y.className,...k.current.enter,...k.current.enterFrom)}:V.current&&(_.className=cb(y.className,(n=b.current)==null?void 0:n.className),_.className===""&&delete _.className),Q.createElement(oj.Provider,{value:O},Q.createElement(pk,{value:Ut(S,{visible:sr.Open,hidden:sr.Closed})|U.flags},nr({ourProps:H,theirProps:_,defaultTag:Ele,features:r9,visible:S==="visible",name:"Transition.Child"})))}function Ole(t,e){let{show:r,appear:n=!1,unmount:s=!0,...o}=t,i=j.useRef(null),l=pr(i,e);Yu();let c=Dp();if(r===void 0&&c!==null&&(r=(c&sr.Open)===sr.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=j.useState(r?"visible":"hidden"),m=t9(()=>{d("hidden")}),[f,p]=j.useState(!0),h=j.useRef([r]);Ct(()=>{f!==!1&&h.current[h.current.length-1]!==r&&(h.current.push(r),p(!1))},[h,r]);let y=j.useMemo(()=>({show:r,appear:n,initial:f}),[r,n,f]);j.useEffect(()=>{if(r)d("visible");else if(!ij(m))d("hidden");else{let v=i.current;if(!v)return;let w=v.getBoundingClientRect();w.x===0&&w.y===0&&w.width===0&&w.height===0&&d("hidden")}},[r,m]);let b={unmount:s},g=Pe(()=>{var v;f&&p(!1),(v=t.beforeEnter)==null||v.call(t)}),x=Pe(()=>{var v;f&&p(!1),(v=t.beforeLeave)==null||v.call(t)});return Q.createElement(oj.Provider,{value:m},Q.createElement(sj.Provider,{value:y},nr({ourProps:{...b,as:j.Fragment,children:Q.createElement(n9,{ref:l,...b,...o,beforeEnter:g,beforeLeave:x})},theirProps:{},defaultTag:j.Fragment,features:r9,visible:u==="visible",name:"Transition"})))}function $le(t,e){let r=j.useContext(sj)!==null,n=Dp()!==null;return Q.createElement(Q.Fragment,null,!r&&n?Q.createElement(UA,{ref:e,...t}):Q.createElement(n9,{ref:e,...t}))}let UA=Jt(Ole),n9=Jt(Dle),Rle=Jt($le),el=Object.assign(UA,{Child:Rle,Root:UA});const Lle="/assets/Generic%20Logo-CjcoqDX1.ico";function Fle({toggleSidebar:t,isSidebarOpen:e}){var m,f;const r=he(),{user:n,selectedRole:s}=ee(p=>p.auth),[o,i]=j.useState(!1),l=j.useRef(null),c=Ll();j.useEffect(()=>{if(!o)return;function p(h){l.current&&!l.current.contains(h.target)&&i(!1)}return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[o]);const u=()=>{r(A6()),c("/login")},d=p=>{const h=Number(p.target.value),y=n.accessList.find(b=>b.ID===h);y&&r(I6(y))};return a.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[a.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-20",children:[a.jsxs("div",{className:"flex-1 flex items-center",children:[a.jsx("div",{className:"hidden md:flex flex-col items-start",children:a.jsx("img",{src:Lle,alt:"Generic logo",className:"h-16 mr-6"})}),a.jsx("div",{className:"hidden md:flex flex-col items-start",children:a.jsx("h1",{className:"text-xl font-bold text-black text-left items-start",children:"Municipality of LGU"})})]}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:a.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[a.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?a.jsx(Hu,{className:"block h-6 w-6","aria-hidden":"true"}):a.jsx(Wne,{className:"block h-6 w-6","aria-hidden":"true"})]})}),a.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:a.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),a.jsxs("div",{className:"flex items-center",children:[n&&((m=n==null?void 0:n.accessList)==null?void 0:m.length)>1&&a.jsxs("select",{value:(s==null?void 0:s.ID)||"",onChange:d,className:"text-sm border border-gray-300 rounded-md px-2 py-1 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",hidden:!0,children:"Select Role"}),n.accessList.map(p=>a.jsx("option",{value:p.ID,children:p.Description},p.ID))]}),a.jsx("div",{className:"ml-3 relative",children:a.jsxs(rc,{as:"div",className:"relative",children:[a.jsxs(rc.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx("span",{className:"sr-only",children:"Open user menu"}),a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((f=n==null?void 0:n.UserName)==null?void 0:f.charAt(0))||"U"})]}),a.jsx(el,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:a.jsxs(rc.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[a.jsx("div",{className:"py-1",children:a.jsxs("div",{className:"px-4 py-2",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),a.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),a.jsx("div",{className:"py-1",children:a.jsx(rc.Item,{children:({active:p})=>a.jsxs("button",{onClick:()=>c("/profile"),className:`${p?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[a.jsx(xae,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),a.jsx("div",{className:"py-1",children:a.jsx(rc.Item,{children:({active:p})=>a.jsxs("button",{onClick:()=>c("/change-password"),className:`${p?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[a.jsx(uae,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),a.jsx("div",{className:"py-1",children:a.jsx(rc.Item,{children:({active:p})=>a.jsxs("button",{onClick:u,className:`${p?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[a.jsx(qne,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})]})]})}),o&&a.jsxs("div",{ref:l,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[a.jsx("div",{className:"p-4 border-b border-neutral-200",children:a.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),a.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[a.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:a.jsx(Mle,{className:"h-5 w-5 text-primary-600"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),a.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),a.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),a.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:a.jsx(_le,{className:"h-5 w-5 text-success-600"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),a.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),a.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),a.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:a.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function Mle(t){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function _le(t){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function Ble(){const t=Ll(),e=Zs(),[r,n]=j.useState(!0);j.useEffect(()=>{const o=()=>{window.innerWidth<1024?n(!1):n(!0)};return window.addEventListener("resize",o),o(),()=>window.removeEventListener("resize",o)},[]),j.useEffect(()=>{window.innerWidth<1024&&n(!1)},[e.pathname]);const s=()=>{n(!r)};return j.useEffect(()=>{sessionStorage.getItem("token")||t("/login")},[t]),a.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[r&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>n(!1)}),a.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:a.jsx(_se,{})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(Fle,{toggleSidebar:s,isSidebarOpen:r}),a.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:a.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:a.jsx(oV,{mode:"wait",children:a.jsx(bV,{children:a.jsx(p6,{})},e.pathname)})})})]})]})}const qle=()=>{const t=Zs();return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md space-y-8",children:a.jsx(oV,{mode:"wait",children:a.jsx(bV,{children:a.jsx(p6,{})},t.pathname)})})})};var Vle=function(e){return Ule(e)&&!zle(e)};function Ule(t){return!!t&&typeof t=="object"}function zle(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Hle(t)}var Wle=typeof Symbol=="function"&&Symbol.for,Gle=Wle?Symbol.for("react.element"):60103;function Hle(t){return t.$$typeof===Gle}function Yle(t){return Array.isArray(t)?[]:{}}function mb(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Pf(Yle(t),t,e):t}function Kle(t,e,r){return t.concat(e).map(function(n){return mb(n,r)})}function Jle(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(s){n[s]=mb(t[s],r)}),Object.keys(e).forEach(function(s){!r.isMergeableObject(e[s])||!t[s]?n[s]=mb(e[s],r):n[s]=Pf(t[s],e[s],r)}),n}function Pf(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||Kle,r.isMergeableObject=r.isMergeableObject||Vle;var n=Array.isArray(e),s=Array.isArray(t),o=n===s;return o?n?r.arrayMerge(t,e,r):Jle(t,e,r):mb(e,r)}Pf.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,s){return Pf(n,s,r)},{})};var zA=Pf,a9=typeof global=="object"&&global&&global.Object===Object&&global,Xle=typeof self=="object"&&self&&self.Object===Object&&self,cs=a9||Xle||Function("return this")(),si=cs.Symbol,s9=Object.prototype,Zle=s9.hasOwnProperty,Qle=s9.toString,Md=si?si.toStringTag:void 0;function ece(t){var e=Zle.call(t,Md),r=t[Md];try{t[Md]=void 0;var n=!0}catch{}var s=Qle.call(t);return n&&(e?t[Md]=r:delete t[Md]),s}var tce=Object.prototype,rce=tce.toString;function nce(t){return rce.call(t)}var ace="[object Null]",sce="[object Undefined]",RR=si?si.toStringTag:void 0;function Bl(t){return t==null?t===void 0?sce:ace:RR&&RR in Object(t)?ece(t):nce(t)}function o9(t,e){return function(r){return t(e(r))}}var vk=o9(Object.getPrototypeOf,Object);function ql(t){return t!=null&&typeof t=="object"}var oce="[object Object]",ice=Function.prototype,lce=Object.prototype,i9=ice.toString,cce=lce.hasOwnProperty,uce=i9.call(Object);function LR(t){if(!ql(t)||Bl(t)!=oce)return!1;var e=vk(t);if(e===null)return!0;var r=cce.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&i9.call(r)==uce}function dce(){this.__data__=[],this.size=0}function l9(t,e){return t===e||t!==t&&e!==e}function lj(t,e){for(var r=t.length;r--;)if(l9(t[r][0],e))return r;return-1}var mce=Array.prototype,fce=mce.splice;function pce(t){var e=this.__data__,r=lj(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():fce.call(e,r,1),--this.size,!0}function hce(t){var e=this.__data__,r=lj(e,t);return r<0?void 0:e[r][1]}function gce(t){return lj(this.__data__,t)>-1}function yce(t,e){var r=this.__data__,n=lj(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function eo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}eo.prototype.clear=dce;eo.prototype.delete=pce;eo.prototype.get=hce;eo.prototype.has=gce;eo.prototype.set=yce;function xce(){this.__data__=new eo,this.size=0}function bce(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function vce(t){return this.__data__.get(t)}function jce(t){return this.__data__.has(t)}function Lp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Nce="[object AsyncFunction]",wce="[object Function]",Cce="[object GeneratorFunction]",Sce="[object Proxy]";function c9(t){if(!Lp(t))return!1;var e=Bl(t);return e==wce||e==Cce||e==Nce||e==Sce}var S1=cs["__core-js_shared__"],FR=function(){var t=/[^.]+$/.exec(S1&&S1.keys&&S1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ace(t){return!!FR&&FR in t}var Ice=Function.prototype,Tce=Ice.toString;function Vl(t){if(t!=null){try{return Tce.call(t)}catch{}try{return t+""}catch{}}return""}var Pce=/[\\^$.*+?()[\]{}|]/g,kce=/^\[object .+?Constructor\]$/,Ece=Function.prototype,Dce=Object.prototype,Oce=Ece.toString,$ce=Dce.hasOwnProperty,Rce=RegExp("^"+Oce.call($ce).replace(Pce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lce(t){if(!Lp(t)||Ace(t))return!1;var e=c9(t)?Rce:kce;return e.test(Vl(t))}function Fce(t,e){return t==null?void 0:t[e]}function Ul(t,e){var r=Fce(t,e);return Lce(r)?r:void 0}var kf=Ul(cs,"Map"),Ef=Ul(Object,"create");function Mce(){this.__data__=Ef?Ef(null):{},this.size=0}function _ce(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Bce="__lodash_hash_undefined__",qce=Object.prototype,Vce=qce.hasOwnProperty;function Uce(t){var e=this.__data__;if(Ef){var r=e[t];return r===Bce?void 0:r}return Vce.call(e,t)?e[t]:void 0}var zce=Object.prototype,Wce=zce.hasOwnProperty;function Gce(t){var e=this.__data__;return Ef?e[t]!==void 0:Wce.call(e,t)}var Hce="__lodash_hash_undefined__";function Yce(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ef&&e===void 0?Hce:e,this}function wl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wl.prototype.clear=Mce;wl.prototype.delete=_ce;wl.prototype.get=Uce;wl.prototype.has=Gce;wl.prototype.set=Yce;function Kce(){this.size=0,this.__data__={hash:new wl,map:new(kf||eo),string:new wl}}function Jce(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function cj(t,e){var r=t.__data__;return Jce(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Xce(t){var e=cj(this,t).delete(t);return this.size-=e?1:0,e}function Zce(t){return cj(this,t).get(t)}function Qce(t){return cj(this,t).has(t)}function eue(t,e){var r=cj(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function pi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pi.prototype.clear=Kce;pi.prototype.delete=Xce;pi.prototype.get=Zce;pi.prototype.has=Qce;pi.prototype.set=eue;var tue=200;function rue(t,e){var r=this.__data__;if(r instanceof eo){var n=r.__data__;if(!kf||n.length<tue-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new pi(n)}return r.set(t,e),this.size=r.size,this}function Ku(t){var e=this.__data__=new eo(t);this.size=e.size}Ku.prototype.clear=xce;Ku.prototype.delete=bce;Ku.prototype.get=vce;Ku.prototype.has=jce;Ku.prototype.set=rue;function nue(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var MR=function(){try{var t=Ul(Object,"defineProperty");return t({},"",{}),t}catch{}}();function u9(t,e,r){e=="__proto__"&&MR?MR(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var aue=Object.prototype,sue=aue.hasOwnProperty;function d9(t,e,r){var n=t[e];(!(sue.call(t,e)&&l9(n,r))||r===void 0&&!(e in t))&&u9(t,e,r)}function uj(t,e,r,n){var s=!r;r||(r={});for(var o=-1,i=e.length;++o<i;){var l=e[o],c=void 0;c===void 0&&(c=t[l]),s?u9(r,l,c):d9(r,l,c)}return r}function oue(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var iue="[object Arguments]";function _R(t){return ql(t)&&Bl(t)==iue}var m9=Object.prototype,lue=m9.hasOwnProperty,cue=m9.propertyIsEnumerable,uue=_R(function(){return arguments}())?_R:function(t){return ql(t)&&lue.call(t,"callee")&&!cue.call(t,"callee")},Fp=Array.isArray;function due(){return!1}var f9=typeof En=="object"&&En&&!En.nodeType&&En,BR=f9&&typeof Dn=="object"&&Dn&&!Dn.nodeType&&Dn,mue=BR&&BR.exports===f9,qR=mue?cs.Buffer:void 0,fue=qR?qR.isBuffer:void 0,p9=fue||due,pue=9007199254740991,hue=/^(?:0|[1-9]\d*)$/;function gue(t,e){var r=typeof t;return e=e??pue,!!e&&(r=="number"||r!="symbol"&&hue.test(t))&&t>-1&&t%1==0&&t<e}var yue=9007199254740991;function h9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yue}var xue="[object Arguments]",bue="[object Array]",vue="[object Boolean]",jue="[object Date]",Nue="[object Error]",wue="[object Function]",Cue="[object Map]",Sue="[object Number]",Aue="[object Object]",Iue="[object RegExp]",Tue="[object Set]",Pue="[object String]",kue="[object WeakMap]",Eue="[object ArrayBuffer]",Due="[object DataView]",Oue="[object Float32Array]",$ue="[object Float64Array]",Rue="[object Int8Array]",Lue="[object Int16Array]",Fue="[object Int32Array]",Mue="[object Uint8Array]",_ue="[object Uint8ClampedArray]",Bue="[object Uint16Array]",que="[object Uint32Array]",Lt={};Lt[Oue]=Lt[$ue]=Lt[Rue]=Lt[Lue]=Lt[Fue]=Lt[Mue]=Lt[_ue]=Lt[Bue]=Lt[que]=!0;Lt[xue]=Lt[bue]=Lt[Eue]=Lt[vue]=Lt[Due]=Lt[jue]=Lt[Nue]=Lt[wue]=Lt[Cue]=Lt[Sue]=Lt[Aue]=Lt[Iue]=Lt[Tue]=Lt[Pue]=Lt[kue]=!1;function Vue(t){return ql(t)&&h9(t.length)&&!!Lt[Bl(t)]}function jk(t){return function(e){return t(e)}}var g9=typeof En=="object"&&En&&!En.nodeType&&En,Pm=g9&&typeof Dn=="object"&&Dn&&!Dn.nodeType&&Dn,Uue=Pm&&Pm.exports===g9,A1=Uue&&a9.process,du=function(){try{var t=Pm&&Pm.require&&Pm.require("util").types;return t||A1&&A1.binding&&A1.binding("util")}catch{}}(),VR=du&&du.isTypedArray,zue=VR?jk(VR):Vue,Wue=Object.prototype,Gue=Wue.hasOwnProperty;function y9(t,e){var r=Fp(t),n=!r&&uue(t),s=!r&&!n&&p9(t),o=!r&&!n&&!s&&zue(t),i=r||n||s||o,l=i?oue(t.length,String):[],c=l.length;for(var u in t)(e||Gue.call(t,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gue(u,c)))&&l.push(u);return l}var Hue=Object.prototype;function Nk(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Hue;return t===r}var Yue=o9(Object.keys,Object),Kue=Object.prototype,Jue=Kue.hasOwnProperty;function Xue(t){if(!Nk(t))return Yue(t);var e=[];for(var r in Object(t))Jue.call(t,r)&&r!="constructor"&&e.push(r);return e}function x9(t){return t!=null&&h9(t.length)&&!c9(t)}function wk(t){return x9(t)?y9(t):Xue(t)}function Zue(t,e){return t&&uj(e,wk(e),t)}function Que(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var ede=Object.prototype,tde=ede.hasOwnProperty;function rde(t){if(!Lp(t))return Que(t);var e=Nk(t),r=[];for(var n in t)n=="constructor"&&(e||!tde.call(t,n))||r.push(n);return r}function Ck(t){return x9(t)?y9(t,!0):rde(t)}function nde(t,e){return t&&uj(e,Ck(e),t)}var b9=typeof En=="object"&&En&&!En.nodeType&&En,UR=b9&&typeof Dn=="object"&&Dn&&!Dn.nodeType&&Dn,ade=UR&&UR.exports===b9,zR=ade?cs.Buffer:void 0,WR=zR?zR.allocUnsafe:void 0;function sde(t,e){if(e)return t.slice();var r=t.length,n=WR?WR(r):new t.constructor(r);return t.copy(n),n}function v9(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function ode(t,e){for(var r=-1,n=t==null?0:t.length,s=0,o=[];++r<n;){var i=t[r];e(i,r,t)&&(o[s++]=i)}return o}function j9(){return[]}var ide=Object.prototype,lde=ide.propertyIsEnumerable,GR=Object.getOwnPropertySymbols,Sk=GR?function(t){return t==null?[]:(t=Object(t),ode(GR(t),function(e){return lde.call(t,e)}))}:j9;function cde(t,e){return uj(t,Sk(t),e)}function N9(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var ude=Object.getOwnPropertySymbols,w9=ude?function(t){for(var e=[];t;)N9(e,Sk(t)),t=vk(t);return e}:j9;function dde(t,e){return uj(t,w9(t),e)}function C9(t,e,r){var n=e(t);return Fp(t)?n:N9(n,r(t))}function mde(t){return C9(t,wk,Sk)}function fde(t){return C9(t,Ck,w9)}var WA=Ul(cs,"DataView"),GA=Ul(cs,"Promise"),HA=Ul(cs,"Set"),YA=Ul(cs,"WeakMap"),HR="[object Map]",pde="[object Object]",YR="[object Promise]",KR="[object Set]",JR="[object WeakMap]",XR="[object DataView]",hde=Vl(WA),gde=Vl(kf),yde=Vl(GA),xde=Vl(HA),bde=Vl(YA),xs=Bl;(WA&&xs(new WA(new ArrayBuffer(1)))!=XR||kf&&xs(new kf)!=HR||GA&&xs(GA.resolve())!=YR||HA&&xs(new HA)!=KR||YA&&xs(new YA)!=JR)&&(xs=function(t){var e=Bl(t),r=e==pde?t.constructor:void 0,n=r?Vl(r):"";if(n)switch(n){case hde:return XR;case gde:return HR;case yde:return YR;case xde:return KR;case bde:return JR}return e});var vde=Object.prototype,jde=vde.hasOwnProperty;function Nde(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&jde.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var ZR=cs.Uint8Array;function Ak(t){var e=new t.constructor(t.byteLength);return new ZR(e).set(new ZR(t)),e}function wde(t,e){var r=e?Ak(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Cde=/\w*$/;function Sde(t){var e=new t.constructor(t.source,Cde.exec(t));return e.lastIndex=t.lastIndex,e}var QR=si?si.prototype:void 0,eL=QR?QR.valueOf:void 0;function Ade(t){return eL?Object(eL.call(t)):{}}function Ide(t,e){var r=e?Ak(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Tde="[object Boolean]",Pde="[object Date]",kde="[object Map]",Ede="[object Number]",Dde="[object RegExp]",Ode="[object Set]",$de="[object String]",Rde="[object Symbol]",Lde="[object ArrayBuffer]",Fde="[object DataView]",Mde="[object Float32Array]",_de="[object Float64Array]",Bde="[object Int8Array]",qde="[object Int16Array]",Vde="[object Int32Array]",Ude="[object Uint8Array]",zde="[object Uint8ClampedArray]",Wde="[object Uint16Array]",Gde="[object Uint32Array]";function Hde(t,e,r){var n=t.constructor;switch(e){case Lde:return Ak(t);case Tde:case Pde:return new n(+t);case Fde:return wde(t,r);case Mde:case _de:case Bde:case qde:case Vde:case Ude:case zde:case Wde:case Gde:return Ide(t,r);case kde:return new n;case Ede:case $de:return new n(t);case Dde:return Sde(t);case Ode:return new n;case Rde:return Ade(t)}}var tL=Object.create,Yde=function(){function t(){}return function(e){if(!Lp(e))return{};if(tL)return tL(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Kde(t){return typeof t.constructor=="function"&&!Nk(t)?Yde(vk(t)):{}}var Jde="[object Map]";function Xde(t){return ql(t)&&xs(t)==Jde}var rL=du&&du.isMap,Zde=rL?jk(rL):Xde,Qde="[object Set]";function eme(t){return ql(t)&&xs(t)==Qde}var nL=du&&du.isSet,tme=nL?jk(nL):eme,rme=1,nme=2,ame=4,S9="[object Arguments]",sme="[object Array]",ome="[object Boolean]",ime="[object Date]",lme="[object Error]",A9="[object Function]",cme="[object GeneratorFunction]",ume="[object Map]",dme="[object Number]",I9="[object Object]",mme="[object RegExp]",fme="[object Set]",pme="[object String]",hme="[object Symbol]",gme="[object WeakMap]",yme="[object ArrayBuffer]",xme="[object DataView]",bme="[object Float32Array]",vme="[object Float64Array]",jme="[object Int8Array]",Nme="[object Int16Array]",wme="[object Int32Array]",Cme="[object Uint8Array]",Sme="[object Uint8ClampedArray]",Ame="[object Uint16Array]",Ime="[object Uint32Array]",Tt={};Tt[S9]=Tt[sme]=Tt[yme]=Tt[xme]=Tt[ome]=Tt[ime]=Tt[bme]=Tt[vme]=Tt[jme]=Tt[Nme]=Tt[wme]=Tt[ume]=Tt[dme]=Tt[I9]=Tt[mme]=Tt[fme]=Tt[pme]=Tt[hme]=Tt[Cme]=Tt[Sme]=Tt[Ame]=Tt[Ime]=!0;Tt[lme]=Tt[A9]=Tt[gme]=!1;function km(t,e,r,n,s,o){var i,l=e&rme,c=e&nme,u=e&ame;if(i!==void 0)return i;if(!Lp(t))return t;var d=Fp(t);if(d){if(i=Nde(t),!l)return v9(t,i)}else{var m=xs(t),f=m==A9||m==cme;if(p9(t))return sde(t,l);if(m==I9||m==S9||f&&!s){if(i=c||f?{}:Kde(t),!l)return c?dde(t,nde(i,t)):cde(t,Zue(i,t))}else{if(!Tt[m])return s?t:{};i=Hde(t,m,l)}}o||(o=new Ku);var p=o.get(t);if(p)return p;o.set(t,i),tme(t)?t.forEach(function(b){i.add(km(b,e,r,b,t,o))}):Zde(t)&&t.forEach(function(b,g){i.set(g,km(b,e,r,g,t,o))});var h=u?c?fde:mde:c?Ck:wk,y=d?void 0:h(t);return nue(y||t,function(b,g){y&&(g=b,b=t[g]),d9(i,g,km(b,e,r,g,t,o))}),i}var Tme=1,Pme=4;function um(t){return km(t,Tme|Pme)}var aL=Array.isArray,sL=Object.keys,kme=Object.prototype.hasOwnProperty,Eme=typeof Element<"u";function KA(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=aL(t),n=aL(e),s,o,i;if(r&&n){if(o=t.length,o!=e.length)return!1;for(s=o;s--!==0;)if(!KA(t[s],e[s]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var m=sL(t);if(o=m.length,o!==sL(e).length)return!1;for(s=o;s--!==0;)if(!kme.call(e,m[s]))return!1;if(Eme&&t instanceof Element&&e instanceof Element)return t===e;for(s=o;s--!==0;)if(i=m[s],!(i==="_owner"&&t.$$typeof)&&!KA(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Dme=function(e,r){try{return KA(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const fo=ut(Dme);var Ome=4;function oL(t){return km(t,Ome)}function T9(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var $me="[object Symbol]";function Ik(t){return typeof t=="symbol"||ql(t)&&Bl(t)==$me}var Rme="Expected a function";function Tk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Rme);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],o=r.cache;if(o.has(s))return o.get(s);var i=t.apply(this,n);return r.cache=o.set(s,i)||o,i};return r.cache=new(Tk.Cache||pi),r}Tk.Cache=pi;var Lme=500;function Fme(t){var e=Tk(t,function(n){return r.size===Lme&&r.clear(),n}),r=e.cache;return e}var Mme=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_me=/\\(\\)?/g,Bme=Fme(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Mme,function(r,n,s,o){e.push(s?o.replace(_me,"$1"):n||r)}),e});function qme(t){if(typeof t=="string"||Ik(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var iL=si?si.prototype:void 0,lL=iL?iL.toString:void 0;function P9(t){if(typeof t=="string")return t;if(Fp(t))return T9(t,P9)+"";if(Ik(t))return lL?lL.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Vme(t){return t==null?"":P9(t)}function k9(t){return Fp(t)?T9(t,qme):Ik(t)?[t]:v9(Bme(Vme(t)))}var E9={exports:{}},jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tr=typeof Symbol=="function"&&Symbol.for,Pk=Tr?Symbol.for("react.element"):60103,kk=Tr?Symbol.for("react.portal"):60106,dj=Tr?Symbol.for("react.fragment"):60107,mj=Tr?Symbol.for("react.strict_mode"):60108,fj=Tr?Symbol.for("react.profiler"):60114,pj=Tr?Symbol.for("react.provider"):60109,hj=Tr?Symbol.for("react.context"):60110,Ek=Tr?Symbol.for("react.async_mode"):60111,gj=Tr?Symbol.for("react.concurrent_mode"):60111,yj=Tr?Symbol.for("react.forward_ref"):60112,xj=Tr?Symbol.for("react.suspense"):60113,Ume=Tr?Symbol.for("react.suspense_list"):60120,bj=Tr?Symbol.for("react.memo"):60115,vj=Tr?Symbol.for("react.lazy"):60116,zme=Tr?Symbol.for("react.block"):60121,Wme=Tr?Symbol.for("react.fundamental"):60117,Gme=Tr?Symbol.for("react.responder"):60118,Hme=Tr?Symbol.for("react.scope"):60119;function zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Pk:switch(t=t.type,t){case Ek:case gj:case dj:case fj:case mj:case xj:return t;default:switch(t=t&&t.$$typeof,t){case hj:case yj:case vj:case bj:case pj:return t;default:return e}}case kk:return e}}}function D9(t){return zn(t)===gj}jt.AsyncMode=Ek;jt.ConcurrentMode=gj;jt.ContextConsumer=hj;jt.ContextProvider=pj;jt.Element=Pk;jt.ForwardRef=yj;jt.Fragment=dj;jt.Lazy=vj;jt.Memo=bj;jt.Portal=kk;jt.Profiler=fj;jt.StrictMode=mj;jt.Suspense=xj;jt.isAsyncMode=function(t){return D9(t)||zn(t)===Ek};jt.isConcurrentMode=D9;jt.isContextConsumer=function(t){return zn(t)===hj};jt.isContextProvider=function(t){return zn(t)===pj};jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pk};jt.isForwardRef=function(t){return zn(t)===yj};jt.isFragment=function(t){return zn(t)===dj};jt.isLazy=function(t){return zn(t)===vj};jt.isMemo=function(t){return zn(t)===bj};jt.isPortal=function(t){return zn(t)===kk};jt.isProfiler=function(t){return zn(t)===fj};jt.isStrictMode=function(t){return zn(t)===mj};jt.isSuspense=function(t){return zn(t)===xj};jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dj||t===gj||t===fj||t===mj||t===xj||t===Ume||typeof t=="object"&&t!==null&&(t.$$typeof===vj||t.$$typeof===bj||t.$$typeof===pj||t.$$typeof===hj||t.$$typeof===yj||t.$$typeof===Wme||t.$$typeof===Gme||t.$$typeof===Hme||t.$$typeof===zme)};jt.typeOf=zn;E9.exports=jt;var Yme=E9.exports,Dk=Yme,Kme={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Jme={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Xme={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},O9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ok={};Ok[Dk.ForwardRef]=Xme;Ok[Dk.Memo]=O9;function cL(t){return Dk.isMemo(t)?O9:Ok[t.$$typeof]||Kme}var Zme=Object.defineProperty,Qme=Object.getOwnPropertyNames,uL=Object.getOwnPropertySymbols,efe=Object.getOwnPropertyDescriptor,tfe=Object.getPrototypeOf,dL=Object.prototype;function $9(t,e,r){if(typeof e!="string"){if(dL){var n=tfe(e);n&&n!==dL&&$9(t,n,r)}var s=Qme(e);uL&&(s=s.concat(uL(e)));for(var o=cL(t),i=cL(e),l=0;l<s.length;++l){var c=s[l];if(!Jme[c]&&!(r&&r[c])&&!(i&&i[c])&&!(o&&o[c])){var u=efe(e,c);try{Zme(t,c,u)}catch{}}}}return t}var rfe=$9;const nfe=ut(rfe);function gt(){return gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gt.apply(this,arguments)}function R9(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Io(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function mL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var jj=j.createContext(void 0);jj.displayName="FormikContext";var $k=jj.Provider,afe=jj.Consumer;function Rk(){var t=j.useContext(jj);return t}var fL=function(e){return Array.isArray(e)&&e.length===0},$r=function(e){return typeof e=="function"},Mp=function(e){return e!==null&&typeof e=="object"},sfe=function(e){return String(Math.floor(Number(e)))===e},I1=function(e){return Object.prototype.toString.call(e)==="[object String]"},L9=function(e){return j.Children.count(e)===0},T1=function(e){return Mp(e)&&$r(e.then)};function qt(t,e,r,n){n===void 0&&(n=0);for(var s=k9(e);t&&n<s.length;)t=t[s[n++]];return n!==s.length&&!t||t===void 0?r:t}function Qa(t,e,r){for(var n=oL(t),s=n,o=0,i=k9(e);o<i.length-1;o++){var l=i[o],c=qt(t,i.slice(0,o+1));if(c&&(Mp(c)||Array.isArray(c)))s=s[l]=oL(c);else{var u=i[o+1];s=s[l]=sfe(u)&&Number(u)>=0?[]:{}}}return(o===0?t:s)[i[o]]===r?t:(r===void 0?delete s[i[o]]:s[i[o]]=r,o===0&&r===void 0&&delete n[i[o]],n)}function F9(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var s=0,o=Object.keys(t);s<o.length;s++){var i=o[s],l=t[i];Mp(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},F9(l,e,r,n[i])):n[i]=e}return n}function ofe(t,e){switch(e.type){case"SET_VALUES":return gt({},t,{values:e.payload});case"SET_TOUCHED":return gt({},t,{touched:e.payload});case"SET_ERRORS":return fo(t.errors,e.payload)?t:gt({},t,{errors:e.payload});case"SET_STATUS":return gt({},t,{status:e.payload});case"SET_ISSUBMITTING":return gt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return gt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return gt({},t,{values:Qa(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return gt({},t,{touched:Qa(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return gt({},t,{errors:Qa(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return gt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return gt({},t,{touched:F9(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return gt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return gt({},t,{isSubmitting:!1});default:return t}}var Ni={},kh={};function ot(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,s=n===void 0?!0:n,o=t.validateOnMount,i=o===void 0?!1:o,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,m=Io(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=gt({validateOnChange:r,validateOnBlur:s,validateOnMount:i,onSubmit:d},m),p=j.useRef(f.initialValues),h=j.useRef(f.initialErrors||Ni),y=j.useRef(f.initialTouched||kh),b=j.useRef(f.initialStatus),g=j.useRef(!1),x=j.useRef({});j.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var v=j.useState(0),w=v[1],N=j.useRef({values:um(f.initialValues),errors:um(f.initialErrors)||Ni,touched:um(f.initialTouched)||kh,status:um(f.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),S=N.current,C=j.useCallback(function(se){var Ne=N.current;N.current=ofe(Ne,se),Ne!==N.current&&w(function(ke){return ke+1})},[]),A=j.useCallback(function(se,Ne){return new Promise(function(ke,$e){var Qe=f.validate(se,Ne);Qe==null?ke(Ni):T1(Qe)?Qe.then(function(it){ke(it||Ni)},function(it){$e(it)}):ke(Qe)})},[f.validate]),T=j.useCallback(function(se,Ne){var ke=f.validationSchema,$e=$r(ke)?ke(Ne):ke,Qe=Ne&&$e.validateAt?$e.validateAt(Ne,se):lfe(se,$e);return new Promise(function(it,oe){Qe.then(function(){it(Ni)},function(Me){Me.name==="ValidationError"?it(ife(Me)):oe(Me)})})},[f.validationSchema]),I=j.useCallback(function(se,Ne){return new Promise(function(ke){return ke(x.current[se].validate(Ne))})},[]),k=j.useCallback(function(se){var Ne=Object.keys(x.current).filter(function($e){return $r(x.current[$e].validate)}),ke=Ne.length>0?Ne.map(function($e){return I($e,qt(se,$e))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ke).then(function($e){return $e.reduce(function(Qe,it,oe){return it==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||it&&(Qe=Qa(Qe,Ne[oe],it)),Qe},{})})},[I]),$=j.useCallback(function(se){return Promise.all([k(se),f.validationSchema?T(se):{},f.validate?A(se):{}]).then(function(Ne){var ke=Ne[0],$e=Ne[1],Qe=Ne[2],it=zA.all([ke,$e,Qe],{arrayMerge:cfe});return it})},[f.validate,f.validationSchema,k,A,T]),L=Hn(function(se){return se===void 0&&(se=S.values),C({type:"SET_ISVALIDATING",payload:!0}),$(se).then(function(Ne){return g.current&&(C({type:"SET_ISVALIDATING",payload:!1}),C({type:"SET_ERRORS",payload:Ne})),Ne})});j.useEffect(function(){i&&g.current===!0&&fo(p.current,f.initialValues)&&L(p.current)},[i,L]);var q=j.useCallback(function(se){var Ne=se&&se.values?se.values:p.current,ke=se&&se.errors?se.errors:h.current?h.current:f.initialErrors||{},$e=se&&se.touched?se.touched:y.current?y.current:f.initialTouched||{},Qe=se&&se.status?se.status:b.current?b.current:f.initialStatus;p.current=Ne,h.current=ke,y.current=$e,b.current=Qe;var it=function(){C({type:"RESET_FORM",payload:{isSubmitting:!!se&&!!se.isSubmitting,errors:ke,touched:$e,status:Qe,values:Ne,isValidating:!!se&&!!se.isValidating,submitCount:se&&se.submitCount&&typeof se.submitCount=="number"?se.submitCount:0}})};if(f.onReset){var oe=f.onReset(S.values,J);T1(oe)?oe.then(it):it()}else it()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);j.useEffect(function(){g.current===!0&&!fo(p.current,f.initialValues)&&u&&(p.current=f.initialValues,q(),i&&L(p.current))},[u,f.initialValues,q,i,L]),j.useEffect(function(){u&&g.current===!0&&!fo(h.current,f.initialErrors)&&(h.current=f.initialErrors||Ni,C({type:"SET_ERRORS",payload:f.initialErrors||Ni}))},[u,f.initialErrors]),j.useEffect(function(){u&&g.current===!0&&!fo(y.current,f.initialTouched)&&(y.current=f.initialTouched||kh,C({type:"SET_TOUCHED",payload:f.initialTouched||kh}))},[u,f.initialTouched]),j.useEffect(function(){u&&g.current===!0&&!fo(b.current,f.initialStatus)&&(b.current=f.initialStatus,C({type:"SET_STATUS",payload:f.initialStatus}))},[u,f.initialStatus,f.initialTouched]);var E=Hn(function(se){if(x.current[se]&&$r(x.current[se].validate)){var Ne=qt(S.values,se),ke=x.current[se].validate(Ne);return T1(ke)?(C({type:"SET_ISVALIDATING",payload:!0}),ke.then(function($e){return $e}).then(function($e){C({type:"SET_FIELD_ERROR",payload:{field:se,value:$e}}),C({type:"SET_ISVALIDATING",payload:!1})})):(C({type:"SET_FIELD_ERROR",payload:{field:se,value:ke}}),Promise.resolve(ke))}else if(f.validationSchema)return C({type:"SET_ISVALIDATING",payload:!0}),T(S.values,se).then(function($e){return $e}).then(function($e){C({type:"SET_FIELD_ERROR",payload:{field:se,value:qt($e,se)}}),C({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),R=j.useCallback(function(se,Ne){var ke=Ne.validate;x.current[se]={validate:ke}},[]),U=j.useCallback(function(se){delete x.current[se]},[]),B=Hn(function(se,Ne){C({type:"SET_TOUCHED",payload:se});var ke=Ne===void 0?s:Ne;return ke?L(S.values):Promise.resolve()}),P=j.useCallback(function(se){C({type:"SET_ERRORS",payload:se})},[]),O=Hn(function(se,Ne){var ke=$r(se)?se(S.values):se;C({type:"SET_VALUES",payload:ke});var $e=Ne===void 0?r:Ne;return $e?L(ke):Promise.resolve()}),V=j.useCallback(function(se,Ne){C({type:"SET_FIELD_ERROR",payload:{field:se,value:Ne}})},[]),_=Hn(function(se,Ne,ke){C({type:"SET_FIELD_VALUE",payload:{field:se,value:Ne}});var $e=ke===void 0?r:ke;return $e?L(Qa(S.values,se,Ne)):Promise.resolve()}),H=j.useCallback(function(se,Ne){var ke=Ne,$e=se,Qe;if(!I1(se)){se.persist&&se.persist();var it=se.target?se.target:se.currentTarget,oe=it.type,Me=it.name,Oe=it.id,Ve=it.value,Re=it.checked;it.outerHTML;var At=it.options,Gn=it.multiple;ke=Ne||Me||Oe,$e=/number|range/.test(oe)?(Qe=parseFloat(Ve),isNaN(Qe)?"":Qe):/checkbox/.test(oe)?dfe(qt(S.values,ke),Re,Ve):At&&Gn?ufe(At):Ve}ke&&_(ke,$e)},[_,S.values]),G=Hn(function(se){if(I1(se))return function(Ne){return H(Ne,se)};H(se)}),re=Hn(function(se,Ne,ke){Ne===void 0&&(Ne=!0),C({type:"SET_FIELD_TOUCHED",payload:{field:se,value:Ne}});var $e=ke===void 0?s:ke;return $e?L(S.values):Promise.resolve()}),ie=j.useCallback(function(se,Ne){se.persist&&se.persist();var ke=se.target,$e=ke.name,Qe=ke.id;ke.outerHTML;var it=Ne||$e||Qe;re(it,!0)},[re]),te=Hn(function(se){if(I1(se))return function(Ne){return ie(Ne,se)};ie(se)}),Z=j.useCallback(function(se){$r(se)?C({type:"SET_FORMIK_STATE",payload:se}):C({type:"SET_FORMIK_STATE",payload:function(){return se}})},[]),z=j.useCallback(function(se){C({type:"SET_STATUS",payload:se})},[]),W=j.useCallback(function(se){C({type:"SET_ISSUBMITTING",payload:se})},[]),X=Hn(function(){return C({type:"SUBMIT_ATTEMPT"}),L().then(function(se){var Ne=se instanceof Error,ke=!Ne&&Object.keys(se).length===0;if(ke){var $e;try{if($e=ne(),$e===void 0)return}catch(Qe){throw Qe}return Promise.resolve($e).then(function(Qe){return g.current&&C({type:"SUBMIT_SUCCESS"}),Qe}).catch(function(Qe){if(g.current)throw C({type:"SUBMIT_FAILURE"}),Qe})}else if(g.current&&(C({type:"SUBMIT_FAILURE"}),Ne))throw se})}),F=Hn(function(se){se&&se.preventDefault&&$r(se.preventDefault)&&se.preventDefault(),se&&se.stopPropagation&&$r(se.stopPropagation)&&se.stopPropagation(),X().catch(function(Ne){console.warn("Warning: An unhandled error was caught from submitForm()",Ne)})}),J={resetForm:q,validateForm:L,validateField:E,setErrors:P,setFieldError:V,setFieldTouched:re,setFieldValue:_,setStatus:z,setSubmitting:W,setTouched:B,setValues:O,setFormikState:Z,submitForm:X},ne=Hn(function(){return d(S.values,J)}),ue=Hn(function(se){se&&se.preventDefault&&$r(se.preventDefault)&&se.preventDefault(),se&&se.stopPropagation&&$r(se.stopPropagation)&&se.stopPropagation(),q()}),ge=j.useCallback(function(se){return{value:qt(S.values,se),error:qt(S.errors,se),touched:!!qt(S.touched,se),initialValue:qt(p.current,se),initialTouched:!!qt(y.current,se),initialError:qt(h.current,se)}},[S.errors,S.touched,S.values]),we=j.useCallback(function(se){return{setValue:function(ke,$e){return _(se,ke,$e)},setTouched:function(ke,$e){return re(se,ke,$e)},setError:function(ke){return V(se,ke)}}},[_,re,V]),Ae=j.useCallback(function(se){var Ne=Mp(se),ke=Ne?se.name:se,$e=qt(S.values,ke),Qe={name:ke,value:$e,onChange:G,onBlur:te};if(Ne){var it=se.type,oe=se.value,Me=se.as,Oe=se.multiple;it==="checkbox"?oe===void 0?Qe.checked=!!$e:(Qe.checked=!!(Array.isArray($e)&&~$e.indexOf(oe)),Qe.value=oe):it==="radio"?(Qe.checked=$e===oe,Qe.value=oe):Me==="select"&&Oe&&(Qe.value=Qe.value||[],Qe.multiple=!0)}return Qe},[te,G,S.values]),be=j.useMemo(function(){return!fo(p.current,S.values)},[p.current,S.values]),at=j.useMemo(function(){return typeof l<"u"?be?S.errors&&Object.keys(S.errors).length===0:l!==!1&&$r(l)?l(f):l:S.errors&&Object.keys(S.errors).length===0},[l,be,S.errors,f]),St=gt({},S,{initialValues:p.current,initialErrors:h.current,initialTouched:y.current,initialStatus:b.current,handleBlur:te,handleChange:G,handleReset:ue,handleSubmit:F,resetForm:q,setErrors:P,setFormikState:Z,setFieldTouched:re,setFieldValue:_,setFieldError:V,setStatus:z,setSubmitting:W,setTouched:B,setValues:O,submitForm:X,validateForm:L,validateField:E,isValid:at,dirty:be,unregisterField:U,registerField:R,getFieldProps:Ae,getFieldMeta:ge,getFieldHelpers:we,validateOnBlur:s,validateOnChange:r,validateOnMount:i});return St}function He(t){var e=ot(t),r=t.component,n=t.children,s=t.render,o=t.innerRef;return j.useImperativeHandle(o,function(){return e}),j.createElement($k,{value:e},r?j.createElement(r,e):s?s(e):n?$r(n)?n(e):L9(n)?null:j.Children.only(n):null)}function ife(t){var e={};if(t.inner){if(t.inner.length===0)return Qa(e,t.path,t.message);for(var s=t.inner,r=Array.isArray(s),n=0,s=r?s:s[Symbol.iterator]();;){var o;if(r){if(n>=s.length)break;o=s[n++]}else{if(n=s.next(),n.done)break;o=n.value}var i=o;qt(e,i.path)||(e=Qa(e,i.path,i.message))}}return e}function lfe(t,e,r,n){r===void 0&&(r=!1);var s=JA(t);return e[r?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function JA(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(s){return Array.isArray(s)===!0||LR(s)?JA(s):s!==""?s:void 0}):LR(t[n])?e[n]=JA(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function cfe(t,e,r){var n=t.slice();return e.forEach(function(o,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(o);n[i]=c?zA(Array.isArray(o)?[]:{},o,r):o}else r.isMergeableObject(o)?n[i]=zA(t[i],o,r):t.indexOf(o)===-1&&n.push(o)}),n}function ufe(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function dfe(t,e,r){if(typeof t=="boolean")return!!e;var n=[],s=!1,o=-1;if(Array.isArray(t))n=t,o=t.indexOf(r),s=o>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!s?n.concat(r):s?n.slice(0,o).concat(n.slice(o+1)):n}var mfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?j.useLayoutEffect:j.useEffect;function Hn(t){var e=j.useRef(t);return mfe(function(){e.current=t}),j.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current.apply(void 0,n)},[])}function Eh(t){var e=t.validate,r=t.name,n=t.render,s=t.children,o=t.as,i=t.component,l=t.className,c=Io(t,["validate","name","render","children","as","component","className"]),u=Rk(),d=Io(u,["validate","validationSchema"]),m=d.registerField,f=d.unregisterField;j.useEffect(function(){return m(r,{validate:e}),function(){f(r)}},[m,f,r,e]);var p=d.getFieldProps(gt({name:r},c)),h=d.getFieldMeta(r),y={field:p,form:d};if(n)return n(gt({},y,{meta:h}));if($r(s))return s(gt({},y,{meta:h}));if(i){if(typeof i=="string"){var b=c.innerRef,g=Io(c,["innerRef"]);return j.createElement(i,gt({ref:b},p,g,{className:l}),s)}return j.createElement(i,gt({field:p,form:d},c,{className:l}),s)}var x=o||"input";if(typeof x=="string"){var v=c.innerRef,w=Io(c,["innerRef"]);return j.createElement(x,gt({ref:v},p,w,{className:l}),s)}return j.createElement(x,gt({},p,c,{className:l}),s)}var Ze=j.forwardRef(function(t,e){var r=t.action,n=Io(t,["action"]),s=r??"#",o=Rk(),i=o.handleReset,l=o.handleSubmit;return j.createElement("form",gt({onSubmit:l,ref:e,onReset:i,action:s},n))});Ze.displayName="Form";function M9(t){var e=function(s){return j.createElement(afe,null,function(o){return j.createElement(t,gt({},s,{formik:o}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",nfe(e,t)}var ffe=function(e,r,n){var s=Cl(e),o=s[r];return s.splice(r,1),s.splice(n,0,o),s},pfe=function(e,r,n){var s=Cl(e),o=s[r];return s[r]=s[n],s[n]=o,s},P1=function(e,r,n){var s=Cl(e);return s.splice(r,0,n),s},hfe=function(e,r,n){var s=Cl(e);return s[r]=n,s},Cl=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,s){return s>n?s:n},0);return Array.from(gt({},e,{length:r+1}))}else return[]},pL=function(e,r){var n=typeof e=="function"?e:r;return function(s){if(Array.isArray(s)||Mp(s)){var o=Cl(s);return n(o)}return s}},_9=function(t){R9(e,t);function e(n){var s;return s=t.call(this,n)||this,s.updateArrayField=function(o,i,l){var c=s.props,u=c.name,d=c.formik.setFormikState;d(function(m){var f=pL(l,o),p=pL(i,o),h=Qa(m.values,u,o(qt(m.values,u))),y=l?f(qt(m.errors,u)):void 0,b=i?p(qt(m.touched,u)):void 0;return fL(y)&&(y=void 0),fL(b)&&(b=void 0),gt({},m,{values:h,errors:l?Qa(m.errors,u,y):m.errors,touched:i?Qa(m.touched,u,b):m.touched})})},s.push=function(o){return s.updateArrayField(function(i){return[].concat(Cl(i),[um(o)])},!1,!1)},s.handlePush=function(o){return function(){return s.push(o)}},s.swap=function(o,i){return s.updateArrayField(function(l){return pfe(l,o,i)},!0,!0)},s.handleSwap=function(o,i){return function(){return s.swap(o,i)}},s.move=function(o,i){return s.updateArrayField(function(l){return ffe(l,o,i)},!0,!0)},s.handleMove=function(o,i){return function(){return s.move(o,i)}},s.insert=function(o,i){return s.updateArrayField(function(l){return P1(l,o,i)},function(l){return P1(l,o,null)},function(l){return P1(l,o,null)})},s.handleInsert=function(o,i){return function(){return s.insert(o,i)}},s.replace=function(o,i){return s.updateArrayField(function(l){return hfe(l,o,i)},!1,!1)},s.handleReplace=function(o,i){return function(){return s.replace(o,i)}},s.unshift=function(o){var i=-1;return s.updateArrayField(function(l){var c=l?[o].concat(l):[o];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},s.handleUnshift=function(o){return function(){return s.unshift(o)}},s.handleRemove=function(o){return function(){return s.remove(o)}},s.handlePop=function(){return function(){return s.pop()}},s.remove=s.remove.bind(mL(s)),s.pop=s.pop.bind(mL(s)),s}var r=e.prototype;return r.componentDidUpdate=function(s){this.props.validateOnChange&&this.props.formik.validateOnChange&&!fo(qt(s.formik.values,s.name),qt(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(s){var o;return this.updateArrayField(function(i){var l=i?Cl(i):[];return o||(o=l[s]),$r(l.splice)&&l.splice(s,1),$r(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),o},r.pop=function(){var s;return this.updateArrayField(function(o){var i=o.slice();return s||(s=i&&i.pop&&i.pop()),i},!0,!0),s},r.render=function(){var s={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},o=this.props,i=o.component,l=o.render,c=o.children,u=o.name,d=o.formik,m=Io(d,["validate","validationSchema"]),f=gt({},s,{form:m,name:u});return i?j.createElement(i,f):l?l(f):c?typeof c=="function"?c(f):L9(c)?null:j.Children.only(c):null},e}(j.Component);_9.defaultProps={validateOnChange:!0};var Lr=M9(_9),gfe=function(t){R9(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(s){return qt(this.props.formik.errors,this.props.name)!==qt(s.formik.errors,this.props.name)||qt(this.props.formik.touched,this.props.name)!==qt(s.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(s).length},r.render=function(){var s=this.props,o=s.component,i=s.formik,l=s.render,c=s.children,u=s.name,d=Io(s,["component","formik","render","children","name"]),m=qt(i.touched,u),f=qt(i.errors,u);return m&&f?l?$r(l)?l(f):null:c?$r(c)?c(f):null:o?j.createElement(o,d,f):f:null},e}(j.Component),k1=M9(gfe);function D({label:t,name:e,type:r="text",placeholder:n="",required:s=!1,disabled:o=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:m,error:f,touched:p,helperText:h,defaultOption:y,...b}){const g=f&&p,[x,v]=j.useState(!1),w=()=>{switch(r){case"textarea":return a.jsx("textarea",{id:e,name:e,placeholder:n,disabled:o,readOnly:i,value:u,onChange:d,onBlur:m,rows:b.rows||3,className:_e("form-textarea border border-gray-300 px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b});case"multiselect":return a.jsx("select",{id:e,name:e,disabled:o,multiple:!0,value:u||[],onChange:N=>{const S=Array.from(N.target.selectedOptions).map(C=>C.value);d({target:{name:e,value:S}})},onBlur:m,className:_e("form-select border border-gray-300 px-4 py-2 h-auto",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:c.map(N=>a.jsx("option",{value:N.value,children:N.label},N.value))});case"select":return a.jsxs("select",{id:e,name:e,disabled:o,value:u,onChange:d,onBlur:m,className:_e("form-select border border-gray-300 px-4 py-2 pr-10",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:[a.jsx("option",{value:"",children:y||"Select"}),c.map(N=>a.jsx("option",{value:N.value,children:N.label},N.value))]});case"checkbox":return a.jsx("div",{className:"flex items-center h-full",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:e,name:e,type:"checkbox",disabled:o,checked:u,onChange:d,onBlur:m,className:_e("form-checkbox",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),a.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return a.jsx("div",{className:"space-y-2",children:c.map(N=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:`${e}-${N.value}`,name:e,type:"radio",value:N.value,disabled:o,checked:u===N.value,onChange:d,onBlur:m,className:_e("form-radio ",g&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),a.jsx("label",{htmlFor:`${e}-${N.value}`,className:"ml-2 block text-sm text-neutral-700",children:N.label})]},N.value))});case"password":return a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:e,name:e,type:x?"text":"password",placeholder:n,disabled:o,readOnly:i,value:u,onChange:d,onBlur:m,className:_e("form-input border border-gray-300 h-[42px] px-4 py-2 pr-10 w-full",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b}),a.jsx("button",{type:"button",onClick:()=>v(N=>!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:x?a.jsx(iae,{className:"h-5 w-5"}):a.jsx(Ra,{className:"h-5 w-5"})})]});case"date":case"number":case"email":case"text":default:return a.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:o,readOnly:i,value:u,onChange:d,onBlur:m,className:_e("form-input border border-gray-300 h-[42px] px-4 py-2",g&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b})}};return a.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&a.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",s&&a.jsx("span",{className:"text-error-500",children:"*"})]}),w(),g?a.jsx("div",{className:"mt-1 text-error-600 text-sm",children:f}):h?a.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:h}):null]})}function yfe(){const[t,e]=j.useState(""),[r,n]=j.useState(""),s=he(),{isLoading:o,error:i}=ee(c=>c.auth),l=c=>{if(c.preventDefault(),!t||!r){Y.error("Please fill out all fields.");return}s(gg({username:t,password:r}))};return a.jsx("div",{className:"bg-neutral-100 flex items-center justify-center  sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-4 sm:p-8 rounded-lg shadow-md",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),a.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[a.jsxs("div",{className:"rounded-md space-y-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:t,onChange:c=>e(c.target.value)}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:r,onChange:c=>n(c.target.value)}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&a.jsx("div",{className:"rounded-md bg-error-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(nae,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:`btn btn-primary w-full flex justify-center items-center ${o?"opacity-70 cursor-not-allowed":""}`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),a.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const xfe=()=>a.jsx("div",{children:a.jsx("h1",{children:"Registration Page"})}),bfe=()=>a.jsx("div",{children:a.jsx("h1",{children:"Forgot Password Page"})}),vfe=()=>a.jsx("div",{children:a.jsx("h1",{children:"Reset Password Page"})});function B9(t,e){return function(){return t.apply(e,arguments)}}const{toString:jfe}=Object.prototype,{getPrototypeOf:Lk}=Object,{iterator:Nj,toStringTag:q9}=Symbol,wj=(t=>e=>{const r=jfe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Fa=t=>(t=t.toLowerCase(),e=>wj(e)===t),Cj=t=>e=>typeof e===t,{isArray:Ju}=Array,mu=Cj("undefined");function _p(t){return t!==null&&!mu(t)&&t.constructor!==null&&!mu(t.constructor)&&bn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const V9=Fa("ArrayBuffer");function Nfe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&V9(t.buffer),e}const wfe=Cj("string"),bn=Cj("function"),U9=Cj("number"),Bp=t=>t!==null&&typeof t=="object",Cfe=t=>t===!0||t===!1,wg=t=>{if(wj(t)!=="object")return!1;const e=Lk(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(q9 in t)&&!(Nj in t)},Sfe=t=>{if(!Bp(t)||_p(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Afe=Fa("Date"),Ife=Fa("File"),Tfe=Fa("Blob"),Pfe=Fa("FileList"),kfe=t=>Bp(t)&&bn(t.pipe),Efe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||bn(t.append)&&((e=wj(t))==="formdata"||e==="object"&&bn(t.toString)&&t.toString()==="[object FormData]"))},Dfe=Fa("URLSearchParams"),[Ofe,$fe,Rfe,Lfe]=["ReadableStream","Request","Response","Headers"].map(Fa),Ffe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qp(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Ju(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(_p(t))return;const o=r?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let l;for(n=0;n<i;n++)l=o[n],e.call(null,t[l],l,t)}}function z9(t,e){if(_p(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const qi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,W9=t=>!mu(t)&&t!==qi;function XA(){const{caseless:t,skipUndefined:e}=W9(this)&&this||{},r={},n=(s,o)=>{const i=t&&z9(r,o)||o;wg(r[i])&&wg(s)?r[i]=XA(r[i],s):wg(s)?r[i]=XA({},s):Ju(s)?r[i]=s.slice():(!e||!mu(s))&&(r[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&qp(arguments[s],n);return r}const Mfe=(t,e,r,{allOwnKeys:n}={})=>(qp(e,(s,o)=>{r&&bn(s)?t[o]=B9(s,r):t[o]=s},{allOwnKeys:n}),t),_fe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Bfe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},qfe=(t,e,r,n)=>{let s,o,i;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)i=s[o],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&Lk(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Vfe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Ufe=t=>{if(!t)return null;if(Ju(t))return t;let e=t.length;if(!U9(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},zfe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lk(Uint8Array)),Wfe=(t,e)=>{const n=(t&&t[Nj]).call(t);let s;for(;(s=n.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},Gfe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Hfe=Fa("HTMLFormElement"),Yfe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),hL=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Kfe=Fa("RegExp"),G9=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};qp(r,(s,o)=>{let i;(i=e(s,o,t))!==!1&&(n[o]=i||s)}),Object.defineProperties(t,n)},Jfe=t=>{G9(t,(e,r)=>{if(bn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(bn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Xfe=(t,e)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return Ju(t)?n(t):n(String(t).split(e)),r},Zfe=()=>{},Qfe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function epe(t){return!!(t&&bn(t.append)&&t[q9]==="FormData"&&t[Nj])}const tpe=t=>{const e=new Array(10),r=(n,s)=>{if(Bp(n)){if(e.indexOf(n)>=0)return;if(_p(n))return n;if(!("toJSON"in n)){e[s]=n;const o=Ju(n)?[]:{};return qp(n,(i,l)=>{const c=r(i,s+1);!mu(c)&&(o[l]=c)}),e[s]=void 0,o}}return n};return r(t,0)},rpe=Fa("AsyncFunction"),npe=t=>t&&(Bp(t)||bn(t))&&bn(t.then)&&bn(t.catch),H9=((t,e)=>t?setImmediate:e?((r,n)=>(qi.addEventListener("message",({source:s,data:o})=>{s===qi&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),qi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",bn(qi.postMessage)),ape=typeof queueMicrotask<"u"?queueMicrotask.bind(qi):typeof process<"u"&&process.nextTick||H9,spe=t=>t!=null&&bn(t[Nj]),ce={isArray:Ju,isArrayBuffer:V9,isBuffer:_p,isFormData:Efe,isArrayBufferView:Nfe,isString:wfe,isNumber:U9,isBoolean:Cfe,isObject:Bp,isPlainObject:wg,isEmptyObject:Sfe,isReadableStream:Ofe,isRequest:$fe,isResponse:Rfe,isHeaders:Lfe,isUndefined:mu,isDate:Afe,isFile:Ife,isBlob:Tfe,isRegExp:Kfe,isFunction:bn,isStream:kfe,isURLSearchParams:Dfe,isTypedArray:zfe,isFileList:Pfe,forEach:qp,merge:XA,extend:Mfe,trim:Ffe,stripBOM:_fe,inherits:Bfe,toFlatObject:qfe,kindOf:wj,kindOfTest:Fa,endsWith:Vfe,toArray:Ufe,forEachEntry:Wfe,matchAll:Gfe,isHTMLForm:Hfe,hasOwnProperty:hL,hasOwnProp:hL,reduceDescriptors:G9,freezeMethods:Jfe,toObjectSet:Xfe,toCamelCase:Yfe,noop:Zfe,toFiniteNumber:Qfe,findKey:z9,global:qi,isContextDefined:W9,isSpecCompliantForm:epe,toJSONObject:tpe,isAsyncFn:rpe,isThenable:npe,setImmediate:H9,asap:ape,isIterable:spe};function Je(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ce.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const Y9=Je.prototype,K9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{K9[t]={value:t}});Object.defineProperties(Je,K9);Object.defineProperty(Y9,"isAxiosError",{value:!0});Je.from=(t,e,r,n,s,o)=>{const i=Object.create(Y9);ce.toFlatObject(t,i,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return Je.call(i,l,c,r,n,s),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const ope=null;function ZA(t){return ce.isPlainObject(t)||ce.isArray(t)}function J9(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function gL(t,e,r){return t?t.concat(e).map(function(s,o){return s=J9(s),!r&&o?"["+s+"]":s}).join(r?".":""):e}function ipe(t){return ce.isArray(t)&&!t.some(ZA)}const lpe=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function Sj(t,e,r){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!ce.isUndefined(b[y])});const n=r.metaTokens,s=r.visitor||d,o=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(s))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(ce.isDate(h))return h.toISOString();if(ce.isBoolean(h))return h.toString();if(!c&&ce.isBlob(h))throw new Je("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(h)||ce.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,y,b){let g=h;if(h&&!b&&typeof h=="object"){if(ce.endsWith(y,"{}"))y=n?y:y.slice(0,-2),h=JSON.stringify(h);else if(ce.isArray(h)&&ipe(h)||(ce.isFileList(h)||ce.endsWith(y,"[]"))&&(g=ce.toArray(h)))return y=J9(y),g.forEach(function(v,w){!(ce.isUndefined(v)||v===null)&&e.append(i===!0?gL([y],w,o):i===null?y:y+"[]",u(v))}),!1}return ZA(h)?!0:(e.append(gL(b,y,o),u(h)),!1)}const m=[],f=Object.assign(lpe,{defaultVisitor:d,convertValue:u,isVisitable:ZA});function p(h,y){if(!ce.isUndefined(h)){if(m.indexOf(h)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(h),ce.forEach(h,function(g,x){(!(ce.isUndefined(g)||g===null)&&s.call(e,g,ce.isString(x)?x.trim():x,y,f))===!0&&p(g,y?y.concat(x):[x])}),m.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return p(t),e}function yL(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Fk(t,e){this._pairs=[],t&&Sj(t,this,e)}const X9=Fk.prototype;X9.append=function(e,r){this._pairs.push([e,r])};X9.toString=function(e){const r=e?function(n){return e.call(this,n,yL)}:yL;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function cpe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Z9(t,e,r){if(!e)return t;const n=r&&r.encode||cpe;ce.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(e,r):o=ce.isURLSearchParams(e)?e.toString():new Fk(e,r).toString(n),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class xL{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Q9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},upe=typeof URLSearchParams<"u"?URLSearchParams:Fk,dpe=typeof FormData<"u"?FormData:null,mpe=typeof Blob<"u"?Blob:null,fpe={isBrowser:!0,classes:{URLSearchParams:upe,FormData:dpe,Blob:mpe},protocols:["http","https","file","blob","url","data"]},Mk=typeof window<"u"&&typeof document<"u",QA=typeof navigator=="object"&&navigator||void 0,ppe=Mk&&(!QA||["ReactNative","NativeScript","NS"].indexOf(QA.product)<0),hpe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gpe=Mk&&window.location.href||"http://localhost",ype=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mk,hasStandardBrowserEnv:ppe,hasStandardBrowserWebWorkerEnv:hpe,navigator:QA,origin:gpe},Symbol.toStringTag,{value:"Module"})),Hr={...ype,...fpe};function xpe(t,e){return Sj(t,new Hr.classes.URLSearchParams,{visitor:function(r,n,s,o){return Hr.isNode&&ce.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function bpe(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vpe(t){const e={},r=Object.keys(t);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],e[o]=t[o];return e}function eU(t){function e(r,n,s,o){let i=r[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=r.length;return i=!i&&ce.isArray(s)?s.length:i,c?(ce.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!l):((!s[i]||!ce.isObject(s[i]))&&(s[i]=[]),e(r,n,s[i],o)&&ce.isArray(s[i])&&(s[i]=vpe(s[i])),!l)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const r={};return ce.forEachEntry(t,(n,s)=>{e(bpe(n),s,r,0)}),r}return null}function jpe(t,e,r){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Vp={transitional:Q9,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=ce.isObject(e);if(o&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return s?JSON.stringify(eU(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e)||ce.isReadableStream(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return xpe(e,this.formSerializer).toString();if((l=ce.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Sj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),jpe(e)):e}],transformResponse:[function(e){const r=this.transitional||Vp.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ce.isResponse(e)||ce.isReadableStream(e))return e;if(e&&ce.isString(e)&&(n&&!this.responseType||s)){const i=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?Je.from(l,Je.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hr.classes.FormData,Blob:Hr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{Vp.headers[t]={}});const Npe=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wpe=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),r=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!r||e[r]&&Npe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},bL=Symbol("internals");function _d(t){return t&&String(t).trim().toLowerCase()}function Cg(t){return t===!1||t==null?t:ce.isArray(t)?t.map(Cg):String(t)}function Cpe(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Spe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function E1(t,e,r,n,s){if(ce.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!ce.isString(e)){if(ce.isString(n))return e.indexOf(n)!==-1;if(ce.isRegExp(n))return n.test(e)}}function Ape(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Ipe(t,e){const r=ce.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,o,i){return this[n].call(this,e,s,o,i)},configurable:!0})})}let vn=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function o(l,c,u){const d=_d(c);if(!d)throw new Error("header name must be a non-empty string");const m=ce.findKey(s,d);(!m||s[m]===void 0||u===!0||u===void 0&&s[m]!==!1)&&(s[m||c]=Cg(l))}const i=(l,c)=>ce.forEach(l,(u,d)=>o(u,d,c));if(ce.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(ce.isString(e)&&(e=e.trim())&&!Spe(e))i(wpe(e),r);else if(ce.isObject(e)&&ce.isIterable(e)){let l={},c,u;for(const d of e){if(!ce.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ce.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&o(r,e,n);return this}get(e,r){if(e=_d(e),e){const n=ce.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return Cpe(s);if(ce.isFunction(r))return r.call(this,s,n);if(ce.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=_d(e),e){const n=ce.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||E1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function o(i){if(i=_d(i),i){const l=ce.findKey(n,i);l&&(!r||E1(n,n[l],l,r))&&(delete n[l],s=!0)}}return ce.isArray(e)?e.forEach(o):o(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!e||E1(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const r=this,n={};return ce.forEach(this,(s,o)=>{const i=ce.findKey(n,o);if(i){r[i]=Cg(s),delete r[o];return}const l=e?Ape(o):String(o).trim();l!==o&&delete r[o],r[l]=Cg(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ce.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&ce.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[bL]=this[bL]={accessors:{}}).accessors,s=this.prototype;function o(i){const l=_d(i);n[l]||(Ipe(s,i),n[l]=!0)}return ce.isArray(e)?e.forEach(o):o(e),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(vn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ce.freezeMethods(vn);function D1(t,e){const r=this||Vp,n=e||r,s=vn.from(n.headers);let o=n.data;return ce.forEach(t,function(l){o=l.call(r,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function tU(t){return!!(t&&t.__CANCEL__)}function Xu(t,e,r){Je.call(this,t??"canceled",Je.ERR_CANCELED,e,r),this.name="CanceledError"}ce.inherits(Xu,Je,{__CANCEL__:!0});function rU(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Je("Request failed with status code "+r.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Tpe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ppe(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[o];i||(i=u),r[s]=c,n[s]=u;let m=o,f=0;for(;m!==s;)f+=r[m++],m=m%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),u-i<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function kpe(t,e){let r=0,n=1e3/e,s,o;const i=(u,d=Date.now())=>{r=d,s=null,o&&(clearTimeout(o),o=null),t(...u)};return[(...u)=>{const d=Date.now(),m=d-r;m>=n?i(u,d):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},n-m)))},()=>s&&i(s)]}const fb=(t,e,r=3)=>{let n=0;const s=Ppe(50,250);return kpe(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-n,u=s(c),d=i<=l;n=i;const m={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},r)},vL=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},jL=t=>(...e)=>ce.asap(()=>t(...e)),Epe=Hr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Hr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Hr.origin),Hr.navigator&&/(msie|trident)/i.test(Hr.navigator.userAgent)):()=>!0,Dpe=Hr.hasStandardBrowserEnv?{write(t,e,r,n,s,o){const i=[t+"="+encodeURIComponent(e)];ce.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),ce.isString(n)&&i.push("path="+n),ce.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ope(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $pe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nU(t,e,r){let n=!Ope(e);return t&&(n||r==!1)?$pe(t,e):e}const NL=t=>t instanceof vn?{...t}:t;function Sl(t,e){e=e||{};const r={};function n(u,d,m,f){return ce.isPlainObject(u)&&ce.isPlainObject(d)?ce.merge.call({caseless:f},u,d):ce.isPlainObject(d)?ce.merge({},d):ce.isArray(d)?d.slice():d}function s(u,d,m,f){if(ce.isUndefined(d)){if(!ce.isUndefined(u))return n(void 0,u,m,f)}else return n(u,d,m,f)}function o(u,d){if(!ce.isUndefined(d))return n(void 0,d)}function i(u,d){if(ce.isUndefined(d)){if(!ce.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,m){if(m in e)return n(u,d);if(m in t)return n(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,m)=>s(NL(u),NL(d),m,!0)};return ce.forEach(Object.keys({...t,...e}),function(d){const m=c[d]||s,f=m(t[d],e[d],d);ce.isUndefined(f)&&m!==l||(r[d]=f)}),r}const aU=t=>{const e=Sl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=e;if(e.headers=i=vn.from(i),e.url=Z9(nU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ce.isFormData(r)){if(Hr.hasStandardBrowserEnv||Hr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(ce.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,m])=>{u.includes(d.toLowerCase())&&i.set(d,m)})}}if(Hr.hasStandardBrowserEnv&&(n&&ce.isFunction(n)&&(n=n(e)),n||n!==!1&&Epe(e.url))){const c=s&&o&&Dpe.read(o);c&&i.set(s,c)}return e},Rpe=typeof XMLHttpRequest<"u",Lpe=Rpe&&function(t){return new Promise(function(r,n){const s=aU(t);let o=s.data;const i=vn.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,m,f,p,h;function y(){p&&p(),h&&h(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function g(){if(!b)return;const v=vn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:t,request:b};rU(function(C){r(C),y()},function(C){n(C),y()},N),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Je("Request aborted",Je.ECONNABORTED,t,b)),b=null)},b.onerror=function(w){const N=w&&w.message?w.message:"Network Error",S=new Je(N,Je.ERR_NETWORK,t,b);S.event=w||null,n(S),b=null},b.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||Q9;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),n(new Je(w,N.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,t,b)),b=null},o===void 0&&i.setContentType(null),"setRequestHeader"in b&&ce.forEach(i.toJSON(),function(w,N){b.setRequestHeader(N,w)}),ce.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),u&&([f,h]=fb(u,!0),b.addEventListener("progress",f)),c&&b.upload&&([m,p]=fb(c),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=v=>{b&&(n(!v||v.type?new Xu(null,t,b):v),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const x=Tpe(s.url);if(x&&Hr.protocols.indexOf(x)===-1){n(new Je("Unsupported protocol "+x+":",Je.ERR_BAD_REQUEST,t));return}b.send(o||null)})},Fpe=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const o=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Je?d:new Xu(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,o(new Je(`timeout ${e} of ms exceeded`,Je.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>ce.asap(l),c}},Mpe=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},_pe=async function*(t,e){for await(const r of Bpe(t))yield*Mpe(r,e)},Bpe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},wL=(t,e,r,n)=>{const s=_pe(t,e);let o=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let m=d.byteLength;if(r){let f=o+=m;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},CL=64*1024,{isFunction:Dh}=ce,qpe=(({Request:t,Response:e})=>({Request:t,Response:e}))(ce.global),{ReadableStream:SL,TextEncoder:AL}=ce.global,IL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Vpe=t=>{t=ce.merge.call({skipUndefined:!0},qpe,t);const{fetch:e,Request:r,Response:n}=t,s=e?Dh(e):typeof fetch=="function",o=Dh(r),i=Dh(n);if(!s)return!1;const l=s&&Dh(SL),c=s&&(typeof AL=="function"?(h=>y=>h.encode(y))(new AL):async h=>new Uint8Array(await new r(h).arrayBuffer())),u=o&&l&&IL(()=>{let h=!1;const y=new r(Hr.origin,{body:new SL,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!y}),d=i&&l&&IL(()=>ce.isReadableStream(new n("").body)),m={stream:d&&(h=>h.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!m[h]&&(m[h]=(y,b)=>{let g=y&&y[h];if(g)return g.call(y);throw new Je(`Response type '${h}' is not supported`,Je.ERR_NOT_SUPPORT,b)})});const f=async h=>{if(h==null)return 0;if(ce.isBlob(h))return h.size;if(ce.isSpecCompliantForm(h))return(await new r(Hr.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(h)||ce.isArrayBuffer(h))return h.byteLength;if(ce.isURLSearchParams(h)&&(h=h+""),ce.isString(h))return(await c(h)).byteLength},p=async(h,y)=>{const b=ce.toFiniteNumber(h.getContentLength());return b??f(y)};return async h=>{let{url:y,method:b,data:g,signal:x,cancelToken:v,timeout:w,onDownloadProgress:N,onUploadProgress:S,responseType:C,headers:A,withCredentials:T="same-origin",fetchOptions:I}=aU(h),k=e||fetch;C=C?(C+"").toLowerCase():"text";let $=Fpe([x,v&&v.toAbortSignal()],w),L=null;const q=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let E;try{if(S&&u&&b!=="get"&&b!=="head"&&(E=await p(A,g))!==0){let V=new r(y,{method:"POST",body:g,duplex:"half"}),_;if(ce.isFormData(g)&&(_=V.headers.get("content-type"))&&A.setContentType(_),V.body){const[H,G]=vL(E,fb(jL(S)));g=wL(V.body,CL,H,G)}}ce.isString(T)||(T=T?"include":"omit");const R=o&&"credentials"in r.prototype,U={...I,signal:$,method:b.toUpperCase(),headers:A.normalize().toJSON(),body:g,duplex:"half",credentials:R?T:void 0};L=o&&new r(y,U);let B=await(o?k(L,I):k(y,U));const P=d&&(C==="stream"||C==="response");if(d&&(N||P&&q)){const V={};["status","statusText","headers"].forEach(re=>{V[re]=B[re]});const _=ce.toFiniteNumber(B.headers.get("content-length")),[H,G]=N&&vL(_,fb(jL(N),!0))||[];B=new n(wL(B.body,CL,H,()=>{G&&G(),q&&q()}),V)}C=C||"text";let O=await m[ce.findKey(m,C)||"text"](B,h);return!P&&q&&q(),await new Promise((V,_)=>{rU(V,_,{data:O,headers:vn.from(B.headers),status:B.status,statusText:B.statusText,config:h,request:L})})}catch(R){throw q&&q(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,h,L),{cause:R.cause||R}):Je.from(R,R&&R.code,h,L)}}},Upe=new Map,sU=t=>{let e=t?t.env:{};const{fetch:r,Request:n,Response:s}=e,o=[n,s,r];let i=o.length,l=i,c,u,d=Upe;for(;l--;)c=o[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Vpe(e)),d=u;return u};sU();const eI={http:ope,xhr:Lpe,fetch:{get:sU}};ce.forEach(eI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const TL=t=>`- ${t}`,zpe=t=>ce.isFunction(t)||t===null||t===!1,oU={getAdapter:(t,e)=>{t=ce.isArray(t)?t:[t];const{length:r}=t;let n,s;const o={};for(let i=0;i<r;i++){n=t[i];let l;if(s=n,!zpe(n)&&(s=eI[(l=String(n)).toLowerCase()],s===void 0))throw new Je(`Unknown adapter '${l}'`);if(s&&(ce.isFunction(s)||(s=s.get(e))))break;o[l||"#"+i]=s}if(!s){const i=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=r?i.length>1?`since :
`+i.map(TL).join(`
`):" "+TL(i[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:eI};function O1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xu(null,t)}function PL(t){return O1(t),t.headers=vn.from(t.headers),t.data=D1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oU.getAdapter(t.adapter||Vp.adapter,t)(t).then(function(n){return O1(t),n.data=D1.call(t,t.transformResponse,n),n.headers=vn.from(n.headers),n},function(n){return tU(n)||(O1(t),n&&n.response&&(n.response.data=D1.call(t,t.transformResponse,n.response),n.response.headers=vn.from(n.response.headers))),Promise.reject(n)})}const iU="1.12.2",Aj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Aj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const kL={};Aj.transitional=function(e,r,n){function s(o,i){return"[Axios v"+iU+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,l)=>{if(e===!1)throw new Je(s(i," has been removed"+(r?" in "+r:"")),Je.ERR_DEPRECATED);return r&&!kL[i]&&(kL[i]=!0,console.warn(s(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,i,l):!0}};Aj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Wpe(t,e,r){if(typeof t!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],i=e[o];if(i){const l=t[o],c=l===void 0||i(l,o,t);if(c!==!0)throw new Je("option "+o+" must be "+c,Je.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Je("Unknown option "+o,Je.ERR_BAD_OPTION)}}const Sg={assertOptions:Wpe,validators:Aj},Ba=Sg.validators;let tl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new xL,response:new xL}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Sl(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&Sg.assertOptions(n,{silentJSONParsing:Ba.transitional(Ba.boolean),forcedJSONParsing:Ba.transitional(Ba.boolean),clarifyTimeoutError:Ba.transitional(Ba.boolean)},!1),s!=null&&(ce.isFunction(s)?r.paramsSerializer={serialize:s}:Sg.assertOptions(s,{encode:Ba.function,serialize:Ba.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Sg.assertOptions(r,{baseUrl:Ba.spelling("baseURL"),withXsrfToken:Ba.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=o&&ce.merge(o.common,o[r.method]);o&&ce.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),r.headers=vn.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,m=0,f;if(!c){const h=[PL.bind(this),void 0];for(h.unshift(...l),h.push(...u),f=h.length,d=Promise.resolve(r);m<f;)d=d.then(h[m++],h[m++]);return d}f=l.length;let p=r;for(;m<f;){const h=l[m++],y=l[m++];try{p=h(p)}catch(b){y.call(this,b);break}}try{d=PL.call(this,p)}catch(h){return Promise.reject(h)}for(m=0,f=u.length;m<f;)d=d.then(u[m++],u[m++]);return d}getUri(e){e=Sl(this.defaults,e);const r=nU(e.baseURL,e.url,e.allowAbsoluteUrls);return Z9(r,e.params,e.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(e){tl.prototype[e]=function(r,n){return this.request(Sl(n||{},{method:e,url:r,data:(n||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function r(n){return function(o,i,l){return this.request(Sl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}tl.prototype[e]=r(),tl.prototype[e+"Form"]=r(!0)});let Gpe=class lU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(l=>{n.subscribe(l),o=l}).then(s);return i.cancel=function(){n.unsubscribe(o)},i},e(function(o,i,l){n.reason||(n.reason=new Xu(o,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new lU(function(s){e=s}),cancel:e}}};function Hpe(t){return function(r){return t.apply(null,r)}}function Ype(t){return ce.isObject(t)&&t.isAxiosError===!0}const tI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tI).forEach(([t,e])=>{tI[e]=t});function cU(t){const e=new tl(t),r=B9(tl.prototype.request,e);return ce.extend(r,tl.prototype,e,{allOwnKeys:!0}),ce.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return cU(Sl(t,s))},r}const nt=cU(Vp);nt.Axios=tl;nt.CanceledError=Xu;nt.CancelToken=Gpe;nt.isCancel=tU;nt.VERSION=iU;nt.toFormData=Sj;nt.AxiosError=Je;nt.Cancel=nt.CanceledError;nt.all=function(e){return Promise.all(e)};nt.spread=Hpe;nt.isAxiosError=Ype;nt.mergeConfig=Sl;nt.AxiosHeaders=vn;nt.formToJSON=t=>eU(ce.isHTMLForm(t)?new FormData(t):t);nt.getAdapter=oU.getAdapter;nt.HttpStatusCode=tI;nt.default=nt;const{Axios:EYe,AxiosError:DYe,CanceledError:OYe,isCancel:$Ye,CancelToken:RYe,VERSION:LYe,all:FYe,Cancel:MYe,isAxiosError:_Ye,spread:BYe,toFormData:qYe,AxiosHeaders:VYe,HttpStatusCode:UYe,formToJSON:zYe,getAdapter:WYe,mergeConfig:GYe}=nt,De=nt.create({baseURL:Gv(),timeout:1e4,headers:{"Content-Type":"application/json"}});De.interceptors.request.use(t=>{const e=Gv();e&&(t.baseURL=e);const r=sessionStorage.getItem("token");return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t));De.interceptors.response.use(t=>t,t=>(console.error("Axios INSTANCE error:",t.response||t.message),Promise.reject(t)));const Kpe=(t="self")=>De("/profileDashboard/userDocumentsList",{params:{owner:t}}),Jpe=()=>De("/profileDashboard/user"),uU=t=>De("/profileDashboard/budgetList",{params:t?{selectedDepartmentID:t}:{}}),Xpe=t=>De(`/profileDashboard/budgetAPARList/${t}`),EL=(t="Day",e="Disbursement Voucher",r="")=>{const n={dateRange:t,aparType:e,...r&&{selectedDepartmentID:r}};return De("/profileDashboard/disbursementAmounts",{params:n})},Zpe=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return De("/profileDashboard/obligationChart",{params:r})},Qpe=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return De("/profileDashboard/travelOrderChart",{params:r})},dU=(t={})=>{const{dateRange:e="Year",selectedDepartmentID:r=null,startDate:n,endDate:s}=t,o={dateRange:e,...r&&{selectedDepartmentID:r},...n&&{startDate:n},...s&&{endDate:s}};return De("/profileDashboard/disbursementChart",{params:o})},ehe=(t={})=>{const{startDate:e,endDate:r,selectedDepartmentID:n}=t,s={...e&&{startDate:e},...r&&{endDate:r},...n&&{selectedDepartmentID:n}};return De("/disbursementVoucher",{params:s})},mU=(t="Day")=>{let e={};if(typeof t=="string")e.dateRange=t;else if(t&&typeof t=="object"){const{dateRange:r="Day",startDate:n,endDate:s,categories:o,...i}=t;e.dateRange=r,n&&(e.startDate=n),s&&(e.endDate=s),Array.isArray(o)&&o.length>0&&(e.categories=o.join(",")),Object.assign(e,i)}else e.dateRange="Day";return De("/profileDashboard/collectionTotals",{params:e})},the=()=>De("/profileDashboard/chartGeneral"),rhe=()=>De("/profileDashboard/chartMarriage"),nhe=()=>De("/profileDashboard/chartBurial"),ahe=()=>De("/profileDashboard/chartCedula");var she=Array.isArray,Sn=she,ohe=typeof tm=="object"&&tm&&tm.Object===Object&&tm,fU=ohe,ihe=fU,lhe=typeof self=="object"&&self&&self.Object===Object&&self,che=ihe||lhe||Function("return this")(),us=che,uhe=us,dhe=uhe.Symbol,Up=dhe,DL=Up,pU=Object.prototype,mhe=pU.hasOwnProperty,fhe=pU.toString,Bd=DL?DL.toStringTag:void 0;function phe(t){var e=mhe.call(t,Bd),r=t[Bd];try{t[Bd]=void 0;var n=!0}catch{}var s=fhe.call(t);return n&&(e?t[Bd]=r:delete t[Bd]),s}var hhe=phe,ghe=Object.prototype,yhe=ghe.toString;function xhe(t){return yhe.call(t)}var bhe=xhe,OL=Up,vhe=hhe,jhe=bhe,Nhe="[object Null]",whe="[object Undefined]",$L=OL?OL.toStringTag:void 0;function Che(t){return t==null?t===void 0?whe:Nhe:$L&&$L in Object(t)?vhe(t):jhe(t)}var to=Che;function She(t){return t!=null&&typeof t=="object"}var ro=She,Ahe=to,Ihe=ro,The="[object Symbol]";function Phe(t){return typeof t=="symbol"||Ihe(t)&&Ahe(t)==The}var Zu=Phe,khe=Sn,Ehe=Zu,Dhe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ohe=/^\w*$/;function $he(t,e){if(khe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Ehe(t)?!0:Ohe.test(t)||!Dhe.test(t)||e!=null&&t in Object(e)}var _k=$he;function Rhe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hi=Rhe;const Qu=ut(hi);var Lhe=to,Fhe=hi,Mhe="[object AsyncFunction]",_he="[object Function]",Bhe="[object GeneratorFunction]",qhe="[object Proxy]";function Vhe(t){if(!Fhe(t))return!1;var e=Lhe(t);return e==_he||e==Bhe||e==Mhe||e==qhe}var Bk=Vhe;const Ge=ut(Bk);var Uhe=us,zhe=Uhe["__core-js_shared__"],Whe=zhe,$1=Whe,RL=function(){var t=/[^.]+$/.exec($1&&$1.keys&&$1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Ghe(t){return!!RL&&RL in t}var Hhe=Ghe,Yhe=Function.prototype,Khe=Yhe.toString;function Jhe(t){if(t!=null){try{return Khe.call(t)}catch{}try{return t+""}catch{}}return""}var hU=Jhe,Xhe=Bk,Zhe=Hhe,Qhe=hi,ege=hU,tge=/[\\^$.*+?()[\]{}|]/g,rge=/^\[object .+?Constructor\]$/,nge=Function.prototype,age=Object.prototype,sge=nge.toString,oge=age.hasOwnProperty,ige=RegExp("^"+sge.call(oge).replace(tge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lge(t){if(!Qhe(t)||Zhe(t))return!1;var e=Xhe(t)?ige:rge;return e.test(ege(t))}var cge=lge;function uge(t,e){return t==null?void 0:t[e]}var dge=uge,mge=cge,fge=dge;function pge(t,e){var r=fge(t,e);return mge(r)?r:void 0}var zl=pge,hge=zl,gge=hge(Object,"create"),Ij=gge,LL=Ij;function yge(){this.__data__=LL?LL(null):{},this.size=0}var xge=yge;function bge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var vge=bge,jge=Ij,Nge="__lodash_hash_undefined__",wge=Object.prototype,Cge=wge.hasOwnProperty;function Sge(t){var e=this.__data__;if(jge){var r=e[t];return r===Nge?void 0:r}return Cge.call(e,t)?e[t]:void 0}var Age=Sge,Ige=Ij,Tge=Object.prototype,Pge=Tge.hasOwnProperty;function kge(t){var e=this.__data__;return Ige?e[t]!==void 0:Pge.call(e,t)}var Ege=kge,Dge=Ij,Oge="__lodash_hash_undefined__";function $ge(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Dge&&e===void 0?Oge:e,this}var Rge=$ge,Lge=xge,Fge=vge,Mge=Age,_ge=Ege,Bge=Rge;function ed(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ed.prototype.clear=Lge;ed.prototype.delete=Fge;ed.prototype.get=Mge;ed.prototype.has=_ge;ed.prototype.set=Bge;var qge=ed;function Vge(){this.__data__=[],this.size=0}var Uge=Vge;function zge(t,e){return t===e||t!==t&&e!==e}var qk=zge,Wge=qk;function Gge(t,e){for(var r=t.length;r--;)if(Wge(t[r][0],e))return r;return-1}var Tj=Gge,Hge=Tj,Yge=Array.prototype,Kge=Yge.splice;function Jge(t){var e=this.__data__,r=Hge(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Kge.call(e,r,1),--this.size,!0}var Xge=Jge,Zge=Tj;function Qge(t){var e=this.__data__,r=Zge(e,t);return r<0?void 0:e[r][1]}var eye=Qge,tye=Tj;function rye(t){return tye(this.__data__,t)>-1}var nye=rye,aye=Tj;function sye(t,e){var r=this.__data__,n=aye(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var oye=sye,iye=Uge,lye=Xge,cye=eye,uye=nye,dye=oye;function td(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}td.prototype.clear=iye;td.prototype.delete=lye;td.prototype.get=cye;td.prototype.has=uye;td.prototype.set=dye;var Pj=td,mye=zl,fye=us,pye=mye(fye,"Map"),Vk=pye,FL=qge,hye=Pj,gye=Vk;function yye(){this.size=0,this.__data__={hash:new FL,map:new(gye||hye),string:new FL}}var xye=yye;function bye(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var vye=bye,jye=vye;function Nye(t,e){var r=t.__data__;return jye(e)?r[typeof e=="string"?"string":"hash"]:r.map}var kj=Nye,wye=kj;function Cye(t){var e=wye(this,t).delete(t);return this.size-=e?1:0,e}var Sye=Cye,Aye=kj;function Iye(t){return Aye(this,t).get(t)}var Tye=Iye,Pye=kj;function kye(t){return Pye(this,t).has(t)}var Eye=kye,Dye=kj;function Oye(t,e){var r=Dye(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var $ye=Oye,Rye=xye,Lye=Sye,Fye=Tye,Mye=Eye,_ye=$ye;function rd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rd.prototype.clear=Rye;rd.prototype.delete=Lye;rd.prototype.get=Fye;rd.prototype.has=Mye;rd.prototype.set=_ye;var Uk=rd,gU=Uk,Bye="Expected a function";function zk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Bye);var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],o=r.cache;if(o.has(s))return o.get(s);var i=t.apply(this,n);return r.cache=o.set(s,i)||o,i};return r.cache=new(zk.Cache||gU),r}zk.Cache=gU;var yU=zk;const qye=ut(yU);var Vye=yU,Uye=500;function zye(t){var e=Vye(t,function(n){return r.size===Uye&&r.clear(),n}),r=e.cache;return e}var Wye=zye,Gye=Wye,Hye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yye=/\\(\\)?/g,Kye=Gye(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Hye,function(r,n,s,o){e.push(s?o.replace(Yye,"$1"):n||r)}),e}),Jye=Kye;function Xye(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var Wk=Xye,ML=Up,Zye=Wk,Qye=Sn,exe=Zu,_L=ML?ML.prototype:void 0,BL=_L?_L.toString:void 0;function xU(t){if(typeof t=="string")return t;if(Qye(t))return Zye(t,xU)+"";if(exe(t))return BL?BL.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var txe=xU,rxe=txe;function nxe(t){return t==null?"":rxe(t)}var bU=nxe,axe=Sn,sxe=_k,oxe=Jye,ixe=bU;function lxe(t,e){return axe(t)?t:sxe(t,e)?[t]:oxe(ixe(t))}var vU=lxe,cxe=Zu;function uxe(t){if(typeof t=="string"||cxe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ej=uxe,dxe=vU,mxe=Ej;function fxe(t,e){e=dxe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[mxe(e[r++])];return r&&r==n?t:void 0}var Gk=fxe,pxe=Gk;function hxe(t,e,r){var n=t==null?void 0:pxe(t,e);return n===void 0?r:n}var jU=hxe;const $n=ut(jU);function gxe(t){return t==null}var yxe=gxe;const et=ut(yxe);var xxe=to,bxe=Sn,vxe=ro,jxe="[object String]";function Nxe(t){return typeof t=="string"||!bxe(t)&&vxe(t)&&xxe(t)==jxe}var wxe=Nxe;const Al=ut(wxe);var NU={exports:{}},Nt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=Symbol.for("react.element"),Yk=Symbol.for("react.portal"),Dj=Symbol.for("react.fragment"),Oj=Symbol.for("react.strict_mode"),$j=Symbol.for("react.profiler"),Rj=Symbol.for("react.provider"),Lj=Symbol.for("react.context"),Cxe=Symbol.for("react.server_context"),Fj=Symbol.for("react.forward_ref"),Mj=Symbol.for("react.suspense"),_j=Symbol.for("react.suspense_list"),Bj=Symbol.for("react.memo"),qj=Symbol.for("react.lazy"),Sxe=Symbol.for("react.offscreen"),wU;wU=Symbol.for("react.module.reference");function da(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Hk:switch(t=t.type,t){case Dj:case $j:case Oj:case Mj:case _j:return t;default:switch(t=t&&t.$$typeof,t){case Cxe:case Lj:case Fj:case qj:case Bj:case Rj:return t;default:return e}}case Yk:return e}}}Nt.ContextConsumer=Lj;Nt.ContextProvider=Rj;Nt.Element=Hk;Nt.ForwardRef=Fj;Nt.Fragment=Dj;Nt.Lazy=qj;Nt.Memo=Bj;Nt.Portal=Yk;Nt.Profiler=$j;Nt.StrictMode=Oj;Nt.Suspense=Mj;Nt.SuspenseList=_j;Nt.isAsyncMode=function(){return!1};Nt.isConcurrentMode=function(){return!1};Nt.isContextConsumer=function(t){return da(t)===Lj};Nt.isContextProvider=function(t){return da(t)===Rj};Nt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hk};Nt.isForwardRef=function(t){return da(t)===Fj};Nt.isFragment=function(t){return da(t)===Dj};Nt.isLazy=function(t){return da(t)===qj};Nt.isMemo=function(t){return da(t)===Bj};Nt.isPortal=function(t){return da(t)===Yk};Nt.isProfiler=function(t){return da(t)===$j};Nt.isStrictMode=function(t){return da(t)===Oj};Nt.isSuspense=function(t){return da(t)===Mj};Nt.isSuspenseList=function(t){return da(t)===_j};Nt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dj||t===$j||t===Oj||t===Mj||t===_j||t===Sxe||typeof t=="object"&&t!==null&&(t.$$typeof===qj||t.$$typeof===Bj||t.$$typeof===Rj||t.$$typeof===Lj||t.$$typeof===Fj||t.$$typeof===wU||t.getModuleId!==void 0)};Nt.typeOf=da;NU.exports=Nt;var Axe=NU.exports,Ixe=to,Txe=ro,Pxe="[object Number]";function kxe(t){return typeof t=="number"||Txe(t)&&Ixe(t)==Pxe}var CU=kxe;const Exe=ut(CU);var Dxe=CU;function Oxe(t){return Dxe(t)&&t!=+t}var $xe=Oxe;const zp=ut($xe);var tn=function(e){return e===0?0:e>0?1:-1},Vi=function(e){return Al(e)&&e.indexOf("%")===e.length-1},ve=function(e){return Exe(e)&&!zp(e)},Rxe=function(e){return et(e)},jr=function(e){return ve(e)||Al(e)},Lxe=0,Wp=function(e){var r=++Lxe;return"".concat(e||"").concat(r)},rn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!Al(e))return n;var o;if(Vi(e)){var i=e.indexOf("%");o=r*parseFloat(e.slice(0,i))/100}else o=+e;return zp(o)&&(o=n),s&&o>r&&(o=r),o},bo=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Fxe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},po=function(e,r){return ve(e)&&ve(r)?function(n){return e+n*(r-e)}:function(){return r}};function rI(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):$n(n,e))===r})}var Mxe=function(e,r){return ve(e)&&ve(r)?e-r:Al(e)&&Al(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function _c(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function nI(t){"@babel/helpers - typeof";return nI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nI(t)}var _xe=["viewBox","children"],Bxe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qL=["points","pathLength"],R1={svg:_xe,polygon:qL,polyline:qL},Kk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],pb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!Qu(n))return null;var s={};return Object.keys(n).forEach(function(o){Kk.includes(o)&&(s[o]=r||function(i){return n[o](n,i)})}),s},qxe=function(e,r,n){return function(s){return e(r,n,s),null}},Il=function(e,r,n){if(!Qu(e)||nI(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(o){var i=e[o];Kk.includes(o)&&typeof i=="function"&&(s||(s={}),s[o]=qxe(i,r,n))}),s},Vxe=["children"],Uxe=["children"];function VL(t,e){if(t==null)return{};var r=zxe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var UL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ks=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},zL=null,L1=null,Jk=function t(e){if(e===zL&&Array.isArray(L1))return L1;var r=[];return j.Children.forEach(e,function(n){et(n)||(Axe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),L1=r,zL=e,r};function oa(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return ks(s)}):n=[ks(e)],Jk(t).forEach(function(s){var o=$n(s,"type.displayName")||$n(s,"type.name");n.indexOf(o)!==-1&&r.push(s)}),r}function Tn(t,e){var r=oa(t,e);return r&&r[0]}var WL=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!ve(n)||n<=0||!ve(s)||s<=0)},Wxe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Gxe=function(e){return e&&e.type&&Al(e.type)&&Wxe.indexOf(e.type)>=0},Hxe=function(e,r,n,s){var o,i=(o=R1==null?void 0:R1[s])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ge(e)&&(s&&i.includes(r)||Bxe.includes(r))||n&&Kk.includes(r)},We=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(j.isValidElement(e)&&(s=e.props),!Qu(s))return null;var o={};return Object.keys(s).forEach(function(i){var l;Hxe((l=s)===null||l===void 0?void 0:l[i],i,r,n)&&(o[i]=s[i])}),o},aI=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return GL(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var o=e[s],i=r[s];if(Array.isArray(o)||Array.isArray(i)){if(!t(o,i))return!1}else if(!GL(o,i))return!1}return!0},GL=function(e,r){if(et(e)&&et(r))return!0;if(!et(e)&&!et(r)){var n=e.props||{},s=n.children,o=VL(n,Vxe),i=r.props||{},l=i.children,c=VL(i,Uxe);return s&&l?_c(o,c)&&aI(s,l):!s&&!l?_c(o,c):!1}return!1},HL=function(e,r){var n=[],s={};return Jk(e).forEach(function(o,i){if(Gxe(o))n.push(o);else if(o){var l=ks(o.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var m=u(o,l,i);n.push(m),s[l]=!0}}}),n},Yxe=function(e){var r=e&&e.type;return r&&UL[r]?UL[r]:null},Kxe=function(e,r){return Jk(r).indexOf(e)},Jxe=["children","width","height","viewBox","className","style","title","desc"];function sI(){return sI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sI.apply(this,arguments)}function Xxe(t,e){if(t==null)return{};var r=Zxe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oI(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,o=t.className,i=t.style,l=t.title,c=t.desc,u=Xxe(t,Jxe),d=s||{width:r,height:n,x:0,y:0},m=_e("recharts-surface",o);return Q.createElement("svg",sI({},We(u,!0,"svg"),{className:m,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Q.createElement("title",null,l),Q.createElement("desc",null,c),e)}var Qxe=["children","className"];function iI(){return iI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iI.apply(this,arguments)}function e0e(t,e){if(t==null)return{};var r=t0e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xt=Q.forwardRef(function(t,e){var r=t.children,n=t.className,s=e0e(t,Qxe),o=_e("recharts-layer",n);return Q.createElement("g",iI({className:o},We(s,!0),{ref:e}),r)}),Pa=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o]};function r0e(t,e,r){var n=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(s);++n<s;)o[n]=t[n+e];return o}var n0e=r0e,a0e=n0e;function s0e(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:a0e(t,e,r)}var o0e=s0e,i0e="\\ud800-\\udfff",l0e="\\u0300-\\u036f",c0e="\\ufe20-\\ufe2f",u0e="\\u20d0-\\u20ff",d0e=l0e+c0e+u0e,m0e="\\ufe0e\\ufe0f",f0e="\\u200d",p0e=RegExp("["+f0e+i0e+d0e+m0e+"]");function h0e(t){return p0e.test(t)}var SU=h0e;function g0e(t){return t.split("")}var y0e=g0e,AU="\\ud800-\\udfff",x0e="\\u0300-\\u036f",b0e="\\ufe20-\\ufe2f",v0e="\\u20d0-\\u20ff",j0e=x0e+b0e+v0e,N0e="\\ufe0e\\ufe0f",w0e="["+AU+"]",lI="["+j0e+"]",cI="\\ud83c[\\udffb-\\udfff]",C0e="(?:"+lI+"|"+cI+")",IU="[^"+AU+"]",TU="(?:\\ud83c[\\udde6-\\uddff]){2}",PU="[\\ud800-\\udbff][\\udc00-\\udfff]",S0e="\\u200d",kU=C0e+"?",EU="["+N0e+"]?",A0e="(?:"+S0e+"(?:"+[IU,TU,PU].join("|")+")"+EU+kU+")*",I0e=EU+kU+A0e,T0e="(?:"+[IU+lI+"?",lI,TU,PU,w0e].join("|")+")",P0e=RegExp(cI+"(?="+cI+")|"+T0e+I0e,"g");function k0e(t){return t.match(P0e)||[]}var E0e=k0e,D0e=y0e,O0e=SU,$0e=E0e;function R0e(t){return O0e(t)?$0e(t):D0e(t)}var L0e=R0e,F0e=o0e,M0e=SU,_0e=L0e,B0e=bU;function q0e(t){return function(e){e=B0e(e);var r=M0e(e)?_0e(e):void 0,n=r?r[0]:e.charAt(0),s=r?F0e(r,1).join(""):e.slice(1);return n[t]()+s}}var V0e=q0e,U0e=V0e,z0e=U0e("toUpperCase"),W0e=z0e;const Vj=ut(W0e);function kt(t){return function(){return t}}const DU=Math.cos,hb=Math.sin,Ma=Math.sqrt,gb=Math.PI,Uj=2*gb,uI=Math.PI,dI=2*uI,ki=1e-6,G0e=dI-ki;function OU(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function H0e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return OU;const r=10**e;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Y0e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?OU:H0e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,o,i){this._append`C${+e},${+r},${+n},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(e,r,n,s,o){if(e=+e,r=+r,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,l=this._y1,c=n-e,u=s-r,d=i-e,m=l-r,f=d*d+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>ki)if(!(Math.abs(m*c-u*d)>ki)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-i,h=s-l,y=c*c+u*u,b=p*p+h*h,g=Math.sqrt(y),x=Math.sqrt(f),v=o*Math.tan((uI-Math.acos((y+f-b)/(2*g*x)))/2),w=v/x,N=v/g;Math.abs(w-1)>ki&&this._append`L${e+w*d},${r+w*m}`,this._append`A${o},${o},0,0,${+(m*p>d*h)},${this._x1=e+N*c},${this._y1=r+N*u}`}}arc(e,r,n,s,o,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=e+l,d=r+c,m=1^i,f=i?s-o:o-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ki||Math.abs(this._y1-d)>ki)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%dI+dI),f>G0e?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=d}`:f>ki&&this._append`A${n},${n},0,${+(f>=uI)},${m},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Xk(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Y0e(e)}function Zk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function $U(t){this._context=t}$U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zj(t){return new $U(t)}function RU(t){return t[0]}function LU(t){return t[1]}function FU(t,e){var r=kt(!0),n=null,s=zj,o=null,i=Xk(l);t=typeof t=="function"?t:t===void 0?RU:kt(t),e=typeof e=="function"?e:e===void 0?LU:kt(e);function l(c){var u,d=(c=Zk(c)).length,m,f=!1,p;for(n==null&&(o=s(p=i())),u=0;u<=d;++u)!(u<d&&r(m=c[u],u,c))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(m,u,c),+e(m,u,c));if(p)return o=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:kt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:kt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:kt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(o=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=o=null:o=s(n=c),l):n},l}function Oh(t,e,r){var n=null,s=kt(!0),o=null,i=zj,l=null,c=Xk(u);t=typeof t=="function"?t:t===void 0?RU:kt(+t),e=typeof e=="function"?e:kt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?LU:kt(+r);function u(m){var f,p,h,y=(m=Zk(m)).length,b,g=!1,x,v=new Array(y),w=new Array(y);for(o==null&&(l=i(x=c())),f=0;f<=y;++f){if(!(f<y&&s(b=m[f],f,m))===g)if(g=!g)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=f-1;h>=p;--h)l.point(v[h],w[h]);l.lineEnd(),l.areaEnd()}g&&(v[f]=+t(b,f,m),w[f]=+e(b,f,m),l.point(n?+n(b,f,m):v[f],r?+r(b,f,m):w[f]))}if(x)return l=null,x+""||null}function d(){return FU().defined(s).curve(i).context(o)}return u.x=function(m){return arguments.length?(t=typeof m=="function"?m:kt(+m),n=null,u):t},u.x0=function(m){return arguments.length?(t=typeof m=="function"?m:kt(+m),u):t},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:kt(+m),u):n},u.y=function(m){return arguments.length?(e=typeof m=="function"?m:kt(+m),r=null,u):e},u.y0=function(m){return arguments.length?(e=typeof m=="function"?m:kt(+m),u):e},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:kt(+m),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(m){return arguments.length?(s=typeof m=="function"?m:kt(!!m),u):s},u.curve=function(m){return arguments.length?(i=m,o!=null&&(l=i(o)),u):i},u.context=function(m){return arguments.length?(m==null?o=l=null:l=i(o=m),u):o},u}class MU{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function K0e(t){return new MU(t,!0)}function J0e(t){return new MU(t,!1)}const Qk={draw(t,e){const r=Ma(e/gb);t.moveTo(r,0),t.arc(0,0,r,0,Uj)}},X0e={draw(t,e){const r=Ma(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},_U=Ma(1/3),Z0e=_U*2,Q0e={draw(t,e){const r=Ma(e/Z0e),n=r*_U;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},ebe={draw(t,e){const r=Ma(e),n=-r/2;t.rect(n,n,r,r)}},tbe=.8908130915292852,BU=hb(gb/10)/hb(7*gb/10),rbe=hb(Uj/10)*BU,nbe=-DU(Uj/10)*BU,abe={draw(t,e){const r=Ma(e*tbe),n=rbe*r,s=nbe*r;t.moveTo(0,-r),t.lineTo(n,s);for(let o=1;o<5;++o){const i=Uj*o/5,l=DU(i),c=hb(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},F1=Ma(3),sbe={draw(t,e){const r=-Ma(e/(F1*3));t.moveTo(0,r*2),t.lineTo(-F1*r,-r),t.lineTo(F1*r,-r),t.closePath()}},Yn=-.5,Kn=Ma(3)/2,mI=1/Ma(12),obe=(mI/2+1)*3,ibe={draw(t,e){const r=Ma(e/obe),n=r/2,s=r*mI,o=n,i=r*mI+r,l=-o,c=i;t.moveTo(n,s),t.lineTo(o,i),t.lineTo(l,c),t.lineTo(Yn*n-Kn*s,Kn*n+Yn*s),t.lineTo(Yn*o-Kn*i,Kn*o+Yn*i),t.lineTo(Yn*l-Kn*c,Kn*l+Yn*c),t.lineTo(Yn*n+Kn*s,Yn*s-Kn*n),t.lineTo(Yn*o+Kn*i,Yn*i-Kn*o),t.lineTo(Yn*l+Kn*c,Yn*c-Kn*l),t.closePath()}};function lbe(t,e){let r=null,n=Xk(s);t=typeof t=="function"?t:kt(t||Qk),e=typeof e=="function"?e:kt(e===void 0?64:+e);function s(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(t=typeof o=="function"?o:kt(o),s):t},s.size=function(o){return arguments.length?(e=typeof o=="function"?o:kt(+o),s):e},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function yb(){}function xb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function qU(t){this._context=t}qU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cbe(t){return new qU(t)}function VU(t){this._context=t}VU.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ube(t){return new VU(t)}function UU(t){this._context=t}UU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dbe(t){return new UU(t)}function zU(t){this._context=t}zU.prototype={areaStart:yb,areaEnd:yb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function mbe(t){return new zU(t)}function YL(t){return t<0?-1:1}function KL(t,e,r){var n=t._x1-t._x0,s=e-t._x1,o=(t._y1-t._y0)/(n||s<0&&-0),i=(r-t._y1)/(s||n<0&&-0),l=(o*s+i*n)/(n+s);return(YL(o)+YL(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(l))||0}function JL(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function M1(t,e,r){var n=t._x0,s=t._y0,o=t._x1,i=t._y1,l=(o-n)/3;t._context.bezierCurveTo(n+l,s+l*e,o-l,i-l*r,o,i)}function bb(t){this._context=t}bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M1(this,this._t0,JL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M1(this,JL(this,r=KL(this,t,e)),r);break;default:M1(this,this._t0,r=KL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function WU(t){this._context=new GU(t)}(WU.prototype=Object.create(bb.prototype)).point=function(t,e){bb.prototype.point.call(this,e,t)};function GU(t){this._context=t}GU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,o){this._context.bezierCurveTo(e,t,n,r,o,s)}};function fbe(t){return new bb(t)}function pbe(t){return new WU(t)}function HU(t){this._context=t}HU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=XL(t),s=XL(e),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function XL(t){var e,r=t.length-1,n,s=new Array(r),o=new Array(r),i=new Array(r);for(s[0]=0,o[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,o[e]=4,i[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,o[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/o[e-1],o[e]-=n,i[e]-=n*i[e-1];for(s[r-1]=i[r-1]/o[r-1],e=r-2;e>=0;--e)s[e]=(i[e]-s[e+1])/o[e];for(o[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-s[e+1];return[s,o]}function hbe(t){return new HU(t)}function Wj(t,e){this._context=t,this._t=e}Wj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function gbe(t){return new Wj(t,.5)}function ybe(t){return new Wj(t,0)}function xbe(t){return new Wj(t,1)}function fu(t,e){if((i=t.length)>1)for(var r=1,n,s,o=t[e[0]],i,l=o.length;r<i;++r)for(s=o,o=t[e[r]],n=0;n<l;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function fI(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function bbe(t,e){return t[e]}function vbe(t){const e=[];return e.key=t,e}function jbe(){var t=kt([]),e=fI,r=fu,n=bbe;function s(o){var i=Array.from(t.apply(this,arguments),vbe),l,c=i.length,u=-1,d;for(const m of o)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(m,i[l].key,u,o)]).data=m;for(l=0,d=Zk(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return s.keys=function(o){return arguments.length?(t=typeof o=="function"?o:kt(Array.from(o)),s):t},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:kt(+o),s):n},s.order=function(o){return arguments.length?(e=o==null?fI:typeof o=="function"?o:kt(Array.from(o)),s):e},s.offset=function(o){return arguments.length?(r=o??fu,s):r},s}function Nbe(t,e){if((n=t.length)>0){for(var r,n,s=0,o=t[0].length,i;s<o;++s){for(i=r=0;r<n;++r)i+=t[r][s][1]||0;if(i)for(r=0;r<n;++r)t[r][s][1]/=i}fu(t,e)}}function wbe(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,o=n.length;r<o;++r){for(var i=0,l=0;i<s;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}fu(t,e)}}function Cbe(t,e){if(!(!((i=t.length)>0)||!((o=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,o,i;n<o;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],m=d[n][1]||0,f=d[n-1][1]||0,p=(m-f)/2,h=0;h<l;++h){var y=t[e[h]],b=y[n][1]||0,g=y[n-1][1]||0;p+=b-g}c+=m,u+=p*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,fu(t,e)}}function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}var Sbe=["type","size","sizeType"];function pI(){return pI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pI.apply(this,arguments)}function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function QL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){Abe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Abe(t,e,r){return e=Ibe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ibe(t){var e=Tbe(t,"string");return Df(e)=="symbol"?e:e+""}function Tbe(t,e){if(Df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pbe(t,e){if(t==null)return{};var r=kbe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kbe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var YU={symbolCircle:Qk,symbolCross:X0e,symbolDiamond:Q0e,symbolSquare:ebe,symbolStar:abe,symbolTriangle:sbe,symbolWye:ibe},Ebe=Math.PI/180,Dbe=function(e){var r="symbol".concat(Vj(e));return YU[r]||Qk},Obe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*Ebe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$be=function(e,r){YU["symbol".concat(Vj(e))]=r},eE=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,o=s===void 0?64:s,i=e.sizeType,l=i===void 0?"area":i,c=Pbe(e,Sbe),u=QL(QL({},c),{},{type:n,size:o,sizeType:l}),d=function(){var b=Dbe(n),g=lbe().type(b).size(Obe(o,l,n));return g()},m=u.className,f=u.cx,p=u.cy,h=We(u,!0);return f===+f&&p===+p&&o===+o?Q.createElement("path",pI({},h,{className:_e("recharts-symbols",m),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};eE.registerSymbol=$be;function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function hI(){return hI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hI.apply(this,arguments)}function e5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Rbe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(r),!0).forEach(function(n){Of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JU(n.key),n)}}function Mbe(t,e,r){return e&&Fbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _be(t,e,r){return e=vb(e),Bbe(t,KU()?Reflect.construct(e,r||[],vb(t).constructor):e.apply(t,r))}function Bbe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qbe(t)}function qbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KU=function(){return!!t})()}function vb(t){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(t)}function Vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gI(t,e)}function gI(t,e){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},gI(t,e)}function Of(t,e,r){return e=JU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JU(t){var e=Ube(t,"string");return pu(e)=="symbol"?e:e+""}function Ube(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jn=32,tE=function(t){function e(){return Lbe(this,e),_be(this,e,arguments)}return Vbe(e,t),Mbe(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,o=Jn/2,i=Jn/6,l=Jn/3,c=n.inactive?s:n.color;if(n.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Jn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(Jn,"M").concat(2*l,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return Q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Jn/8,"h").concat(Jn,"v").concat(Jn*3/4,"h").concat(-Jn,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(n.legendIcon)){var u=Rbe({},n);return delete u.legendIcon,Q.cloneElement(n.legendIcon,u)}return Q.createElement(eE,{fill:c,cx:o,cy:o,size:Jn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,o=s.payload,i=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Jn,height:Jn},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,h){var y=p.formatter||c,b=_e(Of(Of({"recharts-legend-item":!0},"legend-item-".concat(h),!0),"inactive",p.inactive));if(p.type==="none")return null;var g=Ge(p.value)?null:p.value;Pa(!Ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return Q.createElement("li",hI({className:b,style:m,key:"legend-item-".concat(h)},Il(n.props,p,h)),Q.createElement(oI,{width:i,height:i,viewBox:d,style:f},n.renderIcon(p)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(g,p,h):g))})}},{key:"render",value:function(){var n=this.props,s=n.payload,o=n.layout,i=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);Of(tE,"displayName","Legend");Of(tE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zbe=Pj;function Wbe(){this.__data__=new zbe,this.size=0}var Gbe=Wbe;function Hbe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Ybe=Hbe;function Kbe(t){return this.__data__.get(t)}var Jbe=Kbe;function Xbe(t){return this.__data__.has(t)}var Zbe=Xbe,Qbe=Pj,eve=Vk,tve=Uk,rve=200;function nve(t,e){var r=this.__data__;if(r instanceof Qbe){var n=r.__data__;if(!eve||n.length<rve-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new tve(n)}return r.set(t,e),this.size=r.size,this}var ave=nve,sve=Pj,ove=Gbe,ive=Ybe,lve=Jbe,cve=Zbe,uve=ave;function nd(t){var e=this.__data__=new sve(t);this.size=e.size}nd.prototype.clear=ove;nd.prototype.delete=ive;nd.prototype.get=lve;nd.prototype.has=cve;nd.prototype.set=uve;var XU=nd,dve="__lodash_hash_undefined__";function mve(t){return this.__data__.set(t,dve),this}var fve=mve;function pve(t){return this.__data__.has(t)}var hve=pve,gve=Uk,yve=fve,xve=hve;function jb(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new gve;++e<r;)this.add(t[e])}jb.prototype.add=jb.prototype.push=yve;jb.prototype.has=xve;var ZU=jb;function bve(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var QU=bve;function vve(t,e){return t.has(e)}var e7=vve,jve=ZU,Nve=QU,wve=e7,Cve=1,Sve=2;function Ave(t,e,r,n,s,o){var i=r&Cve,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var m=-1,f=!0,p=r&Sve?new jve:void 0;for(o.set(t,e),o.set(e,t);++m<l;){var h=t[m],y=e[m];if(n)var b=i?n(y,h,m,e,t,o):n(h,y,m,t,e,o);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!Nve(e,function(g,x){if(!wve(p,x)&&(h===g||s(h,g,r,n,o)))return p.push(x)})){f=!1;break}}else if(!(h===y||s(h,y,r,n,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var t7=Ave,Ive=us,Tve=Ive.Uint8Array,Pve=Tve;function kve(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}var Eve=kve;function Dve(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var rE=Dve,t5=Up,r5=Pve,Ove=qk,$ve=t7,Rve=Eve,Lve=rE,Fve=1,Mve=2,_ve="[object Boolean]",Bve="[object Date]",qve="[object Error]",Vve="[object Map]",Uve="[object Number]",zve="[object RegExp]",Wve="[object Set]",Gve="[object String]",Hve="[object Symbol]",Yve="[object ArrayBuffer]",Kve="[object DataView]",n5=t5?t5.prototype:void 0,_1=n5?n5.valueOf:void 0;function Jve(t,e,r,n,s,o,i){switch(r){case Kve:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Yve:return!(t.byteLength!=e.byteLength||!o(new r5(t),new r5(e)));case _ve:case Bve:case Uve:return Ove(+t,+e);case qve:return t.name==e.name&&t.message==e.message;case zve:case Gve:return t==e+"";case Vve:var l=Rve;case Wve:var c=n&Fve;if(l||(l=Lve),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=Mve,i.set(t,e);var d=$ve(l(t),l(e),n,s,o,i);return i.delete(t),d;case Hve:if(_1)return _1.call(t)==_1.call(e)}return!1}var Xve=Jve;function Zve(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var r7=Zve,Qve=r7,eje=Sn;function tje(t,e,r){var n=e(t);return eje(t)?n:Qve(n,r(t))}var rje=tje;function nje(t,e){for(var r=-1,n=t==null?0:t.length,s=0,o=[];++r<n;){var i=t[r];e(i,r,t)&&(o[s++]=i)}return o}var aje=nje;function sje(){return[]}var oje=sje,ije=aje,lje=oje,cje=Object.prototype,uje=cje.propertyIsEnumerable,a5=Object.getOwnPropertySymbols,dje=a5?function(t){return t==null?[]:(t=Object(t),ije(a5(t),function(e){return uje.call(t,e)}))}:lje,mje=dje;function fje(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var pje=fje,hje=to,gje=ro,yje="[object Arguments]";function xje(t){return gje(t)&&hje(t)==yje}var bje=xje,s5=bje,vje=ro,n7=Object.prototype,jje=n7.hasOwnProperty,Nje=n7.propertyIsEnumerable,wje=s5(function(){return arguments}())?s5:function(t){return vje(t)&&jje.call(t,"callee")&&!Nje.call(t,"callee")},nE=wje,Nb={exports:{}};function Cje(){return!1}var Sje=Cje;Nb.exports;(function(t,e){var r=us,n=Sje,s=e&&!e.nodeType&&e,o=s&&!0&&t&&!t.nodeType&&t,i=o&&o.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Nb,Nb.exports);var a7=Nb.exports,Aje=9007199254740991,Ije=/^(?:0|[1-9]\d*)$/;function Tje(t,e){var r=typeof t;return e=e??Aje,!!e&&(r=="number"||r!="symbol"&&Ije.test(t))&&t>-1&&t%1==0&&t<e}var aE=Tje,Pje=9007199254740991;function kje(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Pje}var sE=kje,Eje=to,Dje=sE,Oje=ro,$je="[object Arguments]",Rje="[object Array]",Lje="[object Boolean]",Fje="[object Date]",Mje="[object Error]",_je="[object Function]",Bje="[object Map]",qje="[object Number]",Vje="[object Object]",Uje="[object RegExp]",zje="[object Set]",Wje="[object String]",Gje="[object WeakMap]",Hje="[object ArrayBuffer]",Yje="[object DataView]",Kje="[object Float32Array]",Jje="[object Float64Array]",Xje="[object Int8Array]",Zje="[object Int16Array]",Qje="[object Int32Array]",eNe="[object Uint8Array]",tNe="[object Uint8ClampedArray]",rNe="[object Uint16Array]",nNe="[object Uint32Array]",Ft={};Ft[Kje]=Ft[Jje]=Ft[Xje]=Ft[Zje]=Ft[Qje]=Ft[eNe]=Ft[tNe]=Ft[rNe]=Ft[nNe]=!0;Ft[$je]=Ft[Rje]=Ft[Hje]=Ft[Lje]=Ft[Yje]=Ft[Fje]=Ft[Mje]=Ft[_je]=Ft[Bje]=Ft[qje]=Ft[Vje]=Ft[Uje]=Ft[zje]=Ft[Wje]=Ft[Gje]=!1;function aNe(t){return Oje(t)&&Dje(t.length)&&!!Ft[Eje(t)]}var sNe=aNe;function oNe(t){return function(e){return t(e)}}var s7=oNe,wb={exports:{}};wb.exports;(function(t,e){var r=fU,n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===n,i=o&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(wb,wb.exports);var iNe=wb.exports,lNe=sNe,cNe=s7,o5=iNe,i5=o5&&o5.isTypedArray,uNe=i5?cNe(i5):lNe,o7=uNe,dNe=pje,mNe=nE,fNe=Sn,pNe=a7,hNe=aE,gNe=o7,yNe=Object.prototype,xNe=yNe.hasOwnProperty;function bNe(t,e){var r=fNe(t),n=!r&&mNe(t),s=!r&&!n&&pNe(t),o=!r&&!n&&!s&&gNe(t),i=r||n||s||o,l=i?dNe(t.length,String):[],c=l.length;for(var u in t)(e||xNe.call(t,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hNe(u,c)))&&l.push(u);return l}var vNe=bNe,jNe=Object.prototype;function NNe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||jNe;return t===r}var wNe=NNe;function CNe(t,e){return function(r){return t(e(r))}}var i7=CNe,SNe=i7,ANe=SNe(Object.keys,Object),INe=ANe,TNe=wNe,PNe=INe,kNe=Object.prototype,ENe=kNe.hasOwnProperty;function DNe(t){if(!TNe(t))return PNe(t);var e=[];for(var r in Object(t))ENe.call(t,r)&&r!="constructor"&&e.push(r);return e}var ONe=DNe,$Ne=Bk,RNe=sE;function LNe(t){return t!=null&&RNe(t.length)&&!$Ne(t)}var Gp=LNe,FNe=vNe,MNe=ONe,_Ne=Gp;function BNe(t){return _Ne(t)?FNe(t):MNe(t)}var Gj=BNe,qNe=rje,VNe=mje,UNe=Gj;function zNe(t){return qNe(t,UNe,VNe)}var WNe=zNe,l5=WNe,GNe=1,HNe=Object.prototype,YNe=HNe.hasOwnProperty;function KNe(t,e,r,n,s,o){var i=r&GNe,l=l5(t),c=l.length,u=l5(e),d=u.length;if(c!=d&&!i)return!1;for(var m=c;m--;){var f=l[m];if(!(i?f in e:YNe.call(e,f)))return!1}var p=o.get(t),h=o.get(e);if(p&&h)return p==e&&h==t;var y=!0;o.set(t,e),o.set(e,t);for(var b=i;++m<c;){f=l[m];var g=t[f],x=e[f];if(n)var v=i?n(x,g,f,e,t,o):n(g,x,f,t,e,o);if(!(v===void 0?g===x||s(g,x,r,n,o):v)){y=!1;break}b||(b=f=="constructor")}if(y&&!b){var w=t.constructor,N=e.constructor;w!=N&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof N=="function"&&N instanceof N)&&(y=!1)}return o.delete(t),o.delete(e),y}var JNe=KNe,XNe=zl,ZNe=us,QNe=XNe(ZNe,"DataView"),ewe=QNe,twe=zl,rwe=us,nwe=twe(rwe,"Promise"),awe=nwe,swe=zl,owe=us,iwe=swe(owe,"Set"),l7=iwe,lwe=zl,cwe=us,uwe=lwe(cwe,"WeakMap"),dwe=uwe,yI=ewe,xI=Vk,bI=awe,vI=l7,jI=dwe,c7=to,ad=hU,c5="[object Map]",mwe="[object Object]",u5="[object Promise]",d5="[object Set]",m5="[object WeakMap]",f5="[object DataView]",fwe=ad(yI),pwe=ad(xI),hwe=ad(bI),gwe=ad(vI),ywe=ad(jI),Ei=c7;(yI&&Ei(new yI(new ArrayBuffer(1)))!=f5||xI&&Ei(new xI)!=c5||bI&&Ei(bI.resolve())!=u5||vI&&Ei(new vI)!=d5||jI&&Ei(new jI)!=m5)&&(Ei=function(t){var e=c7(t),r=e==mwe?t.constructor:void 0,n=r?ad(r):"";if(n)switch(n){case fwe:return f5;case pwe:return c5;case hwe:return u5;case gwe:return d5;case ywe:return m5}return e});var xwe=Ei,B1=XU,bwe=t7,vwe=Xve,jwe=JNe,p5=xwe,h5=Sn,g5=a7,Nwe=o7,wwe=1,y5="[object Arguments]",x5="[object Array]",$h="[object Object]",Cwe=Object.prototype,b5=Cwe.hasOwnProperty;function Swe(t,e,r,n,s,o){var i=h5(t),l=h5(e),c=i?x5:p5(t),u=l?x5:p5(e);c=c==y5?$h:c,u=u==y5?$h:u;var d=c==$h,m=u==$h,f=c==u;if(f&&g5(t)){if(!g5(e))return!1;i=!0,d=!1}if(f&&!d)return o||(o=new B1),i||Nwe(t)?bwe(t,e,r,n,s,o):vwe(t,e,c,r,n,s,o);if(!(r&wwe)){var p=d&&b5.call(t,"__wrapped__"),h=m&&b5.call(e,"__wrapped__");if(p||h){var y=p?t.value():t,b=h?e.value():e;return o||(o=new B1),s(y,b,r,n,o)}}return f?(o||(o=new B1),jwe(t,e,r,n,s,o)):!1}var Awe=Swe,Iwe=Awe,v5=ro;function u7(t,e,r,n,s){return t===e?!0:t==null||e==null||!v5(t)&&!v5(e)?t!==t&&e!==e:Iwe(t,e,r,n,u7,s)}var oE=u7,Twe=XU,Pwe=oE,kwe=1,Ewe=2;function Dwe(t,e,r,n){var s=r.length,o=s,i=!n;if(t==null)return!o;for(t=Object(t);s--;){var l=r[s];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<o;){l=r[s];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var m=new Twe;if(n)var f=n(u,d,c,t,e,m);if(!(f===void 0?Pwe(d,u,kwe|Ewe,n,m):f))return!1}}return!0}var Owe=Dwe,$we=hi;function Rwe(t){return t===t&&!$we(t)}var d7=Rwe,Lwe=d7,Fwe=Gj;function Mwe(t){for(var e=Fwe(t),r=e.length;r--;){var n=e[r],s=t[n];e[r]=[n,s,Lwe(s)]}return e}var _we=Mwe;function Bwe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var m7=Bwe,qwe=Owe,Vwe=_we,Uwe=m7;function zwe(t){var e=Vwe(t);return e.length==1&&e[0][2]?Uwe(e[0][0],e[0][1]):function(r){return r===t||qwe(r,t,e)}}var Wwe=zwe;function Gwe(t,e){return t!=null&&e in Object(t)}var Hwe=Gwe,Ywe=vU,Kwe=nE,Jwe=Sn,Xwe=aE,Zwe=sE,Qwe=Ej;function e1e(t,e,r){e=Ywe(e,t);for(var n=-1,s=e.length,o=!1;++n<s;){var i=Qwe(e[n]);if(!(o=t!=null&&r(t,i)))break;t=t[i]}return o||++n!=s?o:(s=t==null?0:t.length,!!s&&Zwe(s)&&Xwe(i,s)&&(Jwe(t)||Kwe(t)))}var t1e=e1e,r1e=Hwe,n1e=t1e;function a1e(t,e){return t!=null&&n1e(t,e,r1e)}var s1e=a1e,o1e=oE,i1e=jU,l1e=s1e,c1e=_k,u1e=d7,d1e=m7,m1e=Ej,f1e=1,p1e=2;function h1e(t,e){return c1e(t)&&u1e(e)?d1e(m1e(t),e):function(r){var n=i1e(r,t);return n===void 0&&n===e?l1e(r,t):o1e(e,n,f1e|p1e)}}var g1e=h1e;function y1e(t){return t}var sd=y1e;function x1e(t){return function(e){return e==null?void 0:e[t]}}var b1e=x1e,v1e=Gk;function j1e(t){return function(e){return v1e(e,t)}}var N1e=j1e,w1e=b1e,C1e=N1e,S1e=_k,A1e=Ej;function I1e(t){return S1e(t)?w1e(A1e(t)):C1e(t)}var T1e=I1e,P1e=Wwe,k1e=g1e,E1e=sd,D1e=Sn,O1e=T1e;function $1e(t){return typeof t=="function"?t:t==null?E1e:typeof t=="object"?D1e(t)?k1e(t[0],t[1]):P1e(t):O1e(t)}var ds=$1e;function R1e(t,e,r,n){for(var s=t.length,o=r+(n?1:-1);n?o--:++o<s;)if(e(t[o],o,t))return o;return-1}var f7=R1e;function L1e(t){return t!==t}var F1e=L1e;function M1e(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}var _1e=M1e,B1e=f7,q1e=F1e,V1e=_1e;function U1e(t,e,r){return e===e?V1e(t,e,r):B1e(t,q1e,r)}var z1e=U1e,W1e=z1e;function G1e(t,e){var r=t==null?0:t.length;return!!r&&W1e(t,e,0)>-1}var H1e=G1e;function Y1e(t,e,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(e,t[n]))return!0;return!1}var K1e=Y1e;function J1e(){}var X1e=J1e,q1=l7,Z1e=X1e,Q1e=rE,eCe=1/0,tCe=q1&&1/Q1e(new q1([,-0]))[1]==eCe?function(t){return new q1(t)}:Z1e,rCe=tCe,nCe=ZU,aCe=H1e,sCe=K1e,oCe=e7,iCe=rCe,lCe=rE,cCe=200;function uCe(t,e,r){var n=-1,s=aCe,o=t.length,i=!0,l=[],c=l;if(r)i=!1,s=sCe;else if(o>=cCe){var u=e?null:iCe(t);if(u)return lCe(u);i=!1,s=oCe,c=new nCe}else c=e?[]:l;e:for(;++n<o;){var d=t[n],m=e?e(d):d;if(d=r||d!==0?d:0,i&&m===m){for(var f=c.length;f--;)if(c[f]===m)continue e;e&&c.push(m),l.push(d)}else s(c,m,r)||(c!==l&&c.push(m),l.push(d))}return l}var dCe=uCe,mCe=ds,fCe=dCe;function pCe(t,e){return t&&t.length?fCe(t,mCe(e)):[]}var hCe=pCe;const j5=ut(hCe);function p7(t,e,r){return e===!0?j5(t,r):Ge(e)?j5(t,e):t}function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}var gCe=["ref"];function N5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(r),!0).forEach(function(n){Hj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g7(n.key),n)}}function xCe(t,e,r){return e&&w5(t.prototype,e),r&&w5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bCe(t,e,r){return e=Cb(e),vCe(t,h7()?Reflect.construct(e,r||[],Cb(t).constructor):e.apply(t,r))}function vCe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jCe(t)}function jCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h7=function(){return!!t})()}function Cb(t){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(t)}function NCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NI(t,e)}function NI(t,e){return NI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NI(t,e)}function Hj(t,e,r){return e=g7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g7(t){var e=wCe(t,"string");return hu(e)=="symbol"?e:e+""}function wCe(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CCe(t,e){if(t==null)return{};var r=SCe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ACe(t){return t.value}function ICe(t,e){if(Q.isValidElement(t))return Q.cloneElement(t,e);if(typeof t=="function")return Q.createElement(t,e);e.ref;var r=CCe(e,gCe);return Q.createElement(tE,r)}var C5=1,ka=function(t){function e(){var r;yCe(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=bCe(this,e,[].concat(s)),Hj(r,"lastBoundingBox",{width:-1,height:-1}),r}return NCe(e,t),xCe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>C5||Math.abs(s.height-this.lastBoundingBox.height)>C5)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,o=s.layout,i=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,m,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();m={left:((u||0)-p.width)/2}}else m=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var h=this.getBBoxSnapshot();f={top:((d||0)-h.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fs(fs({},m),f)}},{key:"render",value:function(){var n=this,s=this.props,o=s.content,i=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,m=fs(fs({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Q.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(p){n.wrapperNode=p}},ICe(o,fs(fs({},this.props),{},{payload:p7(d,u,ACe)})))}}],[{key:"getWithHeight",value:function(n,s){var o=fs(fs({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&ve(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}])}(j.PureComponent);Hj(ka,"displayName","Legend");Hj(ka,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var S5=Up,TCe=nE,PCe=Sn,A5=S5?S5.isConcatSpreadable:void 0;function kCe(t){return PCe(t)||TCe(t)||!!(A5&&t&&t[A5])}var ECe=kCe,DCe=r7,OCe=ECe;function y7(t,e,r,n,s){var o=-1,i=t.length;for(r||(r=OCe),s||(s=[]);++o<i;){var l=t[o];e>0&&r(l)?e>1?y7(l,e-1,r,n,s):DCe(s,l):n||(s[s.length]=l)}return s}var x7=y7;function $Ce(t){return function(e,r,n){for(var s=-1,o=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++s];if(r(o[c],c,o)===!1)break}return e}}var RCe=$Ce,LCe=RCe,FCe=LCe(),MCe=FCe,_Ce=MCe,BCe=Gj;function qCe(t,e){return t&&_Ce(t,e,BCe)}var b7=qCe,VCe=Gp;function UCe(t,e){return function(r,n){if(r==null)return r;if(!VCe(r))return t(r,n);for(var s=r.length,o=e?s:-1,i=Object(r);(e?o--:++o<s)&&n(i[o],o,i)!==!1;);return r}}var zCe=UCe,WCe=b7,GCe=zCe,HCe=GCe(WCe),iE=HCe,YCe=iE,KCe=Gp;function JCe(t,e){var r=-1,n=KCe(t)?Array(t.length):[];return YCe(t,function(s,o,i){n[++r]=e(s,o,i)}),n}var v7=JCe;function XCe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var ZCe=XCe,I5=Zu;function QCe(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t===t,o=I5(t),i=e!==void 0,l=e===null,c=e===e,u=I5(e);if(!l&&!u&&!o&&t>e||o&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!o&&!u&&t<e||u&&r&&s&&!n&&!o||l&&r&&s||!i&&s||!c)return-1}return 0}var eSe=QCe,tSe=eSe;function rSe(t,e,r){for(var n=-1,s=t.criteria,o=e.criteria,i=s.length,l=r.length;++n<i;){var c=tSe(s[n],o[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var nSe=rSe,V1=Wk,aSe=Gk,sSe=ds,oSe=v7,iSe=ZCe,lSe=s7,cSe=nSe,uSe=sd,dSe=Sn;function mSe(t,e,r){e.length?e=V1(e,function(o){return dSe(o)?function(i){return aSe(i,o.length===1?o[0]:o)}:o}):e=[uSe];var n=-1;e=V1(e,lSe(sSe));var s=oSe(t,function(o,i,l){var c=V1(e,function(u){return u(o)});return{criteria:c,index:++n,value:o}});return iSe(s,function(o,i){return cSe(o,i,r)})}var fSe=mSe;function pSe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var hSe=pSe,gSe=hSe,T5=Math.max;function ySe(t,e,r){return e=T5(e===void 0?t.length-1:e,0),function(){for(var n=arguments,s=-1,o=T5(n.length-e,0),i=Array(o);++s<o;)i[s]=n[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=n[s];return l[e]=r(i),gSe(t,this,l)}}var xSe=ySe;function bSe(t){return function(){return t}}var vSe=bSe,jSe=zl,NSe=function(){try{var t=jSe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),j7=NSe,wSe=vSe,P5=j7,CSe=sd,SSe=P5?function(t,e){return P5(t,"toString",{configurable:!0,enumerable:!1,value:wSe(e),writable:!0})}:CSe,ASe=SSe,ISe=800,TSe=16,PSe=Date.now;function kSe(t){var e=0,r=0;return function(){var n=PSe(),s=TSe-(n-r);if(r=n,s>0){if(++e>=ISe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ESe=kSe,DSe=ASe,OSe=ESe,$Se=OSe(DSe),RSe=$Se,LSe=sd,FSe=xSe,MSe=RSe;function _Se(t,e){return MSe(FSe(t,e,LSe),t+"")}var BSe=_Se,qSe=qk,VSe=Gp,USe=aE,zSe=hi;function WSe(t,e,r){if(!zSe(r))return!1;var n=typeof e;return(n=="number"?VSe(r)&&USe(e,r.length):n=="string"&&e in r)?qSe(r[e],t):!1}var Yj=WSe,GSe=x7,HSe=fSe,YSe=BSe,k5=Yj,KSe=YSe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&k5(t,e[0],e[1])?e=[]:r>2&&k5(e[0],e[1],e[2])&&(e=[e[0]]),HSe(t,GSe(e,1),[])}),JSe=KSe;const lE=ut(JSe);function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function wI(){return wI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wI.apply(this,arguments)}function XSe(t,e){return tAe(t)||eAe(t,e)||QSe(t,e)||ZSe()}function ZSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QSe(t,e){if(t){if(typeof t=="string")return E5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E5(t,e)}}function E5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function tAe(t){if(Array.isArray(t))return t}function D5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function U1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D5(Object(r),!0).forEach(function(n){rAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rAe(t,e,r){return e=nAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nAe(t){var e=aAe(t,"string");return $f(e)=="symbol"?e:e+""}function aAe(t,e){if($f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sAe(t){return Array.isArray(t)&&jr(t[0])&&jr(t[1])?t.join(" ~ "):t}var oAe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,o=s===void 0?{}:s,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,m=e.formatter,f=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,y=e.label,b=e.labelFormatter,g=e.accessibilityLayer,x=g===void 0?!1:g,v=function(){if(d&&d.length){var $={padding:0,margin:0},L=(f?lE(d,f):d).map(function(q,E){if(q.type==="none")return null;var R=U1({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),U=q.formatter||m||sAe,B=q.value,P=q.name,O=B,V=P;if(U&&O!=null&&V!=null){var _=U(B,P,q,E,d);if(Array.isArray(_)){var H=XSe(_,2);O=H[0],V=H[1]}else O=_}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:R},jr(V)?Q.createElement("span",{className:"recharts-tooltip-item-name"},V):null,jr(V)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},O),Q.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},w=U1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),N=U1({margin:0},u),S=!et(y),C=S?y:"",A=_e("recharts-default-tooltip",p),T=_e("recharts-tooltip-label",h);S&&b&&d!==void 0&&d!==null&&(C=b(y,d));var I=x?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",wI({className:A,style:w},I),Q.createElement("p",{className:T,style:N},Q.isValidElement(C)?C:"".concat(C)),v())};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Rh(t,e,r){return e=iAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iAe(t){var e=lAe(t,"string");return Rf(e)=="symbol"?e:e+""}function lAe(t,e){if(Rf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qd="recharts-tooltip-wrapper",cAe={visibility:"hidden"};function uAe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return _e(qd,Rh(Rh(Rh(Rh({},"".concat(qd,"-right"),ve(r)&&e&&ve(e.x)&&r>=e.x),"".concat(qd,"-left"),ve(r)&&e&&ve(e.x)&&r<e.x),"".concat(qd,"-bottom"),ve(n)&&e&&ve(e.y)&&n>=e.y),"".concat(qd,"-top"),ve(n)&&e&&ve(e.y)&&n<e.y))}function O5(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,o=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(o&&ve(o[n]))return o[n];var d=r[n]-l-s,m=r[n]+s;if(e[n])return i[n]?d:m;if(i[n]){var f=d,p=c[n];return f<p?Math.max(m,c[n]):Math.max(d,c[n])}var h=m+l,y=c[n]+u;return h>y?Math.max(d,c[n]):Math.max(m,c[n])}function dAe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function mAe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,o=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,m;return i.height>0&&i.width>0&&r?(d=O5({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),m=O5({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=dAe({translateX:d,translateY:m,useTranslate3d:l})):u=cAe,{cssProperties:u,cssClasses:uAe({translateX:d,translateY:m,coordinate:r})}}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function $5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function R5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(r),!0).forEach(function(n){SI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w7(n.key),n)}}function hAe(t,e,r){return e&&pAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gAe(t,e,r){return e=Sb(e),yAe(t,N7()?Reflect.construct(e,r||[],Sb(t).constructor):e.apply(t,r))}function yAe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xAe(t)}function xAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N7=function(){return!!t})()}function Sb(t){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(t)}function bAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CI(t,e)}function CI(t,e){return CI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CI(t,e)}function SI(t,e,r){return e=w7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w7(t){var e=vAe(t,"string");return gu(e)=="symbol"?e:e+""}function vAe(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L5=1,jAe=function(t){function e(){var r;fAe(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=gAe(this,e,[].concat(s)),SI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),SI(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return bAe(e,t),hAe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>L5||Math.abs(n.height-this.state.lastBoundingBox.height)>L5)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,o=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,m=s.hasPayload,f=s.isAnimationActive,p=s.offset,h=s.position,y=s.reverseDirection,b=s.useTranslate3d,g=s.viewBox,x=s.wrapperStyle,v=mAe({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:h,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:g}),w=v.cssClasses,N=v.cssProperties,S=R5(R5({transition:f&&o?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},x);return Q.createElement("div",{tabIndex:-1,className:w,style:S,ref:function(A){n.wrapperNode=A}},u)}}])}(j.PureComponent),NAe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},od={isSsr:NAe()};function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function F5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function M5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(r),!0).forEach(function(n){cE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S7(n.key),n)}}function SAe(t,e,r){return e&&CAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AAe(t,e,r){return e=Ab(e),IAe(t,C7()?Reflect.construct(e,r||[],Ab(t).constructor):e.apply(t,r))}function IAe(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TAe(t)}function TAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C7=function(){return!!t})()}function Ab(t){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(t)}function PAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AI(t,e)}function AI(t,e){return AI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},AI(t,e)}function cE(t,e,r){return e=S7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S7(t){var e=kAe(t,"string");return yu(e)=="symbol"?e:e+""}function kAe(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EAe(t){return t.dataKey}function DAe(t,e){return Q.isValidElement(t)?Q.cloneElement(t,e):typeof t=="function"?Q.createElement(t,e):Q.createElement(oAe,e)}var va=function(t){function e(){return wAe(this,e),AAe(this,e,arguments)}return PAe(e,t),SAe(e,[{key:"render",value:function(){var n=this,s=this.props,o=s.active,i=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,m=s.filterNull,f=s.isAnimationActive,p=s.offset,h=s.payload,y=s.payloadUniqBy,b=s.position,g=s.reverseDirection,x=s.useTranslate3d,v=s.viewBox,w=s.wrapperStyle,N=h??[];m&&N.length&&(N=p7(h.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),y,EAe));var S=N.length>0;return Q.createElement(jAe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:f,active:o,coordinate:d,hasPayload:S,offset:p,position:b,reverseDirection:g,useTranslate3d:x,viewBox:v,wrapperStyle:w},DAe(u,M5(M5({},this.props),{},{payload:N})))}}])}(j.PureComponent);cE(va,"displayName","Tooltip");cE(va,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!od.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var OAe=us,$Ae=function(){return OAe.Date.now()},RAe=$Ae,LAe=/\s/;function FAe(t){for(var e=t.length;e--&&LAe.test(t.charAt(e)););return e}var MAe=FAe,_Ae=MAe,BAe=/^\s+/;function qAe(t){return t&&t.slice(0,_Ae(t)+1).replace(BAe,"")}var VAe=qAe,UAe=VAe,_5=hi,zAe=Zu,B5=NaN,WAe=/^[-+]0x[0-9a-f]+$/i,GAe=/^0b[01]+$/i,HAe=/^0o[0-7]+$/i,YAe=parseInt;function KAe(t){if(typeof t=="number")return t;if(zAe(t))return B5;if(_5(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_5(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=UAe(t);var r=GAe.test(t);return r||HAe.test(t)?YAe(t.slice(2),r?2:8):WAe.test(t)?B5:+t}var A7=KAe,JAe=hi,z1=RAe,q5=A7,XAe="Expected a function",ZAe=Math.max,QAe=Math.min;function eIe(t,e,r){var n,s,o,i,l,c,u=0,d=!1,m=!1,f=!0;if(typeof t!="function")throw new TypeError(XAe);e=q5(e)||0,JAe(r)&&(d=!!r.leading,m="maxWait"in r,o=m?ZAe(q5(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f);function p(S){var C=n,A=s;return n=s=void 0,u=S,i=t.apply(A,C),i}function h(S){return u=S,l=setTimeout(g,e),d?p(S):i}function y(S){var C=S-c,A=S-u,T=e-C;return m?QAe(T,o-A):T}function b(S){var C=S-c,A=S-u;return c===void 0||C>=e||C<0||m&&A>=o}function g(){var S=z1();if(b(S))return x(S);l=setTimeout(g,y(S))}function x(S){return l=void 0,f&&n?p(S):(n=s=void 0,i)}function v(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function w(){return l===void 0?i:x(z1())}function N(){var S=z1(),C=b(S);if(n=arguments,s=this,c=S,C){if(l===void 0)return h(c);if(m)return clearTimeout(l),l=setTimeout(g,e),p(c)}return l===void 0&&(l=setTimeout(g,e)),i}return N.cancel=v,N.flush=w,N}var tIe=eIe,rIe=tIe,nIe=hi,aIe="Expected a function";function sIe(t,e,r){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(aIe);return nIe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),rIe(t,e,{leading:n,maxWait:e,trailing:s})}var oIe=sIe;const I7=ut(oIe);function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function V5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Lh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(r),!0).forEach(function(n){iIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iIe(t,e,r){return e=lIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lIe(t){var e=cIe(t,"string");return Lf(e)=="symbol"?e:e+""}function cIe(t,e){if(Lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uIe(t,e){return pIe(t)||fIe(t,e)||mIe(t,e)||dIe()}function dIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mIe(t,e){if(t){if(typeof t=="string")return U5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U5(t,e)}}function U5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function pIe(t){if(Array.isArray(t))return t}var xu=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,o=t.width,i=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,m=t.minHeight,f=t.maxHeight,p=t.children,h=t.debounce,y=h===void 0?0:h,b=t.id,g=t.className,x=t.onResize,v=t.style,w=v===void 0?{}:v,N=j.useRef(null),S=j.useRef();S.current=x,j.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var C=j.useState({containerWidth:s.width,containerHeight:s.height}),A=uIe(C,2),T=A[0],I=A[1],k=j.useCallback(function(L,q){I(function(E){var R=Math.round(L),U=Math.round(q);return E.containerWidth===R&&E.containerHeight===U?E:{containerWidth:R,containerHeight:U}})},[]);j.useEffect(function(){var L=function(P){var O,V=P[0].contentRect,_=V.width,H=V.height;k(_,H),(O=S.current)===null||O===void 0||O.call(S,_,H)};y>0&&(L=I7(L,y,{trailing:!0,leading:!1}));var q=new ResizeObserver(L),E=N.current.getBoundingClientRect(),R=E.width,U=E.height;return k(R,U),q.observe(N.current),function(){q.disconnect()}},[k,y]);var $=j.useMemo(function(){var L=T.containerWidth,q=T.containerHeight;if(L<0||q<0)return null;Pa(Vi(i)||Vi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Pa(!r||r>0,"The aspect(%s) must be greater than zero.",r);var E=Vi(i)?L:i,R=Vi(c)?q:c;r&&r>0&&(E?R=E/r:R&&(E=R*r),f&&R>f&&(R=f)),Pa(E>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,R,i,c,d,m,r);var U=!Array.isArray(p)&&ks(p.type).endsWith("Chart");return Q.Children.map(p,function(B){return Q.isValidElement(B)?j.cloneElement(B,Lh({width:E,height:R},U?{style:Lh({height:"100%",width:"100%",maxHeight:R,maxWidth:E},B.props.style)}:{})):B})},[r,p,c,f,m,d,T,i]);return Q.createElement("div",{id:b?"".concat(b):void 0,className:_e("recharts-responsive-container",g),style:Lh(Lh({},w),{},{width:i,height:c,minWidth:d,minHeight:m,maxHeight:f}),ref:N},$)}),gi=function(e){return null};gi.displayName="Cell";function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function II(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(r),!0).forEach(function(n){hIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hIe(t,e,r){return e=gIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gIe(t){var e=yIe(t,"string");return Ff(e)=="symbol"?e:e+""}function yIe(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nc={widthCache:{},cacheCount:0},xIe=2e3,bIe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},W5="recharts_measurement_span";function vIe(t){var e=II({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Em=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||od.isSsr)return{width:0,height:0};var n=vIe(r),s=JSON.stringify({text:e,copyStyle:n});if(nc.widthCache[s])return nc.widthCache[s];try{var o=document.getElementById(W5);o||(o=document.createElement("span"),o.setAttribute("id",W5),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=II(II({},bIe),n);Object.assign(o.style,i),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return nc.widthCache[s]=c,++nc.cacheCount>xIe&&(nc.cacheCount=0,nc.widthCache={}),c}catch{return{width:0,height:0}}},jIe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}function Ib(t,e){return SIe(t)||CIe(t,e)||wIe(t,e)||NIe()}function NIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wIe(t,e){if(t){if(typeof t=="string")return G5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G5(t,e)}}function G5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function SIe(t){if(Array.isArray(t))return t}function AIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TIe(n.key),n)}}function IIe(t,e,r){return e&&H5(t.prototype,e),r&&H5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TIe(t){var e=PIe(t,"string");return Mf(e)=="symbol"?e:e+""}function PIe(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Y5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,K5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,EIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,T7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DIe=Object.keys(T7),Sc="NaN";function OIe(t,e){return t*T7[e]}var Fh=function(){function t(e,r){AIe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!kIe.test(r)&&(this.num=NaN,this.unit=""),DIe.includes(r)&&(this.num=OIe(e,r),this.unit="px")}return IIe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=EIe.exec(r))!==null&&n!==void 0?n:[],o=Ib(s,3),i=o[1],l=o[2];return new t(parseFloat(i),l??"")}}])}();function P7(t){if(t.includes(Sc))return Sc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Y5.exec(e))!==null&&r!==void 0?r:[],s=Ib(n,4),o=s[1],i=s[2],l=s[3],c=Fh.parse(o??""),u=Fh.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Sc;e=e.replace(Y5,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,f=(m=K5.exec(e))!==null&&m!==void 0?m:[],p=Ib(f,4),h=p[1],y=p[2],b=p[3],g=Fh.parse(h??""),x=Fh.parse(b??""),v=y==="+"?g.add(x):g.subtract(x);if(v.isNaN())return Sc;e=e.replace(K5,v.toString())}return e}var J5=/\(([^()]*)\)/;function $Ie(t){for(var e=t;e.includes("(");){var r=J5.exec(e),n=Ib(r,2),s=n[1];e=e.replace(J5,P7(s))}return e}function RIe(t){var e=t.replace(/\s+/g,"");return e=$Ie(e),e=P7(e),e}function LIe(t){try{return RIe(t)}catch{return Sc}}function W1(t){var e=LIe(t.slice(5,-1));return e===Sc?"":e}var FIe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MIe=["dx","dy","angle","className","breakAll"];function TI(){return TI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TI.apply(this,arguments)}function X5(t,e){if(t==null)return{};var r=_Ie(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Ie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Z5(t,e){return UIe(t)||VIe(t,e)||qIe(t,e)||BIe()}function BIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qIe(t,e){if(t){if(typeof t=="string")return Q5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q5(t,e)}}function Q5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function UIe(t){if(Array.isArray(t))return t}var k7=/[ \f\n\r\t\v\u2028\u2029]+/,E7=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var o=[];et(r)||(n?o=r.toString().split(""):o=r.toString().split(k7));var i=o.map(function(c){return{word:c,width:Em(c,s).width}}),l=n?0:Em("",s).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},zIe=function(e,r,n,s,o){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ve(i),m=l,f=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce(function(R,U){var B=U.word,P=U.width,O=R[R.length-1];if(O&&(s==null||o||O.width+P+n<Number(s)))O.words.push(B),O.width+=P+n;else{var V={words:[B],width:P};R.push(V)}return R},[])},p=f(r),h=function(E){return E.reduce(function(R,U){return R.width>U.width?R:U})};if(!d)return p;for(var y="",b=function(E){var R=m.slice(0,E),U=E7({breakAll:u,style:c,children:R+y}).wordsWithComputedWidth,B=f(U),P=B.length>i||h(B).width>Number(s);return[P,B]},g=0,x=m.length-1,v=0,w;g<=x&&v<=m.length-1;){var N=Math.floor((g+x)/2),S=N-1,C=b(S),A=Z5(C,2),T=A[0],I=A[1],k=b(N),$=Z5(k,1),L=$[0];if(!T&&!L&&(g=N+1),T&&L&&(x=N-1),!T&&L){w=I;break}v++}return w||p},eF=function(e){var r=et(e)?[]:e.toString().split(k7);return[{words:r}]},WIe=function(e){var r=e.width,n=e.scaleToFit,s=e.children,o=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!od.isSsr){var c,u,d=E7({breakAll:i,children:s,style:o});if(d){var m=d.wordsWithComputedWidth,f=d.spaceWidth;c=m,u=f}else return eF(s);return zIe({breakAll:i,children:s,maxLines:l,style:o},c,u,r,n)}return eF(s)},tF="#808080",Tl=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,o=s===void 0?0:s,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,m=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,h=e.verticalAnchor,y=h===void 0?"end":h,b=e.fill,g=b===void 0?tF:b,x=X5(e,FIe),v=j.useMemo(function(){return WIe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:m,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,m,x.style,x.width]),w=x.dx,N=x.dy,S=x.angle,C=x.className,A=x.breakAll,T=X5(x,MIe);if(!jr(n)||!jr(o))return null;var I=n+(ve(w)?w:0),k=o+(ve(N)?N:0),$;switch(y){case"start":$=W1("calc(".concat(u,")"));break;case"middle":$=W1("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:$=W1("calc(".concat(v.length-1," * -").concat(l,")"));break}var L=[];if(m){var q=v[0].width,E=x.width;L.push("scale(".concat((ve(E)?E/q:1)/q,")"))}return S&&L.push("rotate(".concat(S,", ").concat(I,", ").concat(k,")")),L.length&&(T.transform=L.join(" ")),Q.createElement("text",TI({},We(T,!0),{x:I,y:k,className:_e("recharts-text",C),textAnchor:p,fill:g.includes("url")?tF:g}),v.map(function(R,U){var B=R.words.join(A?"":" ");return Q.createElement("tspan",{x:I,dy:U===0?$:l,key:"".concat(B,"-").concat(U)},B)}))};function Bo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uE(t){let e,r,n;t.length!==2?(e=Bo,r=(l,c)=>Bo(t(l),c),n=(l,c)=>t(l)-c):(e=t===Bo||t===GIe?t:HIe,r=t,n=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<0?u=m+1:d=m}while(u<d)}return u}function o(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const m=u+d>>>1;r(l[m],c)<=0?u=m+1:d=m}while(u<d)}return u}function i(l,c,u=0,d=l.length){const m=s(l,c,u,d-1);return m>u&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:i,right:o}}function HIe(){return 0}function D7(t){return t===null?NaN:+t}function*YIe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const KIe=uE(Bo),Hp=KIe.right;uE(D7).center;class rF extends Map{constructor(e,r=ZIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(nF(this,e))}has(e){return super.has(nF(this,e))}set(e,r){return super.set(JIe(this,e),r)}delete(e){return super.delete(XIe(this,e))}}function nF({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function JIe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function XIe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function ZIe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function QIe(t=Bo){if(t===Bo)return O7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function O7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const e2e=Math.sqrt(50),t2e=Math.sqrt(10),r2e=Math.sqrt(2);function Tb(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),i=o>=e2e?10:o>=t2e?5:o>=r2e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?Tb(t,e,r*2):[l,c,u]}function PI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,o,i]=n?Tb(e,t,r):Tb(t,e,r);if(!(o>=s))return[];const l=o-s+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(o-u)/-i;else for(let u=0;u<l;++u)c[u]=(o-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(s+u)/-i;else for(let u=0;u<l;++u)c[u]=(s+u)*i;return c}function kI(t,e,r){return e=+e,t=+t,r=+r,Tb(t,e,r)[2]}function EI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?kI(e,t,r):kI(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function aF(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sF(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function $7(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?O7:QIe(s);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),m=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*m*(c-m)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*m/c+f)),h=Math.min(n,Math.floor(e+(c-u)*m/c+f));$7(t,e,p,h,s)}const o=t[e];let i=r,l=n;for(Vd(t,r,e),s(t[n],o)>0&&Vd(t,r,n);i<l;){for(Vd(t,i,l),++i,--l;s(t[i],o)<0;)++i;for(;s(t[l],o)>0;)--l}s(t[r],o)===0?Vd(t,r,l):(++l,Vd(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Vd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function n2e(t,e,r){if(t=Float64Array.from(YIe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return sF(t);if(e>=1)return aF(t);var n,s=(n-1)*e,o=Math.floor(s),i=aF($7(t,o).subarray(0,o+1)),l=sF(t.subarray(o+1));return i+(l-i)*(s-o)}}function a2e(t,e,r=D7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,o=Math.floor(s),i=+r(t[o],o,t),l=+r(t[o+1],o+1,t);return i+(l-i)*(s-o)}}function s2e(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(s);++n<s;)o[n]=t+n*r;return o}function ma(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function no(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DI=Symbol("implicit");function dE(){var t=new rF,e=[],r=[],n=DI;function s(o){let i=t.get(o);if(i===void 0){if(n!==DI)return n;t.set(o,i=e.push(o)-1)}return r[i%r.length]}return s.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new rF;for(const i of o)t.has(i)||t.set(i,e.push(i)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return dE(e,r).unknown(n)},ma.apply(s,arguments),s}function _f(){var t=dE().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,o,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function m(){var f=e().length,p=s<n,h=p?s:n,y=p?n:s;o=(y-h)/Math.max(1,f-c+u*2),l&&(o=Math.floor(o)),h+=(y-h-o*(f-c))*d,i=o*(1-c),l&&(h=Math.round(h),i=Math.round(i));var b=s2e(f).map(function(g){return h+o*g});return r(p?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),m()):e()},t.range=function(f){return arguments.length?([n,s]=f,n=+n,s=+s,m()):[n,s]},t.rangeRound=function(f){return[n,s]=f,n=+n,s=+s,l=!0,m()},t.bandwidth=function(){return i},t.step=function(){return o},t.round=function(f){return arguments.length?(l=!!f,m()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),m()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},t.paddingOuter=function(f){return arguments.length?(u=+f,m()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),m()):d},t.copy=function(){return _f(e(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},ma.apply(m(),arguments)}function R7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return R7(e())},t}function Dm(){return R7(_f.apply(null,arguments).paddingInner(1))}function mE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function L7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Yp(){}var Bf=.7,Pb=1/Bf,Bc="\\s*([+-]?\\d+)\\s*",qf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",es="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o2e=/^#([0-9a-f]{3,8})$/,i2e=new RegExp(`^rgb\\(${Bc},${Bc},${Bc}\\)$`),l2e=new RegExp(`^rgb\\(${es},${es},${es}\\)$`),c2e=new RegExp(`^rgba\\(${Bc},${Bc},${Bc},${qf}\\)$`),u2e=new RegExp(`^rgba\\(${es},${es},${es},${qf}\\)$`),d2e=new RegExp(`^hsl\\(${qf},${es},${es}\\)$`),m2e=new RegExp(`^hsla\\(${qf},${es},${es},${qf}\\)$`),oF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mE(Yp,Vf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:iF,formatHex:iF,formatHex8:f2e,formatHsl:p2e,formatRgb:lF,toString:lF});function iF(){return this.rgb().formatHex()}function f2e(){return this.rgb().formatHex8()}function p2e(){return F7(this).formatHsl()}function lF(){return this.rgb().formatRgb()}function Vf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=o2e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?cF(e):r===3?new hn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Mh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Mh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=i2e.exec(t))?new hn(e[1],e[2],e[3],1):(e=l2e.exec(t))?new hn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=c2e.exec(t))?Mh(e[1],e[2],e[3],e[4]):(e=u2e.exec(t))?Mh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=d2e.exec(t))?mF(e[1],e[2]/100,e[3]/100,1):(e=m2e.exec(t))?mF(e[1],e[2]/100,e[3]/100,e[4]):oF.hasOwnProperty(t)?cF(oF[t]):t==="transparent"?new hn(NaN,NaN,NaN,0):null}function cF(t){return new hn(t>>16&255,t>>8&255,t&255,1)}function Mh(t,e,r,n){return n<=0&&(t=e=r=NaN),new hn(t,e,r,n)}function h2e(t){return t instanceof Yp||(t=Vf(t)),t?(t=t.rgb(),new hn(t.r,t.g,t.b,t.opacity)):new hn}function OI(t,e,r,n){return arguments.length===1?h2e(t):new hn(t,e,r,n??1)}function hn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}mE(hn,OI,L7(Yp,{brighter(t){return t=t==null?Pb:Math.pow(Pb,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bf:Math.pow(Bf,t),new hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hn(rl(this.r),rl(this.g),rl(this.b),kb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uF,formatHex:uF,formatHex8:g2e,formatRgb:dF,toString:dF}));function uF(){return`#${Ui(this.r)}${Ui(this.g)}${Ui(this.b)}`}function g2e(){return`#${Ui(this.r)}${Ui(this.g)}${Ui(this.b)}${Ui((isNaN(this.opacity)?1:this.opacity)*255)}`}function dF(){const t=kb(this.opacity);return`${t===1?"rgb(":"rgba("}${rl(this.r)}, ${rl(this.g)}, ${rl(this.b)}${t===1?")":`, ${t})`}`}function kb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ui(t){return t=rl(t),(t<16?"0":"")+t.toString(16)}function mF(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ca(t,e,r,n)}function F7(t){if(t instanceof Ca)return new Ca(t.h,t.s,t.l,t.opacity);if(t instanceof Yp||(t=Vf(t)),!t)return new Ca;if(t instanceof Ca)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),o=Math.max(e,r,n),i=NaN,l=o-s,c=(o+s)/2;return l?(e===o?i=(r-n)/l+(r<n)*6:r===o?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?o+s:2-o-s,i*=60):l=c>0&&c<1?0:i,new Ca(i,l,c,t.opacity)}function y2e(t,e,r,n){return arguments.length===1?F7(t):new Ca(t,e,r,n??1)}function Ca(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}mE(Ca,y2e,L7(Yp,{brighter(t){return t=t==null?Pb:Math.pow(Pb,t),new Ca(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bf:Math.pow(Bf,t),new Ca(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new hn(G1(t>=240?t-240:t+120,s,n),G1(t,s,n),G1(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new Ca(fF(this.h),_h(this.s),_h(this.l),kb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=kb(this.opacity);return`${t===1?"hsl(":"hsla("}${fF(this.h)}, ${_h(this.s)*100}%, ${_h(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fF(t){return t=(t||0)%360,t<0?t+360:t}function _h(t){return Math.max(0,Math.min(1,t||0))}function G1(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const fE=t=>()=>t;function x2e(t,e){return function(r){return t+r*e}}function b2e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function v2e(t){return(t=+t)==1?M7:function(e,r){return r-e?b2e(e,r,t):fE(isNaN(e)?r:e)}}function M7(t,e){var r=e-t;return r?x2e(t,r):fE(isNaN(t)?e:t)}const pF=function t(e){var r=v2e(e);function n(s,o){var i=r((s=OI(s)).r,(o=OI(o)).r),l=r(s.g,o.g),c=r(s.b,o.b),u=M7(s.opacity,o.opacity);return function(d){return s.r=i(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=t,n}(1);function j2e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(o){for(s=0;s<r;++s)n[s]=t[s]*(1-o)+e[s]*o;return n}}function N2e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function w2e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)s[i]=id(t[i],e[i]);for(;i<r;++i)o[i]=e[i];return function(l){for(i=0;i<n;++i)o[i]=s[i](l);return o}}function C2e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Eb(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function S2e(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=id(t[s],e[s]):n[s]=e[s];return function(o){for(s in r)n[s]=r[s](o);return n}}var $I=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H1=new RegExp($I.source,"g");function A2e(t){return function(){return t}}function I2e(t){return function(e){return t(e)+""}}function T2e(t,e){var r=$I.lastIndex=H1.lastIndex=0,n,s,o,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=$I.exec(t))&&(s=H1.exec(e));)(o=s.index)>r&&(o=e.slice(r,o),l[i]?l[i]+=o:l[++i]=o),(n=n[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,c.push({i,x:Eb(n,s)})),r=H1.lastIndex;return r<e.length&&(o=e.slice(r),l[i]?l[i]+=o:l[++i]=o),l.length<2?c[0]?I2e(c[0].x):A2e(e):(e=c.length,function(u){for(var d=0,m;d<e;++d)l[(m=c[d]).i]=m.x(u);return l.join("")})}function id(t,e){var r=typeof e,n;return e==null||r==="boolean"?fE(e):(r==="number"?Eb:r==="string"?(n=Vf(e))?(e=n,pF):T2e:e instanceof Vf?pF:e instanceof Date?C2e:N2e(e)?j2e:Array.isArray(e)?w2e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?S2e:Eb)(t,e)}function pE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function P2e(t,e){e===void 0&&(e=t,t=id);for(var r=0,n=e.length-1,s=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(s,s=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[l](i-l)}}function k2e(t){return function(){return t}}function Db(t){return+t}var hF=[0,1];function nn(t){return t}function RI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:k2e(isNaN(e)?NaN:.5)}function E2e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function D2e(t,e,r){var n=t[0],s=t[1],o=e[0],i=e[1];return s<n?(n=RI(s,n),o=r(i,o)):(n=RI(n,s),o=r(o,i)),function(l){return o(n(l))}}function O2e(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),o=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)s[i]=RI(t[i],t[i+1]),o[i]=r(e[i],e[i+1]);return function(l){var c=Hp(t,l,1,n)-1;return o[c](s[c](l))}}function Kp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kj(){var t=hF,e=hF,r=id,n,s,o,i=nn,l,c,u;function d(){var f=Math.min(t.length,e.length);return i!==nn&&(i=E2e(t[0],t[f-1])),l=f>2?O2e:D2e,c=u=null,m}function m(f){return f==null||isNaN(f=+f)?o:(c||(c=l(t.map(n),e,r)))(n(i(f)))}return m.invert=function(f){return i(s((u||(u=l(e,t.map(n),Eb)))(f)))},m.domain=function(f){return arguments.length?(t=Array.from(f,Db),d()):t.slice()},m.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},m.rangeRound=function(f){return e=Array.from(f),r=pE,d()},m.clamp=function(f){return arguments.length?(i=f?!0:nn,d()):i!==nn},m.interpolate=function(f){return arguments.length?(r=f,d()):r},m.unknown=function(f){return arguments.length?(o=f,m):o},function(f,p){return n=f,s=p,d()}}function hE(){return Kj()(nn,nn)}function $2e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ob(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function bu(t){return t=Ob(Math.abs(t)),t?t[1]:NaN}function R2e(t,e){return function(r,n){for(var s=r.length,o=[],i=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),o.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return o.reverse().join(e)}}function L2e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var F2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uf(t){if(!(e=F2e.exec(t)))throw new Error("invalid format: "+t);var e;return new gE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Uf.prototype=gE.prototype;function gE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function M2e(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var _7;function _2e(t,e){var r=Ob(t,e);if(!r)return t+"";var n=r[0],s=r[1],o=s-(_7=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Ob(t,Math.max(0,e+o-1))[0]}function gF(t,e){var r=Ob(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const yF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$2e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gF(t*100,e),r:gF,s:_2e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xF(t){return t}var bF=Array.prototype.map,vF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function B2e(t){var e=t.grouping===void 0||t.thousands===void 0?xF:R2e(bF.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?xF:L2e(bF.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(m){m=Uf(m);var f=m.fill,p=m.align,h=m.sign,y=m.symbol,b=m.zero,g=m.width,x=m.comma,v=m.precision,w=m.trim,N=m.type;N==="n"?(x=!0,N="g"):yF[N]||(v===void 0&&(v=12),w=!0,N="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",C=y==="$"?n:/[%p]/.test(N)?i:"",A=yF[N],T=/[defgprs%]/.test(N);v=v===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function I(k){var $=S,L=C,q,E,R;if(N==="c")L=A(k)+L,k="";else{k=+k;var U=k<0||1/k<0;if(k=isNaN(k)?c:A(Math.abs(k),v),w&&(k=M2e(k)),U&&+k==0&&h!=="+"&&(U=!1),$=(U?h==="("?h:l:h==="-"||h==="("?"":h)+$,L=(N==="s"?vF[8+_7/3]:"")+L+(U&&h==="("?")":""),T){for(q=-1,E=k.length;++q<E;)if(R=k.charCodeAt(q),48>R||R>57){L=(R===46?s+k.slice(q+1):k.slice(q))+L,k=k.slice(0,q);break}}}x&&!b&&(k=e(k,1/0));var B=$.length+k.length+L.length,P=B<g?new Array(g-B+1).join(f):"";switch(x&&b&&(k=e(P+k,P.length?g-L.length:1/0),P=""),p){case"<":k=$+k+L+P;break;case"=":k=$+P+k+L;break;case"^":k=P.slice(0,B=P.length>>1)+$+k+L+P.slice(B);break;default:k=P+$+k+L;break}return o(k)}return I.toString=function(){return m+""},I}function d(m,f){var p=u((m=Uf(m),m.type="f",m)),h=Math.max(-8,Math.min(8,Math.floor(bu(f)/3)))*3,y=Math.pow(10,-h),b=vF[8+h/3];return function(g){return p(y*g)+b}}return{format:u,formatPrefix:d}}var Bh,yE,B7;q2e({thousands:",",grouping:[3],currency:["$",""]});function q2e(t){return Bh=B2e(t),yE=Bh.format,B7=Bh.formatPrefix,Bh}function V2e(t){return Math.max(0,-bu(Math.abs(t)))}function U2e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bu(e)/3)))*3-bu(Math.abs(t)))}function z2e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bu(e)-bu(t))+1}function q7(t,e,r,n){var s=EI(t,e,r),o;switch(n=Uf(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=U2e(s,i))&&(n.precision=o),B7(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=z2e(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=V2e(s))&&(n.precision=o-(n.type==="%")*2);break}}return yE(n)}function yi(t){var e=t.domain;return t.ticks=function(r){var n=e();return PI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return q7(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,o=n.length-1,i=n[s],l=n[o],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=s,s=o,o=u);d-- >0;){if(u=kI(i,l,r),u===c)return n[s]=i,n[o]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function $b(){var t=hE();return t.copy=function(){return Kp(t,$b())},ma.apply(t,arguments),yi(t)}function V7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Db),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return V7(t).unknown(e)},t=arguments.length?Array.from(t,Db):[0,1],yi(r)}function U7(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],o=t[n],i;return o<s&&(i=r,r=n,n=i,i=s,s=o,o=i),t[r]=e.floor(s),t[n]=e.ceil(o),t}function jF(t){return Math.log(t)}function NF(t){return Math.exp(t)}function W2e(t){return-Math.log(-t)}function G2e(t){return-Math.exp(-t)}function H2e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Y2e(t){return t===10?H2e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function K2e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function wF(t){return(e,r)=>-t(-e,r)}function xE(t){const e=t(jF,NF),r=e.domain;let n=10,s,o;function i(){return s=K2e(n),o=Y2e(n),r()[0]<0?(s=wF(s),o=wF(o),t(W2e,G2e)):t(jF,NF),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const m=d<u;m&&([u,d]=[d,u]);let f=s(u),p=s(d),h,y;const b=l==null?10:+l;let g=[];if(!(n%1)&&p-f<b){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(h=1;h<n;++h)if(y=f<0?h/o(-f):h*o(f),!(y<u)){if(y>d)break;g.push(y)}}else for(;f<=p;++f)for(h=n-1;h>=1;--h)if(y=f>0?h/o(-f):h*o(f),!(y<u)){if(y>d)break;g.push(y)}g.length*2<b&&(g=PI(u,d,b))}else g=PI(f,p,Math.min(p-f,b)).map(o);return m?g.reverse():g},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Uf(c)).precision==null&&(c.trim=!0),c=yE(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let m=d/o(Math.round(s(d)));return m*n<n-.5&&(m*=n),m<=u?c(d):""}},e.nice=()=>r(U7(r(),{floor:l=>o(Math.floor(s(l))),ceil:l=>o(Math.ceil(s(l)))})),e}function z7(){const t=xE(Kj()).domain([1,10]);return t.copy=()=>Kp(t,z7()).base(t.base()),ma.apply(t,arguments),t}function CF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function SF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function bE(t){var e=1,r=t(CF(e),SF(e));return r.constant=function(n){return arguments.length?t(CF(e=+n),SF(e)):e},yi(r)}function W7(){var t=bE(Kj());return t.copy=function(){return Kp(t,W7()).constant(t.constant())},ma.apply(t,arguments)}function AF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function J2e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function X2e(t){return t<0?-t*t:t*t}function vE(t){var e=t(nn,nn),r=1;function n(){return r===1?t(nn,nn):r===.5?t(J2e,X2e):t(AF(r),AF(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},yi(e)}function jE(){var t=vE(Kj());return t.copy=function(){return Kp(t,jE()).exponent(t.exponent())},ma.apply(t,arguments),t}function Z2e(){return jE.apply(null,arguments).exponent(.5)}function IF(t){return Math.sign(t)*t*t}function Q2e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function G7(){var t=hE(),e=[0,1],r=!1,n;function s(o){var i=Q2e(t(o));return isNaN(i)?n:r?Math.round(i):i}return s.invert=function(o){return t.invert(IF(o))},s.domain=function(o){return arguments.length?(t.domain(o),s):t.domain()},s.range=function(o){return arguments.length?(t.range((e=Array.from(o,Db)).map(IF)),s):e.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(t.clamp(o),s):t.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return G7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ma.apply(s,arguments),yi(s)}function H7(){var t=[],e=[],r=[],n;function s(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=a2e(t,i/l);return o}function o(i){return i==null||isNaN(i=+i)?n:e[Hp(r,i)]}return o.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},o.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Bo),s()},o.range=function(i){return arguments.length?(e=Array.from(i),s()):e.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return H7().domain(t).range(e).unknown(n)},ma.apply(o,arguments)}function Y7(){var t=0,e=1,r=1,n=[.5],s=[0,1],o;function i(c){return c!=null&&c<=c?s[Hp(n,c,0,r)]:o}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},i.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(o=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Y7().domain([t,e]).range(s).unknown(o)},ma.apply(yi(i),arguments)}function K7(){var t=[.5],e=[0,1],r,n=1;function s(o){return o!=null&&o<=o?e[Hp(t,o,0,n)]:r}return s.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(o){var i=e.indexOf(o);return[t[i-1],t[i]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return K7().domain(t).range(e).unknown(r)},ma.apply(s,arguments)}const Y1=new Date,K1=new Date;function Nr(t,e,r,n){function s(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(t(o=new Date(+o)),o),s.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),s.round=o=>{const i=s(o),l=s.ceil(o);return o-i<l-o?i:l},s.offset=(o,i)=>(e(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,l)=>{const c=[];if(o=s.ceil(o),l=l==null?1:Math.floor(l),!(o<i)||!(l>0))return c;let u;do c.push(u=new Date(+o)),e(o,l),t(o);while(u<o&&o<i);return c},s.filter=o=>Nr(i=>{if(i>=i)for(;t(i),!o(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!o(i););else for(;--l>=0;)for(;e(i,1),!o(i););}),r&&(s.count=(o,i)=>(Y1.setTime(+o),K1.setTime(+i),t(Y1),t(K1),Math.floor(r(Y1,K1))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?i=>n(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const Rb=Nr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Rb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Nr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Rb);Rb.range;const Ns=1e3,na=Ns*60,ws=na*60,Us=ws*24,NE=Us*7,TF=Us*30,J1=Us*365,zi=Nr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ns)},(t,e)=>(e-t)/Ns,t=>t.getUTCSeconds());zi.range;const wE=Nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getMinutes());wE.range;const CE=Nr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getUTCMinutes());CE.range;const SE=Nr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ns-t.getMinutes()*na)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getHours());SE.range;const AE=Nr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ws)},(t,e)=>(e-t)/ws,t=>t.getUTCHours());AE.range;const Jp=Nr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*na)/Us,t=>t.getDate()-1);Jp.range;const Jj=Nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>t.getUTCDate()-1);Jj.range;const J7=Nr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Us,t=>Math.floor(t/Us));J7.range;function Wl(t){return Nr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*na)/NE)}const Xj=Wl(0),Lb=Wl(1),eTe=Wl(2),tTe=Wl(3),vu=Wl(4),rTe=Wl(5),nTe=Wl(6);Xj.range;Lb.range;eTe.range;tTe.range;vu.range;rTe.range;nTe.range;function Gl(t){return Nr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/NE)}const Zj=Gl(0),Fb=Gl(1),aTe=Gl(2),sTe=Gl(3),ju=Gl(4),oTe=Gl(5),iTe=Gl(6);Zj.range;Fb.range;aTe.range;sTe.range;ju.range;oTe.range;iTe.range;const IE=Nr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IE.range;const TE=Nr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());TE.range;const zs=Nr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());zs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});zs.range;const Ws=Nr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ws.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Nr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ws.range;function X7(t,e,r,n,s,o){const i=[[zi,1,Ns],[zi,5,5*Ns],[zi,15,15*Ns],[zi,30,30*Ns],[o,1,na],[o,5,5*na],[o,15,15*na],[o,30,30*na],[s,1,ws],[s,3,3*ws],[s,6,6*ws],[s,12,12*ws],[n,1,Us],[n,2,2*Us],[r,1,NE],[e,1,TF],[e,3,3*TF],[t,1,J1]];function l(u,d,m){const f=d<u;f&&([u,d]=[d,u]);const p=m&&typeof m.range=="function"?m:c(u,d,m),h=p?p.range(u,+d+1):[];return f?h.reverse():h}function c(u,d,m){const f=Math.abs(d-u)/m,p=uE(([,,b])=>b).right(i,f);if(p===i.length)return t.every(EI(u/J1,d/J1,m));if(p===0)return Rb.every(Math.max(EI(u,d,m),1));const[h,y]=i[f/i[p-1][2]<i[p][2]/f?p-1:p];return h.every(y)}return[l,c]}const[lTe,cTe]=X7(Ws,TE,Zj,J7,AE,CE),[uTe,dTe]=X7(zs,IE,Xj,Jp,SE,wE);function X1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Z1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ud(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function mTe(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,o=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=zd(s),d=Wd(s),m=zd(o),f=Wd(o),p=zd(i),h=Wd(i),y=zd(l),b=Wd(l),g=zd(c),x=Wd(c),v={a:U,A:B,b:P,B:O,c:null,d:$F,e:$F,f:RTe,g:WTe,G:HTe,H:DTe,I:OTe,j:$Te,L:Z7,m:LTe,M:FTe,p:V,q:_,Q:FF,s:MF,S:MTe,u:_Te,U:BTe,V:qTe,w:VTe,W:UTe,x:null,X:null,y:zTe,Y:GTe,Z:YTe,"%":LF},w={a:H,A:G,b:re,B:ie,c:null,d:RF,e:RF,f:ZTe,g:lPe,G:uPe,H:KTe,I:JTe,j:XTe,L:e8,m:QTe,M:ePe,p:te,q:Z,Q:FF,s:MF,S:tPe,u:rPe,U:nPe,V:aPe,w:sPe,W:oPe,x:null,X:null,y:iPe,Y:cPe,Z:dPe,"%":LF},N={a:I,A:k,b:$,B:L,c:q,d:DF,e:DF,f:TTe,g:EF,G:kF,H:OF,I:OF,j:CTe,L:ITe,m:wTe,M:STe,p:T,q:NTe,Q:kTe,s:ETe,S:ATe,u:yTe,U:xTe,V:bTe,w:gTe,W:vTe,x:E,X:R,y:EF,Y:kF,Z:jTe,"%":PTe};v.x=S(r,v),v.X=S(n,v),v.c=S(e,v),w.x=S(r,w),w.X=S(n,w),w.c=S(e,w);function S(z,W){return function(X){var F=[],J=-1,ne=0,ue=z.length,ge,we,Ae;for(X instanceof Date||(X=new Date(+X));++J<ue;)z.charCodeAt(J)===37&&(F.push(z.slice(ne,J)),(we=PF[ge=z.charAt(++J)])!=null?ge=z.charAt(++J):we=ge==="e"?" ":"0",(Ae=W[ge])&&(ge=Ae(X,we)),F.push(ge),ne=J+1);return F.push(z.slice(ne,J)),F.join("")}}function C(z,W){return function(X){var F=Ud(1900,void 0,1),J=A(F,z,X+="",0),ne,ue;if(J!=X.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(W&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(ne=Z1(Ud(F.y,0,1)),ue=ne.getUTCDay(),ne=ue>4||ue===0?Fb.ceil(ne):Fb(ne),ne=Jj.offset(ne,(F.V-1)*7),F.y=ne.getUTCFullYear(),F.m=ne.getUTCMonth(),F.d=ne.getUTCDate()+(F.w+6)%7):(ne=X1(Ud(F.y,0,1)),ue=ne.getDay(),ne=ue>4||ue===0?Lb.ceil(ne):Lb(ne),ne=Jp.offset(ne,(F.V-1)*7),F.y=ne.getFullYear(),F.m=ne.getMonth(),F.d=ne.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),ue="Z"in F?Z1(Ud(F.y,0,1)).getUTCDay():X1(Ud(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(ue+5)%7:F.w+F.U*7-(ue+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Z1(F)):X1(F)}}function A(z,W,X,F){for(var J=0,ne=W.length,ue=X.length,ge,we;J<ne;){if(F>=ue)return-1;if(ge=W.charCodeAt(J++),ge===37){if(ge=W.charAt(J++),we=N[ge in PF?W.charAt(J++):ge],!we||(F=we(z,X,F))<0)return-1}else if(ge!=X.charCodeAt(F++))return-1}return F}function T(z,W,X){var F=u.exec(W.slice(X));return F?(z.p=d.get(F[0].toLowerCase()),X+F[0].length):-1}function I(z,W,X){var F=p.exec(W.slice(X));return F?(z.w=h.get(F[0].toLowerCase()),X+F[0].length):-1}function k(z,W,X){var F=m.exec(W.slice(X));return F?(z.w=f.get(F[0].toLowerCase()),X+F[0].length):-1}function $(z,W,X){var F=g.exec(W.slice(X));return F?(z.m=x.get(F[0].toLowerCase()),X+F[0].length):-1}function L(z,W,X){var F=y.exec(W.slice(X));return F?(z.m=b.get(F[0].toLowerCase()),X+F[0].length):-1}function q(z,W,X){return A(z,e,W,X)}function E(z,W,X){return A(z,r,W,X)}function R(z,W,X){return A(z,n,W,X)}function U(z){return i[z.getDay()]}function B(z){return o[z.getDay()]}function P(z){return c[z.getMonth()]}function O(z){return l[z.getMonth()]}function V(z){return s[+(z.getHours()>=12)]}function _(z){return 1+~~(z.getMonth()/3)}function H(z){return i[z.getUTCDay()]}function G(z){return o[z.getUTCDay()]}function re(z){return c[z.getUTCMonth()]}function ie(z){return l[z.getUTCMonth()]}function te(z){return s[+(z.getUTCHours()>=12)]}function Z(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var W=S(z+="",v);return W.toString=function(){return z},W},parse:function(z){var W=C(z+="",!1);return W.toString=function(){return z},W},utcFormat:function(z){var W=S(z+="",w);return W.toString=function(){return z},W},utcParse:function(z){var W=C(z+="",!0);return W.toString=function(){return z},W}}}var PF={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,fTe=/^%/,pTe=/[\\^$*+?|[\]().{}]/g;function ct(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",o=s.length;return n+(o<r?new Array(r-o+1).join(e)+s:s)}function hTe(t){return t.replace(pTe,"\\$&")}function zd(t){return new RegExp("^(?:"+t.map(hTe).join("|")+")","i")}function Wd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function gTe(t,e,r){var n=Pr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function yTe(t,e,r){var n=Pr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function xTe(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function bTe(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function vTe(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function kF(t,e,r){var n=Pr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function EF(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jTe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function NTe(t,e,r){var n=Pr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function wTe(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function DF(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function CTe(t,e,r){var n=Pr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function OF(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function STe(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ATe(t,e,r){var n=Pr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ITe(t,e,r){var n=Pr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function TTe(t,e,r){var n=Pr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function PTe(t,e,r){var n=fTe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function kTe(t,e,r){var n=Pr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ETe(t,e,r){var n=Pr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function $F(t,e){return ct(t.getDate(),e,2)}function DTe(t,e){return ct(t.getHours(),e,2)}function OTe(t,e){return ct(t.getHours()%12||12,e,2)}function $Te(t,e){return ct(1+Jp.count(zs(t),t),e,3)}function Z7(t,e){return ct(t.getMilliseconds(),e,3)}function RTe(t,e){return Z7(t,e)+"000"}function LTe(t,e){return ct(t.getMonth()+1,e,2)}function FTe(t,e){return ct(t.getMinutes(),e,2)}function MTe(t,e){return ct(t.getSeconds(),e,2)}function _Te(t){var e=t.getDay();return e===0?7:e}function BTe(t,e){return ct(Xj.count(zs(t)-1,t),e,2)}function Q7(t){var e=t.getDay();return e>=4||e===0?vu(t):vu.ceil(t)}function qTe(t,e){return t=Q7(t),ct(vu.count(zs(t),t)+(zs(t).getDay()===4),e,2)}function VTe(t){return t.getDay()}function UTe(t,e){return ct(Lb.count(zs(t)-1,t),e,2)}function zTe(t,e){return ct(t.getFullYear()%100,e,2)}function WTe(t,e){return t=Q7(t),ct(t.getFullYear()%100,e,2)}function GTe(t,e){return ct(t.getFullYear()%1e4,e,4)}function HTe(t,e){var r=t.getDay();return t=r>=4||r===0?vu(t):vu.ceil(t),ct(t.getFullYear()%1e4,e,4)}function YTe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ct(e/60|0,"0",2)+ct(e%60,"0",2)}function RF(t,e){return ct(t.getUTCDate(),e,2)}function KTe(t,e){return ct(t.getUTCHours(),e,2)}function JTe(t,e){return ct(t.getUTCHours()%12||12,e,2)}function XTe(t,e){return ct(1+Jj.count(Ws(t),t),e,3)}function e8(t,e){return ct(t.getUTCMilliseconds(),e,3)}function ZTe(t,e){return e8(t,e)+"000"}function QTe(t,e){return ct(t.getUTCMonth()+1,e,2)}function ePe(t,e){return ct(t.getUTCMinutes(),e,2)}function tPe(t,e){return ct(t.getUTCSeconds(),e,2)}function rPe(t){var e=t.getUTCDay();return e===0?7:e}function nPe(t,e){return ct(Zj.count(Ws(t)-1,t),e,2)}function t8(t){var e=t.getUTCDay();return e>=4||e===0?ju(t):ju.ceil(t)}function aPe(t,e){return t=t8(t),ct(ju.count(Ws(t),t)+(Ws(t).getUTCDay()===4),e,2)}function sPe(t){return t.getUTCDay()}function oPe(t,e){return ct(Fb.count(Ws(t)-1,t),e,2)}function iPe(t,e){return ct(t.getUTCFullYear()%100,e,2)}function lPe(t,e){return t=t8(t),ct(t.getUTCFullYear()%100,e,2)}function cPe(t,e){return ct(t.getUTCFullYear()%1e4,e,4)}function uPe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ju(t):ju.ceil(t),ct(t.getUTCFullYear()%1e4,e,4)}function dPe(){return"+0000"}function LF(){return"%"}function FF(t){return+t}function MF(t){return Math.floor(+t/1e3)}var ac,r8,n8;mPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mPe(t){return ac=mTe(t),r8=ac.format,ac.parse,n8=ac.utcFormat,ac.utcParse,ac}function fPe(t){return new Date(t)}function pPe(t){return t instanceof Date?+t:+new Date(+t)}function PE(t,e,r,n,s,o,i,l,c,u){var d=hE(),m=d.invert,f=d.domain,p=u(".%L"),h=u(":%S"),y=u("%I:%M"),b=u("%I %p"),g=u("%a %d"),x=u("%b %d"),v=u("%B"),w=u("%Y");function N(S){return(c(S)<S?p:l(S)<S?h:i(S)<S?y:o(S)<S?b:n(S)<S?s(S)<S?g:x:r(S)<S?v:w)(S)}return d.invert=function(S){return new Date(m(S))},d.domain=function(S){return arguments.length?f(Array.from(S,pPe)):f().map(fPe)},d.ticks=function(S){var C=f();return t(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?N:u(C)},d.nice=function(S){var C=f();return(!S||typeof S.range!="function")&&(S=e(C[0],C[C.length-1],S??10)),S?f(U7(C,S)):d},d.copy=function(){return Kp(d,PE(t,e,r,n,s,o,i,l,c,u))},d}function hPe(){return ma.apply(PE(uTe,dTe,zs,IE,Xj,Jp,SE,wE,zi,r8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gPe(){return ma.apply(PE(lTe,cTe,Ws,TE,Zj,Jj,AE,CE,zi,n8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qj(){var t=0,e=1,r,n,s,o,i=nn,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:i(s===0?.5:(m=(o(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([t,e]=m,r=o(t=+t),n=o(e=+e),s=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(i=m,u):i};function d(m){return function(f){var p,h;return arguments.length?([p,h]=f,i=m(p,h),u):[i(0),i(1)]}}return u.range=d(id),u.rangeRound=d(pE),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return o=m,r=m(t),n=m(e),s=r===n?0:1/(n-r),u}}function xi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function a8(){var t=yi(Qj()(nn));return t.copy=function(){return xi(t,a8())},no.apply(t,arguments)}function s8(){var t=xE(Qj()).domain([1,10]);return t.copy=function(){return xi(t,s8()).base(t.base())},no.apply(t,arguments)}function o8(){var t=bE(Qj());return t.copy=function(){return xi(t,o8()).constant(t.constant())},no.apply(t,arguments)}function kE(){var t=vE(Qj());return t.copy=function(){return xi(t,kE()).exponent(t.exponent())},no.apply(t,arguments)}function yPe(){return kE.apply(null,arguments).exponent(.5)}function i8(){var t=[],e=nn;function r(n){if(n!=null&&!isNaN(n=+n))return e((Hp(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Bo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,o)=>n2e(t,o/n))},r.copy=function(){return i8(e).domain(t)},no.apply(r,arguments)}function eN(){var t=0,e=.5,r=1,n=1,s,o,i,l,c,u=nn,d,m=!1,f;function p(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-o)*(n*y<n*o?l:c),u(m?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,s=d(t=+t),o=d(e=+e),i=d(r=+r),l=s===o?0:.5/(o-s),c=o===i?0:.5/(i-o),n=o<s?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(m=!!y,p):m},p.interpolator=function(y){return arguments.length?(u=y,p):u};function h(y){return function(b){var g,x,v;return arguments.length?([g,x,v]=b,u=P2e(y,[g,x,v]),p):[u(0),u(.5),u(1)]}}return p.range=h(id),p.rangeRound=h(pE),p.unknown=function(y){return arguments.length?(f=y,p):f},function(y){return d=y,s=y(t),o=y(e),i=y(r),l=s===o?0:.5/(o-s),c=o===i?0:.5/(i-o),n=o<s?-1:1,p}}function l8(){var t=yi(eN()(nn));return t.copy=function(){return xi(t,l8())},no.apply(t,arguments)}function c8(){var t=xE(eN()).domain([.1,1,10]);return t.copy=function(){return xi(t,c8()).base(t.base())},no.apply(t,arguments)}function u8(){var t=bE(eN());return t.copy=function(){return xi(t,u8()).constant(t.constant())},no.apply(t,arguments)}function EE(){var t=vE(eN());return t.copy=function(){return xi(t,EE()).exponent(t.exponent())},no.apply(t,arguments)}function xPe(){return EE.apply(null,arguments).exponent(.5)}const _F=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_f,scaleDiverging:l8,scaleDivergingLog:c8,scaleDivergingPow:EE,scaleDivergingSqrt:xPe,scaleDivergingSymlog:u8,scaleIdentity:V7,scaleImplicit:DI,scaleLinear:$b,scaleLog:z7,scaleOrdinal:dE,scalePoint:Dm,scalePow:jE,scaleQuantile:H7,scaleQuantize:Y7,scaleRadial:G7,scaleSequential:a8,scaleSequentialLog:s8,scaleSequentialPow:kE,scaleSequentialQuantile:i8,scaleSequentialSqrt:yPe,scaleSequentialSymlog:o8,scaleSqrt:Z2e,scaleSymlog:W7,scaleThreshold:K7,scaleTime:hPe,scaleUtc:gPe,tickFormat:q7},Symbol.toStringTag,{value:"Module"}));var bPe=Zu;function vPe(t,e,r){for(var n=-1,s=t.length;++n<s;){var o=t[n],i=e(o);if(i!=null&&(l===void 0?i===i&&!bPe(i):r(i,l)))var l=i,c=o}return c}var tN=vPe;function jPe(t,e){return t>e}var d8=jPe,NPe=tN,wPe=d8,CPe=sd;function SPe(t){return t&&t.length?NPe(t,CPe,wPe):void 0}var APe=SPe;const rN=ut(APe);function IPe(t,e){return t<e}var m8=IPe,TPe=tN,PPe=m8,kPe=sd;function EPe(t){return t&&t.length?TPe(t,kPe,PPe):void 0}var DPe=EPe;const nN=ut(DPe);var OPe=Wk,$Pe=ds,RPe=v7,LPe=Sn;function FPe(t,e){var r=LPe(t)?OPe:RPe;return r(t,$Pe(e))}var MPe=FPe,_Pe=x7,BPe=MPe;function qPe(t,e){return _Pe(BPe(t,e),1)}var VPe=qPe;const UPe=ut(VPe);var zPe=oE;function WPe(t,e){return zPe(t,e)}var GPe=WPe;const aN=ut(GPe);var ld=1e9,HPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OE,zt=!0,ua="[DecimalError] ",nl=ua+"Invalid argument: ",DE=ua+"Exponent out of range: ",cd=Math.floor,Di=Math.pow,YPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pn,wr=1e7,Mt=7,f8=9007199254740991,Mb=cd(f8/Mt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,r,n,s,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Te.dividedBy=Te.div=function(t){return Es(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,r=e.constructor;return It(Es(e,new r(t),0,1),r.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return mr(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,r=this,n=r.constructor,s=n.precision,o=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Pn))throw Error(ua+"NaN");if(r.s<1)throw Error(ua+(r.s?"NaN":"-Infinity"));return r.eq(Pn)?new n(0):(zt=!1,e=Es(zf(r,o),zf(t,o),o),zt=!0,It(e,s))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?g8(e,t):p8(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(ua+"NaN");return r.s?(zt=!1,e=Es(r,t,0,1).times(t),zt=!0,r.minus(e)):It(new n(r),s)};Te.naturalExponential=Te.exp=function(){return h8(this)};Te.naturalLogarithm=Te.ln=function(){return zf(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?p8(e,t):g8(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(nl+t);if(e=mr(s)+1,n=s.d.length-1,r=n*Mt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Te.squareRoot=Te.sqrt=function(){var t,e,r,n,s,o,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ua+"NaN")}for(t=mr(l),zt=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Ka(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=cd((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=i=r+3;;)if(o=n,n=o.plus(Es(l,o,i+2)).times(.5),Ka(o.d).slice(0,i)===(e=Ka(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),s==i&&e=="4999"){if(It(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if(e!="9999")break;i+=4}return zt=!0,It(n,r)};Te.times=Te.mul=function(t){var e,r,n,s,o,i,l,c,u,d=this,m=d.constructor,f=d.d,p=(t=new m(t)).d;if(!d.s||!t.s)return new m(0);for(t.s*=d.s,r=d.e+t.e,c=f.length,u=p.length,c<u&&(o=f,f=p,p=o,i=c,c=u,u=i),o=[],i=c+u,n=i;n--;)o.push(0);for(n=u;--n>=0;){for(e=0,s=c+n;s>n;)l=o[s]+p[n]*f[s-n-1]+e,o[s--]=l%wr|0,e=l/wr|0;o[s]=(o[s]+e)%wr|0}for(;!o[--i];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,zt?It(t,m.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ls(t,0,ld),e===void 0?e=n.rounding:ls(e,0,8),It(r,t+mr(r)+1,e))};Te.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=Pl(n,!0):(ls(t,0,ld),e===void 0?e=s.rounding:ls(e,0,8),n=It(new s(n),t+1,e),r=Pl(n,!0,t+1)),r};Te.toFixed=function(t,e){var r,n,s=this,o=s.constructor;return t===void 0?Pl(s):(ls(t,0,ld),e===void 0?e=o.rounding:ls(e,0,8),n=It(new o(s),t+mr(s)+1,e),r=Pl(n.abs(),!1,t+mr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return It(new e(t),mr(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,r,n,s,o,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Pn);if(l=new c(l),!l.s){if(t.s<1)throw Error(ua+"Infinity");return l}if(l.eq(Pn))return l;if(n=c.precision,t.eq(Pn))return It(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,o=l.s,i){if((r=d<0?-d:d)<=f8){for(s=new c(Pn),e=Math.ceil(n/Mt+4),zt=!1;r%2&&(s=s.times(l),qF(s.d,e)),r=cd(r/2),r!==0;)l=l.times(l),qF(l.d,e);return zt=!0,t.s<0?new c(Pn).div(s):It(s,n)}}else if(o<0)throw Error(ua+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,zt=!1,s=t.times(zf(l,n+u)),zt=!0,s=h8(s),s.s=o,s};Te.toPrecision=function(t,e){var r,n,s=this,o=s.constructor;return t===void 0?(r=mr(s),n=Pl(s,r<=o.toExpNeg||r>=o.toExpPos)):(ls(t,1,ld),e===void 0?e=o.rounding:ls(e,0,8),s=It(new o(s),t,e),r=mr(s),n=Pl(s,t<=r||r<=o.toExpNeg,t)),n};Te.toSignificantDigits=Te.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ls(t,1,ld),e===void 0?e=n.rounding:ls(e,0,8)),It(new n(r),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mr(t),r=t.constructor;return Pl(t,e<=r.toExpNeg||e>=r.toExpPos)};function p8(t,e){var r,n,s,o,i,l,c,u,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),zt?It(e,m):e;if(c=t.d,u=e.d,i=t.e,s=e.e,c=c.slice(),o=i-s,o){for(o<0?(n=c,o=-o,l=u.length):(n=u,s=i,l=c.length),i=Math.ceil(m/Mt),l=i>l?i+1:l+1,o>l&&(o=l,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(l=c.length,o=u.length,l-o<0&&(o=l,n=u,u=c,c=n),r=0;o;)r=(c[--o]=c[o]+u[o]+r)/wr|0,c[o]%=wr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,zt?It(e,m):e}function ls(t,e,r){if(t!==~~t||t<e||t>r)throw Error(nl+t)}function Ka(t){var e,r,n,s=t.length-1,o="",i=t[0];if(s>0){for(o+=i,e=1;e<s;e++)n=t[e]+"",r=Mt-n.length,r&&(o+=ho(r)),o+=n;i=t[e],n=i+"",r=Mt-n.length,r&&(o+=ho(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Es=function(){function t(n,s){var o,i=0,l=n.length;for(n=n.slice();l--;)o=n[l]*s+i,n[l]=o%wr|0,i=o/wr|0;return i&&n.unshift(i),n}function e(n,s,o,i){var l,c;if(o!=i)c=o>i?1:-1;else for(l=c=0;l<o;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,o){for(var i=0;o--;)n[o]-=i,i=n[o]<s[o]?1:0,n[o]=i*wr+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,i){var l,c,u,d,m,f,p,h,y,b,g,x,v,w,N,S,C,A,T=n.constructor,I=n.s==s.s?1:-1,k=n.d,$=s.d;if(!n.s)return new T(n);if(!s.s)throw Error(ua+"Division by zero");for(c=n.e-s.e,C=$.length,N=k.length,p=new T(I),h=p.d=[],u=0;$[u]==(k[u]||0);)++u;if($[u]>(k[u]||0)&&--c,o==null?x=o=T.precision:i?x=o+(mr(n)-mr(s))+1:x=o,x<0)return new T(0);if(x=x/Mt+2|0,u=0,C==1)for(d=0,$=$[0],x++;(u<N||d)&&x--;u++)v=d*wr+(k[u]||0),h[u]=v/$|0,d=v%$|0;else{for(d=wr/($[0]+1)|0,d>1&&($=t($,d),k=t(k,d),C=$.length,N=k.length),w=C,y=k.slice(0,C),b=y.length;b<C;)y[b++]=0;A=$.slice(),A.unshift(0),S=$[0],$[1]>=wr/2&&++S;do d=0,l=e($,y,C,b),l<0?(g=y[0],C!=b&&(g=g*wr+(y[1]||0)),d=g/S|0,d>1?(d>=wr&&(d=wr-1),m=t($,d),f=m.length,b=y.length,l=e(m,y,f,b),l==1&&(d--,r(m,C<f?A:$,f))):(d==0&&(l=d=1),m=$.slice()),f=m.length,f<b&&m.unshift(0),r(y,m,b),l==-1&&(b=y.length,l=e($,y,C,b),l<1&&(d++,r(y,C<b?A:$,b))),b=y.length):l===0&&(d++,y=[0]),h[u++]=d,l&&y[0]?y[b++]=k[w]||0:(y=[k[w]],b=1);while((w++<N||y[0]!==void 0)&&x--)}return h[0]||h.shift(),p.e=c,It(p,i?o+mr(p)+1:o)}}();function h8(t,e){var r,n,s,o,i,l,c=0,u=0,d=t.constructor,m=d.precision;if(mr(t)>16)throw Error(DE+mr(t));if(!t.s)return new d(Pn);for(zt=!1,l=m,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(Di(2,u))/Math.LN10*2+5|0,l+=n,r=s=o=new d(Pn),d.precision=l;;){if(s=It(s.times(t),l),r=r.times(++c),i=o.plus(Es(s,r,l)),Ka(i.d).slice(0,l)===Ka(o.d).slice(0,l)){for(;u--;)o=It(o.times(o),l);return d.precision=m,e==null?(zt=!0,It(o,m)):o}o=i}}function mr(t){for(var e=t.e*Mt,r=t.d[0];r>=10;r/=10)e++;return e}function Q1(t,e,r){if(e>t.LN10.sd())throw zt=!0,r&&(t.precision=r),Error(ua+"LN10 precision limit exceeded");return It(new t(t.LN10),e)}function ho(t){for(var e="";t--;)e+="0";return e}function zf(t,e){var r,n,s,o,i,l,c,u,d,m=1,f=10,p=t,h=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(ua+(p.s?"NaN":"-Infinity"));if(p.eq(Pn))return new y(0);if(e==null?(zt=!1,u=b):u=e,p.eq(10))return e==null&&(zt=!0),Q1(y,u);if(u+=f,y.precision=u,r=Ka(h),n=r.charAt(0),o=mr(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Ka(p.d),n=r.charAt(0),m++;o=mr(p),n>1?(p=new y("0."+r),o++):p=new y(n+"."+r.slice(1))}else return c=Q1(y,u+2,b).times(o+""),p=zf(new y(n+"."+r.slice(1)),u-f).plus(c),y.precision=b,e==null?(zt=!0,It(p,b)):p;for(l=i=p=Es(p.minus(Pn),p.plus(Pn),u),d=It(p.times(p),u),s=3;;){if(i=It(i.times(d),u),c=l.plus(Es(i,new y(s),u)),Ka(c.d).slice(0,u)===Ka(l.d).slice(0,u))return l=l.times(2),o!==0&&(l=l.plus(Q1(y,u+2,b).times(o+""))),l=Es(l,new y(m),u),y.precision=b,e==null?(zt=!0,It(l,b)):l;l=c,s+=2}}function BF(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=cd(r/Mt),t.d=[],n=(r+1)%Mt,r<0&&(n+=Mt),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=Mt;n<s;)t.d.push(+e.slice(n,n+=Mt));e=e.slice(n),n=Mt-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),zt&&(t.e>Mb||t.e<-Mb))throw Error(DE+r)}else t.s=0,t.e=0,t.d=[0];return t}function It(t,e,r){var n,s,o,i,l,c,u,d,m=t.d;for(i=1,o=m[0];o>=10;o/=10)i++;if(n=e-i,n<0)n+=Mt,s=e,u=m[d=0];else{if(d=Math.ceil((n+1)/Mt),o=m.length,d>=o)return t;for(u=o=m[d],i=1;o>=10;o/=10)i++;n%=Mt,s=n-Mt+i}if(r!==void 0&&(o=Di(10,i-s-1),l=u/o%10|0,c=e<0||m[d+1]!==void 0||u%o,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Di(10,i-s):0:m[d-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(o=mr(t),m.length=1,e=e-o-1,m[0]=Di(10,(Mt-e%Mt)%Mt),t.e=cd(-e/Mt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=d,o=1,d--):(m.length=d+1,o=Di(10,Mt-n),m[d]=s>0?(u/Di(10,i-s)%Di(10,s)|0)*o:0),c)for(;;)if(d==0){(m[0]+=o)==wr&&(m[0]=1,++t.e);break}else{if(m[d]+=o,m[d]!=wr)break;m[d--]=0,o=1}for(n=m.length;m[--n]===0;)m.pop();if(zt&&(t.e>Mb||t.e<-Mb))throw Error(DE+mr(t));return t}function g8(t,e){var r,n,s,o,i,l,c,u,d,m,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),zt?It(e,p):e;if(c=t.d,m=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=m.length):(r=m,n=u,l=c.length),s=Math.max(Math.ceil(p/Mt),l)+2,i>s&&(i=s,r.length=1),r.reverse(),s=i;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){d=c[s]<m[s];break}i=0}for(d&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>i;){if(c[--s]<m[s]){for(o=s;o&&c[--o]===0;)c[o]=wr-1;--c[o],c[s]+=wr}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,zt?It(e,p):e):new f(0)}function Pl(t,e,r){var n,s=mr(t),o=Ka(t.d),i=o.length;return e?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+ho(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+ho(-s-1)+o,r&&(n=r-i)>0&&(o+=ho(n))):s>=i?(o+=ho(s+1-i),r&&(n=r-s-1)>0&&(o=o+"."+ho(n))):((n=s+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(s+1===i&&(o+="."),o+=ho(n))),t.s<0?"-"+o:o}function qF(t,e){if(t.length>e)return t.length=e,!0}function y8(t){var e,r,n;function s(o){var i=this;if(!(i instanceof s))return new s(o);if(i.constructor=s,o instanceof s){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(nl+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return BF(i,o.toString())}else if(typeof o!="string")throw Error(nl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,YPe.test(o))BF(i,o);else throw Error(nl+o)}if(s.prototype=Te,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=y8,s.config=s.set=KPe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function KPe(t){if(!t||typeof t!="object")throw Error(ua+"Object expected");var e,r,n,s=["precision",1,ld,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(cd(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(nl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(nl+r+": "+n);return this}var OE=y8(HPe);Pn=new OE(1);const wt=OE;function JPe(t){return eke(t)||QPe(t)||ZPe(t)||XPe()}function XPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZPe(t,e){if(t){if(typeof t=="string")return LI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LI(t,e)}}function QPe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eke(t){if(Array.isArray(t))return LI(t)}function LI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tke=function(e){return e},x8={},b8=function(e){return e===x8},VF=function(e){return function r(){return arguments.length===0||arguments.length===1&&b8(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},rke=function t(e,r){return e===1?r:VF(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var i=s.filter(function(l){return l!==x8}).length;return i>=e?r.apply(void 0,s):t(e-i,VF(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(m){return b8(m)?c.shift():m});return r.apply(void 0,JPe(d).concat(c))}))})},sN=function(e){return rke(e.length,e)},FI=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},nke=sN(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),ake=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return tke;var s=r.reverse(),o=s[0],i=s.slice(1);return function(){return i.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},MI=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},v8=function(e){var r=null,n=null;return function(){for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r&&o.every(function(l,c){return l===r[c]})||(r=o,n=e.apply(void 0,o)),n}};function ske(t){var e;return t===0?e=1:e=Math.floor(new wt(t).abs().log(10).toNumber())+1,e}function oke(t,e,r){for(var n=new wt(t),s=0,o=[];n.lt(e)&&s<1e5;)o.push(n.toNumber()),n=n.add(r),s++;return o}var ike=sN(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),lke=sN(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),cke=sN(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const oN={rangeStep:oke,getDigitCount:ske,interpolateNumber:ike,uninterpolateNumber:lke,uninterpolateTruncation:cke};function _I(t){return mke(t)||dke(t)||j8(t)||uke()}function uke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dke(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mke(t){if(Array.isArray(t))return BI(t)}function Wf(t,e){return hke(t)||pke(t,e)||j8(t,e)||fke()}function fke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(t,e){if(t){if(typeof t=="string")return BI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BI(t,e)}}function BI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pke(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,o=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,o=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(s)throw o}}return r}}function hke(t){if(Array.isArray(t))return t}function N8(t){var e=Wf(t,2),r=e[0],n=e[1],s=r,o=n;return r>n&&(s=n,o=r),[s,o]}function w8(t,e,r){if(t.lte(0))return new wt(0);var n=oN.getDigitCount(t.toNumber()),s=new wt(10).pow(n),o=t.div(s),i=n!==1?.05:.1,l=new wt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),c=l.mul(s);return e?c:new wt(Math.ceil(c))}function gke(t,e,r){var n=1,s=new wt(t);if(!s.isint()&&r){var o=Math.abs(t);o<1?(n=new wt(10).pow(oN.getDigitCount(t)-1),s=new wt(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new wt(Math.floor(t)))}else t===0?s=new wt(Math.floor((e-1)/2)):r||(s=new wt(Math.floor(t)));var i=Math.floor((e-1)/2),l=ake(nke(function(c){return s.add(new wt(c-i).mul(n)).toNumber()}),FI);return l(0,e)}function C8(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new wt(0),tickMin:new wt(0),tickMax:new wt(0)};var o=w8(new wt(e).sub(t).div(r-1),n,s),i;t<=0&&e>=0?i=new wt(0):(i=new wt(t).add(e).div(2),i=i.sub(new wt(i).mod(o)));var l=Math.ceil(i.sub(t).div(o).toNumber()),c=Math.ceil(new wt(e).sub(i).div(o).toNumber()),u=l+c+1;return u>r?C8(t,e,r,n,s+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:o,tickMin:i.sub(new wt(l).mul(o)),tickMax:i.add(new wt(c).mul(o))})}function yke(t){var e=Wf(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),l=N8([r,n]),c=Wf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var m=d===1/0?[u].concat(_I(FI(0,s-1).map(function(){return 1/0}))):[].concat(_I(FI(0,s-1).map(function(){return-1/0})),[d]);return r>n?MI(m):m}if(u===d)return gke(u,s,o);var f=C8(u,d,i,o),p=f.step,h=f.tickMin,y=f.tickMax,b=oN.rangeStep(h,y.add(new wt(.1).mul(p)),p);return r>n?MI(b):b}function xke(t,e){var r=Wf(t,2),n=r[0],s=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=N8([n,s]),l=Wf(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(e,2),m=w8(new wt(u).sub(c).div(d-1),o,0),f=[].concat(_I(oN.rangeStep(new wt(c),new wt(u).sub(new wt(.99).mul(m)),m)),[u]);return n>s?MI(f):f}var bke=v8(yke),vke=v8(xke),jke="Invariant failed";function kl(t,e){throw new Error(jke)}var Nke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(t)}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_b.apply(this,arguments)}function wke(t,e){return Ike(t)||Ake(t,e)||Ske(t,e)||Cke()}function Cke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ske(t,e){if(t){if(typeof t=="string")return UF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UF(t,e)}}function UF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ake(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function Ike(t){if(Array.isArray(t))return t}function Tke(t,e){if(t==null)return{};var r=Pke(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I8(n.key),n)}}function Dke(t,e,r){return e&&Eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oke(t,e,r){return e=Bb(e),$ke(t,S8()?Reflect.construct(e,r||[],Bb(t).constructor):e.apply(t,r))}function $ke(t,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rke(t)}function Rke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S8=function(){return!!t})()}function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(t)}function Lke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qI(t,e)}function qI(t,e){return qI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qI(t,e)}function A8(t,e,r){return e=I8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I8(t){var e=Fke(t,"string");return Nu(e)=="symbol"?e:e+""}function Fke(t,e){if(Nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iN=function(t){function e(){return kke(this,e),Oke(this,e,arguments)}return Lke(e,t),Dke(e,[{key:"render",value:function(){var n=this.props,s=n.offset,o=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,m=n.yAxis,f=Tke(n,Nke),p=We(f,!1);this.props.direction==="x"&&d.type!=="number"&&kl();var h=c.map(function(y){var b=u(y,l),g=b.x,x=b.y,v=b.value,w=b.errorVal;if(!w)return null;var N=[],S,C;if(Array.isArray(w)){var A=wke(w,2);S=A[0],C=A[1]}else S=C=w;if(o==="vertical"){var T=d.scale,I=x+s,k=I+i,$=I-i,L=T(v-S),q=T(v+C);N.push({x1:q,y1:k,x2:q,y2:$}),N.push({x1:L,y1:I,x2:q,y2:I}),N.push({x1:L,y1:k,x2:L,y2:$})}else if(o==="horizontal"){var E=m.scale,R=g+s,U=R-i,B=R+i,P=E(v-S),O=E(v+C);N.push({x1:U,y1:O,x2:B,y2:O}),N.push({x1:R,y1:P,x2:R,y2:O}),N.push({x1:U,y1:P,x2:B,y2:P})}return Q.createElement(xt,_b({className:"recharts-errorBar",key:"bar-".concat(N.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},p),N.map(function(V){return Q.createElement("line",_b({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return Q.createElement(xt,{className:"recharts-errorBars"},h)}}])}(Q.Component);A8(iN,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});A8(iN,"displayName","ErrorBar");function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){Mke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mke(t,e,r){return e=_ke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ke(t){var e=Bke(t,"string");return Gf(e)=="symbol"?e:e+""}function Bke(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T8=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,o=e.legendContent,i=Tn(r,ka);if(!i)return null;var l=ka.defaultProps,c=l!==void 0?wi(wi({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:o==="children"?u=(n||[]).reduce(function(d,m){var f=m.item,p=m.props,h=p.sectors||p.data||[];return d.concat(h.map(function(y){return{type:i.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var m=d.item,f=m.type.defaultProps,p=f!==void 0?wi(wi({},f),m.props):{},h=p.dataKey,y=p.name,b=p.legendType,g=p.hide;return{inactive:g,dataKey:h,type:c.iconType||b||"square",color:$E(m),value:y||h,payload:p}}),wi(wi(wi({},c),ka.getWithHeight(i,s)),{},{payload:u,item:i})};function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function WF(t){return zke(t)||Uke(t)||Vke(t)||qke()}function qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vke(t,e){if(t){if(typeof t=="string")return VI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VI(t,e)}}function Uke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zke(t){if(Array.isArray(t))return VI(t)}function VI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GF(Object(r),!0).forEach(function(n){qc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qc(t,e,r){return e=Wke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wke(t){var e=Gke(t,"string");return Hf(e)=="symbol"?e:e+""}function Gke(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yr(t,e,r){return et(t)||et(e)?r:jr(e)?$n(t,e,r):Ge(e)?e(t):r}function Om(t,e,r,n){var s=UPe(t,function(l){return Yr(l,e)});if(r==="number"){var o=s.filter(function(l){return ve(l)||parseFloat(l)});return o.length?[nN(o),rN(o)]:[1/0,-1/0]}var i=n?s.filter(function(l){return!et(l)}):s;return i.map(function(l){return jr(l)||l instanceof Date?l:""})}var Hke=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,m=s[u].coordinate,f=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(tn(m-d)!==tn(f-m)){var h=[];if(tn(f-m)===tn(c[1]-c[0])){p=f;var y=m+c[1]-c[0];h[0]=Math.min(y,(y+d)/2),h[1]=Math.max(y,(y+d)/2)}else{p=d;var b=f+c[1]-c[0];h[0]=Math.min(m,(b+m)/2),h[1]=Math.max(m,(b+m)/2)}var g=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){i=s[u].index;break}}else{var x=Math.min(d,f),v=Math.max(d,f);if(e>(x+m)/2&&e<=(v+m)/2){i=s[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&e>(n[w].coordinate+n[w-1].coordinate)/2&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&e>(n[w].coordinate+n[w-1].coordinate)/2){i=n[w].index;break}return i},$E=function(e){var r,n=e,s=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,i=o.stroke,l=o.fill,c;switch(s){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},Yke=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,o=s===void 0?{}:s;if(!o)return{};for(var i={},l=Object.keys(o),c=0,u=l.length;c<u;c++)for(var d=o[l[c]].stackGroups,m=Object.keys(d),f=0,p=m.length;f<p;f++){var h=d[m[f]],y=h.items,b=h.cateAxisId,g=y.filter(function(C){return ks(C.type).indexOf("Bar")>=0});if(g&&g.length){var x=g[0].type.defaultProps,v=x!==void 0?Qt(Qt({},x),g[0].props):g[0].props,w=v.barSize,N=v[b];i[N]||(i[N]=[]);var S=et(w)?r:w;i[N].push({item:g[0],stackList:g.slice(1),barSize:et(S)?void 0:rn(S,n,0)})}}return i},Kke=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,o=e.sizeList,i=o===void 0?[]:o,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=rn(r,s,0,!0),d,m=[];if(i[0].barSize===+i[0].barSize){var f=!1,p=s/c,h=i.reduce(function(w,N){return w+N.barSize||0},0);h+=(c-1)*u,h>=s&&(h-=(c-1)*u,u=0),h>=s&&p>0&&(f=!0,p*=.9,h=c*p);var y=(s-h)/2>>0,b={offset:y-u,size:0};d=i.reduce(function(w,N){var S={item:N.item,position:{offset:b.offset+b.size+u,size:f?p:N.barSize}},C=[].concat(WF(w),[S]);return b=C[C.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){C.push({item:A,position:b})}),C},m)}else{var g=rn(n,s,0,!0);s-2*g-(c-1)*u<=0&&(u=0);var x=(s-2*g-(c-1)*u)/c;x>1&&(x>>=0);var v=l===+l?Math.min(x,l):x;d=i.reduce(function(w,N,S){var C=[].concat(WF(w),[{item:N.item,position:{offset:g+(x+u)*S+(x-v)/2,size:v}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(A){C.push({item:A,position:C[C.length-1].position})}),C},m)}return d},Jke=function(e,r,n,s){var o=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=T8({children:o,legendWidth:c});if(u){var d=s||{},m=d.width,f=d.height,p=u.align,h=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&h==="middle")&&p!=="center"&&ve(e[p]))return Qt(Qt({},e),{},qc({},p,e[p]+(m||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&h!=="middle"&&ve(e[h]))return Qt(Qt({},e),{},qc({},h,e[h]+(f||0)))}return e},Xke=function(e,r,n){return et(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},P8=function(e,r,n,s,o){var i=r.props.children,l=oa(i,iN).filter(function(u){return Xke(s,o,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var m=Yr(d,n);if(et(m))return u;var f=Array.isArray(m)?[nN(m),rN(m)]:[m,m],p=c.reduce(function(h,y){var b=Yr(d,y,0),g=f[0]-Math.abs(Array.isArray(b)?b[0]:b),x=f[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(g,h[0]),Math.max(x,h[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Zke=function(e,r,n,s,o){var i=r.map(function(l){return P8(e,l,n,o,s)}).filter(function(l){return!et(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},k8=function(e,r,n,s,o){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&P8(e,c,u,s)||Om(e,u,n,o)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,m=u.length;d<m;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},E8=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},D8=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var o,i,l=e.map(function(c){return c.coordinate===r&&(o=!0),c.coordinate===n&&(i=!0),c.coordinate});return o||l.push(r),i||l.push(n),l},Cs=function(e,r,n){if(!e)return null;var s=e.scale,o=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&i==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?tn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(m){var f=o?o.indexOf(m):m;return{coordinate:s(f)+u,value:m,offset:u}});return d.filter(function(m){return!zp(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,f){return{coordinate:s(m)+u,value:m,index:f,offset:u}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(m){return{coordinate:s(m)+u,value:m,offset:u}}):s.domain().map(function(m,f){return{coordinate:s(m)+u,value:o?o[m]:m,index:f,offset:u}})},eC=new WeakMap,qh=function(e,r){if(typeof r!="function")return e;eC.has(e)||eC.set(e,new WeakMap);var n=eC.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},O8=function(e,r,n){var s=e.scale,o=e.type,i=e.layout,l=e.axisType;if(s==="auto")return i==="radial"&&l==="radiusAxis"?{scale:_f(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:$b(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dm(),realScaleType:"point"}:o==="category"?{scale:_f(),realScaleType:"band"}:{scale:$b(),realScaleType:"linear"};if(Al(s)){var c="scale".concat(Vj(s));return{scale:(_F[c]||Dm)(),realScaleType:_F[c]?c:"point"}}return Ge(s)?{scale:s}:{scale:Dm(),realScaleType:"point"}},HF=1e-4,$8=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),o=Math.min(s[0],s[1])-HF,i=Math.max(s[0],s[1])+HF,l=e(r[0]),c=e(r[n-1]);(l<o||l>i||c<o||c>i)&&e.domain([r[0],r[n-1]])}},Qke=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},eEe=function(e,r){if(!r||r.length!==2||!ve(r[0])||!ve(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!ve(e[0])||e[0]<n)&&(o[0]=n),(!ve(e[1])||e[1]>s)&&(o[1]=s),o[0]>s&&(o[0]=s),o[1]<n&&(o[1]=n),o},tEe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var o=0,i=0,l=0;l<r;++l){var c=zp(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},rEe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var o=0,i=0;i<r;++i){var l=zp(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=o,e[i][n][1]=o+l,o=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},nEe={sign:tEe,expand:Nbe,none:fu,silhouette:wbe,wiggle:Cbe,positive:rEe},aEe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),o=nEe[n],i=jbe().keys(s).value(function(l,c){return+Yr(l,c,0)}).order(fI).offset(o);return i(e)},sEe=function(e,r,n,s,o,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(m,f){var p,h=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Qt(Qt({},f.type.defaultProps),f.props):f.props,y=h.stackId,b=h.hide;if(b)return m;var g=h[n],x=m[g]||{hasStack:!1,stackGroups:{}};if(jr(y)){var v=x.stackGroups[y]||{numericAxisId:n,cateAxisId:s,items:[]};v.items.push(f),x.hasStack=!0,x.stackGroups[y]=v}else x.stackGroups[Wp("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[f]};return Qt(Qt({},m),{},qc({},g,x))},c),d={};return Object.keys(u).reduce(function(m,f){var p=u[f];if(p.hasStack){var h={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var g=p.stackGroups[b];return Qt(Qt({},y),{},qc({},b,{numericAxisId:n,cateAxisId:s,items:g.items,stackedData:aEe(e,g.items,o)}))},h)}return Qt(Qt({},m),{},qc({},f,p))},d)},R8=function(e,r){var n=r.realScaleType,s=r.type,o=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&s==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=bke(u,o,l);return e.domain([nN(d),rN(d)]),{niceTicks:d}}if(o&&s==="number"){var m=e.domain(),f=vke(m,o,l);return{niceTicks:f}}return null},YF=function(e){var r=e.axis,n=e.ticks,s=e.offset,o=e.bandSize,i=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=Yr(i,r.dataKey,r.domain[l]);return et(c)?null:r.scale(c)-o/2+s},oEe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return s<=0&&o>=0?0:o<0?o:s}return n[0]},iEe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,o=s.stackId;if(jr(o)){var i=r[o];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},lEe=function(e){return e.reduce(function(r,n){return[nN(n.concat([r[0]]).filter(ve)),rN(n.concat([r[1]]).filter(ve))]},[1/0,-1/0])},L8=function(e,r,n){return Object.keys(e).reduce(function(s,o){var i=e[o],l=i.stackedData,c=l.reduce(function(u,d){var m=lEe(d.slice(r,n+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},KF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UI=function(e,r,n){if(Ge(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(ve(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(KF.test(e[0])){var o=+KF.exec(e[0])[1];s[0]=r[0]-o}else Ge(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(ve(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(JF.test(e[1])){var i=+JF.exec(e[1])[1];s[1]=r[1]+i}else Ge(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},qb=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var o=lE(r,function(m){return m.coordinate}),i=1/0,l=1,c=o.length;l<c;l++){var u=o[l],d=o[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},XF=function(e,r,n){return!e||!e.length||aN(e,$n(n,"type.defaultProps.domain"))?r:e},F8=function(e,r){var n=e.type.defaultProps?Qt(Qt({},e.type.defaultProps),e.props):e.props,s=n.dataKey,o=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Qt(Qt({},We(e,!1)),{},{dataKey:s,unit:i,formatter:l,name:o||s,color:$E(e),value:Yr(r,s),type:c,payload:r,chartType:u,hide:d})};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){M8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M8(t,e,r){return e=cEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cEe(t){var e=uEe(t,"string");return Yf(e)=="symbol"?e:e+""}function uEe(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dEe(t,e){return hEe(t)||pEe(t,e)||fEe(t,e)||mEe()}function mEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fEe(t,e){if(t){if(typeof t=="string")return QF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QF(t,e)}}function QF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function hEe(t){if(Array.isArray(t))return t}var Vb=Math.PI/180,gEe=function(e){return e*180/Math.PI},Ot=function(e,r,n,s){return{x:e+Math.cos(-Vb*s)*n,y:r+Math.sin(-Vb*s)*n}},_8=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},yEe=function(e,r,n,s,o){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=rn(e.cx,i,i/2),m=rn(e.cy,l,l/2),f=_8(i,l,n),p=rn(e.innerRadius,f,0),h=rn(e.outerRadius,f,f*.8),y=Object.keys(r);return y.reduce(function(b,g){var x=r[g],v=x.domain,w=x.reversed,N;if(et(x.range))s==="angleAxis"?N=[c,u]:s==="radiusAxis"&&(N=[p,h]),w&&(N=[N[1],N[0]]);else{N=x.range;var S=N,C=dEe(S,2);c=C[0],u=C[1]}var A=O8(x,o),T=A.realScaleType,I=A.scale;I.domain(v).range(N),$8(I);var k=R8(I,gs(gs({},x),{},{realScaleType:T})),$=gs(gs(gs({},x),k),{},{range:N,radius:h,realScaleType:T,scale:I,cx:d,cy:m,innerRadius:p,outerRadius:h,startAngle:c,endAngle:u});return gs(gs({},b),{},M8({},g,$))},{})},xEe=function(e,r){var n=e.x,s=e.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(s-i,2))},bEe=function(e,r){var n=e.x,s=e.y,o=r.cx,i=r.cy,l=xEe({x:n,y:s},{x:o,y:i});if(l<=0)return{radius:l};var c=(n-o)/l,u=Math.acos(c);return s>i&&(u=2*Math.PI-u),{radius:l,angle:gEe(u),angleInRadian:u}},vEe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(s,o);return{startAngle:r-i*360,endAngle:n-i*360}},jEe=function(e,r){var n=r.startAngle,s=r.endAngle,o=Math.floor(n/360),i=Math.floor(s/360),l=Math.min(o,i);return e+l*360},eM=function(e,r){var n=e.x,s=e.y,o=bEe({x:n,y:s},r),i=o.radius,l=o.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=vEe(r),m=d.startAngle,f=d.endAngle,p=l,h;if(m<=f){for(;p>f;)p-=360;for(;p<m;)p+=360;h=p>=m&&p<=f}else{for(;p>m;)p-=360;for(;p<f;)p+=360;h=p>=f&&p<=m}return h?gs(gs({},r),{},{radius:i,angle:jEe(p,r)}):null},B8=function(e){return!j.isValidElement(e)&&!Ge(e)&&typeof e!="boolean"?e.className:""};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}var NEe=["offset"];function wEe(t){return IEe(t)||AEe(t)||SEe(t)||CEe()}function CEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SEe(t,e){if(t){if(typeof t=="string")return zI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zI(t,e)}}function AEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IEe(t){if(Array.isArray(t))return zI(t)}function zI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TEe(t,e){if(t==null)return{};var r=PEe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(r),!0).forEach(function(n){kEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kEe(t,e,r){return e=EEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EEe(t){var e=DEe(t,"string");return Kf(e)=="symbol"?e:e+""}function DEe(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jf.apply(this,arguments)}var OEe=function(e){var r=e.value,n=e.formatter,s=et(e.children)?r:e.children;return Ge(n)?n(s):s},$Ee=function(e,r){var n=tn(r-e),s=Math.min(Math.abs(r-e),360);return n*s},REe=function(e,r,n){var s=e.position,o=e.viewBox,i=e.offset,l=e.className,c=o,u=c.cx,d=c.cy,m=c.innerRadius,f=c.outerRadius,p=c.startAngle,h=c.endAngle,y=c.clockWise,b=(m+f)/2,g=$Ee(p,h),x=g>=0?1:-1,v,w;s==="insideStart"?(v=p+x*i,w=y):s==="insideEnd"?(v=h-x*i,w=!y):s==="end"&&(v=h+x*i,w=y),w=g<=0?w:!w;var N=Ot(u,d,b,v),S=Ot(u,d,b,v+(w?1:-1)*359),C="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(w?0:1,`,
    `).concat(S.x,",").concat(S.y),A=et(e.id)?Wp("recharts-radial-line-"):e.id;return Q.createElement("text",Jf({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",l)}),Q.createElement("defs",null,Q.createElement("path",{id:A,d:C})),Q.createElement("textPath",{xlinkHref:"#".concat(A)},r))},LEe=function(e){var r=e.viewBox,n=e.offset,s=e.position,o=r,i=o.cx,l=o.cy,c=o.innerRadius,u=o.outerRadius,d=o.startAngle,m=o.endAngle,f=(d+m)/2;if(s==="outside"){var p=Ot(i,l,u+n,f),h=p.x,y=p.y;return{x:h,y,textAnchor:h>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,g=Ot(i,l,b,f),x=g.x,v=g.y;return{x,y:v,textAnchor:"middle",verticalAnchor:"middle"}},FEe=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,o=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,m=d>=0?1:-1,f=m*s,p=m>0?"end":"start",h=m>0?"start":"end",y=u>=0?1:-1,b=y*s,g=y>0?"end":"start",x=y>0?"start":"end";if(o==="top"){var v={x:l+u/2,y:c-m*s,textAnchor:"middle",verticalAnchor:p};return yr(yr({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(o==="bottom"){var w={x:l+u/2,y:c+d+f,textAnchor:"middle",verticalAnchor:h};return yr(yr({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(o==="left"){var N={x:l-b,y:c+d/2,textAnchor:g,verticalAnchor:"middle"};return yr(yr({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(o==="right"){var S={x:l+u+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return yr(yr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var C=n?{width:u,height:d}:{};return o==="insideLeft"?yr({x:l+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},C):o==="insideRight"?yr({x:l+u-b,y:c+d/2,textAnchor:g,verticalAnchor:"middle"},C):o==="insideTop"?yr({x:l+u/2,y:c+f,textAnchor:"middle",verticalAnchor:h},C):o==="insideBottom"?yr({x:l+u/2,y:c+d-f,textAnchor:"middle",verticalAnchor:p},C):o==="insideTopLeft"?yr({x:l+b,y:c+f,textAnchor:x,verticalAnchor:h},C):o==="insideTopRight"?yr({x:l+u-b,y:c+f,textAnchor:g,verticalAnchor:h},C):o==="insideBottomLeft"?yr({x:l+b,y:c+d-f,textAnchor:x,verticalAnchor:p},C):o==="insideBottomRight"?yr({x:l+u-b,y:c+d-f,textAnchor:g,verticalAnchor:p},C):Qu(o)&&(ve(o.x)||Vi(o.x))&&(ve(o.y)||Vi(o.y))?yr({x:l+rn(o.x,u),y:c+rn(o.y,d),textAnchor:"end",verticalAnchor:"end"},C):yr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},MEe=function(e){return"cx"in e&&ve(e.cx)};function Sr(t){var e=t.offset,r=e===void 0?5:e,n=TEe(t,NEe),s=yr({offset:r},n),o=s.viewBox,i=s.position,l=s.value,c=s.children,u=s.content,d=s.className,m=d===void 0?"":d,f=s.textBreakAll;if(!o||et(l)&&et(c)&&!j.isValidElement(u)&&!Ge(u))return null;if(j.isValidElement(u))return j.cloneElement(u,s);var p;if(Ge(u)){if(p=j.createElement(u,s),j.isValidElement(p))return p}else p=OEe(s);var h=MEe(o),y=We(s,!0);if(h&&(i==="insideStart"||i==="insideEnd"||i==="end"))return REe(s,p,y);var b=h?LEe(s):FEe(s);return Q.createElement(Tl,Jf({className:_e("recharts-label",m)},y,b,{breakAll:f}),p)}Sr.displayName="Label";var q8=function(e){var r=e.cx,n=e.cy,s=e.angle,o=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,m=e.x,f=e.y,p=e.top,h=e.left,y=e.width,b=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(ve(y)&&ve(b)){if(ve(m)&&ve(f))return{x:m,y:f,width:y,height:b};if(ve(p)&&ve(h))return{x:p,y:h,width:y,height:b}}return ve(m)&&ve(f)?{x:m,y:f,width:0,height:0}:ve(r)&&ve(n)?{cx:r,cy:n,startAngle:o||s||0,endAngle:i||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:g}:e.viewBox?e.viewBox:{}},_Ee=function(e,r){return e?e===!0?Q.createElement(Sr,{key:"label-implicit",viewBox:r}):jr(e)?Q.createElement(Sr,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===Sr?j.cloneElement(e,{key:"label-implicit",viewBox:r}):Q.createElement(Sr,{key:"label-implicit",content:e,viewBox:r}):Ge(e)?Q.createElement(Sr,{key:"label-implicit",content:e,viewBox:r}):Qu(e)?Q.createElement(Sr,Jf({viewBox:r},e,{key:"label-implicit"})):null:null},BEe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,o=q8(e),i=oa(s,Sr).map(function(c,u){return j.cloneElement(c,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return i;var l=_Ee(e.label,r||o);return[l].concat(wEe(i))};Sr.parseViewBox=q8;Sr.renderCallByParent=BEe;function qEe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var VEe=qEe;const UEe=ut(VEe);function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}var zEe=["valueAccessor"],WEe=["data","dataKey","clockWise","id","textBreakAll"];function GEe(t){return JEe(t)||KEe(t)||YEe(t)||HEe()}function HEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YEe(t,e){if(t){if(typeof t=="string")return WI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WI(t,e)}}function KEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JEe(t){if(Array.isArray(t))return WI(t)}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(this,arguments)}function rM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(r),!0).forEach(function(n){XEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XEe(t,e,r){return e=ZEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZEe(t){var e=QEe(t,"string");return Xf(e)=="symbol"?e:e+""}function QEe(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aM(t,e){if(t==null)return{};var r=eDe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var tDe=function(e){return Array.isArray(e.value)?UEe(e.value):e.value};function qo(t){var e=t.valueAccessor,r=e===void 0?tDe:e,n=aM(t,zEe),s=n.data,o=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=aM(n,WEe);return!s||!s.length?null:Q.createElement(xt,{className:"recharts-label-list"},s.map(function(d,m){var f=et(o)?r(d,m):Yr(d&&d.payload,o),p=et(l)?{}:{id:"".concat(l,"-").concat(m)};return Q.createElement(Sr,Ub({},We(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:c,viewBox:Sr.parseViewBox(et(i)?d:nM(nM({},d),{},{clockWise:i})),key:"label-".concat(m),index:m}))}))}qo.displayName="LabelList";function rDe(t,e){return t?t===!0?Q.createElement(qo,{key:"labelList-implicit",data:e}):Q.isValidElement(t)||Ge(t)?Q.createElement(qo,{key:"labelList-implicit",data:e,content:t}):Qu(t)?Q.createElement(qo,Ub({data:e},t,{key:"labelList-implicit"})):null:null}function nDe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=oa(n,qo).map(function(i,l){return j.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var o=rDe(t.label,e);return[o].concat(GEe(s))}qo.renderCallByParent=nDe;function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function GI(){return GI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GI.apply(this,arguments)}function sM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function oM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(r),!0).forEach(function(n){aDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aDe(t,e,r){return e=sDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sDe(t){var e=oDe(t,"string");return Zf(e)=="symbol"?e:e+""}function oDe(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iDe=function(e,r){var n=tn(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},Vh=function(e){var r=e.cx,n=e.cy,s=e.radius,o=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,m=Math.asin(c/d)/Vb,f=u?o:o+i*m,p=Ot(r,n,d,f),h=Ot(r,n,s,f),y=u?o-i*m:o,b=Ot(r,n,d*Math.cos(m*Vb),y);return{center:p,circleTangency:h,lineTangency:b,theta:m}},V8=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,o=e.outerRadius,i=e.startAngle,l=e.endAngle,c=iDe(i,l),u=i+c,d=Ot(r,n,o,i),m=Ot(r,n,o,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var p=Ot(r,n,s,i),h=Ot(r,n,s,u);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},lDe=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,o=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,m=tn(d-u),f=Vh({cx:r,cy:n,radius:o,angle:u,sign:m,cornerRadius:i,cornerIsExternal:c}),p=f.circleTangency,h=f.lineTangency,y=f.theta,b=Vh({cx:r,cy:n,radius:o,angle:d,sign:-m,cornerRadius:i,cornerIsExternal:c}),g=b.circleTangency,x=b.lineTangency,v=b.theta,w=c?Math.abs(u-d):Math.abs(u-d)-y-v;if(w<0)return l?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):V8({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d});var N="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(w>180),",").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
  `);if(s>0){var S=Vh({cx:r,cy:n,radius:s,angle:u,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),C=S.circleTangency,A=S.lineTangency,T=S.theta,I=Vh({cx:r,cy:n,radius:s,angle:d,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),k=I.circleTangency,$=I.lineTangency,L=I.theta,q=c?Math.abs(u-d):Math.abs(u-d)-T-L;if(q<0&&i===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(q>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},cDe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},U8=function(e){var r=oM(oM({},cDe),e),n=r.cx,s=r.cy,o=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,m=r.endAngle,f=r.className;if(i<o||d===m)return null;var p=_e("recharts-sector",f),h=i-o,y=rn(l,h,0,!0),b;return y>0&&Math.abs(d-m)<360?b=lDe({cx:n,cy:s,innerRadius:o,outerRadius:i,cornerRadius:Math.min(y,h/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:m}):b=V8({cx:n,cy:s,innerRadius:o,outerRadius:i,startAngle:d,endAngle:m}),Q.createElement("path",GI({},We(r,!0),{className:p,d:b,role:"img"}))};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function HI(){return HI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HI.apply(this,arguments)}function iM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(r),!0).forEach(function(n){uDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uDe(t,e,r){return e=dDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dDe(t){var e=mDe(t,"string");return Qf(e)=="symbol"?e:e+""}function mDe(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cM={curveBasisClosed:ube,curveBasisOpen:dbe,curveBasis:cbe,curveBumpX:K0e,curveBumpY:J0e,curveLinearClosed:mbe,curveLinear:zj,curveMonotoneX:fbe,curveMonotoneY:pbe,curveNatural:hbe,curveStep:gbe,curveStepAfter:xbe,curveStepBefore:ybe},Uh=function(e){return e.x===+e.x&&e.y===+e.y},Gd=function(e){return e.x},Hd=function(e){return e.y},fDe=function(e,r){if(Ge(e))return e;var n="curve".concat(Vj(e));return(n==="curveMonotone"||n==="curveBump")&&r?cM["".concat(n).concat(r==="vertical"?"Y":"X")]:cM[n]||zj},pDe=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,o=s===void 0?[]:s,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=fDe(n,l),m=u?o.filter(function(y){return Uh(y)}):o,f;if(Array.isArray(i)){var p=u?i.filter(function(y){return Uh(y)}):i,h=m.map(function(y,b){return lM(lM({},y),{},{base:p[b]})});return l==="vertical"?f=Oh().y(Hd).x1(Gd).x0(function(y){return y.base.x}):f=Oh().x(Gd).y1(Hd).y0(function(y){return y.base.y}),f.defined(Uh).curve(d),f(h)}return l==="vertical"&&ve(i)?f=Oh().y(Hd).x1(Gd).x0(i):ve(i)?f=Oh().x(Gd).y1(Hd).y0(i):f=FU().x(Gd).y(Hd),f.defined(Uh).curve(d),f(m)},YI=function(e){var r=e.className,n=e.points,s=e.path,o=e.pathRef;if((!n||!n.length)&&!s)return null;var i=n&&n.length?pDe(e):s;return j.createElement("path",HI({},We(e,!1),pb(e),{className:_e("recharts-curve",r),d:i,ref:o}))},z8={exports:{}},hDe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gDe=hDe,yDe=gDe;function W8(){}function G8(){}G8.resetWarningCache=W8;var xDe=function(){function t(n,s,o,i,l,c){if(c!==yDe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:G8,resetWarningCache:W8};return r.PropTypes=r,r};z8.exports=xDe();var bDe=z8.exports;const ft=ut(bDe);var vDe=Object.getOwnPropertyNames,jDe=Object.getOwnPropertySymbols,NDe=Object.prototype.hasOwnProperty;function uM(t,e){return function(n,s,o){return t(n,s,o)&&e(n,s,o)}}function zh(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var o=s.cache,i=o.get(r),l=o.get(n);if(i&&l)return i===n&&l===r;o.set(r,n),o.set(n,r);var c=t(r,n,s);return o.delete(r),o.delete(n),c}}function wDe(t){return t!=null?t[Symbol.toStringTag]:void 0}function dM(t){return vDe(t).concat(jDe(t))}var CDe=Object.hasOwn||function(t,e){return NDe.call(t,e)};function Hl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var SDe="__v",ADe="__o",IDe="_owner",mM=Object.getOwnPropertyDescriptor,fM=Object.keys;function TDe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function PDe(t,e){return Hl(t.getTime(),e.getTime())}function kDe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function EDe(t,e){return t===e}function pM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),o=t.entries(),i,l,c=0;(i=o.next())&&!i.done;){for(var u=e.entries(),d=!1,m=0;(l=u.next())&&!l.done;){if(s[m]){m++;continue}var f=i.value,p=l.value;if(r.equals(f[0],p[0],c,m,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){d=s[m]=!0;break}m++}if(!d)return!1;c++}return!0}var DDe=Hl;function ODe(t,e,r){var n=fM(t),s=n.length;if(fM(e).length!==s)return!1;for(;s-- >0;)if(!H8(t,e,r,n[s]))return!1;return!0}function Yd(t,e,r){var n=dM(t),s=n.length;if(dM(e).length!==s)return!1;for(var o,i,l;s-- >0;)if(o=n[s],!H8(t,e,r,o)||(i=mM(t,o),l=mM(e,o),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function $De(t,e){return Hl(t.valueOf(),e.valueOf())}function RDe(t,e){return t.source===e.source&&t.flags===e.flags}function hM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),o=t.values(),i,l;(i=o.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function LDe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function FDe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function H8(t,e,r,n){return(n===IDe||n===ADe||n===SDe)&&(t.$$typeof||e.$$typeof)?!0:CDe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var MDe="[object Arguments]",_De="[object Boolean]",BDe="[object Date]",qDe="[object Error]",VDe="[object Map]",UDe="[object Number]",zDe="[object Object]",WDe="[object RegExp]",GDe="[object Set]",HDe="[object String]",YDe="[object URL]",KDe=Array.isArray,gM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,yM=Object.assign,JDe=Object.prototype.toString.call.bind(Object.prototype.toString);function XDe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,s=t.areFunctionsEqual,o=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,m=t.areTypedArraysEqual,f=t.areUrlsEqual,p=t.unknownTagComparators;return function(y,b,g){if(y===b)return!0;if(y==null||b==null)return!1;var x=typeof y;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?i(y,b,g):x==="function"?s(y,b,g):!1;var v=y.constructor;if(v!==b.constructor)return!1;if(v===Object)return l(y,b,g);if(KDe(y))return e(y,b,g);if(gM!=null&&gM(y))return m(y,b,g);if(v===Date)return r(y,b,g);if(v===RegExp)return u(y,b,g);if(v===Map)return o(y,b,g);if(v===Set)return d(y,b,g);var w=JDe(y);if(w===BDe)return r(y,b,g);if(w===WDe)return u(y,b,g);if(w===VDe)return o(y,b,g);if(w===GDe)return d(y,b,g);if(w===zDe)return typeof y.then!="function"&&typeof b.then!="function"&&l(y,b,g);if(w===YDe)return f(y,b,g);if(w===qDe)return n(y,b,g);if(w===MDe)return l(y,b,g);if(w===_De||w===UDe||w===HDe)return c(y,b,g);if(p){var N=p[w];if(!N){var S=wDe(y);S&&(N=p[S])}if(N)return N(y,b,g)}return!1}}function ZDe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?Yd:TDe,areDatesEqual:PDe,areErrorsEqual:kDe,areFunctionsEqual:EDe,areMapsEqual:n?uM(pM,Yd):pM,areNumbersEqual:DDe,areObjectsEqual:n?Yd:ODe,arePrimitiveWrappersEqual:$De,areRegExpsEqual:RDe,areSetsEqual:n?uM(hM,Yd):hM,areTypedArraysEqual:n?Yd:LDe,areUrlsEqual:FDe,unknownTagComparators:void 0};if(r&&(s=yM({},s,r(s))),e){var o=zh(s.areArraysEqual),i=zh(s.areMapsEqual),l=zh(s.areObjectsEqual),c=zh(s.areSetsEqual);s=yM({},s,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return s}function QDe(t){return function(e,r,n,s,o,i,l){return t(e,r,l)}}function eOe(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,o=t.strict;if(n)return function(c,u){var d=n(),m=d.cache,f=m===void 0?e?new WeakMap:void 0:m,p=d.meta;return r(c,u,{cache:f,equals:s,meta:p,strict:o})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:o})};var i={cache:void 0,equals:s,meta:void 0,strict:o};return function(c,u){return r(c,u,i)}}var tOe=bi();bi({strict:!0});bi({circular:!0});bi({circular:!0,strict:!0});bi({createInternalComparator:function(){return Hl}});bi({strict:!0,createInternalComparator:function(){return Hl}});bi({circular:!0,createInternalComparator:function(){return Hl}});bi({circular:!0,createInternalComparator:function(){return Hl},strict:!0});function bi(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,o=t.strict,i=o===void 0?!1:o,l=ZDe(t),c=XDe(l),u=n?n(c):QDe(c);return eOe({circular:r,comparator:c,createState:s,equals:u,strict:i})}function rOe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function xM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(o){r<0&&(r=o),o-r>e?(t(o),r=-1):rOe(s)};requestAnimationFrame(n)}function KI(t){"@babel/helpers - typeof";return KI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KI(t)}function nOe(t){return iOe(t)||oOe(t)||sOe(t)||aOe()}function aOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sOe(t,e){if(t){if(typeof t=="string")return bM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bM(t,e)}}function bM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iOe(t){if(Array.isArray(t))return t}function lOe(){var t={},e=function(){return null},r=!1,n=function s(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,l=nOe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){xM(s.bind(null,u),c);return}s(c),xM(s.bind(null,u));return}KI(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ep(t){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ep(t)}function vM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(r),!0).forEach(function(n){Y8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y8(t,e,r){return e=cOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cOe(t){var e=uOe(t,"string");return ep(e)==="symbol"?e:String(e)}function uOe(t,e){if(ep(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ep(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dOe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(o){return s.includes(o)})})},mOe=function(e){return e},fOe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$m=function(e,r){return Object.keys(r).reduce(function(n,s){return jM(jM({},n),{},Y8({},s,e(s,r[s])))},{})},NM=function(e,r,n){return e.map(function(s){return"".concat(fOe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function pOe(t,e){return yOe(t)||gOe(t,e)||K8(t,e)||hOe()}function hOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function yOe(t){if(Array.isArray(t))return t}function xOe(t){return jOe(t)||vOe(t)||K8(t)||bOe()}function bOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8(t,e){if(t){if(typeof t=="string")return JI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JI(t,e)}}function vOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jOe(t){if(Array.isArray(t))return JI(t)}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var zb=1e-4,J8=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},X8=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},wM=function(e,r){return function(n){var s=J8(e,r);return X8(s,n)}},NOe=function(e,r){return function(n){var s=J8(e,r),o=[].concat(xOe(s.map(function(i,l){return i*l}).slice(1)),[0]);return X8(o,n)}},CM=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],o=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,o=0,i=1,l=1;break;case"ease":s=.25,o=.1,i=.25,l=1;break;case"ease-in":s=.42,o=0,i=1,l=1;break;case"ease-out":s=.42,o=0,i=.58,l=1;break;case"ease-in-out":s=0,o=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=pOe(u,4);s=d[0],o=d[1],i=d[2],l=d[3]}}}var m=wM(s,i),f=wM(o,l),p=NOe(s,i),h=function(g){return g>1?1:g<0?0:g},y=function(g){for(var x=g>1?1:g,v=x,w=0;w<8;++w){var N=m(v)-x,S=p(v);if(Math.abs(N-x)<zb||S<zb)return f(v);v=h(v-N/S)}return f(v)};return y.isStepper=!1,y},wOe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,o=s===void 0?8:s,i=e.dt,l=i===void 0?17:i,c=function(d,m,f){var p=-(d-m)*n,h=f*o,y=f+(p-h)*l/1e3,b=f*l/1e3+d;return Math.abs(b-m)<zb&&Math.abs(y)<zb?[m,0]:[b,y]};return c.isStepper=!0,c.dt=l,c},COe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CM(s);case"spring":return wOe();default:if(s.split("(")[0]==="cubic-bezier")return CM(s)}return typeof s=="function"?s:null};function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function SM(t){return IOe(t)||AOe(t)||Z8(t)||SOe()}function SOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IOe(t){if(Array.isArray(t))return ZI(t)}function AM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(r),!0).forEach(function(n){XI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XI(t,e,r){return e=TOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TOe(t){var e=POe(t,"string");return tp(e)==="symbol"?e:String(e)}function POe(t,e){if(tp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kOe(t,e){return OOe(t)||DOe(t,e)||Z8(t,e)||EOe()}function EOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z8(t,e){if(t){if(typeof t=="string")return ZI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZI(t,e)}}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function OOe(t){if(Array.isArray(t))return t}var Wb=function(e,r,n){return e+(r-e)*n},QI=function(e){var r=e.from,n=e.to;return r!==n},$Oe=function t(e,r,n){var s=$m(function(o,i){if(QI(i)){var l=e(i.from,i.to,i.velocity),c=kOe(l,2),u=c[0],d=c[1];return Er(Er({},i),{},{from:u,velocity:d})}return i},r);return n<1?$m(function(o,i){return QI(i)?Er(Er({},i),{},{velocity:Wb(i.velocity,s[o].velocity,n),from:Wb(i.from,s[o].from,n)}):i},r):t(e,s,n-1)};const ROe=function(t,e,r,n,s){var o=dOe(t,e),i=o.reduce(function(b,g){return Er(Er({},b),{},XI({},g,[t[g],e[g]]))},{}),l=o.reduce(function(b,g){return Er(Er({},b),{},XI({},g,{from:t[g],velocity:0,to:e[g]}))},{}),c=-1,u,d,m=function(){return null},f=function(){return $m(function(g,x){return x.from},l)},p=function(){return!Object.values(l).filter(QI).length},h=function(g){u||(u=g);var x=g-u,v=x/r.dt;l=$Oe(r,l,v),s(Er(Er(Er({},t),e),f())),u=g,p()||(c=requestAnimationFrame(m))},y=function(g){d||(d=g);var x=(g-d)/n,v=$m(function(N,S){return Wb.apply(void 0,SM(S).concat([r(x)]))},i);if(s(Er(Er(Er({},t),e),v)),x<1)c=requestAnimationFrame(m);else{var w=$m(function(N,S){return Wb.apply(void 0,SM(S).concat([r(1)]))},i);s(Er(Er(Er({},t),e),w))}};return m=r.isStepper?h:y,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}var LOe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function FOe(t,e){if(t==null)return{};var r=MOe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MOe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function tC(t){return VOe(t)||qOe(t)||BOe(t)||_Oe()}function _Oe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BOe(t,e){if(t){if(typeof t=="string")return e2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(t,e)}}function qOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VOe(t){if(Array.isArray(t))return e2(t)}function e2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(r),!0).forEach(function(n){dm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dm(t,e,r){return e=Q8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q8(n.key),n)}}function WOe(t,e,r){return e&&zOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q8(t){var e=GOe(t,"string");return wu(e)==="symbol"?e:String(e)}function GOe(t,e){if(wu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t2(t,e)}function t2(t,e){return t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},t2(t,e)}function YOe(t){var e=KOe();return function(){var n=Gb(t),s;if(e){var o=Gb(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return r2(this,s)}}function r2(t,e){if(e&&(wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n2(t)}function n2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(t)}var Gs=function(t){HOe(r,t);var e=YOe(r);function r(n,s){var o;UOe(this,r),o=e.call(this,n,s);var i=o.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,m=i.steps,f=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(n2(o)),o.changeStyle=o.changeStyle.bind(n2(o)),!l||p<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:d}),r2(o);if(m&&m.length)o.state={style:m[0].style};else if(u){if(typeof f=="function")return o.state={style:u},r2(o);o.state={style:c?dm({},c,u):u}}else o.state={style:{}};return o}return WOe(r,[{key:"componentDidMount",value:function(){var s=this.props,o=s.isActive,i=s.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var o=this.props,i=o.isActive,l=o.canBegin,c=o.attributeName,u=o.shouldReAnimate,d=o.to,m=o.from,f=this.state.style;if(l){if(!i){var p={style:c?dm({},c,d):d};this.state&&f&&(c&&f[c]!==d||!c&&f!==d)&&this.setState(p);return}if(!(tOe(s.to,d)&&s.canBegin&&s.isActive)){var h=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=h||u?m:s.to;if(this.state&&f){var b={style:c?dm({},c,y):y};(c&&f[c]!==y||!c&&f!==y)&&this.setState(b)}this.runAnimation(ga(ga({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var o=this,i=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,m=s.onAnimationEnd,f=s.onAnimationStart,p=ROe(i,l,COe(u),c,this.changeStyle),h=function(){o.stopJSAnimation=p()};this.manager.start([f,d,h,c,m])}},{key:"runStepAnimation",value:function(s){var o=this,i=s.steps,l=s.begin,c=s.onAnimationStart,u=i[0],d=u.style,m=u.duration,f=m===void 0?0:m,p=function(y,b,g){if(g===0)return y;var x=b.duration,v=b.easing,w=v===void 0?"ease":v,N=b.style,S=b.properties,C=b.onAnimationEnd,A=g>0?i[g-1]:b,T=S||Object.keys(N);if(typeof w=="function"||w==="spring")return[].concat(tC(y),[o.runJSAnimation.bind(o,{from:A.style,to:N,duration:x,easing:w}),x]);var I=NM(T,x,w),k=ga(ga(ga({},A.style),N),{},{transition:I});return[].concat(tC(y),[k,x,C]).filter(mOe)};return this.manager.start([c].concat(tC(i.reduce(p,[d,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=lOe());var o=s.begin,i=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,m=s.onAnimationEnd,f=s.steps,p=s.children,h=this.manager;if(this.unSubscribe=h.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var y=l?dm({},l,c):c,b=NM(Object.keys(y),i,u);h.start([d,o,ga(ga({},y),{},{transition:b}),i,m])}},{key:"render",value:function(){var s=this.props,o=s.children;s.begin;var i=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=FOe(s,LOe),u=j.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!l||u===0||i<=0)return o;var m=function(p){var h=p.props,y=h.style,b=y===void 0?{}:y,g=h.className,x=j.cloneElement(p,ga(ga({},c),{},{style:ga(ga({},b),d),className:g}));return x};return u===1?m(j.Children.only(o)):Q.createElement("div",null,j.Children.map(o,function(f){return m(f)}))}}]),r}(j.PureComponent);Gs.displayName="Animate";Gs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gs.propTypes={from:ft.oneOfType([ft.object,ft.string]),to:ft.oneOfType([ft.object,ft.string]),attributeName:ft.string,duration:ft.number,begin:ft.number,easing:ft.oneOfType([ft.string,ft.func]),steps:ft.arrayOf(ft.shape({duration:ft.number.isRequired,style:ft.object.isRequired,easing:ft.oneOfType([ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ft.func]),properties:ft.arrayOf("string"),onAnimationEnd:ft.func})),children:ft.oneOfType([ft.node,ft.func]),isActive:ft.bool,canBegin:ft.bool,onAnimationEnd:ft.func,shouldReAnimate:ft.bool,onAnimationStart:ft.func,onAnimationReStart:ft.func};function ze(){return ze=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ze.apply(null,arguments)}function JOe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function a2(t,e){return a2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},a2(t,e)}function XOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hb.apply(this,arguments)}function ZOe(t,e){return r$e(t)||t$e(t,e)||e$e(t,e)||QOe()}function QOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e$e(t,e){if(t){if(typeof t=="string")return TM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TM(t,e)}}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function t$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function r$e(t){if(Array.isArray(t))return t}function PM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(r),!0).forEach(function(n){n$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n$e(t,e,r){return e=a$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a$e(t){var e=s$e(t,"string");return rp(e)=="symbol"?e:e+""}function s$e(t,e){if(rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EM=function(e,r,n,s,o){var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(i>0&&o instanceof Array){for(var m=[0,0,0,0],f=0,p=4;f<p;f++)m[f]=o[f]>i?i:o[f];d="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(d+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(r)),d+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(d+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*m[1])),d+="L ".concat(e+n,",").concat(r+s-l*m[2]),m[2]>0&&(d+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-c*m[2],",").concat(r+s)),d+="L ".concat(e+c*m[3],",").concat(r+s),m[3]>0&&(d+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+s-l*m[3])),d+="Z"}else if(i>0&&o===+o&&o>0){var h=Math.min(i,o);d="M ".concat(e,",").concat(r+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+c*h,",").concat(r,`
            L `).concat(e+n-c*h,",").concat(r,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*h,`
            L `).concat(e+n,",").concat(r+s-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e+n-c*h,",").concat(r+s,`
            L `).concat(e+c*h,",").concat(r+s,`
            A `).concat(h,",").concat(h,",0,0,").concat(u,",").concat(e,",").concat(r+s-l*h," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},o$e=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,o=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(o,o+l),d=Math.max(o,o+l),m=Math.min(i,i+c),f=Math.max(i,i+c);return n>=u&&n<=d&&s>=m&&s<=f}return!1},i$e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RE=function(e){var r=kM(kM({},i$e),e),n=j.useRef(),s=j.useState(-1),o=ZOe(s,2),i=o[0],l=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,m=r.height,f=r.radius,p=r.className,h=r.animationEasing,y=r.animationDuration,b=r.animationBegin,g=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||m!==+m||d===0||m===0)return null;var v=_e("recharts-rectangle",p);return x?Q.createElement(Gs,{canBegin:i>0,from:{width:d,height:m,x:c,y:u},to:{width:d,height:m,x:c,y:u},duration:y,animationEasing:h,isActive:x},function(w){var N=w.width,S=w.height,C=w.x,A=w.y;return Q.createElement(Gs,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:g,easing:h},Q.createElement("path",Hb({},We(r,!0),{className:v,d:EM(C,A,N,S,f),ref:n})))}):Q.createElement("path",Hb({},We(r,!0),{className:v,d:EM(c,u,d,m,f)}))},l$e=["points","className","baseLinePoints","connectNulls"];function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ac.apply(this,arguments)}function c$e(t,e){if(t==null)return{};var r=u$e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DM(t){return p$e(t)||f$e(t)||m$e(t)||d$e()}function d$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m$e(t,e){if(t){if(typeof t=="string")return s2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s2(t,e)}}function f$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p$e(t){if(Array.isArray(t))return s2(t)}function s2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var OM=function(e){return e&&e.x===+e.x&&e.y===+e.y},h$e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){OM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),OM(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Rm=function(e,r){var n=h$e(e);r&&(n=[n.reduce(function(o,i){return[].concat(DM(o),DM(i))},[])]);var s=n.map(function(o){return o.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},g$e=function(e,r,n){var s=Rm(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Rm(r.reverse(),n).slice(1))},y$e=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,o=e.connectNulls,i=c$e(e,l$e);if(!r||!r.length)return null;var l=_e("recharts-polygon",n);if(s&&s.length){var c=i.stroke&&i.stroke!=="none",u=g$e(r,s,o);return Q.createElement("g",{className:l},Q.createElement("path",Ac({},We(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?Q.createElement("path",Ac({},We(i,!0),{fill:"none",d:Rm(r,o)})):null,c?Q.createElement("path",Ac({},We(i,!0),{fill:"none",d:Rm(s,o)})):null)}var d=Rm(r,o);return Q.createElement("path",Ac({},We(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o2.apply(this,arguments)}var LE=function(e){var r=e.cx,n=e.cy,s=e.r,o=e.className,i=_e("recharts-dot",o);return r===+r&&n===+n&&s===+s?j.createElement("circle",o2({},We(e,!1),pb(e),{className:i,cx:r,cy:n,r:s})):null};function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}var x$e=["x","y","top","left","width","height","className"];function i2(){return i2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i2.apply(this,arguments)}function $M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function b$e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(r),!0).forEach(function(n){v$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v$e(t,e,r){return e=j$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j$e(t){var e=N$e(t,"string");return np(e)=="symbol"?e:e+""}function N$e(t,e){if(np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w$e(t,e){if(t==null)return{};var r=C$e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var S$e=function(e,r,n,s,o,i){return"M".concat(e,",").concat(o,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(n)},A$e=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,o=s===void 0?0:s,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,m=d===void 0?0:d,f=e.height,p=f===void 0?0:f,h=e.className,y=w$e(e,x$e),b=b$e({x:n,y:o,top:l,left:u,width:m,height:p},y);return!ve(n)||!ve(o)||!ve(m)||!ve(p)||!ve(l)||!ve(u)?null:Q.createElement("path",i2({},We(b,!0),{className:_e("recharts-cross",h),d:S$e(n,o,m,p,l,u)}))},I$e=tN,T$e=d8,P$e=ds;function k$e(t,e){return t&&t.length?I$e(t,P$e(e),T$e):void 0}var E$e=k$e;const D$e=ut(E$e);var O$e=tN,$$e=ds,R$e=m8;function L$e(t,e){return t&&t.length?O$e(t,$$e(e),R$e):void 0}var F$e=L$e;const M$e=ut(F$e);var _$e=["cx","cy","angle","ticks","axisLine"],B$e=["ticks","tick","angle","tickFormatter","stroke"];function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lm.apply(this,arguments)}function RM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(r),!0).forEach(function(n){lN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LM(t,e){if(t==null)return{};var r=q$e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function q$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function V$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tz(n.key),n)}}function U$e(t,e,r){return e&&FM(t.prototype,e),r&&FM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z$e(t,e,r){return e=Yb(e),W$e(t,ez()?Reflect.construct(e,r||[],Yb(t).constructor):e.apply(t,r))}function W$e(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G$e(t)}function G$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ez(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ez=function(){return!!t})()}function Yb(t){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(t)}function H$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l2(t,e)}function l2(t,e){return l2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},l2(t,e)}function lN(t,e,r){return e=tz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tz(t){var e=Y$e(t,"string");return Cu(e)=="symbol"?e:e+""}function Y$e(t,e){if(Cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cN=function(t){function e(){return V$e(this,e),z$e(this,e,arguments)}return H$e(e,t),U$e(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,o=this.props,i=o.angle,l=o.cx,c=o.cy;return Ot(l,c,s,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,o=n.cy,i=n.angle,l=n.ticks,c=D$e(l,function(d){return d.coordinate||0}),u=M$e(l,function(d){return d.coordinate||0});return{cx:s,cy:o,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=LM(n,_$e),d=l.reduce(function(h,y){return[Math.min(h[0],y.coordinate),Math.max(h[1],y.coordinate)]},[1/0,-1/0]),m=Ot(s,o,d[0],i),f=Ot(s,o,d[1],i),p=Ci(Ci(Ci({},We(u,!1)),{},{fill:"none"},We(c,!1)),{},{x1:m.x,y1:m.y,x2:f.x,y2:f.y});return Q.createElement("line",Lm({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,i=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=LM(s,B$e),m=this.getTickTextAnchor(),f=We(d,!1),p=We(i,!1),h=o.map(function(y,b){var g=n.getTickValueCoord(y),x=Ci(Ci(Ci(Ci({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(g.x,", ").concat(g.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:b},g),{},{payload:y});return Q.createElement(xt,Lm({className:_e("recharts-polar-radius-axis-tick",B8(i)),key:"tick-".concat(y.coordinate)},Il(n.props,y,b)),e.renderTickItem(i,x,c?c(y.value,b):y.value))});return Q.createElement(xt,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.axisLine,i=n.tick;return!s||!s.length?null:Q.createElement(xt,{className:_e("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),Sr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,o){var i;return Q.isValidElement(n)?i=Q.cloneElement(n,s):Ge(n)?i=n(s):i=Q.createElement(Tl,Lm({},s,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(j.PureComponent);lN(cN,"displayName","PolarRadiusAxis");lN(cN,"axisType","radiusAxis");lN(cN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(t)}function $i(){return $i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$i.apply(this,arguments)}function MM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(r),!0).forEach(function(n){uN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nz(n.key),n)}}function J$e(t,e,r){return e&&_M(t.prototype,e),r&&_M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X$e(t,e,r){return e=Kb(e),Z$e(t,rz()?Reflect.construct(e,r||[],Kb(t).constructor):e.apply(t,r))}function Z$e(t,e){if(e&&(Su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q$e(t)}function Q$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!t})()}function Kb(t){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(t)}function eRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c2(t,e)}function c2(t,e){return c2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},c2(t,e)}function uN(t,e,r){return e=nz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nz(t){var e=tRe(t,"string");return Su(e)=="symbol"?e:e+""}function tRe(t,e){if(Su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rRe=Math.PI/180,BM=1e-5,dN=function(t){function e(){return K$e(this,e),X$e(this,e,arguments)}return eRe(e,t),J$e(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.cx,i=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,m=Ot(o,i,l,n.coordinate),f=Ot(o,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:m.x,y1:m.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,o=Math.cos(-n.coordinate*rRe),i;return o>BM?i=s==="outer"?"start":"end":o<-BM?i=s==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=Si(Si({},We(this.props,!1)),{},{fill:"none"},We(l,!1));if(c==="circle")return Q.createElement(LE,$i({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:o,r:i}));var d=this.props.ticks,m=d.map(function(f){return Ot(s,o,i,f.coordinate)});return Q.createElement(y$e,$i({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,i=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=We(this.props,!1),m=We(i,!1),f=Si(Si({},d),{},{fill:"none"},We(l,!1)),p=o.map(function(h,y){var b=n.getTickLineCoord(h),g=n.getTickTextAnchor(h),x=Si(Si(Si({textAnchor:g},d),{},{stroke:"none",fill:u},m),{},{index:y,payload:h,x:b.x2,y:b.y2});return Q.createElement(xt,$i({className:_e("recharts-polar-angle-axis-tick",B8(i)),key:"tick-".concat(h.coordinate)},Il(n.props,h,y)),l&&Q.createElement("line",$i({className:"recharts-polar-angle-axis-tick-line"},f,b)),i&&e.renderTickItem(i,x,c?c(h.value,y):h.value))});return Q.createElement(xt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.radius,i=n.axisLine;return o<=0||!s||!s.length?null:Q.createElement(xt,{className:_e("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,o){var i;return Q.isValidElement(n)?i=Q.cloneElement(n,s):Ge(n)?i=n(s):i=Q.createElement(Tl,$i({},s,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(j.PureComponent);uN(dN,"displayName","PolarAngleAxis");uN(dN,"axisType","angleAxis");uN(dN,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var nRe=i7,aRe=nRe(Object.getPrototypeOf,Object),sRe=aRe,oRe=to,iRe=sRe,lRe=ro,cRe="[object Object]",uRe=Function.prototype,dRe=Object.prototype,az=uRe.toString,mRe=dRe.hasOwnProperty,fRe=az.call(Object);function pRe(t){if(!lRe(t)||oRe(t)!=cRe)return!1;var e=iRe(t);if(e===null)return!0;var r=mRe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&az.call(r)==fRe}var hRe=pRe;const gRe=ut(hRe);var yRe=to,xRe=ro,bRe="[object Boolean]";function vRe(t){return t===!0||t===!1||xRe(t)&&yRe(t)==bRe}var jRe=vRe;const NRe=ut(jRe);function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jb.apply(this,arguments)}function wRe(t,e){return IRe(t)||ARe(t,e)||SRe(t,e)||CRe()}function CRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SRe(t,e){if(t){if(typeof t=="string")return qM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(t,e)}}function qM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ARe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function IRe(t){if(Array.isArray(t))return t}function VM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function UM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(r),!0).forEach(function(n){TRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TRe(t,e,r){return e=PRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PRe(t){var e=kRe(t,"string");return ap(e)=="symbol"?e:e+""}function kRe(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zM=function(e,r,n,s,o){var i=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+o),l+="L ".concat(e+n-i/2-s,",").concat(r+o),l+="L ".concat(e,",").concat(r," Z"),l},ERe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DRe=function(e){var r=UM(UM({},ERe),e),n=j.useRef(),s=j.useState(-1),o=wRe(s,2),i=o[0],l=o[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,m=r.lowerWidth,f=r.height,p=r.className,h=r.animationEasing,y=r.animationDuration,b=r.animationBegin,g=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||m!==+m||f!==+f||d===0&&m===0||f===0)return null;var x=_e("recharts-trapezoid",p);return g?Q.createElement(Gs,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:u},to:{upperWidth:d,lowerWidth:m,height:f,x:c,y:u},duration:y,animationEasing:h,isActive:g},function(v){var w=v.upperWidth,N=v.lowerWidth,S=v.height,C=v.x,A=v.y;return Q.createElement(Gs,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:h},Q.createElement("path",Jb({},We(r,!0),{className:x,d:zM(C,A,w,N,S),ref:n})))}):Q.createElement("g",null,Q.createElement("path",Jb({},We(r,!0),{className:x,d:zM(c,u,d,m,f)})))},ORe=["option","shapeType","propTransformer","activeClassName","isActive"];function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function $Re(t,e){if(t==null)return{};var r=RRe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function WM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(r),!0).forEach(function(n){LRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LRe(t,e,r){return e=FRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FRe(t){var e=MRe(t,"string");return sp(e)=="symbol"?e:e+""}function MRe(t,e){if(sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Re(t,e){return Xb(Xb({},e),t)}function BRe(t,e){return t==="symbols"}function GM(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Q.createElement(RE,r);case"trapezoid":return Q.createElement(DRe,r);case"sector":return Q.createElement(U8,r);case"symbols":if(BRe(e))return Q.createElement(eE,r);break;default:return null}}function qRe(t){return j.isValidElement(t)?t.props:t}function sz(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?_Re:n,o=t.activeClassName,i=o===void 0?"recharts-active-shape":o,l=t.isActive,c=$Re(t,ORe),u;if(j.isValidElement(e))u=j.cloneElement(e,Xb(Xb({},c),qRe(e)));else if(Ge(e))u=e(c);else if(gRe(e)&&!NRe(e)){var d=s(e,c);u=Q.createElement(GM,{shapeType:r,elementProps:d})}else{var m=c;u=Q.createElement(GM,{shapeType:r,elementProps:m})}return l?Q.createElement(xt,{className:i},u):u}function mN(t,e){return e!=null&&"trapezoids"in t.props}function fN(t,e){return e!=null&&"sectors"in t.props}function op(t,e){return e!=null&&"points"in t.props}function VRe(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&o}function URe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function zRe(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function WRe(t,e){var r;return mN(t,e)?r=VRe:fN(t,e)?r=URe:op(t,e)&&(r=zRe),r}function GRe(t,e){var r;return mN(t,e)?r="trapezoids":fN(t,e)?r="sectors":op(t,e)&&(r="points"),r}function HRe(t,e){if(mN(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(fN(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return op(t,e)?e.payload:{}}function YRe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=GRe(r,e),o=HRe(r,e),i=n.filter(function(c,u){var d=aN(o,c),m=r.props[s].filter(function(h){var y=WRe(r,e);return y(h,e)}),f=r.props[s].indexOf(m[m.length-1]),p=u===f;return d&&p}),l=n.indexOf(i[i.length-1]);return l}var Ag;function Au(t){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(t)}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ic.apply(this,arguments)}function HM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(r),!0).forEach(function(n){ea(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iz(n.key),n)}}function JRe(t,e,r){return e&&YM(t.prototype,e),r&&YM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XRe(t,e,r){return e=Zb(e),ZRe(t,oz()?Reflect.construct(e,r||[],Zb(t).constructor):e.apply(t,r))}function ZRe(t,e){if(e&&(Au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QRe(t)}function QRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oz=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}function eLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u2(t,e)}function u2(t,e){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},u2(t,e)}function ea(t,e,r){return e=iz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iz(t){var e=tLe(t,"string");return Au(e)=="symbol"?e:e+""}function tLe(t,e){if(Au(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wn=function(t){function e(r){var n;return KRe(this,e),n=XRe(this,e,[r]),ea(n,"pieRef",null),ea(n,"sectorRefs",[]),ea(n,"id",Wp("recharts-pie-")),ea(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ge(s)&&s()}),ea(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ge(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return eLe(e,t),JRe(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,l=o.labelLine,c=o.dataKey,u=o.valueKey,d=We(this.props,!1),m=We(i,!1),f=We(l,!1),p=i&&i.offsetRadius||20,h=n.map(function(y,b){var g=(y.startAngle+y.endAngle)/2,x=Ot(y.cx,y.cy,y.outerRadius+p,g),v=Pt(Pt(Pt(Pt({},d),y),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(x.x,y.cx)},x),w=Pt(Pt(Pt(Pt({},d),y),{},{fill:"none",stroke:y.fill},f),{},{index:b,points:[Ot(y.cx,y.cy,y.outerRadius,g),x]}),N=c;return et(c)&&et(u)?N="value":et(c)&&(N=u),Q.createElement(xt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,w,"line"),e.renderLabelItem(i,v,Yr(y,N)))});return Q.createElement(xt,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(n){var s=this,o=this.props,i=o.activeShape,l=o.blendStroke,c=o.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var m=s.isActiveIndex(d),f=c&&s.hasActiveIndex()?c:null,p=m?i:f,h=Pt(Pt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Q.createElement(xt,Ic({ref:function(b){b&&!s.sectorRefs.includes(b)&&s.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Il(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),Q.createElement(sz,Ic({option:p,isActive:m,shapeType:"sector"},h)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,o=s.sectors,i=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,m=this.state,f=m.prevSectors,p=m.prevIsAnimationActive;return Q.createElement(Gs,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(h){var y=h.t,b=[],g=o&&o[0],x=g.startAngle;return o.forEach(function(v,w){var N=f&&f[w],S=w>0?$n(v,"paddingAngle",0):0;if(N){var C=po(N.endAngle-N.startAngle,v.endAngle-v.startAngle),A=Pt(Pt({},v),{},{startAngle:x+S,endAngle:x+C(y)+S});b.push(A),x=A.endAngle}else{var T=v.endAngle,I=v.startAngle,k=po(0,T-I),$=k(y),L=Pt(Pt({},v),{},{startAngle:x+S,endAngle:x+$+S});b.push(L),x=L.endAngle}}),Q.createElement(xt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[i].focus(),s.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,o=n.isAnimationActive,i=this.state.prevSectors;return o&&s&&s.length&&(!i||!aN(i,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,o=s.hide,i=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,m=s.innerRadius,f=s.outerRadius,p=s.isAnimationActive,h=this.state.isAnimationFinished;if(o||!i||!i.length||!ve(u)||!ve(d)||!ve(m)||!ve(f))return null;var y=_e("recharts-pie",l);return Q.createElement(xt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(g){n.pieRef=g}},this.renderSectors(),c&&this.renderLabels(i),Sr.renderCallByParent(this.props,null,!1),(!p||h)&&qo.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,o){if(Q.isValidElement(n))return Q.cloneElement(n,s);if(Ge(n))return n(s);var i=_e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Q.createElement(YI,Ic({},s,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,s,o){if(Q.isValidElement(n))return Q.cloneElement(n,s);var i=o;if(Ge(n)&&(i=n(s),Q.isValidElement(i)))return i;var l=_e("recharts-pie-label-text",typeof n!="boolean"&&!Ge(n)?n.className:"");return Q.createElement(Tl,Ic({},s,{alignmentBaseline:"middle",className:l}),i)}}])}(j.PureComponent);Ag=Wn;ea(Wn,"displayName","Pie");ea(Wn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!od.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ea(Wn,"parseDeltaAngle",function(t,e){var r=tn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ea(Wn,"getRealPieData",function(t){var e=t.data,r=t.children,n=We(t,!1),s=oa(r,gi);return e&&e.length?e.map(function(o,i){return Pt(Pt(Pt({payload:o},n),o),s&&s[i]&&s[i].props)}):s&&s.length?s.map(function(o){return Pt(Pt({},n),o.props)}):[]});ea(Wn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,o=e.height,i=_8(s,o),l=n+rn(t.cx,s,s/2),c=r+rn(t.cy,o,o/2),u=rn(t.innerRadius,i,0),d=rn(t.outerRadius,i,i*.8),m=t.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:m}});ea(Wn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Pt(Pt({},e.type.defaultProps),e.props):e.props,s=Ag.getRealPieData(n);if(!s||!s.length)return null;var o=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,m=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),h=Ag.parseCoordinateOfPie(n,r),y=Ag.parseDeltaAngle(i,l),b=Math.abs(y),g=u;et(u)&&et(m)?(Pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g="value"):et(u)&&(Pa(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),g=m);var x=s.filter(function(A){return Yr(A,g,0)!==0}).length,v=(b>=360?x:x-1)*c,w=b-x*p-v,N=s.reduce(function(A,T){var I=Yr(T,g,0);return A+(ve(I)?I:0)},0),S;if(N>0){var C;S=s.map(function(A,T){var I=Yr(A,g,0),k=Yr(A,d,T),$=(ve(I)?I:0)/N,L;T?L=C.endAngle+tn(y)*c*(I!==0?1:0):L=i;var q=L+tn(y)*((I!==0?p:0)+$*w),E=(L+q)/2,R=(h.innerRadius+h.outerRadius)/2,U=[{name:k,value:I,payload:A,dataKey:g,type:f}],B=Ot(h.cx,h.cy,R,E);return C=Pt(Pt(Pt({percent:$,cornerRadius:o,name:k,tooltipPayload:U,midAngle:E,middleRadius:R,tooltipPosition:B},A),h),{},{value:Yr(A,g),startAngle:L,endAngle:q,payload:A,paddingAngle:tn(y)*c}),C})}return Pt(Pt({},h),{},{sectors:S,data:s})});var rLe=Math.ceil,nLe=Math.max;function aLe(t,e,r,n){for(var s=-1,o=nLe(rLe((e-t)/(r||1)),0),i=Array(o);o--;)i[n?o:++s]=t,t+=r;return i}var sLe=aLe,oLe=A7,KM=1/0,iLe=17976931348623157e292;function lLe(t){if(!t)return t===0?t:0;if(t=oLe(t),t===KM||t===-KM){var e=t<0?-1:1;return e*iLe}return t===t?t:0}var lz=lLe,cLe=sLe,uLe=Yj,rC=lz;function dLe(t){return function(e,r,n){return n&&typeof n!="number"&&uLe(e,r,n)&&(r=n=void 0),e=rC(e),r===void 0?(r=e,e=0):r=rC(r),n=n===void 0?e<r?1:-1:rC(n),cLe(e,r,n,t)}}var mLe=dLe,fLe=mLe,pLe=fLe(),hLe=pLe;const Qb=ut(hLe);function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function JM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function XM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(r),!0).forEach(function(n){cz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cz(t,e,r){return e=gLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gLe(t){var e=yLe(t,"string");return ip(e)=="symbol"?e:e+""}function yLe(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xLe=["Webkit","Moz","O","ms"],bLe=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),s=xLe.reduce(function(o,i){return XM(XM({},o),{},cz({},i+n,r))},{});return s[e]=r,s};function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ev.apply(this,arguments)}function ZM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function nC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(r),!0).forEach(function(n){An(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dz(n.key),n)}}function jLe(t,e,r){return e&&QM(t.prototype,e),r&&QM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NLe(t,e,r){return e=tv(e),wLe(t,uz()?Reflect.construct(e,r||[],tv(t).constructor):e.apply(t,r))}function wLe(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CLe(t)}function CLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uz=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(t)}function SLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d2(t,e)}function d2(t,e){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},d2(t,e)}function An(t,e,r){return e=dz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dz(t){var e=ALe(t,"string");return Iu(e)=="symbol"?e:e+""}function ALe(t,e){if(Iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ILe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,o=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Dm().domain(Qb(0,c)).range([o,o+i-l]),d=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},e_=function(e){return e.changedTouches&&!!e.changedTouches.length},Tu=function(t){function e(r){var n;return vLe(this,e),n=NLe(this,e,[r]),An(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),An(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),An(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,o=s.endIndex,i=s.onDragEnd,l=s.startIndex;i==null||i({endIndex:o,startIndex:l})}),n.detachDragEndListener()}),An(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),An(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),An(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),An(n,"handleSlideDragStart",function(s){var o=e_(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return SLe(e,t),jLe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,o=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,m=Math.min(s,o),f=Math.max(s,o),p=e.getIndexInRange(i,m),h=e.getIndexInRange(i,f);return{startIndex:p-p%c,endIndex:h===d?d:h-h%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,o=s.data,i=s.tickFormatter,l=s.dataKey,c=Yr(o[n],l,n);return Ge(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,o=s.slideMoveStartX,i=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,m=c.travellerWidth,f=c.startIndex,p=c.endIndex,h=c.onChange,y=n.pageX-o;y>0?y=Math.min(y,u+d-m-l,u+d-m-i):y<0&&(y=Math.max(y,u-i,u-l));var b=this.getIndex({startX:i+y,endX:l+y});(b.startIndex!==f||b.endIndex!==p)&&h&&h(b),this.setState({startX:i+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var o=e_(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,o=s.brushMoveStartX,i=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[i],d=this.props,m=d.x,f=d.width,p=d.travellerWidth,h=d.onChange,y=d.gap,b=d.data,g={startX:this.state.startX,endX:this.state.endX},x=n.pageX-o;x>0?x=Math.min(x,m+f-p-u):x<0&&(x=Math.max(x,m-u)),g[i]=u+x;var v=this.getIndex(g),w=v.startIndex,N=v.endIndex,S=function(){var A=b.length-1;return i==="startX"&&(l>c?w%y===0:N%y===0)||l<c&&N===A||i==="endX"&&(l>c?N%y===0:w%y===0)||l>c&&N===A};this.setState(An(An({},i,u+x),"brushMoveStartX",n.pageX),function(){h&&S()&&h(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var o=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[s],m=l.indexOf(d);if(m!==-1){var f=m+n;if(!(f===-1||f>=l.length)){var p=l[f];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(An({},s,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return Q.createElement("rect",{stroke:u,fill:c,x:s,y:o,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,m=j.Children.only(u);return m?Q.cloneElement(m,{x:s,y:o,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var o,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,m=c.height,f=c.traveller,p=c.ariaLabel,h=c.data,y=c.startIndex,b=c.endIndex,g=Math.max(n,this.props.x),x=nC(nC({},We(this.props,!1)),{},{x:g,y:u,width:d,height:m}),v=p||"Min value: ".concat((o=h[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=h[b])===null||i===void 0?void 0:i.name);return Q.createElement(xt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,x))}},{key:"renderSlide",value:function(n,s){var o=this.props,i=o.y,l=o.height,c=o.stroke,u=o.travellerWidth,d=Math.min(n,s)+u,m=Math.max(Math.abs(s-n)-u,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,o=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,m=d.startX,f=d.endX,p=5,h={pointerEvents:"none",fill:u};return Q.createElement(xt,{className:"recharts-brush-texts"},Q.createElement(Tl,ev({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,f)-p,y:i+l/2},h),this.getTextOfTick(s)),Q.createElement(Tl,ev({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,f)+c+p,y:i+l/2},h),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,s=n.data,o=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,m=n.alwaysShowText,f=this.state,p=f.startX,h=f.endX,y=f.isTextActive,b=f.isSlideMoving,g=f.isTravellerMoving,x=f.isTravellerFocused;if(!s||!s.length||!ve(l)||!ve(c)||!ve(u)||!ve(d)||u<=0||d<=0)return null;var v=_e("recharts-brush",o),w=Q.Children.count(i)===1,N=bLe("userSelect","none");return Q.createElement(xt,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(p,h),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(h,"endX"),(y||b||g||x||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,o=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(o+l/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:s,y:o,width:i,height:l,fill:c,stroke:"none"}),Q.createElement("line",{x1:s+1,y1:u,x2:s+i-1,y2:u,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:s+1,y1:u+2,x2:s+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var o;return Q.isValidElement(n)?o=Q.cloneElement(n,s):Ge(n)?o=n(s):o=e.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(n,s){var o=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,m=n.endIndex;if(o!==s.prevData||u!==s.prevUpdateId)return nC({prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},o&&o.length?ILe({data:o,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(i!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+i-c]);var f=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,s){for(var o=n.length,i=0,l=o-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>s?l=c:i=c}return s>=n[l]?l:i}}])}(j.PureComponent);An(Tu,"displayName","Brush");An(Tu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var TLe=iE;function PLe(t,e){var r;return TLe(t,function(n,s,o){return r=e(n,s,o),!r}),!!r}var kLe=PLe,ELe=QU,DLe=ds,OLe=kLe,$Le=Sn,RLe=Yj;function LLe(t,e,r){var n=$Le(t)?ELe:OLe;return r&&RLe(t,e,r)&&(e=void 0),n(t,DLe(e))}var FLe=LLe;const MLe=ut(FLe);var ts=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},t_=j7;function _Le(t,e,r){e=="__proto__"&&t_?t_(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var BLe=_Le,qLe=BLe,VLe=b7,ULe=ds;function zLe(t,e){var r={};return e=ULe(e),VLe(t,function(n,s,o){qLe(r,s,e(n,s,o))}),r}var WLe=zLe;const GLe=ut(WLe);function HLe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var YLe=HLe,KLe=iE;function JLe(t,e){var r=!0;return KLe(t,function(n,s,o){return r=!!e(n,s,o),r}),r}var XLe=JLe,ZLe=YLe,QLe=XLe,e5e=ds,t5e=Sn,r5e=Yj;function n5e(t,e,r){var n=t5e(t)?ZLe:QLe;return r&&r5e(t,e,r)&&(e=void 0),n(t,e5e(e))}var a5e=n5e;const mz=ut(a5e);var s5e=["x","y"];function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function m2(){return m2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m2.apply(this,arguments)}function r_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Kd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(r),!0).forEach(function(n){o5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o5e(t,e,r){return e=i5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i5e(t){var e=l5e(t,"string");return lp(e)=="symbol"?e:e+""}function l5e(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c5e(t,e){if(t==null)return{};var r=u5e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d5e(t,e){var r=t.x,n=t.y,s=c5e(t,s5e),o="".concat(r),i=parseInt(o,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),m="".concat(e.width||s.width),f=parseInt(m,10);return Kd(Kd(Kd(Kd(Kd({},e),s),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function n_(t){return Q.createElement(sz,m2({shapeType:"rectangle",propTransformer:d5e,activeClassName:"recharts-active-bar"},t))}var m5e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var o=ve(n)||Rxe(n);return o?e(n,s):(o||kl(),r)}},f5e=["value","background"],fz;function Pu(t){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pu(t)}function p5e(t,e){if(t==null)return{};var r=h5e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rv.apply(this,arguments)}function a_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(r),!0).forEach(function(n){To(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hz(n.key),n)}}function y5e(t,e,r){return e&&s_(t.prototype,e),r&&s_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function x5e(t,e,r){return e=nv(e),b5e(t,pz()?Reflect.construct(e,r||[],nv(t).constructor):e.apply(t,r))}function b5e(t,e){if(e&&(Pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v5e(t)}function v5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pz=function(){return!!t})()}function nv(t){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(t)}function j5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f2(t,e)}function f2(t,e){return f2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},f2(t,e)}function To(t,e,r){return e=hz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hz(t){var e=N5e(t,"string");return Pu(e)=="symbol"?e:e+""}function N5e(t,e){if(Pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oi=function(t){function e(){var r;g5e(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=x5e(this,e,[].concat(s)),To(r,"state",{isAnimationFinished:!1}),To(r,"id",Wp("recharts-bar-")),To(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),To(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return j5e(e,t),y5e(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,o=this.props,i=o.shape,l=o.dataKey,c=o.activeIndex,u=o.activeBar,d=We(this.props,!1);return n&&n.map(function(m,f){var p=f===c,h=p?u:i,y=lr(lr(lr({},d),m),{},{isActive:p,option:h,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Q.createElement(xt,rv({className:"recharts-bar-rectangle"},Il(s.props,m,f),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(f)}),Q.createElement(n_,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,o=s.data,i=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,m=s.animationId,f=this.state.prevData;return Q.createElement(Gs,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var h=p.t,y=o.map(function(b,g){var x=f&&f[g];if(x){var v=po(x.x,b.x),w=po(x.y,b.y),N=po(x.width,b.width),S=po(x.height,b.height);return lr(lr({},b),{},{x:v(h),y:w(h),width:N(h),height:S(h)})}if(i==="horizontal"){var C=po(0,b.height),A=C(h);return lr(lr({},b),{},{y:b.y+b.height-A,height:A})}var T=po(0,b.width),I=T(h);return lr(lr({},b),{},{width:I})});return Q.createElement(xt,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&s&&s.length&&(!i||!aN(i,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,o=s.data,i=s.dataKey,l=s.activeIndex,c=We(this.props.background,!1);return o.map(function(u,d){u.value;var m=u.background,f=p5e(u,f5e);if(!m)return null;var p=lr(lr(lr(lr(lr({},f),{},{fill:"#eee"},m),c),Il(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return Q.createElement(n_,rv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,l=o.xAxis,c=o.yAxis,u=o.layout,d=o.children,m=oa(d,iN);if(!m)return null;var f=u==="vertical"?i[0].height/2:i[0].width/2,p=function(b,g){var x=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:x,errorVal:Yr(b,g)}},h={clipPath:n?"url(#clipPath-".concat(s,")"):null};return Q.createElement(xt,h,m.map(function(y){return Q.cloneElement(y,{key:"error-bar-".concat(s,"-").concat(y.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,o=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,m=n.width,f=n.height,p=n.isAnimationActive,h=n.background,y=n.id;if(s||!o||!o.length)return null;var b=this.state.isAnimationFinished,g=_e("recharts-bar",i),x=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,w=x||v,N=et(y)?this.id:y;return Q.createElement(xt,{className:g},x||v?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(N)},Q.createElement("rect",{x:x?u:u-m/2,y:v?d:d-f/2,width:x?m:m*2,height:v?f:f*2}))):null,Q.createElement(xt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(N,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,N),(!p||b)&&qo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(j.PureComponent);fz=oi;To(oi,"displayName","Bar");To(oi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!od.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});To(oi,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,o=t.xAxis,i=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,m=t.displayedData,f=t.offset,p=Qke(n,r);if(!p)return null;var h=e.layout,y=r.type.defaultProps,b=y!==void 0?lr(lr({},y),r.props):r.props,g=b.dataKey,x=b.children,v=b.minPointSize,w=h==="horizontal"?i:o,N=u?w.scale.domain():null,S=oEe({numericAxis:w}),C=oa(x,gi),A=m.map(function(T,I){var k,$,L,q,E,R;u?k=eEe(u[d+I],N):(k=Yr(T,g),Array.isArray(k)||(k=[S,k]));var U=m5e(v,fz.defaultProps.minPointSize)(k[1],I);if(h==="horizontal"){var B,P=[i.scale(k[0]),i.scale(k[1])],O=P[0],V=P[1];$=YF({axis:o,ticks:l,bandSize:s,offset:p.offset,entry:T,index:I}),L=(B=V??O)!==null&&B!==void 0?B:void 0,q=p.size;var _=O-V;if(E=Number.isNaN(_)?0:_,R={x:$,y:i.y,width:q,height:i.height},Math.abs(U)>0&&Math.abs(E)<Math.abs(U)){var H=tn(E||U)*(Math.abs(U)-Math.abs(E));L-=H,E+=H}}else{var G=[o.scale(k[0]),o.scale(k[1])],re=G[0],ie=G[1];if($=re,L=YF({axis:i,ticks:c,bandSize:s,offset:p.offset,entry:T,index:I}),q=ie-re,E=p.size,R={x:o.x,y:L,width:o.width,height:E},Math.abs(U)>0&&Math.abs(q)<Math.abs(U)){var te=tn(q||U)*(Math.abs(U)-Math.abs(q));q+=te}}return lr(lr(lr({},T),{},{x:$,y:L,width:q,height:E,value:u?k:k[1],payload:T,background:R},C&&C[I]&&C[I].props),{},{tooltipPayload:[F8(r,T)],tooltipPosition:{x:$+q/2,y:L+E/2}})});return lr({data:A,layout:h},f)});function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function w5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gz(n.key),n)}}function C5e(t,e,r){return e&&o_(t.prototype,e),r&&o_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i_(Object(r),!0).forEach(function(n){pN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pN(t,e,r){return e=gz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gz(t){var e=S5e(t,"string");return cp(e)=="symbol"?e:e+""}function S5e(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A5e=function(e,r,n,s,o){var i=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),m={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},f=!!Tn(u,oi);return d.reduce(function(p,h){var y=r[h],b=y.orientation,g=y.domain,x=y.padding,v=x===void 0?{}:x,w=y.mirror,N=y.reversed,S="".concat(b).concat(w?"Mirror":""),C,A,T,I,k;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var $=g[1]-g[0],L=1/0,q=y.categoricalDomain.sort(Mxe);if(q.forEach(function(G,re){re>0&&(L=Math.min((G||0)-(q[re-1]||0),L))}),Number.isFinite(L)){var E=L/$,R=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(C=E*R/2),y.padding==="no-gap"){var U=rn(e.barCategoryGap,E*R),B=E*R/2;C=B-U-(B-U)/R*U}}}s==="xAxis"?A=[n.left+(v.left||0)+(C||0),n.left+n.width-(v.right||0)-(C||0)]:s==="yAxis"?A=c==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(C||0),n.top+n.height-(v.bottom||0)-(C||0)]:A=y.range,N&&(A=[A[1],A[0]]);var P=O8(y,o,f),O=P.scale,V=P.realScaleType;O.domain(g).range(A),$8(O);var _=R8(O,ja(ja({},y),{},{realScaleType:V}));s==="xAxis"?(k=b==="top"&&!w||b==="bottom"&&w,T=n.left,I=m[S]-k*y.height):s==="yAxis"&&(k=b==="left"&&!w||b==="right"&&w,T=m[S]-k*y.width,I=n.top);var H=ja(ja(ja({},y),_),{},{realScaleType:V,x:T,y:I,scale:O,width:s==="xAxis"?n.width:y.width,height:s==="yAxis"?n.height:y.height});return H.bandSize=qb(H,_),!y.hide&&s==="xAxis"?m[S]+=(k?-1:1)*H.height:y.hide||(m[S]+=(k?-1:1)*H.width),ja(ja({},p),{},pN({},h,H))},{})},yz=function(e,r){var n=e.x,s=e.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(s,i),width:Math.abs(o-n),height:Math.abs(i-s)}},I5e=function(e){var r=e.x1,n=e.y1,s=e.x2,o=e.y2;return yz({x:r,y:n},{x:s,y:o})},xz=function(){function t(e){w5e(this,t),this.scale=e}return C5e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],o=n[n.length-1];return s<=o?r>=s&&r<=o:r>=o&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])}();pN(xz,"EPS",1e-4);var FE=function(e){var r=Object.keys(e).reduce(function(n,s){return ja(ja({},n),{},pN({},s,xz.create(e[s])))},{});return ja(ja({},r),{},{apply:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,l=o.position;return GLe(s,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(s){return mz(s,function(o,i){return r[i].isInRange(o)})}})};function T5e(t){return(t%180+180)%180}var P5e=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=T5e(s),i=o*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},k5e=ds,E5e=Gp,D5e=Gj;function O5e(t){return function(e,r,n){var s=Object(e);if(!E5e(e)){var o=k5e(r);e=D5e(e),r=function(l){return o(s[l],l,s)}}var i=t(e,r,n);return i>-1?s[o?e[i]:i]:void 0}}var $5e=O5e,R5e=lz;function L5e(t){var e=R5e(t),r=e%1;return e===e?r?e-r:e:0}var F5e=L5e,M5e=f7,_5e=ds,B5e=F5e,q5e=Math.max;function V5e(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var s=r==null?0:B5e(r);return s<0&&(s=q5e(n+s,0)),M5e(t,_5e(e),s)}var U5e=V5e,z5e=$5e,W5e=U5e,G5e=z5e(W5e),H5e=G5e;const Y5e=ut(H5e);var K5e=qye(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ME=j.createContext(void 0),_E=j.createContext(void 0),bz=j.createContext(void 0),vz=j.createContext({}),jz=j.createContext(void 0),Nz=j.createContext(0),wz=j.createContext(0),l_=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,o=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=K5e(o);return Q.createElement(ME.Provider,{value:n},Q.createElement(_E.Provider,{value:s},Q.createElement(vz.Provider,{value:o},Q.createElement(bz.Provider,{value:d},Q.createElement(jz.Provider,{value:i},Q.createElement(Nz.Provider,{value:u},Q.createElement(wz.Provider,{value:c},l)))))))},J5e=function(){return j.useContext(jz)},Cz=function(e){var r=j.useContext(ME);r==null&&kl();var n=r[e];return n==null&&kl(),n},X5e=function(){var e=j.useContext(ME);return bo(e)},Z5e=function(){var e=j.useContext(_E),r=Y5e(e,function(n){return mz(n.domain,Number.isFinite)});return r||bo(e)},Sz=function(e){var r=j.useContext(_E);r==null&&kl();var n=r[e];return n==null&&kl(),n},Q5e=function(){var e=j.useContext(bz);return e},eFe=function(){return j.useContext(vz)},BE=function(){return j.useContext(wz)},qE=function(){return j.useContext(Nz)};function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function tFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Iz(n.key),n)}}function nFe(t,e,r){return e&&rFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aFe(t,e,r){return e=av(e),sFe(t,Az()?Reflect.construct(e,r||[],av(t).constructor):e.apply(t,r))}function sFe(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oFe(t)}function oFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Az(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Az=function(){return!!t})()}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},av(t)}function iFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p2(t,e)}function p2(t,e){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},p2(t,e)}function c_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function u_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c_(Object(r),!0).forEach(function(n){VE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VE(t,e,r){return e=Iz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iz(t){var e=lFe(t,"string");return ku(e)=="symbol"?e:e+""}function lFe(t,e){if(ku(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ku(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cFe(t,e){return fFe(t)||mFe(t,e)||dFe(t,e)||uFe()}function uFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dFe(t,e){if(t){if(typeof t=="string")return d_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(t,e)}}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function fFe(t){if(Array.isArray(t))return t}function h2(){return h2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h2.apply(this,arguments)}var pFe=function(e,r){var n;return Q.isValidElement(e)?n=Q.cloneElement(e,r):Ge(e)?n=e(r):n=Q.createElement("line",h2({},r,{className:"recharts-reference-line-line"})),n},hFe=function(e,r,n,s,o,i,l,c,u){var d=o.x,m=o.y,f=o.width,p=o.height;if(n){var h=u.y,y=e.y.apply(h,{position:i});if(ts(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+f,y},{x:d,y}];return c==="left"?b.reverse():b}if(r){var g=u.x,x=e.x.apply(g,{position:i});if(ts(u,"discard")&&!e.x.isInRange(x))return null;var v=[{x,y:m+p},{x,y:m}];return l==="top"?v.reverse():v}if(s){var w=u.segment,N=w.map(function(S){return e.apply(S,{position:i})});return ts(u,"discard")&&MLe(N,function(S){return!e.isInRange(S)})?null:N}return null};function gFe(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,o=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=J5e(),d=Cz(s),m=Sz(o),f=Q5e();if(!u||!f)return null;Pa(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=FE({x:d.scale,y:m.scale}),h=jr(e),y=jr(r),b=n&&n.length===2,g=hFe(p,h,y,b,f,t.position,d.orientation,m.orientation,t);if(!g)return null;var x=cFe(g,2),v=x[0],w=v.x,N=v.y,S=x[1],C=S.x,A=S.y,T=ts(t,"hidden")?"url(#".concat(u,")"):void 0,I=u_(u_({clipPath:T},We(t,!0)),{},{x1:w,y1:N,x2:C,y2:A});return Q.createElement(xt,{className:_e("recharts-reference-line",l)},pFe(i,I),Sr.renderCallByParent(t,I5e({x1:w,y1:N,x2:C,y2:A})))}var UE=function(t){function e(){return tFe(this,e),aFe(this,e,arguments)}return iFe(e,t),nFe(e,[{key:"render",value:function(){return Q.createElement(gFe,this.props)}}])}(Q.Component);VE(UE,"displayName","ReferenceLine");VE(UE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function g2(){return g2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g2.apply(this,arguments)}function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function m_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function f_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m_(Object(r),!0).forEach(function(n){hN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pz(n.key),n)}}function bFe(t,e,r){return e&&xFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vFe(t,e,r){return e=sv(e),jFe(t,Tz()?Reflect.construct(e,r||[],sv(t).constructor):e.apply(t,r))}function jFe(t,e){if(e&&(Eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NFe(t)}function NFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tz=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sv(t)}function wFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y2(t,e)}function y2(t,e){return y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},y2(t,e)}function hN(t,e,r){return e=Pz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pz(t){var e=CFe(t,"string");return Eu(e)=="symbol"?e:e+""}function CFe(t,e){if(Eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SFe=function(e){var r=e.x,n=e.y,s=e.xAxis,o=e.yAxis,i=FE({x:s.scale,y:o.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return ts(e,"discard")&&!i.isInRange(l)?null:l},gN=function(t){function e(){return yFe(this,e),vFe(this,e,arguments)}return wFe(e,t),bFe(e,[{key:"render",value:function(){var n=this.props,s=n.x,o=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=jr(s),d=jr(o);if(Pa(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var m=SFe(this.props);if(!m)return null;var f=m.x,p=m.y,h=this.props,y=h.shape,b=h.className,g=ts(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=f_(f_({clipPath:g},We(this.props,!0)),{},{cx:f,cy:p});return Q.createElement(xt,{className:_e("recharts-reference-dot",b)},e.renderDot(y,x),Sr.renderCallByParent(this.props,{x:f-i,y:p-i,width:2*i,height:2*i}))}}])}(Q.Component);hN(gN,"displayName","ReferenceDot");hN(gN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hN(gN,"renderDot",function(t,e){var r;return Q.isValidElement(t)?r=Q.cloneElement(t,e):Ge(t)?r=t(e):r=Q.createElement(LE,g2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function x2(){return x2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x2.apply(this,arguments)}function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function p_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function h_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p_(Object(r),!0).forEach(function(n){yN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ez(n.key),n)}}function TFe(t,e,r){return e&&IFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PFe(t,e,r){return e=ov(e),kFe(t,kz()?Reflect.construct(e,r||[],ov(t).constructor):e.apply(t,r))}function kFe(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EFe(t)}function EFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ov(t)}function DFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b2(t,e)}function b2(t,e){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},b2(t,e)}function yN(t,e,r){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ez(t){var e=OFe(t,"string");return Du(e)=="symbol"?e:e+""}function OFe(t,e){if(Du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Fe=function(e,r,n,s,o){var i=o.x1,l=o.x2,c=o.y1,u=o.y2,d=o.xAxis,m=o.yAxis;if(!d||!m)return null;var f=FE({x:d.scale,y:m.scale}),p={x:e?f.x.apply(i,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(c,{position:"start"}):f.y.rangeMin},h={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(u,{position:"end"}):f.y.rangeMax};return ts(o,"discard")&&(!f.isInRange(p)||!f.isInRange(h))?null:yz(p,h)},xN=function(t){function e(){return AFe(this,e),PFe(this,e,arguments)}return DFe(e,t),TFe(e,[{key:"render",value:function(){var n=this.props,s=n.x1,o=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Pa(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=jr(s),f=jr(o),p=jr(i),h=jr(l),y=this.props.shape;if(!m&&!f&&!p&&!h&&!y)return null;var b=$Fe(m,f,p,h,this.props);if(!b&&!y)return null;var g=ts(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Q.createElement(xt,{className:_e("recharts-reference-area",c)},e.renderRect(y,h_(h_({clipPath:g},We(this.props,!0)),b)),Sr.renderCallByParent(this.props,b))}}])}(Q.Component);yN(xN,"displayName","ReferenceArea");yN(xN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yN(xN,"renderRect",function(t,e){var r;return Q.isValidElement(t)?r=Q.cloneElement(t,e):Ge(t)?r=t(e):r=Q.createElement(RE,x2({},e,{className:"recharts-reference-area-rect"})),r});function Dz(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function RFe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return P5e(n,r)}function LFe(t,e,r){var n=r==="width",s=t.x,o=t.y,i=t.width,l=t.height;return e===1?{start:n?s:o,end:n?s+i:o+l}:{start:n?s+i:o+l,end:n?s:o}}function iv(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-s)<=0}function FFe(t,e){return Dz(t,e+1)}function MFe(t,e,r,n,s){for(var o=(n||[]).slice(),i=e.start,l=e.end,c=0,u=1,d=i,m=function(){var h=n==null?void 0:n[c];if(h===void 0)return{v:Dz(n,u)};var y=c,b,g=function(){return b===void 0&&(b=r(h,y)),b},x=h.coordinate,v=c===0||iv(t,x,g,d,l);v||(c=0,d=i,u+=1),v&&(d=x+t*(g()/2+s),c+=u)},f;u<=o.length;)if(f=m(),f)return f.v;return[]}function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function g_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g_(Object(r),!0).forEach(function(n){_Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Fe(t,e,r){return e=BFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BFe(t){var e=qFe(t,"string");return up(e)=="symbol"?e:e+""}function qFe(t,e){if(up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VFe(t,e,r,n,s){for(var o=(n||[]).slice(),i=o.length,l=e.start,c=e.end,u=function(f){var p=o[f],h,y=function(){return h===void 0&&(h=r(p,f)),h};if(f===i-1){var b=t*(p.coordinate+t*y()/2-c);o[f]=p=zr(zr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else o[f]=p=zr(zr({},p),{},{tickCoord:p.coordinate});var g=iv(t,p.tickCoord,y,l,c);g&&(c=p.tickCoord-t*(y()/2+s),o[f]=zr(zr({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return o}function UFe(t,e,r,n,s,o){var i=(n||[]).slice(),l=i.length,c=e.start,u=e.end;if(o){var d=n[l-1],m=r(d,l-1),f=t*(d.coordinate+t*m/2-u);i[l-1]=d=zr(zr({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=iv(t,d.tickCoord,function(){return m},c,u);p&&(u=d.tickCoord-t*(m/2+s),i[l-1]=zr(zr({},d),{},{isShow:!0}))}for(var h=o?l-1:l,y=function(x){var v=i[x],w,N=function(){return w===void 0&&(w=r(v,x)),w};if(x===0){var S=t*(v.coordinate-t*N()/2-c);i[x]=v=zr(zr({},v),{},{tickCoord:S<0?v.coordinate-S*t:v.coordinate})}else i[x]=v=zr(zr({},v),{},{tickCoord:v.coordinate});var C=iv(t,v.tickCoord,N,c,u);C&&(c=v.tickCoord+t*(N()/2+s),i[x]=zr(zr({},v),{},{isShow:!0}))},b=0;b<h;b++)y(b);return i}function zE(t,e,r){var n=t.tick,s=t.ticks,o=t.viewBox,i=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,m=t.angle;if(!s||!s.length||!n)return[];if(ve(c)||od.isSsr)return FFe(s,typeof c=="number"&&ve(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",h=d&&p==="width"?Em(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(v,w){var N=Ge(u)?u(v.value,w):v.value;return p==="width"?RFe(Em(N,{fontSize:e,letterSpacing:r}),h,m):Em(N,{fontSize:e,letterSpacing:r})[p]},b=s.length>=2?tn(s[1].coordinate-s[0].coordinate):1,g=LFe(o,b,p);return c==="equidistantPreserveStart"?MFe(b,g,y,s,i):(c==="preserveStart"||c==="preserveStartEnd"?f=UFe(b,g,y,s,i,c==="preserveStartEnd"):f=VFe(b,g,y,s,i),f.filter(function(x){return x.isShow}))}var zFe=["viewBox"],WFe=["viewBox"],GFe=["ticks"];function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tc.apply(this,arguments)}function y_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y_(Object(r),!0).forEach(function(n){WE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aC(t,e){if(t==null)return{};var r=HFe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$z(n.key),n)}}function KFe(t,e,r){return e&&x_(t.prototype,e),r&&x_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JFe(t,e,r){return e=lv(e),XFe(t,Oz()?Reflect.construct(e,r||[],lv(t).constructor):e.apply(t,r))}function XFe(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZFe(t)}function ZFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(t)}function QFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v2(t,e)}function v2(t,e){return v2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},v2(t,e)}function WE(t,e,r){return e=$z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $z(t){var e=eMe(t,"string");return Ou(e)=="symbol"?e:e+""}function eMe(t,e){if(Ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ud=function(t){function e(r){var n;return YFe(this,e),n=JFe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return QFe(e,t),KFe(e,[{key:"shouldComponentUpdate",value:function(n,s){var o=n.viewBox,i=aC(n,zFe),l=this.props,c=l.viewBox,u=aC(l,WFe);return!_c(o,c)||!_c(i,u)||!_c(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.x,i=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,m=s.mirror,f=s.tickMargin,p,h,y,b,g,x,v=m?-1:1,w=n.tickSize||d,N=ve(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=h=n.coordinate,b=i+ +!m*c,y=b-v*w,x=y-v*f,g=N;break;case"left":y=b=n.coordinate,h=o+ +!m*l,p=h-v*w,g=p-v*f,x=N;break;case"right":y=b=n.coordinate,h=o+ +m*l,p=h+v*w,g=p+v*f,x=N;break;default:p=h=n.coordinate,b=i+ +m*c,y=b+v*w,x=y+v*f,g=N;break}return{line:{x1:p,y1:y,x2:h,y2:b},tick:{x:g,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,i;switch(s){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,i="end";switch(s){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,m=gr(gr(gr({},We(this.props,!1)),We(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!u||c==="bottom"&&u);m=gr(gr({},m),{},{x1:s,y1:o+f*l,x2:s+i,y2:o+f*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);m=gr(gr({},m),{},{x1:s+p*i,y1:o,x2:s+p*i,y2:o+l})}return Q.createElement("line",Tc({},m,{className:_e("recharts-cartesian-axis-line",$n(d,"className"))}))}},{key:"renderTicks",value:function(n,s,o){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,m=l.tickFormatter,f=l.unit,p=zE(gr(gr({},this.props),{},{ticks:n}),s,o),h=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=We(this.props,!1),g=We(d,!1),x=gr(gr({},b),{},{fill:"none"},We(c,!1)),v=p.map(function(w,N){var S=i.getTickLineCoord(w),C=S.line,A=S.tick,T=gr(gr(gr(gr({textAnchor:h,verticalAnchor:y},b),{},{stroke:"none",fill:u},g),A),{},{index:N,payload:w,visibleTicksCount:p.length,tickFormatter:m});return Q.createElement(xt,Tc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Il(i.props,w,N)),c&&Q.createElement("line",Tc({},x,C,{className:_e("recharts-cartesian-axis-tick-line",$n(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(Ge(m)?m(w.value,N):w.value).concat(f||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,s=this.props,o=s.axisLine,i=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var m=this.props,f=m.ticks,p=aC(m,GFe),h=f;return Ge(c)&&(h=f&&f.length>0?c(this.props):c(p)),i<=0||l<=0||!h||!h.length?null:Q.createElement(xt,{className:_e("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),Sr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,o){var i,l=_e(s.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(n)?i=Q.cloneElement(n,gr(gr({},s),{},{className:l})):Ge(n)?i=n(gr(gr({},s),{},{className:l})):i=Q.createElement(Tl,Tc({},s,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(j.Component);WE(ud,"displayName","CartesianAxis");WE(ud,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tMe=["x1","y1","x2","y2","key"],rMe=["offset"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function b_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(r),!0).forEach(function(n){nMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nMe(t,e,r){return e=aMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aMe(t){var e=sMe(t,"string");return El(e)=="symbol"?e:e+""}function sMe(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wi.apply(this,arguments)}function v_(t,e){if(t==null)return{};var r=oMe(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var iMe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,o=e.y,i=e.width,l=e.height,c=e.ry;return Q.createElement("rect",{x:s,y:o,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Rz(t,e){var r;if(Q.isValidElement(t))r=Q.cloneElement(t,e);else if(Ge(t))r=t(e);else{var n=e.x1,s=e.y1,o=e.x2,i=e.y2,l=e.key,c=v_(e,tMe),u=We(c,!1);u.offset;var d=v_(u,rMe);r=Q.createElement("line",Wi({},d,{x1:n,y1:s,x2:o,y2:i,fill:"none",key:l}))}return r}function lMe(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,o=t.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(l,c){var u=Gr(Gr({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return Rz(s,u)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function cMe(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,o=t.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(l,c){var u=Gr(Gr({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return Rz(s,u)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function uMe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,o=t.width,i=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,p){return f-p});s!==d[0]&&d.unshift(0);var m=d.map(function(f,p){var h=!d[p+1],y=h?s+i-f:d[p+1]-f;if(y<=0)return null;var b=p%e.length;return Q.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:y,width:o,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function dMe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,o=t.x,i=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+o-o)}).sort(function(f,p){return f-p});o!==d[0]&&d.unshift(0);var m=d.map(function(f,p){var h=!d[p+1],y=h?o+l-f:d[p+1]-f;if(y<=0)return null;var b=p%n.length;return Q.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:y,height:c,stroke:"none",fill:n[b],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var mMe=function(e,r){var n=e.xAxis,s=e.width,o=e.height,i=e.offset;return D8(zE(Gr(Gr(Gr({},ud.defaultProps),n),{},{ticks:Cs(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.left,i.left+i.width,r)},fMe=function(e,r){var n=e.yAxis,s=e.width,o=e.height,i=e.offset;return D8(zE(Gr(Gr(Gr({},ud.defaultProps),n),{},{ticks:Cs(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.top,i.top+i.height,r)},sc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Lz(t){var e,r,n,s,o,i,l=BE(),c=qE(),u=eFe(),d=Gr(Gr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sc.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:sc.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:sc.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:sc.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:sc.vertical,verticalFill:(i=t.verticalFill)!==null&&i!==void 0?i:sc.verticalFill,x:ve(t.x)?t.x:u.left,y:ve(t.y)?t.y:u.top,width:ve(t.width)?t.width:u.width,height:ve(t.height)?t.height:u.height}),m=d.x,f=d.y,p=d.width,h=d.height,y=d.syncWithTicks,b=d.horizontalValues,g=d.verticalValues,x=X5e(),v=Z5e();if(!ve(p)||p<=0||!ve(h)||h<=0||!ve(m)||m!==+m||!ve(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||mMe,N=d.horizontalCoordinatesGenerator||fMe,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&Ge(N)){var A=b&&b.length,T=N({yAxis:v?Gr(Gr({},v),{},{ticks:A?b:v.ticks}):void 0,width:l,height:c,offset:u},A?!0:y);Pa(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(El(T),"]")),Array.isArray(T)&&(S=T)}if((!C||!C.length)&&Ge(w)){var I=g&&g.length,k=w({xAxis:x?Gr(Gr({},x),{},{ticks:I?g:x.ticks}):void 0,width:l,height:c,offset:u},I?!0:y);Pa(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(El(k),"]")),Array.isArray(k)&&(C=k)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(iMe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Q.createElement(lMe,Wi({},d,{offset:u,horizontalPoints:S,xAxis:x,yAxis:v})),Q.createElement(cMe,Wi({},d,{offset:u,verticalPoints:C,xAxis:x,yAxis:v})),Q.createElement(uMe,Wi({},d,{horizontalPoints:S})),Q.createElement(dMe,Wi({},d,{verticalPoints:C})))}Lz.displayName="CartesianGrid";function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function pMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_z(n.key),n)}}function gMe(t,e,r){return e&&hMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yMe(t,e,r){return e=cv(e),xMe(t,Fz()?Reflect.construct(e,r||[],cv(t).constructor):e.apply(t,r))}function xMe(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bMe(t)}function bMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fz=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cv(t)}function vMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j2(t,e)}function j2(t,e){return j2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},j2(t,e)}function Mz(t,e,r){return e=_z(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _z(t){var e=jMe(t,"string");return $u(e)=="symbol"?e:e+""}function jMe(t,e){if($u(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N2.apply(this,arguments)}function NMe(t){var e=t.xAxisId,r=BE(),n=qE(),s=Cz(e);return s==null?null:j.createElement(ud,N2({},s,{className:_e("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Cs(i,!0)}}))}var bN=function(t){function e(){return pMe(this,e),yMe(this,e,arguments)}return vMe(e,t),gMe(e,[{key:"render",value:function(){return j.createElement(NMe,this.props)}}])}(j.Component);Mz(bN,"displayName","XAxis");Mz(bN,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function wMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vz(n.key),n)}}function SMe(t,e,r){return e&&CMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AMe(t,e,r){return e=uv(e),IMe(t,Bz()?Reflect.construct(e,r||[],uv(t).constructor):e.apply(t,r))}function IMe(t,e){if(e&&(Ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TMe(t)}function TMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bz=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uv(t)}function PMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w2(t,e)}function w2(t,e){return w2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},w2(t,e)}function qz(t,e,r){return e=Vz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vz(t){var e=kMe(t,"string");return Ru(e)=="symbol"?e:e+""}function kMe(t,e){if(Ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function C2(){return C2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C2.apply(this,arguments)}var EMe=function(e){var r=e.yAxisId,n=BE(),s=qE(),o=Sz(r);return o==null?null:j.createElement(ud,C2({},o,{className:_e("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Cs(l,!0)}}))},vN=function(t){function e(){return wMe(this,e),AMe(this,e,arguments)}return PMe(e,t),SMe(e,[{key:"render",value:function(){return j.createElement(EMe,this.props)}}])}(j.Component);qz(vN,"displayName","YAxis");qz(vN,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function j_(t){return RMe(t)||$Me(t)||OMe(t)||DMe()}function DMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OMe(t,e){if(t){if(typeof t=="string")return S2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S2(t,e)}}function $Me(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RMe(t){if(Array.isArray(t))return S2(t)}function S2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var A2=function(e,r,n,s,o){var i=oa(e,UE),l=oa(e,gN),c=[].concat(j_(i),j_(l)),u=oa(e,xN),d="".concat(s,"Id"),m=s[0],f=r;if(c.length&&(f=c.reduce(function(y,b){if(b.props[d]===n&&ts(b.props,"extendDomain")&&ve(b.props[m])){var g=b.props[m];return[Math.min(y[0],g),Math.max(y[1],g)]}return y},f)),u.length){var p="".concat(m,"1"),h="".concat(m,"2");f=u.reduce(function(y,b){if(b.props[d]===n&&ts(b.props,"extendDomain")&&ve(b.props[p])&&ve(b.props[h])){var g=b.props[p],x=b.props[h];return[Math.min(y[0],g,x),Math.max(y[1],g,x)]}return y},f)}return o&&o.length&&(f=o.reduce(function(y,b){return ve(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},f)),f},Uz={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function o(c,u,d,m,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,m||c,f),h=r?r+u:u;return c._events[h]?c._events[h].fn?c._events[h]=[c._events[h],p]:c._events[h].push(p):(c._events[h]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)e.call(d,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,p=m.length,h=new Array(p);f<p;f++)h[f]=m[f].fn;return h},l.prototype.listenerCount=function(u){var d=r?r+u:u,m=this._events[d];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,d,m,f,p,h){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],g=arguments.length,x,v;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),g){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,m),!0;case 4:return b.fn.call(b.context,d,m,f),!0;case 5:return b.fn.call(b.context,d,m,f,p),!0;case 6:return b.fn.call(b.context,d,m,f,p,h),!0}for(v=1,x=new Array(g-1);v<g;v++)x[v-1]=arguments[v];b.fn.apply(b.context,x)}else{var w=b.length,N;for(v=0;v<w;v++)switch(b[v].once&&this.removeListener(u,b[v].fn,void 0,!0),g){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,d);break;case 3:b[v].fn.call(b[v].context,d,m);break;case 4:b[v].fn.call(b[v].context,d,m,f);break;default:if(!x)for(N=1,x=new Array(g-1);N<g;N++)x[N-1]=arguments[N];b[v].fn.apply(b[v].context,x)}}return!0},l.prototype.on=function(u,d,m){return o(this,u,d,m,!1)},l.prototype.once=function(u,d,m){return o(this,u,d,m,!0)},l.prototype.removeListener=function(u,d,m,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var h=this._events[p];if(h.fn)h.fn===d&&(!f||h.once)&&(!m||h.context===m)&&i(this,p);else{for(var y=0,b=[],g=h.length;y<g;y++)(h[y].fn!==d||f&&!h[y].once||m&&h[y].context!==m)&&b.push(h[y]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(Uz);var LMe=Uz.exports;const FMe=ut(LMe);var sC=new FMe,oC="recharts.syncMouseEvents";function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function MMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zz(n.key),n)}}function BMe(t,e,r){return e&&_Me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iC(t,e,r){return e=zz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zz(t){var e=qMe(t,"string");return dp(e)=="symbol"?e:e+""}function qMe(t,e){if(dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VMe=function(){function t(){MMe(this,t),iC(this,"activeIndex",0),iC(this,"coordinateList",[]),iC(this,"layout","horizontal")}return BMe(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,o=s===void 0?null:s,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,m=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),o=s.x,i=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=o+c+u,f=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:m,pageY:f})}}}])}();function UMe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&ve(n)&&ve(s))return!0}return!1}function zMe(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Wz(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,o=t.endAngle,i=Ot(e,r,n,s),l=Ot(e,r,n,o);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:o}}function WMe(t,e,r){var n,s,o,i;if(t==="horizontal")n=e.x,o=n,s=r.top,i=r.top+r.height;else if(t==="vertical")s=e.y,i=s,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,m=e.angle,f=Ot(l,c,u,m),p=Ot(l,c,d,m);n=f.x,s=f.y,o=p.x,i=p.y}else return Wz(e);return[{x:n,y:s},{x:o,y:i}]}function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function N_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Wh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(r),!0).forEach(function(n){GMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GMe(t,e,r){return e=HMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HMe(t){var e=YMe(t,"string");return mp(e)=="symbol"?e:e+""}function YMe(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KMe(t){var e,r,n=t.element,s=t.tooltipEventType,o=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,m=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||f!=="ScatterChart"&&s!=="axis")return null;var h,y=YI;if(f==="ScatterChart")h=i,y=A$e;else if(f==="BarChart")h=zMe(m,i,c,d),y=RE;else if(m==="radial"){var b=Wz(i),g=b.cx,x=b.cy,v=b.radius,w=b.startAngle,N=b.endAngle;h={cx:g,cy:x,startAngle:w,endAngle:N,innerRadius:v,outerRadius:v},y=U8}else h={points:WMe(m,i,c)},y=YI;var S=Wh(Wh(Wh(Wh({stroke:"#ccc",pointerEvents:"none"},c),h),We(p,!1)),{},{payload:l,payloadIndex:u,className:_e("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,S):j.createElement(y,S)}var JMe=["item"],XMe=["children","className","width","height","style","compact","title","desc"];function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pc.apply(this,arguments)}function w_(t,e){return e_e(t)||QMe(t,e)||Hz(t,e)||ZMe()}function ZMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function e_e(t){if(Array.isArray(t))return t}function C_(t,e){if(t==null)return{};var r=t_e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function r_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yz(n.key),n)}}function a_e(t,e,r){return e&&n_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s_e(t,e,r){return e=dv(e),o_e(t,Gz()?Reflect.construct(e,r||[],dv(t).constructor):e.apply(t,r))}function o_e(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i_e(t)}function i_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gz=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dv(t)}function l_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I2(t,e)}function I2(t,e){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I2(t,e)}function Fu(t){return d_e(t)||u_e(t)||Hz(t)||c_e()}function c_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(t,e){if(t){if(typeof t=="string")return T2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T2(t,e)}}function u_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function d_e(t){if(Array.isArray(t))return T2(t)}function T2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S_(Object(r),!0).forEach(function(n){Ue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ue(t,e,r){return e=Yz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yz(t){var e=m_e(t,"string");return Lu(e)=="symbol"?e:e+""}function m_e(t,e){if(Lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f_e={xAxis:["bottom","top"],yAxis:["left","right"]},p_e={width:"100%",height:"100%"},Kz={x:0,y:0};function Gh(t){return t}var h_e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},g_e=function(e,r,n,s){var o=r.find(function(d){return d&&d.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:o.coordinate};if(e==="centric"){var i=o.coordinate,l=s.radius;return de(de(de({},s),Ot(s.cx,s.cy,l,i)),{},{angle:i,radius:l})}var c=o.coordinate,u=s.angle;return de(de(de({},s),Ot(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return Kz},jN=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Fu(l),Fu(u)):l},[]);return i.length>0?i:e&&e.length&&ve(s)&&ve(o)?e.slice(s,o+1):[]};function Jz(t){return t==="number"?[0,"auto"]:void 0}var P2=function(e,r,n,s){var o=e.graphicalItems,i=e.tooltipAxis,l=jN(r,e);return n<0||!o||!o.length||n>=l.length?null:o.reduce(function(c,u){var d,m=(d=u.props.data)!==null&&d!==void 0?d:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(i.dataKey&&!i.allowDuplicatedCategory){var p=m===void 0?l:m;f=rI(p,i.dataKey,s)}else f=m&&m[n]||l[n];return f?[].concat(Fu(c),[F8(u,f)]):c},[])},A_=function(e,r,n,s){var o=s||{x:e.chartX,y:e.chartY},i=h_e(o,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=Hke(i,l,u,c);if(d>=0&&u){var m=u[d]&&u[d].value,f=P2(e,r,d,m),p=g_e(n,l,d,o);return{activeTooltipIndex:d,activeLabel:m,activePayload:f,activeCoordinate:p}}return null},y_e=function(e,r){var n=r.axes,s=r.graphicalItems,o=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,m=e.children,f=e.stackOffset,p=E8(d,o);return n.reduce(function(h,y){var b,g=y.type.defaultProps!==void 0?de(de({},y.type.defaultProps),y.props):y.props,x=g.type,v=g.dataKey,w=g.allowDataOverflow,N=g.allowDuplicatedCategory,S=g.scale,C=g.ticks,A=g.includeHidden,T=g[i];if(h[T])return h;var I=jN(e.data,{graphicalItems:s.filter(function(_){var H,G=i in _.props?_.props[i]:(H=_.type.defaultProps)===null||H===void 0?void 0:H[i];return G===T}),dataStartIndex:c,dataEndIndex:u}),k=I.length,$,L,q;UMe(g.domain,w,x)&&($=UI(g.domain,null,w),p&&(x==="number"||S!=="auto")&&(q=Om(I,v,"category")));var E=Jz(x);if(!$||$.length===0){var R,U=(R=g.domain)!==null&&R!==void 0?R:E;if(v){if($=Om(I,v,x),x==="category"&&p){var B=Fxe($);N&&B?(L=$,$=Qb(0,k)):N||($=XF(U,$,y).reduce(function(_,H){return _.indexOf(H)>=0?_:[].concat(Fu(_),[H])},[]))}else if(x==="category")N?$=$.filter(function(_){return _!==""&&!et(_)}):$=XF(U,$,y).reduce(function(_,H){return _.indexOf(H)>=0||H===""||et(H)?_:[].concat(Fu(_),[H])},[]);else if(x==="number"){var P=Zke(I,s.filter(function(_){var H,G,re=i in _.props?_.props[i]:(H=_.type.defaultProps)===null||H===void 0?void 0:H[i],ie="hide"in _.props?_.props.hide:(G=_.type.defaultProps)===null||G===void 0?void 0:G.hide;return re===T&&(A||!ie)}),v,o,d);P&&($=P)}p&&(x==="number"||S!=="auto")&&(q=Om(I,v,"category"))}else p?$=Qb(0,k):l&&l[T]&&l[T].hasStack&&x==="number"?$=f==="expand"?[0,1]:L8(l[T].stackGroups,c,u):$=k8(I,s.filter(function(_){var H=i in _.props?_.props[i]:_.type.defaultProps[i],G="hide"in _.props?_.props.hide:_.type.defaultProps.hide;return H===T&&(A||!G)}),x,d,!0);if(x==="number")$=A2(m,$,T,o,C),U&&($=UI(U,$,w));else if(x==="category"&&U){var O=U,V=$.every(function(_){return O.indexOf(_)>=0});V&&($=O)}}return de(de({},h),{},Ue({},T,de(de({},g),{},{axisType:o,domain:$,categoricalDomain:q,duplicateDomain:L,originalDomain:(b=g.domain)!==null&&b!==void 0?b:E,isCategorical:p,layout:d})))},{})},x_e=function(e,r){var n=r.graphicalItems,s=r.Axis,o=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,m=e.children,f=jN(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=f.length,h=E8(d,o),y=-1;return n.reduce(function(b,g){var x=g.type.defaultProps!==void 0?de(de({},g.type.defaultProps),g.props):g.props,v=x[i],w=Jz("number");if(!b[v]){y++;var N;return h?N=Qb(0,p):l&&l[v]&&l[v].hasStack?(N=L8(l[v].stackGroups,c,u),N=A2(m,N,v,o)):(N=UI(w,k8(f,n.filter(function(S){var C,A,T=i in S.props?S.props[i]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[i],I="hide"in S.props?S.props.hide:(A=S.type.defaultProps)===null||A===void 0?void 0:A.hide;return T===v&&!I}),"number",d),s.defaultProps.allowDataOverflow),N=A2(m,N,v,o)),de(de({},b),{},Ue({},v,de(de({axisType:o},s.defaultProps),{},{hide:!0,orientation:$n(f_e,"".concat(o,".").concat(y%2),null),domain:N,originalDomain:w,isCategorical:h,layout:d})))}return b},{})},b_e=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,m="".concat(s,"Id"),f=oa(d,o),p={};return f&&f.length?p=y_e(e,{axes:f,graphicalItems:i,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(p=x_e(e,{Axis:o,graphicalItems:i,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},v_e=function(e){var r=bo(e),n=Cs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:lE(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:qb(r,n)}},I_=function(e){var r=e.children,n=e.defaultShowTooltip,s=Tn(r,Tu),o=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(o=s.props.startIndex),s.props.endIndex>=0&&(i=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},j_e=function(e){return!e||!e.length?!1:e.some(function(r){var n=ks(r&&r.type);return n&&n.indexOf("Bar")>=0})},T_=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},N_e=function(e,r){var n=e.props,s=e.graphicalItems,o=e.xAxisMap,i=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,m=n.children,f=n.margin||{},p=Tn(m,Tu),h=Tn(m,ka),y=Object.keys(c).reduce(function(N,S){var C=c[S],A=C.orientation;return!C.mirror&&!C.hide?de(de({},N),{},Ue({},A,N[A]+C.width)):N},{left:f.left||0,right:f.right||0}),b=Object.keys(i).reduce(function(N,S){var C=i[S],A=C.orientation;return!C.mirror&&!C.hide?de(de({},N),{},Ue({},A,$n(N,"".concat(A))+C.height)):N},{top:f.top||0,bottom:f.bottom||0}),g=de(de({},b),y),x=g.bottom;p&&(g.bottom+=p.props.height||Tu.defaultProps.height),h&&r&&(g=Jke(g,s,n,r));var v=u-g.left-g.right,w=d-g.top-g.bottom;return de(de({brushBottom:x},g),{},{width:Math.max(v,0),height:Math.max(w,0)})},w_e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Xz=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,o=s===void 0?"axis":s,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,m=e.defaultProps,f=function(g,x){var v=x.graphicalItems,w=x.stackGroups,N=x.offset,S=x.updateId,C=x.dataStartIndex,A=x.dataEndIndex,T=g.barSize,I=g.layout,k=g.barGap,$=g.barCategoryGap,L=g.maxBarSize,q=T_(I),E=q.numericAxisName,R=q.cateAxisName,U=j_e(v),B=[];return v.forEach(function(P,O){var V=jN(g.data,{graphicalItems:[P],dataStartIndex:C,dataEndIndex:A}),_=P.type.defaultProps!==void 0?de(de({},P.type.defaultProps),P.props):P.props,H=_.dataKey,G=_.maxBarSize,re=_["".concat(E,"Id")],ie=_["".concat(R,"Id")],te={},Z=c.reduce(function(St,se){var Ne=x["".concat(se.axisType,"Map")],ke=_["".concat(se.axisType,"Id")];Ne&&Ne[ke]||se.axisType==="zAxis"||kl();var $e=Ne[ke];return de(de({},St),{},Ue(Ue({},se.axisType,$e),"".concat(se.axisType,"Ticks"),Cs($e)))},te),z=Z[R],W=Z["".concat(R,"Ticks")],X=w&&w[re]&&w[re].hasStack&&iEe(P,w[re].stackGroups),F=ks(P.type).indexOf("Bar")>=0,J=qb(z,W),ne=[],ue=U&&Yke({barSize:T,stackGroups:w,totalSize:w_e(Z,R)});if(F){var ge,we,Ae=et(G)?L:G,be=(ge=(we=qb(z,W,!0))!==null&&we!==void 0?we:Ae)!==null&&ge!==void 0?ge:0;ne=Kke({barGap:k,barCategoryGap:$,bandSize:be!==J?be:J,sizeList:ue[ie],maxBarSize:Ae}),be!==J&&(ne=ne.map(function(St){return de(de({},St),{},{position:de(de({},St.position),{},{offset:St.position.offset-be/2})})}))}var at=P&&P.type&&P.type.getComposedData;at&&B.push({props:de(de({},at(de(de({},Z),{},{displayedData:V,props:g,dataKey:H,item:P,bandSize:J,barPosition:ne,offset:N,stackedData:X,layout:I,dataStartIndex:C,dataEndIndex:A}))),{},Ue(Ue(Ue({key:P.key||"item-".concat(O)},E,Z[E]),R,Z[R]),"animationId",S)),childIndex:Kxe(P,g.children),item:P})}),B},p=function(g,x){var v=g.props,w=g.dataStartIndex,N=g.dataEndIndex,S=g.updateId;if(!WL({props:v}))return null;var C=v.children,A=v.layout,T=v.stackOffset,I=v.data,k=v.reverseStackOrder,$=T_(A),L=$.numericAxisName,q=$.cateAxisName,E=oa(C,n),R=sEe(I,E,"".concat(L,"Id"),"".concat(q,"Id"),T,k),U=c.reduce(function(_,H){var G="".concat(H.axisType,"Map");return de(de({},_),{},Ue({},G,b_e(v,de(de({},H),{},{graphicalItems:E,stackGroups:H.axisType===L&&R,dataStartIndex:w,dataEndIndex:N}))))},{}),B=N_e(de(de({},U),{},{props:v,graphicalItems:E}),x==null?void 0:x.legendBBox);Object.keys(U).forEach(function(_){U[_]=d(v,U[_],B,_.replace("Map",""),r)});var P=U["".concat(q,"Map")],O=v_e(P),V=f(v,de(de({},U),{},{dataStartIndex:w,dataEndIndex:N,updateId:S,graphicalItems:E,stackGroups:R,offset:B}));return de(de({formattedGraphicalItems:V,graphicalItems:E,offset:B,stackGroups:R},O),U)},h=function(b){function g(x){var v,w,N;return r_e(this,g),N=s_e(this,g,[x]),Ue(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(N,"accessibilityManager",new VMe),Ue(N,"handleLegendBBoxUpdate",function(S){if(S){var C=N.state,A=C.dataStartIndex,T=C.dataEndIndex,I=C.updateId;N.setState(de({legendBBox:S},p({props:N.props,dataStartIndex:A,dataEndIndex:T,updateId:I},de(de({},N.state),{},{legendBBox:S}))))}}),Ue(N,"handleReceiveSyncEvent",function(S,C,A){if(N.props.syncId===S){if(A===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(C)}}),Ue(N,"handleBrushChange",function(S){var C=S.startIndex,A=S.endIndex;if(C!==N.state.dataStartIndex||A!==N.state.dataEndIndex){var T=N.state.updateId;N.setState(function(){return de({dataStartIndex:C,dataEndIndex:A},p({props:N.props,dataStartIndex:C,dataEndIndex:A,updateId:T},N.state))}),N.triggerSyncEvent({dataStartIndex:C,dataEndIndex:A})}}),Ue(N,"handleMouseEnter",function(S){var C=N.getMouseInfo(S);if(C){var A=de(de({},C),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var T=N.props.onMouseEnter;Ge(T)&&T(A,S)}}),Ue(N,"triggeredAfterMouseMove",function(S){var C=N.getMouseInfo(S),A=C?de(de({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(A),N.triggerSyncEvent(A);var T=N.props.onMouseMove;Ge(T)&&T(A,S)}),Ue(N,"handleItemMouseEnter",function(S){N.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ue(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ue(N,"handleMouseMove",function(S){S.persist(),N.throttleTriggeredAfterMouseMove(S)}),Ue(N,"handleMouseLeave",function(S){N.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};N.setState(C),N.triggerSyncEvent(C);var A=N.props.onMouseLeave;Ge(A)&&A(C,S)}),Ue(N,"handleOuterEvent",function(S){var C=Yxe(S),A=$n(N.props,"".concat(C));if(C&&Ge(A)){var T,I;/.*touch.*/i.test(C)?I=N.getMouseInfo(S.changedTouches[0]):I=N.getMouseInfo(S),A((T=I)!==null&&T!==void 0?T:{},S)}}),Ue(N,"handleClick",function(S){var C=N.getMouseInfo(S);if(C){var A=de(de({},C),{},{isTooltipActive:!0});N.setState(A),N.triggerSyncEvent(A);var T=N.props.onClick;Ge(T)&&T(A,S)}}),Ue(N,"handleMouseDown",function(S){var C=N.props.onMouseDown;if(Ge(C)){var A=N.getMouseInfo(S);C(A,S)}}),Ue(N,"handleMouseUp",function(S){var C=N.props.onMouseUp;if(Ge(C)){var A=N.getMouseInfo(S);C(A,S)}}),Ue(N,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ue(N,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseDown(S.changedTouches[0])}),Ue(N,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&N.handleMouseUp(S.changedTouches[0])}),Ue(N,"handleDoubleClick",function(S){var C=N.props.onDoubleClick;if(Ge(C)){var A=N.getMouseInfo(S);C(A,S)}}),Ue(N,"handleContextMenu",function(S){var C=N.props.onContextMenu;if(Ge(C)){var A=N.getMouseInfo(S);C(A,S)}}),Ue(N,"triggerSyncEvent",function(S){N.props.syncId!==void 0&&sC.emit(oC,N.props.syncId,S,N.eventEmitterSymbol)}),Ue(N,"applySyncEvent",function(S){var C=N.props,A=C.layout,T=C.syncMethod,I=N.state.updateId,k=S.dataStartIndex,$=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)N.setState(de({dataStartIndex:k,dataEndIndex:$},p({props:N.props,dataStartIndex:k,dataEndIndex:$,updateId:I},N.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,q=S.chartY,E=S.activeTooltipIndex,R=N.state,U=R.offset,B=R.tooltipTicks;if(!U)return;if(typeof T=="function")E=T(B,S);else if(T==="value"){E=-1;for(var P=0;P<B.length;P++)if(B[P].value===S.activeLabel){E=P;break}}var O=de(de({},U),{},{x:U.left,y:U.top}),V=Math.min(L,O.x+O.width),_=Math.min(q,O.y+O.height),H=B[E]&&B[E].value,G=P2(N.state,N.props.data,E),re=B[E]?{x:A==="horizontal"?B[E].coordinate:V,y:A==="horizontal"?_:B[E].coordinate}:Kz;N.setState(de(de({},S),{},{activeLabel:H,activeCoordinate:re,activePayload:G,activeTooltipIndex:E}))}else N.setState(S)}),Ue(N,"renderCursor",function(S){var C,A=N.state,T=A.isTooltipActive,I=A.activeCoordinate,k=A.activePayload,$=A.offset,L=A.activeTooltipIndex,q=A.tooltipAxisBandSize,E=N.getTooltipEventType(),R=(C=S.props.active)!==null&&C!==void 0?C:T,U=N.props.layout,B=S.key||"_recharts-cursor";return Q.createElement(KMe,{key:B,activeCoordinate:I,activePayload:k,activeTooltipIndex:L,chartName:r,element:S,isActive:R,layout:U,offset:$,tooltipAxisBandSize:q,tooltipEventType:E})}),Ue(N,"renderPolarAxis",function(S,C,A){var T=$n(S,"type.axisType"),I=$n(N.state,"".concat(T,"Map")),k=S.type.defaultProps,$=k!==void 0?de(de({},k),S.props):S.props,L=I&&I[$["".concat(T,"Id")]];return j.cloneElement(S,de(de({},L),{},{className:_e(T,L.className),key:S.key||"".concat(C,"-").concat(A),ticks:Cs(L,!0)}))}),Ue(N,"renderPolarGrid",function(S){var C=S.props,A=C.radialLines,T=C.polarAngles,I=C.polarRadius,k=N.state,$=k.radiusAxisMap,L=k.angleAxisMap,q=bo($),E=bo(L),R=E.cx,U=E.cy,B=E.innerRadius,P=E.outerRadius;return j.cloneElement(S,{polarAngles:Array.isArray(T)?T:Cs(E,!0).map(function(O){return O.coordinate}),polarRadius:Array.isArray(I)?I:Cs(q,!0).map(function(O){return O.coordinate}),cx:R,cy:U,innerRadius:B,outerRadius:P,key:S.key||"polar-grid",radialLines:A})}),Ue(N,"renderLegend",function(){var S=N.state.formattedGraphicalItems,C=N.props,A=C.children,T=C.width,I=C.height,k=N.props.margin||{},$=T-(k.left||0)-(k.right||0),L=T8({children:A,formattedGraphicalItems:S,legendWidth:$,legendContent:u});if(!L)return null;var q=L.item,E=C_(L,JMe);return j.cloneElement(q,de(de({},E),{},{chartWidth:T,chartHeight:I,margin:k,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ue(N,"renderTooltip",function(){var S,C=N.props,A=C.children,T=C.accessibilityLayer,I=Tn(A,va);if(!I)return null;var k=N.state,$=k.isTooltipActive,L=k.activeCoordinate,q=k.activePayload,E=k.activeLabel,R=k.offset,U=(S=I.props.active)!==null&&S!==void 0?S:$;return j.cloneElement(I,{viewBox:de(de({},R),{},{x:R.left,y:R.top}),active:U,label:E,payload:U?q:[],coordinate:L,accessibilityLayer:T})}),Ue(N,"renderBrush",function(S){var C=N.props,A=C.margin,T=C.data,I=N.state,k=I.offset,$=I.dataStartIndex,L=I.dataEndIndex,q=I.updateId;return j.cloneElement(S,{key:S.key||"_recharts-brush",onChange:qh(N.handleBrushChange,S.props.onChange),data:T,x:ve(S.props.x)?S.props.x:k.left,y:ve(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(A.bottom||0),width:ve(S.props.width)?S.props.width:k.width,startIndex:$,endIndex:L,updateId:"brush-".concat(q)})}),Ue(N,"renderReferenceElement",function(S,C,A){if(!S)return null;var T=N,I=T.clipPathId,k=N.state,$=k.xAxisMap,L=k.yAxisMap,q=k.offset,E=S.type.defaultProps||{},R=S.props,U=R.xAxisId,B=U===void 0?E.xAxisId:U,P=R.yAxisId,O=P===void 0?E.yAxisId:P;return j.cloneElement(S,{key:S.key||"".concat(C,"-").concat(A),xAxis:$[B],yAxis:L[O],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:I})}),Ue(N,"renderActivePoints",function(S){var C=S.item,A=S.activePoint,T=S.basePoint,I=S.childIndex,k=S.isRange,$=[],L=C.props.key,q=C.item.type.defaultProps!==void 0?de(de({},C.item.type.defaultProps),C.item.props):C.item.props,E=q.activeDot,R=q.dataKey,U=de(de({index:I,dataKey:R,cx:A.x,cy:A.y,r:4,fill:$E(C.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},We(E,!1)),pb(E));return $.push(g.renderActiveDot(E,U,"".concat(L,"-activePoint-").concat(I))),T?$.push(g.renderActiveDot(E,de(de({},U),{},{cx:T.x,cy:T.y}),"".concat(L,"-basePoint-").concat(I))):k&&$.push(null),$}),Ue(N,"renderGraphicChild",function(S,C,A){var T=N.filterFormatItem(S,C,A);if(!T)return null;var I=N.getTooltipEventType(),k=N.state,$=k.isTooltipActive,L=k.tooltipAxis,q=k.activeTooltipIndex,E=k.activeLabel,R=N.props.children,U=Tn(R,va),B=T.props,P=B.points,O=B.isRange,V=B.baseLine,_=T.item.type.defaultProps!==void 0?de(de({},T.item.type.defaultProps),T.item.props):T.item.props,H=_.activeDot,G=_.hide,re=_.activeBar,ie=_.activeShape,te=!!(!G&&$&&U&&(H||re||ie)),Z={};I!=="axis"&&U&&U.props.trigger==="click"?Z={onClick:qh(N.handleItemMouseEnter,S.props.onClick)}:I!=="axis"&&(Z={onMouseLeave:qh(N.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:qh(N.handleItemMouseEnter,S.props.onMouseEnter)});var z=j.cloneElement(S,de(de({},T.props),Z));function W(se){return typeof L.dataKey=="function"?L.dataKey(se.payload):null}if(te)if(q>=0){var X,F;if(L.dataKey&&!L.allowDuplicatedCategory){var J=typeof L.dataKey=="function"?W:"payload.".concat(L.dataKey.toString());X=rI(P,J,E),F=O&&V&&rI(V,J,E)}else X=P==null?void 0:P[q],F=O&&V&&V[q];if(ie||re){var ne=S.props.activeIndex!==void 0?S.props.activeIndex:q;return[j.cloneElement(S,de(de(de({},T.props),Z),{},{activeIndex:ne})),null,null]}if(!et(X))return[z].concat(Fu(N.renderActivePoints({item:T,activePoint:X,basePoint:F,childIndex:q,isRange:O})))}else{var ue,ge=(ue=N.getItemByXY(N.state.activeCoordinate))!==null&&ue!==void 0?ue:{graphicalItem:z},we=ge.graphicalItem,Ae=we.item,be=Ae===void 0?S:Ae,at=we.childIndex,St=de(de(de({},T.props),Z),{},{activeIndex:at});return[j.cloneElement(be,St),null,null]}return O?[z,null,null]:[z,null]}),Ue(N,"renderCustomized",function(S,C,A){return j.cloneElement(S,de(de({key:"recharts-customized-".concat(A)},N.props),N.state))}),Ue(N,"renderMap",{CartesianGrid:{handler:Gh,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Gh},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Gh},YAxis:{handler:Gh},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((v=x.id)!==null&&v!==void 0?v:Wp("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=I7(N.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),N.state={},N}return l_e(g,b),a_e(g,[{key:"componentDidMount",value:function(){var v,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,w=v.children,N=v.data,S=v.height,C=v.layout,A=Tn(w,va);if(A){var T=A.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,k=P2(this.state,N,T,I),$=this.state.tooltipTicks[T].coordinate,L=(this.state.offset.top+S)/2,q=C==="horizontal",E=q?{x:$,y:L}:{y:$,x:L},R=this.state.formattedGraphicalItems.find(function(B){var P=B.item;return P.type.name==="Scatter"});R&&(E=de(de({},E),R.props.points[T].tooltipPosition),k=R.props.points[T].tooltipPayload);var U={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:I,activePayload:k,activeCoordinate:E};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var N,S;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(v){aI([Tn(v.children,va)],[Tn(this.props.children,va)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=Tn(this.props.children,va);if(v&&typeof v.props.shared=="boolean"){var w=v.props.shared?"axis":"item";return l.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var w=this.container,N=w.getBoundingClientRect(),S=jIe(N),C={chartX:Math.round(v.pageX-S.left),chartY:Math.round(v.pageY-S.top)},A=N.width/w.offsetWidth||1,T=this.inRange(C.chartX,C.chartY,A);if(!T)return null;var I=this.state,k=I.xAxisMap,$=I.yAxisMap,L=this.getTooltipEventType(),q=A_(this.state,this.props.data,this.props.layout,T);if(L!=="axis"&&k&&$){var E=bo(k).scale,R=bo($).scale,U=E&&E.invert?E.invert(C.chartX):null,B=R&&R.invert?R.invert(C.chartY):null;return de(de({},C),{},{xValue:U,yValue:B},q)}return q?de(de({},C),q):null}},{key:"inRange",value:function(v,w){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=v/N,A=w/N;if(S==="horizontal"||S==="vertical"){var T=this.state.offset,I=C>=T.left&&C<=T.left+T.width&&A>=T.top&&A<=T.top+T.height;return I?{x:C,y:A}:null}var k=this.state,$=k.angleAxisMap,L=k.radiusAxisMap;if($&&L){var q=bo($);return eM({x:C,y:A},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,w=this.getTooltipEventType(),N=Tn(v,va),S={};N&&w==="axis"&&(N.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=pb(this.props,this.handleOuterEvent);return de(de({},C),S)}},{key:"addListener",value:function(){sC.on(oC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){sC.removeListener(oC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,w,N){for(var S=this.state.formattedGraphicalItems,C=0,A=S.length;C<A;C++){var T=S[C];if(T.item===v||T.props.key===v.key||w===ks(T.item.type)&&N===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,w=this.state.offset,N=w.left,S=w.top,C=w.height,A=w.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:v},Q.createElement("rect",{x:N,y:S,height:C,width:A})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(w,N){var S=w_(N,2),C=S[0],A=S[1];return de(de({},w),{},Ue({},C,A.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(w,N){var S=w_(N,2),C=S[0],A=S[1];return de(de({},w),{},Ue({},C,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(v){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[v])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(v){var w=this.state,N=w.formattedGraphicalItems,S=w.activeItem;if(N&&N.length)for(var C=0,A=N.length;C<A;C++){var T=N[C],I=T.props,k=T.item,$=k.type.defaultProps!==void 0?de(de({},k.type.defaultProps),k.props):k.props,L=ks(k.type);if(L==="Bar"){var q=(I.data||[]).find(function(B){return o$e(v,B)});if(q)return{graphicalItem:T,payload:q}}else if(L==="RadialBar"){var E=(I.data||[]).find(function(B){return eM(v,B)});if(E)return{graphicalItem:T,payload:E}}else if(mN(T,S)||fN(T,S)||op(T,S)){var R=YRe({graphicalItem:T,activeTooltipItem:S,itemData:$.data}),U=$.activeIndex===void 0?R:$.activeIndex;return{graphicalItem:de(de({},T),{},{childIndex:U}),payload:op(T,S)?$.data[R]:T.props.data[R]}}}return null}},{key:"render",value:function(){var v=this;if(!WL(this))return null;var w=this.props,N=w.children,S=w.className,C=w.width,A=w.height,T=w.style,I=w.compact,k=w.title,$=w.desc,L=C_(w,XMe),q=We(L,!1);if(I)return Q.createElement(l_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(oI,Pc({},q,{width:C,height:A,title:k,desc:$}),this.renderClipPath(),HL(N,this.renderMap)));if(this.props.accessibilityLayer){var E,R;q.tabIndex=(E=this.props.tabIndex)!==null&&E!==void 0?E:0,q.role=(R=this.props.role)!==null&&R!==void 0?R:"application",q.onKeyDown=function(B){v.accessibilityManager.keyboardEvent(B)},q.onFocus=function(){v.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return Q.createElement(l_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",Pc({className:_e("recharts-wrapper",S),style:de({position:"relative",cursor:"default",width:C,height:A},T)},U,{ref:function(P){v.container=P}}),Q.createElement(oI,Pc({},q,{width:C,height:A,title:k,desc:$,style:p_e}),this.renderClipPath(),HL(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Ue(h,"displayName",r),Ue(h,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ue(h,"getDerivedStateFromProps",function(b,g){var x=b.dataKey,v=b.data,w=b.children,N=b.width,S=b.height,C=b.layout,A=b.stackOffset,T=b.margin,I=g.dataStartIndex,k=g.dataEndIndex;if(g.updateId===void 0){var $=I_(b);return de(de(de({},$),{},{updateId:0},p(de(de({props:b},$),{},{updateId:0}),g)),{},{prevDataKey:x,prevData:v,prevWidth:N,prevHeight:S,prevLayout:C,prevStackOffset:A,prevMargin:T,prevChildren:w})}if(x!==g.prevDataKey||v!==g.prevData||N!==g.prevWidth||S!==g.prevHeight||C!==g.prevLayout||A!==g.prevStackOffset||!_c(T,g.prevMargin)){var L=I_(b),q={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},E=de(de({},A_(g,v,C)),{},{updateId:g.updateId+1}),R=de(de(de({},L),q),E);return de(de(de({},R),p(de({props:b},R),g)),{},{prevDataKey:x,prevData:v,prevWidth:N,prevHeight:S,prevLayout:C,prevStackOffset:A,prevMargin:T,prevChildren:w})}if(!aI(w,g.prevChildren)){var U,B,P,O,V=Tn(w,Tu),_=V&&(U=(B=V.props)===null||B===void 0?void 0:B.startIndex)!==null&&U!==void 0?U:I,H=V&&(P=(O=V.props)===null||O===void 0?void 0:O.endIndex)!==null&&P!==void 0?P:k,G=_!==I||H!==k,re=!et(v),ie=re&&!G?g.updateId:g.updateId+1;return de(de({updateId:ie},p(de(de({props:b},g),{},{updateId:ie,dataStartIndex:_,dataEndIndex:H}),g)),{},{prevChildren:w,dataStartIndex:_,dataEndIndex:H})}return null}),Ue(h,"renderActiveDot",function(b,g,x){var v;return j.isValidElement(b)?v=j.cloneElement(b,g):Ge(b)?v=b(g):v=Q.createElement(LE,g),Q.createElement(xt,{className:"recharts-active-dot",key:x},v)});var y=j.forwardRef(function(g,x){return Q.createElement(h,Pc({},g,{ref:x}))});return y.displayName=h.displayName,y},C_e=Xz({chartName:"BarChart",GraphicalChild:oi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bN},{axisType:"yAxis",AxisComp:vN}],formatAxisMap:A5e}),Xp=Xz({chartName:"PieChart",GraphicalChild:Wn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:dN},{axisType:"radiusAxis",AxisComp:cN}],formatAxisMap:yEe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const NN="http://192.168.1.215:5001",S_e=[],A_e={employees:S_e,employee:null,isLoading:!1,error:null},on=K("employees/fetchEmployees",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${NN}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Ig=K("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${NN}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),Tg=K("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${NN}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Pg=K("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${NN}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Zz=Ce({name:"employees",initialState:A_e,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(on.pending,e=>{e.isLoading=!0}).addCase(on.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(on.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ig.pending,e=>{e.isLoading=!0}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Tg.pending,e=>{e.isLoading=!0}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(s=>s.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Pg.pending,e=>{e.isLoading=!0}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:HYe,resetEmployeeState:YYe}=Zz.actions,I_e=Zz.reducer,lC=({title:t,value:e,icon:r,trend:n,trendValue:s,trendLabel:o,loading:i})=>a.jsx("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg transition duration-200 hover:shadow-md",children:a.jsx("div",{className:"p-5",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 rounded-md bg-primary-100 p-3",children:a.jsx(r,{className:"h-6 w-6 text-primary-600","aria-hidden":"true"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:a.jsxs("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500 truncate",children:t}),a.jsx("dd",{children:i?a.jsx("div",{className:"h-7 bg-neutral-200 animate-pulse rounded mt-1 w-24"}):a.jsxs("div",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-neutral-900",children:e}),s&&a.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${n==="up"?"text-success-600":"text-error-600"}`,children:[n==="up"?a.jsx(Une,{className:"self-center flex-shrink-0 h-4 w-4 text-success-500"}):a.jsx(Fne,{className:"self-center flex-shrink-0 h-4 w-4 text-error-500"}),a.jsxs("span",{className:"sr-only",children:[n==="up"?"Increased":"Decreased"," by"]}),s]})]})}),o&&a.jsx("dd",{className:"mt-1 text-xs text-neutral-500",children:o})]})})]})})});function T_e(){const t=he(),{user:e,isAuthenticated:r}=ee(_=>_.auth),{employees:n}=ee(_=>_.employees||{}),[s,o]=j.useState(!0),[i,l]=j.useState(""),[c,u]=j.useState(""),d=[{key:"general",label:"General Services"},{key:"marriage",label:"Marriage Services"},{key:"burial",label:"Burial Services"},{key:"cedula",label:"Cedula"}],[m,f]=j.useState("all"),[p,h]=j.useState({general:0,marriage:0,burial:0,cedula:0}),[y,b]=j.useState([]),[g,x]=j.useState({approved:0,rejected:0,pending:0}),[v,w]=j.useState(!1),[N,S]=j.useState("");j.useEffect(()=>{r?(async()=>{var G,re;if(!sessionStorage.getItem("token")){S("Please sign in to load dashboard data."),o(!1);return}o(!0);try{const ie=m==="all"?d.map(ue=>ue.key):[m];t(on());const[te,Z,z]=await Promise.all([mU({startDate:i||void 0,endDate:c||void 0,categories:ie}),uU(""),dU({startDate:i||void 0,endDate:c||void 0})]),W=(te==null?void 0:te.data)||{};h({general:parseFloat(W.General||0),marriage:parseFloat(W.Marriage||0),burial:parseFloat(W.Burial||0),cedula:parseFloat(W.Cedula||0)});const F=(Array.isArray(Z==null?void 0:Z.data)?Z.data:[]).map(ue=>{var Ne;const ge=parseFloat(ue.Appropriation||0),we=parseFloat(ue.Supplemental||0),Ae=parseFloat(ue.Transfer||0),be=parseFloat(ue.Charges||0),at=parseFloat(ue.Encumbrance||0),St=parseFloat(ue.PreEncumbrance||0),se=ge+we+Ae-be-at-St;return{id:ue.ID,name:((Ne=ue.Department)==null?void 0:Ne.Name)||ue.Name||"N/A",remaining:se}});b(F);let J={approved:0,rejected:0,pending:0};if(Array.isArray(z==null?void 0:z.data))J=z.data.reduce((ue,ge)=>{const we=(ge.name||"").toLowerCase(),Ae=Number(ge.count??ge.value??0);return we.includes("reject")?ue.rejected+=Ae:we.includes("approve")||we.includes("post")?ue.approved+=Ae:ue.pending+=Ae,ue},J);else if(z!=null&&z.data&&typeof z.data=="object"){const ue=z.data;J.approved=Number(ue.Approved??ue.approved??0),J.rejected=Number(ue.Rejected??ue.rejected??0),J.pending=Number(ue.Pending??ue.pending??0)}if(x(J),console.log("disbursementRes raw:",z==null?void 0:z.data),J.approved+J.rejected===0)try{const ue=await ehe({startDate:i||void 0,endDate:c||void 0}),we=(Array.isArray(ue==null?void 0:ue.data)?ue.data:Array.isArray((G=ue==null?void 0:ue.data)==null?void 0:G.disbursementVouchers)?ue.data.disbursementVouchers:[]).reduce((Ae,be)=>{const St=(be.Status||be.status||"").toString().split(",").map(se=>se.trim().toLowerCase()).filter(Boolean);return St.some(se=>se.includes("reject"))?Ae.rejected+=1:St.some(se=>se.includes("approve")||se==="posted"||se.includes("post"))?Ae.approved+=1:Ae.pending+=1,Ae},{approved:0,rejected:0,pending:0});we.approved+we.rejected>0&&(x(we),console.log("Fallback counts from disbursement list:",we))}catch(ue){console.error("Fallback fetchDisbursementList failed:",ue)}S("")}catch(ie){console.error(ie),((re=ie==null?void 0:ie.response)==null?void 0:re.status)===401?S("Session expired or unauthorized. Please sign in again."):Y.error("Failed to load dashboard data.")}finally{o(!1)}})():(o(!1),S("Please sign in to load dashboard data."))},[i,c,m,r]),j.useEffect(()=>{const _=(e==null?void 0:e.id)||(e==null?void 0:e.ID)||(e==null?void 0:e.UserID)||"default_user";if(!sessionStorage.getItem(`welcome_seen_${_}`)&&e&&r){w(!0),sessionStorage.setItem(`welcome_seen_${_}`,"true");const G=setTimeout(()=>w(!1),5e3);return()=>clearTimeout(G)}},[e,r]);const C=m==="all"?d.map(_=>_.key):[m],A=m==="all"?null:d.find(_=>_.key===m),T=_=>_==="general"?p.general:_==="marriage"?p.marriage:_==="burial"?p.burial:p.cedula,I=(C.includes("general")?p.general:0)+(C.includes("marriage")?p.marriage:0)+(C.includes("burial")?p.burial:0)+(C.includes("cedula")?p.cedula:0),k=_=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(_||0),$=g.approved+g.rejected,L=$>0?`${(g.approved/$*100).toFixed(1)}% approved`:null,q=$>0?`${(g.rejected/$*100).toFixed(1)}% rejected`:null,E=_=>{if(!_)return null;const H=new Date(_),G=new Date;let re=G.getFullYear()-H.getFullYear();const ie=G.getMonth()-H.getMonth();return(ie<0||ie===0&&G.getDate()<H.getDate())&&re--,re},R=_=>_===null||isNaN(_)?"Unknown":_<18?"Below 18":_<=25?"18-25":_<=35?"26-35":_<=50?"36-50":_<=60?"51-60":"61+",{demographicsData:U,statusData:B,totalEmployees:P}=(()=>{const _=["Below 18","18-25","26-35","36-50","51-60","61+","Unknown"],H={};_.forEach(Z=>H[Z]={name:Z,Male:0,Female:0});const G={};let re=0;(n||[]).forEach(Z=>{var ne;re++;const z=E(Z.Birthday),W=R(z),X=(Z.Gender||"Unknown").trim();let F="Unknown";/male/i.test(X)&&!/female/i.test(X)?F="Male":/female/i.test(X)&&(F="Female"),H[W]&&(H[W][F]=(H[W][F]||0)+1);const J=((ne=Z.EmploymentStatus)==null?void 0:ne.Name)||Z.EmploymentStatus||"Unassigned";G[J]=(G[J]||0)+1});const ie=Object.values(H),te=Object.keys(G).map(Z=>({name:Z,value:G[Z]})).sort((Z,z)=>z.value-Z.value);return{demographicsData:ie,statusData:te,totalEmployees:re}})(),O={Male:"#3b82f6",Female:"#ec4899"},V=["#0ea5e9","#22c55e","#eab308","#f97316","#ef4444","#8b5cf6","#6366f1"];return a.jsxs("div",{children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),a.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Overview of revenue, budget utilization, and disbursement status for quick decision-making."})]}),v&&a.jsxs("div",{className:"mb-4 rounded-lg border border-primary-200 bg-primary-50 px-4 py-3 text-primary-800",children:["Welcome back,"," ",(e==null?void 0:e.first_name)||(e==null?void 0:e.UserName)||(e==null?void 0:e.username)||"User","!"]}),N&&a.jsx("div",{className:"mb-4 rounded-lg border border-amber-200 bg-amber-50 px-4 py-3 text-amber-800",children:N}),a.jsx("div",{className:"bg-white border border-neutral-200 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-neutral-500",children:"Start date"}),a.jsx("input",{type:"date",value:i,onChange:_=>l(_.target.value),className:"mt-1 px-3 py-2 w-full border border-neutral-200 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-neutral-500",children:"End date"}),a.jsx("input",{type:"date",value:c,onChange:_=>u(_.target.value),className:"mt-1 px-3 py-2 w-full border border-neutral-200 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-neutral-500",children:"Revenue category"}),a.jsxs("select",{value:m,onChange:_=>f(_.target.value),className:"mt-1 px-3 py-2 w-full border border-neutral-200 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"all",children:"All categories"}),d.map(_=>a.jsx("option",{value:_.key,children:_.label},_.key))]})]})]}),a.jsx("p",{className:"text-xs text-neutral-400",children:"Data sourced from collection totals and budget/disbursement dashboards. Selected dates and category will apply to the total revenue and revenue-by-category summaries."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(lC,{title:"Total Revenue (selected range)",value:s?"...":k(I),icon:Qs,loading:s}),a.jsx(lC,{title:"Disbursement Vouchers Approved",value:s?"...":g.approved,icon:Kne,trend:"up",trendValue:L,loading:s}),a.jsx(lC,{title:"Disbursement Vouchers Rejected",value:s?"...":g.rejected,icon:sk,trend:"down",trendValue:q,loading:s})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Revenue by Category"}),A&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-neutral-400",children:"Focused category"}),a.jsx("p",{className:"text-sm font-medium text-primary-700",children:A.label})]})]}),A&&a.jsxs("div",{className:"mb-4 rounded-md bg-primary-50 border border-primary-100 px-4 py-3",children:[a.jsx("p",{className:"text-xs text-primary-600 uppercase tracking-wide",children:"Selected category total"}),a.jsx("p",{className:"mt-1 text-lg font-semibold text-primary-800",children:s?"...":k(T(A.key))})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(_=>{const H=C.includes(_.key);return a.jsxs("div",{className:`rounded-md border p-3 transition ${H?"border-primary-200 bg-primary-50 shadow-sm":"border-neutral-200 bg-neutral-50"}`,children:[a.jsx("p",{className:`text-sm ${H?"text-primary-700 font-medium":"text-neutral-500"}`,children:_.label}),a.jsx("p",{className:`text-lg font-semibold ${H?"text-primary-900":"text-neutral-900"}`,children:s?"...":k(T(_.key))})]},_.key)})})]}),a.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(ej,{className:"h-6 w-6 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Remaining Budget by Department"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-neutral-200 text-sm",children:[a.jsx("thead",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left font-medium text-neutral-600",children:"Department"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-neutral-600",children:"Remaining Budget"})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-100",children:s?a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-3 text-neutral-500",colSpan:2,children:"Loading..."})}):y.length===0?a.jsx("tr",{children:a.jsx("td",{className:"px-3 py-3 text-neutral-500",colSpan:2,children:"No budget data available."})}):y.map(_=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-3 py-2 text-neutral-800",children:_.name}),a.jsx("td",{className:"px-3 py-2 text-right font-semibold text-neutral-900",children:k(_.remaining)})]},_.id))})]})})]})]}),a.jsxs("div",{className:"mt-6 col-span-1 lg:col-span-2 xl:col-span-3",children:[a.jsxs("h3",{className:"text-xl font-bold text-neutral-800 mb-4 flex items-center gap-2",children:[a.jsx(ni,{className:"h-6 w-6 text-primary-600"}),"Workforce Overview"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white border border-neutral-200 rounded-lg p-5 shadow-sm",children:[a.jsx("h4",{className:"text-sm font-semibold text-neutral-600 mb-4 uppercase tracking-wide",children:"Employee Demographics (Age & Gender)"}),a.jsx("div",{className:"h-[300px] w-full",children:a.jsx(xu,{width:"100%",height:"100%",children:a.jsxs(C_e,{data:U,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Lz,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),a.jsx(bN,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:12},dy:10}),a.jsx(vN,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:12}}),a.jsx(va,{cursor:{fill:"#f3f4f6"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),a.jsx(ka,{iconType:"circle",wrapperStyle:{paddingTop:"20px"}}),a.jsx(oi,{dataKey:"Male",stackId:"a",fill:O.Male,radius:[0,0,4,4],barSize:40}),a.jsx(oi,{dataKey:"Female",stackId:"a",fill:O.Female,radius:[4,4,0,0],barSize:40})]})})})]}),a.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-5 shadow-sm flex flex-col",children:[a.jsx("h4",{className:"text-sm font-semibold text-neutral-600 mb-4 uppercase tracking-wide",children:"Employment Status"}),a.jsxs("div",{className:"h-[200px] w-full flex-grow relative",children:[a.jsx(xu,{width:"100%",height:"100%",children:a.jsxs(Xp,{children:[a.jsx(Wn,{data:B,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:B.map((_,H)=>a.jsx(gi,{fill:V[H%V.length]},`cell-${H}`))}),a.jsx(va,{})]})}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[a.jsx("span",{className:"text-3xl font-bold text-neutral-800",children:P}),a.jsx("span",{className:"text-xs text-neutral-500 font-medium uppercase",children:"Employees"})]})]}),a.jsx("div",{className:"mt-4 space-y-2 overflow-y-auto max-h-[120px] custom-scrollbar pr-2",children:B.map((_,H)=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:V[H%V.length]}}),a.jsx("span",{className:"text-neutral-600 truncate max-w-[120px]",title:_.name,children:_.name})]}),a.jsx("span",{className:"font-semibold text-neutral-900",children:_.value})]},_.name))})]})]})]})]})}function P_e(){return a.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[a.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),a.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),a.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),a.jsx(Nm,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}function Yl(t){this._maxSize=t,this.clear()}Yl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Yl.prototype.get=function(t){return this._values[t]};Yl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var k_e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Qz=/^\d+$/,E_e=/^\d/,D_e=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,O_e=/^\s*(['"]?)(.*?)(\1)\s*$/,GE=512,P_=new Yl(GE),k_=new Yl(GE),E_=new Yl(GE),al={Cache:Yl,split:k2,normalizePath:cC,setter:function(t){var e=cC(t);return k_.get(t)||k_.set(t,function(n,s){for(var o=0,i=e.length,l=n;o<i-1;){var c=e[o];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[o++]]}l[e[o]]=s})},getter:function(t,e){var r=cC(t);return E_.get(t)||E_.set(t,function(s){for(var o=0,i=r.length;o<i;)if(s!=null||!e)s=s[r[o++]];else return;return s})},join:function(t){return t.reduce(function(e,r){return e+(HE(r)||Qz.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){$_e(Array.isArray(t)?t:k2(t),e,r)}};function cC(t){return P_.get(t)||P_.set(t,k2(t).map(function(e){return e.replace(O_e,"$2")}))}function k2(t){return t.match(k_e)||[""]}function $_e(t,e,r){var n=t.length,s,o,i,l;for(o=0;o<n;o++)s=t[o],s&&(F_e(s)&&(s='"'+s+'"'),l=HE(s),i=!l&&/^\d+$/.test(s),e.call(r,s,l,i,o,t))}function HE(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function R_e(t){return t.match(E_e)&&!t.match(Qz)}function L_e(t){return D_e.test(t)}function F_e(t){return!HE(t)&&(R_e(t)||L_e(t))}const M_e=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,wN=t=>t.match(M_e)||[],CN=t=>t[0].toUpperCase()+t.slice(1),YE=(t,e)=>wN(t).join(e).toLowerCase(),eW=t=>wN(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),__e=t=>CN(eW(t)),B_e=t=>YE(t,"_"),q_e=t=>YE(t,"-"),V_e=t=>CN(YE(t," ")),U_e=t=>wN(t).map(CN).join(" ");var uC={words:wN,upperFirst:CN,camelCase:eW,pascalCase:__e,snakeCase:B_e,kebabCase:q_e,sentenceCase:V_e,titleCase:U_e},KE={exports:{}};KE.exports=function(t){return tW(z_e(t),t)};KE.exports.array=tW;function tW(t,e){var r=t.length,n=new Array(r),s={},o=r,i=W_e(e),l=G_e(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});o--;)s[o]||c(t[o],o,new Set);return n;function c(u,d,m){if(m.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[d]){s[d]=!0;var p=i.get(u)||new Set;if(p=Array.from(p),d=p.length){m.add(u);do{var h=p[--d];c(h,l.get(h),m)}while(d);m.delete(u)}n[--r]=u}}}function z_e(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var s=t[r];e.add(s[0]),e.add(s[1])}return Array.from(e)}function W_e(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var s=t[r];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function G_e(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var H_e=KE.exports;const Y_e=ut(H_e),K_e=Object.prototype.toString,J_e=Error.prototype.toString,X_e=RegExp.prototype.toString,Z_e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Q_e=/^Symbol\((.*)\)(.*)$/;function e4e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function D_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return e4e(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Z_e.call(t).replace(Q_e,"Symbol($1)");const n=K_e.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+J_e.call(t)+"]":n==="RegExp"?X_e.call(t):null}function Ds(t,e){let r=D_(t,e);return r!==null?r:JSON.stringify(t,function(n,s){let o=D_(this[n],e);return o!==null?o:s},2)}function rW(t){return t==null?[]:[].concat(t)}let nW,aW,sW,t4e=/\$\{\s*(\w+)\s*\}/g;nW=Symbol.toStringTag;class O_{constructor(e,r,n,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[nW]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=s,this.errors=[],this.inner=[],rW(e).forEach(o=>{if(Zr.isError(o)){this.errors.push(...o.errors);const i=o.inner.length?o.inner:[o];this.inner.push(...i)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}aW=Symbol.hasInstance;sW=Symbol.toStringTag;class Zr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(t4e,(s,o)=>Ds(r[o])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,s,o){const i=new O_(e,r,n,s);if(o)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[sW]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Zr)}static[aW](e){return O_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Va={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const s=n!=null&&n!==r?` (cast from the value \`${Ds(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ds(r,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Ds(r,!0)}\``+s}},mn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},co={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},E2={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},D2={isValue:"${path} field must be ${value}"},kg={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Eg={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},r4e={notType:t=>{const{path:e,value:r,spec:n}=t,s=n.types.length;if(Array.isArray(r)){if(r.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${r.length} for value: \`${Ds(r,!0)}\``;if(r.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${r.length} for value: \`${Ds(r,!0)}\``}return Zr.formatError(Va.notType,t)}};Object.assign(Object.create(null),{mixed:Va,string:mn,number:co,date:E2,object:kg,array:Eg,boolean:D2,tuple:r4e});const SN=t=>t&&t.__isYupSchema__;class mv{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:o}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new mv(e,(l,c)=>{var u;let d=i(...l)?s:o;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(o=>o.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(n,e,r);if(s===void 0||s===e)return e;if(!SN(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const Hh={context:"$",value:"."};function Dl(t,e){return new vi(t,e)}class vi{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Hh.context,this.isValue=this.key[0]===Hh.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Hh.context:this.isValue?Hh.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&al.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let s=this.isContext?n:this.isValue?e:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}vi.prototype.__isYupRef=!0;const Sa=t=>t==null;function oc(t){function e({value:r,path:n="",options:s,originalValue:o,schema:i},l,c){const{name:u,test:d,params:m,message:f,skipAbsent:p}=t;let{parent:h,context:y,abortEarly:b=i.spec.abortEarly,disableStackTrace:g=i.spec.disableStackTrace}=s;const x={value:r,parent:h,context:y};function v(k={}){const $=oW(Object.assign({value:r,originalValue:o,label:i.spec.label,path:k.path||n,spec:i.spec,disableStackTrace:k.disableStackTrace||g},m,k.params),x),L=new Zr(Zr.formatError(k.message||f,$),r,$.path,k.type||u,$.disableStackTrace);return L.params=$,L}const w=b?l:c;let N={path:n,parent:h,type:u,from:s.from,createError:v,resolve(k){return iW(k,x)},options:s,originalValue:o,schema:i};const S=k=>{Zr.isError(k)?w(k):k?c(null):w(v())},C=k=>{Zr.isError(k)?w(k):l(k)};if(p&&Sa(r))return S(!0);let T;try{var I;if(T=d.call(N,r,N),typeof((I=T)==null?void 0:I.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${N.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(T).then(S,C)}}catch(k){C(k);return}S(T)}return e.OPTIONS=t,e}function oW(t,e){if(!t)return t;for(const r of Object.keys(t))t[r]=iW(t[r],e);return t}function iW(t,e){return vi.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function n4e(t,e,r,n=r){let s,o,i;return e?(al.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:s,value:r});let m=t.type==="tuple",f=u?parseInt(d,10):0;if(t.innerType||m){if(m&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&f>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=r,r=r&&r[f],t=m?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);s=r,r=r&&r[d],t=t.fields[d]}o=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:o}):{parent:s,parentPath:e,schema:t}}class fv extends Set{describe(){const e=[];for(const r of this.values())e.push(vi.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new fv(this.values())}merge(e,r){const n=this.clone();return e.forEach(s=>n.add(s)),r.forEach(s=>n.delete(s)),n}}function kc(t,e=new Map){if(SN(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=kc(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,s]of t.entries())r.set(n,kc(s,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(kc(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,s]of Object.entries(t))r[n]=kc(s,e)}else throw Error(`Unable to clone ${t}`);return r}function a4e(t){if(!(t!=null&&t.length))return;const e=[];let r="",n=!1,s=!1;for(let o=0;o<t.length;o++){const i=t[o];if(i==="["&&!s){r&&(e.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(i==="]"&&!s){r&&(/^\d+$/.test(r)?e.push(r):e.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(i==='"'){s=!s;continue}if(i==="."&&!n&&!s){r&&(e.push(r),r="");continue}r+=i}return r&&e.push(...r.split(".").filter(Boolean)),e}function s4e(t,e){const r=e?`${e}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:a4e(r)}))}function lW(t,e){var r;if(!((r=t.inner)!=null&&r.length)&&t.errors.length)return s4e(t,e);const n=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(s=>lW(s,n))}class _n{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new fv,this._blacklist=new fv,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Va.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=kc(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const s=Object.assign({},r.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(o=>{e.tests.forEach(i=>{o.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((s,o)=>o.resolve(s,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,s,o;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(o=e.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({},r,{value:e})),s=r.assert==="ignore-optionality",o=n._cast(e,r);if(r.assert!==!1&&!n.isType(o)){if(s&&Sa(o))return o;let i=Ds(e),l=Ds(o);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return o}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((s,o)=>o.call(this,s,e,this,r),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,s){let{path:o,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:o,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return s(d,c);this.runTests({path:o,value:c,originalValue:i,options:r,tests:this.tests},n,s)})}runTests(e,r,n){let s=!1,{tests:o,value:i,originalValue:l,path:c,options:u}=e,d=y=>{s||(s=!0,r(y,i))},m=y=>{s||(s=!0,n(y,i))},f=o.length,p=[];if(!f)return m([]);let h={value:i,originalValue:l,path:c,options:u,schema:this};for(let y=0;y<o.length;y++){const b=o[y];b(h,d,function(x){x&&(Array.isArray(x)?p.push(...x):p.push(x)),--f<=0&&m(p)})}}asNestedTest({key:e,index:r,parent:n,parentPath:s,originalParent:o,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:o[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${s||""}[${c?l:`"${l}"`}]`:(s?`${s}.`:"")+e});return(m,f,p)=>this.resolve(d)._validate(u,d,f,p)}validate(e,r){var n;let s=this.resolve(Object.assign({},r,{value:e})),o=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return new Promise((i,l)=>s._validate(e,r,(c,u)=>{Zr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Zr(c,u,void 0,void 0,o)):i(u)}))}validateSync(e,r){var n;let s=this.resolve(Object.assign({},r,{value:e})),o,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:s.spec.disableStackTrace;return s._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Zr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Zr(l,e,void 0,void 0,i);o=c}),o}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Zr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Zr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):kc(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=oc({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=oc({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Va.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Va.notNull){return this.nullability(!1,e)}required(e=Va.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Va.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=oc(r),o=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(o||i.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),s=rW(e).map(o=>new vi(o));return s.forEach(o=>{o.isSibling&&n.deps.push(o.key)}),n.conditions.push(typeof r=="function"?new mv(s,r):mv.fromOptions(s,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=oc({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Va.oneOf){let n=this.clone();return e.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=oc({message:r,name:"oneOf",skipAbsent:!0,test(s){let o=this.schema._whitelist,i=o.resolveAll(this.resolve);return i.includes(s)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:i}})}}),n}notOneOf(e,r=Va.notOneOf){let n=this.clone();return e.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=oc({message:r,name:"notOneOf",test(s){let o=this.schema._blacklist,i=o.resolveAll(this.resolve);return i.includes(s)?this.createError({params:{values:Array.from(o).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:s,optional:o,nullable:i}=r.spec;return{meta:s,label:n,optional:o,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((c,u,d)=>d.findIndex(m=>m.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&e?oW(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await e.validate(n,{abortEarly:!1})}}catch(s){if(s instanceof Zr)return{issues:lW(s)};throw s}}}}}_n.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])_n.prototype[`${t}At`]=function(e,r,n={}){const{parent:s,parentPath:o,schema:i}=n4e(this,e,r,n.context);return i[t](s&&s[o],Object.assign({},n,{parent:s,path:e}))};for(const t of["equals","is"])_n.prototype[t]=_n.prototype.oneOf;for(const t of["not","nope"])_n.prototype[t]=_n.prototype.notOneOf;function Hs(){return new cW}class cW extends _n{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r)=>{if(this.spec.coerce&&!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=D2.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return Sa(r)||r===!0}})}isFalse(e=D2.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return Sa(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Hs.prototype=cW.prototype;const o4e=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function i4e(t){const e=O2(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function O2(t){var e,r;const n=o4e.exec(t);return n?{year:ps(n[1]),month:ps(n[2],1)-1,day:ps(n[3],1),hour:ps(n[4]),minute:ps(n[5]),second:ps(n[6]),millisecond:n[7]?ps(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:ps(n[10]),minuteOffset:ps(n[11])}:null}function ps(t,e=0){return Number(t)||e}let l4e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,c4e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,u4e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,d4e="^\\d{4}-\\d{2}-\\d{2}",m4e="\\d{2}:\\d{2}:\\d{2}",f4e="(([+-]\\d{2}(:?\\d{2})?)|Z)",p4e=new RegExp(`${d4e}T${m4e}(\\.\\d+)?${f4e}$`),h4e=t=>Sa(t)||t===t.trim(),g4e={}.toString();function M(){return new uW}class uW extends _n{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r)=>{if(!this.spec.coerce||this.isType(e)||Array.isArray(e))return e;const n=e!=null&&e.toString?e.toString():e;return n===g4e?e:n})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Va.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=mn.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=mn.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=mn.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,s,o;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:s,name:o}=r:s=r),this.test({name:o||"matches",message:s||mn.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=mn.email){return this.matches(l4e,{name:"email",message:e,excludeEmptyString:!0})}url(e=mn.url){return this.matches(c4e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=mn.uuid){return this.matches(u4e,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,s;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:s=void 0}=e:r=e),this.matches(p4e,{name:"datetime",message:r||mn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||mn.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:o=>{if(!o||n)return!0;const i=O2(o);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||mn.datetime_precision,params:{precision:s},skipAbsent:!0,test:o=>{if(!o||s==null)return!0;const i=O2(o);return i?i.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=mn.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:h4e})}lowercase(e=mn.lowercase){return this.transform(r=>Sa(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Sa(r)||r===r.toLowerCase()})}uppercase(e=mn.uppercase){return this.transform(r=>Sa(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>Sa(r)||r===r.toUpperCase()})}}M.prototype=uW.prototype;let y4e=t=>t!=+t;function ae(){return new dW}class dW extends _n{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!y4e(e)}}),this.withMutation(()=>{this.transform((e,r)=>{if(!this.spec.coerce)return e;let n=e;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return this.isType(n)||n===null?n:parseFloat(n)})})}min(e,r=co.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=co.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=co.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=co.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=co.positive){return this.moreThan(0,e)}negative(e=co.negative){return this.lessThan(0,e)}integer(e=co.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>Sa(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(s=>Sa(s)?s:Math[e](s))}}ae.prototype=dW.prototype;let mW=new Date(""),x4e=t=>Object.prototype.toString.call(t)==="[object Date]";function Ye(){return new Zp}class Zp extends _n{constructor(){super({type:"date",check(e){return x4e(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r)=>!this.spec.coerce||this.isType(e)||e===null?e:(e=i4e(e),isNaN(e)?Zp.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(vi.isRef(e))n=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(e,r=E2.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(e,r=E2.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}Zp.INVALID_DATE=mW;Ye.prototype=Zp.prototype;Ye.INVALID_DATE=mW;function b4e(t,e=[]){let r=[],n=new Set,s=new Set(e.map(([i,l])=>`${i}-${l}`));function o(i,l){let c=al.split(i)[0];n.add(c),s.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),vi.isRef(l)&&l.isSibling?o(l.path,i):SN(l)&&"deps"in l&&l.deps.forEach(c=>o(c,i))}return Y_e.array(Array.from(n),r).reverse()}function $_(t,e){let r=1/0;return t.some((n,s)=>{var o;if((o=e.path)!=null&&o.includes(n))return r=s,!0}),r}function fW(t){return(e,r)=>$_(t,e)-$_(t,r)}const pW=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Dg(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Dg(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Dg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Dg)}):"optional"in t?t.optional():t}const v4e=(t,e)=>{const r=[...al.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),s=al.getter(al.join(r),!0)(t);return!!(s&&n in s)};let R_=t=>Object.prototype.toString.call(t)==="[object Object]";function L_(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const j4e=fW([]);function pe(t){return new hW(t)}class hW extends _n{constructor(e){super({type:"object",check(r){return R_(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=j4e,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let s=super._cast(e,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let o=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(s).filter(m=>!this._nodes.includes(m))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const m of l){let f=o[m],p=m in s,h=s[m];if(f){let y;u.path=(r.path?`${r.path}.`:"")+m,f=f.resolve({value:h,context:r.context,parent:c});let b=f instanceof _n?f.spec:void 0,g=b==null?void 0:b.strict;if(b!=null&&b.strip){d=d||m in s;continue}y=!r.__validating||!g?f.cast(h,u):h,y!==void 0&&(c[m]=y)}else p&&!i&&(c[m]=h);(p!==m in c||c[m]!==h)&&(d=!0)}return d?c:s}_validate(e,r={},n,s){let{from:o=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...o],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!R_(u)){s(c,u);return}i=i||u;let d=[];for(let m of this._nodes){let f=this.fields[m];!f||vi.isRef(f)||d.push(f.asNestedTest({options:r,key:m,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,m=>{s(m.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[s,o]of Object.entries(this.fields)){const i=n[s];n[s]=i===void 0?o:i}return r.withMutation(s=>s.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var s;const o=this.fields[n];let i=e;(s=i)!=null&&s.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=o&&"getDefault"in o?o.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=b4e(e,r),n._sortErrors=fW(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),s)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Dg(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,s])=>e.includes(n)&&e.includes(s)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let s=al.getter(e,!0);return this.transform(o=>{if(!o)return o;let i=o;return v4e(o,e)&&(i=Object.assign({},o),n||delete i[e],i[r]=s(o)),i})}json(){return this.transform(pW)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||kg.exact,test(r){if(r==null)return!0;const n=L_(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=kg.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const o=L_(this.schema,s);return!e||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=kg.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const s of Object.keys(r))n[e(s)]=r[s];return n})}camelCase(){return this.transformKeys(uC.camelCase)}snakeCase(){return this.transformKeys(uC.snakeCase)}constantCase(){return this.transformKeys(e=>uC.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[o,i]of Object.entries(r.fields)){var s;let l=e;(s=l)!=null&&s.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[o]})),n.fields[o]=i.describe(l)}return n}}pe.prototype=hW.prototype;function $t(t){return new gW(t)}class gW extends _n{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let s=!1;const o=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`,parent:n,originalValue:i,value:i,index:l}));return c!==i&&(s=!0),c});return s?o:n}_validate(e,r={},n,s){var o;let i=this.innerType,l=(o=r.recursive)!=null?o:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){s(c,u);return}let m=new Array(u.length);for(let p=0;p<u.length;p++){var f;m[p]=i.asNestedTest({options:r,index:p,parent:u,parentPath:r.path,originalParent:(f=r.originalValue)!=null?f:e})}this.runTests({value:u,tests:m,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,p=>s(p.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(pW)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!SN(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ds(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=Eg.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||Eg.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||Eg.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,s,o)=>!e(n,s,o):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var s;let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[0]})),n.innerType=r.innerType.describe(o)}return n}}$t.prototype=gW.prototype;function N4e({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const w4e=j.forwardRef(N4e);function C4e({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const S4e=j.forwardRef(C4e);function A4e({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const I4e=j.forwardRef(A4e);function T4e({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const P4e=j.forwardRef(T4e);function k4e({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),j.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const E4e=j.forwardRef(k4e);function D4e({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const O4e=j.forwardRef(D4e);function $4e({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const R4e=j.forwardRef($4e);function L4e({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const F4e=j.forwardRef(L4e);function M4e({title:t,titleId:e,...r},n){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?j.createElement("title",{id:e},t):null,j.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const _4e=j.forwardRef(M4e);function je({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:s=[],loading:o=!1,onRowClick:i=null,selectedRow:l=null,emptyMessage:c="No data available"}){const u=Array.isArray(s)||typeof s=="function"?s:[],d=Array.isArray(u)?u.length>0:typeof u=="function",[m,f]=j.useState(1),[p,h]=j.useState(10),[y,b]=j.useState(""),[g,x]=j.useState({key:null,direction:"asc"}),v=Array.isArray(e)?e:[],N=[...v.filter($=>{const L=q=>Object.values(q).some(E=>E==null?!1:typeof E=="object"&&!Array.isArray(E)?L(E):E.toString().toLowerCase().includes(y.toLowerCase()));return L($)})].sort(($,L)=>{if(!g.key)return 0;const q=$[g.key],E=L[g.key];return q==null?1:E==null?-1:typeof q=="string"&&typeof E=="string"?g.direction==="asc"?q.localeCompare(E):E.localeCompare(q):g.direction==="asc"?q-E:E-q}),S=Math.ceil(N.length/p),C=N.slice((m-1)*p,m*p),A=$=>{let L="asc";g.key===$&&g.direction==="asc"&&(L="desc"),x({key:$,direction:L})},T=$=>{f($)},I=$=>{h(Number($.target.value)),f(1)},k=$=>{b($.target.value),f(1)};return o?a.jsx("div",{className:"bg-white shadow-md rounded-xl border border-neutral-200",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),a.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):v.length===0?a.jsx("div",{className:"bg-white shadow-md rounded-xl border border-neutral-200",children:a.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),a.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),a.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:c})]})}):a.jsxs("div",{className:"bg-white shadow-md rounded-xl border border-gray-200 overflow-hidden",children:[n&&a.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gradient-to-br from-slate-50 to-gray-50",children:a.jsxs("div",{className:"relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(O4e,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),a.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-shadow",placeholder:"Search",value:y,onChange:k})]})}),a.jsx("div",{className:"overflow-x-auto w-full",style:{WebkitOverflowScrolling:"touch",overflowY:"visible"},children:a.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",style:{width:"100%",minWidth:"max-content"},children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gradient-to-r from-slate-50 via-gray-50 to-slate-50 border-b-2 border-gray-200",children:[t.map($=>a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide cursor-pointer whitespace-nowrap transition-colors hover:bg-gray-100",onClick:()=>$.sortable!==!1&&A($.key),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:$.header}),$.sortable!==!1&&a.jsxs("span",{className:"flex flex-col shrink-0",children:[a.jsx(I4e,{className:`h-3 w-3 transition-colors ${g.key===$.key&&g.direction==="asc"?"text-blue-600":"text-gray-400"}`}),a.jsx(S4e,{className:`h-3 w-3 -mt-1 transition-colors ${g.key===$.key&&g.direction==="desc"?"text-blue-600":"text-gray-400"}`})]})]})},$.key)),d&&a.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-bold text-gray-700 uppercase tracking-wide whitespace-nowrap sticky right-0 bg-gradient-to-r from-slate-50 via-gray-50 to-slate-50 z-10 border-l border-gray-200 shadow-sm",children:a.jsx("span",{children:"Actions"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:C.map(($,L)=>a.jsxs("tr",{className:`transition-all duration-200 ${i?"hover:bg-slate-50 hover:shadow-sm cursor-pointer":"hover:bg-slate-50"} ${l&&(l==null?void 0:l.ID)===$.ID?"bg-blue-50 border-l-4 border-blue-500 shadow-sm":""}`,onClick:i?()=>i($):void 0,children:[t.map(q=>a.jsx("td",{className:`px-6 py-4 text-sm font-medium ${q.className||"text-gray-800"}`,children:q.render?q.render($[q.key],$):$[q.key]},`${$.id||L}-${q.key}`)),typeof u=="function"?(()=>{const q=u($);return(q==null?void 0:q.length)>0?a.jsx("td",{className:`px-4 py-3 whitespace-nowrap text-right text-sm font-medium space-x-1.5 sticky right-0 z-10 border-l border-neutral-200 shadow-[2px_0_4px_rgba(0,0,0,0.05)] ${(L+(m-1)*p)%2===0?"bg-white":"bg-neutral-50/30"} ${l&&(l==null?void 0:l.ID)===$.ID?"bg-blue-50":""}`,children:a.jsx("div",{className:"flex items-center justify-end gap-1 sm:gap-1.5",children:q.map((E,R)=>a.jsx("button",{onClick:U=>{U.stopPropagation(),!E.disabled&&E.onClick&&E.onClick($)},disabled:E.disabled,className:E.className||"text-primary-600 hover:text-primary-900",title:E.title,children:E.icon?a.jsx(E.icon,{className:"h-5 w-5","aria-hidden":"true"}):E.label},R))})}):null})():(Array.isArray(u)?u.length>0:typeof u=="function")&&a.jsx("td",{className:`px-4 py-3 whitespace-nowrap text-right text-sm font-medium space-x-1.5 sticky right-0 z-10 border-l border-neutral-200 shadow-[2px_0_4px_rgba(0,0,0,0.05)] ${(L+(m-1)*p)%2===0?"bg-white":"bg-neutral-50/30"} ${l&&(l==null?void 0:l.ID)===$.ID?"bg-blue-50":""}`,children:a.jsx("div",{className:"flex items-center justify-end gap-1 sm:gap-1.5",children:(Array.isArray(u)?u:[]).map((q,E)=>a.jsx("button",{onClick:R=>{R.stopPropagation(),!(q!=null&&q.disabled)&&(q!=null&&q.onClick)&&q.onClick($)},disabled:q==null?void 0:q.disabled,className:(q==null?void 0:q.className)||"text-primary-600 hover:text-primary-900",title:q==null?void 0:q.title,children:q!=null&&q.icon?a.jsx(q.icon,{className:"h-5 w-5","aria-hidden":"true"}):q==null?void 0:q.label},E))})})]},$.id||L))})]})}),r&&S>0&&a.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[a.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",a.jsx("span",{className:"font-medium",children:Math.min((m-1)*p+1,N.length)})," ","to"," ",a.jsx("span",{className:"font-medium",children:Math.min(m*p,N.length)})," ","of ",a.jsx("span",{className:"font-medium",children:N.length})," results"]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),a.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:p,onChange:I,children:[5,10,25,50].map($=>a.jsx("option",{value:$,children:$},$))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>T(m-1),disabled:m===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(B4e,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>T(m+1),disabled:m===S,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(q4e,{className:"h-5 w-5"})})]})]})]})]})}function B4e(t){return a.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function q4e(t){return a.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function me({isOpen:t,onClose:e,title:r,size:n="md",children:s,footer:o=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return a.jsx(el.Root,{show:t,as:j.Fragment,children:a.jsx(Mc,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-2",children:[a.jsx(el.Child,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(Mc.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),a.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),a.jsx(el.Child,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:a.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left  shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[a.jsx(Mc.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),a.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[a.jsx("span",{className:"sr-only",children:"Close"}),a.jsx(Hu,{className:"h-6 w-6","aria-hidden":"true"})]})]}),a.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:s}),o&&a.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:o})]})})]})})})}const fp="http://192.168.1.215:5001",V4e=[],U4e={departments:V4e,department:null,isLoading:!1,error:null},fr=K("departments/fetchDepartments",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${fp}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Og=K("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${fp}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");if(n&&n.ID)try{const s={Code:`${t.Code}-EXP`,Name:`${t.Name} Expenses`,DepartmentID:n.ID},o=await fetch(`${fp}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(s)});o.ok||console.warn("Failed to auto-create subdepartment:",await o.json())}catch(s){console.warn("Error creating subdepartment:",s)}return n}catch(r){return e.rejectWithValue(r.message)}}),$g=K("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${fp}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Rg=K("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${fp}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),yW=Ce({name:"departments",initialState:U4e,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(fr.pending,e=>{e.isLoading=!0}).addCase(fr.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(fr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Og.pending,e=>{e.isLoading=!0}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase($g.pending,e=>{e.isLoading=!0}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Rg.pending,e=>{e.isLoading=!0}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:KYe,resetDepartmentState:JYe}=yW.actions,z4e=yW.reducer;function Se(t){const{selectedRole:e}=ee(n=>n.auth);return j.useMemo(()=>!e||e.Description==="Administration"?{View:!0,Add:!0,Edit:!0,Delete:!0,Print:!0,Mayor:!0}:e.ModuleAccesses?e.ModuleAccesses.find(s=>s.ModuleID===t)||{}:{},[e,t])}function W4e(){const t=he(),{departments:e,isLoading:r,error:n}=ee(C=>C.departments),{Add:s,Edit:o,Delete:i}=Se(39),[l,c]=j.useState(!1),[u,d]=j.useState(null),[m,f]=j.useState(!1),[p,h]=j.useState(null);j.useEffect(()=>{t(fr())},[t]);const y=pe().shape({Code:M().required("Department code is required").min(3,"Department Code must be at least with 3 characters").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(C){return C?!e.some(T=>T.Code.trim().toLowerCase()===C.trim().toLowerCase()&&(!u||T.ID!==u.ID)):!0}),Name:M().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(C){return C?!e.some(T=>T.Name.trim().toLowerCase()===C.trim().toLowerCase()&&(!u||T.ID!==u.ID)):!0})}),b=()=>{d(null),c(!0)},g=C=>{d(C),c(!0)},x=C=>{h(C),f(!0)},v=async()=>{try{if(!p)return;const C="http://192.168.1.215:5001",A=sessionStorage.getItem("token"),T=await fetch(`${C}/budget`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`}});if(T.ok){const I=await T.json();if(((I==null?void 0:I.items)||[]).some(L=>L.DepartmentID===p.ID)){Y.error("Cannot delete department. It is currently being used in budget records."),f(!1),h(null);return}}try{const I=await fetch(`${C}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`}});if(I.ok){const k=await I.json();if(((k==null?void 0:k.items)||[]).some(q=>q.ResponsibilityCenter==p.ID)){Y.error("Cannot delete department. It is currently being used in OBR records."),f(!1),h(null);return}}}catch(I){console.warn("Error checking OBR requests:",I)}try{const I=await fetch(`${C}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`}});if(I.ok){const k=await I.json();if(((k==null?void 0:k.items)||[]).some(q=>q.ResponsibilityCenter==p.ID)){Y.error("Cannot delete department. It is currently being used in Purchase Request records."),f(!1),h(null);return}}}catch(I){console.warn("Error checking Purchase requests:",I)}try{const I=await fetch(`${C}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`}});if(I.ok){const k=await I.json(),L=((k==null?void 0:k.items)||[]).filter(q=>q.DepartmentID===p.ID);for(const q of L)try{await fetch(`${C}/subDepartment/${q.ID}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${A}`}})}catch(E){console.warn(`Failed to delete subdepartment ${q.ID}:`,E)}}}catch(I){console.warn("Error fetching/deleting subdepartments:",I)}await t(Rg(p.ID)).unwrap(),Y.success("Department deleted successfully.")}catch(C){console.error("Failed to delete department:",C);const A=(C==null?void 0:C.message)||(C==null?void 0:C.toString())||"";A.toLowerCase().includes("budget")||A.toLowerCase().includes("used")||A.toLowerCase().includes("reference")||A.toLowerCase().includes("transaction")?Y.error("Cannot delete department. It is currently being used in transactions or budget records."):Y.error("Failed to delete department. Please try again.")}finally{f(!1),h(null)}},w=(C,{resetForm:A})=>{t(u?$g({...C,ID:u.ID}):Og(C)),c(!1),A()},N=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],S=C=>{const A=[];return o&&A.push({icon:Fe,title:"Edit",onClick:()=>g(C),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),i&&C.ID>4&&A.push({icon:Xe,title:"Delete",onClick:()=>x(C),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),A};return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Departments"}),a.jsx("p",{children:"Manage LGU departments and their details"})]}),s&&a.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:N,data:e,actions:S,loading:r})}),a.jsx(me,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Department":"Add Department",children:a.jsx(He,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:y,onSubmit:w,children:({values:C,errors:A,touched:T,handleChange:I,handleBlur:k,isSubmitting:$})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:C.Code,onChange:I,onBlur:k,error:A.Code,touched:T.Code}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:C.Name,onChange:I,onBlur:k,error:A.Name,touched:T.Name}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:$,className:"btn btn-primary",children:"Save"})]})]})})}),a.jsxs(me,{isOpen:m,onClose:()=>f(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",a.jsx("span",{className:"font-medium",children:p==null?void 0:p.departmentName}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const AN="http://192.168.1.215:5001",G4e=[],H4e={currencies:G4e,currency:null,isLoading:!1,error:null},Lg=K("currencies/fetchCurrencies",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${AN}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Fg=K("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${AN}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Mg=K("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${AN}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),_g=K("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${AN}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),xW=Ce({name:"currencies",initialState:H4e,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(Lg.pending,e=>{e.isLoading=!0}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Fg.pending,e=>{e.isLoading=!0}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Mg.pending,e=>{e.isLoading=!0}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(_g.pending,e=>{e.isLoading=!0}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:XYe,resetCurrencyState:ZYe}=xW.actions,Y4e=xW.reducer,K4e=(t=[],e=null)=>pe().shape({Code:M().required("Code is required").max(3,"Code must be exactly 3 characters").min(3,"Code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Code must be 3 uppercase letters (ISO 4217)").test("unique-code","Code already exists",function(r){if(!r)return!0;const n=r.trim().toUpperCase();return!t.some(o=>o.Code.trim().toUpperCase()===n&&(!e||o.ID!==e.ID))}),Name:M().required("Name is required").max(100,"Name must be at most 100 characters").test("unique-name","Name already exists",function(r){if(!r)return!0;const n=r.trim().toLowerCase();return!t.some(o=>o.Name.trim().toLowerCase()===n&&(!e||o.ID!==e.ID))})});function J4e(){const t=he(),{currencies:e,isLoading:r,error:n}=ee(S=>S.currencies),{Add:s,Edit:o,Delete:i}=Se(37),[l,c]=j.useState(!1),[u,d]=j.useState(null),[m,f]=j.useState(!1),[p,h]=j.useState(null);j.useEffect(()=>{t(Lg())},[t]);const y=()=>{d(null),c(!0)},b=S=>{d(S),c(!0)},g=S=>{h(S),f(!0)},x=async()=>{try{p&&(t(_g(p.ID)),f(!1),h(null)),Y.success("Currency deleted successfully.")}catch(S){console.error("Failed to delete currency:",S),Y.error("Failed to delete currency. Please try again.")}},v=(S,{resetForm:C})=>{try{t(u?Mg({...S,ID:u.ID}):Fg(S)),Y.success("Currency saved successfully.")}catch(A){console.error("Failed to save currency:",A),Y.error("Failed to save currency. Please try again.")}finally{c(!1),C()}},w=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],N=[o&&{icon:Fe,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Xe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Currencies"}),a.jsx("p",{children:"Manage LGU currencies and their details"})]}),s&&a.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:w,data:e,actions:N,loading:r})}),a.jsx(me,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Currency":"Add Currency",children:a.jsx(He,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:K4e(e,u),onSubmit:v,children:({values:S,errors:C,touched:A,handleChange:T,handleBlur:I,isSubmitting:k})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:S.Code,onChange:T,onBlur:I,error:C.Code,touched:A.Code}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:S.Name,onChange:T,onBlur:I,error:C.Name,touched:A.Name}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),a.jsxs(me,{isOpen:m,onClose:()=>f(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency"," ",a.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const IN="http://192.168.1.215:5001",X4e=[],Z4e={subdepartments:X4e,subdepartment:null,isLoading:!1,error:null},Vo=K("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${IN}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch departments");return s.items}catch(r){return e.rejectWithValue(r.message)}}),Bg=K("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${IN}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),qg=K("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${IN}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),Vg=K("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${IN}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),bW=Ce({name:"subdepartments",initialState:Z4e,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(Vo.pending,e=>{e.isLoading=!0}).addCase(Vo.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(Vo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Bg.pending,e=>{e.isLoading=!0}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(qg.pending,e=>{e.isLoading=!0}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Vg.pending,e=>{e.isLoading=!0}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:QYe,resetSubdepartmentState:eKe}=bW.actions,Q4e=bW.reducer;var vW={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F_=Q.createContext&&Q.createContext(vW),e3e=["attr","size","title"];function t3e(t,e){if(t==null)return{};var r=r3e(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pv.apply(this,arguments)}function M_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(r),!0).forEach(function(n){n3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n3e(t,e,r){return e=a3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a3e(t){var e=s3e(t,"string");return typeof e=="symbol"?e:e+""}function s3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jW(t){return t&&t.map((e,r)=>Q.createElement(e.tag,hv({key:r},e.attr),jW(e.child)))}function JE(t){return e=>Q.createElement(o3e,pv({attr:hv({},t.attr)},e),jW(t.child))}function o3e(t){var e=r=>{var{attr:n,size:s,title:o}=t,i=t3e(t,e3e),l=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),Q.createElement("svg",pv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:hv(hv({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Q.createElement("title",null,o),t.children)};return F_!==void 0?Q.createElement(F_.Consumer,null,r=>e(r)):e(vW)}function i3e(t){return JE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function l3e(t){return JE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function c3e(t){return JE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const rt=({options:t,label:e,placeholder:r="Search...",error:n,touched:s,required:o=!1,onSelect:i,selectedValue:l,disabled:c=!1})=>{const[u,d]=j.useState(""),m=u===""?t:t.filter(p=>{var h;return(h=p==null?void 0:p.label)==null?void 0:h.toLowerCase().includes(u.toLowerCase())}),f=()=>{i(""),d("")};return a.jsx("div",{className:"w-full form-group",children:a.jsx(tc,{value:l,onChange:i,children:({open:p})=>a.jsxs(a.Fragment,{children:[a.jsxs(tc.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,o&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left sm:text-sm transition-all duration-200 ${s&&n?"border border-red-500":"border border-gray-300"} ${c?"bg-gray-100 cursor-not-allowed opacity-75":""}`,children:[a.jsx(tc.Input,{className:`w-full py-2.5 pl-3 pr-12 text-sm leading-5 focus-visible:outline-none text-gray-900 ${c?"bg-transparent cursor-not-allowed":""}`,disabled:c,placeholder:r,displayValue:h=>{var y;return((y=t.find(b=>b.value===h))==null?void 0:y.label)||h||""},onChange:h=>d(h.target.value),onKeyDown:h=>{h.key==="Enter"&&u&&m.length===0&&(h.preventDefault(),i(u))}}),a.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&!c&&a.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:a.jsx(c3e,{className:"h-4 w-4"})}),a.jsx(tc.Button,{disabled:c,className:`text-gray-400 hover:text-gray-500 transition-colors ${c?"cursor-not-allowed":""}`,children:a.jsx(i3e,{className:`h-5 w-5 transition-transform duration-200 ${p?"rotate-180":""}`})})]})]}),s&&n&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),a.jsx(tc.Options,{className:"absolute z-[500] mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base  ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:m.length===0&&u!==""?a.jsxs("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-700",children:[a.jsx("span",{className:"block truncate",children:"No results found."}),a.jsxs("span",{className:"block text-xs text-blue-600 font-medium mt-1",children:["Press ",a.jsx("kbd",{className:"font-sans border rounded px-1 bg-gray-100",children:"Enter"}),' to create "',u,'"']})]}):m.map(h=>a.jsx(tc.Option,{className:({active:y,selected:b})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${y?"bg-blue-50 text-blue-700":""}
                         ${b?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:h.value,children:a.jsx("span",{children:h.label})},h.value))})]})]})})})};function u3e(){const t=he(),{subdepartments:e,isLoading:r}=ee(A=>A.subdepartments||{}),{departments:n}=ee(A=>A.departments),{Add:s,Edit:o,Delete:i}=Se(76),[l,c]=j.useState(!1),[u,d]=j.useState(null),[m,f]=j.useState(!1),[p,h]=j.useState(null);j.useEffect(()=>{t(Vo()),t(fr())},[t]);const y=pe().shape({Code:M().required("Subdepartment code is required").min(3,"Subdepartment code must be at least 3 characters").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const T=A.trim().toLowerCase();return!(e==null?void 0:e.some(k=>k.Code.trim().toLowerCase()===T&&k.DepartmentID===this.parent.DepartmentID&&(!u||k.ID!==u.ID)))}),Name:M().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const T=A.trim().toLowerCase();return!(e==null?void 0:e.some(k=>k.Name.trim().toLowerCase()===T&&k.DepartmentID===this.parent.DepartmentID&&(!u||k.ID!==u.ID)))}),DepartmentID:ae().required("Department is required")}),b=e.map(A=>{var T;return{...A,departmentName:((T=n.find(I=>I.ID===A.DepartmentID))==null?void 0:T.Name)||"N/A"}}),g=()=>{d(null),c(!0)},x=A=>{d(A),c(!0)},v=A=>{h(A),f(!0)},w=async()=>{try{if(p){const A="http://192.168.1.215:5001",T=sessionStorage.getItem("token"),I=await fetch(`${A}/budget`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`}});if(I.ok){const k=await I.json();if(((k==null?void 0:k.items)||[]).some(q=>q.SubDepartmentID===p.ID)){Y.error("Cannot delete subdepartment. It is currently being used in budget records."),f(!1),h(null);return}}await t(Vg(p.ID)).unwrap(),Y.success("Subdepartment deleted successfully.")}}catch(A){console.error("Failed to delete subdepartment:",A);const T=(A==null?void 0:A.message)||(A==null?void 0:A.toString())||"";T.toLowerCase().includes("budget")||T.toLowerCase().includes("used")||T.toLowerCase().includes("reference")?Y.error("Cannot delete subdepartment. It is currently being used in budget records."):Y.error("Failed to delete subdepartment. Please try again.")}finally{h(null),f(!1)}},N=async(A,{resetForm:T})=>{var $;const I=(($=n.find(L=>L.ID===Number(A.DepartmentID)))==null?void 0:$.Name)||"",k={...A,departmentName:I};try{t(u?qg({...k,ID:u.ID}):Bg(k)),Y.success("Subdepartment saved successfully.")}catch(L){console.log(L),Y.error("Failed to save subdepartment. Please try again.")}finally{c(!1),T()}},S=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],C=[o&&{icon:Fe,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Xe,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Subdepartments"}),a.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),s&&a.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:S,data:b,actions:C,loading:r})}),a.jsx(me,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Subdepartment":"Add Subdepartment",children:a.jsx(He,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",DepartmentID:(u==null?void 0:u.DepartmentID)||""},validationSchema:y,onSubmit:N,children:({values:A,errors:T,touched:I,handleChange:k,handleBlur:$,isSubmitting:L,setFieldValue:q})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:A.Code,onChange:k,onBlur:$,error:T.Code,touched:I.Code}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:A.Name,onChange:k,onBlur:$,error:T.Name,touched:I.Name}),a.jsx(rt,{label:"Department",name:"DepartmentID",type:"select",required:!0,selectedValue:A.DepartmentID,onSelect:E=>q("DepartmentID",E),onBlur:$,error:T.DepartmentID,touched:I.DepartmentID,options:n.map(E=>({value:E.ID,label:E.Name}))}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:L,className:"btn btn-primary",children:"Save"})]})]})})}),a.jsxs(me,{isOpen:m,onClose:()=>f(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",a.jsx("span",{className:"font-medium",children:(p==null?void 0:p.Name)||(p==null?void 0:p.subdepartmentName)}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:w,className:"btn btn-danger",children:"Delete"})]})]})]})}const pp="http://192.168.1.215:5001",d3e=[],m3e={users:d3e,user:null,isLoading:!1,error:null},Fm=K("users/fetchUsers",async(t,e)=>{try{const r=sessionStorage.getItem("token");console.log(" Starting fetchUsers..."),console.log(" API_URL:",pp),console.log(" Token exists:",!!r);const n=new AbortController,s=setTimeout(()=>n.abort(),1e4),o=await fetch(`${pp}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},signal:n.signal});console.log(" Fetch completed. Status:",o.status),console.log(" Response OK?",o.ok),clearTimeout(s);let i;const l=o.headers.get("content-type");if(l&&l.includes("application/json"))i=await o.json();else{const c=await o.text();console.warn(" Non-JSON response:",c);try{i=JSON.parse(c)}catch{throw new Error(`Server returned non-JSON response: ${c.substring(0,100)}`)}}if(console.log(" Response parsed:",i),console.log(" Response type:",typeof i),console.log(" Is array?",Array.isArray(i)),!o.ok){const c=i.message||i.error||`Server error: ${o.status}`;throw console.error(" Server error response:",i),new Error(c)}return console.log("API Response:",i),console.log("Response type:",typeof i),console.log("Is array?",Array.isArray(i)),console.log("Has items?",i.items),console.log("Has data?",i.data),Array.isArray(i)?i:Array.isArray(i.items)?i.items:Array.isArray(i.data)?i.data:(console.warn("Unexpected API response structure:",i),[])}catch(r){return console.error(" ERROR in fetchUsers:",r),console.error(" Error name:",r.name),console.error(" Error message:",r.message),r.name==="AbortError"?e.rejectWithValue("Request timeout. Please check your connection."):r.message&&r.message.includes("Failed to fetch")?e.rejectWithValue("Network error. Please check your connection and try again."):r.message&&r.message.includes("JSON")?e.rejectWithValue("Invalid response from server. Please contact support."):r.message?e.rejectWithValue(r.message):e.rejectWithValue("Failed to fetch users. Please try again.")}}),Ug=K("users/addUser",async(t,e)=>{try{const r=await fetch(`${pp}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),zg=K("users/updateUser",async(t,e)=>{try{const r=await fetch(`${pp}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),Wg=K("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${pp}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),NW=Ce({name:"users",initialState:m3e,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Fm.pending,e=>{e.isLoading=!0}).addCase(Fm.fulfilled,(e,r)=>{e.isLoading=!1,console.log(" fetchUsers.fulfilled - Payload:",r.payload),console.log(" Payload type:",typeof r.payload),console.log(" Is array?",Array.isArray(r.payload)),console.log(" Payload length:",Array.isArray(r.payload)?r.payload.length:"N/A"),e.users=Array.isArray(r.payload)?r.payload:[],e.error=null}).addCase(Fm.rejected,(e,r)=>{var n,s;e.isLoading=!1,console.error(" fetchUsers.rejected - Error:",r.payload||((n=r.error)==null?void 0:n.message)),e.error=r.payload||((s=r.error)==null?void 0:s.message)||"Failed to fetch users"}).addCase(Ug.pending,e=>{e.isLoading=!0}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(zg.pending,e=>{e.isLoading=!0}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wg.pending,e=>{e.isLoading=!0}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:tKe,resetUserState:rKe}=NW.actions,f3e=NW.reducer,TN="http://192.168.1.215:5001",p3e=[],Os=K("userroles/fetchUserroles",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=new AbortController,s=setTimeout(()=>n.abort(),1e4),o=await fetch(`${TN}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},signal:n.signal});clearTimeout(s);const i=await o.json();if(!o.ok){const l=i.message||i.error||`Server error: ${o.status}`;throw new Error(i.message||"Failed to fetch")}return i}catch(r){return r.name==="AbortError"?e.rejectWithValue("Request timeout. Please check your connection."):r.message?e.rejectWithValue(r.message):e.rejectWithValue("Failed to fetch user roles. Please try again.")}}),Gg=K("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${TN}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$2=K("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${TN}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hg=K("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${TN}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),h3e=Ce({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Os.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Os.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(Os.rejected,(e,r)=>{var n;e.isLoading=!1,e.error=r.payload||((n=r.error)==null?void 0:n.message)||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=p3e}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase($2.pending,e=>{e.isLoading=!0,e.error=null}).addCase($2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),g3e=h3e.reducer,y3e=pe().shape({UserName:M().required("User name is required"),UserAccessArray:$t().min(1,"At least one User Access is required").required("User Access is required"),Password:M().required("Password is required").min(6,"Password must be at least 6 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@%$!?*&])[A-Za-z\d@$!%*?&]/,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character."),ConfirmPassword:M().oneOf([Dl("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:M().required("Choose Employee is required")});function x3e(){var B;const t=he(),{users:e,isLoading:r,error:n}=ee(P=>P.users),{Add:s,Edit:o,Delete:i}=Se(82),[l,c]=j.useState(!1),[u,d]=j.useState(null),[m,f]=j.useState(!1),[p,h]=j.useState(null),[y,b]=j.useState(!1),[g,x]=j.useState(null),{userroles:v,isLoading:w,error:N}=ee(P=>P.userroles),S=v.map(P=>({value:P.ID,label:P.Description})),{employees:C,isLoading:A}=ee(P=>P.employees),T=C.map(P=>({value:P.ID,label:`${P.FirstName} ${P.LastName}`}));j.useEffect(()=>{t(Fm()),t(on()),t(Os())},[t]),j.useEffect(()=>{n&&(console.error("Users error:",n),Y.error(n)),N&&(console.error("User roles error:",N),Y.error(N))},[n,N]);const I=()=>{d(null),c(!0)},k=P=>{d(P),c(!0)},$=P=>{h(P),f(!0)},L=async()=>{try{p&&(await t(Wg(p.ID)).unwrap(),f(!1),h(null),Y.success("User deleted successfully"))}catch(P){console.error("Failed to delete user:",P),Y.error("Failed to delete user")}},q=async(P,{resetForm:O,setErrors:V,setSubmitting:_})=>{const H={EmployeeID:P.EmployeeID,UserName:P.UserName,Password:P.Password,UserAccessArray:P.UserAccessArray};console.log("Payload:",H);try{u?await t(zg({...H,ID:u.ID})).unwrap():await t(Ug(H)).unwrap(),t(Fm()),Y.success("User saved successfully.")}catch(G){console.log(G),V({general:"Unexpected error occurred."}),Y.error("Failed to save user. Please try again.")}finally{O(),c(!1),_(!1)}},E=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0,render:(P,O)=>{var V;return a.jsx("span",{children:P||((V=O==null?void 0:O.accessList)==null?void 0:V.map(_=>_.Description).join(", "))||"N/A"})}}],R=[o&&{icon:Fe,title:"Edit",onClick:k,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Xe,title:"Delete",onClick:$,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],U=Array.isArray(e)?e.map(P=>{var O;return{...P,UserAccessValue:((O=P.accessList)==null?void 0:O.map(V=>V.Description).join(", "))||"N/A"}}):[];return j.useEffect(()=>{console.log(" Users state:",e),console.log(" Users is array?",Array.isArray(e)),console.log(" Users length:",Array.isArray(e)?e.length:"N/A"),console.log(" Modified users:",U),console.log(" Modified users length:",U.length)},[e,U]),a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Users"}),a.jsx("p",{children:"Manage system users and their access rights"})]}),s&&a.jsxs("button",{type:"button",onClick:I,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:E,data:U,actions:R,loading:r||w||A})}),a.jsx(me,{isOpen:l,onClose:()=>c(!1),title:u?"Edit User":"Add User",children:a.jsx(He,{initialValues:{UserName:(u==null?void 0:u.UserName)||"",UserAccessArray:((B=u==null?void 0:u.accessList)==null?void 0:B.map(P=>P.ID))||[],Password:"",ConfirmPassword:"",EmployeeID:(u==null?void 0:u.EmployeeID)||""},validationSchema:y3e,onSubmit:q,children:({values:P,errors:O,touched:V,handleChange:_,handleBlur:H,isSubmitting:G})=>a.jsxs(Ze,{className:"space-y-4",children:[O.general&&a.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:O.general}),a.jsx(D,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:P.UserName,onChange:_,onBlur:H,error:O.UserName,touched:V.UserName}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["User Access ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"border border-gray-300 rounded-md p-3 max-h-48 overflow-y-auto",children:S.map(re=>{var ie;return a.jsxs("label",{className:"flex items-center space-x-2 py-1",children:[a.jsx("input",{type:"checkbox",name:"UserAccessArray",value:re.value,checked:((ie=P.UserAccessArray)==null?void 0:ie.includes(Number(re.value)))||!1,onChange:te=>{const Z=Number(te.target.value),z=P.UserAccessArray||[],W=te.target.checked?[...z,Z]:z.filter(X=>X!==Z);_({target:{name:"UserAccessArray",value:W}})},onBlur:H,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:re.label})]},re.value)})}),O.UserAccessArray&&V.UserAccessArray&&a.jsx("p",{className:"text-sm text-red-600",children:O.UserAccessArray})]}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:P.Password,onChange:_,onBlur:H,error:O.Password,touched:V.Password}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:P.ConfirmPassword,onChange:_,onBlur:H,error:O.ConfirmPassword,touched:V.ConfirmPassword}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:P.EmployeeID,onChange:_,onBlur:H,error:O.EmployeeID,touched:V.EmployeeID,options:T}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:G,className:"btn btn-primary",children:G?"Saving...":u?"Update":"Save"})]})]})})}),a.jsxs(me,{isOpen:m,onClose:()=>f(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",a.jsx("span",{className:"font-medium",children:p==null?void 0:p.UserName}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:L,className:"btn btn-danger",children:"Delete"})]})]})]})}const PN="http://192.168.1.215:5001",b3e=[],v3e={accounts:b3e,account:null,isLoading:!1,error:null},Mr=K("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${PN}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Yg=K("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${PN}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Kg=K("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${PN}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jg=K("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${PN}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),wW=Ce({name:"chartOfAccounts",initialState:v3e,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(Mr.pending,e=>{e.isLoading=!0}).addCase(Mr.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(Mr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Yg.pending,e=>{e.isLoading=!0}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Kg.pending,e=>{e.isLoading=!0}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:nKe,resetAccountState:aKe}=wW.actions,j3e=wW.reducer,kN="http://192.168.1.215:5001",N3e=[],w3e={accountGroups:N3e,accountGroup:null,isLoading:!1,error:null},sl=K("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${kN}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Xg=K("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${kN}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Zg=K("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${kN}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qg=K("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${kN}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),CW=Ce({name:"accountGroups",initialState:w3e,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(sl.pending,e=>{e.isLoading=!0}).addCase(sl.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(sl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xg.pending,e=>{e.isLoading=!0}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zg.pending,e=>{e.isLoading=!0}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Qg.pending,e=>{e.isLoading=!0}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:sKe,resetAccountGroupState:oKe}=CW.actions,C3e=CW.reducer,EN="http://192.168.1.215:5001",S3e=[],A3e={majorAccountGroups:S3e,majorAccountGroup:null,isLoading:!1,error:null},ol=K("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${EN}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(console.log("Fetched major account groups:",s),!n.ok)throw new Error(s.message||"Failed to fetch major account groups");return s}catch(r){return e.rejectWithValue(r.message)}}),ey=K("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${EN}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),ty=K("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${EN}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),ry=K("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${EN}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),SW=Ce({name:"majorAccountGroups",initialState:A3e,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(ol.pending,e=>{e.isLoading=!0}).addCase(ol.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(ol.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ey.pending,e=>{e.isLoading=!0}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ty.pending,e=>{e.isLoading=!0}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ry.pending,e=>{e.isLoading=!0}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:iKe,resetMajorAccountGroupState:lKe}=SW.actions,I3e=SW.reducer,DN="http://192.168.1.215:5001",T3e=[],P3e={subMajorAccountGroups:T3e,subMajorAccountGroup:null,isLoading:!1,error:null},Vc=K("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${DN}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(console.log("Fetched sub major account groups:",s),!n.ok)throw new Error(s.message||"Failed to fetch sub major account groups");return s}catch(r){return e.rejectWithValue(r.message)}}),ny=K("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${DN}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),ay=K("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${DN}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),sy=K("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${DN}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),AW=Ce({name:"subMajorAccountGroups",initialState:P3e,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Vc.pending,e=>{e.isLoading=!0}).addCase(Vc.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(Vc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ny.pending,e=>{e.isLoading=!0}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ay.pending,e=>{e.isLoading=!0}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sy.pending,e=>{e.isLoading=!0}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:cKe,resetSubMajorAccountGroupState:uKe}=AW.actions,k3e=AW.reducer,E3e=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{const{values:n,setFieldValue:s,errors:o,touched:i}=Rk(),l=(c,u)=>{const d=u.find(m=>m.ID===c);return d?d.Code:""};return j.useEffect(()=>{if(n.AccountTypeID||n.AccountSubTypeID||n.AccountCategoryID||n.Code){const c=l(n.AccountTypeID,t),u=l(n.AccountSubTypeID,e),d=l(n.AccountCategoryID,r),m=`${c}-${u}-${d}-${n.Code}`;s("AccountCode",m)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),a.jsx(D,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:i.AccountCode&&o.AccountCode,touched:i.AccountCode})},D3e=pe().shape({AccountCode:M().required("Account no is required").max(30,"Account no must be at most 30 characters"),Code:M().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:M().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:M().max(250,"Description must be at most 250 characters"),AccountTypeID:M().required("Account group is required"),AccountSubTypeID:M().required("Major account group is required"),AccountCategoryID:M().required("Sub Major account group is required"),NormalBalance:M().required("Normal balance is required")});function O3e({initialData:t,onClose:e}){const r=he(),{accountGroups:n}=ee(d=>d.accountGroups),{majorAccountGroups:s}=ee(d=>d.majorAccountGroups),{subMajorAccountGroups:o}=ee(d=>d.subMajorAccountGroups),[i,l]=j.useState(!1);j.useEffect(()=>{r(sl()),r(ol()),r(Vc())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=async d=>{l(!0);const m=t?Kg({...d,ID:t.ID}):Yg(d);r(m).unwrap().then(()=>{Y.success("Account updated successfully"),r(Mr()),e()}).catch(f=>{console.error("Error submitting account:",f),Y.error("Failed to submit account. Please try again.")}).finally(()=>{l(!1)})};return a.jsx(He,{initialValues:c,validationSchema:D3e,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:m,touched:f,handleChange:p,handleBlur:h,isValid:y,setFieldValue:b})=>{var g;return a.jsxs(Ze,{className:"space-y-4",children:[a.jsx("div",{className:"",children:a.jsx(E3e,{accountGroups:n,majorAccountGroups:s,subMajorAccountGroups:o})}),console.log("values",d,m),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:p,onBlur:h,error:m.Code,touched:f.Code}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:p,onBlur:h,error:m.Name,touched:f.Name}),a.jsx(rt,{label:"Account Group",options:n.map(x=>({label:`${x.Name} (${x.Code})`,value:x.ID})),placeholder:"Select Account Group",onSelect:x=>{b("AccountTypeID",x||"")},selectedValue:d.AccountTypeID||"",required:!0,error:m.AccountTypeID,touched:f.AccountTypeID}),a.jsx(rt,{label:"Major Account Group",options:s.map(x=>({label:`${x.Name} (${x.Code})`,value:x.ID})),placeholder:"Select Major Account Group",onSelect:x=>{b("AccountSubTypeID",x||"")},selectedValue:((g=s.find(x=>x.ID===d.AccountSubTypeID))==null?void 0:g.ID)||"",required:!0,error:m.AccountSubTypeID,touched:f.AccountSubTypeID}),a.jsx(rt,{label:"Sub Major Account Group",options:o.map(x=>({label:`${x.Name} (${x.Code})`,value:x.ID})),placeholder:"Select Sub Major Account Group",onSelect:x=>{b("AccountCategoryID",x||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:m.AccountCategoryID,touched:f.AccountCategoryID})]}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:p,onBlur:h,error:m.Description,touched:f.Description,rows:2}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsx(D,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:p,onBlur:h,error:m.NormalBalance,touched:f.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:i||!y,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}function $3e(){const t=he(),{accounts:e,isLoading:r}=ee(N=>N.chartOfAccounts),[n,s]=j.useState(!1),[o,i]=j.useState(null),[l,c]=j.useState(!1),[u,d]=j.useState(null),{Add:m,Edit:f,Delete:p}=Se(31);j.useEffect(()=>{t(Mr())},[t]);const h=()=>{i(null),s(!0)},y=N=>{i(N),s(!0)},b=N=>{d(N),c(!0)},g=async()=>{if(u)try{await t(Jg(u.ID)).unwrap(),c(!1),d(null),Y.success("Account deleted successfully")}catch(N){console.error("Failed to delete account:",N),Y.error("Failed to delete account. Please try again.")}},x=()=>{s(!1),i(null)},v=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],w=[f&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},p&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Chart of Accounts"}),a.jsx("p",{children:"Manage account codes and their settings"})]}),a.jsx("div",{className:"flex gap-4 items-center ",children:m&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r})}),a.jsx(me,{isOpen:n,onClose:x,title:o?"Edit Account":"Add Account",size:"lg",children:a.jsx(O3e,{initialData:o,onClose:x})}),a.jsxs(me,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const R3e=pe().shape({Code:M().required("Code is required").max(10,"Code must be at most 10 characters"),Name:M().required("Name is required").max(100,"Name must be at most 100 characters")});function L3e(){const t=he(),{accountGroups:e,isLoading:r,error:n}=ee(S=>S.accountGroups),{Add:s,Edit:o,Delete:i}=Se(88),[l,c]=j.useState(!1),[u,d]=j.useState(null),[m,f]=j.useState(!1),[p,h]=j.useState(null);j.useEffect(()=>{t(sl())},[t]);const y=()=>{d(null),c(!0)},b=S=>{d(S),c(!0)},g=S=>{h(S),f(!0)},x=async()=>{try{p&&(await t(Qg(p.ID)).unwrap(),Y.success("Account group deleted successfully"),f(!1),h(null))}catch(S){console.error("Failed to delete account group:",S),Y.error("Failed to delete account group. Please try again.")}},v=async(S,{resetForm:C})=>{try{u?(await t(Zg({...S,ID:u.ID})).unwrap(),Y.success("Account group updated successfully")):(await t(Xg(S)).unwrap(),Y.success("Account group added successfully")),t(sl())}catch(A){console.error("Error submitting account group:",A),Y.error("Failed to submit account group. Please try again.")}finally{c(!1),C()}},w=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],N=[o&&{icon:Fe,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Xe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Account Types"}),a.jsx("p",{children:"Manage account types and their details"})]}),s&&a.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:w,data:e,actions:N,loading:r})}),a.jsx(me,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Type":"Add Account Type",children:a.jsx(He,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:R3e,onSubmit:v,children:({values:S,errors:C,touched:A,handleChange:T,handleBlur:I,isSubmitting:k})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:T,onBlur:I,error:C.Code,touched:A.Code}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:T,onBlur:I,error:C.Name,touched:A.Name}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),a.jsxs(me,{isOpen:m,onClose:()=>f(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",a.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const F3e=pe().shape({Code:M().required("Code is required").max(15,"Code must be at most 15 characters"),Name:M().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:ae().required("Account Type is required")});function M3e(){const t=he(),{majorAccountGroups:e,isLoading:r}=ee(C=>C.majorAccountGroups),{accountGroups:n}=ee(C=>C.accountGroups),[s,o]=j.useState(!1),[i,l]=j.useState(null),[c,u]=j.useState(!1),[d,m]=j.useState(null),{Add:f,Edit:p,Delete:h}=Se(89);j.useEffect(()=>{t(ol()),t(sl())},[t]);const y=e.map(C=>{const A=n.find(T=>T.ID===C.AccountTypeID);return{...C,accountTypeName:A?A.Name:"N/A"}}),b=()=>{l(null),o(!0)},g=C=>{l(C),o(!0)},x=C=>{m(C),u(!0)},v=()=>{try{d&&(t(ry(d.ID)),Y.success("Major account group deleted successfully"))}catch(C){console.error("Failed to delete major account group:",C),Y.error("Failed to delete major account group. Please try again.")}finally{u(!1),m(null)}},w=async(C,{resetForm:A})=>{var k;const T=((k=n.find($=>$.ID===Number(C.AccountTypeID)))==null?void 0:k.Name)||"",I={...C,accountTypeName:T};try{i?(await t(ty({...I,ID:i.ID})).unwrap(),Y.success("Major account group updated successfully")):(await t(ey(I)).unwrap(),Y.success("Major account group added successfully")),t(ol())}catch($){console.error("Failed to save major account group:",$),Y.error("Failed to save major account group. Please try again.")}o(!1),A()},N=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],S=[p&&{icon:Fe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},h&&{icon:Xe,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Account Sub-Types"}),a.jsx("p",{children:"Manage account sub-types and their details"})]}),f&&a.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:N,data:y,actions:S,loading:r})}),a.jsx(me,{isOpen:s,onClose:()=>o(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:a.jsx(He,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:F3e,onSubmit:w,children:({values:C,errors:A,touched:T,handleChange:I,handleBlur:k,isSubmitting:$})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:C.Code,onChange:I,onBlur:k,error:A.Code,touched:T.Code}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:C.Name,onChange:I,onBlur:k,error:A.Name,touched:T.Name}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:C.AccountTypeID,onChange:I,onBlur:k,error:A.AccountTypeID,touched:T.AccountTypeID,options:n.map(L=>({value:L.ID,label:L.Name}))}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:$,className:"btn btn-primary",children:"Save"})]})]})})}),a.jsxs(me,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",a.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const _3e=pe().shape({Code:M().required("Code is required").max(15,"Code must be at most 15 characters"),Name:M().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:ae().required("Account Sub Type is required")});function B3e(){const t=he(),{subMajorAccountGroups:e,isLoading:r}=ee(C=>C.subMajorAccountGroups),{majorAccountGroups:n}=ee(C=>C.majorAccountGroups),{Add:s,Edit:o,Delete:i}=Se(90),[l,c]=j.useState(!1),[u,d]=j.useState(null),[m,f]=j.useState(!1),[p,h]=j.useState(null);j.useEffect(()=>{t(Vc()),t(ol())},[t]);const y=e.map(C=>{const A=n.find(T=>T.ID===C.AccountSubTypeID);return{...C,accountSubTypeName:A?A.Name:"N/A"}}),b=()=>{d(null),c(!0)},g=C=>{d(C),c(!0)},x=C=>{h(C),f(!0)},v=async()=>{try{p&&(await t(sy(p.ID)).unwrap(),f(!1),h(null),Y.success("Sub major account group deleted successfully"))}catch(C){console.error("Failed to delete sub major account group:",C),Y.error("Failed to delete sub major account group. Please try again.")}},w=async(C,{resetForm:A})=>{var k;const T=((k=n.find($=>$.ID===Number(C.AccountSubTypeID)))==null?void 0:k.Name)||"",I={...C,accountSubTypeName:T};try{u?(await t(ay({...I,ID:u.ID})).unwrap(),Y.success("Sub major account group updated successfully")):(await t(ny(I)).unwrap(),Y.success("Sub major account group added successfully")),t(Vc())}catch($){console.error("Failed to save sub major account group:",$),Y.error("Failed to save sub major account group. Please try again.")}finally{c(!1),A()}},N=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Sub Type",sortable:!0}],S=[o&&{icon:Fe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Xe,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return console.log({currentSubMajorAccountGroup:u,majorAccountGroups:n}),a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Account Category"}),a.jsx("p",{children:"Manage account categories and their details"})]}),s&&a.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:N,data:y,actions:S,loading:r})}),a.jsx(me,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Category":"Add Account Category",children:a.jsx(He,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",AccountSubTypeID:(u==null?void 0:u.AccountSubTypeID.toString())||""},validationSchema:_3e,onSubmit:w,children:({values:C,errors:A,touched:T,handleChange:I,handleBlur:k,isSubmitting:$})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:C.Code,onChange:I,onBlur:k,error:A.Code,touched:T.Code}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:C.Name,onChange:I,onBlur:k,error:A.Name,touched:T.Name}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:C.AccountSubTypeID,onChange:I,onBlur:k,error:A.AccountSubTypeID,touched:T.AccountSubTypeID,options:n.map(L=>({value:L.ID,label:L.Name}))}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:$,className:"btn btn-primary",children:"Save"})]})]})})}),a.jsxs(me,{isOpen:m,onClose:()=>f(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",a.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}function q3e({initialData:t,onSubmit:e,onClose:r,provinces:n=[],municipalities:s=[],barangays:o=[],regionOptions:i=[],provinceOptions:l=[],municipalityOptions:c=[],barangayOptions:u=[],industryOptions:d=[],taxCodeOptions:m=[],vendorTypeOptions:f=[],paymentTermsOptions:p=[],modeOfPaymentOptions:h=[]}){const y=pe({Code:M().required("Code is required"),TIN:M().required("TIN is required"),Name:M().required("Name is required"),PhoneNumber:M(),MobileNumber:M().required("Mobile number is required"),EmailAddress:M().email("Invalid email").required("Email is required"),Website:M(),RegionID:M().required("Region is required"),ProvinceID:M().required("Province is required"),MunicipalityID:M().required("Municipality is required"),BarangayID:M().required("Barangay is required"),StreetAddress:M().required("Street address is required"),ZIPCode:M().required("Zip code is required"),TypeID:M().required("Vendor type is required"),RDO:M().required("Revenue District Office is required"),IndustryTypeID:M().required("Industry is required"),TaxCodeID:M().required("Tax code is required"),PaymentTermsID:M().required("Payment terms are required"),Vatable:Hs(),PaymentMethodID:M().required("Mode of payment is required"),ContactPerson:M().required("Contact person is required"),DeliveryLeadTime:ae().required("Delivery lead time is required").typeError("Must be a number")}),b=ot({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:y,onSubmit:C=>{e(C)}}),{values:g,handleChange:x,handleBlur:v,errors:w,touched:N,setFieldValue:S}=b;return j.useEffect(()=>{const C=o.find(A=>A.ID.toString()===g.BarangayID);C&&(C.MunicipalityCode&&S("MunicipalityID",C.MunicipalityCode),C.ProvinceCode&&S("ProvinceID",C.ProvinceCode),C.RegionCode&&S("RegionID",C.RegionCode))},[g.BarangayID]),j.useEffect(()=>{const C=s.find(A=>A.ID.toString()===g.MunicipalityID);C&&(C.ProvinceCode&&S("ProvinceID",C.ProvinceCode),C.RegionCode&&S("RegionID",C.RegionCode))},[g.MunicipalityID]),j.useEffect(()=>{const C=n.find(A=>A.ID.toString()===g.ProvinceID);C&&C.RegionCode&&S("RegionID",C.RegionCode)},[g.ProvinceID]),a.jsxs("form",{onSubmit:b.handleSubmit,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Code",name:"Code",type:"text",value:g.Code,onChange:x,onBlur:v,error:w.Code,touched:N.Code,required:!0}),a.jsx(D,{label:"TIN",name:"TIN",type:"text",value:g.TIN,onChange:x,onBlur:v,error:w.TIN,touched:N.TIN,required:!0})]}),a.jsx(D,{label:"Name",name:"Name",type:"text",value:g.Name,onChange:x,onBlur:v,error:w.Name,touched:N.Name,required:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Phone Number",name:"PhoneNumber",type:"text",value:g.PhoneNumber,onChange:x,onBlur:v}),a.jsx(D,{label:"Mobile Number",name:"MobileNumber",type:"text",value:g.MobileNumber,onChange:x,onBlur:v,error:w.MobileNumber,touched:N.MobileNumber,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Email",name:"EmailAddress",type:"email",value:g.EmailAddress,onChange:x,onBlur:v,error:w.EmailAddress,touched:N.EmailAddress,required:!0}),a.jsx(D,{label:"Website",name:"Website",type:"text",value:g.Website,onChange:x,onBlur:v})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Region",name:"RegionID",type:"select",options:i,value:g.RegionID,onChange:x,onBlur:v,error:w.RegionID,touched:N.RegionID,required:!0}),a.jsx(D,{label:"Province",name:"ProvinceID",type:"select",options:l,value:g.ProvinceID,onChange:x,onBlur:v,error:w.ProvinceID,touched:N.ProvinceID,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Municipality",name:"MunicipalityID",type:"select",options:c,value:g.MunicipalityID,onChange:x,onBlur:v,error:w.MunicipalityID,touched:N.MunicipalityID,required:!0}),a.jsx(D,{label:"Barangay",name:"BarangayID",type:"select",options:u,value:g.BarangayID,onChange:x,onBlur:v,error:w.BarangayID,touched:N.BarangayID,required:!0})]}),a.jsx(D,{label:"Street Address",name:"StreetAddress",type:"textarea",value:g.StreetAddress,onChange:x,onBlur:v,error:w.StreetAddress,touched:N.StreetAddress,required:!0}),a.jsx(D,{label:"Zip Code",name:"ZIPCode",type:"text",value:g.ZIPCode,onChange:x,onBlur:v,error:w.ZIPCode,touched:N.ZIPCode,required:!0}),a.jsx("hr",{className:"border-t border-neutral-300 my-4"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Vendor Type",name:"TypeID",type:"select",options:f,value:g.TypeID,onChange:x,onBlur:v,error:w.TypeID,touched:N.TypeID,required:!0}),a.jsx(D,{label:"Revenue District Office",name:"RDO",type:"text",value:g.RDO,onChange:x,onBlur:v,error:w.RDO,touched:N.RDO,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Industry",name:"IndustryTypeID",type:"select",options:d,value:g.IndustryTypeID,onChange:x,onBlur:v,error:w.IndustryTypeID,touched:N.IndustryTypeID,required:!0}),a.jsx(D,{label:"Tax Code",name:"TaxCodeID",type:"select",options:m,value:g.TaxCodeID,onChange:x,onBlur:v,error:w.TaxCodeID,touched:N.TaxCodeID,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:p,value:g.PaymentTermsID,onChange:x,onBlur:v,error:w.PaymentTermsID,touched:N.PaymentTermsID,required:!0}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx("input",{type:"checkbox",name:"Vatable",checked:g.Vatable,onChange:x,onBlur:v}),a.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:h,value:g.PaymentMethodID,onChange:x,onBlur:v,error:w.PaymentMethodID,touched:N.PaymentMethodID,required:!0}),a.jsx(D,{label:"Contact Person",name:"ContactPerson",type:"text",value:g.ContactPerson,onChange:x,onBlur:v,error:w.ContactPerson,touched:N.ContactPerson,required:!0})]}),a.jsx(D,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:g.DeliveryLeadTime,onChange:x,onBlur:v,error:w.DeliveryLeadTime,touched:N.DeliveryLeadTime,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b.isSubmitting,children:b.isSubmitting?"Saving...":"Save"})]})]})}const ON="http://192.168.1.215:5001",V3e=[],Ea=K("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${ON}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),oy=K("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${ON}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),R2=K("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${ON}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),iy=K("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${ON}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),U3e=Ce({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ea.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ea.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Ea.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=V3e}).addCase(oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(R2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(R2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),z3e=U3e.reducer,$N="http://192.168.1.215:5001",W3e=[],Uo=K("regions/fetchRegions",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${$N}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),ly=K("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${$N}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),L2=K("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${$N}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cy=K("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${$N}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),G3e=Ce({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Uo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Uo.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Uo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=W3e}).addCase(ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(L2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(L2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),H3e=G3e.reducer,RN="http://192.168.1.215:5001",Y3e=[],zo=K("provinces/fetchProvinces",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${RN}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),uy=K("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${RN}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),F2=K("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${RN}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),dy=K("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${RN}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),K3e=Ce({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(zo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zo.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(zo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=Y3e}).addCase(uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(F2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(F2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),J3e=K3e.reducer,LN="http://192.168.1.215:5001",X3e=[],Wo=K("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${LN}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),my=K("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${LN}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),M2=K("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${LN}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fy=K("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${LN}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Z3e=Ce({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Wo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wo.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Wo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=X3e}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(M2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(M2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),Q3e=Z3e.reducer,FN="http://192.168.1.215:5001",eBe=[],Go=K("barangays/fetchBarangays",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${FN}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),py=K("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${FN}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_2=K("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${FN}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hy=K("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${FN}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),tBe=Ce({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Go.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Go.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(Go.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=eBe}).addCase(py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(_2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),rBe=tBe.reducer,MN="http://192.168.1.215:5001",nBe=[],Uc=K("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${MN}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),gy=K("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${MN}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),B2=K("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${MN}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),yy=K("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${MN}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),aBe=Ce({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Uc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Uc.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Uc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=nBe}).addCase(gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(B2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(B2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),sBe=aBe.reducer,_N="http://192.168.1.215:5001",oBe=[],il=K("industries/fetchIndustries",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${_N}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),xy=K("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${_N}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),q2=K("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${_N}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),by=K("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${_N}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),iBe=Ce({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(il.pending,e=>{e.isLoading=!0,e.error=null}).addCase(il.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(il.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=oBe}).addCase(xy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(q2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(q2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(by.pending,e=>{e.isLoading=!0,e.error=null}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),lBe=iBe.reducer,BN="http://192.168.1.215:5001",cBe=[],ia=K("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${BN}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),vy=K("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${BN}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),V2=K("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${BN}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jy=K("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${BN}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),uBe=Ce({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ia.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ia.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(ia.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=cBe}).addCase(vy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(V2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(V2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),dBe=uBe.reducer,qN="http://192.168.1.215:5001",mBe=[],ll=K("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${qN}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Ny=K("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${qN}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),U2=K("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${qN}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),wy=K("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${qN}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),fBe=Ce({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ll.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ll.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(ll.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=mBe}).addCase(Ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(U2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(U2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),pBe=fBe.reducer,VN="http://192.168.1.215:5001",hBe=[],cl=K("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${VN}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Cy=K("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${VN}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),z2=K("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${VN}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Sy=K("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${VN}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),gBe=Ce({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(cl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cl.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(cl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=hBe}).addCase(Cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(z2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(z2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(Sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),yBe=gBe.reducer;function xBe(){const t=he(),{vendorDetails:e,isLoading:r}=ee(G=>G.vendorDetails),{Add:n,Edit:s,Delete:o}=Se(91),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null),{regions:h}=ee(G=>G.regions),{provinces:y}=ee(G=>G.provinces),{municipalities:b}=ee(G=>G.municipalities),{barangays:g}=ee(G=>G.barangays),{vendorTypes:x}=ee(G=>G.vendorTypes),{industries:v}=ee(G=>G.industries),{taxCodes:w}=ee(G=>G.taxCodes),{paymentTerms:N}=ee(G=>G.paymentTerms),{modeOfPayments:S}=ee(G=>G.modeOfPayments);j.useEffect(()=>{t(Ea()),t(Uo()),t(zo()),t(Wo()),t(Go()),t(Uc()),t(il()),t(ia()),t(ll()),t(cl())},[t]);const C=j.useMemo(()=>{var z,W;const G=(e==null?void 0:e.length)||0,re=((z=e==null?void 0:e.filter(X=>X.Vatable))==null?void 0:z.length)||0,ie=((W=e==null?void 0:e.filter(X=>!X.Vatable))==null?void 0:W.length)||0,te=(e==null?void 0:e.reduce((X,F)=>{if(!F.TypeID)return X;const J=F.TypeID;return X[J]=(X[J]||0)+1,X},{}))||{},Z=Object.entries(te).map(([X,F])=>{const J=x.find(ne=>ne.ID==X);return{id:X,name:(J==null?void 0:J.Name)||"Unknown type",count:F}});return{total:G,vatableCount:re,nonVatableCount:ie,typeCounts:Z}},[e,x]),A=h.map(G=>({value:G.ID,label:G.Name})),T=y.map(G=>({value:G.ID,label:G.Name})),I=b.map(G=>({value:G.ID,label:G.Name})),k=g.map(G=>({value:G.ID,label:G.Name})),$=x.map(G=>({value:G.ID,label:G.Name})),L=v.map(G=>({value:G.ID,label:G.Name})),q=w.map(G=>({value:G.ID,label:G.Code})),E=N.map(G=>({value:G.ID,label:G.Name})),R=S.map(G=>({value:G.ID,label:G.Name})),U=()=>{u(null),l(!0)},B=G=>{u(G),l(!0)},P=G=>{p(G),m(!0)},O=async()=>{if(f)try{await t(iy(f.ID)).unwrap(),m(!1),p(null),Y.success("Vendor details deleted successfully")}catch{Y.error("Failed to delete vendor details. Please try again.")}},V=async G=>{try{c?(await t(R2({...G,ID:c.ID})).unwrap(),Y.success("Vendor details updated successfully")):(await t(oy(G)).unwrap(),Y.success("Vendor details added successfully")),t(Ea())}catch{Y.error("Failed to save vendor details. Please try again.")}finally{l(!1)}},_=[{key:"Code",header:"Code",sortable:!0,className:"text-neutral-900 font-medium",render:G=>G||""},{key:"Name",header:"Vendor",sortable:!0,render:G=>a.jsx("span",{className:"text-neutral-900 font-medium",children:G||""})},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:G=>{const re=N.find(ie=>ie.ID==G);return(re==null?void 0:re.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:G=>{const re=S.find(ie=>ie.ID==G);return(re==null?void 0:re.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Lead Time (days)",sortable:!0,render:G=>G||"0"},{key:"TIN",header:"TIN",sortable:!0,render:G=>G||""},{key:"Vatable",header:"Vatable",sortable:!0,render:G=>a.jsx("span",{className:`inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium ${G?"bg-green-100 text-green-700":"bg-neutral-100 text-neutral-700"}`,children:G?"Yes":"No"})},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:G=>{const re=w.find(ie=>ie.ID==G);return(re==null?void 0:re.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:G=>{const re=x.find(ie=>ie.ID==G);return(re==null?void 0:re.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:G=>{const re=v.find(ie=>ie.ID==G);return(re==null?void 0:re.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone",sortable:!0},{key:"MobileNumber",header:"Mobile",sortable:!0},{key:"EmailAddress",header:"Email",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:G=>G||"No website"},{key:"StreetAddress",header:"Street Address",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:G=>{const re=g.find(ie=>ie.ID==G);return(re==null?void 0:re.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:G=>{const re=b.find(ie=>ie.ID==G);return(re==null?void 0:re.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:G=>{const re=y.find(ie=>ie.ID==G);return(re==null?void 0:re.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:G=>{const re=h.find(ie=>ie.ID==G);return(re==null?void 0:re.Name)||"N/A"}},{key:"ZIPCode",header:"ZIP Code",sortable:!0}],H=[s&&{icon:Br,title:"Edit",onClick:B,className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow"},o&&{icon:Kt,title:"Delete",onClick:P,className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow"}].filter(Boolean);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(cu,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Vendor Details"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Manage vendor profiles, tax settings, and payment preferences"})]})]})}),a.jsx("div",{className:"flex items-center gap-3",children:n&&a.jsxs("button",{type:"button",onClick:U,className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Vendor Details"]})})]}),!r&&(e==null?void 0:e.length)>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Vendors"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:C.total})]}),a.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:a.jsx(cu,{className:"h-6 w-6 text-blue-700"})})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 via-green-50 to-emerald-100 border border-emerald-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-emerald-800",children:"Vatable vs NonVatable"}),a.jsx("p",{className:"text-xs text-emerald-700/80",children:"Tax status distribution of vendors"})]}),a.jsx("div",{className:"p-3 bg-emerald-200 rounded-xl shadow-sm",children:a.jsx(Ep,{className:"h-5 w-5 text-emerald-800"})})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1 bg-white/60 rounded-lg px-3 py-2 border border-emerald-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-500"}),a.jsx("span",{className:"text-xs font-medium text-emerald-800",children:"Vatable"})]}),a.jsx("span",{className:"text-sm font-semibold text-emerald-900",children:C.vatableCount})]}),a.jsx("div",{className:"h-1.5 w-full bg-emerald-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all",style:{width:C.total>0?`${C.vatableCount/C.total*100}%`:"0%"}})})]}),a.jsxs("div",{className:"flex-1 bg-white/60 rounded-lg px-3 py-2 border border-emerald-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-500"}),a.jsx("span",{className:"text-xs font-medium text-amber-800",children:"NonVatable"})]}),a.jsx("span",{className:"text-sm font-semibold text-amber-900",children:C.nonVatableCount})]}),a.jsx("div",{className:"h-1.5 w-full bg-amber-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500 rounded-full transition-all",style:{width:C.total>0?`${C.nonVatableCount/C.total*100}%`:"0%"}})})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-violet-50 via-purple-50 to-fuchsia-100 border border-purple-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-purple-900",children:"Vendors per Type"}),a.jsx("p",{className:"text-xs text-purple-700/80",children:"Count of vendors for each type"})]}),a.jsx("div",{className:"p-3 bg-purple-200 rounded-xl shadow-sm",children:a.jsx(ir,{className:"h-5 w-5 text-purple-900"})})]}),C.typeCounts.length===0?a.jsx("p",{className:"text-sm text-purple-700/80 mt-1",children:"No vendor types available."}):a.jsxs("div",{className:"mt-1 space-y-1.5",children:[C.typeCounts.slice(0,4).map((G,re)=>a.jsxs("div",{className:"flex items-center justify-between text-xs bg-white/70 border border-purple-100 rounded-md px-2.5 py-1.5",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`h-1.5 w-1.5 rounded-full ${re===0?"bg-purple-700":re===1?"bg-fuchsia-500":re===2?"bg-violet-500":"bg-purple-400"}`}),a.jsx("span",{className:"text-[11px] text-neutral-800 truncate max-w-[7.5rem]",children:G.name})]}),a.jsx("span",{className:"font-semibold text-purple-900",children:G.count})]},G.id)),C.typeCounts.length>4&&a.jsxs("p",{className:"text-[11px] text-purple-800/80 mt-1",children:["+ ",C.typeCounts.length-4," more type",C.typeCounts.length-4>1?"s":""]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Vendor Records",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(e==null?void 0:e.length)||0," ",((e==null?void 0:e.length)||0)===1?"record":"records",")"]})]})}),a.jsx(je,{columns:_,data:e||[],actions:H,loading:r,pagination:!0,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})]}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Details":"Add Vendor Details",children:a.jsx(q3e,{initialData:c,onClose:()=>l(!1),onSubmit:V,provinces:y,municipalities:b,barangays:g,regionOptions:A,provinceOptions:T,municipalityOptions:I,barangayOptions:k,vendorTypeOptions:$,industryOptions:L,taxCodeOptions:q,paymentTermsOptions:E,modeOfPaymentOptions:R})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:O,className:"btn btn-danger",children:"Delete"})]})]})]})}function bBe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Name:M().required("Name is required")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const UN="http://192.168.1.215:5001",vBe=[],Mm=K("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${UN}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Ay=K("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${UN}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),W2=K("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${UN}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Iy=K("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${UN}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),jBe=Ce({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Mm.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mm.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Mm.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=vBe}).addCase(Ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(W2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(W2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(Iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),NBe=jBe.reducer;function wBe(){const t=he(),{vendorCustomerTypes:e,isLoading:r}=ee(N=>N.vendorCustomerTypes),{Add:n,Edit:s,Delete:o}=Se(91),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(Mm())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(Iy(f.ID)).unwrap(),m(!1),p(null),Y.success("Vendor customer type deleted successfully")}catch(N){console.error("Failed to delete vendor customer type:",N),Y.error("Failed to delete vendor customer type. Please try again.")}},x=async N=>{try{c?(await t(W2({...N,ID:c.ID})).unwrap(),Y.success("Vendor customer type updated successfully")):(await t(Ay(N)).unwrap(),Y.success("Vendor customer type saved successfully")),t(Mm())}catch(S){console.error("Failed to save vendor customer type:",S),Y.error("Failed to save vendor customer type. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Vendor Customer Types"}),a.jsx("p",{children:"Manage Vendor Customer Types"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:a.jsx(bBe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function CBe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Name:M().required("Name is required")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function SBe(){const t=he(),{vendorTypes:e,isLoading:r}=ee(N=>N.vendorTypes),{Add:n,Edit:s,Delete:o}=Se(92),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(Uc())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(yy(f.ID)).unwrap(),m(!1),p(null),Y.success("Vendor type deleted successfully")}catch(N){console.error("Failed to delete vendor type:",N),Y.error("Failed to delete vendor type. Please try again.")}},x=async N=>{try{c?(await t(B2({...N,ID:c.ID})).unwrap(),Y.success("Vendor type updated successfully")):(await t(gy(N)).unwrap(),Y.success("Vendor type saved successfully")),t(Uc())}catch(S){console.error("Failed to save vendor type:",S),Y.error("Failed to save vendor type. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Vendor Types"}),a.jsx("p",{children:"Manage Vendor Types"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Type":"Add Vendor Type",children:a.jsx(CBe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function ABe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Description:M().required("Name is required")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Name",name:"Description",type:"text",value:s.values.Description,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Description,touched:s.touched.Description,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const zN="http://192.168.1.215:5001",IBe=[],ul=K("modules/fetchModules",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${zN}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Ty=K("modules/addModule",async(t,e)=>{try{const r=await fetch(`${zN}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),G2=K("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${zN}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Py=K("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${zN}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),TBe=Ce({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ul.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ul.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(ul.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=IBe}).addCase(Ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(G2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(G2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),PBe=TBe.reducer;function kBe(){const t=he(),{modules:e,isLoading:r}=ee(x=>x.modules),[n,s]=j.useState(!1),[o,i]=j.useState(null),[l,c]=j.useState(!1),[u,d]=j.useState(null);j.useEffect(()=>{t(ul())},[t]);const m=()=>{i(null),s(!0)},f=x=>{i(x),console.log("Edit module:",x),s(!0)},p=x=>{d(x),c(!0)},h=async()=>{if(u)try{await t(Py(u.ID)).unwrap(),c(!1),d(null),Y.success("Module deleted successfully")}catch(x){console.error("Failed to delete module:",x),Y.error("Failed to delete module. Please try again.")}},y=async x=>{try{o?(await t(G2({...x,ID:o.ID})).unwrap(),t(ul()),Y.success("Module updated successfully")):(await t(Ty(x)).unwrap(),t(ul()),Y.success("Module saved successfully"))}catch(v){console.error("Failed to save module:",v),Y.error("Failed to save module. Please try again.")}finally{s(!1)}},b=[{key:"Description",header:"Name",sortable:!0}],g=[{icon:Fe,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Xe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Modules"}),a.jsx("p",{children:"Manage Modules"})]}),a.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:b,data:e,actions:g,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),a.jsx(me,{isOpen:n,onClose:()=>s(!1),title:o?"Edit Module":"Add Module",children:a.jsx(ABe,{initialData:o,onClose:()=>s(!1),onSubmit:y})}),a.jsxs(me,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.Description,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const WN="http://192.168.1.215:5001",EBe=[],dl=K("positions/fetchPositions",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${WN}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),ky=K("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${WN}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),H2=K("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${WN}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ey=K("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${WN}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),DBe=Ce({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(dl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dl.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(dl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=EBe}).addCase(ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(H2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(H2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),OBe=DBe.reducer,GN="http://192.168.1.215:5001",$Be=[],zc=K("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${GN}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Dy=K("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${GN}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Y2=K("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${GN}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Oy=K("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${GN}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),RBe=Ce({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(zc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zc.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(zc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=$Be}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(Y2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Y2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),LBe=RBe.reducer,HN="http://192.168.1.215:5001",FBe=[],ml=K("nationalities/fetchNationalities",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${HN}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),$y=K("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${HN}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),K2=K("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${HN}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ry=K("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${HN}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),MBe=Ce({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ml.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ml.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(ml.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=FBe}).addCase($y.pending,e=>{e.isLoading=!0,e.error=null}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(K2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(K2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(Ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),_Be=MBe.reducer,BBe=pe().shape({FirstName:M().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:M().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:M().max(100,"Middle name must be at most 100 characters"),Birthday:Ye().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:M().required("Gender is required"),StreetAddress:M().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:M().required("Contact number is required"),EmailAddress:M().email("Invalid email address").required("Email is required"),IDNumber:M().nullable(),DepartmentID:ae().required("Department is required"),PositionID:M().required("Position is required"),NationalityID:M().required("Nationality is required"),EmploymentStatusID:M().required("Employment status is required"),DateHired:Ye().required("Date hired is required"),TIN:M().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),GSIS:M(),Philhealth:M(),Pagibig:M(),Active:M().required("Status is required"),ZIPCode:M().max(6,"ZIP code must be at most 6 characters"),Region:M().required("Region is required"),Province:M().required("Province is required"),Municipality:M().required("Municipality is required"),Barangay:M().required("Barangay is required")});function qBe({initialData:t,onClose:e}){const r=he();j.useEffect(()=>{r(fr()),r(dl()),r(zc()),r(Uo()),r(zo()),r(Wo()),r(Go()),r(ml())},[r]);const{regions:n}=ee(I=>I.regions),{provinces:s}=ee(I=>I.provinces),{municipalities:o}=ee(I=>I.municipalities),{barangays:i}=ee(I=>I.barangays),{nationalities:l}=ee(I=>I.nationalities),c=l==null?void 0:l.map(I=>({value:I.ID,label:I.Name})),u=n.map(I=>({value:I.ID.toString(),label:I.Name})),d=s.map(I=>({value:I.ID.toString(),label:I.Name})),m=o.map(I=>({value:I.ID.toString(),label:I.Name})),f=i.map(I=>({value:I.ID.toString(),label:I.Name})),{departments:p,isLoading:h}=ee(I=>I.departments),y=p.map(I=>({value:I.ID,label:I.Name})),{positions:b,isLoading:g}=ee(I=>I.positions),x=b.map(I=>({value:I.ID,label:I.Name})),{employmentStatuses:v,isLoading:w}=ee(I=>I.employmentStatuses),N=v.map(I=>({value:I.ID,label:I.Name})),[S,C]=j.useState(!1);console.log(t);const A=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",IDNumber:"",NationalityID:"",Nationality:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:1,ZIPCode:"",Region:"",Province:"",Municipality:"",Barangay:""},T=I=>{var q;C(!0);const k=((q=p.find(E=>E.value===Number(I.DepartmentID)))==null?void 0:q.label)||"",$={...I,DepartmentID:Number(I.DepartmentID),departmentName:k,IDNumber:I.IDNumber&&I.IDNumber.trim()!==""?I.IDNumber:null},L=t?Tg({...$,id:t.id,employeeCode:t.employeeCode}):Ig($);r(L).unwrap().then(()=>{t?Y.success("Employee updated successfully."):Y.success("Employee added successfully."),r(on())}).catch(E=>{console.error("Error submitting employee:",E),Y.error("Failed to submit employee. Please try again.")}).finally(()=>{e(),C(!1)})};return a.jsx(He,{initialValues:A,validationSchema:BBe,onSubmit:T,enableReinitialize:!0,children:({values:I,errors:k,touched:$,handleChange:L,handleBlur:q,isValid:E,setFieldValue:R,submitCount:U})=>(j.useEffect(()=>{const B=i.find(P=>P.ID.toString()===I.Barangay);if(B){const{MunicipalityCode:P,ProvinceCode:O,RegionCode:V}=B;P&&R("Municipality",P),O&&R("Province",O),V&&R("Region",V)}},[I.Barangay]),j.useEffect(()=>{const B=o.find(P=>P.ID.toString()===I.Municipality);if(B){const{ProvinceCode:P,RegionCode:O}=B;P&&R("Province",P),O&&R("Region",O)}},[I.Municipality]),j.useEffect(()=>{const B=s.find(P=>P.ID.toString()===I.Province);if(B){const{RegionCode:P}=B;P&&R("Region",P)}},[I.Province]),a.jsxs(Ze,{className:"space-y-6",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsx(D,{label:"First name",name:"FirstName",type:"text",required:!0,value:I.FirstName,onChange:L,onBlur:q,error:k.FirstName,touched:$.FirstName}),a.jsx(D,{label:"Middle name",name:"MiddleName",type:"text",value:I.MiddleName,onChange:L,onBlur:q,error:k.MiddleName,touched:$.MiddleName}),a.jsx(D,{label:"Last name",name:"LastName",type:"text",required:!0,value:I.LastName,onChange:L,onBlur:q,error:k.LastName,touched:$.LastName}),a.jsx(D,{label:"Gender",name:"Gender",type:"select",required:!0,value:I.Gender,onChange:L,onBlur:q,error:k.Gender,touched:$.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),a.jsx(D,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:I.Birthday,onChange:L,onBlur:q,error:k.Birthday,touched:$.Birthday})]})]}),a.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-medium",children:"Address Information"}),a.jsx(D,{label:"Region",name:"Region",type:"select",required:!0,options:u,value:I.Region||"",onChange:L}),a.jsx(D,{label:"Province",name:"Province",type:"select",required:!0,options:d,value:I.Province||"",onChange:L}),a.jsx(D,{label:"Municipality",name:"Municipality",type:"select",required:!0,options:m,value:I.Municipality||"",onChange:L}),a.jsx(D,{label:"Barangay",name:"Barangay",type:"select",required:!0,options:f,value:I.Barangay||"",onChange:L}),a.jsx(D,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:I.StreetAddress||"",onChange:L,onBlur:q,error:k.StreetAddress,touched:$.StreetAddress})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-medium",children:"Contact Information"}),a.jsx(rt,{label:"Nationality",name:"NationalityID",type:"select",options:c,required:!0,placeholder:"Select Nationality",onSelect:B=>{const P=c.find(O=>O.value===B);R("NationalityID",B||""),R("Nationality",(P==null?void 0:P.label)||"")},className:"w-full",selectedValue:I.NationalityID,error:k.Nationality,touched:$.Nationality}),a.jsx(D,{label:"Zip Code",name:"ZIPCode",type:"text",value:I.ZIPCode||"",onChange:L,onBlur:q,error:k.ZIPCode,touched:$.ZIPCode}),a.jsx(D,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:I.MobileNumber||"",onChange:L,onBlur:q,error:k.MobileNumber,touched:$.MobileNumber}),a.jsx(D,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:I.EmailAddress||"",onChange:L,onBlur:q,error:k.EmailAddress,touched:$.EmailAddress}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(D,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:I.EmergencyContact||"",onChange:L,onBlur:q,error:k.EmergencyContact,touched:$.EmergencyContact}),a.jsx(D,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:I.EmergencyNumber||"",onChange:L,onBlur:q,error:k.EmergencyNumber,touched:$.EmergencyNumber})]})]})]})]}),a.jsxs("div",{className:"pb-4",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(D,{label:"ID Number",name:"IDNumber",type:"text",value:I.IDNumber||"",onChange:L}),a.jsx(D,{label:"TIN",name:"TIN",type:"text",value:I.TIN||"",onChange:L,onBlur:q,error:k.TIN,touched:$.TIN})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(D,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:I.Pagibig||"",onChange:L,onBlur:q,error:k.Pagibig,touched:$.Pagibig}),a.jsx(D,{label:"GSIS",name:"GSIS",type:"text",value:I.GSIS||"",onChange:L,onBlur:q,error:k.GSIS,touched:$.GSIS})]}),a.jsx(D,{label:"Philhealth",name:"Philhealth",type:"text",value:I.Philhealth||"",onChange:L,onBlur:q,error:k.Philhealth,touched:$.Philhealth}),a.jsx(D,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:I.DepartmentID||"",onChange:L,onBlur:q,error:k.DepartmentID,touched:$.DepartmentID,options:y,disabled:h})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(D,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:I.DateHired||"",onChange:L,onBlur:q,error:k.DateHired,touched:$.DateHired}),a.jsx(D,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:I.EmploymentStatusID||"",onChange:L,onBlur:q,error:k.EmploymentStatusID,touched:$.EmploymentStatusID,options:N,disabled:w})]}),a.jsx(D,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:I.EmploymentStatusDate||"",onChange:L,readOnly:!0}),a.jsx(D,{label:"Position",name:"PositionID",type:"select",required:!0,value:I.PositionID||"",onChange:L,onBlur:q,error:k.PositionID,touched:$.PositionID,options:x,disabled:g}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx("div",{className:"flex items-end"})}),a.jsx("div",{className:"mt-2",children:a.jsxs("p",{className:"text-sm text-gray-500",children:[[I.FirstName,I.MiddleName,I.LastName].filter(Boolean).join(" "),I.TIN&&` - ${I.TIN}`,I.DepartmentID&&` - ${I.DepartmentID}`]})})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:S,className:"btn btn-primary",children:S?"Saving...":t?"Update":"Save"})]}),U>0&&Object.keys(k).length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),a.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(k).map(([B,P])=>a.jsx("li",{children:P},B))})]})]}))})}function VBe(){const t=he(),{employees:e,isLoading:r}=ee(A=>A.employees),{Add:n,Edit:s,Delete:o}=Se(43),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(on())},[t]);const h=()=>{u(null),l(!0)},y=A=>{u(A),l(!0)},b=A=>{p(A),m(!0)},g=async()=>{try{f&&(t(Pg(f.ID)),m(!1),p(null),Y.success("Employee deleted successfully"))}catch(A){console.error("Failed to delete employee:",A),Y.error("Failed to delete employee. Please try again.")}},x=()=>{l(!1),u(null)},v=A=>{if(!A)return"";const T=new Date(A),I=new Date;let k=I.getFullYear()-T.getFullYear();const $=I.getMonth()-T.getMonth();return($<0||$===0&&I.getDate()<T.getDate())&&k--,k},w=A=>A==null||isNaN(A)?"Unknown":A>=18&&A<=25?"18-25":A>=26&&A<=50?"26-50":A>=51&&A<=60?"51-60":A>=60?"61+":"Below 18",N=j.useMemo(()=>{const A=(e==null?void 0:e.length)||0,T={"18-25":0,"26-50":0,"51-60":0,"61+":0,"Below 18":0,Unknown:0},I={...T},k={...T};return(e||[]).forEach($=>{const L=v($.Birthday),q=w(L),E=($.Gender||"").toLowerCase();E==="male"?I[q]=(I[q]||0)+1:E==="female"&&(k[q]=(k[q]||0)+1)}),{total:A,maleByBracket:I,femaleByBracket:k}},[e]),S=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"text-neutral-900 font-medium",render:A=>a.jsx("span",{className:"text-neutral-900 font-medium",children:A||""})},{key:"FirstName",header:"First Name",sortable:!0,render:A=>a.jsx("span",{className:"text-neutral-700",children:A||""})},{key:"MiddleName",header:"Middle Name",sortable:!0,render:A=>a.jsx("span",{className:"text-neutral-600",children:A||""})},{key:"LastName",header:"Last Name",sortable:!0,render:A=>a.jsx("span",{className:"text-neutral-700 font-medium",children:A||""})},{key:"Age",header:"Age",sortable:!0,render:(A,T)=>{const I=v(T.Birthday);return a.jsx("span",{className:"text-neutral-700",children:I})}},{key:"Gender",header:"Gender",sortable:!0,render:A=>a.jsx("span",{className:"text-neutral-700",children:A||""})},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:A=>{const T=A==null?void 0:A.Name;return T?a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:T}):a.jsx("span",{className:"text-neutral-400",children:""})}}],C=[s&&{icon:Br,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1},o&&{icon:Kt,title:"Delete",onClick:b,className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}].filter(Boolean);return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(ni,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Employees"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Manage employee information and records"})]})]})}),a.jsx("div",{className:"flex items-center gap-3",children:n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Employee"]})})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Employee Records",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(e==null?void 0:e.length)||0," ",((e==null?void 0:e.length)||0)===1?"employee":"employees",")"]})]}),!r&&(e==null?void 0:e.length)>0&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx(ni,{className:"h-4 w-4 text-blue-600"}),a.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Total Employee: ",N.total]})]})]})}),a.jsx(je,{columns:S,data:e||[],actions:C,loading:r,pagination:!0})]}),a.jsx(me,{isOpen:i,onClose:x,title:c?"Edit Employee":"Add Employee",size:"lg",children:a.jsx(qBe,{initialData:c,onClose:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",a.jsxs("span",{className:"font-medium",children:[f==null?void 0:f.FirstName," ",f==null?void 0:f.LastName]}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function UBe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Name:M().required("Employment Status is required")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Employment Status",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function zBe(){const t=he(),{employmentStatuses:e,isLoading:r}=ee(S=>S.employmentStatuses),{Add:n,Edit:s,Delete:o}=Se(93),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(zc())},[t]);const h=()=>{u(null),l(!0)},y=S=>{u(S),l(!0)},b=S=>{p(S),m(!0)},g=async()=>{if(f)try{await t(Oy(f.ID)).unwrap(),m(!1),p(null),Y.success("Employment status deleted successfully")}catch(S){console.error("Failed to delete employment status:",S),Y.error("Failed to delete employment status. Please try again.")}},x=async S=>{try{c?(await t(Y2({...S,ID:c.ID})).unwrap(),Y.success("Employment status updated successfully")):(await t(Dy(S)).unwrap(),Y.success("Employment status saved successfully")),t(zc())}catch(C){console.error("Failed to save employment status:",C),Y.error("Failed to save employment status. Please try again.")}finally{l(!1)}},v=j.useMemo(()=>({total:(e==null?void 0:e.length)||0}),[e]),w=[{key:"Name",header:"Employment Status",sortable:!0,className:"text-neutral-900 font-medium",render:S=>a.jsx("span",{className:"text-neutral-900 font-medium",children:S||""})}],N=[s&&{icon:Br,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1},o&&{icon:Kt,title:"Delete",onClick:b,className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}].filter(Boolean);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(Tse,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Employment Status"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Manage employment status types and classifications"})]})]})}),a.jsx("div",{className:"flex items-center gap-3",children:n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Employment Status"]})})]}),!r&&(e==null?void 0:e.length)>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-6",children:a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Statuses"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:v.total})]}),a.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-blue-700"})})]})})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Employment Statuses",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(e==null?void 0:e.length)||0," ",((e==null?void 0:e.length)||0)===1?"status":"statuses",")"]})]})}),a.jsx(je,{columns:w,data:e||[],actions:N,loading:r,pagination:!0,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})]}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Employment Status":"Add Employment Status",children:a.jsx(UBe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function WBe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Name:M().required("Position is required")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Position Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function GBe(){const t=he(),{positions:e,isLoading:r}=ee(S=>S.positions),{Add:n,Edit:s,Delete:o}=Se(36),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(dl())},[t]);const h=()=>{u(null),l(!0)},y=S=>{u(S),l(!0)},b=S=>{p(S),m(!0)},g=async()=>{if(f)try{await t(Ey(f.ID)).unwrap(),m(!1),p(null),Y.success("Position deleted successfully")}catch(S){console.error("Failed to delete position:",S),Y.error("Failed to delete position. Please try again.")}},x=async S=>{try{c?(await t(H2({...S,ID:c.ID})).unwrap(),Y.success("Position updated successfully")):(await t(ky(S)).unwrap(),Y.success("Position saved successfully")),t(dl())}catch(C){console.error("Failed to save position:",C),Y.error("Failed to save position. Please try again.")}finally{l(!1)}},v=j.useMemo(()=>({total:(e==null?void 0:e.length)||0}),[e]),w=[{key:"Name",header:"Position",sortable:!0,className:"text-neutral-900 font-medium",render:S=>a.jsx("span",{className:"text-neutral-900 font-medium",children:S||""})}],N=[s&&{icon:Br,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1},o&&{icon:Kt,title:"Delete",onClick:b,className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}].filter(Boolean);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(Dae,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Positions"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Manage job positions and titles"})]})]})}),a.jsx("div",{className:"flex items-center gap-3",children:n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Position"]})})]}),!r&&(e==null?void 0:e.length)>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-6",children:a.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Total Positions"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:v.total})]}),a.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-purple-700"})})]})})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Position Records",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(e==null?void 0:e.length)||0," ",((e==null?void 0:e.length)||0)===1?"position":"positions",")"]})]})}),a.jsx(je,{columns:w,data:e||[],actions:N,loading:r,pagination:!0,emptyMessage:"No positions found. Click 'Add Position' to create one."})]}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Position":"Add Position",children:a.jsx(WBe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function HBe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Description:M().required("User Role is required")}),s=ot({initialValues:t||{Description:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Role",name:"Description",type:"text",value:s.values.Description,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Description,touched:s.touched.Description,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function YBe(){const t=he(),{userroles:e,isLoading:r}=ee(N=>N.userroles),{Add:n,Edit:s,Delete:o}=Se(84),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(Os())},[t]);const h=()=>{u(null),l(!0)},y=N=>{if(N.Description=="Administrator"){Y.error("The 'Administrator' role cannot be edited.");return}u(N),l(!0)},b=N=>{if(N.Description=="Administrator"){Y.error("The 'Administrator' role cannot be deleted.");return}p(N),m(!0)},g=async()=>{if(f)try{await t(Hg(f.ID)).unwrap(),m(!1),p(null),Y.success("User role deleted successfully")}catch(N){console.error("Failed to delete user role:",N),Y.error("Failed to delete user role. Please try again.")}},x=async N=>{try{c?(await t($2({...N,ID:c.ID})).unwrap(),t(Os()),Y.success("User role updated successfully")):(await t(Gg(N)).unwrap(),t(Os()),Y.success("User role saved successfully"))}catch(S){console.error("Failed to save user role:",S),Y.error("Failed to save user role. Please try again.")}finally{l(!1)}},v=[{key:"Description",header:"User Role",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"User Roles"}),a.jsx("p",{children:"Manage User Roles"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit User Role":"Add User Role",children:a.jsx(HBe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function KBe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Name:M().required("Nationality is required")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Nationality Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function JBe(){const t=he(),{nationalities:e,isLoading:r}=ee(S=>S.nationalities),{Add:n,Edit:s,Delete:o}=Se(94),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(ml())},[t]);const h=()=>{u(null),l(!0)},y=S=>{u(S),l(!0)},b=S=>{p(S),m(!0)},g=async()=>{if(f)try{await t(Ry(f.ID)).unwrap(),m(!1),p(null),Y.success("Nationality deleted successfully")}catch(S){console.error("Failed to delete nationality:",S),Y.error("Failed to delete nationality. Please try again.")}},x=async S=>{try{c?(await t(K2({...S,ID:c.ID})).unwrap(),Y.success("Nationality updated successfully")):(await t($y(S)).unwrap(),Y.success("Nationality saved successfully")),t(ml())}catch(C){console.error("Failed to save nationality:",C),Y.error("Failed to save nationality. Please try again.")}finally{l(!1)}},v=j.useMemo(()=>({total:(e==null?void 0:e.length)||0}),[e]),w=[{key:"Name",header:"Nationality",sortable:!0,className:"text-neutral-900 font-medium",render:S=>a.jsx("span",{className:"text-neutral-900 font-medium",children:S||""})}],N=[s&&{icon:Br,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1},o&&{icon:Kt,title:"Delete",onClick:b,className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}].filter(Boolean);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(ok,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Nationalities"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Manage nationality classifications"})]})]})}),a.jsx("div",{className:"flex items-center gap-3",children:n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Nationality"]})})]}),!r&&(e==null?void 0:e.length)>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-6",children:a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Nationalities"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:v.total})]}),a.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-green-700"})})]})})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Nationality Records",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(e==null?void 0:e.length)||0," ",((e==null?void 0:e.length)||0)===1?"nationality":"nationalities",")"]})]})}),a.jsx(je,{columns:w,data:e||[],actions:N,loading:r,pagination:!0,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})]}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Nationality":"Add Nationality",children:a.jsx(KBe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const lt={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};pe().shape({date:Ye().required(lt.required).max(new Date,lt.futureDate),reference:M().max(50,"Reference number too long"),particulars:M().required(lt.required).max(500,"Particulars too long"),debitEntries:$t().of(pe().shape({accountCode:M().required("Account code is required"),amount:ae().required("Amount is required").moreThan(0,lt.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:$t().of(pe().shape({accountCode:M().required("Account code is required"),amount:ae().required("Amount is required").moreThan(0,lt.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,s)=>n+(Number(s.amount)||0),0),r=t.creditEntries.reduce((n,s)=>n+(Number(s.amount)||0),0);return Math.abs(e-r)<.01});const __=pe().shape({date:Ye().required(lt.required).max(new Date,lt.futureDate),period:M().required(lt.required),stallNumber:M().required(lt.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:M().required(lt.required),stallOwner:M().required(lt.required).max(100,"Name too long"),amount:ae().required(lt.required).moreThan(0,lt.positiveNumber)});pe().shape({certificateNo:M().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Ye().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:M().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:M().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:M().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:M().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:M().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:M().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:M().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:M().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Ye().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:M().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:ae().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:ae().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:M().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:ae().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:ae().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:ae().min(0,"Amount cannot be negative").nullable(),purpose:M().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:ae().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:ae().min(0,"Interest cannot be negative").nullable()});pe().shape({date:Ye().required(lt.required).max(new Date,lt.futureDate),tdNumber:M().required(lt.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:M().required(lt.required).max(100,"Name too long"),location:M().required(lt.required).max(200,"Location too long"),basicTax:ae().required(lt.required).moreThan(0,lt.positiveNumber),sef:ae().required(lt.required).moreThan(0,lt.positiveNumber),penalty:ae().min(0,"Amount cannot be negative")});const XBe=pe().shape({Name:M().required(lt.required).max(100,"Name too long"),MunicipalityCode:M().required(lt.required),ProvinceCode:M().required(lt.required),RegionCode:M().required(lt.required)}),ZBe=pe().shape({Name:M().required(lt.required).max(100,"Name too long"),ProvinceCode:M().required(lt.required),RegionCode:M().required(lt.required)}),QBe=pe().shape({Name:M().required(lt.required).max(100,"Name too long"),RegionCode:M().required(lt.required)}),B_=pe().shape({Name:M().required(lt.required).max(100,"Name too long")});pe().shape({id:M().required("ID is required"),status:M().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Ye().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:M().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Ye().required("Date is required").max(new Date,"Date cannot be in the future"),agency:M().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:M().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:M().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});const Yh={region:71,province:67,municipality:61,barangay:19};function e6e(){const[t,e]=j.useState("region"),[r,n]=j.useState(!1),[s,o]=j.useState(null),[i,l]=j.useState(!1),[c,u]=j.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},m=he(),{regions:f}=ee(P=>P.regions),{provinces:p}=ee(P=>P.provinces),{municipalities:h}=ee(P=>P.municipalities),{barangays:y}=ee(P=>P.barangays);j.useEffect(()=>{m(Uo()),m(zo()),m(Wo()),m(Go())},[m]);const b=()=>{switch(t){case"region":return B_;case"province":return QBe;case"municipality":return ZBe;case"barangay":return XBe;default:return B_}},g=Se(Yh.region),x=Se(Yh.province),v=Se(Yh.municipality),w=Se(Yh.barangay),N=()=>{switch(t){case"region":return g;case"province":return x;case"municipality":return v;case"barangay":return w;default:return{Add:!1,Edit:!1,Delete:!1}}},S=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},C=()=>{switch(t){case"region":return f;case"province":return p.map(P=>({...P,RegionName:U(P.RegionCode,f)}));case"municipality":return h.map(P=>({...P,RegionName:U(P.RegionCode,f),ProvinceName:U(P.ProvinceCode,p)}));case"barangay":return y.map(P=>({...P,RegionName:U(P.RegionCode,f),ProvinceName:U(P.ProvinceCode,p),MunicipalityName:U(P.MunicipalityCode,h)}));default:return[]}},A=()=>{switch(t){case"region":return ly;case"province":return uy;case"municipality":return my;case"barangay":return py;default:return null}},T=()=>{switch(t){case"region":return L2;case"province":return F2;case"municipality":return M2;case"barangay":return _2;default:return null}},I=()=>{switch(t){case"region":return cy;case"province":return dy;case"municipality":return fy;case"barangay":return hy;default:return null}},k=[N().Edit&&{icon:Fe,title:"Edit",onClick:P=>L(P),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},N().Delete&&{icon:Xe,title:"Delete",onClick:P=>q(P),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],$=()=>{o(null),n(!0)},L=P=>{o(P),n(!0)},q=P=>{u(P),l(!0)},E=async()=>{try{c&&(await m(I()(c.ID)).unwrap(),l(!1),u(null),Y.success("Location deleted successfully"))}catch(P){console.error("Failed to delete location:",P),Y.error("Failed to delete location. Please try again.")}};j.useEffect(()=>{r&&R.resetForm({values:s||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,s]);const R=ot({initialValues:s||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:b(),onSubmit:async(P,{setSubmitting:O})=>{const V=s?T():A(),_=s?{...s,...P}:P;try{await m(V(_)).unwrap(),Y.success("Location saved successfully")}catch(H){console.error("Failed to save location:",H),Y.error("Failed to save location. Please try again.")}finally{n(!1),O(!1)}}}),U=(P,O)=>{const V=O.find(_=>_.ID.toString()===P.toString());return V?V.Name:""},B=()=>{const P={formik:R,onChange:R.handleChange,onBlur:R.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return a.jsx(D,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:R.values.Name,error:R.errors.Name,touched:R.touched.Name,...P});case"province":return a.jsxs(a.Fragment,{children:[a.jsx(D,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:R.values.Name,error:R.errors.Name,touched:R.touched.Name,...P}),a.jsx(D,{label:"Region",name:"RegionCode",type:"select",options:f.map(O=>({value:O.ID,label:O.Name})),value:R.values.RegionCode,error:R.errors.RegionCode,touched:R.touched.RegionCode,...P})]});case"municipality":return a.jsxs(a.Fragment,{children:[a.jsx(D,{label:"Municipality",name:"Name",type:"text",value:R.values.Name,error:R.errors.Name,touched:R.touched.Name,placeholder:"Enter municipality name",...P}),a.jsx(D,{label:"Province",name:"ProvinceCode",type:"select",options:p.map(O=>({value:O.ID,label:O.Name})),value:R.values.ProvinceCode,error:R.errors.ProvinceCode,touched:R.touched.ProvinceCode,onChange:O=>{const V=O.target.value,_=p.find(H=>H.ID.toString()===V.toString());R.setFieldValue("ProvinceCode",V),_&&R.setFieldValue("RegionCode",_.RegionCode)},onBlur:R.handleBlur,required:!0}),a.jsx(D,{label:"Region",name:"RegionCode",type:"text",value:U(R.values.RegionCode,f),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return a.jsxs(a.Fragment,{children:[a.jsx(D,{label:"Barangay",name:"Name",type:"text",value:R.values.Name,error:R.errors.Name,touched:R.touched.Name,placeholder:"Enter barangay name",...P}),a.jsx(D,{label:"Municipality",name:"MunicipalityCode",type:"select",options:h.map(O=>({value:O.ID,label:O.Name})),value:R.values.MunicipalityCode,error:R.errors.MunicipalityCode,touched:R.touched.MunicipalityCode,onChange:O=>{const V=O.target.value,_=h.find(H=>H.ID.toString()===V.toString());R.setFieldValue("MunicipalityCode",V),_&&(R.setFieldValue("ProvinceCode",_.ProvinceCode),R.setFieldValue("RegionCode",_.RegionCode))},onBlur:R.handleBlur,required:!0}),a.jsx(D,{label:"Province",name:"ProvinceCode",type:"text",value:U(R.values.ProvinceCode,p),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),a.jsx(D,{label:"Region",name:"RegionCode",type:"text",value:U(R.values.RegionCode,f),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Locations"}),a.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),N().Add&&a.jsxs("button",{type:"button",onClick:$,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),a.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:a.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map(P=>a.jsx("button",{onClick:()=>e(P),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===P?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[P]},P))})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:S(),data:C(),actions:k,pagination:!0})}),a.jsx(me,{isOpen:r,onClose:()=>n(!1),title:s?`Edit ${t}`:`New ${t}`,children:a.jsxs("form",{onSubmit:R.handleSubmit,className:"sm:p-4 space-y-4",children:[B(),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:R.isSubmitting,children:R.isSubmitting?"Saving...":s?"Update":"Save"})]})]})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:a.jsxs("div",{className:"p-4",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:E,className:"btn btn-danger",children:"Delete"})]})]})})]})}const YN="http://192.168.1.215:5001",t6e=[],Wc=K("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${YN}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Ly=K("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${YN}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),J2=K("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${YN}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fy=K("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${YN}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),r6e=Ce({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Wc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Wc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=t6e}).addCase(Ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(J2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(J2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(Fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),n6e=r6e.reducer,KN="http://192.168.1.215:5001",a6e=[],Gc=K("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${KN}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),My=K("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${KN}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),X2=K("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${KN}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),_y=K("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${KN}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),s6e=Ce({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(Gc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=a6e}).addCase(My.pending,e=>{e.isLoading=!0,e.error=null}).addCase(My.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(My.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(X2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(X2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),o6e=s6e.reducer,JN="http://192.168.1.215:5001",i6e=[],l6e=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],c6e=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],u6e={ppes:i6e,ppe:null,isLoading:!1,error:null,categories:l6e,suppliers:c6e},Hc=K("ppes/fetchPPEs",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${JN}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),By=K("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${JN}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),qy=K("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${JN}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vy=K("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${JN}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),IW=Ce({name:"ppes",initialState:u6e,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(Hc.pending,e=>{e.isLoading=!0}).addCase(Hc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(Hc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(By.pending,e=>{e.isLoading=!0}).addCase(By.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(By.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(qy.pending,e=>{e.isLoading=!0}).addCase(qy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(s=>s.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Vy.pending,e=>{e.isLoading=!0}).addCase(Vy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(Vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:dKe,resetPPEResource:mKe,addCategory:fKe,addSupplier:pKe}=IW.actions,d6e=IW.reducer,m6e=pe().shape({CategoryID:M().required("Category is required"),Description:M().required("Description is required"),DepreciationRate:ae().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:ae().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:ae().typeError("Must be a number").required("Net Book Value is required"),SupplierID:M().required("Supplier is required"),PPENumber:M().required("PPE Number is required"),Unit:M().required("Unit is required"),Barcode:M().required("Barcode is required"),Quantity:ae().typeError("Must be a number").required("Quantity is required"),Cost:ae().typeError("Must be a number").required("Cost is required"),DateAcquired:M().required("Date acquired is required"),EstimatedUsefulLife:ae().typeError("Must be a number").required("Estimated useful life is required"),PONumber:M().required("PO Number is required"),PRNumber:M().required("PR Number is required"),InvoiceNumber:M().required("Invoice Number is required"),AIRNumber:M().required("AIR Number is required"),RISNumber:M().required("RIS Number is required"),Remarks:M()});function f6e({initialData:t,onClose:e}){const r=he(),[n,s]=j.useState(!1),{ppeSuppliers:o}=ee(u=>u.ppeSuppliers),{ppeCategories:i}=ee(u=>u.ppeCategories);j.useEffect(()=>{r(Wc()),r(Gc())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{s(!0);const d=t&&t.ID?qy({...u,ID:t.ID}):By(u);r(d).unwrap().then(()=>{t?Y.success("PPE updated successfully"):Y.success("PPE Added successfully"),r(Hc()),e()}).catch(m=>{console.error("Error submitting PPE:",m),Y.error("Failed to submit PPE. Please try again.")}).finally(()=>{s(!1)})};return a.jsx(He,{initialValues:l,validationSchema:m6e,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:m,handleChange:f,handleBlur:p,setFieldValue:h})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx(D,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:p,onChange:f,error:d.CategoryID,touched:m.CategoryID,options:i.map(y=>({value:y.ID,label:y.Name}))})}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:f,onBlur:p,error:d.Description,touched:m.Description}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:f,onBlur:p,error:d.DepreciationRate,touched:m.DepreciationRate}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:f,onBlur:p,error:d.DepreciationValue,touched:m.DepreciationValue}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:f,onBlur:p,error:d.NetBookValue,touched:m.NetBookValue}),a.jsx("div",{children:a.jsx(D,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:p,onChange:f,error:d.SupplierID,touched:m.SupplierID,options:o.map(y=>({value:y.ID,label:y.Name}))})}),a.jsx(D,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:f,onBlur:p,error:d.PPENumber,touched:m.PPENumber}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:f,onBlur:p,error:d.Unit,touched:m.Unit}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:f,onBlur:p,error:d.Barcode,touched:m.Barcode}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:f,onBlur:p,error:d.Quantity,touched:m.Quantity}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:f,onBlur:p,error:d.Cost,touched:m.Cost}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:f,onBlur:p,error:d.DateAcquired,touched:m.DateAcquired}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:f,onBlur:p,error:d.EstimatedUsefulLife,touched:m.EstimatedUsefulLife}),a.jsx(D,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:f,onBlur:p,error:d.PONumber,touched:m.PONumber}),a.jsx(D,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:f,onBlur:p,error:d.PRNumber,touched:m.PRNumber}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:f,onBlur:p,error:d.InvoiceNumber,touched:m.InvoiceNumber}),a.jsx(D,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:f,onBlur:p,error:d.AIRNumber,touched:m.AIRNumber}),a.jsx(D,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:f,onBlur:p,error:d.RISNumber,touched:m.RISNumber}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:f,onBlur:p,error:d.Remarks,touched:m.Remarks,rows:2})]}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const p6e=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"SupplierID",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function h6e(){const t=he(),{ppes:e,isLoading:r}=ee(A=>A.ppes),{Add:n,Edit:s,Delete:o,Print:i}=Se(64),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[m,f]=j.useState(null);j.useEffect(()=>{t(Hc())},[t]);const p=()=>{f(null),c(!0)},h=()=>{d(!0)},y=()=>{},b=()=>{d(!1)},g=A=>{f(A),c(!0)},x=async A=>{try{await t(Vy(A.ID)).unwrap(),Y.success("PPE entry deleted successfully"),t(Hc())}catch(T){console.error("Failed to delete PPE entry:",T),Y.error("Failed to delete PPE entry. Please try again.")}},v=()=>{c(!1),f(null)},w=p6e.map(A=>A.key==="CategoryID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(T,I)=>{var k;return((k=I==null?void 0:I.Category)==null?void 0:k.Name)||"N/A"}}:A.key==="SupplierID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(T,I)=>{var k;return((k=I==null?void 0:I.Supplier)==null?void 0:k.Name)||"N/A"}}:{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900"}),N=[s&&{icon:Fe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:x,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-danger-50"}],S=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],C=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"PPE"}),a.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),a.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[n&&a.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),i&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[a.jsx(uu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),i&&a.jsxs("button",{type:"button",className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[a.jsx(uu,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:w,data:e,actions:N,loading:r})}),a.jsx(me,{isOpen:l,onClose:v,title:m?"Edit PPE":"Add PPE",size:"lg",children:a.jsx(f6e,{initialData:m,onClose:v})}),a.jsx(me,{isOpen:u,onClose:b,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsx(D,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:C,value:"Juan S. Dela Cruz"})}),a.jsx("div",{className:"mb-6",children:a.jsx(D,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:S,value:"Juan S. Dela Cruz"})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:b,className:"btn btn-secondary",children:"Cancel"}),a.jsx("button",{onClick:y,className:"btn btn-primary",children:"Print"})]})]})})]})}function g6e({initialData:t,onSubmit:e,onClose:r}){const n=pe({Name:M().required("Name is required")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function y6e(){const t=he(),{ppeCategories:e,isLoading:r}=ee(N=>N.ppeCategories),{Add:n,Edit:s,Delete:o}=Se(95),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(Wc())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(Fy(f.ID)).unwrap(),m(!1),p(null),Y.success("PPE category deleted successfully")}catch(N){console.error("Failed to delete PPE category:",N),Y.error("Failed to delete PPE category. Please try again.")}},x=async N=>{try{c?(await t(J2({...N,ID:c.ID})).unwrap(),Y.success("PPE category updated successfully")):(await t(Ly(N)).unwrap(),Y.success("PPE category saved successfully")),t(Wc())}catch(S){console.error("Failed to save PPE category:",S),Y.error("Failed to save PPE category. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"PPE Categories"}),a.jsx("p",{children:"Manage PPE Categories"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Category":"Add PPE Category",children:a.jsx(g6e,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function x6e({initialData:t,onSubmit:e,onClose:r}){const n=pe({Name:M().required("Name is required")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function b6e(){const t=he(),{ppeSuppliers:e,isLoading:r}=ee(N=>N.ppeSuppliers),{Add:n,Edit:s,Delete:o}=Se(96),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(Gc())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(_y(f.ID)).unwrap(),m(!1),p(null),Y.success("PPE supplier deleted successfully")}catch(N){console.error("Failed to delete PPE supplier:",N),Y.error("Failed to delete PPE supplier. Please try again.")}},x=async N=>{try{c?(await t(X2({...N,ID:c.ID})).unwrap(),Y.success("PPE supplier updated successfully")):(await t(My(N)).unwrap(),Y.success("PPE supplier saved successfully")),t(Gc())}catch(S){console.error("Failed to save PPE supplier:",S),Y.error("Failed to save PPE supplier. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"PPE Suppliers"}),a.jsx("p",{children:"Manage PPE Suppliers"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Supplier":"Add PPE Supplier",children:a.jsx(x6e,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const XN="http://192.168.1.215:5001",v6e=[],Yc=K("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${XN}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Uy=K("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${XN}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Z2=K("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${XN}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zy=K("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${XN}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),j6e=Ce({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Yc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Yc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=v6e}).addCase(Uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(Uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(Z2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Z2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(zy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),N6e=j6e.reducer,w6e=pe().shape({DocumentTypeID:M().required("Document type is required"),sequences:$t().of(pe().shape({SequenceLevel:ae().required(),AllorMajority:M().required(),NumberofApprover:ae().when("AllorMajority",{is:"Majority",then:t=>t.required("Required for Majority").min(1),otherwise:t=>t.nullable()}),approvers:$t().of(pe().shape({type:M().required("Required"),value:M().required("Required"),amountFrom:ae().typeError("Must be a number").required("Required"),amountTo:ae().typeError("Must be a number").required("Required")})).min(1,"At least one approver required")})).min(1,"At least one sequence required")});function C6e({initialData:t,onClose:e,onSubmit:r}){const n=he(),{documentDetails:s}=ee(d=>d.documentDetails),{positions:o}=ee(d=>d.positions),{employees:i}=ee(d=>d.employees),{userroles:l}=ee(d=>d.userroles);j.useEffect(()=>{n(Yc()),n(dl()),n(on()),n(Os())},[n]);const c=t||{DocumentTypeID:"",sequences:[{SequenceLevel:1,AllorMajority:"ALL",NumberofApprover:"",approvers:[{type:"Position",value:"",amountFrom:0,amountTo:0}]}]},u=d=>{switch(d){case"Position":return o.map(m=>({value:m.ID,label:m.Name}));case"Employee":return i.map(m=>({value:m.ID,label:`${m.FirstName} ${m.MiddleName||""} ${m.LastName}`}));case"User Access":return l.map(m=>({value:m.ID,label:m.Description||m.RoleName||m.Name}));default:return[]}};return a.jsx(He,{initialValues:c,validationSchema:w6e,onSubmit:(d,{setSubmitting:m})=>{const f={DocumentTypeID:d.DocumentTypeID,sequences:d.sequences.map((p,h)=>({SequenceLevel:h+1,AllorMajority:p.AllorMajority,NumberofApprover:p.AllorMajority==="Majority"?p.NumberofApprover:1,approvers:p.approvers.map(y=>({PositionorEmployee:y.type,PositionorEmployeeID:y.value,AmountFrom:y.amountFrom,AmountTo:y.amountTo}))}))};r(f),m(!1)},enableReinitialize:!0,children:({values:d,errors:m,touched:f,handleChange:p,handleBlur:h,setFieldValue:y,isSubmitting:b})=>a.jsxs(Ze,{className:"space-y-6",children:[a.jsx("div",{className:"bg-neutral-50 p-4 rounded-lg border border-neutral-200",children:a.jsx(D,{label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:d.DocumentTypeID,onChange:p,onBlur:h,error:m.DocumentTypeID,touched:f.DocumentTypeID,options:s.map(g=>({value:g.ID,label:g.Name})),disabled:!!t})}),a.jsx(Lr,{name:"sequences",children:({push:g,remove:x})=>a.jsxs("div",{className:"space-y-8",children:[d.sequences.map((v,w)=>{var N,S;return a.jsxs("div",{className:"relative border-2 border-primary-100 rounded-xl p-6 bg-white shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-primary-700 flex items-center",children:[a.jsx("span",{className:"bg-primary-600 text-white w-8 h-8 rounded-full flex items-center justify-center mr-3 text-sm",children:w+1}),"Sequence Level ",w+1]}),d.sequences.length>1&&a.jsx("button",{type:"button",onClick:()=>x(w),className:"text-error-500 hover:text-error-700 p-2 hover:bg-error-50 rounded-full transition-colors",children:a.jsx(Xe,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Approval Rule"}),a.jsxs("div",{className:"flex items-center space-x-6 p-2 bg-neutral-50 rounded-lg border border-neutral-200",children:[a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:`sequences[${w}].AllorMajority`,value:"ALL",checked:v.AllorMajority==="ALL",onChange:()=>y(`sequences[${w}].AllorMajority`,"ALL"),className:"w-4 h-4 text-primary-600 border-neutral-300 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm font-medium text-neutral-900",children:"ALL"})]}),a.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:`sequences[${w}].AllorMajority`,value:"Majority",checked:v.AllorMajority==="Majority",onChange:()=>y(`sequences[${w}].AllorMajority`,"Majority"),className:"w-4 h-4 text-primary-600 border-neutral-300 focus:ring-primary-500"}),a.jsx("span",{className:"text-sm font-medium text-neutral-900",children:"Majority"})]})]})]}),v.AllorMajority==="Majority"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Required Count"}),a.jsx("input",{type:"number",name:`sequences[${w}].NumberofApprover`,value:v.NumberofApprover,onChange:p,className:"w-full p-2.5 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all",placeholder:"Number of approvers"}),((S=(N=m.sequences)==null?void 0:N[w])==null?void 0:S.NumberofApprover)&&a.jsx("p",{className:"text-error-500 text-xs",children:m.sequences[w].NumberofApprover})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex justify-between items-center bg-neutral-50 p-3 rounded-t-lg border-x border-t border-neutral-200",children:a.jsx("span",{className:"text-sm font-semibold text-neutral-700 uppercase tracking-wider",children:"Approvers"})}),a.jsx(Lr,{name:`sequences[${w}].approvers`,children:({push:C,remove:A})=>a.jsxs("div",{className:"border border-neutral-200 rounded-b-lg overflow-hidden",children:[v.approvers.map((T,I)=>{var k,$,L,q;return a.jsx("div",{className:`p-4 ${I!==0?"border-t border-neutral-100":""} bg-white`,children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-end",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("label",{className:"block text-[10px] font-bold text-neutral-400 uppercase mb-1",children:"Type"}),a.jsxs("select",{name:`sequences[${w}].approvers[${I}].type`,value:T.type,onChange:E=>{y(`sequences[${w}].approvers[${I}].type`,E.target.value),y(`sequences[${w}].approvers[${I}].value`,"")},className:"w-full p-2 border border-neutral-300 rounded-lg bg-neutral-50 text-sm focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"Position",children:"Position"}),a.jsx("option",{value:"Employee",children:"Employee"}),a.jsx("option",{value:"User Access",children:"User Access"})]})]}),a.jsxs("div",{className:"lg:col-span-4",children:[a.jsx("label",{className:"block text-[10px] font-bold text-neutral-400 uppercase mb-1",children:"Approver Name"}),a.jsxs("select",{name:`sequences[${w}].approvers[${I}].value`,value:T.value,onChange:p,className:"w-full p-2 border border-neutral-300 rounded-lg text-sm focus:ring-primary-500 focus:border-primary-500",children:[a.jsx("option",{value:"",children:"Select Approver"}),u(T.type).map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]}),((q=(L=($=(k=m.sequences)==null?void 0:k[w])==null?void 0:$.approvers)==null?void 0:L[I])==null?void 0:q.value)&&a.jsx("p",{className:"text-error-500 text-xs mt-1",children:"Required"})]}),a.jsxs("div",{className:"lg:col-span-5 flex items-end gap-2 text-neutral-400",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-[10px] font-bold text-neutral-400 uppercase mb-1",children:"Min Amount"}),a.jsx("input",{type:"number",placeholder:"0.00",name:`sequences[${w}].approvers[${I}].amountFrom`,value:T.amountFrom,onChange:p,className:"w-full p-2 border border-neutral-300 rounded-lg text-sm focus:ring-primary-500 focus:border-primary-500"})]}),a.jsx("span",{className:"mb-2",children:""}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-[10px] font-bold text-neutral-400 uppercase mb-1",children:"Max Amount"}),a.jsx("input",{type:"number",placeholder:"999,999,999.00",name:`sequences[${w}].approvers[${I}].amountTo`,value:T.amountTo,onChange:p,className:"w-full p-2 border border-neutral-300 rounded-lg text-sm focus:ring-primary-500 focus:border-primary-500"})]})]}),a.jsx("div",{className:"lg:col-span-1 flex justify-end pb-1",children:v.approvers.length>1&&a.jsx("button",{type:"button",onClick:()=>A(I),className:"p-2 text-neutral-400 hover:text-error-500 transition-colors",children:a.jsx(Xe,{className:"h-5 w-5"})})})]})},I)}),a.jsx("div",{className:"p-3 bg-neutral-50 border-t border-neutral-200",children:a.jsxs("button",{type:"button",onClick:()=>C({type:"Position",value:"",amountFrom:0,amountTo:0}),className:"text-sm text-primary-600 hover:text-primary-700 font-medium flex items-center",children:[a.jsx(qe,{className:"h-4 w-4 mr-1"})," Add Approver"]})})]})})]})]},w)}),a.jsxs("button",{type:"button",onClick:()=>g({SequenceLevel:d.sequences.length+1,AllorMajority:"ALL",NumberofApprover:"",approvers:[{type:"Position",value:"",amountFrom:0,amountTo:0}]}),className:"w-full py-4 border-2 border-dashed border-neutral-300 rounded-xl text-neutral-500 hover:border-primary-500 hover:text-primary-600 hover:bg-primary-50 transition-all flex items-center justify-center font-semibold",children:[a.jsx(qe,{className:"h-6 w-6 mr-2"})," Add Next Sequence Level"]})]})}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-8 border-t border-neutral-200 mt-10",children:[a.jsx("button",{type:"button",onClick:e,className:"px-6 py-2.5 border border-neutral-300 rounded-lg text-neutral-700 font-medium hover:bg-neutral-50 transition-all",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:b,className:"px-8 py-2.5 bg-primary-600 text-white rounded-lg font-bold shadow-lg shadow-primary-200 hover:bg-primary-700 hover:shadow-primary-300 disabled:opacity-50 disabled:shadow-none transition-all",children:b?"Saving...":"Save Approval Matrix"})]})]})})}const Qp="http://192.168.1.215:5001",S6e=[],A6e={approvalMatrix:S6e,matrix:null,isLoading:!1,error:null},Kc=K("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Qp}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),dC=K("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Qp}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mC=K("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Qp}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Wy=K("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Qp}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Gy=K("approvalMatrix/bulkUpdateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Qp}/approvalMatrix/bulk-update`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to bulk-update");return n}catch(r){return e.rejectWithValue(r.message)}}),TW=Ce({name:"approvalMatrix",initialState:A6e,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(Kc.pending,e=>{e.isLoading=!0}).addCase(Kc.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(Kc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dC.pending,e=>{e.isLoading=!0}).addCase(dC.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(dC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mC.pending,e=>{e.isLoading=!0}).addCase(mC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(mC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wy.pending,e=>{e.isLoading=!0}).addCase(Wy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gy.pending,e=>{e.isLoading=!0}).addCase(Gy.fulfilled,(e,r)=>{e.isLoading=!1,e.error=null}).addCase(Gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:hKe,resetMatrixState:gKe}=TW.actions,I6e=TW.reducer;function T6e(){const t=he(),{approvalMatrix:e,isLoading:r,error:n}=ee(C=>C.approvalMatrix),{Add:s,Edit:o,Delete:i}=Se(17),[l,c]=j.useState(!1),[u,d]=j.useState(null),[m,f]=j.useState(!1),[p,h]=j.useState(null);j.useEffect(()=>{t(Kc())},[t]);const y=j.useMemo(()=>{if(!Array.isArray(e))return[];const C=e.reduce((A,T)=>{const I=T.DocumentTypeID;return A[I]||(A[I]={DocumentTypeID:I,DocumentTypeName:T.DocumentTypeName,sequences:[]}),A[I].sequences.push(T),A},{});return Object.values(C).map(A=>({...A,sequences:A.sequences.sort((T,I)=>Number(T.SequenceLevel)-Number(I.SequenceLevel)),sequencesCount:A.sequences.length,approverSummary:A.sequences.map(T=>{var I;return`Seq ${T.SequenceLevel} (${((I=T.Approvers)==null?void 0:I.length)||0})`}).join("  ")}))},[e]),b=()=>{d(null),c(!0)},g=C=>{const A={DocumentTypeID:C.DocumentTypeID,sequences:C.sequences.map(T=>({SequenceLevel:Number(T.SequenceLevel),AllorMajority:T.AllorMajority,NumberofApprover:T.NumberofApprover,approvers:(T.Approvers||[]).map(I=>({type:I.PositionorEmployee,value:I.PositionorEmployeeID,amountFrom:Number(I.AmountFrom),amountTo:Number(I.AmountTo)}))}))};d(A),c(!0)},x=C=>{h(C),f(!0)},v=async()=>{if(p)try{const C=p.sequences.map(A=>t(Wy(A.ID)).unwrap());await Promise.all(C),f(!1),h(null),Y.success("Approval matrix removed for document type"),t(Kc())}catch(C){console.error("Failed to delete approval matrix:",C),Y.error("Failed to delete approval matrix. Please try again.")}},w=async C=>{try{await t(Gy(C)).unwrap(),Y.success("Approval matrix updated successfully"),t(Kc()),c(!1)}catch(A){console.error("Failed to submit approval matrix:",A),Y.error("Failed to submit approval matrix. Please try again.")}},N=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"sequencesCount",header:"Sequence Levels",sortable:!0},{key:"approverSummary",header:"Approval Flow Summary",sortable:!1}],S=[o&&{icon:Fe,title:"Edit Flow",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Xe,title:"Remove Matrix",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}].filter(Boolean);return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Approval Matrix"}),a.jsx("p",{children:"Manage sequential approval flows for document types"})]}),s&&a.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Setup New Matrix"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:N,data:y,actions:S,loading:r})}),n&&a.jsx("div",{className:"text-error-600 mt-2",children:n}),a.jsx(me,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Sequential Approval":"Setup Sequential Approval",size:"xl",children:a.jsx(C6e,{initialData:u,onClose:()=>c(!1),onSubmit:w})}),a.jsxs(me,{isOpen:m,onClose:()=>f(!1),title:"Confirm Removal",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to remove the ",a.jsx("strong",{children:"entire"})," approval matrix for this document type?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This will delete all sequence levels and approvers. This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete Everything"})]})]})]})}const ZN="http://192.168.1.215:5001",P6e=[],k6e={banks:P6e,bank:null,isLoading:!1,error:null},Ho=K("banks/fetchBanks",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${ZN}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Hy=K("banks/addBank",async(t,e)=>{try{const r=await fetch(`${ZN}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Yy=K("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${ZN}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ky=K("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${ZN}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),PW=Ce({name:"banks",initialState:k6e,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(Ho.pending,e=>{e.isLoading=!0}).addCase(Ho.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(Ho.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Hy.pending,e=>{e.isLoading=!0}).addCase(Hy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(Hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Yy.pending,e=>{e.isLoading=!0}).addCase(Yy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(Yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ky.pending,e=>{e.isLoading=!0}).addCase(Ky.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:yKe,resetBankState:xKe}=PW.actions,E6e=PW.reducer,D6e=pe().shape({BranchCode:M().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:M().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:M().required("Name is required").max(100,"Name must be at most 100 characters"),Address:M().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:M().required("Account number is required"),SwiftCode:M().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:M().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:ae().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:M().required("Currency is required")});function O6e({initialData:t,onClose:e}){const r=he(),[n,s]=j.useState(!1),{currencies:o}=ee(c=>c.currencies),i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{s(!0);const u={...c},d=t?Yy({...u,ID:t.ID}):Hy(u);r(d).unwrap().then(()=>{e(),Y.success("Bank submitted successfully")}).catch(m=>{console.error("Error submitting bank:",m)}).finally(()=>{s(!1),r(Ho())})};return a.jsx(He,{initialValues:i,validationSchema:D6e,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:m,handleBlur:f,setFieldValue:p})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:m,onBlur:f,error:d.BranchCode&&u.BranchCode,touched:d.BranchCode}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:m,onBlur:f,error:d.Branch&&u.Branch,touched:d.Branch}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:m,onBlur:f,error:d.Name&&u.Name,touched:d.Name})]}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:m,onBlur:f,error:d.Address&&u.Address,touched:d.Address,rows:2}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:m,onBlur:f,error:d.AccountNumber&&u.AccountNumber,touched:d.AccountNumber}),a.jsx(D,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:m,onBlur:f,error:d.SwiftCode&&u.SwiftCode,touched:d.SwiftCode}),a.jsx(D,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:m,onBlur:f,error:d.IBAN&&u.IBAN,touched:d.IBAN})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:m,onBlur:f,error:d.Balance&&u.Balance,touched:d.Balance}),a.jsx("div",{className:"space-y-2",children:a.jsx(D,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:m,onBlur:f,error:d.CurrencyID&&u.CurrencyID,touched:d.CurrencyID,options:o.map(h=>({value:h.ID,label:h.Code+" - "+h.Name}))})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const $6e=()=>{const t=he(),{banks:e=[],isLoading:r}=ee(N=>N.banks),[n,s]=j.useState(!1),[o,i]=j.useState(null),[l,c]=j.useState(!1),[u,d]=j.useState(null),{Add:m,Edit:f,Delete:p}=Se(18);j.useEffect(()=>{t(Ho())},[]);const h=()=>{i(null),s(!0)},y=N=>{i(N),s(!0)},b=()=>{s(!1),i(null)},g=N=>{d(N),c(!0)},x=async()=>{if(u)try{await t(Ky(u.ID)).unwrap(),Y.success("Bank deleted successfully")}catch(N){Y.error(N.message||"Failed to delete bank")}finally{c(!1),d(null),t(Ho())}},v=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:N=>(N==null?void 0:N.Code)||"N/A"}],w=[f&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},p&&{icon:Xe,title:"Delete",onClick:g,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return a.jsxs("div",{className:"container mx-auto",children:[a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),m&&a.jsxs("button",{onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),a.jsx(me,{isOpen:n,onClose:b,title:o?"Edit Bank":"Add Bank",size:"lg",children:a.jsx(O6e,{initialData:o,onClose:b})}),a.jsxs(me,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",a.jsx("span",{className:"font-medium",children:u==null?void 0:u.Name}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})},R6e=(t=[],e=null)=>pe({Name:M().required("Name is required").test("unique-name","Name already exists",function(r){return r?!t.some(s=>s.Name.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||s.ID!==e.ID)):!0}),Code:M().required("Code is required").test("unique-code","Code already exists",function(r){return r?!t.some(s=>s.Code.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||s.ID!==e.ID)):!0}),Prefix:M(),Suffix:M().required("Suffix is required"),StartNumber:ae().required("Start number is required").integer("Start number must be an integer").min(1,"Start number must be at least 1"),CurrentNumber:ae().required("Current number is required").integer("Current number must be an integer").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:M().required("Document type category is required")}),L6e=({document:t,documentList:e=[],onClose:r,documentTypeCategoryOptions:n=[]})=>{const s=he(),o={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?(await s(Z2({...l,ID:t.ID})).unwrap(),Y.success("Document detail updated successfully")):(await s(Uy(l)).unwrap(),Y.success("Document detail added successfully")),s(Yc())}catch(u){console.error("Failed to save document details:",u),Y.error("Failed to save document details. Please try again.")}finally{c(!1),r()}};return a.jsx(He,{initialValues:o,validationSchema:R6e(e,t),onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:m,setFieldValue:f,isSubmitting:p})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:m,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),a.jsx(D,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:m,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Prefix",name:"Prefix",type:"text",value:l.Prefix,onChange:d,onBlur:m,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),a.jsx(D,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:m,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:m,error:c.StartNumber,touched:u.StartNumber,min:"1"}),a.jsx(D,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:m,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),a.jsx("div",{className:"space-y-2",children:a.jsx(D,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:m,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:n})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":t?"Update":"Create"})]})]})})},QN="http://192.168.1.215:5001",F6e=[],Jc=K("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${QN}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Jy=K("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${QN}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Q2=K("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${QN}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Xy=K("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${QN}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),M6e=Ce({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Jc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jc.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Jc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=F6e}).addCase(Jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(Q2.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Q2.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(Xy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(Xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),_6e=M6e.reducer,B6e=()=>{const t=he(),{documentDetails:e,isLoading:r}=ee(S=>S.documentDetails),{Add:n,Edit:s,Delete:o}=Se(41),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null),{documentTypeCategories:h}=ee(S=>S.documentTypeCategories),y=h.map(S=>({value:S.ID,label:S.Name}));j.useEffect(()=>{t(Yc()),t(Jc())},[t]);const b=()=>{u(null),l(!0)},g=S=>{u(S),l(!0)},x=S=>{p(S),m(!0)},v=async()=>{if(f)try{await t(zy(f.ID)).unwrap(),m(!1),p(null),Y.success("Document type deleted successfully")}catch(S){console.error("Failed to delete document type:",S),Y.error("Failed to delete document type. Please try again.")}},w=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],N=S=>{const C=[s&&{icon:Fe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return S.ID>32&&o&&C.push({icon:Xe,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),C};return a.jsxs("div",{className:"container mx-auto ",children:[a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Type"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document types and their numbering"})]}),n&&a.jsxs("button",{onClick:b,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2"}),"Add Document Type"]})]}),a.jsx(je,{columns:w,data:e,actions:N,loading:r,emptyMessage:"No document types found. Click 'Add Document Type' to create one."}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Type":"Add Document Type",size:"lg",children:a.jsx(L6e,{document:c,documentList:e,onClose:()=>l(!1),documentTypeCategoryOptions:y})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document type for"," ",a.jsx("span",{className:"font-medium",children:f==null?void 0:f.Name}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline cursor-pointer",children:"Cancel"}),a.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})};function q6e({initialData:t,onSubmit:e,onClose:r}){const n=pe({Name:M().trim().required("Name is required").min(1,"Name cannot be empty or just spaces")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function V6e(){const t=he(),{documentTypeCategories:e,isLoading:r}=ee(N=>N.documentTypeCategories),{Add:n,Edit:s,Delete:o}=Se(42),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(Jc())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(Xy(f.ID)).unwrap(),m(!1),p(null),Y.success("Document type category deleted successfully")}catch(N){console.error("Failed to delete document type category:",N),Y.error("Failed to delete document type category. Please try again.")}},x=async N=>{try{c?(await t(Q2({...N,ID:c.ID})).unwrap(),Y.success("Document type category updated successfully")):(await t(Jy(N)).unwrap(),Y.success("Document type category added successfully")),t(Jc())}catch(S){console.error("Failed to save document type category:",S),Y.error("Failed to save document type category. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],w=N=>{const S=[];return s&&S.push({icon:Fe,title:"Edit",onClick:()=>y(N),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),o&&N.ID>1&&S.push({icon:Xe,title:"Delete",onClick:()=>b(N),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),S};return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Document Type Categories"}),a.jsx("p",{children:"Manage Document Type Categories"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Type Category":"Add Document Type Category",children:a.jsx(q6e,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const ew="http://192.168.1.215:5001",U6e=[],rs=K("items/fetchItems",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${ew}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Zy=K("items/addItem",async(t,e)=>{try{const r=await fetch(`${ew}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),eT=K("items/updateItem",async(t,e)=>{try{const r=await fetch(`${ew}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qy=K("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${ew}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),z6e=Ce({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rs.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rs.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(rs.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=U6e}).addCase(Zy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(Zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(eT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(Qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(Qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),W6e=z6e.reducer,tw="http://192.168.1.215:5001",G6e=[],Da=K("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${tw}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),ex=K("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${tw}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),tT=K("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${tw}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),tx=K("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${tw}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),H6e=Ce({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Da.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Da.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(Da.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=G6e}).addCase(ex.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ex.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(ex.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(tT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(tx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(tx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),Y6e=H6e.reducer,K6e=({item:t,onClose:e})=>{var d;const r=he(),{accounts:n}=ee(m=>m.chartOfAccounts),{itemUnits:s}=ee(m=>m.itemUnits),{taxCodes:o}=ee(m=>m.taxCodes);j.useEffect(()=>{r(Da()),r(ia()),r(Mr())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=pe({Code:M().required("Code is required"),Name:M().required("Name is required"),ChargeAccountID:M().required("Charge Account is required"),UnitID:M().required("Unit is required"),TAXCodeID:M().required("Tax Code is required"),PurchaseOrSales:M().required("Type is required"),TaxRate:ae().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:ae().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Hs().required("Vatable is required")});console.log({item:t});const c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:((d=t==null?void 0:t.TaxCode)==null?void 0:d.Rate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(m,{setSubmitting:f})=>{try{t?(await r(eT({...m,ID:t.ID})).unwrap(),Y.success("Item updated successfully.")):(await r(Zy(m)).unwrap(),Y.success("Item added successfully.")),r(rs())}catch(p){console.error("Failed to save item:",p),Y.error("Failed to save item. Please try again.")}finally{f(!1),e()}};return a.jsx(He,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:m,errors:f,touched:p,handleChange:h,handleBlur:y,isSubmitting:b,setFieldValue:g})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Code",name:"Code",type:"text",required:!0,value:m.Code,onChange:h,onBlur:y,error:f.Code,touched:p.Code,placeholder:"Enter item code"}),a.jsx(D,{label:"Name",name:"Name",type:"text",required:!0,value:m.Name,onChange:h,onBlur:y,error:f.Name,touched:p.Name,placeholder:"Enter item name"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:m.ChargeAccountID,onChange:h,onBlur:y,error:f.ChargeAccountID,touched:p.ChargeAccountID,options:n.map(x=>({value:x.ID,label:x.Name}))}),a.jsx(D,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:m.PurchaseOrSales,onChange:h,onBlur:y,error:f.PurchaseOrSales,touched:p.PurchaseOrSales,options:i}),a.jsx(D,{label:"Unit",name:"UnitID",type:"select",required:!0,value:m.UnitID,onChange:h,onBlur:y,error:f.UnitID,touched:p.UnitID,options:s.map(x=>({value:x.ID,label:x.Code+" - "+x.Name}))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:m.TAXCodeID,onChange:x=>{const v=x.target.value;h(x);const w=o.find(N=>N.ID===Number(v));w?g("TaxRate",w.Rate):g("TaxRate","")},onBlur:y,error:f.TAXCodeID,touched:p.TAXCodeID,options:o.map(x=>({value:x.ID,label:x.Code}))}),a.jsx(D,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:m.TaxRate,onChange:h,onBlur:y,error:f.TaxRate,touched:p.TaxRate,readOnly:!0,className:"bg-gray-200 cursor-not-allowed"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"EWT",name:"EWT",type:"number",required:!0,value:m.EWT,onChange:h,onBlur:y,error:f.EWT,touched:p.EWT}),a.jsx("div",{className:"flex items-center mt-5",children:a.jsx(D,{label:"Vatable",name:"Vatable",type:"checkbox",checked:m.Vatable,onChange:h,onBlur:y,error:f.Vatable,touched:p.Vatable})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":t?"Update":"Create"})]})]})})},J6e=()=>{const t=he(),{items:e,isLoading:r}=ee(T=>T.items),{itemUnits:n,isLoading:s}=ee(T=>T.itemUnits),{taxCodes:o,isLoading:i}=ee(T=>T.taxCodes),{Add:l,Edit:c,Delete:u}=Se(55),[d,m]=j.useState(!1),[f,p]=j.useState(null),[h,y]=j.useState(!1),[b,g]=j.useState(null);j.useEffect(()=>{t(rs()),t(Da()),t(ia())},[t]);const x=()=>{p(null),m(!0)},v=T=>{p(T),m(!0)},w=T=>{g(T),y(!0)},N=async()=>{if(b)try{await t(Qy(b.ID)).unwrap(),y(!1),g(null),Y.success("Item deleted successfully")}catch(T){console.error("Failed to delete item:",T),Y.error("Failed to delete item. Please try again.")}},S=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:T=>a.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${T===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T?"Yes":"No"})}],C=e.map(T=>{var I,k;return{...T,unitName:((I=n==null?void 0:n.find($=>$.ID===T.UnitID))==null?void 0:I.Name)||"N/A",TAXCodeValue:((k=o==null?void 0:o.find($=>$.ID===T.TAXCodeID))==null?void 0:k.Code)||"N/A"}}),A=[c&&{icon:Fe,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Xe,title:"Delete",onClick:w,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{className:"container mx-auto",children:[a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),l&&a.jsxs("button",{onClick:x,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),a.jsx(je,{columns:S,data:C,actions:A,loading:r||s||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),a.jsx(me,{isOpen:d,onClose:()=>m(!1),title:f?"Edit Item":"Add Item",size:"lg",children:a.jsx(K6e,{item:f,onClose:()=>m(!1)})}),a.jsxs(me,{isOpen:h,onClose:()=>y(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",a.jsx("span",{className:"font-medium",children:b==null?void 0:b.Name}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:N,className:"btn btn-danger",children:"Delete"})]})]})]})};pe().shape({MarriageServiceInvoice:M().required("Marriage Service Invoice account is required"),BurialServiceInvoice:M().required("Burial Service Invoice account is required"),DueFromLGU:M().required("Due From LGU account is required"),DueFromRate:ae().required("Due From Rate is required"),DueToLGU:M().required("Due To LGU account is required"),DueToRate:ae().required("Due To Rate is required"),RealPropertyTax:M().required("Real Property Tax account is required"),RealPropertyTaxRate:ae().required("Real Property Tax Rate is required")});const kW="http://192.168.1.215:5001",fC=K("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${kW}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),X6e=K("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),Z6e=K("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${kW}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Q6e=K("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),eqe={invoiceChargeAccounts:[],isLoading:!1,error:null},tqe=Ce({name:"invoiceChargeAccounts",initialState:eqe,reducers:{},extraReducers:t=>{t.addCase(fC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fC.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(fC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(X6e.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(Z6e.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(s=>s.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(Q6e.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),rqe=tqe.reducer;function nqe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Code:M().required("Code is required"),Name:M().required("Name is required")}),s=ot({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Code",name:"Code",type:"text",value:s.values.Code,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Code,touched:s.touched.Code,required:!0}),a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function aqe(){const t=he(),{itemUnits:e,isLoading:r}=ee(N=>N.itemUnits),{Add:n,Edit:s,Delete:o}=Se(56),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(Da())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(tx(f.ID)).unwrap(),m(!1),p(null),Y.success("Item unit deleted successfully")}catch(N){console.error("Failed to delete item unit:",N),Y.error("Failed to delete item unit. Please try again.")}},x=async N=>{try{c?(await t(tT({...N,ID:c.ID})).unwrap(),Y.success("Item unit updated successfully")):(await t(ex(N)).unwrap(),Y.success("Item unit added successfully")),t(Da())}catch(S){console.error("Failed to save item unit:",S),Y.error("Failed to save item unit. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Item Units"}),a.jsx("p",{children:"Manage item units"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Item Unit":"Add Item Unit",children:a.jsx(nqe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function sqe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Type:M().required("Type is required"),Description:M().required("Description is required")});return a.jsx(He,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:o,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsx(D,{label:"Type",name:"Type",type:"text",value:s.Type,onChange:l,onBlur:c,error:o.Type,touched:i.Type,required:!0}),a.jsx(D,{label:"Description",name:"Description",type:"textarea",value:s.Description,onChange:l,onBlur:c,error:o.Description,touched:i.Description,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const rw="http://192.168.1.215:5001",oqe=[],Xc=K("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${rw}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),rx=K("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${rw}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),rT=K("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${rw}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),nx=K("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${rw}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),iqe=Ce({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Xc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xc.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Xc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=oqe}).addCase(rx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(rx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(rT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(nx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(nx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),lqe=iqe.reducer;function cqe(){const t=he(),{projectTypes:e,isLoading:r}=ee(N=>N.projectTypes),{Add:n,Edit:s,Delete:o}=Se(87),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(Xc())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(nx(f.ID)).unwrap(),m(!1),p(null),Y.success("Project type deleted successfully.")}catch(N){console.error("Failed to delete project type:",N),Y.error("Failed to delete project type. Please try again.")}},x=async N=>{try{c?(await t(rT({...N,ID:c.ID})).unwrap(),Y.success("Project type updated successfully.")):(await t(rx(N)).unwrap(),Y.success("Project type added successfully.")),t(Xc()),l(!1)}catch(S){console.error("Failed to save project type:",S),Y.error("Failed to save project type. Please try again.")}},v=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Project Types"}),a.jsx("p",{children:"Manage project types"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Type":"Add Project Type",children:a.jsx(sqe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',f==null?void 0:f.Type,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function uqe({initialData:t,onSubmit:e,onClose:r}){const n=he(),{projectTypes:s,loading:o}=ee(c=>c.projectTypes);j.useEffect(()=>{n(Xc())},[n]);const i=pe({Title:M().required("Title is required"),ProjectTypeID:M().required("Project Type is required"),StartDate:Ye().required("Start Date is required"),EndDate:Ye().required("End Date is required"),Description:M().required("Description is required")}),l=ot({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return a.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),a.jsx(D,{label:"Project Type",name:"ProjectTypeID",type:"select",options:s.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),a.jsx(D,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),a.jsx(D,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const nw="http://192.168.1.215:5001",dqe=[],ns=K("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${nw}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),ax=K("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${nw}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),nT=K("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${nw}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),sx=K("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${nw}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mqe=Ce({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ns.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ns.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(ns.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=dqe}).addCase(ax.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ax.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(ax.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(nT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(sx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(sx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),fqe=mqe.reducer;function pqe(){const t=he(),{projectDetails:e,isLoading:r}=ee(N=>N.projectDetails),{Add:n,Edit:s,Delete:o}=Se(65),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(ns())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(sx(f.ID)).unwrap(),m(!1),p(null),Y.success("Project detail deleted successfully.")}catch(N){console.error("Failed to delete project detail:",N),Y.error("Failed to delete project detail. Please try again.")}},x=async N=>{try{c?(await t(nT({...N,ID:c.ID})).unwrap(),Y.success("Project detail updated successfully.")):(await t(ax(N)).unwrap(),Y.success("Project detail added successfully.")),t(ns())}catch(S){console.error("Failed to save project detail:",S),Y.error("Failed to save project detail. Please try again.")}finally{l(!1)}},v=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0,render:(N,S)=>{var A;const C=(A=S==null?void 0:S.ProjectType)==null?void 0:A.Type;return a.jsx("span",{children:C||N||"N/A"})}},{key:"Description",header:"Description",sortable:!1}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Project Details"}),a.jsx("p",{children:"Manage project details"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Detail":"Add Project Detail",size:"lg",children:a.jsx(uqe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',f==null?void 0:f.Title,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function hqe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Code:M().required("Code is required"),Name:M().required("Name is required")});return a.jsx(He,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:o,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsx(D,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:l,onBlur:c,error:o.Code,touched:i.Code,required:!0}),a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:l,onBlur:c,error:o.Name,touched:i.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const aw="http://192.168.1.215:5001",gqe=[],yqe={financialStatements:gqe,financialStatement:null,isLoading:!1,error:null},_m=K("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${aw}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),ox=K("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${aw}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ix=K("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${aw}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),lx=K("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${aw}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),EW=Ce({name:"financialStatements",initialState:yqe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(_m.pending,e=>{e.isLoading=!0}).addCase(_m.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(_m.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ox.pending,e=>{e.isLoading=!0}).addCase(ox.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(ox.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ix.pending,e=>{e.isLoading=!0}).addCase(ix.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(ix.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lx.pending,e=>{e.isLoading=!0}).addCase(lx.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(lx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:bKe,resetFinancialStatementState:vKe}=EW.actions,xqe=EW.reducer;function bqe(){const t=he(),{financialStatements:e,isLoading:r}=ee(N=>N.financialStatements),{Add:n,Edit:s,Delete:o}=Se(44),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(_m())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(lx(f.ID)).unwrap(),m(!1),p(null),Y.success("Financial statement deleted successfully.")}catch(N){console.error("Failed to delete financial statement:",N),Y.error("Failed to delete financial statement. Please try again.")}},x=async N=>{try{c?(await t(ix({...N,ID:c.ID})).unwrap(),Y.success("Financial statement updated successfully.")):(await t(ox(N)).unwrap(),Y.success("Financial statement added successfully.")),t(_m())}catch(S){console.error("Failed to save financial statement:",S),Y.error("Failed to save financial statement. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Financial Statements"}),a.jsx("p",{children:"Manage financial statements"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Financial Statement":"Add Financial Statement",children:a.jsx(hqe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function vqe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Code:M().required("Code is required"),Name:M().required("Name is required"),Year:ae().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:M().required("Month Start is required"),MonthEnd:M().required("Month End is required")}),s=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return a.jsx(He,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:o,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:m})=>a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsx(D,{label:"Code",name:"Code",type:"text",value:o.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),a.jsx(D,{label:"Name",name:"Name",type:"text",value:o.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),a.jsx(D,{label:"Year",name:"Year",type:"number",value:o.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),a.jsx(D,{label:"Month Start",name:"MonthStart",type:"select",value:o.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:s,required:!0}),a.jsx(D,{label:"Month End",name:"MonthEnd",type:"select",value:o.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:s,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,children:m?"Saving...":"Save"})]})]})})}const sw="http://192.168.1.215:5001",jqe=[],ln=K("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${sw}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),cx=K("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${sw}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),aT=K("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${sw}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ux=K("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${sw}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Nqe=Ce({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ln.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ln.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(ln.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=jqe}).addCase(cx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(cx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(aT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(aT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(ux.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ux.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(ux.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),wqe=Nqe.reducer;function Cqe(){const t=he(),{fiscalYears:e,isLoading:r}=ee(N=>N.fiscalYears),{Add:n,Edit:s,Delete:o}=Se(45),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(ln())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(ux(f.ID)).unwrap(),m(!1),p(null),Y.success("Fiscal year deleted successfully.")}catch(N){console.error("Failed to delete fiscal year:",N),Y.error("Failed to delete fiscal year. Please try again.")}},x=async N=>{try{c?(await t(aT({...N,id:c.ID})).unwrap(),Y.success("Fiscal year updated successfully.")):(await t(cx(N)).unwrap(),Y.success("Fiscal year added successfully.")),t(ln())}catch(S){console.error("Failed to save fiscal year:",S),Y.error("Failed to save fiscal year. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Fiscal Years"}),a.jsx("p",{children:"Manage fiscal years"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Fiscal Year":"Add Fiscal Year",children:a.jsx(vqe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Sqe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function Aqe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Type:M().required("Type is required"),Code:M().required("Code is required"),Name:M().required("Nature of Payment is required"),Rate:ae().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return a.jsx(He,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:o,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[a.jsx(D,{label:"Type",name:"Type",type:"select",options:Sqe,value:s.Type,onChange:l,onBlur:c,error:o.Type,touched:i.Type,required:!0}),a.jsx(D,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:l,onBlur:c,error:o.Code,touched:i.Code,required:!0}),a.jsx(D,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:s.Rate,onChange:l,onBlur:c,error:o.Rate,touched:i.Rate,required:!0}),a.jsx(D,{label:"Nature of Payment",name:"Name",type:"textarea",value:s.Name,onChange:l,onBlur:c,error:o.Name,touched:i.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function Iqe(){const t=he(),{taxCodes:e,isLoading:r}=ee(N=>N.taxCodes),{Add:n,Edit:s,Delete:o}=Se(78),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(ia())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(jy(f.ID)).unwrap(),m(!1),p(null),Y.success("Tax code deleted successfully.")}catch(N){console.error("Failed to delete tax code:",N),Y.error("Failed to delete tax code. Please try again.")}},x=async N=>{try{c?(await t(V2({...N,ID:c.ID})).unwrap(),Y.success("Tax code updated successfully.")):(await t(vy(N)).unwrap(),Y.success("Tax code added successfully.")),t(ia())}catch(S){console.error("Failed to save tax code:",S),Y.error("Failed to save tax code. Please try again.")}finally{l(!1)}},v=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:N=>`${N} %`}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Tax Codes"}),a.jsx("p",{children:"Manage tax codes"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Tax Code":"Add Tax Code",children:a.jsx(Aqe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',f==null?void 0:f.Code,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Tqe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Code:M().required("Code is required"),Name:M().required("Name is required")}),s=ot({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Code",name:"Code",type:"text",value:s.values.Code,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Code,touched:s.touched.Code,required:!0}),a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function Pqe(){const t=he(),{modeOfPayments:e,isLoading:r}=ee(N=>N.modeOfPayments),{Add:n,Edit:s,Delete:o}=Se(60),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(cl())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(Sy(f.ID)).unwrap(),m(!1),p(null),Y.success("Mode of payment deleted successfully.")}catch(N){Y.error(N.message||"Failed to delete mode of payment."),console.error("Failed to delete mode of payment:",N)}},x=async N=>{try{c?(await t(z2({...N,ID:c.ID})).unwrap(),Y.success("Mode of payment updated successfully.")):(await t(Cy(N)).unwrap(),Y.success("Mode of payment added successfully.")),t(cl())}catch(S){console.error("Failed to save mode of payment:",S),Y.error("Failed to save mode of payment. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Mode of Payments"}),a.jsx("p",{children:"Manage mode of payments"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Mode of Payment":"Add Mode of Payment",children:a.jsx(Tqe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function kqe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Code:M().required("Code is required"),Name:M().required("Name is required"),NumberOfDays:ae().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),s=ot({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Code",name:"Code",type:"text",value:s.values.Code,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Code,touched:s.touched.Code,required:!0}),a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsx(D,{label:"Number of Days",name:"NumberOfDays",type:"number",value:s.values.NumberOfDays,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.NumberOfDays,touched:s.touched.NumberOfDays,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function Eqe(){const t=he(),{paymentTerms:e,isLoading:r}=ee(N=>N.paymentTerms),{Add:n,Edit:s,Delete:o}=Se(63),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(ll())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(wy(f.ID)).unwrap(),m(!1),p(null),Y.success("Payment term deleted successfully.")}catch(N){console.error("Failed to delete payment term:",N),Y.error("Failed to delete payment term. Please try again.")}},x=async N=>{try{c?(await t(U2({...N,ID:c.ID})).unwrap(),Y.success("Payment term updated successfully.")):(await t(Ny(N)).unwrap(),Y.success("Payment term added successfully.")),t(ll())}catch(S){console.error("Failed to save payment term:",S),Y.error("Failed to save payment term. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Payment Terms"}),a.jsx("p",{children:"Manage payment terms"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Payment Term":"Add Payment Term",children:a.jsx(kqe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Dqe({initialData:t,onSubmit:e,onClose:r}){const n=pe({Name:M().required("Name is required")}),s=ot({initialValues:t||{Name:""},validationSchema:n,onSubmit:o=>{e(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"Name",name:"Name",type:"text",value:s.values.Name,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Name,touched:s.touched.Name,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}function Oqe(){const t=he(),{industries:e,isLoading:r}=ee(N=>N.industries),{Add:n,Edit:s,Delete:o}=Se(53),[i,l]=j.useState(!1),[c,u]=j.useState(null),[d,m]=j.useState(!1),[f,p]=j.useState(null);j.useEffect(()=>{t(il())},[t]);const h=()=>{u(null),l(!0)},y=N=>{u(N),l(!0)},b=N=>{p(N),m(!0)},g=async()=>{if(f)try{await t(by(f.ID)).unwrap(),m(!1),p(null),Y.success("Industry deleted successfully.")}catch(N){console.error("Failed to delete industry:",N),Y.error("Failed to delete industry. Please try again.")}},x=async N=>{try{c?(await t(q2({...N,ID:c.ID})).unwrap(),Y.success("Industry updated successfully.")):(await t(xy(N)).unwrap(),Y.success("Industry added successfully.")),t(il())}catch(S){console.error("Failed to save industry:",S),Y.error("Failed to save industry. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Industries"}),a.jsx("p",{children:"Manage industries"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,data:e,actions:w,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Industry":"Add Industry",children:a.jsx(Dqe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',f==null?void 0:f.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const $qe=["Afghan","Albanian","Algerian","Andorran","Angolan","Argentine","Armenian","Australian","Austrian","Azerbaijani","Bahamian","Bahraini","Bangladeshi","Barbadian","Belarusian","Belgian","Belizean","Beninese","Bhutanese","Bolivian","Bosnian","Botswanan","Brazilian","British","Bruneian","Bulgarian","Burkinabe","Burundian","Cambodian","Cameroonian","Canadian","Cape Verdean","Central African","Chadian","Chilean","Chinese","Colombian","Comorian","Congolese","Costa Rican","Croatian","Cuban","Cypriot","Czech","Danish","Djiboutian","Dominican","Dutch","Ecuadorian","Egyptian","Emirati","Eritrean","Estonian","Ethiopian","Fijian","Filipino","Finnish","French","Gabonese","Gambian","Georgian","German","Ghanaian","Greek","Grenadian","Guatemalan","Guinean","Guyanese","Haitian","Honduran","Hungarian","Icelandic","Indian","Indonesian","Iranian","Iraqi","Irish","Israeli","Italian","Ivorian","Jamaican","Japanese","Jordanian","Kazakhstani","Kenyan","Kuwaiti","Kyrgyzstani","Laotian","Latvian","Lebanese","Lesothoan","Liberian","Libyan","Lithuanian","Luxembourgish","Macedonian","Malagasy","Malawian","Malaysian","Maldivian","Malian","Maltese","Mauritanian","Mauritian","Mexican","Moldovan","Monacan","Mongolian","Montenegrin","Moroccan","Mozambican","Namibian","Nepalese","Nigerian","Nicaraguan","North Korean","Norwegian","Omani","Pakistani","Palestinian","Panamanian","Paraguayan","Peruvian","Polish","Portuguese","Qatari","Romanian","Russian","Rwandan","Salvadoran","Samoan","Saudi Arabian","Senegalese","Serbian","Seychellois","Sierra Leonean","Singaporean","Slovak","Slovenian","Somali","South African","South Korean","Spanish","Sri Lankan","Sudanese","Surinamese","Swazi","Swedish","Swiss","Syrian","Taiwanese","Tajikistani","Tanzanian","Thai","Togolese","Tongan","Trinidadian/Tobagonian","Tunisian","Turkish","Turkmen","Tuvaluan","Ugandan","Ukrainian","Uruguayan","Uzbekistani","Venezuelan","Vietnamese","Yemenite","Zambian","Zimbabwean"],Rqe=$qe.map(t=>({value:t,label:t}));function Lqe({initialData:t,onSubmit:e,onClose:r}){const n=he();j.useEffect(()=>{n(Uo()),n(zo()),n(Wo()),n(Go())},[n]);const{regions:s}=ee(x=>x.regions),{provinces:o}=ee(x=>x.provinces),{municipalities:i}=ee(x=>x.municipalities),{barangays:l}=ee(x=>x.barangays),c=pe({FirstName:M().required("First Name is required"),MiddleName:M(),LastName:M().required("Last Name is required"),Gender:M().required("Gender is required"),Citizenship:M().required("Citizenship is required"),DateOfBirth:Ye().required("Date of Birth is required"),PlaceOfBirth:M().required("Place of Birth is required"),Occupation:M().required("Occupation is required"),CivilStatus:M().required("Civil Status is required"),TIN:M().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),EmailAddress:M().email(),RegionID:M().required("Region is required"),ProvinceID:M().required("Province is required"),MunicipalityID:M().required("Municipality is required"),BarangayID:M().required("Barangay is required"),ZIPCode:M().required("ZIP Code is required"),StreetAddress:M().required("Street Address is required")}),u=ot({initialValues:{FirstName:(t==null?void 0:t.FirstName)||"",MiddleName:(t==null?void 0:t.MiddleName)||"",LastName:(t==null?void 0:t.LastName)||"",Gender:(t==null?void 0:t.Gender)||"",Citizenship:(t==null?void 0:t.Citizenship)||"",DateOfBirth:(t==null?void 0:t.Birthdate)||"",PlaceOfBirth:(t==null?void 0:t.PlaceofBirth)||"",Occupation:(t==null?void 0:t.Occupation)||"",CivilStatus:(t==null?void 0:t.CivilStatus)||"",TIN:(t==null?void 0:t.TIN)||"",EmailAddress:(t==null?void 0:t.EmailAddress)||"",RegionID:(t==null?void 0:t.RegionID)||"",ProvinceID:(t==null?void 0:t.ProvinceID)||"",MunicipalityID:(t==null?void 0:t.MunicipalityID)||"",BarangayID:(t==null?void 0:t.BarangayID)||"",ZIPCode:(t==null?void 0:t.ZIPCode)||"",StreetAddress:(t==null?void 0:t.StreetAddress)||""},validationSchema:c,onSubmit:x=>e(x)}),{values:d,handleChange:m,handleBlur:f,errors:p,touched:h,setFieldValue:y,handleSubmit:b,submitCount:g}=u;return j.useEffect(()=>{const x=l.find(v=>v.ID.toString()===d.BarangayID);x&&(x.MunicipalityCode&&y("MunicipalityID",x.MunicipalityCode),x.ProvinceCode&&y("ProvinceID",x.ProvinceCode),x.RegionCode&&y("RegionID",x.RegionCode))},[d.BarangayID]),j.useEffect(()=>{const x=i.find(v=>v.ID.toString()===d.MunicipalityID);x&&(x.ProvinceCode&&y("ProvinceID",x.ProvinceCode),x.RegionCode&&y("RegionID",x.RegionCode))},[d.MunicipalityID]),j.useEffect(()=>{const x=o.find(v=>v.ID.toString()===d.ProvinceID);x&&x.RegionCode&&y("RegionID",x.RegionCode)},[d.ProvinceID]),console.log("values",p),a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:m,onBlur:f,error:h.FirstName&&p.FirstName,touched:h.FirstName,required:!0}),a.jsx(D,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:m,onBlur:f,error:p.MiddleName&&h.MiddleName,touched:h.MiddleName}),a.jsx(D,{label:"Last Name",name:"LastName",value:d.LastName,onChange:m,onBlur:f,error:h.LastName&&p.LastName,touched:h.LastName,required:!0}),a.jsx(D,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:m,onBlur:f,error:h.Gender&&p.Gender,touched:h.Gender,required:!0}),a.jsx(rt,{label:"Citizenship",name:"Citizenship",type:"select",required:!0,selectedValue:d.Citizenship,onSelect:x=>{y("Citizenship",x)},options:Rqe,error:p.Citizenship&&p.Citizenship,touched:h.Citizenship}),a.jsx(D,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:m,onBlur:f,error:h.DateOfBirth&&p.DateOfBirth,touched:h.DateOfBirth,required:!0}),a.jsx(D,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:m,onBlur:f,error:h.PlaceOfBirth&&p.PlaceOfBirth,touched:h.PlaceOfBirth,required:!0}),a.jsx(D,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:m,onBlur:f,error:h.Occupation&&p.Occupation,touched:h.Occupation,required:!0}),a.jsx(D,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:m,onBlur:f,error:h.CivilStatus&&p.CivilStatus,touched:h.CivilStatus,required:!0}),a.jsx(D,{label:"TIN",name:"TIN",value:d.TIN,onChange:m,onBlur:f,error:h.TIN&&p.TIN,touched:h.TIN}),a.jsx(D,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:m,onBlur:f,error:h.EmailAddress&&p.EmailAddress,touched:h.EmailAddress}),a.jsx(D,{label:"Region",name:"RegionID",type:"select",options:s.map(x=>({value:x.ID,label:x.Name})),value:d.RegionID,onChange:m,onBlur:f,error:h.RegionID&&p.RegionID,touched:h.RegionID,required:!0}),a.jsx(D,{label:"Province",name:"ProvinceID",type:"select",options:o.map(x=>({value:x.ID,label:x.Name})),value:d.ProvinceID,onChange:m,onBlur:f,error:h.ProvinceID&&p.ProvinceID,touched:h.ProvinceID,required:!0}),a.jsx(D,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(x=>({value:x.ID,label:x.Name})),value:d.MunicipalityID,onChange:m,onBlur:f,error:h.MunicipalityID&&p.MunicipalityID,touched:h.MunicipalityID,required:!0}),a.jsx(D,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(x=>({value:x.ID,label:x.Name})),value:d.BarangayID,onChange:m,onBlur:f,error:h.BarangayID&&p.BarangayID,touched:h.BarangayID,required:!0}),a.jsx(D,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:m,onBlur:f,error:h.ZIPCode&&p.ZIPCode,touched:h.ZIPCode,required:!0}),a.jsx(D,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:m,onBlur:f,error:h.StreetAddress&&p.StreetAddress,touched:h.StreetAddress,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Update":"Save"})]}),g>0&&Object.keys(p).length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),a.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(p).map(([x,v])=>a.jsx("li",{children:v},x))})]})]})}const ow="http://192.168.1.215:5001",Fqe=[],Ir=K("customers/fetchCustomers",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${ow}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),dx=K("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${ow}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),sT=K("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${ow}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),mx=K("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${ow}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mqe=Ce({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ir.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ir.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(Ir.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=Fqe}).addCase(dx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(dx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(sT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(mx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(mx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),_qe=Mqe.reducer;function Bqe(){const t=he(),{customers:e,isLoading:r}=ee(I=>I.customers),{industries:n}=ee(I=>I.industries),{taxCodes:s}=ee(I=>I.taxCodes),{paymentTerms:o}=ee(I=>I.paymentTerms),{modeOfPayments:i}=ee(I=>I.modeOfPayments),[l,c]=j.useState(!1),[u,d]=j.useState(null),[m,f]=j.useState(!1),[p,h]=j.useState(null),{Add:y,Edit:b,Delete:g}=Se(38);j.useEffect(()=>{t(Ir()),t(il()),t(ia()),t(ll()),t(cl())},[t]);const x=j.useMemo(()=>{const I=(e==null?void 0:e.length)||0,k=new Set(e==null?void 0:e.map(L=>L.KindofOrganization).filter(Boolean)).size,$=new Set(e==null?void 0:e.map(L=>L.Citizenship).filter(Boolean)).size;return{total:I,orgKinds:k,countries:$}},[e]),v=()=>{d(null),c(!0)},w=I=>{d(I),c(!0)},N=I=>{h(I),f(!0)},S=async()=>{if(p)try{await t(mx(p.ID)).unwrap(),f(!1),h(null),Y.success("Customer deleted successfully")}catch(I){Y.error((I==null?void 0:I.message)||"Failed to delete Individual/Citizen. Please try again.")}},C=async I=>{try{u?(await t(sT({...I,ID:u.ID})).unwrap(),Y.success("Customer updated successfully")):(await t(dx(I)).unwrap(),Y.success("Customer added successfully")),t(Ir())}catch(k){Y.error((k==null?void 0:k.message)||"Failed to save Individual/Citizen")}finally{d(null),c(!1)}},A=[{key:"Name",header:"Name",sortable:!0,className:"text-neutral-900 font-medium",render:(I,k)=>{const $=[k.FirstName,k.MiddleName,k.LastName].filter(Boolean).join(" ");return a.jsx("span",{className:"text-neutral-900 font-medium",children:I||$||"N/A"})}},{key:"TIN",header:"TIN",sortable:!0,render:I=>a.jsx("span",{className:"text-neutral-700",children:I||"N/A"})},{key:"ZIPCode",header:"ZIP Code",sortable:!0,render:I=>a.jsx("span",{className:"text-neutral-600",children:I||"N/A"})},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0,render:I=>I||"N/A"},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0,render:I=>I||"N/A"},{key:"Gender",header:"Gender",sortable:!0,render:I=>I||"N/A"},{key:"StreetAddress",header:"Address",sortable:!0,render:I=>a.jsx("span",{className:"text-neutral-700",children:I||"N/A"})},{key:"Citizenship",header:"Citizenship",sortable:!0,render:I=>I||"N/A"},{key:"Occupation",header:"Occupation",sortable:!0,render:I=>I||"N/A"}],T=[b&&{icon:Br,title:"Edit",onClick:w,className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow"},g&&{icon:Kt,title:"Delete",onClick:N,className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow"}].filter(Boolean);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(ni,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Individuals/Citizens"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Manage individual / citizen records and profiles"})]})]})}),a.jsx("div",{className:"flex items-center gap-3",children:y&&a.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Individual/Citizen"]})})]}),!r&&(e==null?void 0:e.length)>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Individuals"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:x.total})]}),a.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:a.jsx(ni,{className:"h-6 w-6 text-blue-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Org Types"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:x.orgKinds})]}),a.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:a.jsx(cu,{className:"h-6 w-6 text-green-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Citizenships"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:x.countries})]}),a.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:a.jsx(ok,{className:"h-6 w-6 text-purple-700"})})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Individual / Citizen Records",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(e==null?void 0:e.length)||0," ",((e==null?void 0:e.length)||0)===1?"record":"records",")"]})]})}),a.jsx(je,{columns:A,data:e||[],actions:T,loading:r,pagination:!0,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})]}),a.jsx(me,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:a.jsx(Lqe,{initialData:u,onClose:()=>c(!1),onSubmit:C})}),a.jsxs(me,{isOpen:m,onClose:()=>f(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete the individual/citizen?"}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:S,className:"btn btn-danger",children:"Delete"})]})]})]})}const qqe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},Vqe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function Et({children:t,variant:e="primary",size:r="md",className:n="",disabled:s=!1,type:o="button",onClick:i,...l}){return a.jsx("button",{type:o,className:_e("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",qqe[e],Vqe[r],s&&"opacity-50 cursor-not-allowed",n),disabled:s,onClick:i,...l,children:t})}const fe=t=>t!=null&&t!==""?Number(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",jn=t=>{if(t==null||t==="")return"";const e=t.toString(),[r,n]=e.split("."),s=r.replace(/\B(?=(\d{3})+(?!\d))/g,",");return n!==void 0?`${s}.${n}`:s};function Uqe({initialData:t,onSubmit:e,onClose:r}){var x;const n=he(),{customers:s}=ee(v=>v.customers);j.useEffect(()=>{n(Ir())},[n]);const o=ot({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:pe({T_D_No:ae().required("TD No. is required"),PropertyID:ae().required("Property ID is required"),OwnerID:ae().required("Owner ID is required"),OwnerTIN:M().required("Owner TIN is required"),OwnerTelephoneNumber:M().required("Owner Telephone Number is required"),OwnerAddress:M().required("Owner Address is required"),BeneficialorAdminUserID:ae().required("Beneficialor Admin User ID is required"),BeneficialorAdminTIN:M().required("Beneficialor Admin TIN is required"),BeneficialorAdminAddress:M().required("Beneficialor Admin Address is required"),BeneficialorAdminTelephoneNumber:M().required("Beneficialor Admin Telephone Number is required"),OCT_TCT_CLOA_Number:M().required("OCT TCT CLOA Number is required"),SurveyNumber:M().required("Survey Number is required"),LotNumber:M().required("Lot Number is required"),CCT:M().required("CCT is required"),BlockNumber:M().required("Block Number is required"),Dated:M().required("Dated is required"),North:M().required("North is required"),South:M().required("South is required"),East:M().required("East is required"),West:M().required("West is required"),Taxable:Hs(),CancelTDNumber:M().required("Cancel TD Number is required"),Effectivity:M().required("Effectivity is required"),OwnerPrevious:M().required("Owner Previous is required"),PreviousAssessedValue:ae().required("Previous Assessed Value is required"),KindofProperty:M().required("Kind of Property is required"),Storeys:M().required("Number of Storeys is required"),Description:M().required("Description is required"),kind:M().required("Kind is required"),ActualUse:M().required("Actual Use is required"),Classification:M().required("Classification is required"),AreaSize:M().required("Area Size is required"),AssessmentLevel:M().required("Assessment Level is required"),MarketValue:M().required("Market Value is required"),AmountInWords:M().required("Amount in Words is required"),Memoranda:M().required("Memoranda is required"),assessmentRows:$t().of(pe().shape({Kind:M().required("Kind is required"),Classification:M().required("Classification is required"),Area:M().required("Area is required"),MarketValue:M().required("Market Value is required"),ActualUse:M().required("Actual Use is required"),AssessmentLevel:M().required("Assessment Level is required"),AssessmentValue:M().required("Assessment Value is required")}))}),onSubmit:v=>{e({...v,assessmentRows:i})}}),[i,l]=j.useState(()=>{var v;return(v=t==null?void 0:t.AssessmentRows)!=null&&v.length?t.AssessmentRows.map(w=>({...w})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:m,touched:f,handleSubmit:p,isSubmitting:h}=o,y=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},b=v=>{if(i.length===1)return;const w=[...i];w.splice(v,1),l(w)},g=(v,w,N)=>{const S=[...i];S[v][w]=N,l(S)};return console.log(m),a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:f.T_D_No&&m.T_D_No,touched:f.T_D_No}),a.jsx(D,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:f.PropertyID&&m.PropertyID,touched:f.PropertyID})]}),a.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[a.jsx(D,{label:"Owner",name:"OwnerID",type:"select",required:!0,options:s.map(v=>({value:v.ID,label:v.Name||`${v.FirstName} (${v.MiddleName} ${v.LastName})`})),value:c.OwnerID,onChange:u,onBlur:d,error:f.OwnerID&&m.OwnerID,touched:f.OwnerID}),a.jsx(D,{label:"TIN",name:"OwnerTIN",type:"number",required:!0,value:c.OwnerTIN,onChange:u,onBlur:d,error:f.OwnerTIN&&m.OwnerTIN,touched:f.OwnerTIN}),a.jsx(D,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",required:!0,value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:f.OwnerTelephoneNumber&&m.OwnerTelephoneNumber,touched:f.OwnerTelephoneNumber}),a.jsx(D,{label:"Address",name:"OwnerAddress",type:"text",required:!0,value:c.OwnerAddress,onChange:u,onBlur:d,error:f.OwnerAddress&&m.OwnerAddress,touched:f.OwnerAddress})]}),a.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[a.jsx(D,{label:"Beneficial/Administrator User",options:s.map(v=>({value:v.ID,label:v.Name||`${v.FirstName} (${v.MiddleName} ${v.LastName})`})),name:"BeneficialorAdminUserID",type:"select",required:!0,value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:f.BeneficialorAdminUserID&&m.BeneficialorAdminUserID,touched:f.BeneficialorAdminUserID}),a.jsx(D,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",required:!0,value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:f.BeneficialorAdminTIN&&m.BeneficialorAdminTIN,touched:f.BeneficialorAdminTIN}),a.jsx(D,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",required:!0,value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:f.BeneficialorAdminTelephoneNumber&&m.BeneficialorAdminTelephoneNumber,touched:f.BeneficialorAdminTelephoneNumber}),a.jsx(D,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",required:!0,value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:f.BeneficialorAdminAddress&&m.BeneficialorAdminAddress,touched:f.BeneficialorAdminAddress})]}),a.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[a.jsx(D,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",required:!0,value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:f.OCT_TCT_CLOA_Number&&m.OCT_TCT_CLOA_Number,touched:f.OCT_TCT_CLOA_Number}),a.jsx(D,{label:"Survey No.",name:"SurveyNumber",type:"number",required:!0,value:c.SurveyNumber,onChange:u,onBlur:d,error:f.SurveyNumber&&m.SurveyNumber,touched:f.SurveyNumber}),a.jsx(D,{label:"Lot No.",name:"LotNumber",type:"text",required:!0,value:c.LotNumber,onChange:u,onBlur:d,error:f.LotNumber&&m.LotNumber,touched:f.LotNumber}),a.jsx(D,{label:"CCT",name:"CCT",type:"text",required:!0,value:c.CCT,onChange:u,onBlur:d,error:f.CCT&&m.CCT,touched:f.CCT}),a.jsx(D,{label:"Block No.",name:"BlockNumber",type:"text",required:!0,value:c.BlockNumber,onChange:u,onBlur:d,error:f.BlockNumber&&m.BlockNumber,touched:f.BlockNumber}),a.jsx(D,{label:"Dated",name:"Dated",type:"date",required:!0,value:c.Dated,onChange:u,onBlur:d,error:f.Dated&&m.Dated,touched:f.Dated})]}),a.jsxs("div",{className:"p-4 border border-gray-300",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"North",name:"North",type:"text",required:!0,value:c.North,onChange:u,onBlur:d,error:f.North&&m.North,touched:f.North}),a.jsx(D,{label:"South",name:"South",type:"text",required:!0,value:c.South,onChange:u,onBlur:d,error:f.South&&m.South,touched:f.South}),a.jsx(D,{label:"East",name:"East",type:"text",required:!0,value:c.East,onChange:u,onBlur:d,error:f.East&&m.East,touched:f.East}),a.jsx(D,{label:"West",name:"West",type:"text",required:!0,value:c.West,onChange:u,onBlur:d,error:f.West&&m.West,touched:f.West})]}),a.jsx("div",{className:"mt-4",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[a.jsx("div",{children:a.jsx(D,{type:"select",name:"CancelTDNumber",placeholder:"Cancel TD No.",label:"This Declaration cancels TD No.",options:["1","2","3"].map(v=>({label:v,value:v})),required:!0,value:c.CancelTDNumber,onChange:u,onBlur:d,error:f.CancelTDNumber&&m.CancelTDNumber,touched:f.CancelTDNumber,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),a.jsx("div",{children:a.jsx(D,{type:"text",name:"Effectivity",placeholder:"Effectivity of Assessment/Reassessment",label:"Effectivity of Assessment/Reassessment",required:!0,value:c.Effectivity,onChange:u,error:f.Effectivity&&m.Effectivity,touched:f.Effectivity,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),a.jsx("div",{children:a.jsx(D,{type:"text",name:"OwnerPrevious",placeholder:"Previous Owner",label:"Previous Owner",required:!0,value:c.OwnerPrevious,error:f.OwnerPrevious&&m.OwnerPrevious,touched:f.OwnerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),a.jsx("div",{children:a.jsx(D,{type:"text",name:"PreviousAssessedValue",placeholder:" Previous Assessed Value:",label:"Previous Assessed Value:",value:jn(c.PreviousAssessedValue),error:f.PreviousAssessedValue&&m.PreviousAssessedValue,touched:f.PreviousAssessedValue,onChange:v=>{const w=v.target.value.replace(/[^0-9.]/g,"");o.setFieldValue("PreviousAssessedValue",w)},required:!0,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),a.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,required:!0,error:f.KindofProperty&&m.KindofProperty,touched:f.KindofProperty}),a.jsx(D,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,required:!0,error:f.Storeys&&m.Storeys,touched:f.Storeys})]}),a.jsx(D,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:f.Description&&m.Description,required:!0,touched:f.Description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[a.jsx("div",{children:a.jsx(D,{label:"Kind: (LAND / BUILDING)",name:"kind",type:"select",required:!0,value:c.kind,onChange:u,onBlur:d,error:f.kind&&m.kind,touched:f.kind,options:["LAND","BUILDING"].map(v=>({label:v,value:v}))})}),a.jsx("div",{children:a.jsx(D,{label:"Actual Use",name:"ActualUse",type:"select",required:!0,value:c.ActualUse,onChange:u,onBlur:d,error:f.ActualUse&&m.ActualUse,touched:f.ActualUse,options:["RESIDENTIAL","COMMERCIAL","INDUSTRIAL"].map(v=>({label:v,value:v}))})}),a.jsx("div",{children:a.jsx(D,{label:"Classification",name:"Classification",type:"select",required:!0,value:c.Classification,onChange:u,onBlur:d,error:f.Classification&&m.Classification,touched:f.Classification,options:["A","B","C"].map(v=>({label:v,value:v}))})}),a.jsx("div",{children:a.jsx(D,{type:"text",name:"AreaSize",placeholder:"Enter Area Size",label:"Area Size",required:!0,value:c.AreaSize,onBlur:d,error:f.AreaSize&&m.AreaSize,touched:f.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),a.jsx("div",{children:a.jsx(D,{type:"number",name:"AssessmentLevel",label:"Assessment Level",placeholder:"Enter Assessment Level",required:!0,value:c.AssessmentLevel,onBlur:d,error:f.AssessmentLevel&&m.AssessmentLevel,touched:f.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),a.jsx("div",{children:a.jsx(D,{placeholder:"Enter Market Value",type:"text",name:"MarketValue",label:"Market Value",onChange:v=>{const w=v.target.value.replace(/[^0-9.]/g,"");o.setFieldValue("MarketValue",w)},value:jn(c.MarketValue),onBlur:d,error:f.MarketValue&&m.MarketValue,touched:f.MarketValue,required:!0,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),a.jsxs("div",{className:"p-4 border border-gray-300",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),a.jsxs(Et,{type:"button",onClick:y,className:"bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(cn,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsx("tr",{children:["Kind","Classification","Area ","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(v=>a.jsxs("th",{className:"border border-gray-300 p-2 text-sm",children:[v," ",a.jsx("span",{className:"text-red-500",children:"*"})]},v))})}),a.jsx("tbody",{children:i.map((v,w)=>a.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(N=>{var S,C,A,T,I,k;return a.jsx("td",{className:"border border-gray-300 p-1",children:a.jsx(D,{type:"text",value:v[N],onChange:$=>g(w,N,$.target.value),onBlur:d,error:((C=(S=f.assessmentRows)==null?void 0:S[w])==null?void 0:C[N])&&((T=(A=m.assessmentRows)==null?void 0:A[w])==null?void 0:T[N]),touched:(k=(I=f.assessmentRows)==null?void 0:I[w])==null?void 0:k[N],className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},N)}),a.jsx("td",{className:"border border-gray-300 p-1 text-center",children:a.jsx(Et,{type:"button",onClick:()=>b(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:a.jsx(er,{className:"w-4 h-4"})})})]},w))})]}),((x=m==null?void 0:m.assessmentRows)==null?void 0:x.length)>0&&a.jsxs("p",{className:"text-red-500 text-sm mt-2",children:["At Least One Row Required"," "]})]})]}),a.jsxs("div",{className:"p-4 border border-gray-300",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),a.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,error:f.AmountInWords&&m.AmountInWords,touched:f.AmountInWords,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"p-4 border border-gray-300",children:[a.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),a.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,error:f.Memoranda&&m.Memoranda,touched:f.Memoranda,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const iw="http://192.168.1.215:5001",zqe=[],Bm=K("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${iw}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),fx=K("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${iw}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),oT=K("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${iw}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),px=K("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${iw}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Wqe=Ce({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Bm.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bm.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(Bm.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=zqe}).addCase(fx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(fx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(oT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(px.pending,e=>{e.isLoading=!0,e.error=null}).addCase(px.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(px.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),Gqe=Wqe.reducer,lw="http://192.168.1.215:5001",Hqe=[],Yo=K("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${lw}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),hx=K("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${lw}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iT=K("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${lw}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gx=K("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${lw}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Yqe=Ce({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Yo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yo.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(Yo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=Hqe}).addCase(hx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(hx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(iT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(gx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(gx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),Kqe=Yqe.reducer;function Jqe(){const t=he(),{taxDeclarations:e,isLoading:r}=ee(I=>I.taxDeclarations),{generalRevisions:n,isLoading:s}=ee(I=>I.generalRevisions),{Add:o,Edit:i,Delete:l}=Se(79),[c,u]=j.useState(!1),[d,m]=j.useState(null),[f,p]=j.useState(!1),[h,y]=j.useState(null),[b,g]=j.useState("");j.useEffect(()=>{t(Bm()),t(Yo())},[t]);const x=()=>{m(null),u(!0)},v=I=>{if(!b)return Y.error("Please select a general revision year first.");m(I),u(!0)},w=I=>{y(I),p(!0)},N=async()=>{if(h)try{await t(px(h.ID)).unwrap(),p(!1),y(null)}catch(I){console.error("Failed to delete tax declaration:",I)}},S=async I=>{const k=n==null?void 0:n.find($=>$.ID===Number(b));try{d?(await t(oT({...I,ID:d.ID,GeneralRevision:k==null?void 0:k.General_Revision_Date_Year})).unwrap(),Y.success("Tax declaration updated successfully")):(await t(fx({...I,GeneralRevision:k==null?void 0:k.General_Revision_Date_Year})).unwrap(),Y.success("Tax declaration saved successfully")),t(Bm()),u(!1)}catch($){console.error("Failed to save tax declaration:",$),Y.error("Failed to save tax declaration. Please try again.")}},C=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],A=[i&&{icon:Fe,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},l&&{icon:Xe,title:"Delete",onClick:w,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],T=n==null?void 0:n.map(I=>({value:I.ID,label:I.General_Revision_Date_Year}));return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Tax Declarations"}),a.jsx("p",{children:"Manage Tax Declarations"})]}),a.jsxs("div",{className:"flex gap-4 items-center max-sm:flex-col max-sm:w-full",children:[o&&a.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full disabled:opacity-50 disabled:cursor-not-allowed",disabled:b==="",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),a.jsx("div",{className:"max-sm:w-full",children:a.jsx(D,{type:"select",name:"year",label:"General Revision Year",value:b,onChange:I=>g(I.target.value),placeholder:"Select a year",options:T})})]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:C,data:e,actions:A,loading:r||s,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),a.jsx(me,{size:"xl",isOpen:c,onClose:()=>u(!1),title:d?"Edit Tax Declaration":"Add Tax Declaration",children:a.jsx(Uqe,{initialData:d,onClose:()=>u(!1),onSubmit:S})}),a.jsxs(me,{isOpen:f,onClose:()=>p(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',h==null?void 0:h.T_D_No,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:N,className:"btn btn-danger",children:"Delete"})]})]})]})}const Xqe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const s=he(),{employees:o}=ee(u=>u.employees);j.useEffect(()=>{s(on())},[s]);const i=pe().shape({General_Revision_Date_Year:M().required("Required"),GeneralRevisionCode:M().required("Required"),TaxDeclarationCode:M().required("Required")}),l=ot({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=o.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return a.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),a.jsx(D,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),a.jsx(D,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(rt,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),a.jsx(rt,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),a.jsx(rt,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:l.values.ProvincialAssessor,error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),a.jsx(rt,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},Zqe=()=>{const t=he(),{generalRevisions:e,isLoading:r}=ee(N=>N.generalRevisions),{Add:n,Edit:s,Delete:o}=Se(51),[i,l]=j.useState(!1),[c,u]=j.useState(!1),[d,m]=j.useState(null),[f,p]=j.useState(null);j.useEffect(()=>{t(Yo())},[t]);const h=()=>{m(null),l(!0)},y=N=>{m(N),l(!0)},b=async N=>{try{d?(await t(iT({...N,ID:d.ID})).unwrap(),Y.success("Revision updated successfully")):(await t(hx(N)).unwrap(),Y.success("Revision added successfully")),t(Yo())}catch(S){console.error("Failed to save general revision:",S),Y.error("Failed to save general revision. Please try again.")}finally{l(!1)}},g=N=>{p(N),u(!0)},x=async()=>{try{f&&(await t(gx(f.ID)).unwrap(),Y.success("Revision deleted successfully"),u(!1))}catch(N){console.error("Failed to delete revision:",N),Y.error("Failed to delete revision. Please try again.")}},v=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],w=[s&&{icon:Fe,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},o&&{icon:Xe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"General Revisions"}),a.jsx("p",{children:"Manage General Revision Records"})]}),n&&a.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:v,actions:w,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),a.jsx(me,{isOpen:i,onClose:()=>l(!1),title:d?"Edit General Revision":"Add General Revision",size:"lg",children:a.jsx(Xqe,{initialData:d,onClose:()=>l(!1),onSubmit:b})}),a.jsxs(me,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",a.jsx("strong",{children:f==null?void 0:f.revisionYear}),"?"]}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})},Po=K("realPropertyTax/fetchRealPropertyTaxes",async(t,{rejectWithValue:e})=>{var r;try{return(await De.get("/real-property-tax/list")).data}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),yx=K("realPropertyTax/saveRealPropertyTax",async(t,{rejectWithValue:e})=>{var r;try{return(await De.post("/real-property-tax/save",t)).data}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),lT=K("realPropertyTax/getTdNumber",async({ownerId:t,generalRevision:e},{rejectWithValue:r})=>{var n;try{return(await De.get(`/real-property-tax/getTdNumber?ownerId=${t}&generalRevision=${e}`)).data}catch(s){return r(((n=s.response)==null?void 0:n.data)||s.message)}}),DW=K("realPropertyTax/addButtonTDNumber",async({tdNumber:t,selectedYear:e},{rejectWithValue:r})=>{var n;try{return(await De.get(`/real-property-tax/addButton?tdNumber=${t}&generalRevisionYear=${e}`)).data}catch(s){return r(((n=s.response)==null?void 0:n.data)||s.message)}}),OW=K("realPropertyTax/voidRealPropertyTax",async(t,{rejectWithValue:e})=>{var r;try{const n=await De.post("/real-property-tax/void",t);return{id:t.id,...n.data}}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),Qqe={realPropertyTaxes:[],isLoading:!1,error:null,tdNumber:null,addButtonResult:null},eVe=Ce({name:"realPropertyTax",initialState:Qqe,reducers:{},extraReducers:t=>{t.addCase(Po.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Po.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(Po.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OW.fulfilled,(e,r)=>{const n=e.realPropertyTaxes.findIndex(s=>s.ID===r.payload.id);n!==-1&&(e.realPropertyTaxes[n].Status="Void")}).addCase(yx.fulfilled,(e,r)=>{e.isLoading=!1;const n=r.payload,s=e.realPropertyTaxes.findIndex(o=>o.id===n.id);s!==-1?e.realPropertyTaxes[s]=n:e.realPropertyTaxes.push(n)}).addCase(yx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lT.fulfilled,(e,r)=>{e.tdNumber=r.payload}).addCase(DW.fulfilled,(e,r)=>{e.addButtonResult=r.payload})}}),tVe=eVe.reducer,rVe=new Date().getFullYear(),nVe=pe({GeneralRevisionYear:ae().required("General Revision Year is required"),Classification:M().required("Classification is required"),Unit:M().required("Unit is required"),ActualUse:M().required("Actual Use is required"),SubClassification:M().required("Sub Class No is required"),Price:ae().required("Unit Value is required"),Location:M().required("Location or Description is required")});function aVe({initialData:t,onSubmit:e,onClose:r}){const{generalRevisions:n,isLoading:s}=ee(d=>d.generalRevisions),o=he();j.useEffect(()=>{o(Po())},[]);const i=ot({initialValues:t||{GeneralRevisionYear:rVe,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:nVe,onSubmit:d=>{e(d)}}),l=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],c=()=>{if(!i.values.Classification)return[];const m={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[i.values.Classification];return m?Array.from({length:6},(f,p)=>({value:`${m}${p+1}`,label:`${m}${p+1}`})):[]};j.useEffect(()=>{if(i.values.Classification&&i.values.SubClassification){const d=i.values.SubClassification.charAt(0),m=i.values.Classification.charAt(0);d!==m&&i.setFieldValue("SubClassification","")}},[i.values.Classification]);const u=n==null?void 0:n.map(d=>({value:d.ID,label:d.General_Revision_Date_Year}));return a.jsxs("form",{onSubmit:i.handleSubmit,className:"space-y-4",children:[a.jsx(D,{label:"General Revision Year",name:"GeneralRevisionYear",type:"select",options:u,value:i.values.GeneralRevisionYear,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.GeneralRevisionYear,touched:i.touched.GeneralRevisionYear,required:!0}),a.jsx(D,{label:"Classification",name:"Classification",type:"select",options:l,value:i.values.Classification,onChange:d=>{i.handleChange(d),i.setFieldValue("SubClassification","")},onBlur:i.handleBlur,error:i.errors.Classification,touched:i.touched.Classification,required:!0}),a.jsx(D,{label:"Sub Class No.",name:"SubClassification",type:"select",options:c(),value:i.values.SubClassification,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.SubClassification,touched:i.touched.SubClassification,required:!0,disabled:!i.values.Classification}),a.jsx(D,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:i.values.Unit,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Unit,touched:i.touched.Unit,required:!0}),a.jsx(D,{label:"Actual Use",name:"ActualUse",type:"text",value:i.values.ActualUse,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.ActualUse,touched:i.touched.ActualUse,required:!0}),a.jsx(D,{label:"Unit Value",name:"Price",type:"number",value:i.values.Price,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Price,touched:i.touched.Price,required:!0}),a.jsx(D,{label:"Location or Description",name:"Location",type:"textarea",value:i.values.Location,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Location,touched:i.touched.Location,required:!0}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i.isSubmitting,children:i.isSubmitting?"Saving...":"Save"})]})]})}const cw="http://192.168.1.215:5001",sVe=[],qm=K("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${cw}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),xx=K("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${cw}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),cT=K("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${cw}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),bx=K("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${cw}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),oVe=Ce({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(qm.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qm.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(qm.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=sVe}).addCase(xx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(xx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase(cT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(bx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(bx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),iVe=oVe.reducer;function lVe(){const t=he(),{baseUnits:e,isLoading:r}=ee(C=>C.baseUnits),{generalRevisions:n,isLoading:s}=ee(C=>C.generalRevisions),{Add:o,Edit:i,Delete:l}=Se(20),[c,u]=j.useState(!1),[d,m]=j.useState(null),[f,p]=j.useState(!1),[h,y]=j.useState(null);j.useEffect(()=>{t(qm()),t(Yo())},[t]);const b=()=>{m(null),u(!0)},g=C=>{m(C),u(!0)},x=C=>{y(C),p(!0)},v=async()=>{if(h)try{await t(bx(h.ID)).unwrap(),p(!1),y(null),Y.success("Base unit deleted successfully")}catch(C){console.error("Failed to delete base unit:",C),Y.error("Failed to delete base unit. Please try again.")}},w=async C=>{try{d?(await t(cT({...C,ID:d.ID})).unwrap(),Y.success("Base unit updated successfully")):(await t(xx(C)).unwrap(),Y.success("Base unit added successfully")),t(qm())}catch(A){console.error("Failed to save base unit:",A),Y.error("Failed to save base unit. Please try again.")}finally{u(!1)}},N=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0,render:C=>{var A;return((A=n==null?void 0:n.find(T=>T.ID===C))==null?void 0:A.General_Revision_Date_Year)||""}},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],S=[i&&{icon:Fe,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},l&&{icon:Xe,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Base Units"}),a.jsx("p",{children:"Manage Base Units"})]}),o&&a.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:N,data:e,actions:S,loading:r||s,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),a.jsx(me,{isOpen:c,onClose:()=>u(!1),title:d?"Edit Base Unit":"Add Base Unit",children:a.jsx(aVe,{initialData:d,onClose:()=>u(!1),onSubmit:w})}),a.jsxs(me,{isOpen:f,onClose:()=>p(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',h==null?void 0:h.Unit,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function cVe(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $W(t){var e=cVe(t,"string");return Ol(e)=="symbol"?e:e+""}function mm(t,e,r){return(e=$W(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(r),!0).forEach(function(n){mm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uVe(t){if(Array.isArray(t))return t}function dVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,o,i,l=[],c=!0,u=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function uT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function RW(t,e){if(t){if(typeof t=="string")return uT(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uT(t,e):void 0}}function mVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $s(t,e){return uVe(t)||dVe(t,e)||RW(t,e)||mVe()}function ao(t,e){if(t==null)return{};var r,n,s=JOe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}var fVe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function pVe(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,s=n===void 0?!1:n,o=t.defaultValue,i=o===void 0?null:o,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,m=t.onMenuClose,f=t.onMenuOpen,p=t.value,h=ao(t,fVe),y=j.useState(l!==void 0?l:r),b=$s(y,2),g=b[0],x=b[1],v=j.useState(c!==void 0?c:s),w=$s(v,2),N=w[0],S=w[1],C=j.useState(p!==void 0?p:i),A=$s(C,2),T=A[0],I=A[1],k=j.useCallback(function(B,P){typeof u=="function"&&u(B,P),I(B)},[u]),$=j.useCallback(function(B,P){var O;typeof d=="function"&&(O=d(B,P)),x(O!==void 0?O:B)},[d]),L=j.useCallback(function(){typeof f=="function"&&f(),S(!0)},[f]),q=j.useCallback(function(){typeof m=="function"&&m(),S(!1)},[m]),E=l!==void 0?l:g,R=c!==void 0?c:N,U=p!==void 0?p:T;return Be(Be({},h),{},{inputValue:E,menuIsOpen:R,onChange:k,onInputChange:$,onMenuClose:q,onMenuOpen:L,value:U})}function hVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$W(n.key),n)}}function gVe(t,e,r){return e&&V_(t.prototype,e),r&&V_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a2(t,e)}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gv(t)}function LW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LW=function(){return!!t})()}function xVe(t,e){if(e&&(Ol(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XOe(t)}function bVe(t){var e=LW();return function(){var r,n=gv(t);if(e){var s=gv(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return xVe(this,r)}}function vVe(t){if(Array.isArray(t))return uT(t)}function jVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XE(t){return vVe(t)||jVe(t)||RW(t)||NVe()}function wVe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function CVe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var SVe=function(){function t(r){var n=this;this._insertTag=function(s){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,o),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(CVe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=wVe(s);try{o.insertRule(n,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Ur="-ms-",yv="-moz-",dt="-webkit-",FW="comm",ZE="rule",QE="decl",AVe="@import",MW="@keyframes",IVe="@layer",TVe=Math.abs,uw=String.fromCharCode,PVe=Object.assign;function kVe(t,e){return Rr(t,0)^45?(((e<<2^Rr(t,0))<<2^Rr(t,1))<<2^Rr(t,2))<<2^Rr(t,3):0}function _W(t){return t.trim()}function EVe(t,e){return(t=e.exec(t))?t[0]:t}function mt(t,e,r){return t.replace(e,r)}function dT(t,e){return t.indexOf(e)}function Rr(t,e){return t.charCodeAt(e)|0}function hp(t,e,r){return t.slice(e,r)}function Ua(t){return t.length}function eD(t){return t.length}function Kh(t,e){return e.push(t),t}function DVe(t,e){return t.map(e).join("")}var dw=1,Mu=1,BW=0,Nn=0,ur=0,dd="";function mw(t,e,r,n,s,o,i){return{value:t,root:e,parent:r,type:n,props:s,children:o,line:dw,column:Mu,length:i,return:""}}function Jd(t,e){return PVe(mw("",null,null,"",null,null,0),t,{length:-t.length},e)}function OVe(){return ur}function $Ve(){return ur=Nn>0?Rr(dd,--Nn):0,Mu--,ur===10&&(Mu=1,dw--),ur}function Rn(){return ur=Nn<BW?Rr(dd,Nn++):0,Mu++,ur===10&&(Mu=1,dw++),ur}function as(){return Rr(dd,Nn)}function vx(){return Nn}function eh(t,e){return hp(dd,t,e)}function gp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qW(t){return dw=Mu=1,BW=Ua(dd=t),Nn=0,[]}function VW(t){return dd="",t}function jx(t){return _W(eh(Nn-1,mT(t===91?t+2:t===40?t+1:t)))}function RVe(t){for(;(ur=as())&&ur<33;)Rn();return gp(t)>2||gp(ur)>3?"":" "}function LVe(t,e){for(;--e&&Rn()&&!(ur<48||ur>102||ur>57&&ur<65||ur>70&&ur<97););return eh(t,vx()+(e<6&&as()==32&&Rn()==32))}function mT(t){for(;Rn();)switch(ur){case t:return Nn;case 34:case 39:t!==34&&t!==39&&mT(ur);break;case 40:t===41&&mT(t);break;case 92:Rn();break}return Nn}function FVe(t,e){for(;Rn()&&t+ur!==57;)if(t+ur===84&&as()===47)break;return"/*"+eh(e,Nn-1)+"*"+uw(t===47?t:Rn())}function MVe(t){for(;!gp(as());)Rn();return eh(t,Nn)}function _Ve(t){return VW(Nx("",null,null,null,[""],t=qW(t),0,[0],t))}function Nx(t,e,r,n,s,o,i,l,c){for(var u=0,d=0,m=i,f=0,p=0,h=0,y=1,b=1,g=1,x=0,v="",w=s,N=o,S=n,C=v;b;)switch(h=x,x=Rn()){case 40:if(h!=108&&Rr(C,m-1)==58){dT(C+=mt(jx(x),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=jx(x);break;case 9:case 10:case 13:case 32:C+=RVe(h);break;case 92:C+=LVe(vx()-1,7);continue;case 47:switch(as()){case 42:case 47:Kh(BVe(FVe(Rn(),vx()),e,r),c);break;default:C+="/"}break;case 123*y:l[u++]=Ua(C)*g;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+d:g==-1&&(C=mt(C,/\f/g,"")),p>0&&Ua(C)-m&&Kh(p>32?z_(C+";",n,r,m-1):z_(mt(C," ","")+";",n,r,m-2),c);break;case 59:C+=";";default:if(Kh(S=U_(C,e,r,u,d,s,l,v,w=[],N=[],m),o),x===123)if(d===0)Nx(C,e,S,S,w,o,m,l,N);else switch(f===99&&Rr(C,3)===110?100:f){case 100:case 108:case 109:case 115:Nx(t,S,S,n&&Kh(U_(t,S,S,0,0,s,l,v,s,w=[],m),N),s,N,m,l,n?w:N);break;default:Nx(C,S,S,S,[""],N,0,l,N)}}u=d=p=0,y=g=1,v=C="",m=i;break;case 58:m=1+Ua(C),p=h;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&$Ve()==125)continue}switch(C+=uw(x),x*y){case 38:g=d>0?1:(C+="\f",-1);break;case 44:l[u++]=(Ua(C)-1)*g,g=1;break;case 64:as()===45&&(C+=jx(Rn())),f=as(),d=m=Ua(v=C+=MVe(vx())),x++;break;case 45:h===45&&Ua(C)==2&&(y=0)}}return o}function U_(t,e,r,n,s,o,i,l,c,u,d){for(var m=s-1,f=s===0?o:[""],p=eD(f),h=0,y=0,b=0;h<n;++h)for(var g=0,x=hp(t,m+1,m=TVe(y=i[h])),v=t;g<p;++g)(v=_W(y>0?f[g]+" "+x:mt(x,/&\f/g,f[g])))&&(c[b++]=v);return mw(t,e,r,s===0?ZE:l,c,u,d)}function BVe(t,e,r){return mw(t,e,r,FW,uw(OVe()),hp(t,2,-2),0)}function z_(t,e,r,n){return mw(t,e,r,QE,hp(t,0,n),hp(t,n+1,-1),n)}function Zc(t,e){for(var r="",n=eD(t),s=0;s<n;s++)r+=e(t[s],s,t,e)||"";return r}function qVe(t,e,r,n){switch(t.type){case IVe:if(t.children.length)break;case AVe:case QE:return t.return=t.return||t.value;case FW:return"";case MW:return t.return=t.value+"{"+Zc(t.children,n)+"}";case ZE:t.value=t.props.join(",")}return Ua(r=Zc(t.children,n))?t.return=t.value+"{"+r+"}":""}function VVe(t){var e=eD(t);return function(r,n,s,o){for(var i="",l=0;l<e;l++)i+=t[l](r,n,s,o)||"";return i}}function UVe(t){return function(e){e.root||(e=e.return)&&t(e)}}function zVe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var WVe=function(e,r,n){for(var s=0,o=0;s=o,o=as(),s===38&&o===12&&(r[n]=1),!gp(o);)Rn();return eh(e,Nn)},GVe=function(e,r){var n=-1,s=44;do switch(gp(s)){case 0:s===38&&as()===12&&(r[n]=1),e[n]+=WVe(Nn-1,r,n);break;case 2:e[n]+=jx(s);break;case 4:if(s===44){e[++n]=as()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=uw(s)}while(s=Rn());return e},HVe=function(e,r){return VW(GVe(qW(e),r))},W_=new WeakMap,YVe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!W_.get(n))&&!s){W_.set(e,!0);for(var o=[],i=HVe(r,o),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=o[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},KVe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function UW(t,e){switch(kVe(t,e)){case 5103:return dt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return dt+t+yv+t+Ur+t+t;case 6828:case 4268:return dt+t+Ur+t+t;case 6165:return dt+t+Ur+"flex-"+t+t;case 5187:return dt+t+mt(t,/(\w+).+(:[^]+)/,dt+"box-$1$2"+Ur+"flex-$1$2")+t;case 5443:return dt+t+Ur+"flex-item-"+mt(t,/flex-|-self/,"")+t;case 4675:return dt+t+Ur+"flex-line-pack"+mt(t,/align-content|flex-|-self/,"")+t;case 5548:return dt+t+Ur+mt(t,"shrink","negative")+t;case 5292:return dt+t+Ur+mt(t,"basis","preferred-size")+t;case 6060:return dt+"box-"+mt(t,"-grow","")+dt+t+Ur+mt(t,"grow","positive")+t;case 4554:return dt+mt(t,/([^-])(transform)/g,"$1"+dt+"$2")+t;case 6187:return mt(mt(mt(t,/(zoom-|grab)/,dt+"$1"),/(image-set)/,dt+"$1"),t,"")+t;case 5495:case 3959:return mt(t,/(image-set\([^]*)/,dt+"$1$`$1");case 4968:return mt(mt(t,/(.+:)(flex-)?(.*)/,dt+"box-pack:$3"+Ur+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dt+t+t;case 4095:case 3583:case 4068:case 2532:return mt(t,/(.+)-inline(.+)/,dt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ua(t)-1-e>6)switch(Rr(t,e+1)){case 109:if(Rr(t,e+4)!==45)break;case 102:return mt(t,/(.+:)(.+)-([^]+)/,"$1"+dt+"$2-$3$1"+yv+(Rr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dT(t,"stretch")?UW(mt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rr(t,e+1)!==115)break;case 6444:switch(Rr(t,Ua(t)-3-(~dT(t,"!important")&&10))){case 107:return mt(t,":",":"+dt)+t;case 101:return mt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dt+(Rr(t,14)===45?"inline-":"")+"box$3$1"+dt+"$2$3$1"+Ur+"$2box$3")+t}break;case 5936:switch(Rr(t,e+11)){case 114:return dt+t+Ur+mt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return dt+t+Ur+mt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return dt+t+Ur+mt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return dt+t+Ur+t+t}return t}var JVe=function(e,r,n,s){if(e.length>-1&&!e.return)switch(e.type){case QE:e.return=UW(e.value,e.length);break;case MW:return Zc([Jd(e,{value:mt(e.value,"@","@"+dt)})],s);case ZE:if(e.length)return DVe(e.props,function(o){switch(EVe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Zc([Jd(e,{props:[mt(o,/:(read-\w+)/,":"+yv+"$1")]})],s);case"::placeholder":return Zc([Jd(e,{props:[mt(o,/:(plac\w+)/,":"+dt+"input-$1")]}),Jd(e,{props:[mt(o,/:(plac\w+)/,":"+yv+"$1")]}),Jd(e,{props:[mt(o,/:(plac\w+)/,Ur+"input-$1")]})],s)}return""})}},XVe=[JVe],ZVe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var s=e.stylisPlugins||XVe,o={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),g=1;g<b.length;g++)o[b[g]]=!0;l.push(y)});var c,u=[YVe,KVe];{var d,m=[qVe,UVe(function(y){d.insert(y)})],f=VVe(u.concat(s,m)),p=function(b){return Zc(_Ve(b),f)};c=function(b,g,x,v){d=x,p(b?b+"{"+g.styles+"}":g.styles),v&&(h.inserted[g.name]=!0)}}var h={key:r,sheet:new SVe({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:c};return h.sheet.hydrate(l),h},QVe=!0;function e9e(t,e,r){var n="";return r.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(n+=s+" ")}),n}var zW=function(e,r,n){var s=e.key+"-"+r.name;(n===!1||QVe===!1)&&e.registered[s]===void 0&&(e.registered[s]=r.styles)},t9e=function(e,r,n){zW(e,r,n);var s=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var o=r;do e.insert(r===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function r9e(t){for(var e=0,r,n=0,s=t.length;s>=4;++n,s-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var n9e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a9e=/[A-Z]|^ms/g,s9e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,WW=function(e){return e.charCodeAt(1)===45},G_=function(e){return e!=null&&typeof e!="boolean"},pC=zVe(function(t){return WW(t)?t:t.replace(a9e,"-$&").toLowerCase()}),H_=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(s9e,function(n,s,o){return za={name:s,styles:o,next:za},s})}return n9e[e]!==1&&!WW(e)&&typeof r=="number"&&r!==0?r+"px":r};function yp(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return za={name:s.name,styles:s.styles,next:za},s.name;var o=r;if(o.styles!==void 0){var i=o.next;if(i!==void 0)for(;i!==void 0;)za={name:i.name,styles:i.styles,next:za},i=i.next;var l=o.styles+";";return l}return o9e(t,e,r)}case"function":{if(t!==void 0){var c=za,u=r(t);return za=c,yp(t,e,u)}break}}var d=r;return d}function o9e(t,e,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=yp(t,e,r[s])+";";else for(var o in r){var i=r[o];if(typeof i!="object"){var l=i;G_(l)&&(n+=pC(o)+":"+H_(o,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)G_(i[c])&&(n+=pC(o)+":"+H_(o,i[c])+";");else{var u=yp(t,e,i);switch(o){case"animation":case"animationName":{n+=pC(o)+":"+u+";";break}default:n+=o+"{"+u+"}"}}}return n}var Y_=/label:\s*([^\s;{]+)\s*(;|$)/g,za;function GW(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,s="";za=void 0;var o=t[0];if(o==null||o.raw===void 0)n=!1,s+=yp(r,e,o);else{var i=o;s+=i[0]}for(var l=1;l<t.length;l++)if(s+=yp(r,e,t[l]),n){var c=o;s+=c[l]}Y_.lastIndex=0;for(var u="",d;(d=Y_.exec(s))!==null;)u+="-"+d[1];var m=r9e(s)+u;return{name:m,styles:s,next:za}}var i9e=function(e){return e()},l9e=Xo.useInsertionEffect?Xo.useInsertionEffect:!1,c9e=l9e||i9e,HW=j.createContext(typeof HTMLElement<"u"?ZVe({key:"css"}):null);HW.Provider;var u9e=function(e){return j.forwardRef(function(r,n){var s=j.useContext(HW);return e(r,s,n)})},d9e=j.createContext({}),tD={}.hasOwnProperty,fT="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",m9e=function(e,r){var n={};for(var s in r)tD.call(r,s)&&(n[s]=r[s]);return n[fT]=e,n},f9e=function(e){var r=e.cache,n=e.serialized,s=e.isStringTag;return zW(r,n,s),c9e(function(){return t9e(r,n,s)}),null},p9e=u9e(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var s=t[fT],o=[n],i="";typeof t.className=="string"?i=e9e(e.registered,o,t.className):t.className!=null&&(i=t.className+" ");var l=GW(o,void 0,j.useContext(d9e));i+=e.key+"-"+l.name;var c={};for(var u in t)tD.call(t,u)&&u!=="css"&&u!==fT&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),j.createElement(j.Fragment,null,j.createElement(f9e,{cache:e,serialized:l,isStringTag:typeof s=="string"}),j.createElement(s,c))}),h9e=p9e,Le=function(e,r){var n=arguments;if(r==null||!tD.call(r,"css"))return j.createElement.apply(void 0,n);var s=n.length,o=new Array(s);o[0]=h9e,o[1]=m9e(e,r);for(var i=2;i<s;i++)o[i]=n[i];return j.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Le||(Le={}));function rD(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return GW(e)}function g9e(){var t=rD.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function y9e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const x9e=Math.min,b9e=Math.max,xv=Math.round,Jh=Math.floor,bv=t=>({x:t,y:t});function v9e(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function fw(){return typeof window<"u"}function YW(t){return JW(t)?(t.nodeName||"").toLowerCase():"#document"}function Ys(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function KW(t){var e;return(e=(JW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function JW(t){return fw()?t instanceof Node||t instanceof Ys(t).Node:!1}function j9e(t){return fw()?t instanceof Element||t instanceof Ys(t).Element:!1}function nD(t){return fw()?t instanceof HTMLElement||t instanceof Ys(t).HTMLElement:!1}function K_(t){return!fw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ys(t).ShadowRoot}const N9e=new Set(["inline","contents"]);function XW(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=aD(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!N9e.has(s)}function w9e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const C9e=new Set(["html","body","#document"]);function S9e(t){return C9e.has(YW(t))}function aD(t){return Ys(t).getComputedStyle(t)}function A9e(t){if(YW(t)==="html")return t;const e=t.assignedSlot||t.parentNode||K_(t)&&t.host||KW(t);return K_(e)?e.host:e}function ZW(t){const e=A9e(t);return S9e(e)?t.ownerDocument?t.ownerDocument.body:t.body:nD(e)&&XW(e)?e:ZW(e)}function vv(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=ZW(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),i=Ys(s);if(o){const l=pT(i);return e.concat(i,i.visualViewport||[],XW(s)?s:[],l&&r?vv(l):[])}return e.concat(s,vv(s,[],r))}function pT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function I9e(t){const e=aD(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=nD(t),o=s?t.offsetWidth:r,i=s?t.offsetHeight:n,l=xv(r)!==o||xv(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function sD(t){return j9e(t)?t:t.contextElement}function J_(t){const e=sD(t);if(!nD(e))return bv(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=I9e(e);let i=(o?xv(r.width):r.width)/n,l=(o?xv(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const T9e=bv(0);function P9e(t){const e=Ys(t);return!w9e()||!e.visualViewport?T9e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function k9e(t,e,r){return!1}function X_(t,e,r,n){e===void 0&&(e=!1);const s=t.getBoundingClientRect(),o=sD(t);let i=bv(1);e&&(i=J_(t));const l=k9e()?P9e(o):bv(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,m=s.height/i.y;if(o){const f=Ys(o),p=n;let h=f,y=pT(h);for(;y&&n&&p!==h;){const b=J_(y),g=y.getBoundingClientRect(),x=aD(y),v=g.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,w=g.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,m*=b.y,c+=v,u+=w,h=Ys(y),y=pT(h)}}return v9e({width:d,height:m,x:c,y:u})}function QW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function E9e(t,e){let r=null,n;const s=KW(t);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:m,width:f,height:p}=u;if(l||e(),!f||!p)return;const h=Jh(m),y=Jh(s.clientWidth-(d+f)),b=Jh(s.clientHeight-(m+p)),g=Jh(d),v={rootMargin:-h+"px "+-y+"px "+-b+"px "+-g+"px",threshold:b9e(0,x9e(1,c))||1};let w=!0;function N(S){const C=S[0].intersectionRatio;if(C!==c){if(!w)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!QW(u,t.getBoundingClientRect())&&i(),w=!1}try{r=new IntersectionObserver(N,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,v)}r.observe(t)}return i(!0),o}function D9e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=sD(t),d=s||o?[...u?vv(u):[],...vv(e)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),o&&g.addEventListener("resize",r)});const m=u&&l?E9e(u,r):null;let f=-1,p=null;i&&(p=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let h,y=c?X_(t):null;c&&b();function b(){const g=X_(t);y&&!QW(y,g)&&r(),y=g,h=requestAnimationFrame(b)}return r(),()=>{var g;d.forEach(x=>{s&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),m==null||m(),(g=p)==null||g.disconnect(),p=null,c&&cancelAnimationFrame(h)}}var hT=j.useLayoutEffect,O9e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],jv=function(){};function $9e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function R9e(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var o=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&o.push("".concat($9e(t,i)));return o.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Z_=function(e){return z9e(e)?e.filter(Boolean):Ol(e)==="object"&&e!==null?[e]:[]},eG=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=ao(e,O9e);return Be({},r)},tr=function(e,r,n){var s=e.cx,o=e.getStyles,i=e.getClassNames,l=e.className;return{css:o(r,e),className:s(n??{},i(r,e),l)}};function pw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function L9e(t){return pw(t)?window.innerHeight:t.clientHeight}function tG(t){return pw(t)?window.pageYOffset:t.scrollTop}function Nv(t,e){if(pw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function F9e(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function M9e(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Xh(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:jv,s=tG(t),o=e-s,i=10,l=0;function c(){l+=i;var u=M9e(l,s,o,r);Nv(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function Q_(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=e.offsetHeight/3;n.bottom+s>r.bottom?Nv(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):n.top-s<r.top&&Nv(t,Math.max(e.offsetTop-s,0))}function _9e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function e4(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function B9e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var rG=!1,q9e={get passive(){return rG=!0}},Zh=typeof window<"u"?window:{};Zh.addEventListener&&Zh.removeEventListener&&(Zh.addEventListener("p",jv,q9e),Zh.removeEventListener("p",jv,!1));var V9e=rG;function U9e(t){return t!=null}function z9e(t){return Array.isArray(t)}function Qh(t,e,r){return t?e:r}var W9e=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var o=Object.entries(e).filter(function(i){var l=$s(i,1),c=l[0];return!n.includes(c)});return o.reduce(function(i,l){var c=$s(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},G9e=["children","innerProps"],H9e=["children","innerProps"];function Y9e(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,s=t.placement,o=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=F9e(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),m=d.height,f=r.getBoundingClientRect(),p=f.bottom,h=f.height,y=f.top,b=r.offsetParent.getBoundingClientRect(),g=b.top,x=i?window.innerHeight:L9e(c),v=tG(c),w=parseInt(getComputedStyle(r).marginBottom,10),N=parseInt(getComputedStyle(r).marginTop,10),S=g-N,C=x-y,A=S+v,T=m-v-y,I=p-x+v+w,k=v+y-N,$=160;switch(s){case"auto":case"bottom":if(C>=h)return{placement:"bottom",maxHeight:e};if(T>=h&&!i)return o&&Xh(c,I,$),{placement:"bottom",maxHeight:e};if(!i&&T>=n||i&&C>=n){o&&Xh(c,I,$);var L=i?C-w:T-w;return{placement:"bottom",maxHeight:L}}if(s==="auto"||i){var q=e,E=i?S:A;return E>=n&&(q=Math.min(E-w-l,e)),{placement:"top",maxHeight:q}}if(s==="bottom")return o&&Nv(c,I),{placement:"bottom",maxHeight:e};break;case"top":if(S>=h)return{placement:"top",maxHeight:e};if(A>=h&&!i)return o&&Xh(c,k,$),{placement:"top",maxHeight:e};if(!i&&A>=n||i&&S>=n){var R=e;return(!i&&A>=n||i&&S>=n)&&(R=i?S-N:A-N),o&&Xh(c,k,$),{placement:"top",maxHeight:R}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return u}function K9e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var nG=function(e){return e==="auto"?"bottom":e},J9e=function(e,r){var n,s=e.placement,o=e.theme,i=o.borderRadius,l=o.spacing,c=o.colors;return Be((n={label:"menu"},mm(n,K9e(s),"100%"),mm(n,"position","absolute"),mm(n,"width","100%"),mm(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},aG=j.createContext(null),X9e=function(e){var r=e.children,n=e.minMenuHeight,s=e.maxMenuHeight,o=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=j.useContext(aG)||{},d=u.setPortalPlacement,m=j.useRef(null),f=j.useState(s),p=$s(f,2),h=p[0],y=p[1],b=j.useState(null),g=$s(b,2),x=g[0],v=g[1],w=c.spacing.controlHeight;return hT(function(){var N=m.current;if(N){var S=i==="fixed",C=l&&!S,A=Y9e({maxHeight:s,menuEl:N,minHeight:n,placement:o,shouldScroll:C,isFixedPosition:S,controlHeight:w});y(A.maxHeight),v(A.placement),d==null||d(A.placement)}},[s,o,i,l,n,d,w]),r({ref:m,placerProps:Be(Be({},e),{},{placement:x||nG(o),maxHeight:h})})},Z9e=function(e){var r=e.children,n=e.innerRef,s=e.innerProps;return Le("div",ze({},tr(e,"menu",{menu:!0}),{ref:n},s),r)},Q9e=Z9e,eUe=function(e,r){var n=e.maxHeight,s=e.theme.spacing.baseUnit;return Be({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},tUe=function(e){var r=e.children,n=e.innerProps,s=e.innerRef,o=e.isMulti;return Le("div",ze({},tr(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:s},n),r)},sG=function(e,r){var n=e.theme,s=n.spacing.baseUnit,o=n.colors;return Be({textAlign:"center"},r?{}:{color:o.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},rUe=sG,nUe=sG,aUe=function(e){var r=e.children,n=r===void 0?"No options":r,s=e.innerProps,o=ao(e,G9e);return Le("div",ze({},tr(Be(Be({},o),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},sUe=function(e){var r=e.children,n=r===void 0?"Loading...":r,s=e.innerProps,o=ao(e,H9e);return Le("div",ze({},tr(Be(Be({},o),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},oUe=function(e){var r=e.rect,n=e.offset,s=e.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},iUe=function(e){var r=e.appendTo,n=e.children,s=e.controlElement,o=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=j.useRef(null),u=j.useRef(null),d=j.useState(nG(i)),m=$s(d,2),f=m[0],p=m[1],h=j.useMemo(function(){return{setPortalPlacement:p}},[]),y=j.useState(null),b=$s(y,2),g=b[0],x=b[1],v=j.useCallback(function(){if(s){var C=_9e(s),A=l==="fixed"?0:window.pageYOffset,T=C[f]+A;(T!==(g==null?void 0:g.offset)||C.left!==(g==null?void 0:g.rect.left)||C.width!==(g==null?void 0:g.rect.width))&&x({offset:T,rect:C})}},[s,l,f,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);hT(function(){v()},[v]);var w=j.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&c.current&&(u.current=D9e(s,c.current,v,{elementResize:"ResizeObserver"in window}))},[s,v]);hT(function(){w()},[w]);var N=j.useCallback(function(C){c.current=C,w()},[w]);if(!r&&l!=="fixed"||!g)return null;var S=Le("div",ze({ref:N},tr(Be(Be({},e),{},{offset:g.offset,position:l,rect:g.rect}),"menuPortal",{"menu-portal":!0}),o),n);return Le(aG.Provider,{value:h},r?qv.createPortal(S,r):S)},lUe=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},cUe=function(e){var r=e.children,n=e.innerProps,s=e.isDisabled,o=e.isRtl;return Le("div",ze({},tr(e,"container",{"--is-disabled":s,"--is-rtl":o}),n),r)},uUe=function(e,r){var n=e.theme.spacing,s=e.isMulti,o=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Be({alignItems:"center",display:s&&o&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},dUe=function(e){var r=e.children,n=e.innerProps,s=e.isMulti,o=e.hasValue;return Le("div",ze({},tr(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":o}),n),r)},mUe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},fUe=function(e){var r=e.children,n=e.innerProps;return Le("div",ze({},tr(e,"indicatorsContainer",{indicators:!0}),n),r)},t4,pUe=["size"],hUe=["innerProps","isRtl","size"],gUe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},oG=function(e){var r=e.size,n=ao(e,pUe);return Le("svg",ze({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:gUe},n))},oD=function(e){return Le(oG,ze({size:20},e),Le("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},iG=function(e){return Le(oG,ze({size:20},e),Le("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},lG=function(e,r){var n=e.isFocused,s=e.theme,o=s.spacing.baseUnit,i=s.colors;return Be({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:o*2,":hover":{color:n?i.neutral80:i.neutral40}})},yUe=lG,xUe=function(e){var r=e.children,n=e.innerProps;return Le("div",ze({},tr(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Le(iG,null))},bUe=lG,vUe=function(e){var r=e.children,n=e.innerProps;return Le("div",ze({},tr(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Le(oD,null))},jUe=function(e,r){var n=e.isDisabled,s=e.theme,o=s.spacing.baseUnit,i=s.colors;return Be({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:o*2,marginTop:o*2})},NUe=function(e){var r=e.innerProps;return Le("span",ze({},r,tr(e,"indicatorSeparator",{"indicator-separator":!0})))},wUe=g9e(t4||(t4=y9e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),CUe=function(e,r){var n=e.isFocused,s=e.size,o=e.theme,i=o.colors,l=o.spacing.baseUnit;return Be({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},hC=function(e){var r=e.delay,n=e.offset;return Le("span",{css:rD({animation:"".concat(wUe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},SUe=function(e){var r=e.innerProps,n=e.isRtl,s=e.size,o=s===void 0?4:s,i=ao(e,hUe);return Le("div",ze({},tr(Be(Be({},i),{},{innerProps:r,isRtl:n,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Le(hC,{delay:0,offset:n}),Le(hC,{delay:160,offset:!0}),Le(hC,{delay:320,offset:!n}))},AUe=function(e,r){var n=e.isDisabled,s=e.isFocused,o=e.theme,i=o.colors,l=o.borderRadius,c=o.spacing;return Be({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:s?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:s?i.primary:i.neutral30}})},IUe=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,o=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Le("div",ze({ref:o},tr(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},TUe=IUe,PUe=["data"],kUe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},EUe=function(e){var r=e.children,n=e.cx,s=e.getStyles,o=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,m=e.selectProps;return Le("div",ze({},tr(e,"group",{group:!0}),c),Le(i,ze({},l,{selectProps:m,theme:d,getStyles:s,getClassNames:o,cx:n}),u),Le("div",null,r))},DUe=function(e,r){var n=e.theme,s=n.colors,o=n.spacing;return Be({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},OUe=function(e){var r=eG(e);r.data;var n=ao(r,PUe);return Le("div",ze({},tr(e,"groupHeading",{"group-heading":!0}),n))},$Ue=EUe,RUe=["innerRef","isDisabled","isHidden","inputClassName"],LUe=function(e,r){var n=e.isDisabled,s=e.value,o=e.theme,i=o.spacing,l=o.colors;return Be(Be({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},FUe),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},cG={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},FUe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Be({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},cG)},MUe=function(e){return Be({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},cG)},_Ue=function(e){var r=e.cx,n=e.value,s=eG(e),o=s.innerRef,i=s.isDisabled,l=s.isHidden,c=s.inputClassName,u=ao(s,RUe);return Le("div",ze({},tr(e,"input",{"input-container":!0}),{"data-value":n||""}),Le("input",ze({className:r({input:!0},c),ref:o,style:MUe(l),disabled:i},u)))},BUe=_Ue,qUe=function(e,r){var n=e.theme,s=n.spacing,o=n.borderRadius,i=n.colors;return Be({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:o/2,margin:s.baseUnit/2})},VUe=function(e,r){var n=e.theme,s=n.borderRadius,o=n.colors,i=e.cropWithEllipsis;return Be({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},UUe=function(e,r){var n=e.theme,s=n.spacing,o=n.borderRadius,i=n.colors,l=e.isFocused;return Be({alignItems:"center",display:"flex"},r?{}:{borderRadius:o/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},uG=function(e){var r=e.children,n=e.innerProps;return Le("div",n,r)},zUe=uG,WUe=uG;function GUe(t){var e=t.children,r=t.innerProps;return Le("div",ze({role:"button"},r),e||Le(oD,{size:14}))}var HUe=function(e){var r=e.children,n=e.components,s=e.data,o=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,m=n.Remove;return Le(u,{data:s,innerProps:Be(Be({},tr(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),o),selectProps:c},Le(d,{data:s,innerProps:Be({},tr(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Le(m,{data:s,innerProps:Be(Be({},tr(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},YUe=HUe,KUe=function(e,r){var n=e.isDisabled,s=e.isFocused,o=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Be({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:o?c.primary:s?c.primary25:"transparent",color:n?c.neutral20:o?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:o?c.primary:c.primary50}})},JUe=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,o=e.isSelected,i=e.innerRef,l=e.innerProps;return Le("div",ze({},tr(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":o}),{ref:i,"aria-disabled":n},l),r)},XUe=JUe,ZUe=function(e,r){var n=e.theme,s=n.spacing,o=n.colors;return Be({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:o.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},QUe=function(e){var r=e.children,n=e.innerProps;return Le("div",ze({},tr(e,"placeholder",{placeholder:!0}),n),r)},e7e=QUe,t7e=function(e,r){var n=e.isDisabled,s=e.theme,o=s.spacing,i=s.colors;return Be({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},r7e=function(e){var r=e.children,n=e.isDisabled,s=e.innerProps;return Le("div",ze({},tr(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},n7e=r7e,a7e={ClearIndicator:vUe,Control:TUe,DropdownIndicator:xUe,DownChevron:iG,CrossIcon:oD,Group:$Ue,GroupHeading:OUe,IndicatorsContainer:fUe,IndicatorSeparator:NUe,Input:BUe,LoadingIndicator:SUe,Menu:Q9e,MenuList:tUe,MenuPortal:iUe,LoadingMessage:sUe,NoOptionsMessage:aUe,MultiValue:YUe,MultiValueContainer:zUe,MultiValueLabel:WUe,MultiValueRemove:GUe,Option:XUe,Placeholder:e7e,SelectContainer:cUe,SingleValue:n7e,ValueContainer:dUe},s7e=function(e){return Be(Be({},a7e),e.components)},r4=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function o7e(t,e){return!!(t===e||r4(t)&&r4(e))}function i7e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!o7e(t[r],e[r]))return!1;return!0}function l7e(t,e){e===void 0&&(e=i7e);var r=null;function n(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(r&&r.lastThis===this&&e(s,r.lastArgs))return r.lastResult;var i=t.apply(this,s);return r={lastResult:i,lastArgs:s,lastThis:this},i}return n.clear=function(){r=null},n}var c7e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},u7e=function(e){return Le("span",ze({css:c7e},e))},n4=u7e,d7e={guidance:function(e){var r=e.isSearchable,n=e.isMulti,s=e.tabSelectsValue,o=e.context,i=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,s=n===void 0?"":n,o=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return i?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,s=e.options,o=e.label,i=o===void 0?"":o,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,m=function(y,b){return y&&y.length?"".concat(y.indexOf(b)+1," of ").concat(y.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(m(l,n),".");if(r==="menu"&&d){var f=c?" disabled":"",p="".concat(u?" selected":"").concat(f);return"".concat(i).concat(p,", ").concat(m(s,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},m7e=function(e){var r=e.ariaSelection,n=e.focusedOption,s=e.focusedValue,o=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,m=c.ariaLiveMessages,f=c.getOptionLabel,p=c.inputValue,h=c.isMulti,y=c.isOptionDisabled,b=c.isSearchable,g=c.menuIsOpen,x=c.options,v=c.screenReaderStatus,w=c.tabSelectsValue,N=c.isLoading,S=c["aria-label"],C=c["aria-live"],A=j.useMemo(function(){return Be(Be({},d7e),m||{})},[m]),T=j.useMemo(function(){var E="";if(r&&A.onChange){var R=r.option,U=r.options,B=r.removedValue,P=r.removedValues,O=r.value,V=function(Z){return Array.isArray(Z)?null:Z},_=B||R||V(O),H=_?f(_):"",G=U||P||void 0,re=G?G.map(f):[],ie=Be({isDisabled:_&&y(_,l),label:H,labels:re},r);E=A.onChange(ie)}return E},[r,A,y,l,f]),I=j.useMemo(function(){var E="",R=n||s,U=!!(n&&l&&l.includes(n));if(R&&A.onFocus){var B={focused:R,label:f(R),isDisabled:y(R,l),isSelected:U,options:o,context:R===n?"menu":"value",selectValue:l,isAppleDevice:d};E=A.onFocus(B)}return E},[n,s,f,y,A,o,l,d]),k=j.useMemo(function(){var E="";if(g&&x.length&&!N&&A.onFilter){var R=v({count:o.length});E=A.onFilter({inputValue:p,resultsMessage:R})}return E},[o,p,g,A,x,v,N]),$=(r==null?void 0:r.action)==="initial-input-focus",L=j.useMemo(function(){var E="";if(A.guidance){var R=s?"value":g?"menu":"input";E=A.guidance({"aria-label":S,context:R,isDisabled:n&&y(n,l),isMulti:h,isSearchable:b,tabSelectsValue:w,isInitialFocus:$})}return E},[S,n,s,h,y,b,g,A,l,w,$]),q=Le(j.Fragment,null,Le("span",{id:"aria-selection"},T),Le("span",{id:"aria-focused"},I),Le("span",{id:"aria-results"},k),Le("span",{id:"aria-guidance"},L));return Le(j.Fragment,null,Le(n4,{id:u},$&&q),Le(n4,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!$&&q))},f7e=m7e,gT=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],p7e=new RegExp("["+gT.map(function(t){return t.letters}).join("")+"]","g"),dG={};for(var gC=0;gC<gT.length;gC++)for(var yC=gT[gC],xC=0;xC<yC.letters.length;xC++)dG[yC.letters[xC]]=yC.base;var mG=function(e){return e.replace(p7e,function(r){return dG[r]})},h7e=l7e(mG),a4=function(e){return e.replace(/^\s+|\s+$/g,"")},g7e=function(e){return"".concat(e.label," ").concat(e.value)},y7e=function(e){return function(r,n){if(r.data.__isNew__)return!0;var s=Be({ignoreCase:!0,ignoreAccents:!0,stringify:g7e,trim:!0,matchFrom:"any"},e),o=s.ignoreCase,i=s.ignoreAccents,l=s.stringify,c=s.trim,u=s.matchFrom,d=c?a4(n):n,m=c?a4(l(r)):l(r);return o&&(d=d.toLowerCase(),m=m.toLowerCase()),i&&(d=h7e(d),m=mG(m)),u==="start"?m.substr(0,d.length)===d:m.indexOf(d)>-1}},x7e=["innerRef"];function b7e(t){var e=t.innerRef,r=ao(t,x7e),n=W9e(r,"onExited","in","enter","exit","appear");return Le("input",ze({ref:e},n,{css:rD({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var v7e=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function j7e(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,s=t.onTopArrive,o=t.onTopLeave,i=j.useRef(!1),l=j.useRef(!1),c=j.useRef(0),u=j.useRef(null),d=j.useCallback(function(b,g){if(u.current!==null){var x=u.current,v=x.scrollTop,w=x.scrollHeight,N=x.clientHeight,S=u.current,C=g>0,A=w-N-v,T=!1;A>g&&i.current&&(n&&n(b),i.current=!1),C&&l.current&&(o&&o(b),l.current=!1),C&&g>A?(r&&!i.current&&r(b),S.scrollTop=w,T=!0,i.current=!0):!C&&-g>v&&(s&&!l.current&&s(b),S.scrollTop=0,T=!0,l.current=!0),T&&v7e(b)}},[r,n,s,o]),m=j.useCallback(function(b){d(b,b.deltaY)},[d]),f=j.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),p=j.useCallback(function(b){var g=c.current-b.changedTouches[0].clientY;d(b,g)},[d]),h=j.useCallback(function(b){if(b){var g=V9e?{passive:!1}:!1;b.addEventListener("wheel",m,g),b.addEventListener("touchstart",f,g),b.addEventListener("touchmove",p,g)}},[p,f,m]),y=j.useCallback(function(b){b&&(b.removeEventListener("wheel",m,!1),b.removeEventListener("touchstart",f,!1),b.removeEventListener("touchmove",p,!1))},[p,f,m]);return j.useEffect(function(){if(e){var b=u.current;return h(b),function(){y(b)}}},[e,h,y]),function(b){u.current=b}}var s4=["boxSizing","height","overflow","paddingRight","position"],o4={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function i4(t){t.cancelable&&t.preventDefault()}function l4(t){t.stopPropagation()}function c4(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function u4(){return"ontouchstart"in window||navigator.maxTouchPoints}var d4=!!(typeof window<"u"&&window.document&&window.document.createElement),Xd=0,ic={capture:!1,passive:!1};function N7e(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,s=j.useRef({}),o=j.useRef(null),i=j.useCallback(function(c){if(d4){var u=document.body,d=u&&u.style;if(n&&s4.forEach(function(h){var y=d&&d[h];s.current[h]=y}),n&&Xd<1){var m=parseInt(s.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,p=window.innerWidth-f+m||0;Object.keys(o4).forEach(function(h){var y=o4[h];d&&(d[h]=y)}),d&&(d.paddingRight="".concat(p,"px"))}u&&u4()&&(u.addEventListener("touchmove",i4,ic),c&&(c.addEventListener("touchstart",c4,ic),c.addEventListener("touchmove",l4,ic))),Xd+=1}},[n]),l=j.useCallback(function(c){if(d4){var u=document.body,d=u&&u.style;Xd=Math.max(Xd-1,0),n&&Xd<1&&s4.forEach(function(m){var f=s.current[m];d&&(d[m]=f)}),u&&u4()&&(u.removeEventListener("touchmove",i4,ic),c&&(c.removeEventListener("touchstart",c4,ic),c.removeEventListener("touchmove",l4,ic)))}},[n]);return j.useEffect(function(){if(e){var c=o.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){o.current=c}}var w7e=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},C7e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function S7e(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,s=n===void 0?!0:n,o=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=j7e({isEnabled:s,onBottomArrive:o,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=N7e({isEnabled:r}),m=function(p){u(p),d(p)};return Le(j.Fragment,null,r&&Le("div",{onClick:w7e,css:C7e}),e(m))}var A7e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},I7e=function(e){var r=e.name,n=e.onFocus;return Le("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:A7e,value:"",onChange:function(){}})},T7e=I7e;function iD(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function P7e(){return iD(/^iPhone/i)}function fG(){return iD(/^Mac/i)}function k7e(){return iD(/^iPad/i)||fG()&&navigator.maxTouchPoints>1}function E7e(){return P7e()||k7e()}function D7e(){return fG()||E7e()}var O7e=function(e){return e.label},$7e=function(e){return e.label},R7e=function(e){return e.value},L7e=function(e){return!!e.isDisabled},F7e={clearIndicator:bUe,container:lUe,control:AUe,dropdownIndicator:yUe,group:kUe,groupHeading:DUe,indicatorsContainer:mUe,indicatorSeparator:jUe,input:LUe,loadingIndicator:CUe,loadingMessage:nUe,menu:J9e,menuList:eUe,menuPortal:oUe,multiValue:qUe,multiValueLabel:VUe,multiValueRemove:UUe,noOptionsMessage:rUe,option:KUe,placeholder:ZUe,singleValue:t7e,valueContainer:uUe},M7e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},_7e=4,pG=4,B7e=38,q7e=pG*2,V7e={baseUnit:pG,controlHeight:B7e,menuGutter:q7e},bC={borderRadius:_7e,colors:M7e,spacing:V7e},U7e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:e4(),captureMenuScroll:!e4(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:y7e(),formatGroupLabel:O7e,getOptionLabel:$7e,getOptionValue:R7e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:L7e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!B9e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function m4(t,e,r,n){var s=yG(t,e,r),o=xG(t,e,r),i=gG(t,e),l=wv(t,e);return{type:"option",data:e,isDisabled:s,isSelected:o,label:i,value:l,index:n}}function wx(t,e){return t.options.map(function(r,n){if("options"in r){var s=r.options.map(function(i,l){return m4(t,i,e,l)}).filter(function(i){return p4(t,i)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var o=m4(t,r,e,n);return p4(t,o)?o:void 0}).filter(U9e)}function hG(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,XE(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function f4(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,XE(n.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function z7e(t,e){return hG(wx(t,e))}function p4(t,e){var r=t.inputValue,n=r===void 0?"":r,s=e.data,o=e.isSelected,i=e.label,l=e.value;return(!vG(t)||!o)&&bG(t,{label:i,value:l,data:s},n)}function W7e(t,e){var r=t.focusedValue,n=t.selectValue,s=n.indexOf(r);if(s>-1){var o=e.indexOf(r);if(o>-1)return r;if(s<e.length)return e[s]}return null}function G7e(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var vC=function(e,r){var n,s=(n=e.find(function(o){return o.data===r}))===null||n===void 0?void 0:n.id;return s||null},gG=function(e,r){return e.getOptionLabel(r)},wv=function(e,r){return e.getOptionValue(r)};function yG(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function xG(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=wv(t,e);return r.some(function(s){return wv(t,s)===n})}function bG(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var vG=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},H7e=1,jG=function(t){yVe(r,t);var e=bVe(r);function r(n){var s;if(hVe(this,r),s=e.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,u){var d=s.props,m=d.onChange,f=d.name;u.name=f,s.ariaOnChange(c,u),m(c,u)},s.setValue=function(c,u,d){var m=s.props,f=m.closeMenuOnSelect,p=m.isMulti,h=m.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:h}),f&&(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:u,option:d})},s.selectOption=function(c){var u=s.props,d=u.blurInputOnSelect,m=u.isMulti,f=u.name,p=s.state.selectValue,h=m&&s.isOptionSelected(c,p),y=s.isOptionDisabled(c,p);if(h){var b=s.getOptionValue(c);s.setValue(p.filter(function(g){return s.getOptionValue(g)!==b}),"deselect-option",c)}else if(!y)m?s.setValue([].concat(XE(p),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:f});return}d&&s.blurInput()},s.removeValue=function(c){var u=s.props.isMulti,d=s.state.selectValue,m=s.getOptionValue(c),f=d.filter(function(h){return s.getOptionValue(h)!==m}),p=Qh(u,f,f[0]||null);s.onChange(p,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(Qh(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,u=s.state.selectValue,d=u[u.length-1],m=u.slice(0,u.length-1),f=Qh(c,m,m[0]||null);d&&s.onChange(f,{action:"pop-value",removedValue:d})},s.getFocusedOptionId=function(c){return vC(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return f4(wx(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return R9e.apply(void 0,[s.props.classNamePrefix].concat(u))},s.getOptionLabel=function(c){return gG(s.props,c)},s.getOptionValue=function(c){return wv(s.props,c)},s.getStyles=function(c,u){var d=s.props.unstyled,m=F7e[c](u,d);m.boxSizing="border-box";var f=s.props.styles[c];return f?f(m,u):m},s.getClassNames=function(c,u){var d,m;return(d=(m=s.props.classNames)[c])===null||d===void 0?void 0:d.call(m,u)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return s7e(s.props)},s.buildCategorizedOptions=function(){return wx(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return hG(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,u){s.setState({ariaSelection:Be({value:c},u)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():u&&s.openMenu("first"):(u&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var u=s.props,d=u.isMulti,m=u.menuIsOpen;s.focusInput(),m?(s.setState({inputIsHiddenAfterUpdate:!d}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&pw(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(s.initialTouchX=d.clientX,s.initialTouchY=d.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var m=Math.abs(d.clientX-s.initialTouchX),f=Math.abs(d.clientY-s.initialTouchY),p=5;s.userIsDragging=m>p||f>p}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var u=s.props.inputValue,d=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(d,{action:"input-change",prevInputValue:u}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var u=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:u}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var u=s.getFocusableOptions(),d=u.indexOf(c);s.setState({focusedOption:c,focusedOptionId:d>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return vG(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var u=s.props,d=u.isMulti,m=u.backspaceRemovesValue,f=u.escapeClearsValue,p=u.inputValue,h=u.isClearable,y=u.isDisabled,b=u.menuIsOpen,g=u.onKeyDown,x=u.tabSelectsValue,v=u.openMenuOnFocus,w=s.state,N=w.focusedOption,S=w.focusedValue,C=w.selectValue;if(!y&&!(typeof g=="function"&&(g(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||p)return;s.focusValue("previous");break;case"ArrowRight":if(!d||p)return;s.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(S)s.removeValue(S);else{if(!m)return;d?s.popValue():h&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!b||!x||!N||v&&s.isOptionSelected(N,C))return;s.selectOption(N);break;case"Enter":if(c.keyCode===229)break;if(b){if(!N||s.isComposing)return;s.selectOption(N);break}return;case"Escape":b?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:p}),s.onMenuClose()):h&&f&&s.clearValue();break;case" ":if(p)return;if(!b){s.openMenu("first");break}if(!N)return;s.selectOption(N);break;case"ArrowUp":b?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":b?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!b)return;s.focusOption("pageup");break;case"PageDown":if(!b)return;s.focusOption("pagedown");break;case"Home":if(!b)return;s.focusOption("first");break;case"End":if(!b)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++H7e),s.state.selectValue=Z_(n.value),n.menuIsOpen&&s.state.selectValue.length){var o=s.getFocusableOptionsWithIds(),i=s.buildFocusableOptions(),l=i.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=o,s.state.focusedOption=i[l],s.state.focusedOptionId=vC(o,i[l])}return s}return gVe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Q_(this.menuListRef,this.focusedOptionRef),D7e()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var o=this.props,i=o.isDisabled,l=o.menuIsOpen,c=this.state.isFocused;(c&&!i&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&i&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Q_(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,o){this.props.onInputChange(s,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var o=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=s==="first"?0:u.length-1;if(!this.props.isMulti){var m=u.indexOf(l[0]);m>-1&&(d=m)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(s){var o=this.state,i=o.selectValue,l=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(s){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),s==="up"?c=u>0?u-1:l.length-1:s==="down"?c=(u+1)%l.length:s==="pageup"?(c=u-o,c<0&&(c=0)):s==="pagedown"?(c=u+o,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(bC):Be(Be({},bC),this.props.theme):bC}},{key:"getCommonProps",value:function(){var s=this.clearValue,o=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,m=this.props,f=m.isMulti,p=m.isRtl,h=m.options,y=this.hasValue();return{clearValue:s,cx:o,getStyles:i,getClassNames:l,getValue:c,hasValue:y,isMulti:f,isRtl:p,options:h,selectOption:u,selectProps:m,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,o=s.isClearable,i=s.isMulti;return o===void 0?i:o}},{key:"isOptionDisabled",value:function(s,o){return yG(this.props,s,o)}},{key:"isOptionSelected",value:function(s,o){return xG(this.props,s,o)}},{key:"filterOption",value:function(s,o){return bG(this.props,s,o)}},{key:"formatOptionLabel",value:function(s,o){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:o,inputValue:i,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,o=s.isDisabled,i=s.isSearchable,l=s.inputId,c=s.inputValue,u=s.tabIndex,d=s.form,m=s.menuIsOpen,f=s.required,p=this.getComponents(),h=p.Input,y=this.state,b=y.inputIsHidden,g=y.ariaSelection,x=this.commonProps,v=l||this.getElementId("input"),w=Be(Be(Be({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?j.createElement(h,ze({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:o,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},w)):j.createElement(b7e,ze({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:jv,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:d,value:""},w))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,o=this.getComponents(),i=o.MultiValue,l=o.MultiValueContainer,c=o.MultiValueLabel,u=o.MultiValueRemove,d=o.SingleValue,m=o.Placeholder,f=this.commonProps,p=this.props,h=p.controlShouldRenderValue,y=p.isDisabled,b=p.isMulti,g=p.inputValue,x=p.placeholder,v=this.state,w=v.selectValue,N=v.focusedValue,S=v.isFocused;if(!this.hasValue()||!h)return g?null:j.createElement(m,ze({},f,{key:"placeholder",isDisabled:y,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),x);if(b)return w.map(function(A,T){var I=A===N,k="".concat(s.getOptionLabel(A),"-").concat(s.getOptionValue(A));return j.createElement(i,ze({},f,{components:{Container:l,Label:c,Remove:u},isFocused:I,isDisabled:y,key:k,index:T,removeProps:{onClick:function(){return s.removeValue(A)},onTouchEnd:function(){return s.removeValue(A)},onMouseDown:function(L){L.preventDefault()}},data:A}),s.formatOptionLabel(A,"value"))});if(g)return null;var C=w[0];return j.createElement(d,ze({},f,{data:C,isDisabled:y}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),o=s.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!o||c||!this.hasValue()||u)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return j.createElement(o,ze({},i,{innerProps:m,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),o=s.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!o||!u)return null;var m={"aria-hidden":"true"};return j.createElement(o,ze({},i,{innerProps:m,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator,i=s.IndicatorSeparator;if(!o||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return j.createElement(i,ze({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator;if(!o)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return j.createElement(o,ze({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,o=this.getComponents(),i=o.Group,l=o.GroupHeading,c=o.Menu,u=o.MenuList,d=o.MenuPortal,m=o.LoadingMessage,f=o.NoOptionsMessage,p=o.Option,h=this.commonProps,y=this.state.focusedOption,b=this.props,g=b.captureMenuScroll,x=b.inputValue,v=b.isLoading,w=b.loadingMessage,N=b.minMenuHeight,S=b.maxMenuHeight,C=b.menuIsOpen,A=b.menuPlacement,T=b.menuPosition,I=b.menuPortalTarget,k=b.menuShouldBlockScroll,$=b.menuShouldScrollIntoView,L=b.noOptionsMessage,q=b.onMenuScrollToTop,E=b.onMenuScrollToBottom;if(!C)return null;var R=function(H,G){var re=H.type,ie=H.data,te=H.isDisabled,Z=H.isSelected,z=H.label,W=H.value,X=y===ie,F=te?void 0:function(){return s.onOptionHover(ie)},J=te?void 0:function(){return s.selectOption(ie)},ne="".concat(s.getElementId("option"),"-").concat(G),ue={id:ne,onClick:J,onMouseMove:F,onMouseOver:F,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:Z};return j.createElement(p,ze({},h,{innerProps:ue,data:ie,isDisabled:te,isSelected:Z,key:ne,label:z,type:re,value:W,isFocused:X,innerRef:X?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(H.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(_){if(_.type==="group"){var H=_.data,G=_.options,re=_.index,ie="".concat(s.getElementId("group"),"-").concat(re),te="".concat(ie,"-heading");return j.createElement(i,ze({},h,{key:ie,data:H,options:G,Heading:l,headingProps:{id:te,data:_.data},label:s.formatGroupLabel(_.data)}),_.options.map(function(Z){return R(Z,"".concat(re,"-").concat(Z.index))}))}else if(_.type==="option")return R(_,"".concat(_.index))});else if(v){var B=w({inputValue:x});if(B===null)return null;U=j.createElement(m,h,B)}else{var P=L({inputValue:x});if(P===null)return null;U=j.createElement(f,h,P)}var O={minMenuHeight:N,maxMenuHeight:S,menuPlacement:A,menuPosition:T,menuShouldScrollIntoView:$},V=j.createElement(X9e,ze({},h,O),function(_){var H=_.ref,G=_.placerProps,re=G.placement,ie=G.maxHeight;return j.createElement(c,ze({},h,O,{innerRef:H,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:v,placement:re}),j.createElement(S7e,{captureEnabled:g,onTopArrive:q,onBottomArrive:E,lockEnabled:k},function(te){return j.createElement(u,ze({},h,{innerRef:function(z){s.getMenuListRef(z),te(z)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:s.getElementId("listbox")},isLoading:v,maxHeight:ie,focusedOption:y}),U)}))});return I||T==="fixed"?j.createElement(d,ze({},h,{appendTo:I,controlElement:this.controlRef,menuPlacement:A,menuPosition:T}),V):V}},{key:"renderFormField",value:function(){var s=this,o=this.props,i=o.delimiter,l=o.isDisabled,c=o.isMulti,u=o.name,d=o.required,m=this.state.selectValue;if(d&&!this.hasValue()&&!l)return j.createElement(T7e,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var f=m.map(function(y){return s.getOptionValue(y)}).join(i);return j.createElement("input",{name:u,type:"hidden",value:f})}else{var p=m.length>0?m.map(function(y,b){return j.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:s.getOptionValue(y)})}):j.createElement("input",{name:u,type:"hidden",value:""});return j.createElement("div",null,p)}else{var h=m[0]?this.getOptionValue(m[0]):"";return j.createElement("input",{name:u,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,o=this.state,i=o.ariaSelection,l=o.focusedOption,c=o.focusedValue,u=o.isFocused,d=o.selectValue,m=this.getFocusableOptions();return j.createElement(f7e,ze({},s,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),o=s.Control,i=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,u=this.props,d=u.className,m=u.id,f=u.isDisabled,p=u.menuIsOpen,h=this.state.isFocused,y=this.commonProps=this.getCommonProps();return j.createElement(l,ze({},y,{className:d,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:h}),this.renderLiveRegion(),j.createElement(o,ze({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:h,menuIsOpen:p}),j.createElement(c,ze({},y,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),j.createElement(i,ze({},y,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,o){var i=o.prevProps,l=o.clearFocusValueOnUpdate,c=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,d=o.isFocused,m=o.prevWasFocused,f=o.instancePrefix,p=s.options,h=s.value,y=s.menuIsOpen,b=s.inputValue,g=s.isMulti,x=Z_(h),v={};if(i&&(h!==i.value||p!==i.options||y!==i.menuIsOpen||b!==i.inputValue)){var w=y?z7e(s,x):[],N=y?f4(wx(s,x),"".concat(f,"-option")):[],S=l?W7e(o,x):null,C=G7e(o,w),A=vC(N,C);v={selectValue:x,focusedOption:C,focusedOptionId:A,focusableOptionsWithIds:N,focusedValue:S,clearFocusValueOnUpdate:!1}}var T=c!=null&&s!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},I=u,k=d&&m;return d&&!k&&(I={value:Qh(g,x,x[0]||null),options:x,action:"initial-input-focus"},k=!m),(u==null?void 0:u.action)==="initial-input-focus"&&(I=null),Be(Be(Be({},v),T),{},{prevProps:s,ariaSelection:I,prevWasFocused:k})}}]),r}(j.Component);jG.defaultProps=U7e;var Y7e=j.forwardRef(function(t,e){var r=pVe(t);return j.createElement(jG,ze({ref:e},r))}),an=Y7e;function Vm({price:t="",quantity:e="",taxRate:r=0,discountPercent:n=0,vatable:s=!1,ewtRate:o=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,m=parseFloat(o)||0,f=l*c,p=+(f*d).toFixed(2),h=f-p;let y=0,b=h;s?(y=+(h*i/(100+i)).toFixed(2),b=+(h-y).toFixed(2)):(y=0,b=h);const g=+(b*u/100*-1).toFixed(2),x=+(b*m/100*-1).toFixed(2),v=+(g+x).toFixed(2),w=+(h+v).toFixed(2);return{subtotalBeforeDiscount:f,discount:p,vat:y,subtotalTaxIncluded:s?h:+(h+y).toFixed(2),subtotalTaxExcluded:b,withheld:g,ewt:x,ewtrate:m,totalDeduction:v,subtotal:w}}function NG({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:s=[],taxCodeOptions:o=[],taxCodeFull:i=[],budgetOptions:l=[],formBudgets:c=[],initialData:u}){var h;const d=pe({ResponsibilityCenter:M().required("Required"),ChargeAccountID:M().required("Required"),Remarks:M().required("Required"),FPP:M(),Price:ae().required("Required"),Quantity:ae().required("Required"),ItemUnitID:M().required("Required")}),m=ot({initialValues:u||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:(u==null?void 0:u.TAXCodeID)||"",Vatable:(u==null?void 0:u.Vatable)||!1,withheldEWT:(u==null?void 0:u.EWTRate)||0,DiscountRate:(u==null?void 0:u.DiscountRate)||0,subtotal:(u==null?void 0:u.subtotal)||0},validationSchema:d,onSubmit:y=>{let b=y.TAXCodeID;if(!b&&i.length>0){const w=i.find(N=>parseFloat(N.Rate)===0);b=w?w.ID:i[0].ID}const g=i.find(w=>String(w.ID)===String(b));console.log("selectedTax",y);const x=r.find(w=>String(w.value)===String(y.ResponsibilityCenter)),v=l.find(w=>String(w.value)===String(y.ChargeAccountID));t({...y,TAXCodeID:b,responsibilityCenterName:x?x.label:"",chargeAccountName:v?v.label:"",itemName:y.Remarks,TaxName:g==null?void 0:g.Name,TaxRate:g==null?void 0:g.Rate}),e()}}),f=j.useRef({...m.values});j.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(x=>m.values[x]!==f.current[x]))return;f.current={...m.values};const b=i.find(x=>String(x.ID)===String(m.values.TAXCodeID)),g=Vm({price:m.values.Price,quantity:m.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,discountPercent:m.values.DiscountRate,vatable:m.values.Vatable,ewtRate:0});g.subtotal!==m.values.subtotal&&m.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==m.values.withheldEWT&&m.setFieldValue("withheldEWT",g.withheld,!1)},[m.values.Price,m.values.Quantity,m.values.DiscountRate,m.values.TAXCodeID,m.values.Vatable,m.values.withheldEWT,i]),(h=i.find(y=>String(y.ID)===String(m.values.TAXCodeID)))==null||h.Rate;const p=j.useMemo(()=>m.values.ResponsibilityCenter?c&&c.length>0?c.filter(y=>String(y.DepartmentID)===String(m.values.ResponsibilityCenter)).map(y=>({value:y.ID,label:y.Name})):l:[],[m.values.ResponsibilityCenter,c,l]);return j.useEffect(()=>{m.values.ChargeAccountID&&p.length>0&&(p.some(b=>String(b.value)===String(m.values.ChargeAccountID))||m.setFieldValue("ChargeAccountID",""))},[p,m.values.ChargeAccountID]),console.log("selectedTax",i),a.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(D,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...m.getFieldProps("ResponsibilityCenter"),required:!0}),m.touched.ResponsibilityCenter&&m.errors.ResponsibilityCenter&&a.jsx("p",{className:"text-red-500 text-sm",children:m.errors.ResponsibilityCenter})]}),a.jsxs("div",{children:[a.jsx(D,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:p,...m.getFieldProps("ChargeAccountID"),required:!0}),m.touched.ChargeAccountID&&m.errors.ChargeAccountID&&a.jsx("p",{className:"text-red-500 text-sm",children:m.errors.ChargeAccountID})]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("div",{children:[a.jsx(D,{type:"textarea",label:"Particulars",name:"Remarks",...m.getFieldProps("Remarks"),required:!0,rows:3}),m.touched.Remarks&&m.errors.Remarks&&a.jsx("p",{className:"text-red-500 text-sm",children:m.errors.Remarks})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(D,{type:"text",label:"Item Price",name:"Price",value:jn(m.values.Price),onChange:y=>{const b=y.target.value.replace(/[^0-9.]/g,"");m.setFieldValue("Price",b)},onBlur:m.handleBlur,required:!0}),m.touched.Price&&m.errors.Price&&a.jsx("p",{className:"text-red-500 text-sm",children:m.errors.Price})]}),a.jsxs("div",{children:[a.jsx(D,{type:"text",label:"Quantity",name:"Quantity",value:jn(m.values.Quantity),onChange:y=>{const b=y.target.value.replace(/[^0-9.]/g,"");m.setFieldValue("Quantity",b)},onBlur:m.handleBlur,required:!0}),m.touched.Quantity&&m.errors.Quantity&&a.jsx("p",{className:"text-red-500 text-sm",children:m.errors.Quantity})]}),a.jsxs("div",{children:[a.jsx(D,{type:"select",label:"Unit",name:"ItemUnitID",options:s,...m.getFieldProps("ItemUnitID"),required:!0}),m.touched.ItemUnitID&&m.errors.ItemUnitID&&a.jsx("p",{className:"text-red-500 text-sm",children:m.errors.ItemUnitID})]})]}),a.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",fe(m.values.subtotal)]}),a.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const wG="http://192.168.1.215:5001",K7e={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},Ko=K("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${wG}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),jC=K("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const o=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);o?r(o):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Cx=K("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${wG}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Sx=K("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),CG=Ce({name:"obligationRequests",initialState:K7e,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(Ko.pending,e=>{e.isLoading=!0}).addCase(Ko.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(Ko.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jC.pending,e=>{e.isLoading=!0}).addCase(jC.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(jC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cx.pending,e=>{e.isLoading=!0}).addCase(Cx.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(Cx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sx.pending,e=>{e.isLoading=!0}).addCase(Sx.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(s=>s.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(Sx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:jKe}=CG.actions,J7e=CG.reducer,h4=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],X7e=pe().shape({obrNo:M(),obrDate:Ye().required("Date is required"),payeeType:M().required("Payee type is required"),payeeId:ae().nullable(),responsibilityCenter:M().required("Responsibility Center is required"),fund:M().required("Fund is required"),fiscalYear:M().required("Fiscal Year is required"),project:M().required("Project is required"),accountingEntries:$t().min(1,"At least one item is required")});function Z7e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:s=[],employeeData:o=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:m=[],particularsOptions:f=[],unitOptions:p=[],taxCodeOptions:h=[],budgetOptions:y=[],formBudgets:b=[],taxCodeFull:g=[]}){const x=he(),v=j.useRef(null),[w,N]=j.useState(!1),[S,C]=j.useState(null),[A,T]=j.useState(null),[I,k]=j.useState(!1),[$,L]=j.useState([]),q=(P,O)=>{const V=P.reduce((G,re)=>G+Number(re.amount||0),0),_=O.reduce((G,re)=>G+Number(re.amount||0),0),H=V-_;return{grossAmount:V,totalTaxes:_,netAmount:H}},E={description:"",amount:"",accountCode:""};console.log(t);const R={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",payeeId:(t==null?void 0:t.payeeId)||"",project:(t==null?void 0:t.ProjectID)||"",fund:(t==null?void 0:t.FundsID)||"",fiscalYear:(t==null?void 0:t.FiscalYearID)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.ResponsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[E],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.TransactionItemsAll)?t.TransactionItemsAll:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},U=P=>{N(!0),q(P.items,P.taxes);const O=new FormData;P.payeeType==="Employee"?(P.payeeId?(O.append("EmployeeID",P.payeeId),O.append("PayeeType","Employee")):(O.append("EmployeeID",""),O.append("PayeeType","NewEmployee")),O.append("VendorID",""),O.append("CustomerID","")):P.payeeType==="Vendor"?(P.payeeId?(O.append("VendorID",P.payeeId),O.append("PayeeType","Vendor")):(O.append("VendorID",""),O.append("PayeeType","NewVendor")),O.append("EmployeeID",""),O.append("CustomerID","")):P.payeeType==="Individual"&&(P.payeeId?(O.append("CustomerID",P.payeeId),O.append("PayeeType","Individual")):(O.append("CustomerID",""),O.append("PayeeType","New")),O.append("EmployeeID",""),O.append("VendorID","")),P.payeeId?(console.log("Sending EXISTING payee - ID:",P.payeeId,"Name:",(S==null?void 0:S.Name)||(S==null?void 0:S.FirstName)),O.append("Payee",(S==null?void 0:S.Name)||(S==null?void 0:S.FirstName)+" "+(S==null?void 0:S.MiddleName)+" "+(S==null?void 0:S.LastName)||""),O.append("Address",(S==null?void 0:S.StreetAddress)||"")):(console.log("Sending NEW payee - Name:",P.payeeName,"Type:",P.payeeType),O.append("Payee",P.payeeName||""),O.append("Address","N/A")),O.append("InvoiceNumber",P.obrNo),O.append("InvoiceDate",P.obrDate);let V=P.responsibilityCenter;if(P.accountingEntries&&P.accountingEntries.length>0){const Z=P.accountingEntries[0];Z.ResponsibilityCenter&&(V=Z.ResponsibilityCenter)}O.append("ResponsibilityCenter",V),O.append("DepartmentID",V),O.append("ResponsibilityCenterID",V);const _=P.accountingEntries.reduce((Z,z)=>Z+Number(z.subtotal||0),0),H=P.accountingEntries.reduce((Z,z)=>Z+Number(z.ewt||0),0),G=P.accountingEntries.reduce((Z,z)=>Z+Number(z.withheld||0),0),re=P.accountingEntries.reduce((Z,z)=>Z+Number(z.vat||0),0),ie=P.accountingEntries.reduce((Z,z)=>Z+Number(z.discount||0),0);O.append("Total",_.toFixed(2)),O.append("EWT",H.toFixed(2)),O.append("WithheldAmount",G.toFixed(2)),O.append("Vat_Total",re.toFixed(2)),O.append("Discounts",ie.toFixed(2)),O.append("FundsID",P.fund),O.append("FiscalYearID",P.fiscalYear),O.append("ProjectID",P.project),O.append("TravelID",""),O.append("Items",JSON.stringify(P.accountingEntries)),P.Attachments.forEach((Z,z)=>{Z.ID?O.append(`Attachments[${z}].ID`,Z.ID):O.append(`Attachments[${z}].File`,Z)});const te=t?Sx({formData:O,id:t.ID}):Cx(O);t?(O.append("IsNew",!1),O.append("LinkID",t.LinkID)):O.append("IsNew",!0),x(te).unwrap().then(()=>{le.success("Success"),e()}).catch(Z=>{le.error((Z==null?void 0:Z.message)||"Failed to submit")}).finally(()=>{N(!1)})},B=({type:P})=>{switch(P){case"Employee":return a.jsx(ni,{className:"w-5 h-5"});case"Vendor":return a.jsx(ej,{className:"w-5 h-5"});case"Individual":return a.jsx(Af,{className:"w-5 h-5"});default:return null}};return a.jsx("div",{children:a.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:a.jsx(He,{innerRef:v,initialValues:R,validationSchema:X7e,onSubmit:U,enableReinitialize:!0,children:({values:P,errors:O,touched:V,handleChange:_,handleBlur:H,setFieldValue:G,setFieldTouched:re,isValid:ie})=>{q(P.items,P.taxes);const Z=h4.map(F=>({value:F.value,label:F.label})).find(F=>F.value===P.payeeType),z=F=>{C(null),G("payeeType",F),G("payeeName",""),G("payeeId",""),G("payeeAddress",""),G("officeUnitProject",""),G("orsNumber","")},W=F=>{let J=null;switch(P.payeeType){case"Employee":J=o.find(ne=>ne.ID===F);break;case"Vendor":J=i.find(ne=>ne.ID===F);break;case"Individual":J=l.find(ne=>ne.ID===F);break}C(J),G("payeeName",J==null?void 0:J.Name),G("payeeId",J==null?void 0:J.ID)},X=F=>{switch(F){case"Employee":return r;case"Vendor":return n;case"Individual":return s;default:return[]}};return a.jsxs(Ze,{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:h4.map(F=>a.jsxs("button",{type:"button",onClick:()=>z(F.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${P.payeeType===F.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[a.jsx(B,{type:F.value}),a.jsx("span",{className:"ml-3 font-medium",children:F.label})]},F.value))}),O.payeeType&&V.payeeType&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),P.payeeType&&a.jsx("div",{className:"lg:col-span-1",children:a.jsx(rt,{label:`Select ${Z==null?void 0:Z.label}`,name:"payee",options:X(P.payeeType),value:P.payeeName,onSelect:F=>{const J=X(P.payeeType).find(ne=>ne.value===F);J?(G("payeeName",J.label||""),G("payeeId",J.value||""),W(J.value)):(G("payeeName",F),G("payeeId",null),C(null))},selectedValue:P.payeeId||P.payeeName,error:O.payeeId,touched:V.payeeId,required:!0})}),S&&a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),a.jsx("div",{className:"text-sm text-gray-900",children:(Z==null?void 0:Z.label)==="Employee"?`${S.FirstName||""} ${S.MiddleName||""} ${S.LastName||""}`.trim():((Z==null?void 0:Z.label)==="Vendor"||(Z==null?void 0:Z.label)==="Individual",S.Name)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),a.jsx("div",{className:"text-sm text-gray-900",children:((Z==null?void 0:Z.label)==="Employee"||(Z==null?void 0:Z.label)==="Vendor"||(Z==null?void 0:Z.label)==="Individual",S.StreetAddress)})]})]})})})})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[a.jsx(D,{type:"text",label:"OBR No.",name:"obrNo",value:P.obrNo,onChange:_,onBlur:H,error:O.obrNo,touched:V.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),a.jsx(D,{type:"date",label:"Date",name:"obrDate",value:P.obrDate,onChange:_,onBlur:H,error:O.obrDate,touched:V.obrDate,required:!0})]}),a.jsx("hr",{}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:c,value:c.find(F=>F.value===P.responsibilityCenter)||null,onChange:F=>G("responsibilityCenter",F.value),onBlur:()=>re("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),O.responsibilityCenter&&V.responsibilityCenter&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.responsibilityCenter})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:u,value:u.find(F=>F.value===P.fund)||null,onChange:F=>G("fund",F.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fund&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fund})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:m,value:m.find(F=>F.value===P.fiscalYear)||null,onChange:F=>G("fiscalYear",F.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fiscalYear&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fiscalYear})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:d,value:d.find(F=>F.value===P.project)||null,onChange:F=>G("project",F.value),className:"react-select-container",classNamePrefix:"react-select"}),O.project&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.project})]})]}),a.jsx(Lr,{name:"accountingEntries",children:({push:F,remove:J})=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Items"}),a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>k(!0),children:"+ Item"})]}),P.accountingEntries.length>0&&a.jsxs("div",{className:"space-y-2 mt-4",children:[a.jsxs("div",{className:"hidden md:grid md:grid-cols-6 gap-2 font-semibold text-sm",children:[a.jsx("span",{children:"RC"}),a.jsx("span",{children:"REMARKS"}),a.jsx("span",{children:"PARTICULARS"}),a.jsx("span",{children:"ACCOUNT CODE"}),a.jsx("span",{className:"text-right",children:"SUB-TOTAL"}),a.jsx("span",{})," "]}),P.accountingEntries.map((ne,ue)=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[a.jsxs("span",{children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["RC:"," "]}),ne.responsibilityCenterName]}),a.jsxs("span",{children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["Remarks:"," "]}),ne.Remarks]}),a.jsxs("span",{children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["Particulars:"," "]}),ne.itemName]}),a.jsxs("span",{children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["Account Code:"," "]}),ne.chargeAccountName]}),a.jsxs("span",{className:"text-right",children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["Sub-total:"," "]}),fe(ne.subtotal)]}),a.jsx("div",{className:"text-right",children:a.jsx("button",{type:"button",onClick:()=>J(ue),className:"text-red-600 text-xs hover:text-red-900",children:a.jsx(er,{className:"w-4 h-4"})})})]},ue)),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[a.jsx("div",{className:"md:col-span-5 text-right",children:"Total:"}),a.jsx("div",{className:"text-right",children:fe(P.accountingEntries.reduce((ne,ue)=>ne+Number(ue.subtotal),0))})]})]}),a.jsx(me,{isOpen:I,onClose:()=>k(!1),title:"Add Accounting Entry",size:"xl",children:a.jsx(NG,{initialData:null,responsibilityOptions:c,particularsOptions:f,unitOptions:p,taxCodeOptions:h,budgetOptions:y,formBudgets:b,taxCodeFull:g,onClose:()=>k(!1),onSubmit:ne=>{console.log("Adding entry:",ne),F(ne),k(!1)}})})]})}),O.accountingEntries&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.accountingEntries}),a.jsx("hr",{}),a.jsx(Lr,{name:"Attachments",render:({remove:F,push:J})=>{var ne;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>J({File:null}),children:"+ Attachment"})]}),(ne=P.Attachments)==null?void 0:ne.map((ue,ge)=>a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[ue.ID?a.jsxs("div",{className:"flex-1",children:[a.jsx("a",{href:`${API_URL}/uploads/${ue.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:ue.DataName}),a.jsx("input",{type:"hidden",name:`Attachments[${ge}].ID`,value:ue.ID})]}):a.jsxs("div",{className:"flex-1 min-w-[300px]",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${ge+1}`}),a.jsx("input",{type:"file",name:`Attachments[${ge}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:we=>G(`Attachments[${ge}].File`,we.currentTarget.files[0]),onBlur:H,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),a.jsx(Et,{type:"button",onClick:()=>F(ge),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:a.jsx(er,{className:"w-4 h-4"})})]},ge))]})}}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,disabled:w,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Save"})]})]})}})})})}const Q7e="http://192.168.1.215:5001",e8e={generalLedgers:[],isLoading:!1,error:null},fl=K("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Q7e}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.error||s.message||"Failed to fetch");return s}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),NC=K("generalLedger/exportGeneralLedgers",async t=>!0),SG=Ce({name:"generalLedger",initialState:e8e,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(fl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fl.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(fl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(NC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NC.fulfilled,e=>{e.isLoading=!1}).addCase(NC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:t8e}=SG.actions,r8e=SG.reducer;function n8e({or:t,onBack:e,onEdit:r}){Ll();const n=he(),[s,o]=j.useState(!1),{generalLedgers:i,isLoading:l}=ee(g=>g.generalLedger),{employees:c}=ee(g=>g.employees),{customers:u}=ee(g=>g.customers),{vendorDetails:d}=ee(g=>g.vendorDetails),{funds:m}=ee(g=>g.funds),{accounts:f}=ee(g=>g.chartOfAccounts),p=()=>{o(!0),n(fl({LinkID:t.ID,FundID:t.FundID,CutOffDate:t.InvoiceDate||new Date().toISOString().split("T")[0]}))},h=()=>{o(!1)};if(!t)return null;const y=g=>new Date(g).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),b=g=>{let x="bg-neutral-100 text-neutral-800";if(!g)return x;switch(g.toLowerCase()){case"requested":x="bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700";break;case"approved":x="bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800";break;case"posted":x="bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100";break;case"rejected":x="bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100";break;case"void":x="bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300";break;case"cancelled":x="bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800";break;case"disbursement pending":x="bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700";break;case"disbursement posted":x="bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100";break;case"cheque pending":x="bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700";break;case"cheque posted":x="bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100";break;default:x="bg-neutral-100 text-neutral-800";break}return x};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${b(t.Status)}`,children:t.Status}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:()=>r&&r(t),children:[a.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[a.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Print"]}),a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",title:"View General Ledger",onClick:p,children:[a.jsx(Cf,{className:"h-4 w-4 mr-2"}),"General Ledger"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"OBR Details"}),a.jsxs("dl",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OBR Number"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.InvoiceNumber||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.InvoiceDate?y(t.InvoiceDate):"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Responsibility Center"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.ResponsibilityCenterName||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:(()=>{const g=m.find(x=>String(x.ID)===String(t.FundsID||t.FundID));return t.FundName||(g==null?void 0:g.Name)||t.fund||t.FundsName||t.FundsID||"N/A"})()})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Project"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.ProjectName||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fiscal Year"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.FiscalYearName||"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),a.jsx("dl",{className:"space-y-2",children:(()=>{let g=t.Payee||t.payeeName||t.PayeeName||t.payee_name||t.Name||t.RecipientName,x=t.PayeeType||t.payeeType||t.payee_type,v=t.Address||t.payeeAddress||t.payee_address||t.StreetAddress;if(!g||g==="N/A"){if(t.EmployeeID){const w=c.find(N=>String(N.ID)===String(t.EmployeeID));w&&(g=`${w.FirstName} ${w.MiddleName?w.MiddleName+" ":""}${w.LastName}`,x="Employee",v=w.StreetAddress||w.Address)}else if(t.VendorID){const w=d.find(N=>String(N.ID)===String(t.VendorID));w&&(g=w.Name,x="Vendor",v=w.StreetAddress||w.Address||w.OfficeAddress)}else if(t.CustomerID){const w=u.find(N=>String(N.ID)===String(t.CustomerID));w&&(g=w.Name||`${w.FirstName} ${w.LastName}`,x="Customer/Individual",v=w.StreetAddress||w.Address)}}return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Type"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:x||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:v||"N/A"})]})]})})()})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-3",children:"Items"}),a.jsx("div",{className:"overflow-hidden border border-neutral-200 rounded-xl shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[a.jsx("thead",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"RC"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Particulars"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Account Code"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:(()=>{const g=t.TransactionItemsAll||t.Items||t.items||[];return g.length>0?g.map((x,v)=>{var w,N;return a.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors duration-200",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:((N=(w=x.ChargeAccount)==null?void 0:w.Department)==null?void 0:N.Name)||x.responsibilityCenterName||x.RC||x.ResponsibilityCenterName||x.DepartmentName||x.departmentName||t.ResponsibilityCenterName}),a.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:x.itemName||x.Remarks||x.Particulars||x.item_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600 font-mono tracking-tight",children:(()=>{var T,I,k,$;const S=f==null?void 0:f.find(L=>String(L.ID)===String(x.ChartofAccountsID||x.AccountID||x.Account_ID)),C=((I=(T=x.ChargeAccount)==null?void 0:T.ChartofAccounts)==null?void 0:I.AccountCode)||x.chargeAccountName||x.Account||x.AccountCode||(S==null?void 0:S.AccountCode),A=(($=(k=x.ChargeAccount)==null?void 0:k.ChartofAccounts)==null?void 0:$.Name)||x.AccountName||(S==null?void 0:S.Name);return C&&A?`${C} - ${A}`:C||A||"N/A"})()}),a.jsx("td",{className:"px-6 py-4 text-sm text-right text-neutral-900 font-medium tabular-nums",children:fe(x.subtotal||x.Subtotal||x.SubTotal||x.sub_total||x.amount||x.Amount||x.Debit||x.Credit||0)})]},v)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-sm text-neutral-500 italic",children:"No items found"})})})()}),(t.TransactionItemsAll||t.Items||t.items||[]).length>0&&a.jsx("tfoot",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"3",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Total"}),a.jsx("td",{className:"px-6 py-3 text-right text-sm font-bold text-neutral-900 tabular-nums",children:fe(t.Total||0)})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-5 rounded-xl bg-white border border-neutral-200 shadow-sm relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-neutral-900"})}),a.jsx("dt",{className:"text-sm font-medium text-neutral-500 uppercase tracking-wide",children:"Total Amount"}),a.jsx("dd",{className:"mt-2 text-3xl font-bold text-neutral-900 tracking-tight",children:fe(t.Total)})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-white border border-neutral-200 shadow-sm relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-neutral-900"})}),a.jsx("dt",{className:"text-sm font-medium text-neutral-500 uppercase tracking-wide",children:"Vat Total"}),a.jsx("dd",{className:"mt-2 text-3xl font-bold text-neutral-900 tracking-tight",children:fe(t.Vat_Total)})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-gradient-to-br from-success-50 to-white border border-success-200 shadow-sm relative overflow-hidden",children:[a.jsx("dt",{className:"text-sm font-medium text-success-800 uppercase tracking-wide",children:"Net Amount"}),a.jsx("dd",{className:"mt-2 text-3xl font-bold text-success-700 tracking-tight",children:fe(t.Total-(t.WithheldAmount||0))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-3",children:"Approval Workflow"}),a.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-xl shadow-sm",children:a.jsx("div",{className:"px-6 py-8",children:a.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3 space-y-8",children:[a.jsxs("li",{className:"ml-6",children:[a.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white shadow-sm",children:a.jsx(NV,{className:"w-5 h-5 text-success-600"})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start group",children:[a.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg w-full mr-4 border border-neutral-100 group-hover:border-neutral-200 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),a.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["Prepared by ",a.jsx("span",{className:"font-medium text-neutral-900",children:t.PreparedBy||"N/A"})]})]}),a.jsx("time",{className:"text-sm text-neutral-400 font-mono whitespace-nowrap mt-2 sm:mt-0",children:t.DateCreated?y(t.DateCreated):y(t.InvoiceDate)})]})]}),a.jsxs("li",{className:"ml-6",children:[a.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white shadow-sm",children:a.jsx(wf,{className:"w-5 h-5 text-warning-600"})}),a.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:a.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg w-full mr-4 border border-neutral-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),a.jsx("p",{className:"text-sm text-neutral-500 mt-1 italic",children:"Pending verification..."})]})})]}),a.jsxs("li",{className:"ml-6",children:[a.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white shadow-sm",children:a.jsx(sk,{className:"w-5 h-5 text-neutral-400"})}),a.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:a.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg w-full mr-4 border border-neutral-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),a.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Waiting for certification to proceed"})]})})]})]})})})]}),a.jsx("div",{className:"flex justify-end space-x-3 pt-6 border-t border-neutral-200",children:a.jsx("button",{type:"button",onClick:e,className:"btn btn-outline px-6",children:"Close"})}),a.jsx(me,{isOpen:s,onClose:h,title:"General Ledger Entries",size:"4xl",children:a.jsx("div",{className:"overflow-hidden border border-neutral-200 rounded-xl shadow-sm my-2",children:l?a.jsxs("div",{className:"flex justify-center items-center py-12",children:[a.jsx(wf,{className:"h-8 w-8 animate-spin text-neutral-400"}),a.jsx("span",{className:"ml-2 text-neutral-500",children:"Loading ledger data..."})]}):a.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[a.jsx("thead",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Fund"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Ledger Item"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Account Name"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Code"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Debit"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Credit"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:i&&i.length>0?i.map((g,x)=>a.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-900 font-medium",children:g.fund}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:g.ledger_item}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-900",children:g.account_name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 font-mono",children:g.account_code}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-neutral-900 font-medium tabular-nums",children:g.debit>0?fe(g.debit):"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-neutral-900 font-medium tabular-nums",children:g.credit>0?fe(g.credit):"-"})]},x)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-neutral-500",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(Cf,{className:"h-10 w-10 text-neutral-300 mb-2"}),a.jsx("p",{children:"No ledger records found for this transaction."})]})})})}),i&&i.length>0&&a.jsx("tfoot",{className:"bg-neutral-50 font-semibold text-neutral-900",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"4",className:"px-6 py-3 text-right text-xs uppercase tracking-wider text-neutral-500",children:"Total"}),a.jsx("td",{className:"px-6 py-3 text-right text-sm tabular-nums",children:fe(i.reduce((g,x)=>g+(x.debit||0),0))}),a.jsx("td",{className:"px-6 py-3 text-right text-sm tabular-nums",children:fe(i.reduce((g,x)=>g+(x.credit||0),0))})]})})]})})})]})}const lD="http://192.168.1.215:5001",rr=K("budgetFunds/fetchBudgetFunds",async()=>(await De.get("/fundTransfer/fundList")).data),Ax=K("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${lD}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return le.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),Ix=K("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${lD}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return le.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),Tx=K("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${lD}/funds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}})).json())return le.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),a8e=Ce({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rr.pending,e=>{e.loading=!0,e.error=null}).addCase(rr.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(rr.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch budget funds")}).addCase(Ax.pending,e=>{e.loading=!0,e.error=null}).addCase(Ax.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(Ax.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to create fund")}).addCase(Ix.pending,e=>{e.loading=!0,e.error=null}).addCase(Ix.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(Ix.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to update fund")}).addCase(Tx.pending,e=>{e.loading=!0,e.error=null}).addCase(Tx.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(Tx.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to delete fund")})}}),s8e=a8e.reducer,Jo=K("budget/fetchBudgets",async(t,e)=>{try{return(await De("/budget")).data.items}catch(r){return e.rejectWithValue(r.message)}}),wC=K("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),CC=K("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),SC=K("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),o8e={budgets:[],isLoading:!1,error:null},i8e=Ce({name:"budget",initialState:o8e,reducers:{},extraReducers:t=>{t.addCase(Jo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jo.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(Jo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(wC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(wC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(CC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(s=>s.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(CC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(SC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(SC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),l8e=i8e.reducer,hw=t=>{const e={Requested:{bg:"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500",text:"text-error-700",icon:""},Approved:{bg:"bg-gradient-to-r from-success-300 via-success-500 to-success-600",text:"text-neutral-800",icon:""},Posted:{bg:"bg-gradient-to-r from-success-800 via-success-900 to-success-999",text:"text-success-100",icon:""},Rejected:{bg:"bg-gradient-to-r from-error-700 via-error-800 to-error-999",text:"text-neutral-100",icon:""},Void:{bg:"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999",text:"text-neutral-300",icon:""},Cancelled:{bg:"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400",text:"text-neutral-800",icon:""},"Disbursement Pending":{bg:"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500",text:"text-error-700",icon:""},"Disbursement Posted":{bg:"bg-gradient-to-r from-success-800 via-success-900 to-success-999",text:"text-success-100",icon:""},"Disbursement Rejected":{bg:"bg-gradient-to-r from-error-700 via-error-800 to-error-999",text:"text-neutral-100",icon:""},"Cheque Pending":{bg:"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500",text:"text-error-700",icon:""},"Cheque Posted":{bg:"bg-gradient-to-r from-success-800 via-success-900 to-success-999",text:"text-success-100",icon:""},"Cheque Rejected":{bg:"bg-gradient-to-r from-error-700 via-error-800 to-error-999",text:"text-neutral-100",icon:""}};return a.jsx("div",{className:"flex gap-2 flex-wrap",children:t.split(",").map((r,n)=>{const s=r.trim(),o=e[s]||{bg:"bg-gradient-to-r from-gray-100 to-slate-100",text:"text-gray-700",border:"border-gray-300"};return a.jsx("span",{className:`inline-flex px-2 py-1 rounded ${o.bg} ${o.text} ${o.border} ${o.shadow||""} transition-all hover:scale-105`,children:s},n)})})},c8e=()=>{var d,m;const[t,e]=j.useState("self"),[r,n]=j.useState([]),[s,o]=j.useState(null);j.useEffect(()=>{Kpe(t).then(f=>{console.log("res",f),n(f.data)}).catch(()=>{le.error("Failed to load documents")})},[t]),j.useEffect(()=>{s||Jpe().then(f=>{o(f.data)}).catch(f=>{le.error("Failed to load user profile")})},[]);const{statusCounts:i,documentsList:l}=r||{},c={total:i==null?void 0:i.Total,approved:i==null?void 0:i.Approved,posted:i==null?void 0:i.Posted,requested:i==null?void 0:i.Requested,rejected:i==null?void 0:i.Rejected},u=[{key:"Status",header:"Status",render:f=>hw(f)},{key:"InvoiceNumber",header:"Invoice No",sortable:!0},{key:"APAR",header:"APAR Type",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0,render:f=>(f==null?void 0:f.Name)||""},{key:"Total",header:"Amount",sortable:!0}];return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(F4e,{className:"w-20 h-20 text-gray-400"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Welcome,"," ",[s==null?void 0:s.FirstName,s==null?void 0:s.MiddleName,s==null?void 0:s.LastName].filter(Boolean).join(" ")]}),((d=s==null?void 0:s.Position)==null?void 0:d.Name)&&a.jsxs("p",{className:"text-sm text-gray-500",children:["Position: ",s.Position.Name]}),((m=s==null?void 0:s.Department)==null?void 0:m.Name)&&a.jsxs("p",{className:"text-sm text-gray-500",children:["Department: ",s.Department.Name]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Nm,{to:"/budget-dashboard",children:a.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),a.jsx(Nm,{to:"/disbursement-dashboard",children:a.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),a.jsx(Nm,{to:"/collection-dashboard",children:a.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(eg,{title:"Total Documents",value:c.total,icon:E4e}),a.jsx(eg,{title:"Posted",value:c.posted,icon:w4e}),a.jsx(eg,{title:"Requested",value:c.requested,icon:P4e}),a.jsx(eg,{title:"Rejected",value:c.rejected,icon:_4e})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),[{label:"Me",value:"self"},{label:"Department",value:"department"},{label:"All",value:"all"}].map(f=>a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"owner",value:f.value,checked:t===f.value,onChange:()=>e(f.value),className:"text-blue-600"}),a.jsx("span",{className:"text-sm",children:f.label})]},f.value))]}),a.jsx(je,{columns:u,data:l||[],pagination:!0})]})},eg=({title:t,value:e,icon:r})=>a.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm text-gray-500",children:t}),a.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]});function u8e(){const t=he(),{obligationRequests:e,isLoading:r}=ee(B=>B.obligationRequests),{employees:n}=ee(B=>B.employees),{customers:s}=ee(B=>B.customers),{vendorDetails:o}=ee(B=>B.vendorDetails),{departments:i}=ee(B=>B.departments),{projectDetails:l}=ee(B=>B.projectDetails),{funds:c}=ee(B=>B.funds),{fiscalYears:u}=ee(B=>B.fiscalYears),{items:d}=ee(B=>B.items),{taxCodes:m}=ee(B=>B.taxCodes),{itemUnits:f}=ee(B=>B.itemUnits),{budgets:p}=ee(B=>B.budget),[h,y]=j.useState("list"),[b,g]=j.useState(null),[x,v]=j.useState(!1),{Add:w,Edit:N,Delete:S}=Se(62);j.useEffect(()=>{t(Ko()),t(on()),t(Ir()),t(Ea()),t(fr()),t(ns()),t(rr()),t(ln()),t(rs()),t(ia()),t(Da()),t(Jo())},[t]);const C=()=>{g(null),y("form")},A=B=>{g(B),y("details")},T=B=>{g(B),y("form")},I=()=>{y("list"),g(null)},k=B=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(B),$=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:B=>hw(B)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:B=>new Date(B).toLocaleDateString()},{key:"Remarks",header:"Particular",sortable:!0,render:(B,P)=>{const V=(P.TransactionItemsAll||P.Items||[]).map(_=>_.Remarks||_.itemName).join(", ");return a.jsx("div",{className:"whitespace-pre-wrap",children:V})}},{key:"Total",header:"Total",sortable:!0,className:"text-right font-semibold",render:B=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:k(B)})},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0,render:(B,P)=>{var re,ie;const O=P.TransactionItemsAll||P.Items||[];if(O.length>0){const te=O[0],Z=((ie=(re=te.ChargeAccount)==null?void 0:re.Department)==null?void 0:ie.Name)||te.responsibilityCenterName;if(Z)return Z}const V=e.find(te=>P.OBR_LinkID&&te.LinkID===P.OBR_LinkID||P.SourceLinkID&&te.LinkID===P.SourceLinkID||P.ObligationRequestNumber&&te.InvoiceNumber===P.ObligationRequestNumber||P.OBR_NO&&te.InvoiceNumber===P.OBR_NO||P.OBR_Number&&te.InvoiceNumber===P.OBR_Number);if(V&&V.ResponsibilityCenterName)return V.ResponsibilityCenterName;const _=B||P.ResponsibilityCenter||P.ResponsibilityCenterName||P.DepartmentName;if(_&&typeof _=="string"&&isNaN(_))return _;const H=P.DepartmentID||P.ResponsibilityCenterID||(isNaN(_)?null:Number(_)),G=i.find(te=>String(te.ID)===String(H));return G?G.Name:"N/A"}}];j.useEffect(()=>{console.log("Budgets Data:",p)},[p]);const L=B=>{A(B)},q=B=>{T(B)},E=async B=>{var P,O;if(window.confirm("Are you sure you want to void this obligation request? This will mark it as void but keep it visible in the list."))try{await De.delete(`/obligationRequest/delete/${B.ID}`),Y.success("Obligation Request voided successfully"),t(Ko())}catch(V){console.error("Error voiding obligation request:",V),Y.error(((O=(P=V.response)==null?void 0:P.data)==null?void 0:O.message)||"Error voiding obligation request")}},R=async(B,P)=>{var _,H,G,re;const V={approve:{endpoint:"postTransaction",payload:{ID:B.ID,FundsID:B.FundsID},successMsg:"Obligation Request approved successfully",errorMsg:"Error approving Obligation Request"},reject:{endpoint:"rejectTransaction",payload:{ID:B.ID,Reason:"Rejected by user"},successMsg:"Obligation Request rejected successfully",errorMsg:"Error rejecting Obligation Request"}}[P];if(!V){console.error("Invalid action:",P);return}v(!0);try{const{data:ie}=await De.post(`/obligationRequest/${V.endpoint}`,V.payload,{timeout:3e4});console.log(`${P} response:`,ie),t(Ko()),Y.success(V.successMsg)}catch(ie){const te=((H=(_=ie.response)==null?void 0:_.data)==null?void 0:H.error)||((re=(G=ie.response)==null?void 0:G.data)==null?void 0:re.message)||V.errorMsg;console.error(te,ie),Y.error(te)}finally{v(!1)}},U=B=>{var V,_,H;const P=[];return((V=B==null?void 0:B.Status)==null?void 0:V.toLowerCase().includes("void"))||((_=B==null?void 0:B.Status)!=null&&_.toLowerCase().includes("rejected")&&N?(P.push({icon:Fe,title:"Edit",onClick:q,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),P.push({icon:Kt,title:"Void",onClick:()=>E(B),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(H=B==null?void 0:B.Status)!=null&&H.toLowerCase().includes("requested")&&P.push({icon:wn,title:"Approve",onClick:()=>R(B,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>R(B,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"})),P.push({icon:Ra,title:"View",onClick:L,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),P};return a.jsxs("div",{children:[h==="list"&&a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Obligation Requests"}),a.jsx("p",{children:"Make obligation request transactions."})]}),w&&a.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:$,data:e,actions:U,loading:r||x})})]}),h==="form"&&a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[a.jsx("button",{onClick:I,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{children:b?"Edit Obligation Request":"Create Obligation Request"}),a.jsxs("p",{children:["Fill out the form to"," ",b?"update":"create"," an obligation request"]})]})]})})}),a.jsx("div",{className:"mt-4",children:a.jsx(Z7e,{initialData:b,employeeOptions:n.map(B=>({value:B.ID,label:B.FirstName+" "+B.MiddleName+" "+B.LastName})),vendorOptions:o.map(B=>({value:B.ID,label:B.Name||`${B.FirstName} ${B.MiddleName} ${B.LastName}`})),individualOptions:s.map(B=>({value:B.ID,label:B.Name||`${B.FirstName} ${B.MiddleName} ${B.LastName}`})),employeeData:n,vendorData:o,individualData:s,departmentOptions:i.map(B=>({value:B.ID,label:B.Name})),fundOptions:c.filter(B=>Number(B.Active)===1).map(B=>({value:B.ID,label:B.Name})),projectOptions:l.map(B=>({value:B.ID,label:B.Title})),fiscalYearOptions:u.map(B=>({value:B.ID,label:B.Name})),particularsOptions:d.map(B=>({value:B.ID,label:B.Name})),unitOptions:f.map(B=>({value:B.ID,label:B.Name})),taxCodeOptions:m.map(B=>({value:B.ID,label:B.Name})),budgetOptions:p.map(B=>({value:B.ID,label:B.Name})),formBudgets:p,taxCodeFull:m,onCancel:I,onSubmitSuccess:I,onClose:I})})]}),h==="details"&&b&&a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:I,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{children:"Obligation Request Details"}),a.jsx("p",{children:"View and manage obligation request details"})]})]}),a.jsxs("button",{type:"button",onClick:()=>T(b),className:"btn btn-primary flex items-center",children:[a.jsx(Fe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(n8e,{or:b,onBack:I,onEdit:T})})]})]})}function Ha(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let s=`${yT(r)} PESOS`;return n>0&&(s+=` AND ${n.toString().padStart(2,"0")}/100`),s.trim()}function yT(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${yT(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const s=(o,i)=>{o>0&&(n+=`${yT(o)} ${i} `)};return s(Math.floor(t/1e12),"TRILLION"),t%=1e12,s(Math.floor(t/1e9),"BILLION"),t%=1e9,s(Math.floor(t/1e6),"MILLION"),t%=1e6,s(Math.floor(t/1e3),"THOUSAND"),t%=1e3,s(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const cD="http://192.168.1.215:5001",d8e={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},Um=K("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const s=sessionStorage.getItem("token"),o=`${cD}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e||"")}&requestType=${encodeURIComponent(t)}&id=${r||""}`,i=await fetch(o,{headers:{Authorization:`Bearer ${s}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(s){return n.rejectWithValue(s.message)}}),pl=K("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${cD}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),AC=K("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const o=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);o?r(o):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Px=K("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${cD}/disbursementVoucher/save`,{method:"POST",headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),IC=K("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),AG=Ce({name:"disbursementVouchers",initialState:d8e,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(pl.pending,e=>{e.isLoading=!0}).addCase(pl.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(pl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(AC.pending,e=>{e.isLoading=!0}).addCase(AC.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(AC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Px.pending,e=>{e.isLoading=!0}).addCase(Px.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(Px.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(IC.pending,e=>{e.isLoading=!0}).addCase(IC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(s=>s.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(IC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Um.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(Um.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(Um.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:NKe}=AG.actions,m8e=AG.reducer,f8e="http://192.168.1.215:5001",g4=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],p8e=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function h8e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:s=[],employeeData:o=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:m=[],particularsOptions:f=[],unitOptions:p=[],taxCodeOptions:h=[],budgetOptions:y=[],bankOptions:b=[],taxCodeFull:g=[],chartOfAccountsOptions:x=[]}){const v=he(),w=j.useRef(null),[N,S]=j.useState(!1),[C,A]=j.useState(null),[T,I]=j.useState(null),[k,$]=j.useState(null),[L,q]=j.useState(!1),[E,R]=j.useState([]),[U,B]=j.useState((t==null?void 0:t.modeOfPayment)||""),P=()=>pe().shape({payeeType:M().required("Payee type is required"),payeeId:M().required("Payee selection is required"),accountingEntries:k==="Standalone Request"?$t():$t().min(1,"At least one item is required"),modeOfPayment:M().required("Mode of Payment is required"),bank:U==="Check"?M().required("Bank is required"):M(),checkNumber:U==="Check"?M().required("Check Number is required"):M(),receivedPaymentBy:M().required("Received Payment By is required"),contraAccounts:$t().min(1,"At least one contra account is required").of(pe().shape({account:M().required("Account is required"),normalBalance:M().oneOf(["Debit","Credit"],"Normal balance must be Debit or Credit").required("Normal balance is required"),amount:ae().min(0,"Amount must be positive").required("Amount is required")}))}),{requestOptions:O,requestOptionsLoading:V,requestOptionsError:_}=ee(Z=>Z.disbursementVouchers),H=(Z,z)=>{const W=Z.reduce((J,ne)=>J+Number(ne.amount||0),0),X=z.reduce((J,ne)=>J+Number(ne.amount||0),0),F=W-X;return{grossAmount:W,totalTaxes:X,netAmount:F}},G={description:"",amount:"",accountCode:""},re={obrNo:(t==null?void 0:t.InvoiceNumber)||"",obrDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||(t!=null&&t.VendorID?"Vendor":t!=null&&t.CustomerID?"Individual":t!=null&&t.EmployeeID?"Employee":""),payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||(t==null?void 0:t.VendorID)||(t==null?void 0:t.CustomerID)||(t==null?void 0:t.EmployeeID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[G],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.ReceivedPaymentBy)||"",BillingDueDate:(t==null?void 0:t.BillingDueDate)||"",ObligationRequestNumber:(t==null?void 0:t.ObligationRequestNumber)||"",fund:(t==null?void 0:t.FundsID)||"",fiscalYear:(t==null?void 0:t.FiscalYearID)||"",project:(t==null?void 0:t.ProjectID)||""},ie=Z=>{S(!0),H(Z.items,Z.taxes);const z=new FormData;Z.payeeType==="Employee"?(z.append("EmployeeID",Z.payeeId),z.append("VendorID",""),z.append("CustomerID","")):Z.payeeType==="Vendor"?(z.append("EmployeeID",""),z.append("VendorID",Z.payeeId),z.append("CustomerID","")):Z.payeeType==="Individual"&&(z.append("EmployeeID",""),z.append("VendorID",""),z.append("CustomerID",Z.payeeId)),z.append("PayeeType",Z.payeeType),(Z==null?void 0:Z.requestType)==="Standalone Request"?z.append("IsStandaloneRequest",!0):(z.append("OBR_LinkID",Z.OBR_LinkID||""),z.append("SourceLinkID",Z.OBR_LinkID||"")),z.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),z.append("Address",(C==null?void 0:C.StreetAddress)||""),z.append("InvoiceNumber",Z.obrNo),z.append("InvoiceDate",Z.obrDate),z.append("ResponsibilityCenter",Z.responsibilityCenter),z.append("DepartmentID",Z.responsibilityCenter),z.append("ResponsibilityCenterID",Z.responsibilityCenter);const W=Z.accountingEntries.reduce((ge,we)=>ge+Number(we.subtotal||0),0),X=Z.accountingEntries.reduce((ge,we)=>ge+Number(we.ewt||0),0),F=Z.accountingEntries.reduce((ge,we)=>ge+Number(we.withheld||0),0),J=Z.accountingEntries.reduce((ge,we)=>ge+Number(we.vat||0),0),ne=Z.accountingEntries.reduce((ge,we)=>ge+Number(we.discount||0),0);z.append("Total",W.toFixed(2)),z.append("EWT",X.toFixed(2)),z.append("WithheldAmount",F.toFixed(2)),z.append("Vat_Total",J.toFixed(2)),z.append("Discounts",ne.toFixed(2)),z.append("FundsID",Z.fund),z.append("FiscalYearID",Z.fiscalYear),z.append("ProjectID",Z.project),z.append("TravelID",""),z.append("Items",JSON.stringify(Z.accountingEntries)),Z.Attachments.forEach((ge,we)=>{ge.ID?z.append(`Attachments[${we}].ID`,ge.ID):z.append(`Attachments[${we}].File`,ge.File)}),z.append("ModeOfPayment",Z.modeOfPayment),z.append("BankID",Z.bank),z.append("CheckNumber",Z.checkNumber),z.append("ReceivedPaymentBy",Z.receivedPaymentBy),z.append("BillingDueDate",Z.BillingDueDate),z.append("ObligationRequestNumber",Z.ObligationRequestNumber),z.append("ContraAccounts",JSON.stringify(Z.contraAccounts.map(ge=>({ContraAccountID:parseInt(ge.account),NormalBalance:ge.normalBalance,Amount:parseFloat(ge.amount)})))),t?(z.append("LinkID",t.LinkID),z.append("IsNew",!1)):z.append("IsNew",!0);const ue=Px(z);v(ue).unwrap().then(()=>{le.success("Success"),e(),v(pl())}).catch(ge=>{le.error((ge==null?void 0:ge.message)||"Failed to submit")}).finally(()=>{S(!1)})},te=({type:Z})=>{switch(Z){case"Employee":return a.jsx(ni,{className:"w-5 h-5"});case"Vendor":return a.jsx(ej,{className:"w-5 h-5"});case"Individual":return a.jsx(Af,{className:"w-5 h-5"});default:return null}};return a.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:a.jsx(He,{innerRef:w,initialValues:re,validationSchema:P(),onSubmit:ie,enableReinitialize:!0,children:({values:Z,errors:z,touched:W,handleChange:X,handleBlur:F,setFieldValue:J,setFieldError:ne,setFieldTouched:ue,isValid:ge,isSubmitting:we})=>{H(Z.items,Z.taxes);const be=g4.map(oe=>({value:oe.value,label:oe.label})).find(oe=>oe.value===Z.payeeType),at=oe=>{A(null),J("payeeType",oe),J("payeeName",""),J("payeeId",""),J("payeeAddress",""),J("officeUnitProject",""),J("orsNumber","")},St=async oe=>{const Me=!!T;if(I(null),J("requestType",oe),console.log("Selected Request Type:",oe),$(oe),oe==="Standalone Request"){J("accountingEntries",[],!1),q(!0);return}Me?(J("payeeType",""),J("payeeId",""),J("payeeName",""),J("payeeAddress",""),A(null),v(Um({requestType:oe,payeeType:"",payeeId:""}))):v(Um({requestType:oe,payeeType:Z.payeeType||"",payeeId:Z.payeeId||""}))},se=oe=>{var gd,yd,xd,bd,vd,jd,Nd,wd,Cd,Sd,uD,dD,mD,fD,pD,hD,gD,yD,xD,bD;I(oe);let Me="",Oe="",Ve="",Re="";if((gd=oe==null?void 0:oe.raw)!=null&&gd.EmployeeID?(Me="Employee",Oe=oe.raw.EmployeeID,Ve=`${((yd=oe.raw.Employee)==null?void 0:yd.FirstName)||""} ${((xd=oe.raw.Employee)==null?void 0:xd.MiddleName)||""} ${((bd=oe.raw.Employee)==null?void 0:bd.LastName)||""}`.trim(),Re=((vd=oe.raw.Employee)==null?void 0:vd.StreetAddress)||""):(jd=oe==null?void 0:oe.raw)!=null&&jd.VendorID?(Me="Vendor",Oe=oe.raw.VendorID,Ve=((Nd=oe.raw.Vendor)==null?void 0:Nd.Name)||"",Re=((wd=oe.raw.Vendor)==null?void 0:wd.StreetAddress)||""):(Cd=oe==null?void 0:oe.raw)!=null&&Cd.CustomerID&&(Me="Individual",Oe=oe.raw.CustomerID,Ve=((Sd=oe.raw.Customer)==null?void 0:Sd.Name)||"",Re=((uD=oe.raw.Customer)==null?void 0:uD.StreetAddress)||""),Me&&Oe){J("payeeType",Me),J("payeeId",Oe),J("payeeName",Ve),J("payeeAddress",Re);let hr=null;switch(Me){case"Employee":hr=o.find(fa=>fa.ID===Oe);break;case"Vendor":hr=i.find(fa=>fa.ID===Oe);break;case"Individual":hr=l.find(fa=>fa.ID===Oe);break}hr&&A(hr)}const Gn=(((dD=oe==null?void 0:oe.raw)==null?void 0:dD.TransactionItemsAll)||[]).map(hr=>{var vD,jD,ND,wD,CD,SD,AD;const fa={Price:hr.Price??0,Quantity:hr.Quantity??1,DiscountRate:hr.DiscountRate??0,Vatable:hr.Vatable,withheldEWT:hr.EWTRate??0},dH=Vm({price:fa.Price,quantity:fa.Quantity,taxRate:hr.TaxRate||0,discountPercent:fa.DiscountRate,vatable:fa.Vatable,ewtRate:fa.withheldEWT});return{...hr,...dH,itemName:((vD=hr.Item)==null?void 0:vD.Name)||"",subtotal:hr.AmountDue||0,Remarks:hr.Remarks||"",FPP:hr.FPP||"",accountCode:((ND=(jD=hr.ChargeAccount)==null?void 0:jD.ChartofAccounts)==null?void 0:ND.AccountCode)||"",accountName:((CD=(wD=hr.ChargeAccount)==null?void 0:wD.ChartofAccounts)==null?void 0:CD.Name)||"",fundCode:((AD=(SD=oe==null?void 0:oe.raw)==null?void 0:SD.sourceFunds)==null?void 0:AD.Code)||""}});w.current&&(w.current.setFieldValue("accountingEntries",Gn),w.current.setFieldValue("OBR_LinkID",((mD=oe==null?void 0:oe.raw)==null?void 0:mD.LinkID)||""),w.current.setFieldValue("obrNo",((fD=oe==null?void 0:oe.raw)==null?void 0:fD.InvoiceNumber)||""),w.current.setFieldValue("obrDate",((pD=oe==null?void 0:oe.raw)==null?void 0:pD.InvoiceDate)||""),w.current.setFieldValue("ObligationRequestNumber",((hD=oe==null?void 0:oe.raw)==null?void 0:hD.InvoiceNumber)||""),w.current.setFieldValue("fund",((gD=oe==null?void 0:oe.raw)==null?void 0:gD.FundsID)||""),w.current.setFieldValue("fiscalYear",((yD=oe==null?void 0:oe.raw)==null?void 0:yD.FiscalYearID)||""),w.current.setFieldValue("project",((xD=oe==null?void 0:oe.raw)==null?void 0:xD.ProjectID)||""),w.current.setFieldValue("responsibilityCenter",((bD=oe==null?void 0:oe.raw)==null?void 0:bD.ResponsibilityCenterID)||""))},Ne=(oe,Me)=>{const Oe=Z.accountingEntries[oe],Ve=g.find(At=>String(At.ID)===String(Me)),Re=Vm({price:Oe.Price||0,quantity:Oe.Quantity||0,taxRate:(Ve==null?void 0:Ve.Rate)||0,discountPercent:Oe.DiscountRate||0,vatable:Oe.Vatable,ewtRate:Oe.EWTRate||0});J(`accountingEntries[${oe}].TAXCodeID`,Me),J(`accountingEntries[${oe}].TaxRate`,(Ve==null?void 0:Ve.Rate)||0),J(`accountingEntries[${oe}].TaxName`,(Ve==null?void 0:Ve.Name)||""),J(`accountingEntries[${oe}].subtotal`,Re.subtotal),J(`accountingEntries[${oe}].vat`,Re.vat),J(`accountingEntries[${oe}].withheld`,Re.withheld),J(`accountingEntries[${oe}].ewt`,Re.ewt),J(`accountingEntries[${oe}].totalDeduction`,Re.totalDeduction)},ke=(oe,Me)=>{const Oe=Z.accountingEntries[oe],Ve=g.find(At=>String(At.ID)===String(Oe.TAXCodeID)),Re=Vm({price:Oe.Price||0,quantity:Oe.Quantity||0,taxRate:(Ve==null?void 0:Ve.Rate)||0,discountPercent:Oe.DiscountRate||0,vatable:Me,ewtRate:Oe.EWTRate||0});J(`accountingEntries[${oe}].Vatable`,Me),J(`accountingEntries[${oe}].subtotal`,Re.subtotal),J(`accountingEntries[${oe}].vat`,Re.vat),J(`accountingEntries[${oe}].withheld`,Re.withheld),J(`accountingEntries[${oe}].ewt`,Re.ewt),J(`accountingEntries[${oe}].totalDeduction`,Re.totalDeduction)},$e=oe=>{let Me=null;switch(Z.payeeType){case"Employee":Me=o.find(Oe=>Oe.ID===oe);break;case"Vendor":Me=i.find(Oe=>Oe.ID===oe);break;case"Individual":Me=l.find(Oe=>Oe.ID===oe);break}A(Me),J("payeeName",Me==null?void 0:Me.Name),J("payeeId",Me==null?void 0:Me.ID)},Qe=oe=>{switch(oe){case"Employee":return r;case"Vendor":return n;case"Individual":return s;default:return[]}},it=oe=>{B(oe.target.value),X(oe),oe.target.value==="Cash"&&(J("bank",""),J("checkNumber",""))};return console.log("values",z),a.jsxs(Ze,{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:g4.map(oe=>a.jsxs("button",{type:"button",onClick:()=>at(oe.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${Z.payeeType===oe.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[a.jsx(te,{type:oe.value}),a.jsx("span",{className:"ml-3 font-medium",children:oe.label})]},oe.value))}),z.payeeType&&W.payeeType&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.payeeType})]}),Z.payeeType&&a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",be==null?void 0:be.label," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:Qe(Z.payeeType),onChange:oe=>$e(oe.value),value:Qe(Z.payeeType).find(oe=>oe.value===Z.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),z.payeeType&&W.payeeType&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.payeeType})]}),C&&a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),a.jsx("div",{className:"text-sm text-gray-900",children:(be==null?void 0:be.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((be==null?void 0:be.label)==="Vendor"||(be==null?void 0:be.label)==="Individual",C.Name)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),a.jsx("div",{className:"text-sm text-gray-900",children:((be==null?void 0:be.label)==="Employee"||(be==null?void 0:be.label)==="Vendor"||(be==null?void 0:be.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),a.jsx("hr",{}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:p8e.map(oe=>a.jsx("button",{type:"button",onClick:()=>St(oe.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${Z.requestType===oe.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:a.jsx("span",{className:"ml-3 font-medium",children:oe.label})},oe.value))}),z.requestType&&W.requestType&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.requestType})]}),Z.requestType!=="Standalone Request"&&a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:O.map(oe=>{var Oe,Ve,Re,At,Gn,gd,yd,xd,bd,vd,jd,Nd,wd,Cd,Sd;let Me="";return oe.EmployeeID?Me=`${((Oe=oe.Employee)==null?void 0:Oe.FirstName)||""} ${((Ve=oe.Employee)==null?void 0:Ve.MiddleName)||""} ${((Re=oe.Employee)==null?void 0:Re.LastName)||""}`.trim():oe.CustomerID?Me=((At=oe.Customer)==null?void 0:At.Name)||"N/A":oe.VendorID?Me=((Gn=oe.Vendor)==null?void 0:Gn.Name)||"N/A":Z.payeeType==="Employee"?Me=`${((gd=oe.Employee)==null?void 0:gd.FirstName)||""} ${((yd=oe.Employee)==null?void 0:yd.MiddleName)||""} ${((xd=oe.Employee)==null?void 0:xd.LastName)||""}`.trim():Z.payeeType==="Individual"?!((bd=oe.Employee)!=null&&bd.FirstName)&&!((vd=oe.Employee)!=null&&vd.MiddleName)&&!((jd=oe.Employee)!=null&&jd.LastName)?Me=oe.Name||"N/A":Me=`${((Nd=oe.Employee)==null?void 0:Nd.FirstName)||""} ${((wd=oe.Employee)==null?void 0:wd.MiddleName)||""} ${((Cd=oe.Employee)==null?void 0:Cd.LastName)||""}`.trim():Z.payeeType==="Vendor"&&(Me=oe.Name||"N/A"),{value:oe.ID,label:`${oe.InvoiceNumber||""}  ${Me}  ${oe.TIN||""}  ${oe.InvoiceDate}  ${((Sd=oe.sourceFunds)==null?void 0:Sd.Code)||""}`,raw:oe}}),isLoading:V,value:T,onChange:se,placeholder:V?"Loading":_?`Error: ${_}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),z.requestType&&W.requestType&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.requestType+"request error"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(D,{type:"text",label:"Invoice Number",name:"obrNo",value:Z.obrNo,onChange:X,onBlur:F,error:z.obrNo,touched:W.obrNo}),a.jsx(D,{type:"date",label:"Invoice Date",name:"obrDate",value:Z.obrDate,onChange:X,onBlur:F,error:z.obrDate,touched:W.obrDate}),a.jsx(D,{type:"date",label:"Billing Due Date",name:"BillingDueDate",value:Z.BillingDueDate,onChange:X,onBlur:F,error:z.BillingDueDate,touched:W.BillingDueDate}),a.jsx(Eh,{type:"hidden",name:"fund"}),a.jsx(Eh,{type:"hidden",name:"fiscalYear"}),a.jsx(Eh,{type:"hidden",name:"project"}),a.jsx(Eh,{type:"hidden",name:"responsibilityCenter"})]}),a.jsx(Lr,{name:"accountingEntries",children:({push:oe,remove:Me})=>a.jsxs(a.Fragment,{children:[Z.requestType==="Standalone Request"&&a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Stand Alone Items"}),a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>q(!0),children:"+ Item"})]}),Z.accountingEntries.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("hr",{}),a.jsxs("div",{className:"hidden md:grid grid-cols-10 gap-2 font-semibold text-sm",children:[a.jsx("span",{className:"col-span-2",children:"ITEM"}),a.jsx("span",{children:"AMOUNT"}),a.jsx("span",{className:"col-span-2",children:"TAX"}),a.jsx("span",{className:"text-center",children:"VAT"}),a.jsx("span",{children:"DUE"}),a.jsx("span",{children:"REMARKS"}),a.jsx("span",{children:"ACCOUNT"})]}),Z.accountingEntries.map((Oe,Ve)=>a.jsxs("div",{className:"border p-3 rounded text-sm flex flex-col gap-2 md:grid md:grid-cols-10 md:items-center md:gap-2",children:[a.jsx("span",{className:"md:col-span-2 font-medium",children:Oe.itemName}),a.jsx("span",{children:fe(Oe.Price*Oe.Quantity)}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("select",{className:"w-full border rounded p-1 text-xs",value:Oe.TAXCodeID,onChange:Re=>Ne(Ve,Re.target.value),children:[a.jsx("option",{value:"",children:"Select Tax"}),g.map(Re=>a.jsxs("option",{value:Re.ID,children:[Re.Code," (",Re.Rate,"%)"]},Re.ID))]})}),a.jsx("div",{className:"flex justify-center",children:a.jsx("input",{type:"checkbox",checked:Oe.Vatable,onChange:Re=>ke(Ve,Re.target.checked)})}),a.jsx("span",{className:"font-semibold",children:fe(Oe.subtotal)}),a.jsx("span",{className:"truncate",title:Oe.Remarks,children:Oe.Remarks}),a.jsx("span",{className:"truncate",title:Oe.chargeAccountName,children:Oe.chargeAccountName}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>Me(Ve),className:"text-red-600 hover:text-red-800",children:a.jsx(er,{size:16})})})]},Ve)),a.jsxs("div",{className:"md:grid md:grid-cols-8 md:gap-2 font-semibold pt-2 border-t text-sm",children:[a.jsx("div",{className:"md:col-span-7 text-right",children:"Total:"}),a.jsx("div",{className:"text-right",children:fe(Z.accountingEntries.reduce((Oe,Ve)=>Oe+Number(Ve.subtotal||0),0))})]}),a.jsx("div",{className:"pt-2 border-t text-sm font-semibold text-right",children:Ha(Z.accountingEntries.reduce((Oe,Ve)=>Oe+Number(Ve.subtotal||0),0).toFixed(2))})]}),a.jsx(me,{isOpen:L,onClose:()=>q(!1),title:"Add Accounting Entry",size:"xl",children:a.jsx(NG,{initialData:null,responsibilityOptions:c,particularsOptions:f,unitOptions:p,taxCodeOptions:h,budgetOptions:y,taxCodeFull:g,onClose:()=>q(!1),onSubmit:Oe=>{oe(Oe),q(!1)}})})]})}),z.accountingEntries&&Z.requestType!=="Standalone Request"&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.accountingEntries}),(()=>{const oe={};Z.accountingEntries.forEach(Oe=>{console.log("entry",Oe);const Ve=Oe.TaxName||"N/A",Re=Oe.TaxRate||0,At=Number(Oe.withheld||0),Gn=`${Ve}-${Re}`;oe[Gn]||(oe[Gn]={taxName:Ve,taxRate:Re,withheld:0}),oe[Gn].withheld+=At});const Me=Object.values(oe);return Me.length?a.jsxs("div",{className:"space-y-2",children:[a.jsx("hr",{}),a.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[a.jsx("span",{children:"Tax Name"}),a.jsx("span",{className:"text-right",children:"TaxRate%"}),a.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),Me.map(({taxName:Oe,taxRate:Ve,withheld:Re},At)=>a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[a.jsx("span",{children:Oe}),a.jsx("span",{className:"text-right",children:fe(Ve)}),a.jsx("span",{className:"text-right",children:fe(Re)})]},At))]}):null})(),a.jsx("hr",{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),a.jsx(Lr,{name:"contraAccounts",children:({push:oe,remove:Me})=>{var Oe;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contra Accounts"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>oe({code:"",account:"",amount:"",normalBalance:""}),children:[a.jsx(qe,{className:"w-4 h-4 mr-1"}),"Add Contra Account"]})]}),((Oe=Z.contraAccounts)==null?void 0:Oe.length)>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"hidden md:grid grid-cols-4 gap-2 font-semibold text-sm text-gray-700 bg-gray-50 p-2 rounded",children:[a.jsx("span",{children:"Account"}),a.jsx("span",{children:"Normal Balance"}),a.jsx("span",{children:"Amount"}),a.jsx("span",{children:"Actions"})]}),Z.contraAccounts.map((Ve,Re)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 space-y-3 md:space-y-0 md:grid md:grid-cols-4 md:gap-2 md:items-center",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 md:hidden",children:"Account"}),a.jsx(an,{name:`contraAccounts[${Re}].account`,options:x,onChange:At=>{J(`contraAccounts[${Re}].account`,(At==null?void 0:At.value)||""),J(`contraAccounts[${Re}].code`,(At==null?void 0:At.code)||"")},value:x.find(At=>At.value===Ve.account)||null,className:"basic-single",classNamePrefix:"select",placeholder:"Select account..."}),a.jsx(k1,{name:`contraAccounts[${Re}].account`,component:"p",className:"text-xs text-red-600 mt-1"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 md:hidden",children:"Normal Balance"}),a.jsxs("select",{name:`contraAccounts[${Re}].normalBalance`,value:Ve.normalBalance,onChange:X,onBlur:F,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Select balance type"}),a.jsx("option",{value:"Debit",children:"Debit"}),a.jsx("option",{value:"Credit",children:"Credit"})]}),a.jsx(k1,{name:`contraAccounts[${Re}].normalBalance`,component:"p",className:"text-xs text-red-600 mt-1"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-600 md:hidden",children:"Amount"}),a.jsx("input",{type:"text",name:`contraAccounts[${Re}].amount`,value:jn(Ve.amount),onChange:At=>{const Gn=At.target.value.replace(/[^0-9.]/g,"");J(`contraAccounts[${Re}].amount`,Gn)},onBlur:F,placeholder:"0.00",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx(k1,{name:`contraAccounts[${Re}].amount`,component:"p",className:"text-xs text-red-600 mt-1"})]}),a.jsx("div",{className:"flex justify-end md:justify-center",children:a.jsx("button",{type:"button",onClick:()=>Me(Re),className:"text-red-600 cursor-pointer hover:text-red-900 p-1 rounded",disabled:Z.contraAccounts.length===1,children:a.jsx(Xe,{className:"w-4 h-4"})})})]},Re)),a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[a.jsx("span",{children:"Total Contra Accounts:"}),a.jsx("span",{children:fe(Z.contraAccounts.reduce((Ve,Re)=>Ve+Number(Re.amount||0),0))})]})})]}),z.contraAccounts&&W.contraAccounts&&a.jsx("p",{className:"text-sm text-red-600",children:typeof z.contraAccounts=="string"?z.contraAccounts:"Please check contra account entries"})]})}}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsx("div",{children:a.jsx(D,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:Z.modeOfPayment,onChange:it,onBlur:F,error:z.modeOfPayment,touched:W.modeOfPayment,required:!0})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[U==="Check"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Bank ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:b,value:b.find(oe=>oe.value===Z.bank),onChange:oe=>J("bank",oe.value),onBlur:()=>ue("bank",!0),className:"react-select-container",classNamePrefix:"react-select",placeholder:"Select Bank"}),z.bank&&W.bank&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:z.bank})]}),a.jsx(D,{type:"text",label:"Check No.",name:"checkNumber",value:Z.checkNumber,onChange:X,onBlur:F,error:z.checkNumber,touched:W.checkNumber,required:U==="Check"}),a.jsx("div",{className:"flex items-center md:col-span-1 mt-6",children:a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700 border border-warning-200",children:[a.jsx(wf,{className:"w-3 h-3 mr-1"}),"Cheque Pending"]})})]}),a.jsx(D,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:Z.receivedPaymentBy,onChange:X,onBlur:F,error:z.receivedPaymentBy,touched:W.receivedPaymentBy,required:!0})]})]}),a.jsx("hr",{}),a.jsx(Lr,{name:"Attachments",render:({remove:oe,push:Me})=>{var Oe;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>Me({File:null}),children:"+ Attachment"})]}),(Oe=Z.Attachments)==null?void 0:Oe.map((Ve,Re)=>a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ve.ID?a.jsxs("div",{className:"flex-1",children:[a.jsx("a",{href:`${f8e}/uploads/${Ve.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ve.DataName}),a.jsx("input",{type:"hidden",name:`Attachments[${Re}].ID`,value:Ve.ID})]}):a.jsxs("div",{className:"flex-1 min-w-[300px]",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Re+1}`}),a.jsx("input",{type:"file",name:`Attachments[${Re}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:At=>J(`Attachments[${Re}].File`,At.currentTarget.files[0]),onBlur:F,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),a.jsx(Et,{type:"button",onClick:()=>oe(Re),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:a.jsx(er,{className:"w-4 h-4"})})]},Re))]})}}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,disabled:N||we,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:N||we,children:N||we?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Save"})]})]})}})})}function g8e({dv:t,linkedOBR:e,onClose:r,onEdit:n}){const s=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),o=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${o(t.status)}`,children:t.status}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:n,children:[a.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[a.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),a.jsxs("dl",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.InvoiceNumber})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.InvoiceDate?s(t.InvoiceDate):"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"CAFOA Number"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.ObligationRequestNumber||(e==null?void 0:e.InvoiceNumber)||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Responsibility Center"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.ResponsibilityCenterName||(e==null?void 0:e.ResponsibilityCenterName)||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Billing Due Date"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.BillingDueDate?s(t.BillingDueDate):"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),a.jsxs("dd",{className:"text-sm text-neutral-900 col-span-2 flex items-center gap-2",children:[t.modeOfPayment,(t.modeOfPayment==="Check"||t.ModeOfPayment==="Check")&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700 border border-warning-200",children:"Cheque Pending"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.FundName||t.FundsID||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Project"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.ProjectTitle||t.ProjectID||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fiscal Year"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.FiscalYearName||t.FiscalYearID||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.PreparedBy||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.DatePrepared?s(t.DatePrepared):"N/A"})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),a.jsxs("dl",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.Payee})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.Address||"N/A"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-3",children:"Transactions / Accounting Entries"}),a.jsx("div",{className:"overflow-hidden border border-neutral-200 rounded-xl shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[a.jsx("thead",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"RC"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Particulars"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Account"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Amount"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:(()=>{const i=t.Items||t.TransactionItemsAll||(e==null?void 0:e.TransactionItemsAll)||(e==null?void 0:e.Items)||[];return i.length>0?i.map((l,c)=>a.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors duration-200",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:l.responsibilityCenterName||l.RC||(e==null?void 0:e.ResponsibilityCenterName)}),a.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:l.itemName||l.Remarks||l.Particulars}),a.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600 font-mono tracking-tight",children:l.chargeAccountName||l.Account}),a.jsx("td",{className:"px-6 py-4 text-sm text-right text-neutral-900 font-medium tabular-nums",children:fe(l.subtotal||l.Amount||0)})]},c)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-sm text-neutral-500 italic",children:"No transactions found"})})})()}),(t.Items||t.TransactionItemsAll||(e==null?void 0:e.TransactionItemsAll)||(e==null?void 0:e.Items)||[]).length>0&&a.jsx("tfoot",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"3",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider",children:"Total"}),a.jsx("td",{className:"px-6 py-3 text-right text-sm font-bold text-neutral-900 tabular-nums",children:fe(t.Total||0)})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-5 rounded-xl bg-white border border-neutral-200 shadow-sm relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-neutral-900"})}),a.jsx("dt",{className:"text-sm font-medium text-neutral-500 uppercase tracking-wide",children:"Gross Amount"}),a.jsx("dd",{className:"mt-2 text-3xl font-bold text-neutral-900 tracking-tight",children:fe(t.Total||0)})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-white border border-neutral-200 shadow-sm relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:a.jsx("div",{className:"w-16 h-16 rounded-full bg-error-600"})}),a.jsx("dt",{className:"text-sm font-medium text-neutral-500 uppercase tracking-wide",children:"Total Deductions"}),a.jsx("dd",{className:"mt-2 text-3xl font-bold text-error-600 tracking-tight",children:fe(t.WithheldAmount||0)})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-gradient-to-br from-success-50 to-white border border-success-200 shadow-sm relative overflow-hidden",children:[a.jsx("dt",{className:"text-sm font-medium text-success-800 uppercase tracking-wide",children:"Net Amount"}),a.jsx("dd",{className:"mt-2 text-3xl font-bold text-success-700 tracking-tight",children:fe((t.Total||0)-(t.WithheldAmount||0))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-3",children:"Approval Workflow"}),a.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-xl shadow-sm",children:a.jsx("div",{className:"px-6 py-8",children:a.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3 space-y-8",children:[a.jsxs("li",{className:"ml-6",children:[a.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white shadow-sm",children:a.jsx(NV,{className:"w-5 h-5 text-success-600"})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start group",children:[a.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg w-full mr-4 border border-neutral-100 group-hover:border-neutral-200 transition-colors",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),a.jsxs("p",{className:"text-sm text-neutral-500 mt-1",children:["Prepared by ",a.jsx("span",{className:"font-medium text-neutral-900",children:t.preparedBy})]})]}),a.jsx("time",{className:"text-sm text-neutral-400 font-mono whitespace-nowrap mt-2 sm:mt-0",children:s(t.dateCreated)})]})]}),a.jsxs("li",{className:"ml-6",children:[a.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white shadow-sm",children:a.jsx(wf,{className:"w-5 h-5 text-warning-600"})}),a.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:a.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg w-full mr-4 border border-neutral-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),a.jsx("p",{className:"text-sm text-neutral-500 mt-1 italic",children:"Pending verification..."})]})})]}),a.jsxs("li",{className:"ml-6",children:[a.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white shadow-sm",children:a.jsx(sk,{className:"w-5 h-5 text-neutral-400"})}),a.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:a.jsxs("div",{className:"bg-neutral-50 p-3 rounded-lg w-full mr-4 border border-neutral-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),a.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:"Waiting for certification to proceed"})]})})]})]})})})]}),a.jsx("div",{className:"flex justify-end space-x-3 pt-6 border-t border-neutral-200",children:a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline px-6",children:"Close"})})]})}function y8e(){const t=he(),{disbursementVouchers:e,isLoading:r}=ee(P=>P.disbursementVouchers),{obligationRequests:n}=ee(P=>P.obligationRequests),{Add:s,Edit:o,Delete:i}=Se(40),{employees:l}=ee(P=>P.employees),{customers:c}=ee(P=>P.customers),{vendorDetails:u}=ee(P=>P.vendorDetails),{departments:d}=ee(P=>P.departments),{projectDetails:m}=ee(P=>P.projectDetails),{funds:f}=ee(P=>P.funds),{fiscalYears:p}=ee(P=>P.fiscalYears),{items:h}=ee(P=>P.items),{taxCodes:y}=ee(P=>P.taxCodes),{itemUnits:b}=ee(P=>P.itemUnits),{budgets:g}=ee(P=>P.budget),{banks:x}=ee(P=>P.banks),v=ee(P=>{var O;return((O=P.chartOfAccounts)==null?void 0:O.accounts)||[]}),[w,N]=j.useState("list"),[S,C]=j.useState(null),[A,T]=j.useState(!1);j.useEffect(()=>{t(pl()),t(Ko()),t(on()),t(Ir()),t(Ea()),t(fr()),t(ns()),t(rr()),t(ln()),t(rs()),t(ia()),t(Da()),t(Jo()),t(Mr()),t(Ho())},[t]);const I=()=>{C(null),N("form")},k=P=>{C(P),N("details")},$=P=>{C(P),N("form")},L=()=>{N("list"),C(null)},q=P=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(P),E=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:P=>hw(P)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:P=>new Date(P).toLocaleDateString()},{key:"Particulars",header:"Particulars",sortable:!0,render:(P,O)=>{const V=n.find(H=>O.OBR_LinkID&&H.LinkID===O.OBR_LinkID||O.SourceLinkID&&H.LinkID===O.SourceLinkID||O.ObligationRequestNumber&&H.InvoiceNumber===O.ObligationRequestNumber||O.OBR_NO&&H.InvoiceNumber===O.OBR_NO||O.OBR_Number&&H.InvoiceNumber===O.OBR_Number),_=O.TransactionItemsAll||O.Items||O.AccountingEntries||(V==null?void 0:V.TransactionItemsAll)||(V==null?void 0:V.Items)||[];if(_.length>0){const H=_.map(G=>G.Remarks||G.itemName||G.AccountName||G.Particulars).filter(Boolean).join(", ");if(H)return a.jsx("div",{className:"whitespace-pre-wrap text-xs",children:H})}return P||O.Particulars||O.Particular||O.Remarks||(V==null?void 0:V.Remarks)||"N/A"}},{key:"Total",header:"Total",sortable:!0,className:"text-right font-semibold",render:P=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:q(P)})},{key:"ObligationRequestNumber",header:"CAFOA Number",sortable:!0,render:(P,O)=>P||O.OBR_NO||O.OBR_Number||O.SourceInvoiceNumber||"N/A"},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0,render:(P,O)=>{var ie,te;const V=O.TransactionItemsAll||O.Items||O.AccountingEntries||[];if(V.length>0){const Z=V[0],z=Z.responsibilityCenterName||Z.ResponsibilityCenterName||((te=(ie=Z.ChargeAccount)==null?void 0:ie.Department)==null?void 0:te.Name);if(z)return z}const _=n.find(Z=>O.OBR_LinkID&&Z.LinkID===O.OBR_LinkID||O.SourceLinkID&&Z.LinkID===O.SourceLinkID||O.ObligationRequestNumber&&Z.InvoiceNumber===O.ObligationRequestNumber||O.OBR_NO&&Z.InvoiceNumber===O.OBR_NO||O.OBR_Number&&Z.InvoiceNumber===O.OBR_Number);if(_&&_.ResponsibilityCenterName)return _.ResponsibilityCenterName;const H=P||O.ResponsibilityCenter||O.ResponsibilityCenterName||O.DepartmentName;if(H&&typeof H=="string"&&isNaN(H))return H;const G=O.DepartmentID||O.ResponsibilityCenterID||(isNaN(H)?null:Number(H)),re=d.find(Z=>String(Z.ID)===String(G));return re?re.Name:"N/A"}}],R=P=>{console.log("Edit OR",P),C(P),N("form")},U=async(P,O)=>{var V,_,H,G;T(!0);try{const re=await De.post(`/disbursementVoucher/${O}`,{ID:P.ID});console.log(`${O}d:`,re.data),t(pl()),Y.success(`Disbursement Voucher ${O}d successfully`)}catch(re){console.error(`Error ${O}ing disbursement voucher:`,re);const ie=((_=(V=re.response)==null?void 0:V.data)==null?void 0:_.error)||((G=(H=re.response)==null?void 0:H.data)==null?void 0:G.message)||`Error ${O}ing disbursement voucher`;Y.error(ie)}finally{T(!1)}},B=async P=>{var O,V;if(window.confirm("Are you sure you want to void this Disbursement Voucher? This will mark it as void."))try{await De.delete(`/disbursementVoucher/${P.ID}`),Y.success("Disbursement Voucher voided successfully"),t(pl()),t(Ko())}catch(_){console.error("Error voiding DV:",_),Y.error(((V=(O=_.response)==null?void 0:O.data)==null?void 0:V.error)||"Error voiding DV")}};return a.jsxs("div",{children:[w==="list"&&a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Disbursement Vouchers"}),a.jsx("p",{children:"Prepare disbursement vouchers for transactions."})]}),s&&a.jsxs("button",{type:"button",onClick:I,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:E,data:e,actions:P=>{const O=[];return P.Status.toLowerCase().includes("rejected")&&o&&O.push({icon:Fe,title:"Edit",onClick:()=>R(P),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),P.Status==="Requested"&&O.push({icon:wn,title:"Approve",onClick:()=>U(P,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>U(P,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),i&&!P.Status.toLowerCase().includes("void")&&!P.Status.toLowerCase().includes("posted")&&O.push({icon:Kt,title:"Void",onClick:()=>B(P),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),O.push({icon:Ra,title:"View",onClick:()=>k(P),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),O},loading:r||A})})]}),w==="form"&&a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[a.jsx("button",{onClick:L,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{children:S?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),a.jsxs("p",{children:["Fill out the form to"," ",S?"update":"create"," a disbursement voucher"]})]})]})})}),a.jsx("div",{className:"mt-4",children:a.jsx(h8e,{initialData:S,employeeOptions:l.map(P=>({value:P.ID,label:P.FirstName+" "+P.MiddleName+" "+P.LastName})),vendorOptions:u.map(P=>({value:P.ID,label:P.Name})),individualOptions:c.map(P=>({value:P.ID,label:P.Name||`${P.FirstName} ${P.MiddleName} ${P.LastName}`})),chartOfAccountsOptions:(v||[]).map(P=>({value:P.ID,label:P.AccountCode+" - "+P.Name})),employeeData:l,vendorData:u,individualData:c,departmentOptions:d.map(P=>({value:P.ID,label:P.Name})),fundOptions:f.map(P=>({value:P.ID,label:P.Name})),projectOptions:m.map(P=>({value:P.ID,label:P.Title})),fiscalYearOptions:p.map(P=>({value:P.ID,label:P.Name})),particularsOptions:h.map(P=>({value:P.ID,label:P.Name})),unitOptions:b.map(P=>({value:P.ID,label:P.Name})),taxCodeOptions:y.map(P=>({value:P.ID,label:P.Name})),budgetOptions:g.map(P=>({value:P.ID,label:P.Name})),bankOptions:x.map(P=>({value:P.ID,label:P.Name})),taxCodeFull:y,onCancel:L,onSubmitSuccess:L,onClose:L})})]}),w==="details"&&S&&a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:L,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{children:"Disbursement Voucher Details"}),a.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),a.jsxs("button",{type:"button",onClick:()=>$(S),className:"btn btn-primary flex items-center",children:[a.jsx(Fe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})}),a.jsx("div",{className:"mt-4",children:(()=>{const P=S,O=n.find(V=>P.OBR_LinkID&&V.LinkID===P.OBR_LinkID||P.SourceLinkID&&V.LinkID===P.SourceLinkID||P.ObligationRequestNumber&&V.InvoiceNumber===P.ObligationRequestNumber||P.OBR_NO&&V.InvoiceNumber===P.OBR_NO||P.OBR_Number&&V.InvoiceNumber===P.OBR_Number||P.InvoiceNumber&&V.InvoiceNumber===P.InvoiceNumber);return a.jsx(g8e,{dv:S,linkedOBR:O,onClose:L,onEdit:()=>$(S)})})()})]})]})}const x8e="http://192.168.1.215:5001";function b8e({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:s}){const{departments:o}=ee(g=>g.departments),{employees:i}=ee(g=>g.employees),{budgets:l}=ee(g=>g.budget);console.log("Budgets:",l);const c=he();j.useEffect(()=>{c(fr()),c(on()),c(Jo())},[c]);const u=pe({BudgetID:M().required("Office is required"),DateStart:Ye().required("Start Date is required"),DateEnd:Ye().required("End Date is required").min(Dl("DateStart"),"End Date must be after Start Date"),Place:M().required("Place/Office to be visited is required"),Venue:M().required("Venue/Destination is required"),Remarks:M(),Purpose:M().required("Purpose of Travel is required"),Travelers:$t().of(pe({TravelerID:M().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:$t().of(pe({Amount:ae().required("Amount is required"),BudgetID:M().required("Budget of Fund is required"),Type:M().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:$t().of(pe({Name:M().required("Document name is required")})).min(1,"At least one document is required")}),d=ot({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:u,onSubmit:async(g,x)=>{const v=new FormData;for(const w in g)w==="Attachments"?g.Attachments.forEach((N,S)=>{N.ID?v.append(`Attachments[${S}].ID`,N.ID):v.append(`Attachments[${S}].File`,N.File)}):v.append(w,JSON.stringify(g[w]));try{await e(v)}catch(w){console.error(w)}finally{x(!1)}}}),{values:m,handleChange:f,handleBlur:p,errors:h,touched:y,isSubmitting:b}=d;return a.jsx($k,{value:d,children:a.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-4",children:[a.jsx(D,{type:"select",label:"Office",name:"BudgetID",options:o.map(g=>({value:g.ID,label:g.Name})),value:m.BudgetID,onChange:f,onBlur:p,error:h.BudgetID,touched:y.BudgetID,required:!0}),a.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[a.jsx(D,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:f,onBlur:p,error:h.DateStart,touched:y.DateStart,required:!0}),a.jsx(D,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:f,onBlur:p,error:h.DateEnd,touched:y.DateEnd,required:!0})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[a.jsx(D,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:f,onBlur:p,error:h.Place,touched:y.Place,required:!0}),a.jsx(D,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:f,onBlur:p,error:h.Venue,touched:y.Venue,required:!0})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[a.jsx(D,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:f,onBlur:p,error:h.Remarks,touched:y.Remarks}),a.jsx(D,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:f,onBlur:p,error:h.Purpose,touched:y.Purpose,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),a.jsxs("div",{className:"grid grid-cols-1  sm:grid-cols-3 gap-2",children:[a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:f,onBlur:p}),a.jsx("span",{children:"Plane"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:f,onBlur:p}),a.jsx("span",{children:"Ship/Boat"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:f,onBlur:p}),a.jsx("span",{children:"PUV"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:f,onBlur:p}),a.jsx("span",{children:"LGU Service Vehicle"})]}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:f,onBlur:p}),a.jsx("span",{children:"Vehicle for Rent"})]})]})]}),a.jsx("hr",{}),a.jsx(Lr,{name:"Travelers",render:({remove:g,push:x})=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2 ",children:[a.jsx("label",{className:"font-medium",children:"Travelers"}),a.jsx(Et,{type:"button",onClick:()=>x({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((v,w)=>{var N,S,C,A;return a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[a.jsx(D,{type:"select",label:`Employee ${w+1}`,name:`Travelers[${w}].TravelerID`,options:i.map(T=>({value:T.ID,label:T.FirstName+" "+T.MiddleName+" "+T.LastName})),value:v.TravelerID,onChange:f,onBlur:p,error:(S=(N=h.Travelers)==null?void 0:N[w])==null?void 0:S.TravelerID,touched:(A=(C=y.Travelers)==null?void 0:C[w])==null?void 0:A.TravelerID,className:"w-full sm:min-w-[300px]",required:!0}),a.jsx(Et,{type:"button",onClick:()=>g(w),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.Travelers.length===1,children:a.jsx(er,{className:"w-4 h-4"})})]},w)})]})}),a.jsx("hr",{}),a.jsx(Lr,{name:"TravelPayments",render:({remove:g,push:x})=>{var v;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"font-medium",children:"Expenses"}),a.jsx(Et,{type:"button",onClick:()=>x({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(v=m.TravelPayments)==null?void 0:v.map((w,N)=>{var S,C,A,T,I,k,$,L,q,E,R,U;return a.jsxs("div",{className:"flex sm:flex-wrap max-sm:flex-col  sm:gap-4 w-full  !mb-4",children:[a.jsx(D,{type:"number",label:"Amount",name:`TravelPayments[${N}].Amount`,value:w.Amount,onChange:f,onBlur:p,error:(C=(S=h.TravelPayments)==null?void 0:S[N])==null?void 0:C.Amount,touched:(T=(A=y.TravelPayments)==null?void 0:A[N])==null?void 0:T.Amount,className:"w-full sm:max-w-[180px] ",required:!0}),a.jsx(D,{type:"select",label:"Source of Fund",name:`TravelPayments[${N}].BudgetID`,options:l.map(B=>({value:B.ID,label:B.Name})),value:w.BudgetID,onChange:f,onBlur:p,error:(k=(I=h.TravelPayments)==null?void 0:I[N])==null?void 0:k.BudgetID,touched:(L=($=y.TravelPayments)==null?void 0:$[N])==null?void 0:L.BudgetID,className:"w-full sm:min-w-[200px] ",required:!0}),a.jsx(D,{type:"select",label:"Type",name:`TravelPayments[${N}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:w.Type,onChange:f,onBlur:p,error:(E=(q=h.TravelPayments)==null?void 0:q[N])==null?void 0:E.Type,touched:(U=(R=y.TravelPayments)==null?void 0:R[N])==null?void 0:U.Type,className:"w-full sm:min-w-[100px] ",required:!0}),a.jsx(Et,{type:"button",onClick:()=>g(N),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3 my-auto ml-auto",disabled:m.TravelPayments.length===1,children:a.jsx(er,{className:"w-4 h-4"})})]},N)}),a.jsxs("div",{className:"flex justify-end text-right mt-4",children:[a.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),a.jsx("span",{className:"",children:(()=>{var A;const w=new Date(m.DateStart),N=new Date(m.DateEnd),S=m.DateStart&&m.DateEnd?Math.ceil((N-w)/(1e3*60*60*24))+1:1;return((A=m.TravelPayments)==null?void 0:A.reduce((T,I)=>{const k=parseFloat(I.Amount);return isNaN(k)?T:I.Type==="2"?T+k*S:T+k},0)).toFixed(2)})()})]})]})}}),a.jsx("hr",{}),a.jsx(Lr,{name:"TravelDocuments",render:({remove:g,push:x})=>{var v;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"font-medium",children:"Documents Required"}),a.jsx(Et,{type:"button",onClick:()=>x({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(v=m.TravelDocuments)==null?void 0:v.map((w,N)=>{var S,C,A,T;return a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[a.jsx(D,{type:"text",label:`Document ${N+1}`,name:`TravelDocuments[${N}].Name`,value:w.Name,onChange:f,onBlur:p,error:(C=(S=h.TravelDocuments)==null?void 0:S[N])==null?void 0:C.Name,touched:(T=(A=y.TravelDocuments)==null?void 0:A[N])==null?void 0:T.Name,className:"w-full sm:min-w-[300px]",required:!0}),a.jsx(Et,{type:"button",onClick:()=>g(N),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:m.TravelDocuments.length===1,children:a.jsx(er,{className:"w-4 h-4"})})]},N)})]})}}),a.jsx("hr",{}),a.jsx(Lr,{name:"Attachments",render:({remove:g,push:x})=>{var v;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"font-medium",children:"Attachments"}),a.jsx(Et,{type:"button",onClick:()=>x({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(v=m.Attachments)==null?void 0:v.map((w,N)=>a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[w.ID?a.jsxs("div",{className:"flex-1",children:[a.jsx("a",{href:`${x8e}/uploads/${w.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:w.DataName}),a.jsx("input",{type:"hidden",name:`Attachments[${N}].ID`,value:w.ID})]}):a.jsxs("div",{className:"flex-1 min-w-[300px]",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${N+1}`}),a.jsx("input",{type:"file",name:`Attachments[${N}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:S=>d.setFieldValue(`Attachments[${N}].File`,S.currentTarget.files[0]),onBlur:p,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),a.jsx(Et,{type:"button",onClick:()=>g(N),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",children:a.jsx(er,{className:"w-4 h-4"})})]},N))]})}}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":"Save"})]})]})})}const gw="http://192.168.1.215:5001",v8e=[],zm=K("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${gw}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),kx=K("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${gw}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xT=K("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const s=await fetch(`${gw}/travelOrder/${r}`,n),o=await s.json();if(!s.ok)throw new Error(o.error||o.message||"Failed to update");return o}catch(r){return e.rejectWithValue(r.message)}}),Ex=K("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${gw}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),j8e=Ce({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(zm.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zm.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(zm.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=v8e}).addCase(kx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(kx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(xT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(Ex.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ex.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]);const n=e.travelOrders.findIndex(s=>s.ID===r.payload);n!==-1&&(e.travelOrders[n].TransactionStatus="Void")}).addCase(Ex.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),N8e=j8e.reducer;function w8e(){const t=he(),{travelOrders:e,isLoading:r}=ee(E=>E.travelOrders),[n,s]=j.useState(!1),[o,i]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState(null),[m,f]=j.useState(!1),{Add:p,Edit:h,Delete:y}=Se(80);j.useEffect(()=>{t(zm())},[t]);const b=async E=>{try{u?await t(xT({...E,ID:u.ID})).unwrap():await t(kx(E)).unwrap(),i(!1),d(null),le.success("Success")}catch(R){throw le.error(R||"Failed"),R}},g=()=>{d(null),i(!0)},x=E=>{d(E),c(!0)},v=E=>{d(E),i(!0)},w=E=>{d(E),s(!0)},N=async()=>{if(u)try{await t(Ex(u.ID)).unwrap(),le.success("Voided")}catch(E){console.error("Failed to void travel order:",E),le.error("Failed to void travel order")}finally{s(!1),d(null)}},S=()=>{i(!1),d(null)},C=()=>{c(!1),d(null)},A=E=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(E),T=E=>new Date(E).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),I=[{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"TransactionStatus",header:"Status",sortable:!0,render:E=>a.jsx("span",{className:`px-2 py-1 rounded ${E==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":E==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":E==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":E==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":E==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":E==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:E})},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}],k=E=>{x(E)},$=({travelOrder:E,onClose:R,onEdit:U})=>{const B=()=>{const V=[];return E.Plane&&V.push("Airplane"),E.PUV&&V.push("Public Utility Vehicle"),E.ServiceVehicle&&V.push("Service Vehicle"),E.RentedVehicle&&V.push("Rented Vehicle"),E.Vessels&&V.push("Vessel"),V.length>0?V.join(", "):"Not specified"},P=()=>{var V;return((V=E.TravelPayments)==null?void 0:V.reduce((_,H)=>_+parseFloat(H.Amount||0),0))||0},O=V=>{switch(V){case"Requested":return"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700";case"Approved":return"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800";case"Posted":return"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100";case"Rejected":return"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100";case"Void":return"bg-gradient-to-r from-primary-900 via-primary-999 to-primary-999 text-neutral-300";case"Cancelled":return"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return a.jsxs("div",{className:"max-h-[80vh] overflow-y-auto",children:[a.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 p-6 rounded-lg mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:E.InvoiceNumber}),a.jsx("p",{className:"text-primary-700 mt-1",children:"Travel Order Details"})]}),a.jsxs("div",{className:"flex flex-col sm:items-end gap-2",children:[a.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold border ${O(E.TransactionStatus)}`,children:E.TransactionStatus}),a.jsxs("p",{className:"text-sm text-primary-600",children:["Filed on ",T(E.DateCreated)]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[a.jsx(mae,{className:"w-5 h-5 mr-2 text-primary-600"}),"Travel Information"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Destination"}),a.jsx("p",{className:"text-gray-900 mt-1",children:E.Place||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue"}),a.jsx("p",{className:"text-gray-900 mt-1",children:E.Venue||"Not specified"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),a.jsx("p",{className:"text-gray-900 mt-1",children:T(E.DateStart)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"End Date"}),a.jsx("p",{className:"text-gray-900 mt-1",children:T(E.DateEnd)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Duration"}),a.jsxs("p",{className:"text-gray-900 mt-1",children:[E.No_of_Days," days"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Inclusive Dates"}),a.jsx("p",{className:"text-gray-900 mt-1",children:E.InclusivesDate||"Not specified"})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[a.jsx(xR,{className:"w-5 h-5 mr-2 text-primary-600"}),"Purpose & Details"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Purpose"}),a.jsx("p",{className:"text-gray-900 mt-1",children:E.Purpose||"Not specified"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Office/Department"}),a.jsx("p",{className:"text-gray-900 mt-1",children:E.BudgetDepartmentName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Transportation"}),a.jsx("p",{className:"text-gray-900 mt-1",children:B()})]}),E.Remarks&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Remarks"}),a.jsx("p",{className:"text-gray-900 mt-1",children:E.Remarks})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[a.jsx(Qne,{className:"w-5 h-5 mr-2 text-primary-600"}),"Financial Information"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-primary-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-primary-700 font-medium",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-primary-900",children:A(P())})]})}),E.TravelPayments&&E.TravelPayments.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Payment Breakdown"}),a.jsx("div",{className:"space-y-2",children:E.TravelPayments.map((V,_)=>a.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:[a.jsx("span",{className:"text-gray-700",children:V.Type?"Advance":"Reimbursement"}),a.jsx("span",{className:"font-semibold text-gray-900",children:A(V.Amount)})]},_))})]})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[a.jsx(bR,{className:"w-5 h-5 mr-2 text-primary-600"}),"Travelers"]}),a.jsx("div",{className:"space-y-3",children:E.Travelers&&E.Travelers.length>0?E.Travelers.map((V,_)=>a.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:a.jsx(bR,{className:"w-4 h-4 text-primary-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["Traveler ID: ",V.TravelerID]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Link ID: ",V.LinkID]})]})]},_)):a.jsx("p",{className:"text-gray-500 italic",children:"No travelers specified"})})]})]}),(E.TravelDocuments&&E.TravelDocuments.length>0||E.Attachments&&E.Attachments.length>0)&&a.jsxs("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-6",children:[a.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[a.jsx(yR,{className:"w-5 h-5 mr-2 text-primary-600"}),"Documents & Attachments"]}),E.TravelDocuments&&E.TravelDocuments.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Travel Documents"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:E.TravelDocuments.map((V,_)=>a.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[a.jsx(xR,{className:"w-5 h-5 text-gray-400 mr-3"}),a.jsx("span",{className:"text-gray-900 truncate",children:V.Name})]},_))})]}),E.Attachments&&E.Attachments.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Attachments"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:E.Attachments.map((V,_)=>a.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx(yR,{className:"w-5 h-5 text-gray-400 mr-3"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-gray-900 truncate",children:V.DataName}),a.jsx("p",{className:"text-xs text-gray-500",children:V.DataType})]})]},_))})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:R,className:"btn btn-outline",children:"Close"}),h&&E.TransactionStatus==="Rejected"&&a.jsxs("button",{type:"button",onClick:U,className:"btn btn-primary",children:[a.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Edit Travel Order"]})]})]})},L=async(E,R)=>{f(!0);try{const U=await De.post(`/travelorder/${R}`,{ID:E.ID});console.log(`${R}d:`,U.data),t(zm()),le.success(`Travel Order ${R}d successfully`)}catch(U){console.error(`Error ${R}ing Travel Order:`,U),le.error(`Error ${R}ing Travel Order`)}finally{f(!1)}},q=E=>{var U,B;const R=[];return(U=E==null?void 0:E.TransactionStatus)!=null&&U.toLowerCase().includes("rejected")&&h?(R.push({icon:Fe,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),R.push({icon:Xe,title:"Void",onClick:()=>w(E),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(B=E==null?void 0:E.TransactionStatus)!=null&&B.toLowerCase().includes("requested")&&R.push({icon:wn,title:"Approve",onClick:()=>L(E,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>L(E,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),R.push({icon:Ra,title:"View",onClick:k,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),R};return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Travel Orders"}),a.jsx("p",{children:"Authorize travel orders of employees."})]}),p&&a.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:I,data:e,actions:q,loading:r||m})}),a.jsx(me,{isOpen:o,onClose:S,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:a.jsx(b8e,{initialData:u,onSubmit:b,onClose:S})}),a.jsx(me,{isOpen:l,onClose:C,title:"Travel Order Details",size:"2xl",children:u&&a.jsx($,{travelOrder:u,onClose:C,onEdit:()=>{c(!1),i(!0)}})}),a.jsxs(me,{isOpen:n,onClose:()=>s(!1),title:"Confirm Void",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to void the travel order "',u==null?void 0:u.InvoiceNumber,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action will mark the document as void and cannot be reversed."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:N,className:"btn btn-danger",children:"Void"})]})]})]})}const C8e="http://192.168.1.215:5001";function S8e({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:s,centerOptions:o,accountOptions:i,isReadOnly:l=!1}){const[c,u]=j.useState(""),[d,m]=j.useState((t==null?void 0:t.JEVType)||""),f=pe({JEVType:M().required("Type is required"),FundsID:M().required("Fund is required"),InvoiceDate:Ye().required("Date is required"),SAI_No:M(),Remarks:M().required("Particulars are required"),ObligationRequestNumber:M(),CheckNumber:M(),CheckDate:Ye(),AccountingEntries:$t().of(pe({ResponsibilityCenter:M().required("Required"),AccountExplanation:M().required("Required"),Debit:ae().nullable().typeError("Must be a number").required("Debit is required"),Credit:ae().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),p=ot({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(w,N)=>{const S=w.AccountingEntries.reduce((T,I)=>T+(parseFloat(I.Debit)||0),0),C=w.AccountingEntries.reduce((T,I)=>T+(parseFloat(I.Credit)||0),0);if(console.log(w),S!==C){u("Total Debit must be equal to Total Credit.");return}else u("");const A=new FormData;for(const T in w)T==="Attachments"?w.Attachments.forEach((I,k)=>{I.ID?A.append(`Attachments[${k}].ID`,I.ID):A.append(`Attachments[${k}].File`,I.File)}):T!=="CheckDate"&&A.append(T,JSON.stringify(w[T]));A.append("CheckDate",JSON.stringify(w.CheckDate||w.InvoiceDate)),t&&A.append("LinkID",t.LinkID);try{await e(A)}catch(T){console.error(T)}finally{N(!1)}}}),h=w=>{m(w.target.value),p.handleChange(w)},{values:y,handleChange:b,handleBlur:g,errors:x,touched:v}=p;return a.jsx($k,{value:p,children:a.jsxs("form",{onSubmit:p.handleSubmit,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[a.jsx(D,{type:"select",label:"Type",name:"JEVType",options:n,value:y.JEVType,onChange:h,onBlur:g,error:x.JEVType,touched:v.JEVType,required:!0,disabled:l}),a.jsx(D,{type:"select",label:"Fund",name:"FundsID",options:s,value:y.FundsID,onChange:b,onBlur:g,error:x.FundsID,touched:v.FundsID,required:!0,disabled:l}),a.jsx(D,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:y.InvoiceDate,onChange:b,onBlur:g,error:x.InvoiceDate,touched:v.InvoiceDate,required:!0,disabled:l})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[a.jsx(D,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:y.ObligationRequestNumber,onChange:b,onBlur:g,error:x.ObligationRequestNumber,touched:v.ObligationRequestNumber,disabled:l}),a.jsx(D,{type:"text",label:"Remarks",name:"Remarks",value:y.Remarks,onChange:b,onBlur:g,error:x.Remarks,touched:v.Remarks,required:!0,disabled:l}),a.jsx(D,{type:"text",label:"Payee",name:"Payee",value:y.Payee,onChange:b,onBlur:g,error:x.Payee,touched:v.Payee,disabled:l})]}),d==="Check Disbursement"&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[a.jsx(D,{type:"text",label:"DV No",name:"SAI_No",value:y.SAI_No,onChange:b,onBlur:g,error:x.SAI_No,touched:v.SAI_No,disabled:l}),a.jsx(D,{type:"text",label:"Check No",name:"CheckNumber",value:y.CheckNumber,onChange:b,onBlur:g,error:x.CheckNumber,touched:v.CheckNumber,disabled:l}),a.jsx(D,{type:"date",label:"Check Date",name:"CheckDate",value:y.CheckDate,onChange:b,onBlur:g,error:x.CheckDate,touched:v.CheckDate,disabled:l})]}),a.jsx("hr",{}),a.jsx(Lr,{name:"AccountingEntries",render:({remove:w,push:N})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"font-medium",children:"Accounting Entries"}),!l&&a.jsx(Et,{type:"button",onClick:()=>N({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),y.AccountingEntries.map((S,C)=>{var I,k,$,L,q,E,R,U,B,P,O,V,_,H;const A=parseFloat(S.Debit)>0,T=parseFloat(S.Credit)>0;return a.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[a.jsxs("div",{className:"flex max-sm:flex-col sm:flex-wrap gap-2 w-full",children:[a.jsx(D,{className:"flex-1 w-full sm:min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${C}].ResponsibilityCenter`,options:o,value:S.ResponsibilityCenter,onChange:b,onBlur:g,error:(k=(I=x.AccountingEntries)==null?void 0:I[C])==null?void 0:k.ResponsibilityCenter,touched:(L=($=v.AccountingEntries)==null?void 0:$[C])==null?void 0:L.ResponsibilityCenter,required:!0,disabled:l}),a.jsxs("div",{className:"flex-1 sm:min-w-[200px]",children:[a.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",a.jsx("span",{className:"text-error-500",children:"*"})]}),a.jsx(an,{label:"Accounts and Explanation",options:i,className:"focus:!ring-none focus:!border-none focus:bg-red-600",placeholder:"Select an account...",isSearchable:!0,onChange:G=>p.setFieldValue(`AccountingEntries[${C}].AccountExplanation`,(G==null?void 0:G.value)||""),name:`AccountingEntries[${C}].AccountExplanation`,value:i.find(G=>G.value===S.AccountExplanation)||null,onBlur:g,required:!0,isDisabled:l}),((E=(q=x.AccountingEntries)==null?void 0:q[C])==null?void 0:E.AccountExplanation)&&a.jsx("div",{className:"text-sm text-red-600 mt-1",children:x.AccountingEntries[C].AccountExplanation})]}),a.jsx(D,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"text",label:"Debit",name:`AccountingEntries[${C}].Debit`,value:jn(S.Debit),onChange:G=>{const re=G.target.value.replace(/[^0-9.]/g,"");re&&parseFloat(re)>0&&p.setFieldValue(`AccountingEntries[${C}].Credit`,0),p.setFieldValue(`AccountingEntries[${C}].Debit`,re)},onBlur:g,error:(U=(R=x.AccountingEntries)==null?void 0:R[C])==null?void 0:U.Debit,touched:(P=(B=v.AccountingEntries)==null?void 0:B[C])==null?void 0:P.Debit,required:!T,disabled:l}),a.jsx(D,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"text",label:"Credit",name:`AccountingEntries[${C}].Credit`,value:jn(S.Credit),onChange:G=>{const re=G.target.value.replace(/[^0-9.]/g,"");re&&parseFloat(re)>0&&p.setFieldValue(`AccountingEntries[${C}].Debit`,0),p.setFieldValue(`AccountingEntries[${C}].Credit`,re)},onBlur:g,error:(V=(O=x.AccountingEntries)==null?void 0:O[C])==null?void 0:V.Credit,touched:(H=(_=v.AccountingEntries)==null?void 0:_[C])==null?void 0:H.Credit,required:!A,disabled:l})]}),!l&&a.jsx("div",{className:"flex justify-end pt-0",children:a.jsx(Et,{type:"button",onClick:()=>w(C),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:y.AccountingEntries.length===1,children:a.jsx(er,{className:"w-4 h-4"})})})]},C)}),a.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[a.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),a.jsx("div",{className:"col-span-2 text-right",children:a.jsxs("div",{className:"text-green-600 font-bold",children:[fe(y.AccountingEntries.reduce((S,C)=>S+(parseFloat(C.Debit)||0),0))," ",a.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),a.jsx("div",{className:"col-span-2 text-right",children:a.jsxs("div",{className:"text-red-600 font-bold",children:[fe(y.AccountingEntries.reduce((S,C)=>S+(parseFloat(C.Credit)||0),0))," ",a.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),a.jsx("hr",{}),a.jsx(Lr,{name:"Attachments",render:({remove:w,push:N})=>{var S;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"mb-2 mt-10",children:[a.jsx("label",{className:"font-medium",children:"Attachments"}),!l&&a.jsx(Et,{type:"button",onClick:()=>N({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(S=y.Attachments)==null?void 0:S.map((C,A)=>a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[C.ID?a.jsxs("div",{className:"flex-1",children:[a.jsx("a",{href:`${C8e}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:C.DataName}),a.jsx("input",{type:"hidden",name:`Attachments[${A}].ID`,value:C.ID})]}):a.jsxs("div",{className:"flex-1 min-w-[300px]",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${A+1}`}),a.jsx("input",{type:"file",name:`Attachments[${A}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:T=>p.setFieldValue(`Attachments[${A}].File`,T.currentTarget.files[0]),onBlur:g,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),!l&&a.jsx(Et,{type:"button",onClick:()=>w(A),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:a.jsx(er,{className:"w-4 h-4"})})]},A))]})}}),c&&a.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:c}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx(Et,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),!l&&a.jsx(Et,{type:"submit",className:"btn btn-primary",disabled:p.isSubmitting,children:p.isSubmitting?"Saving...":"Save"})]})]})})}const md="http://192.168.1.215:5001",A8e=[],Gi=K("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${md}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Dx=K("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${md}/journalentryvoucher`,{method:"POST",headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),bT=K("journalEntries/updateJournalEntry",async({journalEntry:t,id:e},r)=>{try{const n=await fetch(`${md}/journalEntryVoucher/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(n){return r.rejectWithValue(n.message)}}),Ox=K("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${md}/journalEntryVoucher/?LinkID=${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$x=K("journalEntries/approveJournalEntry",async(t,e)=>{try{const r=await fetch(`${md}/journalEntryVoucher/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to approve");return n}catch(r){return e.rejectWithValue(r.message)}}),Rx=K("journalEntries/rejectJournalEntry",async(t,e)=>{try{const r=await fetch(`${md}/journalEntryVoucher/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to reject");return n}catch(r){return e.rejectWithValue(r.message)}}),I8e=Ce({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gi.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(Gi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=A8e}).addCase(Dx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(Dx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(bT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(Ox.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ox.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[])}).addCase(Ox.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)}).addCase($x.pending,e=>{e.isLoading=!0,e.error=null}).addCase($x.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.journalEntries[n]=r.payload)}).addCase($x.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to approve journal entry"}).addCase(Rx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rx.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.journalEntries[n]=r.payload)}).addCase(Rx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to reject journal entry"})}}),T8e=I8e.reducer;function P8e(){var V;const{departments:t}=ee(_=>_.departments),{accounts:e}=ee(_=>_.chartOfAccounts),{Add:r,Edit:n,Delete:s}=Se(57),o=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],i=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],l=he(),{journalEntries:c,isLoading:u}=ee(_=>_.journalEntries),[d,m]=j.useState(!1),[f,p]=j.useState(null),[h,y]=j.useState(!1),[b,g]=j.useState(!1),[x,v]=j.useState(null),[w,N]=j.useState(!1),[S,C]=j.useState(!1),{generalLedgers:A,isLoading:T}=ee(_=>_.generalLedger);j.useEffect(()=>{l(Gi()),l(fr()),l(Mr())},[l]);const I=()=>{p(null),N(!1),m(!0)},k=_=>{p(_),N(!1),m(!0)},$=_=>{p(_),N(!0),m(!0)},L=_=>{v(_),y(!0)},q=_=>{C(!0),l(fl({LinkID:_.ID,FundID:_.FundsID,CutOffDate:_.InvoiceDate||new Date().toISOString().split("T")[0]}))},E=()=>{C(!1)},R=async()=>{if(x)try{await l(Ox(x.LinkID)).unwrap(),le.success("Journal Entry voided successfully"),l(Gi())}catch(_){console.error("Failed to delete journal entry:",_),le.error("Failed to delete journal entry")}finally{y(!1),v(null)}},U=async _=>{console.log({values:_});try{f?await l(bT({journalEntry:_,id:f.ID})).unwrap():await l(Dx(_)).unwrap(),le.success("Success"),l(Gi())}catch(H){throw le.error(H||"Failed"),H}finally{m(!1),p(null)}},B=[{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:_=>a.jsx("span",{className:`px-2 py-1 rounded ${_==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":_==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":_==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":_==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":_==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":_==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:_})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"Total",header:"Total",sortable:!0,className:"text-right font-semibold",render:_=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:fe(_)})},{key:"FundsName",header:"Fund",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0}],P=async(_,H)=>{g(!0);try{const G={ID:_.ID,LinkID:_.LinkID,FundsID:_.FundsID,ApprovalProgress:(_.ApprovalProgress||0)+1,ApprovalOrder:_.SequenceOrder||_.ApprovalOrder||1,NumberOfApproverPerSequence:_.ApprovalOrder||_.NumberOfApproverPerSequence||1,ApprovalVersion:_.ApprovalVersion||1,ApprovalLinkID:_.ApprovalLinkID||_.LinkID};H==="approve"?await l($x(G)).unwrap():H==="reject"&&await l(Rx({ID:_.ID})).unwrap(),l(Gi()),le.success(`Journal Entry ${H}d successfully`)}catch(G){console.error(`Error ${H}ing Journal Entry:`,G),le.error(G||`Error ${H}ing Journal Entry`)}finally{g(!1)}},O=_=>{var re,ie,te,Z;const H=[];return((re=_==null?void 0:_.Status)==null?void 0:re.toLowerCase().includes("void"))||((ie=_==null?void 0:_.Status)!=null&&ie.toLowerCase().includes("rejected")&&n?(H.push({icon:Fe,title:"Edit",onClick:()=>k(_),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),H.push({icon:Xe,title:"Void",onClick:()=>L(_),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(te=_==null?void 0:_.Status)!=null&&te.toLowerCase().includes("requested")&&H.push({icon:wn,title:"Approve",onClick:()=>P(_,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>P(_,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),(Z=_==null?void 0:_.Status)!=null&&Z.toLowerCase().includes("posted")&&H.push({icon:Cf,title:"View GL",onClick:()=>q(_),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"})),H.push({icon:os,title:"View",onClick:$,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),H};return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Journal Entries Voucher "}),a.jsx("p",{children:"Create and edit the journal entries and vouchers."})]}),r&&a.jsxs("button",{type:"button",onClick:I,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:B,data:c,actions:O,loading:u||b,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),a.jsx(me,{size:"xxxl",isOpen:d,onClose:()=>m(!1),title:w?"View Journal Entry Voucher":f?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:a.jsx(S8e,{typeOptions:o,fundOptions:i,centerOptions:t.filter(_=>_.Active).map(_=>({label:_.Name,value:_.ID})),accountOptions:e.filter(_=>_.Active).map(_=>({label:_.AccountCode+" "+_.Name,value:_.ID})),initialData:f?{...f,AccountingEntries:((V=f.JournalEntries)==null?void 0:V.map(_=>{const H=e.find(G=>G.AccountCode===_.AccountCode&&G.Name===_.AccountName);return{ResponsibilityCenter:_.ResponsibilityCenter||"",AccountExplanation:(H==null?void 0:H.ID)||"",PR:_.PR||"",Debit:_.Debit||0,Credit:_.Credit||0}}))||[]}:null,onClose:()=>m(!1),onSubmit:U,isReadOnly:w})}),a.jsxs(me,{isOpen:h,onClose:()=>y(!1),title:"Confirm Void",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to void the journal entry "',(x==null?void 0:x.InvoiceNumber)||(x==null?void 0:x.Name),'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action will mark the request as void but keep it visible in the list."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:R,className:"btn btn-danger",children:"Void JEV"})]})]}),a.jsxs(me,{isOpen:S,onClose:E,title:"General Ledger Entries",size:"4xl",children:[a.jsx("div",{className:"overflow-hidden border border-neutral-200 rounded-xl shadow-sm my-2",children:T?a.jsxs("div",{className:"flex justify-center items-center py-12",children:[a.jsx(wf,{className:"h-8 w-8 animate-spin text-neutral-400"}),a.jsx("span",{className:"ml-2 text-neutral-500",children:"Loading ledger data..."})]}):a.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[a.jsx("thead",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Fund"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Ledger Item"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Account Name"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Code"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Debit"}),a.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Credit"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:A&&A.length>0?A.map((_,H)=>a.jsxs("tr",{className:"hover:bg-neutral-50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-900 font-medium",children:_.fund||_.FundsName||"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500",children:_.ledger_item}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-900",children:_.account_name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-neutral-500 font-mono",children:_.account_code}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-neutral-900 font-medium tabular-nums",children:_.debit>0?fe(_.debit):"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-neutral-900 font-medium tabular-nums",children:_.credit>0?fe(_.credit):"-"})]},H)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-sm text-neutral-500",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(Cf,{className:"h-10 w-10 text-neutral-300 mb-2"}),a.jsx("p",{children:"No ledger records found for this transaction."})]})})})}),A&&A.length>0&&a.jsx("tfoot",{className:"bg-neutral-50 font-semibold text-neutral-900",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"4",className:"px-6 py-3 text-right text-xs uppercase tracking-wider text-neutral-500",children:"Total"}),a.jsx("td",{className:"px-6 py-3 text-right text-sm tabular-nums",children:fe(A.reduce((_,H)=>_+(H.debit||0),0))}),a.jsx("td",{className:"px-6 py-3 text-right text-sm tabular-nums",children:fe(A.reduce((_,H)=>_+(H.credit||0),0))})]})})]})}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-neutral-200 mt-4",children:a.jsx("button",{type:"button",onClick:E,className:"btn btn-primary px-6",children:"Close"})})]})]})}function k8e({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:s,onExportExcel:o}){const i=j.useRef(null),l=pe({DateStart:M().required("Start Date is required"),DateEnd:M().required("End Date is required"),ChartOfAccountID:M().required("Chart of Accounts is required"),FundID:M().required("Fund is required"),DisbursementType:M().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(f,{setSubmitting:p})=>{const h=i.current;h==="view"?n(f):h==="generate"?s(f):h==="export"&&o(f),p(!1),i.current=null},d=[{value:"%",label:"All Funds"},...(e==null?void 0:e.map(f=>({value:f.ID,label:f.Name})))||[]],m=[{value:"%",label:"All Chart of Accounts"},...(t==null?void 0:t.map(f=>({value:f.ID,label:f.Name})))||[]];return a.jsx(He,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:f,errors:p,touched:h,handleChange:y,handleBlur:b,isSubmitting:g})=>a.jsxs(Ze,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 sm:gap-4",children:[a.jsx(D,{label:"Start Date",name:"DateStart",type:"date",value:f.DateStart,onChange:y,onBlur:b,error:p.DateStart,touched:h.DateStart,required:!0}),a.jsx(D,{label:"End Date",name:"DateEnd",type:"date",value:f.DateEnd,onChange:y,onBlur:b,error:p.DateEnd,touched:h.DateEnd,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[a.jsx(D,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:m,value:f.ChartOfAccountID,onChange:y,onBlur:b,error:p.ChartOfAccountID,touched:h.ChartOfAccountID,required:!0}),a.jsx(D,{type:"select",label:"Fund",name:"FundID",options:d,value:f.FundID,onChange:y,onBlur:b,error:p.FundID,touched:h.FundID,required:!0}),a.jsx(D,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(x=>({value:x.value,label:x.label})),value:f.DisbursementType,onChange:y,onBlur:b,error:p.DisbursementType,touched:h.DisbursementType,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>i.current="view",children:"View"}),a.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Journal"}),a.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const E8e="http://192.168.1.215:5001",D8e={disbursementJournals:[],isLoading:!1,error:null},Lx=K("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${E8e}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),TC=K("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),IG=Ce({name:"disbursementJournal",initialState:D8e,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(Lx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lx.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(Lx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(TC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TC.fulfilled,e=>{e.isLoading=!1}).addCase(TC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:O8e}=IG.actions,$8e=IG.reducer;function R8e(){const t="http://192.168.1.215:5001",e=he(),{disbursementJournals:r,isLoading:n,error:s}=ee(f=>f.disbursementJournal),o=ee(f=>{var p;return((p=f.chartOfAccounts)==null?void 0:p.accounts)||[]}),{funds:i}=ee(f=>f.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];j.useEffect(()=>{e(O8e()),e(Mr()),e(rr())},[e]);const c=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:f=>new Date(f).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>c(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>c(f),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:f=>new Date(f).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:f=>new Date(f).toLocaleDateString()}],d=async f=>{console.log({values:f});try{const p=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify({DisbursementType:f.DisbursementType,DateStart:f.DateStart,DateEnd:f.DateEnd,FundID:f.FundID,ChartOfAccountID:f.ChartOfAccountID})});if(console.log(p),!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),y=p.headers.get("Content-Disposition");let b=`Disbursement_Journals_${f.DisbursementType}.xlsx`;y&&y.includes("filename=")&&(b=y.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(h),x=document.createElement("a");x.href=g,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(g)}catch(p){console.error("Export failed:",p),Y.error(p.message||"Failed to export disbursement journal")}},m=f=>{console.log(f),e(Lx(f))};return a.jsxs("div",{children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Disbursement Journal"}),a.jsx("p",{children:"Generate disbursement journal reports."})]}),a.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:a.jsx(k8e,{chartOfAccounts:o,funds:i,disbursementTypes:l,onExportExcel:d,onView:m,onClose:()=>{}})}),s&&a.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:a.jsx("p",{className:"text-error-700",children:s})}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:u,data:r,loading:n,pagination:!0})})]})}function L8e({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const s=j.useRef(null),o=pe({DateStart:M().required("Start Date is required"),DateEnd:M().required("End Date is required"),FundID:M().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=s.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),s.current=null};return a.jsx(He,{initialValues:i,validationSchema:o,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:m,handleBlur:f,isSubmitting:p})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[a.jsx(D,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:m,onBlur:f,error:u.DateStart,touched:d.DateStart,required:!0}),a.jsx(D,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:m,onBlur:f,error:u.DateEnd,touched:d.DateEnd,required:!0}),a.jsx(D,{type:"select",label:"Fund",name:"FundID",options:t.map(h=>({value:h.ID,label:h.Name})),value:c.FundID,onChange:m,onBlur:f,error:u.FundID,touched:d.FundID,required:!0})]}),a.jsxs("div",{className:"flex justify-end max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,onClick:()=>s.current="view",children:"View"}),a.jsx("button",{type:"button",className:"btn btn-secondary",disabled:p,children:"Generate Journal"}),a.jsx("button",{type:"submit",className:"btn btn-outline",disabled:p,onClick:()=>s.current="export",children:"Export to Excel"})]})]})})}const F8e="http://192.168.1.215:5001",M8e={generalJournals:[],isLoading:!1,error:null},Fx=K("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${F8e}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),PC=K("generalJournal/exportGeneralJournals",async t=>!0),TG=Ce({name:"generalJournal",initialState:M8e,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(Fx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fx.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(Fx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(PC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PC.fulfilled,e=>{e.isLoading=!1}).addCase(PC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:_8e}=TG.actions,B8e=TG.reducer;function q8e(){const t="http://192.168.1.215:5001",e=he(),{generalJournals:r,isLoading:n,error:s}=ee(d=>d.generalJournal),{funds:o}=ee(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);j.useEffect(()=>{e(_8e()),e(rr())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const m=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!m.ok)throw new Error("Server response was not ok");const f=await m.blob(),p=m.headers.get("Content-Disposition");let h="General_Journal.xlsx";p&&p.includes("filename=")&&(h=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(f),b=document.createElement("a");b.href=y,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(y)}catch(m){console.error("Export failed:",m),Y.error(m.message||"Failed to export general journal")}},u=d=>{e(Fx(d))};return a.jsxs("div",{children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"General Journal"}),a.jsx("p",{children:"Generate general journal reports."})]}),a.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:a.jsx(L8e,{funds:o,onExportExcel:c,onView:u,onClose:()=>{}})}),s&&a.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:a.jsx("p",{className:"text-error-700",children:s})}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:l,data:r,loading:n,pagination:!0})})]})}function V8e({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n,Add:s}){const o=pe({FiscalYearID:M().required("Fiscal Year is required")}),i={FiscalYearID:""};return a.jsx(He,{initialValues:i,validationSchema:o,validateOnMount:!0,onSubmit:e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:m,isSubmitting:f})=>a.jsx(Ze,{children:a.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-between sm:gap-4 w-full",children:[a.jsx("div",{className:"flex flex-wrap items-center sm:gap-4 w-full sm:w-auto",children:a.jsx("div",{className:"w-full sm:w-auto",children:a.jsx(D,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:l.FiscalYearID,onChange:d,onBlur:m,error:c.FiscalYearID,touched:u.FiscalYearID,required:!0})})}),a.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[a.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",disabled:f,children:"Search"}),s&&a.jsx("button",{type:"button",className:"btn btn-secondary w-full sm:w-auto",onClick:r,children:"Add"}),a.jsx("button",{type:"button",className:"btn btn-outline w-full sm:w-auto",onClick:n,children:"Transfer"})]})]})})})}const th="http://192.168.1.215:5001",U8e={beginningBalance:[],isLoading:!1,error:null},Hi=K("beginningBalance/fetchBalance",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${th}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),Mx=K("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${th}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_x=K("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${th}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Bx=K("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${th}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),qx=K("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${th}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),PG=Ce({name:"beginningBalance",initialState:U8e,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(Hi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hi.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(Hi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(Mx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mx.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(Mx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(_x.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_x.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(_x.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(Bx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bx.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(Bx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(qx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(qx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:y4}=PG.actions,z8e=PG.reducer;function W8e({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:s=[],chartOfAccountsOptions:o=[]}){const i=pe({FiscalYearID:M().required("Fiscal Year is required"),FundsID:M().required("Funds are required"),BeginningBalance:ae().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:M().required("Chart of Accounts is required")}),l=ot({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return a.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(D,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),a.jsx(D,{label:"Funds",name:"FundsID",type:"select",options:s,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),a.jsx(D,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("div",{children:a.jsxs("label",{className:"form-label",children:["Chart of Accounts ",a.jsx("span",{className:"text-error-500",children:"*"})]})}),a.jsx(an,{options:o,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:o.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&a.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function G8e({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=pe({PreviousFiscalYearID:M().required("Previous Fiscal Year is required"),NextFiscalYearID:M().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(o){return o!==this.parent.PreviousFiscalYearID})}),s=ot({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:o=>{t(o)}});return a.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:s.values.PreviousFiscalYearID,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.PreviousFiscalYearID,touched:s.touched.PreviousFiscalYearID,required:!0}),a.jsx(D,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:s.values.NextFiscalYearID,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.NextFiscalYearID,touched:s.touched.NextFiscalYearID,required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Transferring...":"Transfer"})]})]})}function H8e(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function Y8e(){const t=ee(R=>{var U;return((U=R.chartOfAccounts)==null?void 0:U.accounts)||[]}),{funds:e}=ee(R=>R.funds),r=he(),{fiscalYears:n}=ee(R=>R.fiscalYears),{beginningBalance:s,isLoading:o,error:i}=ee(R=>R.beginningBalance),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[m,f]=j.useState(null),[p,h]=j.useState(!1),[y,b]=j.useState(null),[g,x]=j.useState(null),{Add:v,Edit:w,Delete:N}=Se(21);j.useEffect(()=>{r(y4()),r(ln()),r(rr()),r(Mr())},[r]);const S=async R=>{try{m?await r(_x(R)).unwrap():await r(Mx(R)).unwrap(),le.success("Success"),g&&await r(Hi(g)).unwrap()}catch(U){le.error(U||"Failed")}finally{c(!1)}},C=async R=>{try{await r(Bx(R)).unwrap(),r(y4()),await r(Hi({FiscalYearID:R.NextFiscalYearID})).unwrap(),g&&await r(Hi(g)).unwrap(),le.success("Success")}catch(U){le.error(U||"Transfer failed")}finally{d(!1)}},A=()=>{f(null),c(!0)},T=R=>{f(R),c(!0)},I=R=>{b(R),h(!0)},k=async()=>{if(y)try{await r(qx(y.ID)).unwrap(),h(!1),b(null),le.success("Deleted")}catch(R){le.error(R||"Failed")}},$=R=>!R&&R!==0?"":new Intl.NumberFormat("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(R),L=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0,className:"text-right",render:R=>a.jsx("span",{className:"font-semibold text-primary-700",children:$(R)})}],q=[w&&{icon:Fe,title:"Edit",onClick:T,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},N&&{icon:Xe,title:"Delete",onClick:I,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],E=async(R,{setSubmitting:U})=>{try{x(R),await r(Hi(R)).unwrap()}catch(B){console.error("Fetch failed:",B)}finally{U(!1)}};return a.jsxs("div",{children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Beginning Balance"}),a.jsx("p",{children:"Generate beginning balance reports."})]}),a.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:a.jsx(V8e,{fiscalYears:n.map(R=>({value:R.ID,label:R.Name})),onSubmit:E,onAddClick:A,onTransferClick:()=>d(!0),onClose:()=>{},Add:v})}),a.jsx(me,{isOpen:l,onClose:()=>c(!1),title:m?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:a.jsx(W8e,{onSubmit:S,initialData:m,fiscalYears:n.map(R=>({value:R.ID,label:R.Name})),fundsOptions:e.filter(R=>Number(R.Active)===1).map(R=>({value:R.ID,label:R.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(R=>({value:R.ID,label:`${R.AccountCode} - ${R.Name} - [${H8e(R.Description,50)}]`}))})}),a.jsx(me,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:a.jsx(G8e,{onSubmit:C,fiscalYears:n.map(R=>({value:R.ID,label:R.Name})),onClose:()=>d(!1)})}),a.jsxs(me,{isOpen:p,onClose:()=>h(!1),title:"Confirm Delete",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',y==null?void 0:y.Name,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Delete"})]})]}),i&&a.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:a.jsx("p",{className:"text-error-700",children:i})}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:L,actions:q,data:s,loading:o,pagination:!0})})]})}const K8e=pe().shape({ResponsibilityCenter:M().required("Department is required"),OfficeUnitProject:M().required("Section is required"),ContraAccountID:M().required("Charge Account is required"),InvoiceNumber:M().required("PR Number is required"),SAI_No:M(),ObligationRequestNumber:M(),InvoiceDate:Ye().required("PR Date is required"),SAIDate:Ye(),ALOBSDate:Ye(),Remarks:M().required("Purpose is required"),Items:$t().of(pe({ItemID:M().required("Required"),Quantity:M().required("Required"),Unit:M().required("Required"),Cost:ae().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function J8e({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:s=[],itemsOptions:o=[],itemsUnitsOptions:i=[],isReadOnly:l=!1}){const[c,u]=j.useState(!1),d=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return a.jsx(He,{initialValues:d,validationSchema:K8e,onSubmit:e,enableReinitialize:!0,children:({values:m,errors:f,touched:p,handleChange:h,handleBlur:y,setFieldValue:b})=>a.jsxs(Ze,{className:"space-y-1",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:m.ResponsibilityCenter,onChange:h,onBlur:y,error:f.ResponsibilityCenter,touched:p.ResponsibilityCenter,options:n,disabled:l}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:m.OfficeUnitProject,onChange:h,onBlur:y,error:f.OfficeUnitProject,touched:p.OfficeUnitProject,disabled:l}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:m.ContraAccountID,onChange:h,onBlur:y,error:f.ContraAccountID,touched:p.ContraAccountID,options:s,disabled:l})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:m.InvoiceNumber,onChange:h,onBlur:y,error:f.InvoiceNumber,touched:p.InvoiceNumber,disabled:l}),a.jsx(D,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:m.SAI_No,onChange:h,onBlur:y,error:f.SAI_No,touched:p.SAI_No,disabled:l}),a.jsx(D,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:m.ObligationRequestNumber,onChange:h,onBlur:y,error:f.ObligationRequestNumber,touched:p.ObligationRequestNumber,disabled:l})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[a.jsx(D,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:m.InvoiceDate,onChange:h,onBlur:y,error:f.InvoiceDate,touched:p.InvoiceDate,disabled:l}),a.jsx(D,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:m.SAIDate,onChange:h,onBlur:y,error:f.SAIDate,touched:p.SAIDate,disabled:l}),a.jsx(D,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:m.ALOBSDate,onChange:h,onBlur:y,error:f.ALOBSDate,touched:p.ALOBSDate,disabled:l})]}),a.jsx(D,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:m.Remarks,onChange:h,onBlur:y,error:f.Remarks,touched:p.Remarks,disabled:l}),a.jsx("hr",{className:"!mt-5 !mb-5"}),a.jsx(Lr,{name:"Items",render:({remove:g,push:x})=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"font-medium",children:"Items"}),!l&&a.jsx(Et,{type:"button",onClick:()=>x({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Items.map((v,w)=>{var N,S,C,A,T,I,k,$,L,q,E,R,U,B;return a.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[a.jsxs("div",{className:"flex max-sm:flex-col flex-wrap gap-2 w-full",children:[a.jsxs("div",{className:"flex-1 w-full sm:min-w-[200px]",children:[a.jsx("div",{children:a.jsxs("label",{className:"form-label",children:["Item ",a.jsx("span",{className:"text-error-500",children:"*"})]})}),a.jsx(an,{label:"Item",options:o,placeholder:"Select item...",isSearchable:!0,onChange:P=>b(`Items[${w}].ItemID`,(P==null?void 0:P.value)||""),name:`Items[${w}].ItemID`,value:o.find(P=>P.value===v.ItemID)||null,onBlur:y,required:!0,isDisabled:l}),((S=(N=f.Items)==null?void 0:N[w])==null?void 0:S.ItemID)&&a.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[w].ItemID})]}),a.jsx(D,{className:"flex-1 w-full sm:max-w-[180px]",type:"number",label:"Quantity",name:`Items[${w}].Quantity`,value:v.Quantity,onChange:h,onBlur:y,error:(A=(C=f.Items)==null?void 0:C[w])==null?void 0:A.Quantity,touched:(I=(T=p.Items)==null?void 0:T[w])==null?void 0:I.Quantity,required:!0,disabled:l}),a.jsx(D,{className:"flex-1 w-full sm:max-w-[150px]",type:"select",label:"Unit",name:`Items[${w}].Unit`,value:v.Unit,onChange:h,onBlur:y,options:i,error:($=(k=f.Items)==null?void 0:k[w])==null?void 0:$.Unit,touched:(q=(L=p.Items)==null?void 0:L[w])==null?void 0:q.Unit,required:!0,disabled:l}),a.jsx(D,{className:"flex-1 w-full sm:max-w-[200px]",type:"text",label:"Cost",name:`Items[${w}].Cost`,value:v.Cost!==""&&!isNaN(v.Cost)?Number(v.Cost).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:P=>{const O=P.target.value.replace(/\D/g,""),V=O?(parseInt(O,10)/100).toFixed(2):"";h({target:{name:`Items[${w}].Cost`,value:V}})},onBlur:y,error:(R=(E=f.Items)==null?void 0:E[w])==null?void 0:R.Cost,touched:(B=(U=p.Items)==null?void 0:U[w])==null?void 0:B.Cost,required:!0,disabled:l})]}),!l&&a.jsx("div",{className:"flex justify-end pt-0",children:a.jsx(Et,{type:"button",onClick:()=>g(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.Items.length===1,children:a.jsx(er,{className:"w-4 h-4"})})})]},w)}),a.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 sm:gap-4 border-t pt-4 font-semibold",children:[a.jsx("div",{className:" col-span-1 sm:col-span-2 sm:text-right",children:"Total:"}),a.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:a.jsxs("div",{className:"font-bold",children:[m.Items.reduce((v,w)=>v+(parseFloat(w.Cost)||0),0).toFixed(2)," ",a.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Estimated Cost)"})]})}),a.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:a.jsxs("div",{className:"font-bold",children:[m.Items.reduce((v,w)=>v+(parseFloat(w.Cost)||0)*(parseFloat(w.Quantity)||0),0).toFixed(2)," ",a.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),!l&&a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:"Save"})]})]})})}const yw="http://192.168.1.215:5001",X8e=[],Z8e={purchaseRequests:X8e,isLoading:!1,error:null},Qc=K("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${yw}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.error||s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),Vx=K("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${yw}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ux=K("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${yw}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zx=K("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${yw}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Q8e=Ce({name:"purchaseRequests",initialState:Z8e,reducers:{},extraReducers:t=>{t.addCase(Qc.pending,e=>{e.isLoading=!0}).addCase(Qc.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(Qc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Vx.pending,e=>{e.isLoading=!0}).addCase(Vx.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(Vx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ux.pending,e=>{e.isLoading=!0}).addCase(Ux.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(Ux.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(zx.pending,e=>{e.isLoading=!0}).addCase(zx.fulfilled,(e,r)=>{e.isLoading=!1,e.error=null}).addCase(zx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),eze=Q8e.reducer,kG=6048e5,tze=864e5,EG=6e4,DG=36e5,x4=Symbol.for("constructDateFrom");function Ks(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&x4 in t?t[x4](e):t instanceof Date?new t.constructor(e):new Date(e)}function Bn(t,e){return Ks(e||t,t)}let rze={};function xw(){return rze}function xp(t,e){var l,c,u,d;const r=xw(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Bn(t,e==null?void 0:e.in),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Cv(t,e){return xp(t,{...e,weekStartsOn:1})}function OG(t,e){const r=Bn(t,e==null?void 0:e.in),n=r.getFullYear(),s=Ks(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=Cv(s),i=Ks(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Cv(i);return r.getTime()>=o.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function b4(t){const e=Bn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function nze(t,...e){const r=Ks.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function v4(t,e){const r=Bn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function aze(t,e,r){const[n,s]=nze(r==null?void 0:r.in,t,e),o=v4(n),i=v4(s),l=+o-b4(o),c=+i-b4(i);return Math.round((l-c)/tze)}function sze(t,e){const r=OG(t,e),n=Ks(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Cv(n)}function oze(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ize(t){return!(!oze(t)&&typeof t!="number"||isNaN(+Bn(t)))}function lze(t,e){const r=Bn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const cze={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uze=(t,e,r)=>{let n;const s=cze[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function kC(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const dze={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mze={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fze={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pze={date:kC({formats:dze,defaultWidth:"full"}),time:kC({formats:mze,defaultWidth:"full"}),dateTime:kC({formats:fze,defaultWidth:"full"})},hze={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gze=(t,e,r,n)=>hze[t];function Zd(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[i]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const yze={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xze={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bze={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vze={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wze=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cze={ordinalNumber:wze,era:Zd({values:yze,defaultWidth:"wide"}),quarter:Zd({values:xze,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zd({values:bze,defaultWidth:"wide"}),day:Zd({values:vze,defaultWidth:"wide"}),dayPeriod:Zd({values:jze,defaultWidth:"wide",formattingValues:Nze,defaultFormattingWidth:"wide"})};function Qd(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const i=o[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Aze(l,m=>m.test(i)):Sze(l,m=>m.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Sze(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Aze(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Ize(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],o=e.match(t.parsePattern);if(!o)return null;let i=t.valueCallback?t.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(s.length);return{value:i,rest:l}}}const Tze=/^(\d+)(th|st|nd|rd)?/i,Pze=/\d+/i,kze={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Eze={any:[/^b/i,/^(a|c)/i]},Dze={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oze={any:[/1/i,/2/i,/3/i,/4/i]},$ze={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rze={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lze={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fze={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Mze={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_ze={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bze={ordinalNumber:Ize({matchPattern:Tze,parsePattern:Pze,valueCallback:t=>parseInt(t,10)}),era:Qd({matchPatterns:kze,defaultMatchWidth:"wide",parsePatterns:Eze,defaultParseWidth:"any"}),quarter:Qd({matchPatterns:Dze,defaultMatchWidth:"wide",parsePatterns:Oze,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Qd({matchPatterns:$ze,defaultMatchWidth:"wide",parsePatterns:Rze,defaultParseWidth:"any"}),day:Qd({matchPatterns:Lze,defaultMatchWidth:"wide",parsePatterns:Fze,defaultParseWidth:"any"}),dayPeriod:Qd({matchPatterns:Mze,defaultMatchWidth:"any",parsePatterns:_ze,defaultParseWidth:"any"})},qze={code:"en-US",formatDistance:uze,formatLong:pze,formatRelative:gze,localize:Cze,match:Bze,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vze(t,e){const r=Bn(t,e==null?void 0:e.in);return aze(r,lze(r))+1}function Uze(t,e){const r=Bn(t,e==null?void 0:e.in),n=+Cv(r)-+sze(r);return Math.round(n/kG)+1}function $G(t,e){var d,m,f,p;const r=Bn(t,e==null?void 0:e.in),n=r.getFullYear(),s=xw(),o=(e==null?void 0:e.firstWeekContainsDate)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=Ks((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=xp(i,e),c=Ks((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=xp(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function zze(t,e){var l,c,u,d;const r=xw(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=$G(t,e),o=Ks((e==null?void 0:e.in)||t,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),xp(o,e)}function Wze(t,e){const r=Bn(t,e==null?void 0:e.in),n=+xp(r,e)-+zze(r,e);return Math.round(n/kG)+1}function ht(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const io={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ht(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ht(r+1,2)},d(t,e){return ht(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ht(t.getHours()%12||12,e.length)},H(t,e){return ht(t.getHours(),e.length)},m(t,e){return ht(t.getMinutes(),e.length)},s(t,e){return ht(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ht(s,e.length)}},lc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},j4={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return io.y(t,e)},Y:function(t,e,r,n){const s=$G(t,n),o=s>0?s:1-s;if(e==="YY"){const i=o%100;return ht(i,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):ht(o,e.length)},R:function(t,e){const r=OG(t);return ht(r,e.length)},u:function(t,e){const r=t.getFullYear();return ht(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ht(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ht(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return io.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ht(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=Wze(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):ht(s,e.length)},I:function(t,e,r){const n=Uze(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ht(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):io.d(t,e)},D:function(t,e,r){const n=Vze(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ht(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ht(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ht(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return ht(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=lc.noon:n===0?s=lc.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=lc.evening:n>=12?s=lc.afternoon:n>=4?s=lc.morning:s=lc.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return io.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):io.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):io.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):io.s(t,e)},S:function(t,e){return io.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return w4(n);case"XXXX":case"XX":return Oi(n);case"XXXXX":case"XXX":default:return Oi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return w4(n);case"xxxx":case"xx":return Oi(n);case"xxxxx":case"xxx":default:return Oi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+N4(n,":");case"OOOO":default:return"GMT"+Oi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+N4(n,":");case"zzzz":default:return"GMT"+Oi(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return ht(n,e.length)},T:function(t,e,r){return ht(+t,e.length)}};function N4(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+e+ht(o,2)}function w4(t,e){return t%60===0?(t>0?"-":"+")+ht(Math.abs(t)/60,2):Oi(t,e)}function Oi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=ht(Math.trunc(n/60),2),o=ht(n%60,2);return r+s+e+o}const C4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},RG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Gze=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return C4(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",C4(n,e)).replace("{{time}}",RG(s,e))},Hze={p:RG,P:Gze},Yze=/^D+$/,Kze=/^Y+$/,Jze=["D","DD","YY","YYYY"];function Xze(t){return Yze.test(t)}function Zze(t){return Kze.test(t)}function Qze(t,e,r){const n=eWe(t,e,r);if(console.warn(n),Jze.includes(t))throw new RangeError(n)}function eWe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tWe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rWe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nWe=/^'([^]*?)'?$/,aWe=/''/g,sWe=/[a-zA-Z]/;function S4(t,e,r){var d,m,f,p;const n=xw(),s=n.locale??qze,o=n.firstWeekContainsDate??((m=(d=n.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=Bn(t,r==null?void 0:r.in);if(!ize(l))throw new RangeError("Invalid time value");let c=e.match(rWe).map(h=>{const y=h[0];if(y==="p"||y==="P"){const b=Hze[y];return b(h,s.formatLong)}return h}).join("").match(tWe).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const y=h[0];if(y==="'")return{isToken:!1,value:oWe(h)};if(j4[y])return{isToken:!0,value:h};if(y.match(sWe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(h=>{if(!h.isToken)return h.value;const y=h.value;(Zze(y)||Xze(y))&&Qze(y,e,String(t));const b=j4[y[0]];return b(l,y,s.localize,u)}).join("")}function oWe(t){const e=t.match(nWe);return e?e[1].replace(aWe,"'"):t}function A4(t,e){const r=()=>Ks(e==null?void 0:e.in,NaN),s=uWe(t);let o;if(s.date){const u=dWe(s.date,2);o=mWe(u.restDateString,u.year)}if(!o||isNaN(+o))return r();const i=+o;let l=0,c;if(s.time&&(l=fWe(s.time),isNaN(l)))return r();if(s.timezone){if(c=pWe(s.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=Bn(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Bn(i+l+c,e==null?void 0:e.in)}const tg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},iWe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lWe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cWe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function uWe(t){const e={},r=t.split(tg.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],tg.timeZoneDelimiter.test(e.date)&&(e.date=t.split(tg.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=tg.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function dWe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?s:o*100,restDateString:t.slice((n[1]||n[2]).length)}}function mWe(t,e){if(e===null)return new Date(NaN);const r=t.match(iWe);if(!r)return new Date(NaN);const n=!!r[4],s=em(r[1]),o=em(r[2])-1,i=em(r[3]),l=em(r[4]),c=em(r[5])-1;if(n)return bWe(e,l,c)?hWe(e,l,c):new Date(NaN);{const u=new Date(0);return!yWe(e,o,i)||!xWe(e,s)?new Date(NaN):(u.setUTCFullYear(e,o,Math.max(s,i)),u)}}function em(t){return t?parseInt(t):1}function fWe(t){const e=t.match(lWe);if(!e)return NaN;const r=EC(e[1]),n=EC(e[2]),s=EC(e[3]);return vWe(r,n,s)?r*DG+n*EG+s*1e3:NaN}function EC(t){return t&&parseFloat(t.replace(",","."))||0}function pWe(t){if(t==="Z")return 0;const e=t.match(cWe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return jWe(n,s)?r*(n*DG+s*EG):NaN}function hWe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,o=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+o),n}const gWe=[31,null,31,30,31,30,31,31,30,31,30,31];function LG(t){return t%400===0||t%4===0&&t%100!==0}function yWe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(gWe[e]||(LG(t)?29:28))}function xWe(t,e){return e>=1&&e<=(LG(t)?366:365)}function bWe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function vWe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function jWe(t,e){return e>=0&&e<=59}function NWe(){const[t,e]=j.useState(!1),[r,n]=j.useState(null),{departments:s}=ee(R=>R.departments),o=ee(R=>{var U;return((U=R.chartOfAccounts)==null?void 0:U.accounts)||[]}),{items:i}=ee(R=>R.items),{itemUnits:l}=ee(R=>R.itemUnits),{purchaseRequests:c,isLoading:u}=ee(R=>R.purchaseRequests),[d,m]=j.useState(!1),[f,p]=j.useState(!1),[h,y]=j.useState(null),[b,g]=j.useState(!1),{Add:x,Edit:v,Delete:w}=Se(69),N=he();j.useEffect(()=>{N(fr()),N(Mr()),N(rs()),N(Da()),N(Qc())},[]);const S=()=>{n(null),g(!1),e(!0)},C=R=>{n(R),g(!1),e(!0)},A=R=>{n(R),g(!0),e(!0)},T=R=>{y(R),m(!0)},I=()=>{e(!1),n(null)},k=async()=>{if(h)try{await N(zx(h.ID)).unwrap(),m(!1),y(null),le.success("Purchase Request voided successfully"),N(Qc())}catch(R){le.error(R||"Failed")}},$=async R=>{try{const U=R.Items.reduce((O,V)=>O+(parseFloat(V.Cost)||0),0),B=R.Items.reduce((O,V)=>O+(parseFloat(V.Cost)||0)*(parseFloat(V.Quantity)||0),0),P={...R,Total:U.toFixed(2),AmountReceived:B.toFixed(2)};r?await N(Ux(P)).unwrap():await N(Vx(P)).unwrap(),le.success("Success")}catch(U){le.error(U||"Failed")}finally{e(!1)}},L=[{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:R=>a.jsx("span",{className:`px-2 py-1 rounded ${R==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":R==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":R==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":R==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":R==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":R==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:R})},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Total",header:"Total",sortable:!0,className:"text-right font-semibold text-primary-700",render:R=>a.jsxs("span",{className:"text-right font-semibold text-primary-700",children:[" ",R?Number(R).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""]})},{key:"Remarks",header:"Purpose",sortable:!0}],q=async(R,U)=>{p(!0);const B=U==="approve"?"approved":"rejected",P=U==="approve"?"approving":"rejecting";try{const O=await De.post(`/purchaseRequest/${U}`,{ID:R.ID});console.log(`${B}:`,O.data),N(Qc()),le.success(`Purchase Request ${B} successfully`)}catch(O){console.error(`Error ${P} Purchase Request:`,O),le.error(`Error ${P} Purchase Request`)}finally{p(!1)}},E=R=>{var P,O,V;const U=[];return((P=R==null?void 0:R.Status)==null?void 0:P.toLowerCase().includes("void"))?(U.push({icon:os,title:"View",onClick:A,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U):((O=R==null?void 0:R.Status)!=null&&O.toLowerCase().includes("rejected")&&v?(U.push({icon:Fe,title:"Edit",onClick:C,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U.push({icon:Xe,title:"Void",onClick:()=>T(R),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(V=R==null?void 0:R.Status)!=null&&V.toLowerCase().includes("requested")&&U.push({icon:wn,title:"Approve",onClick:()=>q(R,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>q(R,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),U.push({icon:os,title:"View",onClick:A,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U)};return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Purchase Requests"}),a.jsx("p",{children:"Handle purchase requests created within the system."})]}),x&&a.jsxs("button",{type:"button",onClick:S,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:L,actions:E,data:c,loading:u||f})}),a.jsx(me,{isOpen:t,onClose:I,title:b?"View Purchase Request":r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:a.jsx(J8e,{isReadOnly:b,initialData:r,departmentsOptions:s.map(R=>({value:R.ID,label:R.Name})),chartOfAccountsOptions:o.map(R=>({value:R.ID,label:R.Name})),itemsOptions:i.map(R=>({value:R.ID,label:R.Name})),itemsUnitsOptions:l.map(R=>({value:R.ID,label:R.Name})),onSubmit:$,onClose:I})}),a.jsxs(me,{isOpen:d,onClose:()=>m(!1),title:"Confirm Void",children:[a.jsxs("div",{className:"py-3",children:[a.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to void the purchase request "',h==null?void 0:h.InvoiceNumber,'"?']}),a.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action will mark the request as void but keep it visible in the list."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:k,className:"btn btn-danger",children:"Void Request"})]})]})]})}pe({number:M().required("Number is required"),date:Ye().required("Date is required"),payee:M().required("Payee is required"),address:M().required("Address is required"),fund:M().required("Fund is required"),fiscalYear:M().required("Fiscal Year is required"),project:M().required("Project is required")});function wWe({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:s=[],taxCodeOptions:o=[],taxCodeFull:i=[],budgetOptions:l=[],formBudgets:c=[],initialData:u}){var h;const d=pe({ResponsibilityCenter:M().required("Required"),ChargeAccountID:M().required("Required"),Remarks:M().required("Required"),Price:ae().required("Required"),Quantity:ae().required("Required"),ItemUnitID:M().required("Required")}),m=ot({initialValues:u||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:d,onSubmit:y=>{let b=y.TAXCodeID;if(!b&&i.length>0){const w=i.find(N=>parseFloat(N.Rate)===0);b=w?w.ID:i[0].ID}const g=i.find(w=>String(w.ID)===String(b)),x=r.find(w=>String(w.value)===String(y.ResponsibilityCenter)),v=f.find(w=>String(w.value)===String(y.ChargeAccountID));t({...y,TAXCodeID:b,responsibilityCenterName:x?x.label:"",chargeAccountName:v?v.label:"",itemName:y.Remarks,TaxName:g==null?void 0:g.Name,TaxRate:g==null?void 0:g.Rate}),e()}}),f=j.useMemo(()=>m.values.ResponsibilityCenter?c&&c.length>0?c.filter(y=>String(y.DepartmentID)===String(m.values.ResponsibilityCenter)).map(y=>({value:y.ID,label:y.Name})):l:[],[m.values.ResponsibilityCenter,c,l]);j.useEffect(()=>{m.values.ResponsibilityCenter&&m.values.ChargeAccountID&&(f.some(b=>String(b.value)===String(m.values.ChargeAccountID))||m.setFieldValue("ChargeAccountID",""))},[m.values.ResponsibilityCenter,f]);const p=j.useRef({...m.values});return j.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(x=>m.values[x]!==p.current[x]))return;p.current={...m.values};const b=i.find(x=>String(x.ID)===String(m.values.TAXCodeID)),g=Vm({price:m.values.Price,quantity:m.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,vatable:m.values.Vatable,ewtRate:0});g.subtotal!==m.values.subtotal&&m.setFieldValue("subtotal",g.subtotal,!1),g.withheld!==m.values.withheldEWT&&m.setFieldValue("withheldEWT",g.withheld,!1)},[m.values.Price,m.values.Quantity,m.values.TAXCodeID,m.values.Vatable,m.values.withheldEWT,i]),(h=i.find(y=>String(y.ID)===String(m.values.TAXCodeID)))==null||h.Rate,a.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx(D,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...m.getFieldProps("ResponsibilityCenter"),required:!0,error:m.touched.ResponsibilityCenter&&m.errors.ResponsibilityCenter,touched:m.touched.ResponsibilityCenter})}),a.jsx("div",{children:a.jsx(D,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:f,...m.getFieldProps("ChargeAccountID"),required:!0,error:m.touched.ChargeAccountID&&m.errors.ChargeAccountID,touched:m.touched.ChargeAccountID})})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx("div",{children:a.jsx(D,{type:"textarea",label:"Particulars",name:"Remarks",...m.getFieldProps("Remarks"),required:!0,rows:3,error:m.touched.Remarks&&m.errors.Remarks,touched:m.touched.Remarks})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsx("div",{children:a.jsx(D,{type:"number",label:"Item Price",name:"Price",...m.getFieldProps("Price"),required:!0,error:m.touched.Price&&m.errors.Price,touched:m.touched.Price})}),a.jsx("div",{children:a.jsx(D,{type:"number",label:"Quantity",name:"Quantity",...m.getFieldProps("Quantity"),required:!0,error:m.touched.Quantity&&m.errors.Quantity,touched:m.touched.Quantity})}),a.jsx("div",{children:a.jsx(D,{type:"select",label:"Unit",name:"ItemUnitID",options:s,...m.getFieldProps("ItemUnitID"),required:!0,error:m.touched.ItemUnitID&&m.errors.ItemUnitID,touched:m.touched.ItemUnitID})})]}),a.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(m.values.subtotal||0).toFixed(2)]}),a.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const FG="http://192.168.1.215:5001",CWe={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},hl=K("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${FG}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),DC=K("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const o=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);o?r(o):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Wx=K("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${FG}/fundUtilizationRequest/save`,{method:"POST",headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Gx=K("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),MG=Ce({name:"fundUtilizations",initialState:CWe,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(hl.pending,e=>{e.isLoading=!0}).addCase(hl.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(hl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(DC.pending,e=>{e.isLoading=!0}).addCase(DC.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(DC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wx.pending,e=>{e.isLoading=!0}).addCase(Wx.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(Wx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gx.pending,e=>{e.isLoading=!0}).addCase(Gx.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(s=>s.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(Gx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:wKe}=MG.actions,SWe=MG.reducer,AWe="http://192.168.1.215:5001",I4=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],IWe=pe().shape({obrNo:M(),obrDate:Ye().required("Date is required"),payeeType:M().required("Payee type is required"),payeeId:ae().nullable(),responsibilityCenter:M().required("Responsibility Center is required"),fund:M().required("Fund is required"),fiscalYear:M().required("Fiscal Year is required"),project:M().required("Project is required"),accountingEntries:$t().min(1,"At least one item is required")});function TWe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:s=[],employeeData:o=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:m=[],particularsOptions:f=[],unitOptions:p=[],taxCodeOptions:h=[],budgetOptions:y=[],formBudgets:b=[],taxCodeFull:g=[]}){const x=he(),v=j.useRef(null),[w,N]=j.useState(!1),[S,C]=j.useState(null),[A,T]=j.useState(null),[I,k]=j.useState(!1),[$,L]=j.useState([]),q=(P,O)=>{const V=P.reduce((G,re)=>G+Number(re.amount||0),0),_=O.reduce((G,re)=>G+Number(re.amount||0),0),H=V-_;return{grossAmount:V,totalTaxes:_,netAmount:H}},E={description:"",amount:"",accountCode:""},R={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.ResponsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[E],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},U=P=>{N(!0),q(P.items,P.taxes);const O=new FormData;P.payeeType==="Employee"?(P.payeeId?(O.append("EmployeeID",P.payeeId),O.append("PayeeType","Employee")):(O.append("EmployeeID",""),O.append("PayeeType","NewEmployee")),O.append("VendorID",""),O.append("CustomerID","")):P.payeeType==="Vendor"?(P.payeeId?(O.append("VendorID",P.payeeId),O.append("PayeeType","Vendor")):(O.append("VendorID",""),O.append("PayeeType","NewVendor")),O.append("EmployeeID",""),O.append("CustomerID","")):P.payeeType==="Individual"&&(P.payeeId?(O.append("CustomerID",P.payeeId),O.append("PayeeType","Individual")):(O.append("CustomerID",""),O.append("PayeeType","New")),O.append("EmployeeID",""),O.append("VendorID","")),P.payeeId?(console.log("FURS - Sending EXISTING payee - ID:",P.payeeId),O.append("Payee",(S==null?void 0:S.Name)||(S==null?void 0:S.FirstName)+" "+(S==null?void 0:S.MiddleName)+" "+(S==null?void 0:S.LastName)||""),O.append("Address",(S==null?void 0:S.StreetAddress)||"")):(console.log("FURS - Sending NEW payee - Name:",P.payeeName,"Type:",P.payeeType),O.append("Payee",P.payeeName||""),O.append("Address","N/A")),O.append("InvoiceNumber",P.obrNo),O.append("InvoiceDate",P.obrDate),O.append("ResponsibilityCenter",P.responsibilityCenter);const V=P.accountingEntries.reduce((te,Z)=>te+Number(Z.subtotal||0),0),_=P.accountingEntries.reduce((te,Z)=>te+Number(Z.ewt||0),0),H=P.accountingEntries.reduce((te,Z)=>te+Number(Z.withheld||0),0),G=P.accountingEntries.reduce((te,Z)=>te+Number(Z.vat||0),0),re=P.accountingEntries.reduce((te,Z)=>te+Number(Z.discount||0),0);O.append("Total",V.toFixed(2)),O.append("EWT",_.toFixed(2)),O.append("WithheldAmount",H.toFixed(2)),O.append("Vat_Total",G.toFixed(2)),O.append("Discounts",re.toFixed(2)),O.append("FundsID",P.fund),O.append("FiscalYearID",P.fiscalYear),O.append("ProjectID",P.project),O.append("TravelID",""),O.append("Items",JSON.stringify(P.accountingEntries)),P.Attachments.forEach((te,Z)=>{te.ID?O.append(`Attachments[${Z}].ID`,te.ID):O.append(`Attachments[${Z}].File`,te.File)});const ie=t?Gx({formData:O,id:t.ID}):Wx(O);t?(O.append("IsNew",!1),O.append("LinkID",t.LinkID)):O.append("IsNew",!0),x(ie).unwrap().then(()=>{le.success("Success"),x(hl()),e()}).catch(te=>{le.error((te==null?void 0:te.message)||"Failed to submit"),console.error("Error submitting DV:",te)}).finally(()=>{N(!1)})},B=({type:P})=>{switch(P){case"Employee":return a.jsx(ni,{className:"w-5 h-5"});case"Vendor":return a.jsx(ej,{className:"w-5 h-5"});case"Individual":return a.jsx(Af,{className:"w-5 h-5"});default:return null}};return a.jsx("div",{children:a.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:a.jsx(He,{innerRef:v,initialValues:R,validationSchema:IWe,onSubmit:U,enableReinitialize:!0,children:({values:P,errors:O,touched:V,handleChange:_,handleBlur:H,setFieldValue:G,setFieldTouched:re,isValid:ie,isSubmitting:te})=>{q(P.items,P.taxes);const z=I4.map(J=>({value:J.value,label:J.label})).find(J=>J.value===P.payeeType),W=J=>{C(null),G("payeeType",J),G("payeeName",""),G("payeeId",""),G("payeeAddress",""),G("officeUnitProject",""),G("orsNumber",""),G("responsibilityCenter","")},X=J=>{let ne=null;switch(P.payeeType){case"Employee":ne=o.find(ue=>ue.ID===J);break;case"Vendor":ne=i.find(ue=>ue.ID===J);break;case"Individual":ne=l.find(ue=>ue.ID===J);break}C(ne),G("payeeName",ne==null?void 0:ne.Name),G("payeeId",ne==null?void 0:ne.ID)},F=J=>{switch(J){case"Employee":return r;case"Vendor":return n;case"Individual":return s;default:return[]}};return a.jsxs(Ze,{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"space-y-2",children:I4.map(J=>a.jsxs("button",{type:"button",onClick:()=>W(J.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${P.payeeType===J.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[a.jsx(B,{type:J.value}),a.jsx("span",{className:"ml-3 font-medium",children:J.label})]},J.value))}),O.payeeType&&V.payeeType&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.payeeType})]}),P.payeeType&&a.jsx("div",{className:"lg:col-span-1",children:a.jsx(rt,{label:`Select ${z==null?void 0:z.label}`,name:"payee",options:F(P.payeeType),value:P.payeeName,onSelect:J=>{const ne=F(P.payeeType).find(ue=>ue.value===J);ne?(G("payeeName",ne.label||""),G("payeeId",ne.value||""),X(ne.value)):(G("payeeName",J),G("payeeId",null),C(null))},selectedValue:P.payeeId||P.payeeName,error:O.payeeId,touched:V.payeeId,required:!0})}),S&&a.jsx("div",{className:"lg:col-span-1",children:a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),a.jsx("div",{className:"text-sm text-gray-900",children:(z==null?void 0:z.label)==="Employee"?`${S.FirstName||""} ${S.MiddleName||""} ${S.LastName||""}`.trim():((z==null?void 0:z.label)==="Vendor"||(z==null?void 0:z.label)==="Individual",S.Name)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),a.jsx("div",{className:"text-sm text-gray-900",children:((z==null?void 0:z.label)==="Employee"||(z==null?void 0:z.label)==="Vendor"||(z==null?void 0:z.label)==="Individual",S.StreetAddress)})]})]})})})})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[a.jsx(D,{type:"text",label:"No.",name:"obrNo",value:P.obrNo,onChange:_,onBlur:H,error:O.obrNo,touched:V.obrNo,className:"bg-gray-100",readOnly:!0,disabled:!0}),a.jsx(D,{type:"date",label:"Date",name:"obrDate",value:P.obrDate,onChange:_,onBlur:H,error:O.obrDate,touched:V.obrDate})]}),a.jsx("hr",{}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:c,value:c.find(J=>J.value===P.responsibilityCenter)||null,onChange:J=>G("responsibilityCenter",J.value),onBlur:()=>re("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),O.responsibilityCenter&&V.responsibilityCenter&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.responsibilityCenter})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:u,value:u.find(J=>J.value===P.fund)||null,onChange:J=>G("fund",J.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fund&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fund})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:m,value:m.find(J=>J.value===P.fiscalYear)||null,onChange:J=>G("fiscalYear",J.value),className:"react-select-container",classNamePrefix:"react-select"}),O.fiscalYear&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.fiscalYear})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(an,{options:d,value:d.find(J=>J.value===P.project)||null,onChange:J=>G("project",J.value),className:"react-select-container",classNamePrefix:"react-select"}),O.project&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.project})]})]}),a.jsx(Lr,{name:"accountingEntries",children:({push:J,remove:ne})=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Items"}),a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>k(!0),children:"+ Item"})]}),P.accountingEntries.length>0&&a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"hidden md:grid md:grid-cols-6 gap-2 font-semibold text-sm",children:[a.jsx("span",{children:"RC"}),a.jsx("span",{children:"REMARKS"}),a.jsx("span",{children:"PARTICULARS"}),a.jsx("span",{children:"ACCOUNT CODE"}),a.jsx("span",{className:"text-right",children:"SUB-TOTAL"}),a.jsx("span",{})," "]}),P.accountingEntries.map((ue,ge)=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[a.jsxs("span",{children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["RC:"," "]}),ue.responsibilityCenterName]}),a.jsxs("span",{children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["Remarks:"," "]}),ue.Remarks]}),a.jsxs("span",{children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["Particulars:"," "]}),ue.itemName]}),a.jsxs("span",{children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["Account Code:"," "]}),ue.chargeAccountName]}),a.jsxs("span",{className:"text-right",children:[a.jsxs("span",{className:"md:hidden font-semibold",children:["Sub-total:"," "]}),fe(ue.subtotal)]}),a.jsx("div",{className:"text-right",children:a.jsx("button",{type:"button",onClick:()=>ne(ge),className:"text-red-600 text-xs hover:text-red-900",children:a.jsx(SV,{className:"w-4 h-4"})})})]},ge)),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[a.jsx("div",{className:"md:col-span-5 text-right",children:"Total:"}),a.jsx("div",{className:"text-right",children:fe(P.accountingEntries.reduce((ue,ge)=>ue+Number(ge.subtotal),0))})]})]}),a.jsx(me,{isOpen:I,onClose:()=>k(!1),title:"Add Accounting Entry",size:"xl",children:a.jsx(wWe,{initialData:null,responsibilityOptions:c,particularsOptions:f,unitOptions:p,taxCodeOptions:h,budgetOptions:y,formBudgets:b,taxCodeFull:g,onClose:()=>k(!1),onSubmit:ue=>{J(ue),k(!1)}})})]})}),O.accountingEntries&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:O.accountingEntries}),a.jsx("hr",{}),a.jsx(Lr,{name:"Attachments",render:({remove:J,push:ne})=>{var ue;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>ne({File:null}),children:"+ Attachment"})]}),(ue=P.Attachments)==null?void 0:ue.map((ge,we)=>a.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[ge.ID?a.jsxs("div",{className:"flex-1",children:[a.jsx("a",{href:`${AWe}/uploads/${ge.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:ge.DataName}),a.jsx("input",{type:"hidden",name:`Attachments[${we}].ID`,value:ge.ID})]}):a.jsxs("div",{className:"flex-1 min-w-[300px]",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${we+1}`}),a.jsx("input",{type:"file",name:`Attachments[${we}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ae=>G(`Attachments[${we}].File`,Ae.currentTarget.files[0]),onBlur:H,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),a.jsx(Et,{type:"button",onClick:()=>J(we),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:a.jsx(er,{className:"w-4 h-4"})})]},we))]})}}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,disabled:w||te,children:"Cancel"}),a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:w||te,children:w||te?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Save"})]})]})}})})})}function PWe({or:t,onBack:e,onEdit:r}){var x,v,w;const n=he(),[s,o]=j.useState(!1),{generalLedgers:i,isLoading:l}=ee(N=>N.generalLedger),{employees:c}=ee(N=>N.employees),{customers:u}=ee(N=>N.customers),{vendorDetails:d}=ee(N=>N.vendorDetails),{funds:m}=ee(N=>N.funds),{accounts:f}=ee(N=>N.chartOfAccounts),{departments:p}=ee(N=>N.departments),h=()=>{o(!0),n(fl({LinkID:t.LinkID||t.ID,FundID:t.FundsID||t.FundID,CutOffDate:t.InvoiceDate||new Date().toISOString().split("T")[0]}))},y=()=>{o(!1)};if(!t)return null;const b=N=>new Date(N).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),g=N=>{let S="bg-neutral-100 text-neutral-800";if(!N)return S;const C=N.toLowerCase();return C.includes("requested")?S="bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":C.includes("approved")||C.includes("posted")?S="bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":C.includes("rejected")?S="bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":C.includes("void")&&(S="bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300"),S};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${g(t.Status||((x=t.Transaction)==null?void 0:x.Status))}`,children:t.Status||((v=t.Transaction)==null?void 0:v.Status)}),a.jsxs("div",{className:"flex space-x-2",children:[r&&a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:()=>r(t),children:[a.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[a.jsx(Fl,{className:"h-4 w-4 mr-2"}),"Print"]}),a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",title:"View General Ledger",onClick:h,children:[a.jsx(Cf,{className:"h-4 w-4 mr-2"}),"General Ledger"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Request Details"}),a.jsxs("dl",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Invoice Number"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.InvoiceNumber||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.InvoiceDate?b(t.InvoiceDate):"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Responsibility Center"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.ResponsibilityCenterName||((w=p.find(N=>String(N.ID)===String(t.ResponsibilityCenter)))==null?void 0:w.Name)||t.ResponsibilityCenter||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:(()=>{const N=m.find(S=>String(S.ID)===String(t.FundsID||t.FundID));return(N==null?void 0:N.Name)||t.FundsID||"N/A"})()})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),a.jsx("dl",{className:"space-y-2",children:(()=>{let N=t.Payee||t.payeeName,S=t.PayeeType||t.payeeType,C=t.Address||t.payeeAddress;if(!N||N==="N/A"||N===""){if(t.EmployeeID){const A=c.find(T=>String(T.ID)===String(t.EmployeeID));A&&(N=`${A.FirstName} ${A.MiddleName?A.MiddleName+" ":""}${A.LastName}`,S="Employee",C=A.StreetAddress||A.Address)}else if(t.VendorID){const A=d.find(T=>String(T.ID)===String(t.VendorID));A&&(N=A.Name,S="Vendor",C=A.StreetAddress||A.Address||A.OfficeAddress)}else if(t.CustomerID){const A=u.find(T=>String(T.ID)===String(t.CustomerID));A&&(N=A.Name||`${A.FirstName} ${A.LastName}`,S="Customer/Individual",C=A.StreetAddress||A.Address)}}return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:N||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Type"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:S||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:C||"N/A"})]})]})})()})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-3",children:"Items"}),a.jsx("div",{className:"overflow-hidden border border-neutral-200 rounded-xl shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[a.jsx("thead",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase",children:"RC"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase",children:"Particulars"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase",children:"Account Code"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-neutral-500 uppercase",children:"Amount"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:(()=>{const N=t.TransactionItemsAll||t.Items||[];return N.length>0?N.map((S,C)=>{var A;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:S.responsibilityCenterName||S.RC||((A=p.find(T=>String(T.ID)===String(S.ResponsibilityCenter)))==null?void 0:A.Name)||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-sm text-neutral-900",children:S.itemName||S.Remarks}),a.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600 font-mono",children:S.chargeAccountName||S.AccountCode}),a.jsx("td",{className:"px-6 py-4 text-sm text-right text-neutral-900 font-medium whitespace-nowrap",children:fe(S.subtotal||S.amount||0)})]},C)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-sm text-neutral-500",children:"No items found"})})})()}),a.jsx("tfoot",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"3",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase",children:"Total"}),a.jsx("td",{className:"px-6 py-3 text-right text-sm font-bold text-neutral-900",children:fe(t.Total||0)})]})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-5 rounded-xl bg-white border border-neutral-200 shadow-sm",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500 uppercase",children:"Total Amount"}),a.jsx("dd",{className:"mt-2 text-3xl font-bold text-neutral-900",children:fe(t.Total)})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-white border border-neutral-200 shadow-sm",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500 uppercase",children:"VAT Total"}),a.jsx("dd",{className:"mt-2 text-3xl font-bold text-neutral-900",children:fe(t.Vat_Total)})]}),a.jsxs("div",{className:"p-5 rounded-xl bg-success-50 border border-success-200 shadow-sm",children:[a.jsx("dt",{className:"text-sm font-medium text-success-800 uppercase",children:"Net Amount"}),a.jsx("dd",{className:"mt-2 text-3xl font-bold text-success-700",children:fe(t.Total-(t.WithheldAmount||0))})]})]}),a.jsx("div",{className:"flex justify-end space-x-3 pt-6 border-t border-neutral-200",children:a.jsx("button",{type:"button",onClick:e,className:"btn btn-outline px-6",children:"Close"})}),a.jsx(me,{isOpen:s,onClose:y,title:"General Ledger Entries",size:"4xl",children:a.jsx("div",{className:"overflow-hidden border border-neutral-200 rounded-xl shadow-sm my-2",children:l?a.jsx("div",{className:"p-4 text-center",children:"Loading..."}):a.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[a.jsx("thead",{className:"bg-neutral-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase",children:"Account"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase",children:"Debit"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase",children:"Credit"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-neutral-200",children:[i==null?void 0:i.map((N,S)=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 text-sm text-neutral-900",children:[N.account_name," ",a.jsxs("span",{className:"text-neutral-500",children:["(",N.account_code,")"]})]}),a.jsx("td",{className:"px-6 py-4 text-sm text-right",children:N.debit>0?fe(N.debit):"-"}),a.jsx("td",{className:"px-6 py-4 text-sm text-right",children:N.credit>0?fe(N.credit):"-"})]},S)),(!i||i.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"px-6 py-4 text-center text-sm text-neutral-500",children:"No entries found"})})]})]})})})]})}function kWe(){const t=he(),{fundUtilizations:e,isLoading:r}=ee(E=>E.fundUtilizations),{Add:n,Edit:s,Delete:o,Approve:i,Reject:l}=Se(47),{employees:c}=ee(E=>E.employees),{customers:u}=ee(E=>E.customers),{vendorDetails:d}=ee(E=>E.vendorDetails),{departments:m}=ee(E=>E.departments),{projectDetails:f}=ee(E=>E.projectDetails),{funds:p}=ee(E=>E.funds),{fiscalYears:h}=ee(E=>E.fiscalYears),{items:y}=ee(E=>E.items),{taxCodes:b}=ee(E=>E.taxCodes),{itemUnits:g}=ee(E=>E.itemUnits),{budgets:x}=ee(E=>E.budget),[v,w]=j.useState("list"),[N,S]=j.useState(null);j.useEffect(()=>{t(hl()),t(on()),t(Ir()),t(Ea()),t(fr()),t(ns()),t(rr()),t(ln()),t(rs()),t(ia()),t(Da()),t(Jo())},[t]);const C=()=>{S(null),w("form")},A=E=>{S(E),w("details")},T=E=>{S(E),w("form")},I=()=>{w("list"),S(null)},k=async(E,R)=>{var P,O,V,_;const U=R==="approve"?"approved":"rejected",B=R==="approve"?"approving":"rejecting";try{const H={ID:E.ID,FundsID:E.FundsID};if(R==="reject"){const re=window.prompt("Please enter reason for rejection:");if(re===null)return;H.Reason=re}const G=await De.post(`/fundUtilizationRequest/${R}`,H,{timeout:3e4});Y.success(`Fund Utilization Request ${U} successfully`),t(hl())}catch(H){console.error(`Error ${B} FURS:`,H);const G=((O=(P=H.response)==null?void 0:P.data)==null?void 0:O.error)||((_=(V=H.response)==null?void 0:V.data)==null?void 0:_.message)||`Error ${B} FURS`;Y.error(G)}},$=async E=>{var R,U,B;if(window.confirm("Are you sure you want to void this Request?"))try{await De.post("/fundUtilizationRequest/void",{ID:E.ID,ApprovalLinkID:((R=E.Transaction)==null?void 0:R.ApprovalLinkID)||""}),Y.success("Fund Utilization Request voided successfully"),t(hl())}catch(P){console.error("Error voiding FURS:",P),Y.error(((B=(U=P.response)==null?void 0:U.data)==null?void 0:B.error)||"Error voiding FURS")}},L=E=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(E),q=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:E=>hw(E)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:E=>new Date(E).toLocaleDateString()},{key:"Remarks",header:"Particular",sortable:!0,render:(E,R)=>{const B=(R.TransactionItemsAll||R.Items||[]).map(P=>P.Remarks||P.itemName).join(", ");return a.jsx("div",{className:"whitespace-pre-wrap",children:B})}},{key:"Total",header:"Total",sortable:!0,className:"text-right font-semibold",render:E=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:L(E)})},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0,render:(E,R)=>{var V,_;const U=R.TransactionItemsAll||R.Items||[];if(U.length>0){const H=U[0],G=((_=(V=H.ChargeAccount)==null?void 0:V.Department)==null?void 0:_.Name)||H.responsibilityCenterName;if(G)return G}const B=E||R.ResponsibilityCenter||R.ResponsibilityCenterName;if(B&&typeof B=="string"&&isNaN(B))return B;const P=R.DepartmentID||R.ResponsibilityCenterID||(isNaN(B)?null:Number(B)),O=m.find(H=>String(H.ID)===String(P));return O?O.Name:"N/A"}}];return a.jsxs("div",{children:[v==="list"&&a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Fund Utilization Request and Status"}),a.jsx("p",{children:"Manage and track your fund utilization requests."})]}),n&&a.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:q,data:e,actions:E=>{var B;const R=[],U=(E.Status||((B=E.Transaction)==null?void 0:B.Status)||"").toLowerCase();return R.push({icon:Ra,title:"View",onClick:()=>A(E),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U==="void"||(U.includes("rejected")&&s&&R.push({icon:Fe,title:"Edit",onClick:()=>T(E),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U.includes("requested")&&R.push({icon:tj,title:"Approve",onClick:()=>k(E,"approve"),className:"text-success-600 hover:text-success-900 p-1 rounded-full hover:bg-success-50"},{icon:Hu,title:"Reject",onClick:()=>k(E,"reject"),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),U!=="posted"&&o&&R.push({icon:Xe,title:"Void",onClick:()=>$(E),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),R},loading:r})})]}),v==="form"&&a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex sm:items-center max-sm:flex-col gap-4",children:[a.jsx("button",{onClick:I,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{children:N?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),a.jsxs("p",{children:["Fill out the form to"," ",N?"update":"create"," a fund utilization request."]})]})]})})}),a.jsx("div",{className:"mt-4",children:a.jsx(TWe,{initialData:N,employeeOptions:c.map(E=>({value:E.ID,label:E.FirstName+" "+E.MiddleName+" "+E.LastName})),vendorOptions:d.map(E=>({value:E.ID,label:E.Name})),individualOptions:u.map(E=>({value:E.ID,label:E.Name||`${E.FirstName} ${E.MiddleName} ${E.LastName}`})),employeeData:c,vendorData:d,individualData:u,departmentOptions:m.map(E=>({value:E.ID,label:E.Name})),fundOptions:p.map(E=>({value:E.ID,label:E.Name})),projectOptions:f.map(E=>({value:E.ID,label:E.Title})),fiscalYearOptions:h.map(E=>({value:E.ID,label:E.Name})),particularsOptions:y.map(E=>({value:E.ID,label:E.Name})),unitOptions:g.map(E=>({value:E.ID,label:E.Name})),taxCodeOptions:b.map(E=>({value:E.ID,label:E.Name})),budgetOptions:x.map(E=>({value:E.ID,label:E.Name})),formBudgets:x,taxCodeFull:b,onCancel:I,onSubmitSuccess:I,onClose:I})})]}),v==="details"&&N&&a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:I,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{children:"Request Details"}),a.jsx("p",{children:"View fund utilization request details"})]})]})})}),a.jsx("div",{className:"mt-4",children:a.jsx(PWe,{or:N,onBack:I,onEdit:T})})]})]})}const vT=()=>{const e=new Date().getMonth();return[0,0,6,8,10,12,14,16,18,20,22,24][e]},EWe=pe({Year:ae().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:M().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Ye().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:ae().required("Certificate number is required").typeError("Year must be a number").min(3,"Certificate number must be at least 3 Numbers"),TIN:M().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),LastName:M().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:M().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:M().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:M().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:M().required("Citizenship is required"),ICRNo:M().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:M().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Ye().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),s=e.getMonth()-r.getMonth();return s<0||s===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:M(),Occupation:M().min(2,"Profession must be at least 2 characters"),Gender:M().required("Sex is required"),Height:ae().typeError("Height must be a number").min(90,"Minimum height is 90 cm").max(243,"Maximum height is 243 cm"),Weight:ae().typeError("Weight must be a number").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:ae().typeError("Must be a number").required("Basic tax is required").oneOf([1,5],"Basic tax can only be 1 or 5"),BusinessEarnings:ae().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:ae().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:ae().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:ae().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:ae().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:ae().min(0,"Real property tax cannot be negative").nullable(),Total:ae().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:ae().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),InterestAmount:ae(),AmountReceived:ae().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:M().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:M().max(500,"Amount in words cannot exceed 500 characters")}),T4=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:s=!1,currentCertificateNumber:o=null,isNewIndividual:i=!1,newOwnerName:l=""})=>{const[c,u]=j.useState(i?"personal":"certificate"),d=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],m=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],f=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}];console.log("initialData",e);const h=ot({initialValues:(()=>{const v=(e==null?void 0:e.Customer)||t;let w="",N="";if(l){const C=l.trim().split(" ");C.length>1?(N=C.pop(),w=C.join(" ")):w=C[0]||""}return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||(o==null?void 0:o.CurrentNumber)||"",TIN:(e==null?void 0:e.TIN)||(v==null?void 0:v.TIN)||"",LastName:(v==null?void 0:v.LastName)||N,FirstName:(v==null?void 0:v.FirstName)||w,MiddleName:(v==null?void 0:v.MiddleName)||"",Address:(v==null?void 0:v.StreetAddress)||"",Citizenship:(v==null?void 0:v.Citizenship)||"",ICRNo:(v==null?void 0:v.ICRNumber)||"",PlaceOfBirth:(v==null?void 0:v.PlaceofBirth)||"",CivilStatus:(v==null?void 0:v.CivilStatus)||"",Occupation:(v==null?void 0:v.Occupation)||"",Gender:(v==null?void 0:v.Gender)||"",Height:(v==null?void 0:v.Height)||"",Weight:(v==null?void 0:v.Weight)||"",BirthDate:(v==null?void 0:v.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||vT(),InterestAmount:(e==null?void 0:e.InterestAmount)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),enableReinitialize:!0,validationSchema:EWe,onSubmit:v=>{const N=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...y(v)}:{IsNew:"true",IsSelectedFromIndividual:i?"false":"true",CustomerID:i?null:t==null?void 0:t.ID,...y(v)};n(N)}}),y=v=>{const w={...v,Year:String(v.Year),Height:String(v.Height),Weight:String(v.Weight),InputOne:Number(v.BusinessEarnings),InputTwo:Number(v.OccupationEarnings),InputThree:Number(v.IncomeProperty),OutputOne:Number(v.BusinessTaxDue),OutputTwo:Number(v.OccupationTaxDue),OutputThree:Number(v.PropertyTaxDue),Municipality:v.PlaceIssued,AmountPaid:Number(v.AmountReceived),Words:v.AmountinWords,Profession:v.Occupation};return delete w.BusinessEarnings,delete w.OccupationEarnings,delete w.IncomeProperty,delete w.BusinessTaxDue,delete w.OccupationTaxDue,delete w.PropertyTaxDue,delete w.PlaceIssued,delete w.AmountReceived,delete w.AmountinWords,delete w.Occupation,w},b=(v,w)=>{const N=Math.floor(Number(w||0)/1e3),S={BusinessEarnings:"BusinessTaxDue",OccupationEarnings:"OccupationTaxDue",IncomeProperty:"PropertyTaxDue"};h.setFieldValue(S[v],N),setTimeout(()=>x(),0)},g=v=>({name:v,value:h.values[v]||"",onChange:w=>{const{name:N,value:S}=w.target;h.setFieldValue(N,S),["BusinessEarnings","OccupationEarnings","IncomeProperty"].includes(N)&&b(N,S),N==="BasicTax"&&x()},onBlur:h.handleBlur,error:h.touched[v]&&h.errors[v],disabled:s}),x=()=>{const v=Number(h.values.BasicTax||0),w=Number(h.values.BusinessTaxDue||0),N=Number(h.values.OccupationTaxDue||0),S=Number(h.values.PropertyTaxDue||0),C=w+N+S,A=Math.min(C,5e3),T=vT()/100,I=v,k=A*(1+T)+I,$=A*T;h.setFieldValue("InterestAmount",$.toFixed(2)),h.setFieldValue("Total",k.toFixed(2)),h.setFieldValue("AmountReceived",k.toFixed(2))};return j.useEffect(()=>{if(i&&l){const v=l.trim().split(" ");let w="",N="";v.length>1?(N=v.pop(),w=v.join(" ")):w=v[0]||"",h.values.FirstName!==w&&h.setFieldValue("FirstName",w),h.values.LastName!==N&&h.setFieldValue("LastName",N)}},[l,i]),a.jsx("div",{className:"min-h-screen",children:a.jsxs("form",{onSubmit:h.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[a.jsx("div",{className:"border-b border-gray-200 bg-white rounded-t-lg",children:a.jsxs("div",{className:"flex gap-0",children:[a.jsx("button",{type:"button",onClick:()=>u("certificate"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${c==="certificate"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(La,{className:"h-5 w-5"}),"Certificate Info"]})}),a.jsx("button",{type:"button",onClick:()=>u("personal"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${c==="personal"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Af,{className:"h-5 w-5"}),"Personal Info"]})}),a.jsx("button",{type:"button",onClick:()=>u("tax"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${c==="tax"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lb,{className:"h-5 w-5"}),"Tax Assessment"]})}),a.jsx("button",{type:"button",onClick:()=>u("review"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${c==="review"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sf,{className:"h-5 w-5"}),"Review & Finalize"]})})]})}),c==="certificate"&&a.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:a.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[a.jsx(La,{className:"h-5 w-5"}),"Certificate Information"]})}),a.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{children:a.jsx(D,{label:"Year",...g("Year"),type:"number",disabled:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.Year&&h.errors.Year,touched:h.touched.Year,required:!0})}),a.jsx("div",{children:a.jsx(D,{label:"Place of Issue",...g("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.PlaceIssued&&h.errors.PlaceIssued,touched:h.touched.PlaceIssued,required:!0})}),a.jsx("div",{children:a.jsx(D,{label:"Date Issued",...g("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.DateIssued&&h.errors.DateIssued,touched:h.touched.DateIssued,required:!0})}),a.jsx("div",{children:a.jsx(D,{label:"OR No.",...g("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.CCNumber&&h.errors.CCNumber,touched:h.touched.CCNumber,required:!0})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{children:a.jsx(D,{label:"TIN (if Any)",...g("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:h.touched.TIN&&h.errors.TIN,touched:h.touched.TIN})}),a.jsx("div",{className:"hidden md:block"}),a.jsx("div",{className:"hidden lg:block"}),a.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),c==="personal"&&a.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:a.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[a.jsx(Af,{className:"h-5 w-5"}),l?`Creating: ${l}`:"Personal Information"]})}),a.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsx("div",{children:a.jsx(D,{label:"Last Name",...g("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.LastName&&h.errors.LastName,touched:h.touched.LastName})}),a.jsx("div",{children:a.jsx(D,{label:"First Name",...g("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.FirstName&&h.errors.FirstName,touched:h.touched.FirstName})}),a.jsx("div",{children:a.jsx(D,{label:"Middle Name",...g("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.MiddleName&&h.errors.MiddleName,touched:h.touched.MiddleName})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(D,{label:"Address",...g("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.Address&&h.errors.Address,touched:h.touched.Address,required:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(D,{label:"Citizenship",...g("Citizenship"),type:"select",options:d,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.Citizenship&&h.errors.Citizenship,touched:h.touched.Citizenship,required:!0}),a.jsx(D,{label:"ICR No.",...g("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.ICRNo&&h.errors.ICRNo,touched:h.touched.ICRNo}),a.jsx(D,{label:"Place of Birth",...g("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.PlaceOfBirth&&h.errors.PlaceOfBirth,touched:h.touched.PlaceOfBirth,required:!0}),a.jsx(D,{label:"Date of Birth",...g("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:h.touched.BirthDate&&h.errors.BirthDate,touched:h.touched.BirthDate})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{children:a.jsx(D,{label:"Civil Status",...g("CivilStatus"),type:"radio",options:m,error:h.touched.CivilStatus&&h.errors.CivilStatus,touched:h.touched.CivilStatus})}),a.jsx("div",{children:a.jsx(D,{label:"Profession/Occupation",...g("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.Occupation&&h.errors.Occupation,touched:h.touched.Occupation})}),a.jsx("div",{children:a.jsx(D,{label:"Sex",...g("Gender"),type:"radio",options:f,error:h.touched.Gender&&h.errors.Gender,touched:h.touched.Gender,required:!0})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(D,{label:"Height (cm)",...g("Height"),type:"number",min:"90",max:"243",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.Height&&h.errors.Height,touched:h.touched.Height}),a.jsx("div",{children:a.jsx(D,{label:"Weight (kg)",...g("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:h.touched.Weight&&h.errors.Weight,touched:h.touched.Weight})})]})]})]})]})]}),c==="tax"&&a.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-t-lg",children:a.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[a.jsx(lb,{className:"h-5 w-5"}),"Tax Assessment"]})}),a.jsx("div",{className:"sm:p-6 p-3 pt-2",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),a.jsx("div",{className:"flex justify-end gap-3",children:a.jsx("div",{children:a.jsx(D,{label:"Taxable Amount:",...g("BasicTax"),value:jn(h.values.BasicTax),onChange:v=>{const w=v.target.value.replace(/[^0-9.]/g,"");h.setFieldValue("BasicTax",w)},type:"text",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:h.touched.BasicTax&&h.errors.BasicTax,touched:h.touched.BasicTax,required:!0})})})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[a.jsx("div",{children:a.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),a.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[a.jsx("div",{children:a.jsx(D,{label:"Taxable Amount:",...g("BusinessEarnings"),value:jn(h.values.BusinessEarnings),onChange:v=>{const w=v.target.value.replace(/[^0-9.]/g,"");h.setFieldValue("BusinessEarnings",w),b("BusinessEarnings",w)},type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:h.touched.BusinessEarnings&&h.errors.BusinessEarnings,touched:h.touched.BusinessEarnings})}),a.jsx("div",{children:a.jsx(D,{label:"Community Due Amount:",...g("BusinessTaxDue"),value:fe(h.values.BusinessTaxDue),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:h.touched.BusinessTaxDue&&h.errors.BusinessTaxDue,touched:h.touched.BusinessTaxDue,readOnly:!0})})]})]}),a.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),a.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[a.jsx("div",{children:a.jsx(D,{label:"Taxable Amount:",...g("OccupationEarnings"),value:jn(h.values.OccupationEarnings),onChange:v=>{const w=v.target.value.replace(/[^0-9.]/g,"");h.setFieldValue("OccupationEarnings",w),b("OccupationEarnings",w)},type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:h.touched.OccupationEarnings&&h.errors.OccupationEarnings,touched:h.touched.OccupationEarnings})}),a.jsx("div",{children:a.jsx(D,{label:"Community Due Amount:",...g("OccupationTaxDue"),value:fe(h.values.OccupationTaxDue),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:h.touched.OccupationTaxDue&&h.errors.OccupationTaxDue,touched:h.touched.OccupationTaxDue,readOnly:!0})})]})]}),a.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),a.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[a.jsx("div",{children:a.jsx(D,{label:"Taxable Amount:",...g("IncomeProperty"),value:h.values.IncomeProperty!==""&&!isNaN(h.values.IncomeProperty)?Number(h.values.IncomeProperty).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):h.values.IncomeProperty,onChange:v=>{const w=v.target.value.replace(/[^0-9.]/g,"");h.setFieldValue("IncomeProperty",w),b("IncomeProperty",w)},type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:h.touched.IncomeProperty&&h.errors.IncomeProperty,touched:h.touched.IncomeProperty})}),a.jsx("div",{children:a.jsx(D,{label:"Community Due Amount:",...g("PropertyTaxDue"),value:fe(h.values.PropertyTaxDue),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:h.touched.PropertyTaxDue&&h.errors.PropertyTaxDue,touched:h.touched.PropertyTaxDue,readOnly:!0})})]})]})]})]})]})})]}),c==="review"&&a.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-t-lg",children:a.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[a.jsx(Sf,{className:"h-5 w-5"}),"Review & Finalize"]})}),a.jsx("div",{className:"sm:p-6 p-3 pt-2",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"font-medium block",children:"Total"}),a.jsx(D,{...g("Total"),value:fe(h.values.Total),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:h.touched.Total&&h.errors.Total,touched:h.touched.Total,readOnly:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"font-medium block",children:"Interest %"}),a.jsx(D,{...g("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 cursor-not-allowed border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:h.touched.Interest&&h.errors.Interest,touched:h.touched.Interest,readOnly:!0})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),a.jsx(D,{...g("AmountReceived"),value:fe(h.values.AmountReceived),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:h.touched.AmountReceived&&h.errors.AmountReceived,touched:h.touched.AmountReceived,readOnly:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"font-medium block",children:"Interest Amount"}),a.jsx(D,{...g("InterestAmount"),type:"text",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:h.touched.InterestAmount&&h.errors.InterestAmount,touched:h.touched.InterestAmount,readOnly:!0})]})]}),a.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:a.jsxs("div",{className:"text-center md:text-right",children:[a.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),a.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Ha(h.values.AmountReceived)||"-"})]})})]})}),a.jsx(D,{label:"Remarks",...g("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:a.jsx(Et,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:h.isSubmitting,children:h.isSubmitting?"Generating...":"Generate Certificate"})})]}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"})}),h.submitCount>0&&Object.keys(h.errors).length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),a.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h.errors).map(([v,w])=>a.jsx("li",{children:w},v))})]})]})})},fd="http://192.168.1.215:5001",DWe=[],Hx=K("communityTax/communityTaxGetCurrentNumber",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${fd}/community-tax/getCurrentNumber`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch current number");return s}catch(r){return e.rejectWithValue(r.message)}}),Yi=K("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${fd}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch community taxes");return s}catch(r){return e.rejectWithValue(r.message)}}),OC=K("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${fd}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch community tax record");return s}catch(r){return e.rejectWithValue(r.message)}}),Yx=K("communityTax/addCommunityTax",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${fd}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to add community tax record");return s}catch(r){return e.rejectWithValue(r.message)}}),$C=K("communityTax/updateCommunityTax",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${fd}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update community tax record");return s}catch(r){return e.rejectWithValue(r.message)}}),Kx=K("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${fd}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const s=await n.json();throw new Error(s.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),_G=Ce({name:"communityTax",initialState:{records:[],currentRecord:null,currentNumber:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Hx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hx.fulfilled,(e,r)=>{e.isLoading=!1,e.currentNumber=r.payload}).addCase(Hx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax current number"}).addCase(Yi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yi.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Yi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=DWe}).addCase(OC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(OC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(Yx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Yx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase($C.pending,e=>{e.isLoading=!0,e.error=null}).addCase($C.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>s.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase($C.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(Kx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Kx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:CKe}=_G.actions,OWe=_G.reducer,$We=Q.forwardRef(({certificate:t},e)=>t?a.jsxs("div",{ref:e,className:"bg-white p-12 text-black text-base",style:{width:700,margin:"0 auto",fontFamily:"monospace"},children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("div",{children:a.jsx("div",{className:"font-semibold",children:"Angadanan"})}),a.jsx("div",{className:"text-right",children:a.jsx("span",{children:t.DateIssued||"22 08 2025"})})]}),a.jsx("div",{className:"mb-2",children:t.TaxpayerName||"Leivan Jake Baguio"}),a.jsx("div",{className:"mb-2",children:t.Address||"Washington street"}),a.jsxs("div",{className:"flex mb-2",children:[a.jsx("div",{style:{width:"30%"},children:t.Nationality||"Afghan"}),a.jsx("div",{style:{width:"20%"},children:t.Income?t.Income.toLocaleString():"24,132,654.00"}),a.jsx("div",{style:{width:"30%"},children:t.PlaceOfBirth||"Sultan Kudarat"}),a.jsx("div",{style:{width:"20%"},children:t.Height||"200 cm"})]}),a.jsxs("div",{className:"flex mb-2",children:[a.jsx("div",{style:{width:"30%"},children:t.Occupation||"Garbage Collector"}),a.jsx("div",{style:{width:"20%"},children:t.Status==="Approved"?"":""}),a.jsx("div",{style:{width:"30%"},children:t.BirthDate||"00 12:00:00AM"}),a.jsx("div",{style:{width:"10%"},children:t.Weight||"50 kg"}),a.jsx("div",{style:{width:"10%"},children:t.OtherMetric||"5.00"})]}),a.jsxs("div",{className:"flex mb-2",children:[a.jsx("div",{className:"flex-1",children:t.Amount1||"64,000.00"}),a.jsx("div",{className:"flex-1",children:t.Amount2||"64.00"})]}),a.jsxs("div",{className:"flex mb-2",children:[a.jsx("div",{className:"flex-1",children:t.Amount3||"25,000.00"}),a.jsx("div",{className:"flex-1",children:t.Amount4||"25.00"})]}),a.jsxs("div",{className:"flex mb-2",children:[a.jsx("div",{className:"flex-1",children:t.Amount5||"3,000.00"}),a.jsx("div",{className:"flex-1",children:t.Amount6||"3.00"})]}),a.jsx("div",{children:t.Total1||"111.72"}),a.jsx("div",{children:t.Percentage||"16 %"}),a.jsx("div",{children:t.Total2||"111.72"}),a.jsx("div",{className:"mt-6 font-bold",children:t.AmountInWords||"ONE HUNDRED AND ELEVEN PESOS AND 72/100"})]}):null);var BG={exports:{}};(function(t,e){(function(r,n){t.exports=n(j)})(typeof self<"u"?self:tm,function(r){return function(){var n={155:function(g){g.exports=r}},s={};function o(g){var x=s[g];if(x!==void 0)return x.exports;var v=s[g]={exports:{}};return n[g](v,v.exports,o),v.exports}o.d=function(g,x){for(var v in x)o.o(x,v)&&!o.o(g,v)&&Object.defineProperty(g,v,{enumerable:!0,get:x[v]})},o.o=function(g,x){return Object.prototype.hasOwnProperty.call(g,x)},o.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var i={};o.r(i),o.d(i,{useReactToPrint:function(){return b}});var l=o(155);function c({level:g="error",messages:x,suppressErrors:v=!1}){v||(g==="error"?console.error(x):g==="warning"?console.warn(x):console.debug(x))}function u(g,x){if(x||!g){const v=document.getElementById("printWindow");v&&document.body.removeChild(v)}}function d(g){return g instanceof Error?g:new Error("Unknown Error")}function m(g,x){const{documentTitle:v,onAfterPrint:w,onPrintError:N,preserveAfterPrint:S,print:C,suppressErrors:A}=x;setTimeout(()=>{var T,I;if(g.contentWindow){let $=function(){w==null||w(),u(S)};var k=$;if(g.contentWindow.focus(),C)C(g).then($).catch(L=>{N?N("print",d(L)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:A})});else{if(g.contentWindow.print){const L=(I=(T=g.contentDocument)===null||T===void 0?void 0:T.title)!==null&&I!==void 0?I:"",q=g.ownerDocument.title;v&&(g.ownerDocument.title=v,g.contentDocument&&(g.contentDocument.title=v)),g.contentWindow.print(),v&&(g.ownerDocument.title=q,g.contentDocument&&(g.contentDocument.title=L))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:A});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(L=>{var q,E;return((E=(q=navigator.userAgent)!==null&&q!==void 0?q:navigator.vendor)!==null&&E!==void 0?E:"opera"in window&&window.opera).match(L)})?setTimeout($,500):$()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:A})},500)}function f(g){const x=[],v=document.createTreeWalker(g,NodeFilter.SHOW_ELEMENT,null);let w=v.nextNode();for(;w;)x.push(w),w=v.nextNode();return x}function p(g,x,v){const w=f(g),N=f(x);if(w.length===N.length)for(let S=0;S<w.length;S++){const C=w[S],A=N[S],T=C.shadowRoot;if(T!==null){const I=A.attachShadow({mode:T.mode});I.innerHTML=T.innerHTML,p(T,I,v)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",g,x],suppressErrors:v})}const h=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function y(g,x,v,w){var N,S,C,A,T;const{contentNode:I,clonedContentNode:k,clonedImgNodes:$,clonedVideoNodes:L,numResourcesToLoad:q,originalCanvasNodes:E}=v,{bodyClass:R,fonts:U,ignoreGlobalStyles:B,pageStyle:P,nonce:O,suppressErrors:V,copyShadowRoots:_}=w;g.onload=null;const H=(N=g.contentDocument)!==null&&N!==void 0?N:(S=g.contentWindow)===null||S===void 0?void 0:S.document;if(H){const G=H.body.appendChild(k);_&&p(I,G,!!V),U&&(!((C=g.contentDocument)===null||C===void 0)&&C.fonts&&(!((A=g.contentWindow)===null||A===void 0)&&A.FontFace)?U.forEach(X=>{const F=new FontFace(X.family,X.source,{weight:X.weight,style:X.style});g.contentDocument.fonts.add(F),F.loaded.then(()=>{x(F)}).catch(J=>{x(F,["Failed loading the font:",F,"Load error:",d(J)])})}):(U.forEach(X=>{x(X)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:V})));const re=P??h,ie=H.createElement("style");O&&(ie.setAttribute("nonce",O),H.head.setAttribute("nonce",O)),ie.appendChild(H.createTextNode(re)),H.head.appendChild(ie),R&&H.body.classList.add(...R.split(" "));const te=H.querySelectorAll("canvas");for(let X=0;X<E.length;++X){const F=E[X],J=te[X];if(J===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",F],suppressErrors:V});continue}const ne=J.getContext("2d");ne&&ne.drawImage(F,0,0)}for(let X=0;X<$.length;X++){const F=$[X],J=F.getAttribute("src");if(J){const ne=new Image;ne.onload=()=>{x(F)},ne.onerror=(ue,ge,we,Ae,be)=>{x(F,["Error loading <img>",F,"Error",be])},ne.src=J}else x(F,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',F])}for(let X=0;X<L.length;X++){const F=L[X];F.preload="auto";const J=F.getAttribute("poster");if(J){const ne=new Image;ne.onload=()=>{x(F)},ne.onerror=(ue,ge,we,Ae,be)=>{x(F,["Error loading video poster",J,"for video",F,"Error:",be])},ne.src=J}else F.readyState>=2?x(F):F.src?(F.onloadeddata=()=>{x(F)},F.onerror=(ne,ue,ge,we,Ae)=>{x(F,["Error loading video",F,"Error",Ae])},F.onstalled=()=>{x(F,["Loading video stalled, skipping",F])}):x(F,["Error loading video, `src` is empty",F])}const Z="select",z=I.querySelectorAll(Z),W=H.querySelectorAll(Z);for(let X=0;X<z.length;X++)W[X].value=z[X].value;if(!B){const X=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let F=0,J=X.length;F<J;++F){const ne=X[F];if(ne.tagName.toLowerCase()==="style"){const ue=H.createElement(ne.tagName),ge=ne.sheet;if(ge){let we="";try{const Ae=ge.cssRules.length;for(let be=0;be<Ae;++be)typeof ge.cssRules[be].cssText=="string"&&(we+=`${ge.cssRules[be].cssText}\r
`)}catch(Ae){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",ne,`Original error: ${d(Ae).message}`],level:"warning"})}ue.setAttribute("id",`react-to-print-${F}`),O&&ue.setAttribute("nonce",O),ue.appendChild(H.createTextNode(we)),H.head.appendChild(ue)}}else if(ne.getAttribute("href"))if(ne.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",ne],level:"warning"}),x(ne);else{const ue=H.createElement(ne.tagName);for(let ge=0,we=ne.attributes.length;ge<we;++ge){const Ae=ne.attributes[ge];Ae&&ue.setAttribute(Ae.nodeName,(T=Ae.nodeValue)!==null&&T!==void 0?T:"")}ue.onload=()=>{x(ue)},ue.onerror=(ge,we,Ae,be,at)=>{x(ue,["Failed to load",ue,"Error:",at])},O&&ue.setAttribute("nonce",O),H.head.appendChild(ue)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",ne],level:"warning"}),x(ne)}}}q===0&&m(g,w)}function b({bodyClass:g,contentRef:x,copyShadowRoots:v,documentTitle:w,fonts:N,ignoreGlobalStyles:S,nonce:C,onAfterPrint:A,onBeforePrint:T,onPrintError:I,pageStyle:k,preserveAfterPrint:$,print:L,suppressErrors:q}){return(0,l.useCallback)(E=>{function R(){const U={bodyClass:g,contentRef:x,copyShadowRoots:v,documentTitle:w,fonts:N,ignoreGlobalStyles:S,nonce:C,onAfterPrint:A,onPrintError:I,pageStyle:k,preserveAfterPrint:$,print:L,suppressErrors:q},B=function(){const V=document.createElement("iframe");return V.width=`${document.documentElement.clientWidth}px`,V.height=`${document.documentElement.clientHeight}px`,V.style.position="absolute",V.style.top=`-${document.documentElement.clientHeight+100}px`,V.style.left=`-${document.documentElement.clientWidth+100}px`,V.id="printWindow",V.srcdoc="<!DOCTYPE html>",V}(),P=function(V,_){const{contentRef:H,fonts:G,ignoreGlobalStyles:re,suppressErrors:ie}=_,te=function({contentRef:J,optionalContent:ne,suppressErrors:ue}){return ne&&typeof ne=="function"?(J&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),ne()):J?J.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:ue})}({contentRef:H,optionalContent:V,suppressErrors:ie});if(!te)return;const Z=te.cloneNode(!0),z=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),W=Z.querySelectorAll("img"),X=Z.querySelectorAll("video"),F=G?G.length:0;return{contentNode:te,clonedContentNode:Z,clonedImgNodes:W,clonedVideoNodes:X,numResourcesToLoad:(re?0:z.length)+W.length+X.length+F,originalCanvasNodes:te.querySelectorAll("canvas")}}(E,U);if(!P)return void c({messages:["There is nothing to print"],suppressErrors:q});const O=function(V,_,H){const{suppressErrors:G}=V,re=[],ie=[];return function(te,Z){re.includes(te)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",te],suppressErrors:G}):(Z?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Z],suppressErrors:G}),ie.push(te)):re.push(te),re.length+ie.length===_&&m(H,V))}}(U,P.numResourcesToLoad,B);(function(V,_,H,G){V.onload=()=>{y(V,_,H,G)},document.body.appendChild(V)})(B,O,P,U)}u($,!0),T?T().then(()=>{R()}).catch(U=>{I==null||I("onBeforePrint",d(U))}):R()},[g,x,v,w,N,S,C,A,T,I,k,$,L,q])}return i}()})})(BG);var qn=BG.exports;function RWe(){const t=he(),{records:e,currentNumber:r,isLoading:n}=ee(te=>te.communityTax),{customers:s,isLoading:o}=ee(te=>te.customers),{Add:i,Edit:l,Delete:c,Print:u}=Se(34),[d,m]=j.useState("list"),[f,p]=j.useState(null),[h,y]=j.useState(""),[b,g]=j.useState(!1),[x,v]=j.useState({}),[w,N]=j.useState(!1),[S,C]=j.useState(!1),[A,T]=j.useState(""),I=j.useRef();j.useEffect(()=>{t(Yi()),t(Ir())},[t]);const k=()=>{p(null),m("form"),C(!1),t(Hx())},$=te=>{p(te),m("details")},L=te=>{p(te),m("form"),console.log("Edit certificate:",te),ie(te.CustomerID)},q=qn.useReactToPrint({contentRef:I,documentTitle:"Community Tax Certificate"}),E=te=>{console.log("Print certificate:",te),q()},R=()=>{m("list"),p(null),v(null)},U=async te=>{try{await t(Kx(te.ID)).unwrap(),t(Yi())}catch(Z){console.error("Error deleting certificate:",Z)}},B=e==null?void 0:e.filter(te=>{var z,W,X,F;const Z=h.toLowerCase();return((z=te==null?void 0:te.LinkID)==null?void 0:z.toLowerCase().includes(Z))||((W=te==null?void 0:te.CustomerName)==null?void 0:W.toLowerCase().includes(Z))||((F=(X=te==null?void 0:te.Customer)==null?void 0:X.StreetAddress)==null?void 0:F.toLowerCase().includes(Z))}),P=[{key:"InvoiceNumber",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"Status",header:"Status",sortable:!0,render:te=>a.jsx("span",{className:`px-2 py-1 rounded ${te==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":te==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":te==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":te==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":te==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":te==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:te})},{key:"InvoiceDate",header:"Date",sortable:!0,render:te=>new Date(te).toLocaleDateString()},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,className:"text-right",render:te=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:O(te)})},{key:"AmountReceived",header:"Received Amount",sortable:!0,className:"text-right",render:te=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:O(te)})},{key:"Year",header:"Year",sortable:!0}],O=te=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(te||0),V=async(te,Z)=>{N(!0);const z=Z==="approve"?"approved":"rejected",W=Z==="approve"?"approving":"rejecting";try{const{data:X}=await De.post(`/communityTaxIndividual/${Z}`,{ID:te.ID});console.log(`${z}:`,X),t(Yi()),Y.success(`Community Tax Individual ${z} successfully`)}catch(X){console.error(`Error ${W} Community Tax Individual:`,X),Y.error(`Error ${W} Community Tax Individual`)}finally{N(!1)}},_=te=>{const Z=[];return te.Status.toLowerCase().includes("rejected")&&l?(Z.push({icon:Fe,title:"Edit",onClick:L,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),Z.push({icon:Kt,title:"Delete",onClick:U,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):te.Status.toLowerCase().includes("requested")&&Z.push({icon:wn,title:"Approve",onClick:()=>V(te,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>V(te,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),Z.push({icon:Ra,title:"View",onClick:$,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),Z},H=()=>{g(!0)},G=()=>{g(!1)},re=async te=>{try{await t(Yx(te)).unwrap(),t(Yi()),t(Ir()),Y.success("Certificate saved successfully.")}catch(Z){console.error("Error saving certificate:",Z),Y.error("Failed to save certificate. Please try again.")}finally{R()}},ie=te=>{if(typeof te=="string"&&!s.find(z=>z.ID===te))v(null),C(!0),T(te);else{const z=s.find(W=>W.ID===te);z&&(v(z),C(!1))}};return a.jsxs(a.Fragment,{children:[d==="list"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate - Individual"}),a.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates for individuals."})]}),i&&a.jsxs("button",{type:"button",onClick:k,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:P,data:B,actions:_,loading:n||o,onRowClick:$})})]}),d==="form"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[a.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[a.jsx("button",{onClick:R,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f?"Edit Community Tax Certificate - Individual":"Community Tax Certificate - Individual"}),a.jsx("p",{className:"text-gray-600",children:f?"Update the certificate details":""})]})]}),a.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[a.jsx("div",{className:"w-full sm:w-auto"}),a.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[a.jsx("button",{type:"button",onClick:H,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),a.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),(f==null?void 0:f.Status)==="Posted"&&u&&a.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:[a.jsx("div",{className:"mb-4",children:a.jsx(rt,{options:(s==null?void 0:s.map(te=>({label:te.Name||`${te.FirstName} ${te.MiddleName} ${te.LastName}`,value:te.ID})))||[],placeholder:"Choose Individual or Type New Name",selectedValue:S?A:x==null?void 0:x.ID,onSelect:ie,label:"Choose Individual",required:!S})}),x||S?a.jsx(T4,{selectedCustomer:x,initialData:f,onCancel:R,onSubmitForm:re,currentCertificateNumber:r,isNewIndividual:S,newOwnerName:A},(x==null?void 0:x.ID)||(S?A:"new-individual")):a.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh] flex items-center justify-center",children:'Please select an Individual or click "New Individual" to start'})]})]}),d==="details"&&f&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:R,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),a.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[l&&a.jsxs("button",{type:"button",onClick:()=>L(f),className:"btn btn-primary flex items-center",children:[a.jsx(Fe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),(f==null?void 0:f.Status)==="Posted"&&u&&a.jsxs("button",{type:"button",onClick:()=>E(f),className:"btn btn-outline flex items-center",children:[a.jsx(Fl,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:a.jsx(T4,{initialData:f,onCancel:R,isReadOnly:!0})})]}),a.jsx(me,{isOpen:b,onClose:G,title:"General Ledger View",size:"lg",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})}),a.jsx("div",{style:{display:"none"},children:a.jsx($We,{ref:I,certificate:f})})]})}const LWe=pe().shape({Year:M().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:M().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Ye().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:M().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:M().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:M().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),Address:M().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Ye().required("Registration date is required"),KindofOrganization:M().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:M().required("Place of incorporation is required"),NatureOfOrganization:M().required("Business nature is required"),BasicTax:ae().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:ae().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:ae().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:ae().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:ae().typeError("Must be a number").min(0,"Cannot be negative"),Total:ae().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:ae().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:ae().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:M().max(500,"Remarks must be less than 500 characters"),AmountinWords:M().max(500,"Amount in words cannot exceed 500 characters")}),P4=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:s,isNewVendor:o=!1,newVendorName:i=""})=>{const[l,c]=j.useState(o?"company":"certificate"),u=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],d=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",d),j.useEffect(()=>{o&&i&&m.values.Name!==i&&m.setFieldValue("Name",i)},[i,o]);const m=ot({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||(e==null?void 0:e.CustomerName)||i||"",TIN:(t==null?void 0:t.TIN)||(e==null?void 0:e.TIN)||"",Address:(d==null?void 0:d.StreetAddress)||"",dateOfRegistration:(d==null?void 0:d.DateofRegistration)||"",KindofOrganization:(d==null?void 0:d.KindofOrganization)||"Corporation",PlaceofIncorporation:(d==null?void 0:d.PlaceofIncorporation)||"",NatureOfOrganization:(d==null?void 0:d.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||vT(),AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},enableReinitialize:!0,validationSchema:LWe,onSubmit:p=>{const y=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...f(p)}:{IsNew:"true",IsSelectedFromIndividual:o?"false":"true",CustomerID:o?null:t==null?void 0:t.ID,...f(p)};console.log("Submitted values:",y),n(y)}}),f=p=>{const h={...p,InputOne:Number(p.assessedValueRealProperty),InputTwo:Number(p.grossReceipts),OutputOne:Number(p.assessedValueTax),OutputTwo:Number(p.grossReceiptsTax),BasicTax:Number(p.BasicTax),Total:Number(p.Total),AmountPaid:Number(p.AmountPaid),Interest:Number(p.Interest),Words:p.AmountinWords};return delete h.assessedValueRealProperty,delete h.assessedValueTax,delete h.grossReceipts,delete h.grossReceiptsTax,delete h.AmountinWords,h};return console.log("Formik Values:",m.errors),a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("form",{onSubmit:m.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[a.jsx("div",{className:"border-b border-gray-200 bg-white rounded-t-lg",children:a.jsxs("div",{className:"flex gap-0",children:[a.jsx("button",{type:"button",onClick:()=>c("certificate"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${l==="certificate"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(La,{className:"h-5 w-5"}),"Certificate Info"]})}),a.jsx("button",{type:"button",onClick:()=>c("company"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${l==="company"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cu,{className:"h-5 w-5"}),"Company Info"]})}),a.jsx("button",{type:"button",onClick:()=>c("tax"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${l==="tax"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lb,{className:"h-5 w-5"}),"Tax Assessment"]})}),a.jsx("button",{type:"button",onClick:()=>c("review"),className:`px-6 py-3 font-medium border-b-2 transition-colors ${l==="review"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Sf,{className:"h-5 w-5"}),"Review & Finalize"]})})]})}),l==="certificate"&&a.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:a.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[a.jsx(La,{className:"h-5 w-5"}),"Certificate Information"]})}),a.jsxs("div",{className:"p-2 sm:p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx("div",{children:a.jsx(D,{label:"Year",name:"Year",value:m.values.Year,onChange:m.handleChange,onBlur:m.handleBlur,disabled:s,required:!0,error:m.touched.Year&&m.errors.Year,touched:m.touched.Year,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),a.jsx("div",{children:a.jsx(D,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:m.values.PlaceIssued,onChange:m.handleChange,disabled:s,error:m.touched.PlaceIssued&&m.errors.PlaceIssued,required:!0,touched:m.touched.PlaceIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),a.jsx("div",{children:a.jsx(D,{label:"Date Issued",name:"DateIssued",type:"date",value:m.values.DateIssued,onChange:m.handleChange,disabled:s,required:!0,error:m.touched.DateIssued&&m.errors.DateIssued,touched:m.touched.DateIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),a.jsx("div",{children:a.jsx(D,{label:"Certificate No.",name:"CCNumber",value:m.values.CCNumber,onChange:m.handleChange,disabled:s,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:m.touched.CCNumber&&m.errors.CCNumber,touched:m.touched.CCNumber})})]}),a.jsx("div",{className:"text-right mb-4",children:a.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),l==="company"&&a.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:a.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[a.jsx(cu,{className:"h-5 w-5"}),i?`Creating: ${i}`:"Company Information"]})}),a.jsx("div",{className:"p-2 sm:p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx(D,{label:"Company's Full Name",name:"Name",value:m.values.Name,onChange:m.handleChange,disabled:s,required:!0,error:m.touched.Name&&m.errors.Name,touched:m.touched.Name,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),a.jsx("div",{children:a.jsx(D,{label:"TIN (if Any)",name:"TIN",value:m.values.TIN,onChange:m.handleChange,disabled:s,onBlur:m.handleBlur,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.TIN&&m.errors.TIN,touched:m.touched.TIN})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx(D,{label:" Address of Principal Place of Business",name:"Address",value:m.values.Address,onChange:m.handleChange,disabled:s,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Address&&m.errors.Address,touched:m.touched.Address})}),a.jsx("div",{children:a.jsx(D,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:m.values.dateOfRegistration,onChange:m.handleChange,disabled:s,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.dateOfRegistration&&m.errors.dateOfRegistration,touched:m.touched.dateOfRegistration})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx(D,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:m.values.KindofOrganization,onChange:m.handleChange,options:u,disabled:s,error:m.touched.KindofOrganization&&m.errors.KindofOrganization,touched:m.touched.KindofOrganization})}),a.jsx("div",{children:a.jsx(D,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:m.values.PlaceofIncorporation,onChange:m.handleChange,disabled:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.PlaceofIncorporation&&m.errors.PlaceofIncorporation,touched:m.touched.PlaceofIncorporation})})]}),a.jsx("div",{children:a.jsx(D,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:m.values.NatureOfOrganization,onChange:m.handleChange,disabled:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.NatureOfOrganization&&m.errors.NatureOfOrganization,touched:m.touched.NatureOfOrganization})})]})})]}),l==="tax"&&a.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:a.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[a.jsx(lb,{className:"h-5 w-5"}),"Tax Assessment"]})}),a.jsx("div",{className:"p-2 sm:p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),a.jsx("div",{className:"flex justify-end gap-3",children:a.jsx("div",{children:a.jsx(D,{name:"BasicTax",label:"Community Due Amount:",value:m.values.BasicTax,onChange:m.handleChange,disabled:s,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:m.touched.BasicTax&&m.errors.BasicTax,touched:m.touched.BasicTax})})})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),a.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[a.jsx("div",{children:a.jsx(D,{name:"assessedValueRealProperty",value:m.values.assessedValueRealProperty,onChange:m.handleChange,label:"Taxable Amount:",disabled:s,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:m.touched.assessedValueRealProperty&&m.errors.assessedValueRealProperty,touched:m.touched.assessedValueRealProperty})}),a.jsx("div",{children:a.jsx(D,{name:"assessedValueTax",value:m.values.assessedValueTax,onChange:m.handleChange,label:"Community Due Amount:",disabled:s,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:m.touched.assessedValueTax&&m.errors.assessedValueTax,touched:m.touched.assessedValueTax})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),a.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[a.jsx("div",{children:a.jsx(D,{name:"grossReceipts",value:m.values.grossReceipts,onChange:m.handleChange,label:"Taxable Amount:",disabled:s,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:m.touched.grossReceipts&&m.errors.grossReceipts,touched:m.touched.grossReceipts})}),a.jsx("div",{children:a.jsx(D,{name:"grossReceiptsTax",value:m.values.grossReceiptsTax,onChange:m.handleChange,label:"Community Due Amount:",disabled:s,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:m.touched.grossReceiptsTax&&m.errors.grossReceiptsTax,touched:m.touched.grossReceiptsTax})})]})]})]})]})]})})]}),l==="review"&&a.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:a.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[a.jsx(Sf,{className:"h-5 w-5"}),"Review & Finalize"]})}),a.jsxs("div",{className:"p-2 sm:p-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[a.jsx("div",{className:"md:w-1/3 space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"font-medium block",children:"TOTAL"}),a.jsx(D,{name:"Total",value:m.values.Total,onChange:m.handleChange,disabled:s,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"Total",error:m.touched.Total&&m.errors.Total,touched:m.touched.Total})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"font-medium block",children:"INTEREST %"}),a.jsx(D,{name:"Interest",value:m.values.Interest,onChange:m.handleChange,disabled:s,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"%",error:m.touched.Interest&&m.errors.Interest,touched:m.touched.Interest})]})]})}),a.jsx("div",{className:"md:w-1/3",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),a.jsx(D,{name:"AmountPaid",value:m.values.AmountPaid,onChange:m.handleChange,disabled:s,error:m.touched.AmountPaid&&m.errors.AmountPaid,touched:m.touched.AmountPaid,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"})]})}),a.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:a.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[a.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),a.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Ha(m.values.AmountPaid)||"-"})]})})]})}),a.jsx("div",{children:a.jsx(D,{label:"Remarks",name:"Remarks",type:"textarea",value:m.values.Remarks,onChange:m.handleChange,disabled:s,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3,error:m.touched.Remarks&&m.errors.Remarks,touched:m.touched.Remarks})})]}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:a.jsx(Et,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:m.isSubmitting,children:m.isSubmitting?"Generating...":"Generate Certificate"})})]})]}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"})})]}),m.submitCount>0&&Object.keys(m.errors).length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),a.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(m.errors).map(([p,h])=>a.jsx("li",{children:h},p))})]})]})},rh="http://192.168.1.215:5001",FWe=[],Ki=K("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${rh}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch corporate community taxes");return s}catch(r){return e.rejectWithValue(r.message)}}),RC=K("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${rh}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch corporate community tax record");return s}catch(r){return e.rejectWithValue(r.message)}}),Jx=K("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${rh}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to add corporate community tax record");return s}catch(r){return e.rejectWithValue(r.message)}}),LC=K("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${rh}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update corporate community tax record");return s}catch(r){return e.rejectWithValue(r.message)}}),Xx=K("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${rh}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const s=await n.json();throw new Error(s.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),qG=Ce({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Ki.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ki.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Ki.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=FWe}).addCase(RC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(RC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(RC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(Jx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Jx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(LC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(LC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>s.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(LC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(Xx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Xx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:SKe}=qG.actions,MWe=qG.reducer,_We=Q.forwardRef(({certificate:t,vendor:e},r)=>t?a.jsxs("div",{ref:r,style:{width:700,margin:"0 auto",background:"#fff",color:"#222",fontFamily:"monospace",padding:"32px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12},children:[a.jsx("div",{children:"Angadanan"}),a.jsx("div",{children:t.DateIssued?new Date(t.DateIssued).toLocaleDateString("en-GB").split("/").join(" "):"22 08 2025"})]}),a.jsx("div",{children:(e==null?void 0:e.Name)||t.CustomerName||"Company Name"}),a.jsx("div",{children:(e==null?void 0:e.StreetAddress)||t.Address||"Washington street"}),a.jsxs("div",{style:{display:"flex",gap:"2em",marginBottom:10},children:[a.jsx("div",{children:t.Nationality||"Afghan"}),a.jsx("div",{children:t.GrossReceipts?Number(t.GrossReceipts).toLocaleString():"24,132,654.00"}),a.jsx("div",{children:t.PlaceOfBusiness||"Sultan Kudarat"}),a.jsx("div",{children:t.Height||"200 cm"})]}),a.jsxs("div",{style:{display:"flex",gap:"2em",marginBottom:10},children:[a.jsx("div",{children:t.BusinessNature||"Garbage Collector"}),a.jsx("div",{children:t.Checked?"":""}),a.jsx("div",{children:t.TimeIssued||"00 12:00:00AM"}),a.jsx("div",{children:t.Weight||"50 kg"}),a.jsx("div",{children:t.OtherAmount||"5.00"})]}),a.jsxs("div",{style:{display:"flex",gap:"3em",marginBottom:3},children:[a.jsx("div",{children:t.AmountA||"64,000.00"}),a.jsx("div",{children:t.AmountB||"64.00"})]}),a.jsxs("div",{style:{display:"flex",gap:"3em",marginBottom:3},children:[a.jsx("div",{children:t.AmountC||"25,000.00"}),a.jsx("div",{children:t.AmountD||"25.00"})]}),a.jsxs("div",{style:{display:"flex",gap:"3em",marginBottom:3},children:[a.jsx("div",{children:t.AmountE||"3,000.00"}),a.jsx("div",{children:t.AmountF||"3.00"})]}),a.jsx("div",{children:t.NetTaxDue||"111.72"}),a.jsx("div",{children:t.Rate||"16 %"}),a.jsx("div",{children:t.NetTaxDue2||"111.72"}),a.jsx("div",{style:{marginTop:22,fontWeight:"bold"},children:t.AmountInWords||"ONE HUNDRED AND ELEVEN PESOS AND 72/100"})]}):null);function BWe(){const[t,e]=j.useState("list"),[r,n]=j.useState(null),[s,o]=j.useState(!1),[i,l]=j.useState(null),[c,u]=j.useState(!1),[d,m]=j.useState(!1),[f,p]=j.useState(""),{Add:h,Edit:y,Delete:b,Print:g}=Se(35),{records:x,isLoading:v}=ee(H=>H.corporateCommunityTax),{vendorDetails:w,isLoading:N}=ee(H=>H.vendorDetails),S=he(),C=j.useRef(),A=qn.useReactToPrint({contentRef:C,documentTitle:"Corporation Community Tax Certificate"});j.useEffect(()=>{S(Ea()),S(Ki())},[S]);const T=()=>{n(null),e("form"),m(!1),p(""),l(null)},I=H=>{n(H),e("details")},k=H=>{n(H),m(!1),console.log("Edit certificate:",H),_(H.CustomerID),e("form")},$=H=>{console.log("Print certificate:",H),A()},L=()=>{e("list"),n(null),l(null),m(!1),p("")},q=[{key:"InvoiceNumber",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"Status",header:"Status",sortable:!0,render:H=>a.jsx("span",{className:`px-2 py-1 rounded ${H==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":H==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":H==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":H==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":H==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":H==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:H})},{key:"InvoiceDate",header:"Date",sortable:!0,render:H=>new Date(H).toLocaleDateString()},{key:"CustomerName",header:"Customer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total",sortable:!0,className:"text-right",render:H=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:E(H)})},{key:"AmountReceived",header:"Amount Received",sortable:!0,className:"text-right",render:H=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:E(H)})},{key:"Year",header:"Year",sortable:!0,className:"text-right"}],E=H=>H>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(H):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(H),R=async H=>{try{await S(Xx(H.ID)).unwrap(),S(Ki()),console.log("Certificate deleted and data reFetched"),Y.success("Certificate deleted successfully.")}catch(G){console.error("Error deleting certificate:",G),Y.error("Failed to delete certificate. Please try again.")}finally{L()}},U=async(H,G)=>{u(!0);const re=G==="approve"?"approved":"rejected",ie=G==="approve"?"approving":"rejecting";try{const{data:te}=await De.post(`/corporate-ctc/${G}`,{ID:H.ID});console.log(`${re}:`,te),S(Ki()),Y.success(`Community Tax Corporation ${re} successfully`)}catch(te){console.error(`Error ${ie} Community Tax Corporation:`,te),Y.error(`Error ${ie} Community Tax Corporation`)}finally{u(!1)}},B=H=>{const G=[];return H.Status.toLowerCase().includes("rejected")&&y?(G.push({icon:Fe,title:"Edit",onClick:k,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),G.push({icon:Kt,title:"Delete",onClick:R,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):H.Status.toLowerCase().includes("requested")&&G.push({icon:wn,title:"Approve",onClick:()=>U(H,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>U(H,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),G.push({icon:Ra,title:"View",onClick:I,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),G},P=()=>{o(!0)},O=()=>{o(!1)},V=async H=>{try{await S(Jx(H)).unwrap(),S(Ki()),Y.success("Certificate saved successfully.")}catch(G){console.error("Error saving certificate:",G),Y.error("Failed to save certificate. Please try again.")}finally{L()}},_=H=>{if(typeof H=="string"&&!w.find(re=>re.ID===H))l(null),m(!0),p(H);else{const re=w.find(ie=>ie.ID===H);l(re),m(!1),p("")}};return a.jsxs(a.Fragment,{children:[t==="list"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4 page-header",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate - Corporate"}),a.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates for corporations."})]}),h&&a.jsxs("button",{type:"button",onClick:T,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:q,data:x,actions:B,loading:N||v||c,onRowClick:I})})]}),t==="form"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[a.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[a.jsx("button",{onClick:L,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate - Corporate":"Community Tax Certificate - Corporate"}),a.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),a.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[a.jsx("div",{className:"sm:w-96 w-full",children:a.jsx(rt,{options:(w==null?void 0:w.map(H=>({label:H.Name,value:H.ID})))||[],selectedValue:d?f:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor or Type New Name",onSelect:_,required:!0})}),a.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[a.jsx("button",{type:"button",onClick:P,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),a.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),(r==null?void 0:r.Status)==="Posted"&&g&&a.jsx("button",{className:"btn btn-outline w-full sm:w-auto",onClick:A,children:"Print"})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i||d?a.jsx(P4,{selectedVendor:i,initialData:r,onCancel:L,onSubmitSuccess:V,readOnly:!1,isNewVendor:d,newVendorName:f},(i==null?void 0:i.ID)||(d?f:"new-vendor")):a.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh] flex items-center justify-center",children:["Please select a Vendor or Type New Name to start"," "]})})]}),t==="details"&&r&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:L,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),a.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[y&&a.jsxs("button",{type:"button",onClick:()=>k(r),className:"btn btn-primary flex items-center",children:[a.jsx(Fe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),(r==null?void 0:r.Status)==="Posted"&&g&&a.jsxs("button",{type:"button",onClick:()=>$(r),className:"btn btn-outline flex items-center",children:[a.jsx(Fl,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:a.jsx(P4,{initialData:r,readOnly:!0,onBack:L})})]}),a.jsx(me,{isOpen:s,onClose:O,title:"General Ledger View",size:"lg",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})}),a.jsx("div",{style:{display:"none"},children:a.jsx(_We,{ref:C,certificate:r,vendor:i})})]})}function qWe(){const[t,e]=j.useState(!1),[r,n]=j.useState(null),s=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],o=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:f=>new Date(f).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:f=>o(f),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:f=>a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${f==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:f})}],l=[{icon:Ra,title:"View",onClick:f=>u(f),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Edit",onClick:f=>d(f),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=f=>{n(f),e(!0)},d=f=>{n(f),e(!0)},m=async(f,{setSubmitting:p})=>{try{await __.validate(f,{abortEarly:!1}),console.log("Form data:",f),e(!1)}catch(h){console.error("Validation errors:",h.errors)}finally{p(!1)}};return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Market Collections"}),a.jsx("p",{children:"Manage market stall rental collections"})]}),a.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[a.jsx(qe,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:i,data:s,actions:l,pagination:!0})}),a.jsx(me,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:a.jsx(He,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:__,onSubmit:m,children:({values:f,errors:p,touched:h,handleChange:y,handleBlur:b,isSubmitting:g})=>a.jsxs(Ze,{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Date",name:"date",type:"date",required:!0,value:f.date,onChange:y,onBlur:b,error:p.date,touched:h.date}),a.jsx(D,{label:"Period",name:"period",type:"select",required:!0,value:f.period,onChange:y,onBlur:b,error:p.period,touched:h.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:f.stallNumber,onChange:y,onBlur:b,error:p.stallNumber,touched:h.stallNumber}),a.jsx(D,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:f.stallType,onChange:y,onBlur:b,error:p.stallType,touched:h.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),a.jsx(D,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:f.stallOwner,onChange:y,onBlur:b,error:p.stallOwner,touched:h.stallOwner}),a.jsx(D,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:f.amount,onChange:y,onBlur:b,error:p.amount,touched:h.amount,min:"0",step:"0.01"}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:g,className:"btn btn-primary",children:g?"Saving...":r?"Update":"Save"})]})]})})})]})}const VWe=pe().shape({CustomerName:M().required("Name is required"),CustomerID:ae().nullable(),DeceasedCustomerName:M().required("Deceased name is required"),DeceasedCustomerID:ae().nullable(),Nationality:M().required("Nationality is required"),NationalityID:ae().required("Nationality is required"),Age:ae().required("Age is required").min(0,"Age must be positive"),Sex:M().required("Sex is required"),DeathDate:Ye().required("Date of death is required"),CauseofDeath:M().required("Cause of death is required"),Cementery:M().required("Cemetery name is required"),BurialType:M().required("Service type is required"),Infectious:Hs(),Embalmed:Hs(),Disposition:M().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:M().required("Disposition remarks are required")}),InvoiceDate:Ye().required("Invoice date is required"),paymentMethod:M().required("Payment method is required"),Total:ae().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:M(),Remarks:M()}),UWe="http://192.168.1.215:5001";function zWe({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:s}){const[o,i]=j.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(h,y,b)=>{const x=Array.from(h.target.files).map(v=>v);y("Attachments",[...b.Attachments,...x])},u=(h,y,b)=>{const g=[...b.Attachments];g.splice(h,1),y("Attachments",g)},d=(h,y)=>{const b=h.target.value;y("BurialType",b),i(b!=="INTER")},m=async(h,{setSubmitting:y})=>{console.log("Form values:",h);try{await r(h),e()}catch(b){console.error("Submission failed:",b),Y.error(b.message||"Submission failed. Please try again.")}finally{y(!1)}},f=s==null?void 0:s.map(h=>({value:h.ID,label:h.Name||`${h.FirstName} ${h.MiddleName} ${h.LastName}`})),p=n==null?void 0:n.map(h=>({value:h.ID,label:h.Name}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[a.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),a.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),a.jsx(He,{initialValues:l,validationSchema:VWe,onSubmit:m,enableReinitialize:!0,children:({values:h,errors:y,touched:b,handleChange:g,setFieldValue:x,isSubmitting:v,handleBlur:w,submitCount:N})=>a.jsxs(Ze,{className:"space-y-4  bg-white rounded-lg",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),a.jsx("input",{type:"file",multiple:!0,onChange:S=>c(S,x,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),h.Attachments.length>0?a.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((S,C)=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"h-4 w-4 text-gray-500 mr-2"}),a.jsx("span",{className:"text-sm",children:S.ID?a.jsx("a",{href:`${UWe}/uploads/${S.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:S.name||S.DataName}):S.name||S.DataName})]}),a.jsx("button",{type:"button",onClick:()=>u(C,x,h),className:"text-red-500 hover:text-red-700",children:a.jsx(er,{className:"h-4 w-4"})})]},C))}):a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),a.jsx("div",{className:"text-center",children:a.jsx(D,{name:"InvoiceNumber",type:"text",value:h.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),a.jsx("div",{children:a.jsx(rt,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:f,required:!0,placeholder:"Select Name",onSelect:S=>{const C=f.find(A=>A.value===S);C?(x("CustomerName",(C==null?void 0:C.label)||""),x("CustomerID",(C==null?void 0:C.value)||"")):(x("CustomerName",S),x("CustomerID",null))},selectedValue:h.CustomerID||h.CustomerName,error:y.CustomerName,touched:b.CustomerName})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(rt,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:f,required:!0,placeholder:"Select Name",onSelect:S=>{const C=f.find(A=>A.value===S);C?(x("DeceasedCustomerName",C.label),x("DeceasedCustomerID",C.value)):(x("DeceasedCustomerName",S),x("DeceasedCustomerID",null))},selectedValue:h.DeceasedCustomerID||h.DeceasedCustomerName,error:y.DeceasedCustomerName,touched:b.DeceasedCustomerName}),a.jsx(rt,{label:"Nationality",name:"NationalityID",type:"select",options:p,required:!0,placeholder:"Select Nationality",onSelect:S=>{const C=p.find(A=>A.value===S);x("NationalityID",S||""),x("Nationality",(C==null?void 0:C.label)||"")},className:"w-full",selectedValue:h.NationalityID,error:y.Nationality,touched:b.Nationality}),a.jsx(D,{label:"Age",name:"Age",type:"number",required:!0,value:h.Age,onChange:g,touched:b.Age,error:b.Age&&y.Age}),a.jsx(D,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:h.Sex,onChange:g,touched:b.Sex,required:!0,error:b.sex&&y.sex}),a.jsx(D,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:h.DeathDate,onChange:g,touched:b.DeathDate,error:b.DeathDate&&y.DeathDate}),a.jsx(D,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:h.CauseofDeath,onChange:g,touched:b.CauseofDeath,error:b.CauseofDeath&&y.CauseofDeath}),a.jsx(D,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:h.Cementery,onChange:g,touched:b.Cementery,error:b.Cementery&&y.Cementery})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block font-medium",children:"Service Type"}),a.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(S=>a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"BurialType",value:S,checked:h.BurialType===S,onChange:C=>d(C,x),className:"form-radio"}),a.jsx("span",{className:"ml-2",children:S.toUpperCase()})]},S))}),b.BurialType&&y.BurialType&&a.jsx("div",{className:"text-red-500 text-sm mt-1",children:y.BurialType})]}),o&&a.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"checkbox",name:"Infectious",value:h.Infectious,checked:h.Infectious,onChange:g,className:"form-checkbox"}),a.jsx("span",{className:"ml-2",children:"Infectious"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"checkbox",name:"Embalmed",value:h.Embalmed,checked:h.Embalmed,onChange:g,className:"form-checkbox"}),a.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),a.jsx(D,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:h.Disposition,onChange:g,onBlur:w,required:h.BurialType!=="INTER",error:b.Disposition&&y.Disposition})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:h.InvoiceDate,onChange:g,onBlur:w,error:b.InvoiceDate&&y.InvoiceDate}),a.jsx(D,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:h.paymentMethod,onChange:g,onBlur:w,touched:b.paymentMethod,error:b.paymentMethod&&y.paymentMethod}),a.jsx(D,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:h.Total,onChange:g,onBlur:w,touched:b.Total,error:b.Total&&y.Total}),a.jsx(D,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:h.ReferenceNumber,onChange:g,onBlur:w,touched:b.ReferenceNumber,error:b.ReferenceNumber&&y.ReferenceNumber})]}),a.jsx(D,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:h.Remarks,onChange:g,onBlur:w,touched:b.Remarks,error:b.Remarks&&y.Remarks}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:v?"Submitting...":"Submit"})]}),N>0&&Object.keys(y).length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),a.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(y).map(([S,C])=>a.jsx("li",{children:C},S))})]})]})})]})}const Kl="http://192.168.1.215:5001",WWe=[],Wm=K("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Kl}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch burial records");return s}catch(r){return e.rejectWithValue(r.message)}}),FC=K("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Kl}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch burial record");return s}catch(r){return e.rejectWithValue(r.message)}}),Zx=K("burialRecords/addBurialRecord",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Kl}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to add burial record");return s}catch(r){return e.rejectWithValue(r.message)}}),MC=K("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Kl}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update burial record");return s}catch(r){return e.rejectWithValue(r.message)}}),Qx=K("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Kl}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const s=await n.json();throw new Error(s.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),VG=K("burialRecords/approveBurialRecord",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Kl}/burialrecord/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({ID:t})}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to approve");return{id:t,status:"Posted"}}catch(r){return e.rejectWithValue(r.message)}}),UG=K("burialRecords/rejectBurialRecord",async({id:t,reason:e},r)=>{try{const n=sessionStorage.getItem("token"),s=await fetch(`${Kl}/burialrecord/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({ID:t,reason:e})}),o=await s.json();if(!s.ok)throw new Error(o.error||"Failed to reject");return{id:t,status:"Rejected"}}catch(n){return r.rejectWithValue(n.message)}}),zG=Ce({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Wm.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wm.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(VG.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>String(s.ID)===String(r.payload.id));n!==-1&&(e.records[n].Status=r.payload.status),e.currentRecord&&String(e.currentRecord.ID)===String(r.payload.id)&&(e.currentRecord={...e.currentRecord,Status:r.payload.status})}).addCase(UG.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>String(s.ID)===String(r.payload.id));n!==-1&&(e.records[n].Status=r.payload.status),e.currentRecord&&String(e.currentRecord.ID)===String(r.payload.id)&&(e.currentRecord={...e.currentRecord,Status:r.payload.status})}).addCase(Wm.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=WWe}).addCase(FC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(FC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(FC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(Zx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Zx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(MC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(MC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(MC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(Qx.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qx.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Qx.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:AKe}=zG.actions,GWe=zG.reducer;function HWe(){const t=he(),{Add:e,Edit:r,Delete:n,Print:s}=Se(28),{customers:o,isLoading:i}=ee(k=>k.customers),{nationalities:l,isLoading:c}=ee(k=>k.nationalities),{records:u,isLoading:d}=ee(k=>k.burialRecords),[m,f]=j.useState(!1),[p,h]=j.useState(null);j.useEffect(()=>{t(ml()),t(Wm()),t(Ir())},[t]);const y=j.useRef(),b=qn.useReactToPrint({contentRef:y,documentTitle:"Burial Service Receipt"}),g=[{key:"InvoiceNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"Status",header:"Status",sortable:!0,render:k=>a.jsx("span",{className:`px-2 py-1 rounded ${k==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":k==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":k==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":k==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":k==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":k==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:k})},{key:"InvoiceDate",header:"Date",sortable:!0,render:k=>new Date(k).toLocaleDateString()},{key:"CustomerName",header:"Name",sortable:!0,render:k=>(k==null?void 0:k.trim())||"N/A"},{key:"Total",header:"Amount",sortable:!0,className:"text-right",render:k=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:x(k)})},{key:"Remarks",header:"Remarks",sortable:!1,render:k=>k||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:k=>({1:"General Fund",2:"Special Education Fund"})[k]||""}],x=k=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(k||0),v=()=>{h(null),f(!0)},w=k=>{h(k),f(!0)},N=async k=>{console.log("Deleting ticket:",k);try{await t(Qx(k.ID)).unwrap(),Y.success("Burial Receipt deleted successfully")}catch($){Y.error($.message||"Failed to delete Burial Receipt")}},S=async k=>{if(window.confirm("Are you sure you want to approve this burial receipt?"))try{await t(VG(k.ID)).unwrap(),Y.success("Burial Receipt approved and posted successfully")}catch($){Y.error($.message||"Failed to approve")}},C=async k=>{const $=window.prompt("Please enter the reason for rejection:");if($!==null)try{await t(UG({id:k.ID,reason:$})).unwrap(),Y.success("Burial Receipt rejected successfully")}catch(L){Y.error(L.message||"Failed to reject")}},A=()=>{f(!1),h(null)},T=async k=>{const $=new FormData;for(const L in k)if(L!=="Attachments"){const q=typeof k[L]=="object"?JSON.stringify(k[L]):k[L];L==="TransactionItemsAll"?$.append("Items",q):$.append(L,q)}k==null||k.Attachments.forEach((L,q)=>{L.ID?$.append(`Attachments[${q}].ID`,L.ID):$.append(`Attachments[${q}].File`,L)}),p?($.append("IsNew","false"),$.append("LinkID",p.LinkID),$.append("ID",p.ID)):$.append("IsNew","true");try{await t(Zx($)).unwrap(),p?Y.success("Burial Receipt Updated Successfully"):Y.success("Burial Receipt Added Successfully"),t(Wm()),t(Ir())}catch(L){Y.error(L.message||"Something went wrong")}finally{A()}},I=k=>{const $=[];return r&&$.push({icon:Br,title:"Edit",onClick:w,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),k.Status==="Requested"&&$.push({icon:tj,title:"Approve",onClick:()=>S(k),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Hu,title:"Reject",onClick:()=>C(k),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),n&&$.push({icon:Kt,title:"Delete",onClick:N,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),$};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),a.jsx("p",{className:"text-gray-600",children:"Manage receipts for burial services."})]}),a.jsxs("div",{className:"flex gap-2",children:[e&&a.jsxs("button",{onClick:v,className:"btn btn-primary max-sm:w-full ",children:[a.jsx(qe,{className:"h-5 w-5 mr-2"}),"New Burial Receipt"]}),s&&a.jsxs("button",{onClick:b,className:"btn btn-primary disabled:opacity-50",disabled:!(p!=null&&p.Status.includes("Posted")),children:[a.jsx(uu,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:g,data:u,className:"min-w-full divide-y divide-gray-200",actions:I,onRowClick:k=>h(k),selectedRow:p,isLoading:d||c||i})}),a.jsx(me,{isOpen:m,onClose:A,title:p?"Edit Burial Service Receipt":"New Burial Service Receipt ",children:a.jsx(zWe,{initialData:p,onClose:A,onSubmit:T,nationalities:l,customers:o})}),a.jsx("div",{style:{display:"none"},children:a.jsx(YWe,{ref:y,receipt:p})})]})}const YWe=j.forwardRef(({receipt:t},e)=>{var r,n;return t?a.jsxs("div",{ref:e,style:{width:400,margin:"0 auto",background:"#fff",color:"#111",fontFamily:"monospace",padding:"32px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[a.jsx("div",{children:t.InvoiceDate?new Date(t.InvoiceDate).toLocaleDateString("en-US"):"08/22/2025"}),a.jsx("div",{children:t.InvoiceNumber||"528"})]}),a.jsx("div",{style:{textAlign:"right",marginBottom:12},children:(t.FundsID,"Fund")}),a.jsx("div",{style:{marginBottom:24},children:t.CustomerName||"Leivan Jake Baguio"}),a.jsxs("div",{style:{marginBottom:12},children:[a.jsx("span",{children:t.Items?(r=t.Items[0])==null?void 0:r.Description:"Big Item"}),a.jsx("span",{style:{marginLeft:"5em"},children:t.Items?Number(((n=t.Items[0])==null?void 0:n.UnitPrice)||0).toFixed(2):"175.00"}),a.jsx("span",{style:{marginLeft:"3em"},children:t.Total?Number(t.Total).toFixed(2):"1,350.00"})]}),a.jsx("div",{style:{textAlign:"right",marginTop:"4em",fontWeight:"bold",fontSize:"1.1em"},children:t.Total?Number(t.Total).toFixed(2):"1,350.00"}),a.jsx("div",{style:{marginTop:"1.5em",fontWeight:"bold"},children:t.AmountInWords||"TWO THOUSAND SEVEN"})]}):null}),KWe="http://192.168.1.215:5001",JWe=pe().shape({InvoiceNumber:M().required("Invoice number is required"),CustomerName:M().required("Customer is required"),CustomerID:ae().nullable(),CustomerAge:ae().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:M().required("Remarks are required"),InvoiceDate:Ye().required("Invoice date is required"),Cenomar:M().required("CENOMAR is required"),MarrytoID:ae().nullable(),MarrytoName:M().required('"Marry to Name" is required'),MarrytoAge:ae().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:M().required("Register number is required"),Total:ae().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:ae().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:ae().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:$t()});function XWe({initialData:t,customers:e,onClose:r,onSubmit:n}){const[s,o]=j.useState(!1),[i,l]=j.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async p=>{o(!0);try{await n(p),r()}catch(h){console.error("Error submitting form:",h),Y.error(h.message||"Submission failed. Please try again.")}finally{o(!1)}},d=(p,h,y)=>{const g=Array.from(p.target.files).map(x=>x);h("Attachments",[...y.Attachments,...g])},m=(p,h,y)=>{const b=[...y.Attachments];b.splice(p,1),h("Attachments",b)},f=e==null?void 0:e.map(p=>({value:p.ID,label:p.Name||`${p.FirstName} ${p.MiddleName} ${p.LastName}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[a.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),a.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),a.jsx(He,{initialValues:c,validationSchema:JWe,onSubmit:u,enableReinitialize:!0,children:({values:p,errors:h,touched:y,handleChange:b,handleBlur:g,setFieldValue:x})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),a.jsx("input",{type:"file",multiple:!0,onChange:v=>d(v,x,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(p==null?void 0:p.Attachments.length)>0?a.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((v,w)=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"h-4 w-4 text-gray-500 mr-2"}),a.jsx("span",{className:"text-sm",children:v.ID?a.jsx("a",{href:`${KWe}/uploads/${v.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:v.name||v.DataName}):v.name||v.DataName})]}),a.jsx("button",{type:"button",onClick:()=>m(w,x,p),className:"text-red-500 hover:text-red-700",children:a.jsx(er,{className:"h-4 w-4"})})]},w))}):a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),a.jsx(D,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:p.InvoiceNumber,onChange:b,onBlur:g,error:h.InvoiceNumber,touched:y.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(rt,{label:"Customer",name:"CustomerName",type:"select",options:f,required:!0,placeholder:"Select Name",onSelect:v=>{const w=f.find(N=>N.value===v);w?(x("CustomerName",w==null?void 0:w.label),x("CustomerID",w==null?void 0:w.value)):(x("CustomerName",v),x("CustomerID",null))},selectedValue:p.CustomerID||p.CustomerName,error:h.CustomerName,touched:y.CustomerName}),a.jsx(D,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:p.CustomerAge,onChange:b,onBlur:g,error:h.CustomerAge,touched:y.CustomerAge,min:"1"})]}),a.jsx(D,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:p.Remarks,onChange:b,onBlur:g,error:h.Remarks,touched:y.Remarks}),a.jsx(D,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:p.InvoiceDate,onChange:b,onBlur:g,error:h.InvoiceDate,touched:y.InvoiceDate}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:p.Cenomar,onChange:b,onBlur:g,error:h.Cenomar,touched:y.Cenomar}),a.jsx(rt,{label:"Marry to",name:"MarrytoID",type:"select",options:f,required:!0,placeholder:"Select Marry to",onSelect:v=>{const w=f.find(N=>N.value===v);w?(x("MarrytoName",w==null?void 0:w.label),x("MarrytoID",w==null?void 0:w.value)):(x("MarrytoName",v),x("MarrytoID",null))},selectedValue:p.MarrytoID||p.MarrytoName,error:h.MarrytoName,touched:y.MarrytoName})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:p.MarrytoAge,onChange:b,onBlur:g,error:h.MarrytoAge,touched:y.MarrytoAge,min:"1"}),a.jsx(D,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:p.RegisterNumber,onChange:b,onBlur:g,error:h.RegisterNumber,touched:y.RegisterNumber})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(D,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:p.Total,onChange:b,onBlur:g,error:h.Total,touched:y.Total,min:"0"}),a.jsx(D,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:p.RemainingBalance,onChange:b,onBlur:g,error:h.RemainingBalance,touched:y.RemainingBalance,min:"0"}),a.jsx(D,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:p.AmountReceived,onChange:b,onBlur:g,error:h.AmountReceived,touched:y.AmountReceived,min:"0"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:s,children:t?"Update":"Create"})]})]})})]})}const Jl="http://192.168.1.215:5001",ZWe=[],Gm=K("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Jl}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch marriage records");return s}catch(r){return e.rejectWithValue(r.message)}}),_C=K("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Jl}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch marriage record");return s}catch(r){return e.rejectWithValue(r.message)}}),e0=K("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Jl}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to add marriage record");return s}catch(r){return e.rejectWithValue(r.message)}}),BC=K("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Jl}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update marriage record");return s}catch(r){return e.rejectWithValue(r.message)}}),t0=K("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Jl}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const s=await n.json();throw new Error(s.message||"Failed to void marriage record")}return await n.json()}catch(r){return e.rejectWithValue(r.message)}}),WG=K("marriageRecords/approveMarriageRecord",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Jl}/marriagerecord/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({ID:t})}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to approve marriage record");return{id:t}}catch(r){return e.rejectWithValue(r.message)}}),GG=K("marriageRecords/rejectMarriageRecord",async({id:t,reason:e},r)=>{try{const n=sessionStorage.getItem("token"),s=await fetch(`${Jl}/marriagerecord/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({ID:t,reason:e})}),o=await s.json();if(!s.ok)throw new Error(o.message||"Failed to reject marriage record");return{id:t}}catch(n){return r.rejectWithValue(n.message)}}),HG=Ce({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Gm.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WG.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>String(s.ID)===String(r.payload.id));n!==-1&&(e.records[n].Status="Posted"),e.currentRecord&&String(e.currentRecord.ID)===String(r.payload.id)&&(e.currentRecord={...e.currentRecord,Status:"Posted"})}).addCase(GG.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>String(s.ID)===String(r.payload.id));n!==-1&&(e.records[n].Status="Rejected"),e.currentRecord&&String(e.currentRecord.ID)===String(r.payload.id)&&(e.currentRecord={...e.currentRecord,Status:"Rejected"})}).addCase(Gm.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Gm.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=ZWe}).addCase(_C.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_C.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(_C.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(e0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(e0.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(e0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(BC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(BC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>String(s.ID)===String(r.payload.ID));n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&String(e.currentRecord.ID)===String(r.payload.ID)&&(e.currentRecord=r.payload)}).addCase(BC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(t0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(t0.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]);const n=e.records.findIndex(s=>String(s.ID)===String(r.payload.ID));n!==-1&&(e.records[n].Status=r.payload.Status||"Void"),e.currentRecord&&String(e.currentRecord.ID)===String(r.payload.ID)&&(e.currentRecord={...e.currentRecord,Status:r.payload.Status||"Void"})}).addCase(t0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:IKe}=HG.actions,QWe=HG.reducer;function eGe(){const[t,e]=j.useState(!1),[r,n]=j.useState(null),s=he(),{records:o,isLoading:i}=ee(C=>C.marriageRecords),{customers:l,isLoading:c}=ee(C=>C.customers),{Add:u,Edit:d,Delete:m,Print:f}=Se(59);j.useEffect(()=>{s(Gm()),s(Ir())},[s]);const p=j.useRef();qn.useReactToPrint({contentRef:p,documentTitle:"Marriage Service Receipt"});const h=async C=>{console.log("Form data to save:",C);const A=new FormData;for(const T in C)if(T!=="Attachments"){const I=typeof C[T]=="object"?JSON.stringify(C[T]):C[T];T==="TransactionItemsAll"?A.append("Items",I):A.append(T,I)}C==null||C.Attachments.forEach((T,I)=>{T.ID?A.append(`Attachments[${I}].ID`,T.ID):A.append(`Attachments[${I}].File`,T)}),r?(A.append("IsNew",!1),A.append("LinkID",r.LinkID),A.append("ID",r.ID)):A.append("IsNew",!0);try{await s(e0(A)).unwrap(),r?Y.success("Marriage Receipt Updated Successfully"):Y.success("Marriage Receipt Added Successfully"),s(Gm()),s(Ir())}catch(T){Y.error(T.message||"Something went wrong")}finally{v()}},y=async C=>{if(window.confirm("Are you sure you want to void this marriage record? This action cannot be undone."))try{await s(t0(C.ID)).unwrap(),Y.success("Marriage record voided successfully")}catch(A){Y.error(A.message||"Failed to void")}},b=C=>{n(C),e(!0)},g=async C=>{if(window.confirm("Are you sure you want to approve this record?"))try{await s(WG(C.ID)).unwrap(),Y.success("Marriage Receipt Approved and Posted")}catch(A){Y.error(A.message||"Failed to approve")}},x=async C=>{const A=window.prompt("Enter rejection reason:");if(A!==null)try{await s(GG({id:C.ID,reason:A})).unwrap(),Y.success("Marriage Receipt Rejected")}catch(T){Y.error(T.message||"Failed to reject")}},v=()=>{n(null),e(!1)},w=[{key:"InvoiceNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"Status",header:"Status",sortable:!0,render:C=>a.jsx("span",{className:`px-2 py-1 rounded ${C==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":C==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":C==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":C==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":C==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":C==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:C})},{key:"InvoiceDate",header:"Date",sortable:!0,render:C=>new Date(C).toLocaleDateString()},{key:"CustomerName",header:"Customer",sortable:!0,render:C=>(C==null?void 0:C.trim())||"N/A"},{key:"Total",header:"Amount",sortable:!0,className:"text-right",render:C=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:N(C)})}],N=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(C||0),S=C=>{const A=[],T=(C.Status||"").toString().trim();return T==="Void"?[{icon:Fe,title:"View",onClick:()=>b(C),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}]:(T==="Requested"&&A.push({icon:tj,title:"Approve",onClick:()=>g(C),className:"text-success-600 hover:text-success-900 p-1 rounded-full hover:bg-success-50"},{icon:Hu,title:"Reject",onClick:()=>x(C),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),d&&A.push({icon:Fe,title:"Edit",onClick:()=>b(C),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),m&&A.push({icon:Xe,title:"Void",onClick:()=>y(C),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),A)};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),a.jsx("p",{className:"text-gray-600",children:"Manage receipts for marriage services."})]}),a.jsx("div",{className:"flex gap-2",children:u&&a.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary max-sm:w-full ",children:[a.jsx(qe,{className:"h-5 w-5 mr-2"}),"New Marriage Receipt"]})})]}),a.jsx(je,{columns:w,data:o,actions:S,className:"bg-white rounded-lg shadow",isLoading:i||c}),a.jsx(me,{isOpen:t,onClose:v,title:r?"Edit Receipt":"Add Receipt",children:a.jsx(XWe,{initialData:r,customers:l,onClose:v,onSubmit:h})}),a.jsx("div",{style:{display:"none"},children:a.jsx(tGe,{ref:p,receipt:r})})]})}const tGe=j.forwardRef(({receipt:t},e)=>{var r,n;return t?a.jsxs("div",{ref:e,style:{width:400,margin:"0 auto",background:"#fff",color:"#111",fontFamily:"monospace",padding:"32px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[a.jsx("div",{children:t.InvoiceDate?new Date(t.InvoiceDate).toLocaleDateString("en-US"):"08/22/2025"}),a.jsx("div",{children:t.InvoiceNumber||"528"})]}),a.jsx("div",{style:{textAlign:"right",marginBottom:12},children:(t.FundsID,"Fund")}),a.jsx("div",{style:{marginBottom:24},children:t.CustomerName||"Leivan Jake Baguio"}),a.jsxs("div",{style:{marginBottom:12},children:[a.jsx("span",{children:t.Items?(r=t.Items[0])==null?void 0:r.Description:"Big Item"}),a.jsx("span",{style:{marginLeft:"5em"},children:t.Items?Number(((n=t.Items[0])==null?void 0:n.UnitPrice)||0).toFixed(2):"175.00"}),a.jsx("span",{style:{marginLeft:"3em"},children:t.Total?Number(t.Total).toFixed(2):"1,350.00"})]}),a.jsx("div",{style:{textAlign:"right",marginTop:"4em",fontWeight:"bold",fontSize:"1.1em"},children:t.Total?Number(t.Total).toFixed(2):"1,350.00"}),a.jsx("div",{style:{marginTop:"1.5em",fontWeight:"bold"},children:t.AmountInWords||"TWO THOUSAND SEVEN"})]}):null}),Xl="http://192.168.1.215:5001",rGe=[],Ss=K("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Xl}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch public market tickets");return s}catch(r){return console.error("Error fetching public market tickets:",r),e.rejectWithValue(r.message)}}),qC=K("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Xl}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch public market ticket");return s}catch(r){return console.error(`Error fetching public market ticket by ID ${t}:`,r),e.rejectWithValue(r.message)}}),r0=K("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Xl}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to add public market ticket");return s}catch(r){return console.error("Error adding public market ticket:",r),e.rejectWithValue(r.message)}}),n0=K("publicMarketTicketing/updatePublicMarketTicket",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Xl}/public-market-ticketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update public market ticket");return s}catch(r){return console.error(`Error updating public market ticket with ID ${t.ID}:`,r),e.rejectWithValue(r.message)}}),a0=K("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Xl}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const s=await n.json();throw new Error(s.message||"Failed to delete public market ticket")}return t}catch(r){return console.error(`Error deleting public market ticket with ID ${t}:`,r),e.rejectWithValue(r.message)}}),s0=K("publicMarketTicketing/approvePublicMarketTicket",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Xl}/public-market-ticketing/approve/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to approve ticket");return s}catch(r){return console.error(`Error approving public market ticket with ID ${t}:`,r),e.rejectWithValue(r.message)}}),o0=K("publicMarketTicketing/rejectPublicMarketTicket",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Xl}/public-market-ticketing/reject/${t}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to reject ticket");return s}catch(r){return console.error(`Error rejecting public market ticket with ID ${t}:`,r),e.rejectWithValue(r.message)}}),YG=Ce({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(Ss.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ss.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(Ss.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=rGe}).addCase(qC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(qC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(r0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(r0.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(r0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(n0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n0.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(n0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(a0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(a0.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(s=>s.ID===r.payload);n!==-1&&(e.tickets[n].Status="Void")}).addCase(a0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)}).addCase(s0.pending,e=>{e.isLoading=!0}).addCase(s0.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.tickets[n]=r.payload)}).addCase(s0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(o0.pending,e=>{e.isLoading=!0}).addCase(o0.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(e.tickets[n]=r.payload)}).addCase(o0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{clearCurrentTicket:TKe}=YG.actions,nGe=YG.reducer,aGe=pe().shape({items:M().required("Items type is required"),startTime:Ye().required("Start time is required"),endTime:Ye().required("End time is required").min(Dl("startTime"),"End time must be after start time"),issuedBy:M().required("Issued by is required"),dateIssued:Ye().required("Date issued is required"),postingPeriod:Ye().required("Posting period is required"),amountIssued:ae().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:M().required("Remarks are required")}),sGe={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},oGe=({ticket:t,onClose:e})=>{const r=he(),{error:n}=ee(i=>i.publicMarketTicketing),s=i=>i?(console.log(i),{...i,items:i.Items||"",startTime:i.StartTime?S4(A4(i.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:i.EndTime?S4(A4(i.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:i.IssuedBy||"",dateIssued:i.DateIssued||"",postingPeriod:i.PostingPeriod||"",amountIssued:i.AmountIssued||"",remarks:i.Remarks||""}):sGe,o=async i=>{try{const l={Items:i.items,StartTime:new Date(i.startTime).toISOString(),EndTime:new Date(i.endTime).toISOString(),IssuedBy:i.issuedBy,DateIssued:i.dateIssued,PostingPeriod:i.postingPeriod,AmountIssued:i.amountIssued,Remarks:i.remarks,Status:t?t.Status:"Requested"};t?(await r(n0({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...l})).unwrap(),le.success("Ticket updated successfully"),r(Ss())):(await r(r0({IsNew:!0,...l})).unwrap(),le.success("Ticket added successfully"),r(Ss()))}catch(l){le.error(l.message||"Something went wrong")}finally{e()}};return j.useEffect(()=>{n&&le.error(n)},[n]),a.jsx(He,{initialValues:s(t),validationSchema:aGe,onSubmit:o,enableReinitialize:!0,children:({isSubmitting:i,isValid:l,dirty:c,values:u,errors:d,touched:m,handleChange:f,handleBlur:p})=>a.jsxs(Ze,{className:"space-y-6",children:[a.jsx(D,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:m.items&&d.items,touched:m.items,value:u.items,onChange:f,onBlur:p}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(D,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:m.dateIssued&&d.dateIssued,touched:m.dateIssued,value:u.dateIssued,onChange:f,onBlur:p}),a.jsx(D,{label:"Posting Period:",name:"postingPeriod",type:"date",required:!0,error:m.postingPeriod&&d.postingPeriod,touched:m.postingPeriod,value:u.postingPeriod,onChange:f,onBlur:p})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(D,{label:"Start Time:",name:"startTime",type:"datetime-local",max:u.postingPeriod,required:!0,error:m.startTime&&d.startTime,touched:m.startTime,value:u.startTime,onChange:f,onBlur:p}),a.jsx(D,{label:"End Time:",name:"endTime",type:"datetime-local",min:u.startTime,max:u.postingPeriod,required:!0,error:m.endTime&&d.endTime,touched:m.endTime,value:u.endTime,onChange:f,onBlur:p})]}),a.jsx(D,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:m.issuedBy&&d.issuedBy,touched:m.issuedBy,value:u.issuedBy,onChange:f,onBlur:p}),a.jsx(D,{label:"Amount Issued:",name:"amountIssued",type:"text",placeholder:"0.00",required:!0,error:m.amountIssued&&d.amountIssued,touched:m.amountIssued,value:u.amountIssued!==""&&!isNaN(u.amountIssued)?Number(u.amountIssued).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:h=>{const y=h.target.value.replace(/\D/g,""),b=y?(parseInt(y,10)/100).toFixed(2):"";f({target:{name:"amountIssued",value:b}})},onBlur:p}),a.jsx(D,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:m.remarks&&d.remarks,touched:m.remarks,value:u.remarks,onChange:f,onBlur:p,rows:4}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[a.jsx("button",{type:"button",onClick:e,disabled:i,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:i||!l||!c,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},iGe=()=>{const t=he(),{Add:e,Edit:r,Delete:n}=Se(68),[s,o]=j.useState(!1),[i,l]=j.useState(null),{tickets:c,isLoading:u,error:d}=ee(x=>x.publicMarketTicketing);j.useEffect(()=>{t(Ss())},[t]),j.useEffect(()=>{d&&le.error(d)},[d]),j.useEffect(()=>{c.length>0&&(console.log("DEBUG: First row data:",c[0]),console.log("DEBUG: Row keys:",Object.keys(c[0])))},[c]);const m=()=>{l(null),o(!0)},f=async x=>{if(window.confirm("Are you sure you want to void this ticket?"))try{await t(a0(x.ID)).unwrap(),le.success("Ticket voided successfully"),t(Ss())}catch(v){le.error(v.message||"Failed to void ticket")}},p=async x=>{try{await t(s0(x.ID)).unwrap(),le.success("Ticket approved successfully"),t(Ss())}catch(v){le.error(v.message||"Failed to approve ticket")}},h=async x=>{try{await t(o0(x.ID)).unwrap(),le.success("Ticket rejected successfully"),t(Ss())}catch(v){le.error(v.message||"Failed to reject ticket")}},y=[{key:"Items",header:"Items",accessorKey:"items"},{key:"Status",header:"Status",sortable:!0,render:(x,v)=>{const w=x||v.status||"Requested";return a.jsx("span",{className:`px-2 py-1 rounded ${w==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":w==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":w==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":w==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":w==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":w==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:w})}},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:x=>new Date(x).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:x=>new Date(x).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:x=>new Date(x).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:x=>new Date(x).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:fe},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],b=x=>{console.log("Edit ticket:",x),l(x),o(!0)},g=x=>{const v=[];return r&&x.Status!=="Void"&&v.push({icon:Br,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),(x.Status==="Requested"||!x.Status)&&x.Status!=="Void"&&(v.push({icon:Sf,title:"Approve",onClick:p,className:"text-success-600 hover:text-success-900 p-1 rounded-full hover:bg-success-50"}),v.push({icon:SV,title:"Reject",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})),n&&x.Status!=="Void"&&v.push({icon:Kt,title:"Void",onClick:f,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),v};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),a.jsx("p",{className:"text-gray-600",children:"Manage tickets of the public market."})]}),e&&a.jsxs(Et,{onClick:m,disabled:u,className:"max-sm:w-full",children:[a.jsx(l3e,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow",children:a.jsx(je,{columns:y,data:c,isLoading:u,actions:g})}),a.jsx(me,{isOpen:s,onClose:()=>o(!1),title:i?"Edit Ticket":"Add Ticket",children:a.jsx(oGe,{ticket:i,onClose:()=>o(!1)})})]})};pe().shape({budgetName:M().required("Budget Name is required"),fiscalYear:M().required("Fiscal Year is required"),department:M().required("Department is required"),subDepartment:M().required("Sub-Department is required"),chartOfAccounts:M().required("Chart of Accounts is required"),fund:M().required("Fund is required"),project:M().required("Project is required"),january:M().required("January is required"),february:M().required("February is required"),march:M().required("March is required"),april:M().required("April is required"),may:M().required("May is required"),june:M().required("June is required"),july:M().required("July is required"),august:M().required("August is required"),september:M().required("September is required"),october:M().required("October is required"),november:M().required("November is required"),december:M().required("December is required")});const lGe=pe().shape({Name:M().required("Budget name is required"),FiscalYearID:ae().required("Fiscal year is required"),DepartmentID:ae().required("Department is required"),SubDepartmentID:ae().required("Sub department is required"),ChartofAccountsID:ae().required("Chart of accounts is required"),FundID:ae().required("Fund is required"),ProjectID:ae().required("Project is required"),Appropriation:ae().required("Appropriation is required"),Charges:ae().required("Charges is required"),January:ae().nullable(),February:ae().nullable(),March:ae().nullable(),April:ae().nullable(),May:ae().nullable(),June:ae().nullable(),July:ae().nullable(),August:ae().nullable(),September:ae().nullable(),October:ae().nullable(),November:ae().nullable(),December:ae().nullable()}),k4={ID:"",IsNew:!0,Name:"",FiscalYearID:"",DepartmentID:"",SubDepartmentID:"",ChartofAccountsID:"",FundID:"",ProjectID:"",Appropriation:0,Charges:0,January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0};function KG({initialData:t,onSubmit:e,onClose:r,departmentOptions:n,subDepartmentOptions:s,chartOfAccountsOptions:o,fundOptions:i,projectOptions:l,fiscalYearOptions:c}){const[u,d]=j.useState({...k4}),m=(f,{setSubmitting:p})=>{e(f),p(!1),console.log("Form submitted with values:",f)};return j.useEffect(()=>{t!=null&&t.ID?d({ID:t.ID,IsNew:!1,Name:t.Name||"",FiscalYearID:t.FiscalYearID||"",DepartmentID:t.DepartmentID||"",SubDepartmentID:t.SubDepartmentID||"",ChartofAccountsID:t.ChartofAccountsID||"",FundID:t.FundID||"",ProjectID:t.ProjectID||"",Appropriation:t.Appropriation||0,Charges:t.Charges||0,January:t.January||0,February:t.February||0,March:t.March||0,April:t.April||0,May:t.May||0,June:t.June||0,July:t.July||0,August:t.August||0,September:t.September||0,October:t.October||0,November:t.November||0,December:t.December||0}):d(k4)},[t]),a.jsx(He,{enableReinitialize:!0,onSubmit:m,initialValues:u,validationSchema:lGe,children:({values:f,errors:p,touched:h,handleChange:y,handleBlur:b,isSubmitting:g,submitCount:x,setFieldValue:v})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"col-span-2",children:a.jsx(D,{label:"Budget Name",name:"Name",value:f.Name,type:"text",onChange:y,onBlur:b,error:p.Name,touched:h.Name,readOnly:!0,className:"bg-gray-100"})}),a.jsx(D,{label:"Fiscal Year",name:"FiscalYearID",type:"select",onChange:y,onBlur:b,value:f.FiscalYearID,error:p.FiscalYearID,touched:h.FiscalYearID,options:c,required:!0}),a.jsx(D,{label:"Department",name:"DepartmentID",type:"select",onChange:y,onBlur:b,value:f.DepartmentID,error:p.DepartmentID,touched:h.DepartmentID,options:n,required:!0}),a.jsx(D,{label:"Sub-Department",name:"SubDepartmentID",type:"select",onChange:y,onBlur:b,value:f.SubDepartmentID,error:p.SubDepartmentID,touched:h.SubDepartmentID,options:s,required:!0}),a.jsx(D,{label:"Chart of Accounts",name:"ChartofAccountsID",type:"select",onChange:w=>{const N=w.target.value;y(w);const S=o.find(C=>C.value.toString()===N.toString());S&&v("Name",S.label)},onBlur:b,value:f.ChartofAccountsID,error:p.ChartofAccountsID,touched:h.ChartofAccountsID,options:o,required:!0}),a.jsx(D,{label:"Fund",name:"FundID",type:"select",onChange:y,onBlur:b,value:f.FundID,error:p.FundID,touched:h.FundID,options:i,required:!0}),a.jsx(D,{label:"Project",name:"ProjectID",type:"select",onChange:y,onBlur:b,value:f.ProjectID,error:p.ProjectID,touched:h.ProjectID,options:l,required:!0}),a.jsx(D,{label:"Appropriation",name:"Appropriation",type:"text",value:fe(f.Appropriation),readOnly:!0,className:"bg-gray-100"}),a.jsx(D,{label:"Charges",name:"Charges",type:"text",value:fe(f.Charges),readOnly:!0,className:"bg-gray-100"}),a.jsx(D,{label:"Total Amount",name:"TotalAmount",type:"text",value:fe(f.TotalAmount),readOnly:!0,className:"bg-gray-100"}),a.jsx(D,{label:"Balance",name:"AppropriationBalance",type:"text",value:fe(f.AppropriationBalance),readOnly:!0,className:"bg-gray-100"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(w=>a.jsx(D,{label:w,name:w,type:"text",onChange:N=>{const S=N.target.value.replace(/[^0-9.]/g,""),C=S===""?"":S;y({target:{name:w,value:C}});const A={...f,[w]:C},I=["January","February","March","April","May","June","July","August","September","October","November","December"].reduce((k,$)=>k+(Number(A[$])||0),0);v("Appropriation",I),v("TotalAmount",I),v("AppropriationBalance",I)},onBlur:b,value:jn(f[w]),error:p[w],touched:h[w]},w))}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]}),x>0&&Object.keys(p).length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),a.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(p).map(([w,N])=>a.jsx("li",{children:N},w))})]})]})})}const cGe=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],uGe=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],dGe=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],mGe=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],fGe=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],E4=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],jT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pGe=pe().shape({budgetName:M().required("Required"),fiscalYear:M().required("Required"),department:M().required("Required"),subDepartment:M().required("Required"),chartOfAccount:M().required("Required"),fund:M().required("Required"),project:M().required("Required"),monthlyAmounts:pe().shape(jT.reduce((t,e)=>(t[e]=ae().min(0,"Must be >= 0").required("Required"),t),{}))});function hGe(){const[t,e]=j.useState({});return a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),a.jsx(He,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:jT.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:pGe,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:s})=>(j.useEffect(()=>{const o=E4.find(i=>i.value===r.project);o&&e(o)},[r.project]),a.jsxs(Ze,{className:"space-y-4",children:[a.jsx(D,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),a.jsx(D,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:cGe,value:r.fiscalYear,onChange:n}),a.jsx(D,{name:"department",label:"Department",type:"select",required:!0,options:uGe,value:r.department,onChange:n}),a.jsx(D,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:dGe,value:r.subDepartment,onChange:n}),a.jsx(D,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:mGe,value:r.chartOfAccount,onChange:n}),a.jsx(D,{name:"fund",label:"Fund",type:"select",required:!0,options:fGe,value:r.fund,onChange:n}),a.jsx(D,{name:"project",label:"Project",type:"select",required:!0,options:E4.map(o=>({value:o.value,label:o.label})),value:r.project,onChange:n}),r.project&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Charges:"})," ",t.charges]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Total Amount:"})," ",t.total]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:jT.map(o=>a.jsx(D,{name:`monthlyAmounts.${o}`,label:o,type:"number",value:r.monthlyAmounts[o],onChange:n,min:"0",step:"0.01"},o))}),a.jsx("div",{className:"pt-6",children:a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}pe().shape({Status:M().oneOf(["Requested"]).required(),APAR:M().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:ae().oneOf([21]).required(),RequestedBy:ae().required("Requested by (lngUser) is required"),InvoiceDate:Ye().required("Invoice date is required"),InvoiceNumber:M().required("Invoice number is required"),Total:ae().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Hs().required("Active is required"),Remarks:M().nullable(),CreatedBy:M().required("Created by is required"),CreatedDate:Ye().required("Created date is required"),ApprovalProgress:ae().min(0).required("Approval progress is required"),BudgetID:ae().required("Budget id is requeired"),ApprovalVersion:ae().required("Approval version is required")});const bw="http://192.168.1.215:5001",gGe=[],Hm=K("subFunds/fetchSubFunds",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${bw}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),i0=K("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${bw}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NT=K("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${bw}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),l0=K("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${bw}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),yGe=Ce({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Hm.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hm.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(Hm.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=gGe}).addCase(i0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i0.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(i0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(NT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(s=>s.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(l0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l0.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(l0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),xGe=yGe.reducer;function bGe(){he();const[t,e]=j.useState(!1),[r,n]=j.useState(null),{budgets:s,isLoading:o}=ee(f=>f.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:f})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(f.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:f})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(f.original.balance)},{header:"Status",accessorKey:"status",cell:({row:f})=>a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.original.status})}],c=()=>{n(null),e(!0)},u=f=>{n(f),e(!0)},d=f=>{console.log("Delete record:",f)},m=async f=>{try{console.log(r?"Update record:":"Create record:",f),e(!1)}catch(p){console.error("Error saving record:",p)}};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),a.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(qe,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),a.jsx("div",{className:"bg-white shadow rounded-lg",children:a.jsx(je,{columns:l,data:i,isLoading:o,onEdit:u,onDelete:d})}),a.jsx(me,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:a.jsx(KG,{initialData:r,onSubmit:m,onClose:()=>e(!1)})})]})}function vGe({fiscalYears:t=[],accLoading:e=!1,onView:r,onGenerateJournal:n,onExportExcel:s}){const o=j.useRef(null),i=pe({fiscalYearID:M().required("Fiscal Year is required")}),l={fiscalYearID:""},c=(u,{setSubmitting:d})=>{switch(o.current){case"view":r(u);break;case"generate":n(u);break;case"export":s(u);break}d(!1),o.current=null};return a.jsx(He,{initialValues:l,validationSchema:i,onSubmit:c,validateOnMount:!0,children:({values:u,errors:d,touched:m,handleChange:f,handleBlur:p,isSubmitting:h,setFieldValue:y})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:a.jsx(D,{type:"select",label:"Fiscal Year",name:"fiscalYearID",options:t.map(b=>({value:b.ID,label:b.Name})),value:u.fiscalYearID,onChange:f,onBlur:p,error:d.fiscalYearID,touched:m.fiscalYearID,defaultOption:"  - - Select - -   ",required:!0})}),a.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>o.current="view",children:"View"}),a.jsx("button",{type:"submit",className:"btn btn-secondary",disabled:h,onClick:()=>o.current="generate",children:"Generate Journal"}),a.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>o.current="export",children:"Export to Excel"})]})]})})}const jGe="http://192.168.1.215:5001",NGe={statementComparisons:[],isLoading:!1,error:null},c0=K("statementComparison/fetchStatementComparisons",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${jGe}/statementOfComparison/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.error||s.message||"Failed to fetch");return s}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),VC=K("statementComparison/exportStatementComparisons",async t=>!0),JG=Ce({name:"statementComparison",initialState:NGe,reducers:{resetStatementComparisonState:t=>{t.statementComparisons=[],t.error=null}},extraReducers:t=>{t.addCase(c0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c0.fulfilled,(e,r)=>{e.isLoading=!1,e.statementComparisons=r.payload}).addCase(c0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(VC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(VC.fulfilled,e=>{e.isLoading=!1}).addCase(VC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetStatementComparisonState:wGe}=JG.actions,CGe=JG.reducer,XG=j.forwardRef(({data:t,fiscalYear:e},r)=>{const n={Original:0,Final:0,Difference:0,Actual:0,Difference2:0};return t.forEach(s=>{n.Original+=s.Original||0,n.Final+=s.Final||0,n.Difference+=s.Difference||0,n.Actual+=s.Actual||0,n.Difference2+=s["Difference 2"]||0}),a.jsxs("div",{ref:r,className:"p-6 text-black text-sm",children:[a.jsx("h2",{className:"text-center font-bold",children:"Municipality of __________"}),a.jsx("h3",{className:"text-center",children:"Statement of Comparison of Budget and Actual Amounts"}),a.jsxs("p",{className:"text-center mb-4",children:["For the Year Ended ",e==null?void 0:e.Name]}),a.jsxs("table",{className:"w-full border-collapse border text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"border p-2",children:"Particular"}),a.jsx("th",{className:"border p-2",children:"Notes"}),a.jsx("th",{className:"border p-2",children:"Budget Amounts - Original"}),a.jsx("th",{className:"border p-2",children:"Budget Amounts - Final"}),a.jsx("th",{className:"border p-2",children:"Difference (Original vs Final)"}),a.jsx("th",{className:"border p-2",children:"Actual Amounts"}),a.jsx("th",{className:"border p-2",children:"Difference (Final vs Actual)"})]})}),a.jsxs("tbody",{children:[t.map((s,o)=>{var i,l,c,u,d;return a.jsxs("tr",{children:[a.jsx("td",{className:"border p-2",children:s.Category}),a.jsx("td",{className:"border p-2",children:s.Subtype}),a.jsx("td",{className:"border p-2 text-right",children:(i=s.Original)==null?void 0:i.toLocaleString("en-PH")}),a.jsx("td",{className:"border p-2 text-right",children:(l=s.Final)==null?void 0:l.toLocaleString("en-PH")}),a.jsx("td",{className:"border p-2 text-right",children:(c=s.Difference)==null?void 0:c.toLocaleString("en-PH")}),a.jsx("td",{className:"border p-2 text-right",children:(u=s.Actual)==null?void 0:u.toLocaleString("en-PH")}),a.jsx("td",{className:"border p-2 text-right",children:(d=s["Difference 2"])==null?void 0:d.toLocaleString("en-PH")})]},o)}),a.jsxs("tr",{className:"font-bold",children:[a.jsx("td",{className:"border p-2 text-right",colSpan:2,children:"Total Appropriations"}),a.jsx("td",{className:"border p-2 text-right",children:n.Original.toLocaleString("en-PH")}),a.jsx("td",{className:"border p-2 text-right",children:n.Final.toLocaleString("en-PH")}),a.jsx("td",{className:"border p-2 text-right",children:n.Difference.toLocaleString("en-PH")}),a.jsx("td",{className:"border p-2 text-right",children:n.Actual.toLocaleString("en-PH")}),a.jsx("td",{className:"border p-2 text-right",children:n.Difference2.toLocaleString("en-PH")})]})]})]})]})});XG.displayName="StatementComparisonPrintView";function SGe(){const t="http://192.168.1.215:5001",e=he(),{statementComparisons:r,isLoading:n,error:s}=ee(f=>f.statementComparison),{fiscalYears:o}=ee(f=>f.fiscalYears);j.useEffect(()=>{e(wGe()),e(ln())},[e]);const i=j.useRef(),l=qn.useReactToPrint({contentRef:i,documentTitle:"Statement Comparison Report"}),c=[{key:"Type",header:"Type",sortable:!0},{key:"SubID",header:"Sub ID",sortable:!0},{key:"Subtype",header:"Subtype",sortable:!0},{key:"Category",header:"Category",sortable:!0},{key:"Chart of Accounts",header:"Chart of Accounts",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Original",header:"Original",sortable:!0,render:fe,className:"text-right"},{key:"Final",header:"Final",sortable:!0,className:"text-right",render:fe},{key:"Difference",header:"Difference",sortable:!0,className:"text-right"},{key:"Actual",header:"Actual",sortable:!0,className:"text-right"},{key:"Difference 2",header:"Difference 2",sortable:!0,className:"text-right"},{key:"Period",header:"Period",sortable:!0},{key:"Original_Sum",header:"Original_Sum",sortable:!0,render:fe},{key:"Final_Sum",header:"Final_Sum",sortable:!0,render:fe},{key:"Difference_Sum",header:"Difference_Sum",sortable:!0,render:fe},{key:"Actual_Sum",header:"Actual_Sum",sortable:!0,render:fe},{key:"Difference2_Sum",header:"Difference2_Sum",sortable:!0,render:fe},{key:"Municipality",header:"Municipality",sortable:!0},{key:"Province",header:"Province",sortable:!0}],u=async f=>{try{const p=await fetch(`${t}/statementOfComparison/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify({fiscalYearID:f.fiscalYearID})});if(!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),y=p.headers.get("Content-Disposition");let b="Statement_of_Comparison.xlsx";y&&y.includes("filename=")&&(b=y.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(h),x=document.createElement("a");x.href=g,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(g)}catch(p){console.error("Export failed:",p),Y.error(p.message||"Failed to export")}},d=f=>{e(c0(f))},m=()=>{if(r.length===0){Y.error("No data to generate journal");return}l()};return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{children:[a.jsx("h1",{children:"Statement of Comparison of Budget and Actual Amount"}),a.jsx("p",{children:"Compare original, final, and actual budget amounts by fiscal year"})]})}),a.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:a.jsx(vGe,{fiscalYears:o,onGenerateJournal:m,onExportExcel:u,onView:d,onClose:()=>{}})}),s&&a.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 rounded-md",children:a.jsx("p",{className:"text-red-800",children:s})}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:c,data:r,loading:n,pagination:!0})}),a.jsx("div",{className:"hidden",children:a.jsx(XG,{ref:i,data:r})})]})}const AGe=()=>{const t=he(),[e,r]=j.useState(null),n=j.useRef(null),{Edit:s}=Se(58);j.useEffect(()=>{t(Go()),t(Wo()),t(zo()),t(Uo()),i()},[t]);const o="http://192.168.1.215:5001",i=async()=>{try{const A=sessionStorage.getItem("token"),T=await fetch(`${o}/lgu`,{headers:{Authorization:`Bearer ${A}`}});if(!T.ok)throw new Error("Failed to fetch LGU data");const I=await T.json();console.log("LGU Data received:",I);const k=l(I);h(k);let $="https://placehold.co/150x150?text=LGU+Logo";const L=I.Logo||I.LogoUrl||I.logo||I.logoUrl;L&&(L.startsWith("http://")||L.startsWith("https://")?$=L:L.startsWith("/")?$=`${o}${L}`:$=`${o}/uploads/${L}`),console.log("Setting image URL:",$),b($)}catch(A){console.error("Error loading LGU data:",A),Y.error("Failed to load LGU data")}},l=A=>{var U,B,P,O;const{BarangayID:T,MunicipalityID:I,ProvinceID:k,RegionID:$}=A,L=(U=u.find(V=>V.ID===T))==null?void 0:U.Name,q=(B=d.find(V=>V.ID===I))==null?void 0:B.Name,E=(P=m.find(V=>V.ID===k))==null?void 0:P.Name,R=(O=f.find(V=>V.ID===$))==null?void 0:O.Name;return A.BarangayName=L,A.MunicipalityName=q,A.ProvinceName=E,A.RegionName=R,A},c=async(A,T)=>{try{const I=sessionStorage.getItem("token"),k=new FormData;Object.entries(A).forEach(([R,U])=>{if(U!=null){if(R==="Logo"&&T)return;k.append(R,U)}}),T?(console.log("Appending file to FormData:",T.name,T.type,T.size),k.append("Logo",T)):console.log("No file selected for upload"),console.log("FormData entries:");for(let R of k.entries())console.log(R[0]+": "+(R[1]instanceof File?`File(${R[1].name})`:R[1]));const $=await fetch(`${o}/lgu/${A.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${I}`},body:k});if(!$.ok){const R=await $.text();console.error("Response error:",R);let U;try{U=JSON.parse(R)}catch{U={message:R||"Failed to update LGU"}}throw new Error(U.message||"Failed to update LGU")}const L=await $.json();console.log("Update response:",L),h(L);let q="https://placehold.co/150x150?text=LGU+Logo";const E=L.Logo||L.LogoUrl||L.logo||L.logoUrl;return E&&(E.startsWith("http://")||E.startsWith("https://")?q=E:E.startsWith("/")?q=`${o}${E}`:q=`${o}/uploads/${E}`),console.log("Setting updated image URL:",q),b(q),r(null),!0}catch(I){return console.error("Update error:",I),Y.error(I.message||"Failed to update LGU. Please try again."),!1}},{barangays:u}=ee(A=>A.barangays),{municipalities:d}=ee(A=>A.municipalities),{provinces:m}=ee(A=>A.provinces),{regions:f}=ee(A=>A.regions),[p,h]=j.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[y,b]=j.useState("https://placehold.co/150x150?text=LGU+Logo"),[g,x]=j.useState(!1),v=pe({Code:M().required("Code is required"),Name:M().required("Name is required"),TIN:M().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),RDO:M().required("RDO is required"),StreetAddress:M().required("Street Address is required"),BarangayID:M().required("Barangay is required"),MunicipalityID:M().required("Municipality is required"),ProvinceID:M().required("Province is required"),RegionID:M().required("Region is required"),ZIPCode:M().required("Zip Code is required"),PhoneNumber:ae().required("Phone Number is required"),EmailAddress:M().email("Invalid email").required("Email is required"),Website:M().required("Website is required")}),w=ot({initialValues:p,validationSchema:v,enableReinitialize:!0,onSubmit:async(A,{setSubmitting:T})=>{console.log("Form submitted with logoFile:",e),e&&console.log("Logo file details:",{name:e.name,type:e.type,size:e.size}),await c(A,e)&&(x(!1),r(null),n.current&&(n.current.value=""),Y.success("LGU updated successfully"),i()),T(!1)}}),N=A=>{var I;const T=(I=A.target.files)==null?void 0:I[0];if(T){if(!T.type.startsWith("image/")){Y.error("Please select an image file"),n.current&&(n.current.value="");return}const k=5*1024*1024;if(T.size>k){Y.error("Image size should be less than 5MB"),n.current&&(n.current.value="");return}r(T);const $=new FileReader;$.onloadend=()=>{b($.result)},$.onerror=()=>{Y.error("Error reading image file"),r(null),n.current&&(n.current.value="")},$.readAsDataURL(T)}},S=()=>{w.resetForm(),x(!1),r(null),n.current&&(n.current.value=""),i()},C=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","17A","17B","018","019","020","21A","21B","21C","022","23A","23B","024","25A","25B","026","027","028","029","030","031","032","033","034","035","036","037","038","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","53A","53B","54A","54B","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","93A","93B","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113A","113B","114","115"].map((A,T)=>({ID:T+1,Name:A}));return a.jsxs("div",{className:"page-container",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(cu,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"LGU Maintenance"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Manage Local Government Unit information and settings"})]})]})}),s&&!g&&a.jsxs("button",{onClick:()=>x(!0),className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(IV,{className:"h-5 w-5"}),"Edit Information"]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ir,{className:"h-5 w-5 text-primary-600"}),a.jsx("h2",{className:"text-lg font-semibold text-neutral-900",children:"LGU Information"})]}),g&&a.jsxs("button",{onClick:S,className:"text-neutral-600 hover:text-neutral-900 flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-neutral-100 transition-colors",children:[a.jsx(bt,{className:"h-4 w-4"}),"Cancel"]})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col items-center mb-8 pb-8 border-b border-neutral-200",children:[a.jsxs("div",{className:"relative group",children:[g&&a.jsx("div",{className:"absolute inset-0 bg-neutral-900 bg-opacity-0 group-hover:bg-opacity-10 rounded-full transition-all duration-200 flex items-center justify-center z-10 pointer-events-none",children:a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(ik,{className:"h-8 w-8 text-white"})})}),a.jsx("img",{src:y,className:"h-32 w-32 sm:h-40 sm:w-40 rounded-full object-cover border-4 border-neutral-200 shadow-lg bg-neutral-100",alt:"LGU Logo",style:{display:"block"},onError:A=>{if(console.error("Image failed to load:",y),console.error("Error details:",A),y&&!y.includes("placehold.co"))if(y.startsWith("/api/")){const T=y.replace("/api/",`${o}/`);console.log("Trying direct URL:",T),A.target.src=T}else A.target.src="https://placehold.co/150x150?text=LGU+Logo";else A.target.src="https://placehold.co/150x150?text=LGU+Logo"},onLoad:()=>{console.log("Image loaded successfully:",y)}})]}),g&&a.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2",children:[a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{ref:n,type:"file",accept:"image/*",onChange:N,className:"hidden"}),a.jsxs("div",{className:"btn btn-outline flex items-center gap-2",children:[a.jsx(rse,{className:"h-4 w-4"}),"Change Logo"]})]}),e&&a.jsxs("p",{className:"text-sm text-green-600 font-medium",children:[" ",e.name," ready to upload"]})]})]}),g?a.jsxs("form",{onSubmit:w.handleSubmit,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(D,{label:"LGU Code",name:"Code",value:w.values.Code,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.Code,touched:w.touched.Code,required:!0}),a.jsx(D,{label:"LGU Name",name:"Name",value:w.values.Name,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.Name,touched:w.touched.Name,required:!0}),a.jsx(D,{label:"TIN",name:"TIN",value:w.values.TIN,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.TIN,touched:w.touched.TIN,required:!0}),a.jsx(D,{label:"RDO",name:"RDO",type:"select",options:C.map(A=>({value:A.ID,label:A.Name})),value:w.values.RDO,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.RDO,touched:w.touched.RDO,required:!0}),a.jsx(D,{label:"Street Address",name:"StreetAddress",value:w.values.StreetAddress,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.StreetAddress,touched:w.touched.StreetAddress,required:!0}),a.jsx(D,{label:"Barangay",name:"BarangayID",type:"select",value:w.values.BarangayID,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.BarangayID,touched:w.touched.BarangayID,options:u.map(A=>({value:A.ID,label:A.Name})),required:!0}),a.jsx(D,{label:"Municipality",name:"MunicipalityID",type:"select",value:w.values.MunicipalityID,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.MunicipalityID,touched:w.touched.MunicipalityID,options:d.map(A=>({value:A.ID,label:A.Name})),required:!0}),a.jsx(D,{label:"Province",name:"ProvinceID",type:"select",value:w.values.ProvinceID,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.ProvinceID,touched:w.touched.ProvinceID,options:m.map(A=>({value:A.ID,label:A.Name})),required:!0}),a.jsx(D,{label:"Region",name:"RegionID",type:"select",value:w.values.RegionID,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.RegionID,touched:w.touched.RegionID,options:f.map(A=>({value:A.ID,label:A.Name})),required:!0}),a.jsx(D,{label:"Zip Code",name:"ZIPCode",value:w.values.ZIPCode,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.ZIPCode,touched:w.touched.ZIPCode,required:!0}),a.jsx(D,{label:"Mobile Number",name:"PhoneNumber",value:w.values.PhoneNumber,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.PhoneNumber,touched:w.touched.PhoneNumber,required:!0}),a.jsx(D,{label:"Email",name:"EmailAddress",type:"email",value:w.values.EmailAddress,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.EmailAddress,touched:w.touched.EmailAddress,required:!0}),a.jsx(D,{label:"Website",name:"Website",value:w.values.Website,onChange:w.handleChange,onBlur:w.handleBlur,error:w.errors.Website,touched:w.touched.Website,required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-neutral-200 col-span-full",children:[a.jsxs("button",{type:"button",onClick:S,className:"btn btn-outline flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4"}),"Cancel"]}),a.jsxs("button",{type:"submit",className:"btn btn-primary flex items-center gap-2",disabled:w.isSubmitting,children:[a.jsx(AV,{className:"h-4 w-4"}),w.isSubmitting?"Saving...":"Save Changes"]})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 mb-4 flex items-center gap-2",children:[a.jsx(ir,{className:"h-5 w-5 text-primary-600"}),"Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"LGU Code"}),a.jsx("p",{className:"text-base font-semibold text-neutral-900",children:p.Code||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"LGU Name"}),a.jsx("p",{className:"text-base font-semibold text-neutral-900",children:p.Name||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"TIN"}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.TIN||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"RDO"}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.RDO||""})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 mb-4 flex items-center gap-2",children:[a.jsx(use,{className:"h-5 w-5 text-primary-600"}),"Address Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200 md:col-span-2",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Street Address"}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.StreetAddress||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Barangay"}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.BarangayName||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Municipality"}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.MunicipalityName||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Province"}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.ProvinceName||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Region"}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.RegionName||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"ZIP Code"}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.ZIPCode||""})]})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 mb-4 flex items-center gap-2",children:[a.jsx(jR,{className:"h-5 w-5 text-primary-600"}),"Contact Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsxs("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1 flex items-center gap-2",children:[a.jsx(jR,{className:"h-3.5 w-3.5"}),"Phone Number"]}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.PhoneNumber||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:[a.jsxs("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1 flex items-center gap-2",children:[a.jsx(lse,{className:"h-3.5 w-3.5"}),"Email Address"]}),a.jsx("p",{className:"text-base font-medium text-neutral-700",children:p.EmailAddress||""})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200 md:col-span-2",children:[a.jsxs("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1 flex items-center gap-2",children:[a.jsx(ok,{className:"h-3.5 w-3.5"}),"Website"]}),a.jsx("p",{className:"text-base font-medium text-blue-600 break-all",children:p.Website||""})]})]})]})]})]})]})]})},IGe=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:s,handleFileUpload:o,handleRemoveAttachment:i})=>a.jsxs("div",{className:" sm:p-4 space-y-6",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsx(D,{label:"Applicant Type",name:"applicantType",type:"radio",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l.target.value)}),a.jsx(D,{label:"Mode of Payment",name:"modeOfPayment",type:"radio",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsx(D,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),a.jsx(D,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsx(D,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),a.jsx(D,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),a.jsx(D,{label:"Type of Business",name:"typeOfBusiness",type:"radio",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"From",name:"amendmentFrom",type:"radio",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),a.jsx(D,{label:"To",name:"amendmentTo",type:"radio",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),a.jsx(D,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsx(D,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),a.jsx(D,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),a.jsx(D,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(D,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),a.jsx(D,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsx(D,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),a.jsx(D,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),a.jsx(D,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),a.jsx(D,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),a.jsx(D,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsx(D,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),a.jsx(D,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[a.jsx(D,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),a.jsx(D,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsx(D,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),a.jsx(D,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),a.jsx(D,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),a.jsx(D,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsx(D,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),a.jsx(D,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsx(D,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),a.jsx(D,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsx(D,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),a.jsx(D,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),a.jsx(D,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx(D,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),a.jsx(D,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),a.jsx(D,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),a.jsx(D,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),a.jsx(D,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsx(D,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),a.jsx(D,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),a.jsx(D,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),a.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(D,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),a.jsx(D,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),a.jsx(D,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),a.jsx(D,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),a.jsxs("div",{className:"pb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),a.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),a.jsx("input",{type:"file",onChange:o,className:"hidden",id:"fileUpload",multiple:!0}),a.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),a.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[a.jsx("span",{className:"text-sm truncate",children:l.name}),a.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):a.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:s?"Update Application":"Create Application"})]})]}),Zl="http://192.168.1.215:5001",u0=K("businessPermit/fetchBusinessPermits",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Zl}/business-permit/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch business permits");return s}catch(r){return e.rejectWithValue(r.message)}}),UC=K("businessPermit/fetchBusinessPermitById",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Zl}/business-permit/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch business permit record");return s}catch(r){return e.rejectWithValue(r.message)}}),d0=K("businessPermit/addBusinessPermit",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=t instanceof FormData,s={Authorization:`Bearer ${r}`};n||(s["Content-Type"]="application/json");const o=n?t:JSON.stringify(t),i=await fetch(`${Zl}/business-permit/save`,{method:"POST",headers:s,body:o}),l=await i.json();if(!i.ok)throw new Error(l.message||"Failed to add business permit record");return l}catch(r){return e.rejectWithValue(r.message)}}),m0=K("businessPermit/updateBusinessPermit",async({id:t,data:e},r)=>{try{const n=sessionStorage.getItem("token"),s=e instanceof FormData,o={Authorization:`Bearer ${n}`};s||(o["Content-Type"]="application/json");const i=s?e:JSON.stringify(e),l=await fetch(`${Zl}/business-permit/${t}`,{method:"PUT",headers:o,body:i}),c=await l.json();if(!l.ok)throw new Error(c.message||"Failed to update business permit record");return c}catch(n){return r.rejectWithValue(n.message)}}),f0=K("businessPermit/deleteBusinessPermit",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Zl}/business-permit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const s=await n.json();throw new Error(s.message||"Failed to void business permit record")}return await n.json()}catch(r){return e.rejectWithValue(r.message)}}),p0=K("businessPermit/approveBusinessPermit",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${Zl}/business-permit/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({id:t})}),s=await n.json();if(!n.ok)throw new Error(s.error||"Failed to approve");return{id:t,status:"Posted"}}catch(r){return e.rejectWithValue(r.message)}}),h0=K("businessPermit/rejectBusinessPermit",async({id:t,reason:e},r)=>{try{const n=sessionStorage.getItem("token"),s=await fetch(`${Zl}/business-permit/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({id:t,reason:e})}),o=await s.json();if(!s.ok)throw new Error(o.error||"Failed to reject");return{id:t,status:"Rejected"}}catch(n){return r.rejectWithValue(n.message)}}),ZG=Ce({name:"businessPermit",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentBusinessPermit:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(u0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u0.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(u0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch business permits"}).addCase(UC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(UC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(UC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch business permit record"}).addCase(d0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d0.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(d0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add business permit record"}).addCase(m0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(m0.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>String(s.id)===String(r.payload.id));n!==-1&&(e.records[n]=r.payload),e.currentRecord&&String(e.currentRecord.id)===String(r.payload.id)&&(e.currentRecord=r.payload)}).addCase(m0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update business permit record"}).addCase(f0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(f0.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>String(s.id)===String(r.payload.id));n!==-1&&(e.records[n].status=r.payload.status||"Void"),e.currentRecord&&String(e.currentRecord.id)===String(r.payload.id)&&(e.currentRecord={...e.currentRecord,status:r.payload.status||"Void"})}).addCase(f0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete business permit record"}).addCase(p0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(p0.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>String(s.id)===String(r.payload.id));n!==-1&&(e.records[n].status=r.payload.status),e.currentRecord&&String(e.currentRecord.id)===String(r.payload.id)&&(e.currentRecord={...e.currentRecord,status:r.payload.status})}).addCase(p0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to approve"}).addCase(h0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(h0.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(s=>String(s.id)===String(r.payload.id));n!==-1&&(e.records[n].status=r.payload.status),e.currentRecord&&String(e.currentRecord.id)===String(r.payload.id)&&(e.currentRecord={...e.currentRecord,status:r.payload.status})}).addCase(h0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to reject"})}}),{clearCurrentBusinessPermit:PKe}=ZG.actions,TGe=ZG.reducer;function PGe(){const[t,e]=j.useState(!1),[r,n]=j.useState(null),[s,o]=j.useState(""),{Add:i,Edit:l,Delete:c}=Se(29),u=he(),{records:d,isLoading:m}=ee($=>$.businessPermits);j.useEffect(()=>{u(u0())},[u]);const f={applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Requested",attachments:[],businessArea:"",totalEmployees:"",employeesResidingWithLgli:"",lessorFullName:"",lessorAddress:"",lessorContactNumber:"",lessorEmail:"",monthlyRental:"",lineOfBusiness:"",numberOfUnits:"",capitalization:"",grossSales:"",emergencyContactPerson:"",emergencyContactNumber:"",emergencyContactEmail:"",ownerPostalCode:"",ownerEmailAddress:"",ownerTelephoneNo:"",ownerMobileNo:""},[p,h]=j.useState(f),y=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"status",header:"Status",sortable:!0,render:$=>a.jsx("span",{className:`px-2 py-1 rounded ${$==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":$==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":$==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":$==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":$==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":$==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:$})},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"dateOfApplication",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistrationNo",header:"DTI/SEC/CDA Registration",sortable:!0}],b=$=>{const L=[{icon:os,title:"View",onClick:E=>v(E)}],q=($.status||$.Status||"").toString().trim();return q==="Void"||(q==="Requested"&&L.push({icon:tj,title:"Approve",onClick:E=>S(E),className:"text-success-600 hover:text-success-900"},{icon:Hu,title:"Reject",onClick:E=>C(E),className:"text-error-600 hover:text-error-900"}),l&&L.push({icon:Br,title:"Edit",onClick:E=>w(E)}),c&&L.push({icon:Kt,title:"Void",onClick:E=>N(E),className:"text-error-600 hover:text-error-900"})),L},g=($,L)=>{const q=L!=null&&L.target?L.target.value:L;h(E=>({...E,[$]:q}))},x=()=>{n(null),h(f),e(!0)},v=$=>{n($),h({...f,...$,attachments:$.attachments||[]}),e(!0)},w=$=>{n($),h({...f,...$,attachments:$.attachments||[]}),e(!0)},N=async $=>{if(window.confirm("Are you sure you want to void this business permit? This action cannot be undone."))try{await u(f0($.id)).unwrap(),le.success("Business permit voided successfully")}catch(L){le.error(L.message||"Failed to void")}},S=async $=>{if(window.confirm("Are you sure you want to approve this business permit?"))try{await u(p0($.id)).unwrap(),le.success("Business permit approved and posted successfully")}catch(L){le.error(L.message||"Failed to approve")}},C=async $=>{const L=window.prompt("Please enter the reason for rejection:");if(L!==null)try{await u(h0({id:$.id,reason:L})).unwrap(),le.success("Business permit rejected successfully")}catch(q){le.error(q.message||"Failed to reject")}},A=$=>{const L=Array.from($.target.files);h(q=>({...q,attachments:[...q.attachments||[],...L]}))},T=$=>{h(L=>({...L,attachments:(L.attachments||[]).filter((q,E)=>E!==$)}))},I=()=>{if(console.log("Saving form data:",p),r)u(m0({id:r.id,data:p})).unwrap().then(()=>{le.success("Business permit updated"),e(!1)}).catch($=>{le.error(`Failed to update: ${$}`)});else{const L={...p,status:"Requested"};u(d0(L)).unwrap().then(()=>{le.success("Business permit created"),e(!1)}).catch(q=>{le.error(`Failed to create: ${q}`)})}},k=Array.isArray(d)?d.filter($=>($.businessName||"").toLowerCase().includes(s.toLowerCase())||($.ownerName||"").toLowerCase().includes(s.toLowerCase())||($.dtiSecCdaRegistrationNo||"").includes(s)):[];return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Business Permit Applications"}),a.jsx("p",{children:"Manage the applications for business permits."})]}),i&&a.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full ",children:[a.jsx(cn,{className:"h-5 w-5 mr-2"}),"New Business Permit"]})]})}),a.jsx("div",{className:"mt-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[a.jsx("div",{className:"mb-4",children:a.jsx("input",{type:"text",value:s,onChange:$=>o($.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),a.jsx(je,{columns:y,data:k,actions:b,pagination:!0})]})}),a.jsx(me,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Permit":"New Business Permit",size:"xl",children:a.jsx(IGe,{formData:p,handleInputChange:g,handleSave:I,onCancel:()=>e(!1),isEdit:!!r,handleFileUpload:A,handleRemoveAttachment:T})})]})}const kGe="http://192.168.1.215:5001",EGe=pe().shape({payee:M().required("Payee is required"),amount:ae().required("Amount is required").positive("Amount must be positive"),date:Ye().required("Date is required"),bank:M().required("Bank is required"),accountNumber:M().required("Account number is required"),accountName:M().required("Account name is required"),chequeType:M().required("Cheque type is required"),checkNumber:M().required("Check number is required"),brstn:M().required("BRSTN is required"),dv:M().required("DV is required"),signatory1:M().required("Signatory 1 is required"),signatory2:M().required("Signatory 2 is required").notOneOf([Dl("signatory1")],"Signatories must be different"),Attachments:$t()});function DGe(){var H,G,re,ie,te,Z,z;const[t,e]=j.useState([]),[r,n]=j.useState(null),[s,o]=j.useState([]),[i,l]=j.useState(!1),[c,u]=j.useState(!1),[d,m]=j.useState("input"),[f,p]=j.useState([]),h=he(),{banks:y,isLoading:b}=ee(W=>W.banks),{employees:g,isLoading:x}=ee(W=>W.employees),{Add:v,Edit:w,Delete:N,Print:S}=Se(33),C=ot({initialValues:{status:"Requested",payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",accountName:"",chequeType:"Single",particulars:"",checkNumber:"",brstn:"",dv:"",additionalInformation:"",signatory1:"",signatory2:"",Attachments:[]},validationSchema:EGe,onSubmit:async W=>{await E(W)}}),A=j.useRef(),T=qn.useReactToPrint({contentRef:A,documentTitle:"Check Print"});j.useEffect(()=>{h(Ho()),h(on()),$(),I()},[]);const I=async()=>{try{const W=await De("/disbursementVoucher/pending-cheque");p(W.data)}catch(W){console.error("Error fetching pending DVs:",W)}},k=f.filter(W=>!s.some(X=>X.DisbursementID===W.LinkID&&X.Status!=="Void")),$=async()=>{try{const W=await De("/chequeGenerator/checkList");o(W.data)}catch(W){throw console.error("Error fetching cheque list:",W),W}},L=(W,X,F)=>{const ne=Array.from(W.target.files).map(ue=>ue);console.log(ne,F),X("Attachments",[...F.Attachments,...ne])},q=(W,X,F)=>{const J=[...F.Attachments];J.splice(W,1),X("Attachments",J)},E=async W=>{try{const X=new FormData;X.append("IsNew",r?"false":"true"),X.append("ID",(r==null?void 0:r.ID)||""),X.append("AddCondition","true"),X.append("DisbursementID",W.dv),X.append("BankID",W.bank),X.append("SignatoryType",W.chequeType),X.append("AccountNumber",W.accountNumber),X.append("AccountName",W.accountName),X.append("CheckNumber",W.checkNumber),X.append("BRSTN",W.brstn),X.append("CheckDate",W.date),X.append("Payee",W.payee),X.append("Amount",W.amount),X.append("Words",Ha(W.amount)),X.append("SignatoryOneID",W.signatory1),X.append("SignatoryTwoID",W.signatory2),X.append("Remarks",W.additionalInformation),X.append("OBR",W.obr||""),t.length>0?t.forEach((ne,ue)=>{ne.ID?X.append(`Attachments[${ue}].ID`,ne.ID):X.append(`Attachments[${ue}].File`,ne)}):X.append("Attachments","[]");const F={headers:{"Content-Type":"multipart/form-data"}},J=await De.post("/chequeGenerator/save",X,F);if(J.data.error&&J.status!==200){Y.error(J.data.error);return}Y.success("Cheque saved successfully"),$(),I(),U(),m("list")}catch(X){throw console.error("Error saving cheque:",X),Y.error("Failed to save cheque"),X}},R=W=>{n(W),u(!1),m("input"),C.setValues({status:W.Status,payee:W.Payee,amount:W.Amount,date:W.CheckDate,bank:W.BankID.toString(),accountNumber:W.AccountNumber,accountName:W.AccountName,chequeType:W.SignatoryType,particulars:W.Particulars||"",checkNumber:W.CheckNumber,brstn:W.BRSTN,dv:W.DisbursementID,additionalInformation:W.Remarks,obr:W.OBR||"",signatory1:W.SignatoryOneID.toString(),signatory2:W.SignatoryTwoID.toString(),Attachments:W.Attachments||[]})},U=()=>{n(null),u(!1),C.resetForm(),e([]),m("input")},B=[{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:W=>a.jsx("span",{className:`px-2 py-1 rounded ${W==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":W==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":W==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":W==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":W==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":W==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:W})},{key:"CheckDate",header:"CheckDate",sortable:!0,render:W=>new Date(W).toLocaleDateString()},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Payee",header:"Payee",sortable:!0},{key:"Amount",header:"Amount",sortable:!0,className:"text-right font-semibold text-primary-700",render:W=>a.jsxs("span",{className:"text-right font-semibold text-primary-700",children:[" ",W?Number(W).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""]})}],P=W=>{n(W),u(!0),C.setValues({status:W.Status,payee:W.Payee,amount:W.Amount,date:W.CheckDate,bank:W.BankID.toString(),accountNumber:W.AccountNumber,accountName:W.AccountName,chequeType:W.SignatoryType,particulars:W.Particulars||"",checkNumber:W.CheckNumber,brstn:W.BRSTN,dv:W.DisbursementID,additionalInformation:W.Remarks,obr:W.OBR||"",signatory1:W.SignatoryOneID.toString(),signatory2:W.SignatoryTwoID.toString(),Attachments:W.Attachments||[]})},O=async W=>{if(window.confirm("Are you sure you want to void this cheque?")){l(!0);try{const X=await De.post("/chequeGenerator/void",{ID:W.ID});console.log("Voided:",X.data),$(),Y.success("Cheque voided successfully")}catch(X){console.error("Error voiding cheque:",X),Y.error("Error voiding cheque")}finally{l(!1)}}},V=async(W,X)=>{l(!0);const F=X==="approve"?"approved":"rejected",J=X==="approve"?"approving":"rejecting";try{const ne=await De.post(`/chequeGenerator/${X}`,{ID:W.ID});console.log(`${F}:`,ne.data),$(),Y.success(`Cheque ${F} successfully`)}catch(ne){console.error(`Error ${J} Cheque:`,ne),Y.error(`Error ${J} Cheque`)}finally{l(!1)}},_=W=>{var J;const X=[],F=((J=W.Status)==null?void 0:J.toLowerCase())||"";return F==="void"?(X.push({icon:os,title:"View",onClick:P,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),X):(F.includes("rejected")&&w?(X.push({icon:Br,title:"Edit",onClick:R,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),X.push({icon:Kt,title:"Void",onClick:()=>O(W),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):F.includes("requested")&&X.push({icon:wn,title:"Approve",onClick:()=>V(W,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>V(W,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),X.push({icon:os,title:"View",onClick:P,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),X)};return a.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Cheque Generator"}),a.jsx("p",{children:"Generate and print cheques"})]}),a.jsxs("div",{className:"flex gap-2 max-sm:w-full",children:[a.jsxs("div",{className:"flex gap-2 border-r pr-4 max-sm:border-r-0 max-sm:pr-0 max-sm:w-full",children:[a.jsxs("button",{type:"button",onClick:()=>m("input"),className:`btn ${d==="input"?"btn-primary":"btn-outline"} max-sm:flex-1`,children:[a.jsx(ir,{className:"h-5 w-5 mr-2"}),"Cheque Input"]}),a.jsxs("button",{type:"button",onClick:()=>m("list"),className:`btn ${d==="list"?"btn-primary":"btn-outline"} max-sm:flex-1`,children:[a.jsx(ose,{className:"h-5 w-5 mr-2"}),"Cheque List"]})]}),d==="input"&&a.jsxs(a.Fragment,{children:[!r&&!c&&v&&a.jsxs("button",{type:"submit",onClick:C.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:C.isSubmitting,children:[a.jsx(AV,{className:"h-5 w-5 mr-2"}),"Save"]}),r&&!((H=r==null?void 0:r.Status)!=null&&H.toLowerCase().includes("requested"))&&!c&&w&&a.jsxs("button",{type:"submit",onClick:C.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:C.isSubmitting,children:[a.jsx(IV,{className:"h-5 w-5 mr-2"}),"Edit"]}),r&&!((G=r==null?void 0:r.Status)!=null&&G.toLowerCase().includes("requested"))&&S&&a.jsxs("button",{type:"button",onClick:T,className:"btn btn-primary max-sm:w-full",disabled:C.isSubmitting,children:[a.jsx(uu,{className:"h-5 w-5 mr-2"}),"Print"]}),r&&!((re=r==null?void 0:r.Status)!=null&&re.toLowerCase().includes("requested"))&&a.jsx("button",{type:"button",onClick:()=>{console.log("Attachment")},className:"btn btn-primary max-sm:w-full",disabled:C.isSubmitting,children:"Attachment"}),r&&a.jsx("button",{type:"button",onClick:U,className:"btn btn-outline mr-2",children:c?"Close View":"Cancel Edit"})]}),d==="list"&&v&&a.jsxs("button",{type:"button",onClick:U,className:"btn btn-primary max-sm:w-full",children:[a.jsx(cn,{className:"h-5 w-5 mr-2"}),"New Cheque"]})]})]})}),d==="input"&&a.jsxs("form",{onSubmit:C.handleSubmit,children:[a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(rt,{options:y.map(W=>({value:W.ID.toString(),label:W.Name})),label:"Bank",placeholder:"Select Bank",name:"bank",selectedValue:C.values.bank,onSelect:W=>C.setFieldValue("bank",W),error:C.touched.bank&&C.errors.bank,touched:C.touched.bank,required:!0,isDisabled:c})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:C.values.chequeType==="Single",onChange:C.handleChange,className:"mr-2",disabled:c}),"Single"]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:C.values.chequeType==="Double",onChange:C.handleChange,className:"mr-2",disabled:c}),"Double"]})]}),C.touched.chequeType&&C.errors.chequeType&&a.jsx("div",{className:"text-red-500 text-sm",children:C.errors.chequeType})]}),a.jsx("div",{children:a.jsx(rt,{options:k.map(W=>{var X,F,J,ne;return{value:W.LinkID,label:`${W.InvoiceNumber} - ${W.Payee||((X=W.Vendor)==null?void 0:X.Name)||((F=W.Employee)==null?void 0:F.FirstName)+" "+((J=W.Employee)==null?void 0:J.LastName)||((ne=W.Customer)==null?void 0:ne.Name)}`,raw:W}}),label:"DV",placeholder:"Select Disbursement Voucher",name:"dv",selectedValue:C.values.dv,onSelect:W=>{var F,J;C.setFieldValue("dv",W);const X=f.find(ne=>ne.LinkID===W);if(X){const ne=X.Payee||((F=X.Vendor)==null?void 0:F.Name)||(X.Employee?`${X.Employee.FirstName} ${X.Employee.LastName}`:((J=X.Customer)==null?void 0:J.Name)||"");C.setFieldValue("payee",ne),C.setFieldValue("amount",X.Total||"");const ue=X.BankID||X.bankID;ue&&C.setFieldValue("bank",ue.toString());const ge=X.CheckNumber||X.checkNumber;ge&&C.setFieldValue("checkNumber",ge),X.Remarks&&C.setFieldValue("particulars",X.Remarks),X.ObligationRequestNumber&&C.setFieldValue("obr",X.ObligationRequestNumber)}},error:C.touched.dv&&C.errors.dv,touched:C.touched.dv,required:!0,isDisabled:c})})]}),a.jsxs("div",{className:"my-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),a.jsx("input",{type:"file",multiple:!0,onChange:W=>L(W,C.setFieldValue,C.values),className:`block w-full text-sm text-gray-500\r
                    file:mr-4 file:py-2 file:px-4\r
                    file:rounded-md file:border-0\r
                    file:text-sm file:font-medium\r
                    file:bg-blue-50 file:text-blue-700\r
                    hover:file:bg-blue-100`,disabled:c},C.values.Attachments.length)]}),((te=(ie=C==null?void 0:C.values)==null?void 0:ie.Attachments)==null?void 0:te.length)>0?a.jsx("div",{className:"space-y-2 py-2 mt-2",children:C.values.Attachments.map((W,X)=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"h-4 w-4 text-gray-500 mr-2"}),a.jsx("span",{className:"text-sm",children:W.ID?a.jsx("a",{href:`${kGe}/uploads/${W.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:W.name||W.DataName}):W.name||W.DataName})]}),!c&&a.jsx("button",{type:"button",onClick:()=>q(X,C.setFieldValue,C.values),className:"text-red-500 hover:text-red-700",children:a.jsx(er,{className:"h-4 w-4"})})]},X))}):a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),a.jsxs("span",{className:"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700 px-2 py-1 rounded text-sm font-medium",children:["Status: ",C.values.status]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx(D,{type:"text",label:"Account Number",name:"accountNumber",value:C.values.accountNumber,onChange:C.handleChange,error:C.touched.accountNumber&&C.errors.accountNumber,touched:C.touched.accountNumber,disabled:c})}),a.jsx("div",{children:a.jsx(D,{type:"text",label:"Account Name",name:"accountName",value:C.values.accountName,onChange:C.handleChange,error:C.touched.accountName&&C.errors.accountName,touched:C.touched.accountName,disabled:c})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx("div",{children:a.jsx(D,{type:"text",label:"Check Number",name:"checkNumber",value:C.values.checkNumber,onChange:C.handleChange,error:C.touched.checkNumber&&C.errors.checkNumber,touched:C.touched.checkNumber,disabled:c})}),a.jsx("div",{children:a.jsx(D,{type:"text",label:"BRSTN",name:"brstn",value:C.values.brstn,onChange:C.handleChange,error:C.touched.brstn&&C.errors.brstn,touched:C.touched.brstn,disabled:c})})]}),a.jsx("div",{children:a.jsx(D,{type:"date",label:"Date",name:"date",value:C.values.date,onChange:C.handleChange,error:C.touched.date&&C.errors.date,touched:C.touched.date,disabled:c})}),a.jsx("div",{children:a.jsx(D,{type:"text",label:"Pay to the order of:",name:"payee",value:C.values.payee,onChange:C.handleChange,error:C.touched.payee&&C.errors.payee,touched:C.touched.payee,disabled:c})}),a.jsx("div",{children:a.jsx(D,{type:"text",label:"Amount",name:"amount",value:C.values.amount!==""&&!isNaN(C.values.amount)?Number(C.values.amount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:W=>{const X=W.target.value.replace(/\D/g,""),F=X?(parseInt(X,10)/100).toFixed(2):"";C.setFieldValue("amount",F)},step:"0.01",error:C.touched.amount&&C.errors.amount,touched:C.touched.amount,disabled:c})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),a.jsx(D,{type:"text",value:Ha(C.values.amount),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(rt,{options:g==null?void 0:g.map(W=>({value:W.ID.toString(),label:`${W.FirstName} ${W.LastName}`})),label:"Signatory 1",placeholder:"Select signatory",name:"signatory1",selectedValue:C.values.signatory1,onSelect:W=>{if(W===C.values.signatory2){Y.error("Signatory 1 cannot be the same as Signatory 2");return}C.setFieldValue("signatory1",W)},error:C.touched.signatory1&&C.errors.signatory1,touched:C.touched.signatory1,required:!0,isDisabled:c})}),a.jsx("div",{children:a.jsx(rt,{options:g==null?void 0:g.map(W=>({value:W.ID.toString(),label:`${W.FirstName} ${W.LastName}`})),label:"Signatory 2",placeholder:"Select signatory",name:"signatory2",selectedValue:C.values.signatory2,onSelect:W=>{if(W===C.values.signatory1){Y.error("Signatory 2 cannot be the same as Signatory 1");return}C.setFieldValue("signatory2",W)},error:C.touched.signatory2&&C.errors.signatory2,touched:C.touched.signatory2,required:!0,isDisabled:c})}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),a.jsx("textarea",{value:C.values.additionalInformation,name:"additionalInformation",onChange:C.handleChange,placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",disabled:c})]})]})]})]}),a.jsxs("div",{className:"mt-6 bg-white p-3 sm:p-6 rounded-lg shadow border",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),a.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),a.jsx("p",{className:"font-medium",children:((Z=y.find(W=>W.ID.toString()===C.values.bank))==null?void 0:Z.Name)||"Select a bank"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:C.values.date?new Date(C.values.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),a.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:C.values.payee||"Enter payee name"})]}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),a.jsx("p",{className:"font-medium",children:C.values.amount?Ha(C.values.amount):"Enter amount"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),a.jsx("p",{className:"font-medium text-lg",children:C.values.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C.values.amount):"0.00"})]})]}),a.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]}),d==="list"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[a.jsx("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:a.jsx("h2",{className:"text-lg font-semibold",children:"Check List"})}),a.jsx(je,{columns:B,data:s,actions:_,onRowClick:W=>n(W),selectedRow:r,loading:b||x||i,pagination:!0})]}),r&&a.jsxs("div",{className:"mt-6 bg-white p-3 sm:p-6 rounded-lg shadow border",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium",children:"Cheque Preview"}),a.jsx("span",{className:`px-3 py-1 rounded text-sm font-medium ${r.Status==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":r.Status==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":r.Status==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":r.Status==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":r.Status==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":"bg-gray-100 text-gray-800"}`,children:r.Status})]}),a.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),a.jsx("p",{className:"font-medium",children:((z=y.find(W=>W.ID===r.BankID))==null?void 0:z.Name)||"N/A"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),a.jsx("p",{className:"font-medium",children:r.CheckDate?new Date(r.CheckDate).toLocaleDateString():"N/A"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Check Number"}),a.jsx("p",{className:"font-medium",children:r.CheckNumber||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"BRSTN"}),a.jsx("p",{className:"font-medium",children:r.BRSTN||"N/A"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Account Number"}),a.jsx("p",{className:"font-medium",children:r.AccountNumber||"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Account Name"}),a.jsx("p",{className:"font-medium",children:r.AccountName||"N/A"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),a.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:r.Payee||"N/A"})]}),a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),a.jsx("p",{className:"font-medium",children:r.Words||Ha(r.Amount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),a.jsx("p",{className:"font-medium text-lg",children:r.Amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(r.Amount):"0.00"})]})]}),r.Remarks&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Remarks"}),a.jsx("p",{className:"font-medium",children:r.Remarks})]}),a.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Signatory 1"}),a.jsx("p",{className:"font-medium",children:g.find(W=>W.ID===r.SignatoryOneID)?`${g.find(W=>W.ID===r.SignatoryOneID).FirstName} ${g.find(W=>W.ID===r.SignatoryOneID).LastName}`:"N/A"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Signatory 2"}),a.jsx("p",{className:"font-medium",children:g.find(W=>W.ID===r.SignatoryTwoID)?`${g.find(W=>W.ID===r.SignatoryTwoID).FirstName} ${g.find(W=>W.ID===r.SignatoryTwoID).LastName}`:"N/A"})]})]})})]})})]})]}),a.jsx("div",{style:{display:"none"},children:a.jsx(OGe,{ref:A,cheque:{...C.values,words:Ha(C.values.amount)},banks:y,employees:g})})]})}const OGe=j.forwardRef(({cheque:t,banks:e,employees:r},n)=>{const s=r.find(c=>c.ID.toString()===t.signatory1),o=s?`${s.FirstName} ${s.LastName}`:(t==null?void 0:t.signatory1)||"Treasury Head",i=r.find(c=>c.ID.toString()===t.signatory2),l=i?`${i.FirstName} ${i.LastName}`:(t==null?void 0:t.signatory2)||"Mayor";return a.jsxs("div",{ref:n,className:"bg-white p-12  text-black text-lg",style:{width:600,margin:"0 auto"},children:[a.jsx("div",{className:"flex justify-end",children:a.jsxs("div",{className:"text-right font-mono",children:[a.jsx("div",{style:{letterSpacing:5,fontWeight:600},children:t.date&&new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g," ")||""}),a.jsx("div",{className:"text-right font-semibold mt-2",children:Number(t.amount||0).toLocaleString(void 0,{minimumFractionDigits:2})})]})}),a.jsx("div",{className:"mt-10 mb-2 font-bold tracking-wide",children:t.payee||"Payee Name"}),a.jsx("div",{className:"font-bold tracking-wide mb-10",children:t.amount&&(t.words||t.amount_in_words)||"AMOUNT IN WORDS"}),a.jsxs("div",{className:"flex justify-between mt-20",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:o}),a.jsx("div",{className:"text-xs",children:"Treasury Head"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:l}),a.jsx("div",{className:"text-xs",children:"Mayor"})]})]}),a.jsx("div",{className:"mt-10 text-xs text-gray-400",children:"98765"})]})});function $Ge({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:s,onExportExcel:o}){const i=j.useRef(null),l=pe({ChartofAccountsID:M().required("Chart of Accounts is required"),CutOffDate:M().required("Cut Off Date is required"),FundID:M().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:m})=>{const f=i.current;f==="view"?n(d):f==="generate"?s(d):f==="export"&&o(d),m(!1),i.current=null};return a.jsx(He,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:m,touched:f,handleChange:p,handleBlur:h,isSubmitting:y,setFieldValue:b})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4 gap-1",children:[a.jsx(rt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:g=>b("ChartofAccountsID",g),options:e,error:m.ChartofAccountsID,touched:f.ChartofAccountsID,className:"w-full mb-3"}),a.jsx(D,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:p,onBlur:h,error:m.CutOffDate,touched:f.CutOffDate,required:!0}),a.jsx(D,{type:"select",label:"Fund",name:"FundID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.FundID,onChange:p,onBlur:h,error:m.FundID,touched:f.FundID,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),a.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),a.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const RGe="http://192.168.1.215:5001";function LGe(){Ll();const t=he(),{generalLedgers:e,isLoading:r,error:n}=ee(d=>d.generalLedger),{funds:s}=ee(d=>d.funds),{accounts:o}=ee(d=>d.chartOfAccounts),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);j.useEffect(()=>{t(t8e()),t(rr()),t(Mr())},[t]);const l=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:d=>i(d),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],c=async d=>{try{const m=await fetch(`${RGe}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(d)});if(!m.ok)throw new Error("Server response was not ok");const f=await m.blob(),p=m.headers.get("Content-Disposition");let h="General_Ledger.xlsx";p&&p.includes("filename=")&&(h=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(f),b=document.createElement("a");b.href=y,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(y)}catch(m){console.error("Export failed:",m),Y.error(m.message||"Failed to export general ledger")}},u=d=>{t(fl(d))};return a.jsxs("div",{children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"General Ledger"}),a.jsx("p",{children:"Generate general ledger reports."})]}),a.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:a.jsx($Ge,{funds:s,accountOptions:o.map(d=>({value:d.ID,label:`${d.AccountCode} - ${d.Name}`})),onExportExcel:c,onView:u,onClose:()=>{}})}),n&&a.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:a.jsx("p",{className:"text-error-700",children:n})}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:l,data:e,loading:r,pagination:!0})})]})}function FGe({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:s,onExportExcel:o}){const i=j.useRef(null),l=pe({ChartofAccountsID:M().required("Chart of Accounts is required"),CutOffDate:M().required("Cut Off Date is required"),FundID:M().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:m})=>{const f=i.current;f==="view"?n(d):f==="generate"?s(d):f==="export"&&o(d),m(!1),i.current=null};return a.jsx(He,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:m,touched:f,handleChange:p,handleBlur:h,isSubmitting:y,setFieldValue:b})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 sm:gap-4",children:[a.jsx(rt,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:g=>b("ChartofAccountsID",g),options:e,error:m.ChartofAccountsID,touched:f.ChartofAccountsID}),a.jsx(D,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:p,onBlur:h,error:m.CutOffDate,touched:f.CutOffDate,required:!0}),a.jsx(D,{type:"select",label:"Fund",name:"FundID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.FundID,onChange:p,onBlur:h,error:m.FundID,touched:f.FundID,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),a.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),a.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const MGe="http://192.168.1.215:5001",_Ge={subsidiaryLedgers:[],isLoading:!1,error:null},g0=K("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${MGe}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.error||s.message||"Failed to fetch");return s}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),zC=K("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),QG=Ce({name:"subsidiaryLedger",initialState:_Ge,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(g0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(g0.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(g0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(zC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zC.fulfilled,e=>{e.isLoading=!1}).addCase(zC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:BGe}=QG.actions,qGe=QG.reducer;function VGe(){const t="http://192.168.1.215:5001",e=he(),{subsidiaryLedgers:r,isLoading:n,error:s}=ee(m=>m.subsidiaryLedger),{funds:o}=ee(m=>m.funds),{accounts:i}=ee(m=>m.chartOfAccounts),l=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m);j.useEffect(()=>{e(BGe()),e(rr()),e(Mr())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:m=>l(m),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:m=>l(m),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:m=>l(m),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async m=>{try{const f=sessionStorage.getItem("token"),p=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify(m)});if(!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),y=p.headers.get("Content-Disposition");let b="Subsidiary_Ledger.xlsx";y&&y.includes("filename=")&&(b=y.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(h),x=document.createElement("a");x.href=g,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(g)}catch(f){console.error("Export failed:",f),Y.error(f.message||"Failed to export subsidiary ledger")}},d=m=>{e(g0(m))};return a.jsxs("div",{children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Subsidiary Ledger"}),a.jsx("p",{children:"Generate subsidiary ledger reports."})]}),a.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:a.jsx(FGe,{funds:o,accountOptions:i.map(m=>({value:m.ID,label:`${m.AccountCode} - ${m.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),s&&a.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:a.jsx("p",{className:"text-error-700",children:s})}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:c,data:r,loading:n,pagination:!0})})]})}function UGe({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=j.useRef(null),s=pe({year:M().required("Year is required")}),o={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return a.jsx(He,{initialValues:o,validationSchema:s,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:m,isSubmitting:f,setFieldValue:p})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:a.jsx(D,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:m,error:c.year,touched:u.year,required:!0})}),a.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 max-sm:flex-col  gap-4",children:[a.jsx("button",{type:"submit",className:"btn btn-primary ",disabled:f,onClick:()=>n.current="view",children:"View"}),a.jsx("button",{type:"button",className:"btn btn-secondary text-center",disabled:f,children:"Generate FSP"}),a.jsx("button",{type:"submit",className:"btn btn-outline",disabled:f,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const zGe="http://192.168.1.215:5001",WGe={financialStatements:[],isLoading:!1,error:null},y0=K("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${zGe}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.error||s.message||"Failed to fetch");return s}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),WC=K("financialStatement/exportFinancialStatements",async t=>!0),eH=Ce({name:"financialStatement",initialState:WGe,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(y0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(y0.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(y0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(WC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WC.fulfilled,e=>{e.isLoading=!1}).addCase(WC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:GGe}=eH.actions,HGe=eH.reducer;function YGe(){const t="http://192.168.1.215:5001",e=he(),{financialStatements:r,isLoading:n,error:s}=ee(u=>u.financialStatementsReports);j.useEffect(()=>{e(GGe())},[e]);const o=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>o(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>o(u),className:"text-right"}],l=async u=>{try{const d=sessionStorage.getItem("token"),m=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({year:u.year})});if(!m.ok)throw new Error("Server response was not ok");const f=await m.blob(),p=m.headers.get("Content-Disposition");let h="Consolidated_Statement_of_Financial_Position.xlsx";p&&p.includes("filename=")&&(h=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(f),b=document.createElement("a");b.href=y,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(y)}catch(d){console.error("Export failed:",d),Y.error(d.message||"Failed to export")}},c=u=>{e(y0(u))};return a.jsxs("div",{children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Consolidated Comparison"}),a.jsx("p",{children:"Generate consolidated comparison reports."})]}),a.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:a.jsx(UGe,{onExportExcel:l,onView:c,onClose:()=>{}})}),s&&a.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:a.jsx("p",{className:"text-error-700",children:s})}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:i,data:r,loading:n,pagination:!0})})]})}const D4="http://192.168.1.215:5001";function KGe(){const[t,e]=j.useState(""),[r,n]=j.useState(""),[s,o]=j.useState(""),[i,l]=j.useState(""),[c,u]=j.useState(""),[d,m]=j.useState([]),[f,p]=j.useState(!1),h=he(),{funds:y}=ee(A=>A.funds),{departments:b}=ee(A=>A.departments),{fiscalYears:g}=ee(A=>A.fiscalYears);j.useEffect(()=>{h(rr()),h(fr()),h(ln())},[h]);const x=[{key:"Name",header:"Name",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Appropriated",header:"Appropriation",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Adjustments",header:"Adjustments",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Allotments",header:"Allotments",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Obligations",header:"Obligations",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Appropriation Balance",header:"Appropriation Balance",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Allotment Balance",header:"Allotment Balance",sortable:!0,render:A=>v(A),className:"text-right"}],v=A=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(A),w=()=>({startDate:t,endDate:r,fiscalYearID:s,fundsID:i,departmentID:c}),N=async()=>{if(!S()){Y.error("Please select all filters");return}try{p(!0);const A=await nt.post(`${D4}/budgetReport/view`,w(),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}});m(A.data||[])}catch{Y.error("Failed to fetch data")}finally{p(!1)}},S=()=>t&&r&&s&&i&&c,C=async()=>{if(!S()){Y.error("Please select all filters");return}try{const A=await nt.post(`${D4}/budgetReport/exportExcel`,w(),{responseType:"blob",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`}}),T=new Blob([A.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),I=window.URL.createObjectURL(T),k=document.createElement("a");k.href=I,k.download="Budget_Report.xlsx",document.body.appendChild(k),k.click(),document.body.removeChild(k)}catch{Y.error("Export failed")}};return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Budget Report"}),a.jsx("p",{children:"View a created report within a date range and selected fiscal year, fund, and department."})]}),a.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:a.jsxs("button",{onClick:C,className:"btn btn-outline  max-sm:w-full ",children:[a.jsx(jV,{className:"h-5 w-5 mr-2"})," Export"]})})]})}),a.jsxs("div",{className:"mt-4 card p-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[a.jsx("div",{className:"w-full sm:w-44",children:a.jsx(D,{label:"Start Date",name:"startDate",type:"date",value:t,required:!0,onChange:A=>e(A.target.value)})}),a.jsx("div",{className:"w-full sm:w-44",children:a.jsx(D,{label:"End Date",name:"endDate",type:"date",value:r,required:!0,onChange:A=>n(A.target.value)})}),a.jsx("div",{className:"w-full sm:w-44",children:a.jsx(D,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:s,required:!0,onChange:A=>o(A.target.value),defaultOption:"  - - Select - -   ",options:g.map(A=>({label:A.Name,value:A.ID}))})}),a.jsx("div",{className:"w-full sm:w-44",children:a.jsx(D,{label:"Fund",name:"fundsID",type:"select",value:i,required:!0,onChange:A=>l(A.target.value),defaultOption:"  - - Select - -   ",options:[{label:"All Funds",value:"%"},...y.map(A=>({label:A.Name,value:A.ID}))]})}),a.jsx("div",{className:"w-full sm:w-44",children:a.jsx(D,{label:"Department",name:"departmentID",type:"select",value:c,required:!0,onChange:A=>u(A.target.value),defaultOption:"  - - Select - -   ",options:[{label:"All Departments",value:"%"},...b.map(A=>({label:A.Name,value:A.ID}))]})})]}),a.jsx("div",{className:"pt-4 border-t border-neutral-200 flex justify-end",children:a.jsx("button",{type:"button",className:"btn btn-primary",onClick:N,children:"View"})})]}),a.jsx("div",{className:"mt-8",children:a.jsx(je,{columns:x,data:d,pagination:!0,loading:f})})]})}function JGe(){const[t,e]=j.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),{Print:r}=Se(16),n=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],s=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],o=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d),i=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],l=[{key:"date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:d=>o(d),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:d=>`${(d*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:d=>o(d),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:d=>o(d),className:"text-right"}],u=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(s.find(m=>m.value===t.vendor)||s[0]).label,address:"Employee Address, City",zipCode:"1000"};{const d=n.find(m=>m.value===t.vendor)||n[0];return{tin:"123-456-789-000",name:d.label,address:`${d.label} Street, Business District`,zipCode:"2000"}}})();return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[a.jsxs("div",{className:"min-w-[200px]",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),a.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),a.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[a.jsx(jV,{className:"h-5 w-5 mr-2"}),"Export"]}),r&&a.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[a.jsx(Fl,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),a.jsxs("div",{className:"mt-4 card p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(D,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:d=>e({...t,startDate:d.target.value})}),a.jsx(D,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:d=>e({...t,endDate:d.target.value})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),a.jsx("span",{className:"ml-2",children:"Employee"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),a.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),a.jsx(D,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:d=>e({...t,vendor:d.target.value}),options:t.payeeType==="employee"?s:n})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"text-center space-y-2 mb-6",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),a.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),a.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"card p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),a.jsxs("div",{className:"card p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",u.tin]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",u.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",u.address]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",u.zipCode]})]})]})]}),a.jsx(je,{columns:l,data:i,pagination:!0}),a.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),a.jsx("p",{className:"text-lg font-semibold",children:o(i.reduce((d,m)=>d+m.grossAmount,0))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),a.jsx("p",{className:"text-lg font-semibold",children:o(i.reduce((d,m)=>d+m.taxWithheld,0))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),a.jsx("p",{className:"text-lg font-semibold",children:o(i.reduce((d,m)=>d+m.netAmount,0))})]})]})}),a.jsxs("div",{className:"mt-6 card p-4",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),a.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),a.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),a.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),a.jsx("p",{className:"font-medium",children:"Maria Santos"}),a.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const O4="http://192.168.1.215:5001",GC={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function XGe(){const t=he(),{userroles:e,isLoading:r,error:n}=ee(y=>y.userroles),{Add:s}=Se(83),o=ee(y=>y.modules.modules),[i,l]=j.useState(null),[c,u]=j.useState({});j.useEffect(()=>{t(Os()),t(ul())},[t]),j.useEffect(()=>{e.length>0&&!i&&l(e[0])},[e]);const d=async()=>{try{const y=await fetch(`${O4}/moduleAccess/${i.ID}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("token")}`}}),b=await y.json();if(!y.ok)throw new Error(b.message||"Failed to fetch role");const g={};b.forEach(v=>{g[v.ModuleID]={id:v.ID,view:!!v.View,add:!!v.Add,edit:!!v.Edit,delete:!!v.Delete,print:!!v.Print,mayor:!!v.Mayor}});const x={};o.forEach(v=>{x[v.ID]=g[v.ID]||{...GC}}),u(x)}catch(y){console.error("Error loading module access:",y.message)}};j.useEffect(()=>{!(i!=null&&i.ID)||o.length===0||d()},[i,o]);const m=(y,b)=>{u(g=>({...g,[y]:{...g[y],[b]:!g[y][b]}}))},f=y=>{const b={};o.forEach(g=>{b[g.ID]={...c[g.ID]||GC,view:y,add:y,edit:y,delete:y,print:y,mayor:y}}),u(b)},p=(y,b)=>{const g={...c};o.forEach(x=>{g[x.ID]={...g[x.ID]||GC,[y]:b}}),u(g)},h=async()=>{if(!(i!=null&&i.ID))return;const y=Object.entries(c).map(([b,g])=>({id:g.id||null,ModuleID:parseInt(b),View:g.view?1:0,Add:g.add?1:0,Edit:g.edit?1:0,Delete:g.delete?1:0,Print:g.print?1:0,Mayor:g.mayor?1:0}));try{const b=await fetch(`${O4}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:i.ID,modules:y})});if(!b.ok){const g=await b.json();throw new Error(g.message||"Failed to save permissions")}Y.success("Permissions saved successfully!")}catch(b){console.error("Save failed:",b.message),Y.error("Error saving permissions.")}};return a.jsxs("div",{className:"sm:p-4 space-y-4",children:[a.jsxs("header",{className:"page-header space-y-4",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Role Access"}),a.jsx("p",{className:"text-gray-600",children:"Manage a user role's accesses on all modules."})]})}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 py-4 px-5 bg-gray-50/50 rounded-xl border border-gray-100 shadow-sm",children:[a.jsxs("div",{className:"relative flex-1 max-w-2xl",children:[a.jsx("input",{type:"text",placeholder:"Search roles...",className:"w-full border-gray-200 border px-4 py-2 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none transition-all pl-10 bg-white"}),a.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),s&&a.jsxs("button",{className:"px-6 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-semibold shadow-sm hover:shadow transition-all duration-200 active:scale-95 flex items-center justify-center gap-2 whitespace-nowrap text-sm",onClick:h,children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[a.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[a.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?a.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?a.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?a.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):a.jsx("ul",{children:e.map(y=>a.jsx("li",{onClick:()=>l(y),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(i==null?void 0:i.ID)===y.ID?"bg-blue-200 font-semibold":""}`,children:y.Description},y.ID))})]}),a.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[a.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(i==null?void 0:i.Description)||""]}),a.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(y=>a.jsx("th",{className:"px-2 capitalize text-center",children:a.jsx("div",{className:"flex flex-col items-center",children:a.jsx("span",{children:y})})},y))]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(y=>a.jsx("td",{className:"text-center",children:a.jsx("input",{type:"checkbox",checked:o.every(b=>{var g;return(g=c[b.ID])==null?void 0:g[y]}),onChange:b=>p(y,b.target.checked),className:"accent-blue-600"})},`select-all-${y}`))]}),o.map(y=>a.jsxs("tr",{className:"border-t",children:[a.jsx("td",{className:"px-4 py-1",children:y.Description}),["view","add","edit","delete","print","mayor"].map(b=>{var g;return a.jsx("td",{className:"text-center",children:a.jsx("input",{type:"checkbox",checked:((g=c[y.ID])==null?void 0:g[b])||!1,onChange:()=>m(y.ID,b),className:"accent-blue-600"})},b)})]},y.ID))]})]}),a.jsxs("div",{className:"p-2 border-t space-x-2",children:[a.jsx("button",{onClick:()=>f(!0),className:"btn btn-outline",children:"Select All"}),a.jsx("button",{onClick:()=>f(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const ZGe=()=>{const t=Ll(),[e,r]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""});he();const[n,s]=j.useState({current:!1,new:!1,confirm:!1}),o=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{s(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){Y.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){Y.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),Y.success("Password updated successfully!"),t("/dashboard")}catch(d){Y.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,m)=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:n[m]?"text":"password",name:d,value:e[d],onChange:o,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),a.jsx("button",{type:"button",onClick:()=>i(m),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[m]?a.jsx(Gae,{size:18}):a.jsx(os,{size:18})})]})]});return a.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[a.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[a.jsx(Bae,{className:"h-5 w-5 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),a.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),a.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),a.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})},$4=["#0088FE","#FF8042"];function QGe({data:t}){return!t||t.length===0?a.jsx("div",{className:"text-center text-gray-500",children:"No data"}):a.jsxs("div",{className:"card p-4 h-full",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),a.jsxs("div",{className:"w-full h-72",children:[" ",a.jsx(xu,{width:"100%",height:"100%",children:a.jsxs(Xp,{margin:{top:20,right:20,bottom:20,left:20},children:[a.jsx(Wn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>a.jsx(gi,{fill:$4[r%$4.length]},`cell-${r}`))}),a.jsx(ka,{})]})})]})]})}const R4=["#0088FE","#FF8042","#00C49F"];function eHe({data:t}){return!t||t.length===0?a.jsx("div",{className:"text-center text-gray-500",children:"No data"}):a.jsxs("div",{className:"card p-4 h-full",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),a.jsxs("div",{className:"w-full h-64",children:[" ",a.jsx(xu,{width:"100%",height:"100%",children:a.jsxs(Xp,{children:[a.jsx(Wn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>a.jsx(gi,{fill:R4[r%R4.length]},`cell-${r}`))}),a.jsx(ka,{})]})})]})]})}function tHe(){const t=he(),[e,r]=j.useState(""),[n,s]=j.useState([]),[o,i]=j.useState(""),[l,c]=j.useState({chart1:[],chart2:[],table:[]}),[u,d]=j.useState(!1),{departments:m,isLoading:f}=ee(y=>y.departments);j.useEffect(()=>{t(fr())},[]),j.useEffect(()=>{e?(d(!0),uU(e==="All"?"":e).then(y=>{const b=(y==null?void 0:y.data)||[];s(b.map(g=>({value:g.ID,label:g.Name,...g})))}).finally(()=>d(!1))):s([]),i(""),c({chart1:[],chart2:[],table:[]})},[e]);const p=y=>{const b=n.find(I=>I.value===Number(y));if(!b)return;const g=parseFloat(b.Appropriation||0),x=parseFloat(b.Supplemental||0),v=parseFloat(b.Transfer||0),w=parseFloat(b.Charges||0),N=parseFloat(b.PreEncumbrance||0),S=parseFloat(b.Encumbrance||0),A=[{name:"Budget Amount",value:g+x+v-w},{name:"Charges",value:w}],T=[{name:"PreEncumbrance",value:N},{name:"Encumbrance",value:S},{name:"Charges",value:w}];c(I=>({...I,chart1:A,chart2:T})),d(!0),Xpe(y).then(I=>{const k=(I==null?void 0:I.data)||[];c($=>({...$,table:k}))}).finally(()=>d(!1))},h=[{key:"APAR",header:"APAR",sortable:!1},{key:"Total",header:"Total",sortable:!1}];return a.jsxs("div",{children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Budget Dashboard"}),a.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsx(D,{label:"Department",name:"Department",type:"select",value:e,onChange:y=>{const b=y.target.value==="All Departments"?"All":y.target.value;r(b),i(""),c({chart1:[],chart2:[],table:[]})},options:[...m==null?void 0:m.map(y=>({value:y.ID,label:y.Name})),{value:"All Departments",label:"All Departments"}],required:!0}),a.jsx(D,{label:"Sub-Department",name:"SubDepartment",type:"select",value:o,onChange:y=>{console.log("e.target.value",y.target.value),i(y.target.value),p(y.target.value)},options:n,className:"disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[a.jsx(QGe,{data:l==null?void 0:l.chart1,loading:u}),a.jsx(eHe,{data:l==null?void 0:l.chart2,loading:u})]}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:h,data:(l==null?void 0:l.table)||[],loading:u||f,emptyMessage:"No budget data found for selected sub-department."})})]})}const L4=["#0088FE","#00C49F","#FF8042"],F4=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}];function rHe(){const[t,e]=j.useState("year"),[r,n]=j.useState(""),[s,o]=j.useState("year"),[i,l]=j.useState(""),[c,u]=j.useState(""),[d,m]=j.useState(""),[f,p]=j.useState({disbursement:[],obligation:[],travel:[]}),h=he(),{departments:y}=ee(b=>b.departments);return j.useEffect(()=>{h(fr())},[]),j.useEffect(()=>{(async()=>{var g,x;try{const[v,w]=await Promise.all([EL(t,"Obligation Request",r==="All"?"":r),EL(t,"Disbursement Voucher",r==="All"?"":r)]);m(`PHP ${parseFloat(((g=v==null?void 0:v.data)==null?void 0:g.total)||0).toLocaleString()}`),u(`PHP ${parseFloat(((x=w==null?void 0:w.data)==null?void 0:x.total)||0).toLocaleString()}`)}catch(v){console.error("Error loading disbursement amounts:",v),Y.error("Failed to load disbursement amounts")}})()},[t,r]),j.useEffect(()=>{(async()=>{try{const g=i==="All"?"":i,[x,v,w]=await Promise.all([Zpe(s,g),Qpe(s,g),dU(s,g)]);p({obligation:(x==null?void 0:x.data)||[],travel:(v==null?void 0:v.data)||[],disbursement:(w==null?void 0:w.data)||[]})}catch(g){console.error("Error loading chart data:",g),Y.error("Failed to load chart data")}})()},[s,i]),a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsx("h1",{children:"Disbursement Dashboard"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsx(D,{label:"Timeframe",type:"select",value:t,onChange:b=>e(b.target.value),options:F4}),a.jsx(D,{label:"Department",name:"Department",type:"select",value:r,onChange:b=>{const g=b.target.value==="All Departments"?"All":b.target.value;n(g)},options:[...y==null?void 0:y.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[a.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),a.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",d]})]}),a.jsx("hr",{className:"my-8 border-t"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Timeframe",type:"select",value:s,onChange:b=>o(b.target.value),options:F4}),a.jsx(D,{label:"Department",name:"Department",type:"select",value:r,onChange:b=>{const g=b.target.value==="All Departments"?"All":b.target.value;l(g)},options:[...y==null?void 0:y.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[HC("Disbursement",[f==null?void 0:f.disbursement]),HC("Obligation",[f==null?void 0:f.obligation]),HC("Travel",[f==null?void 0:f.travel])]})]})}const HC=(t,e)=>a.jsxs("div",{className:"card p-4 h-full",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),a.jsx("div",{className:"w-full h-64",children:a.jsx(xu,{width:"100%",height:"100%",children:a.jsxs(Xp,{children:[a.jsx(Wn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e==null?void 0:e.map((r,n)=>a.jsx(gi,{fill:L4[n%L4.length]},n))}),a.jsx(ka,{})]})})})]}),M4=["#0088FE","#FF8042","#00C49F"];function rg({title:t,data:e}){return a.jsxs("div",{className:"card p-4 h-full",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),a.jsx("div",{className:"w-full h-64",children:a.jsx(xu,{width:"100%",height:"100%",children:a.jsxs(Xp,{children:[a.jsx(Wn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>a.jsx(gi,{fill:M4[n%M4.length]},n))}),a.jsx(ka,{})]})})})]})}function nHe(){const[t,e]=j.useState("day"),[r,n]=j.useState({general:0,marriage:0,burial:0,cedula:0}),[s,o]=j.useState([]),[i,l]=j.useState([]),[c,u]=j.useState([]),[d,m]=j.useState([]);j.useEffect(()=>{(async()=>{try{const[h,y,b,g,x]=await Promise.all([mU(t),the(),rhe(),nhe(),ahe()]),v=(h==null?void 0:h.data)||{};n({general:parseFloat(v.General||0),marriage:parseFloat(v.Marriage||0),burial:parseFloat(v.Burial||0),cedula:parseFloat(v.Cedula||0)}),o(f(y.data)),l(f(b.data)),u(f(g.data)),m(f(x.data))}catch(h){console.error(h),Y.error("Failed to load collection data")}})()},[t]);const f=(p=[])=>p.map(h=>({name:h.date||"Unknown",value:parseFloat(h.total||0)}));return a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"}),a.jsx(rg,{title:"Cedula",data:d})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:a.jsx(D,{label:"Select View",type:"select",value:t,onChange:p=>e(p.target.value),options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"General Service Invoice"}),a.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.general.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),a.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.marriage.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),a.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.burial.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Cedula"}),a.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.cedula.toFixed(2)]})]})]})]})]}),a.jsx("hr",{className:"my-6 border-gray-300"}),a.jsxs("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-4 mt-6",children:[a.jsx(rg,{title:"General Service Invoice",data:s}),a.jsx(rg,{title:"Marriage Service Invoice",data:i}),a.jsx(rg,{title:"Burial Service Invoice",data:c})]})]})}const pd="http://192.168.1.215:5001",aHe=[],Ji=K("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const s=sessionStorage.getItem("token");return(await nt.get(`${pd}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return e.rejectWithValue(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||s.message)}}),YC=K("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const s=sessionStorage.getItem("token");return(await nt.get(`${pd}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return e.rejectWithValue(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||s.message)}}),x0=K("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const s=sessionStorage.getItem("token");return(await nt.post(`${pd}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${s}`}})).data}catch(s){return e.rejectWithValue(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||s.message)}}),KC=K("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,s;try{const o=sessionStorage.getItem("token");return(await nt.put(`${pd}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}})).data}catch(o){return r.rejectWithValue(((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||o.message)}}),b0=K("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const s=sessionStorage.getItem("token");return await nt.delete(`${pd}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}),t}catch(s){return e.rejectWithValue(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||s.message)}}),v0=K("generalServiceReceipts/getGeneralServiceReceiptCurrentNumber",async(t,e)=>{var r,n;try{const s=sessionStorage.getItem("token");return(await nt.get(`${pd}/generalservicerecipt/getCurrentNumber`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return e.rejectWithValue(((n=(r=s.response)==null?void 0:r.data)==null?void 0:n.message)||s.message)}}),tH=Ce({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,currentNumber:null,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(Ji.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ji.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(Ji.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=aHe}).addCase(YC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(YC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(YC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(x0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(x0.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(x0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(KC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(KC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(s=>s.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(KC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(b0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(b0.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(b0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)}).addCase(v0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(v0.fulfilled,(e,r)=>{e.isLoading=!1,e.currentNumber=r.payload}).addCase(v0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt current number"})}}),{clearError:kKe,clearCurrentReceipt:EKe}=tH.actions,sHe=tH.reducer,oHe="http://192.168.1.215:5001",iHe=pe().shape({Status:M().required("Status is required"),InvoiceNumber:M().required("Invoice number is required"),InvoiceDate:Ye().required("Date is required"),FundsID:ae().required("Fund is required"),Agency:M().required("Agency is required"),PaymentMethodID:ae().required("Payment method is required"),Total:ae().required("Total amount is required"),CustomerID:ae().nullable(),CustomerName:M().required("Customer name is required"),Remarks:M(),TransactionItemsAll:$t().of(pe().shape({ItemID:ae().required("Item ID is required"),ChargeAccountID:ae().required("Charges account is required"),Quantity:ae().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:ae().required("Price is required").min(0,"Price cannot be negative"),Vatable:Hs()})).min(1,"At least one item is required")});function lHe({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n,Print:s,currentNumber:o}){const[i,l]=j.useState("Individual"),[c,u]=j.useState(!1),{customers:d}=ee(T=>T.customers),{vendorDetails:m}=ee(T=>T.vendorDetails),{funds:f}=ee(T=>T.funds),{items:p}=ee(T=>T.items),{budgets:h}=ee(T=>T.budget),y=he();j.useEffect(()=>{y(Ir()),y(Ea()),y(rr()),y(rs()),y(Jo())},[y]);const b=m==null?void 0:m.map(T=>({value:T.ID,label:T.Name})),g=d==null?void 0:d.map(T=>({value:T.ID,label:T.Name||`${T.FirstName} ${T.MiddleName} ${T.LastName}`})),x=f==null?void 0:f.map(T=>({value:T.ID,label:T.Name})),v=p==null?void 0:p.map(T=>({value:T.ID,label:T.Name})),w=h==null?void 0:h.map(T=>({value:T.ID,label:T.Name})),N={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||(o==null?void 0:o.CurrentNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,PayorType:"Individual",TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[{ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}]};console.log("initialValues",N);const S=(T,I,k)=>{const L=Array.from(T.target.files).map(q=>q);I("Attachments",[...k.Attachments,...L])},C=(T,I,k)=>{const $=[...k.Attachments];$.splice(T,1),I("Attachments",$)},A=async(T,{setSubmitting:I})=>{const k=new FormData;for(const $ in T)if($!=="Attachments"){const L=typeof T[$]=="object"?JSON.stringify(T[$]):T[$];if($==="TransactionItemsAll")k.append("Items",L);else if($==="Total"){const q=T.TransactionItemsAll.reduce((E,R)=>E+R.Quantity*R.Price,0);k.append("Total",q)}else k.append($,L)}T==null||T.Attachments.forEach(($,L)=>{$.ID?k.append(`Attachments[${L}].ID`,$.ID):k.append(`Attachments[${L}].File`,$)}),r?(k.append("IsNew","false"),k.append("LinkID",r.LinkID),k.append("ID",r.ID)):k.append("IsNew","true"),console.log("Form Data:",T);try{await n(k),console.log("Form submitted with values:",k)}catch($){console.error("Error submitting form:",$)}finally{e(),I(!1)}};return a.jsxs(me,{isOpen:t,onClose:e,title:r?"Edit General Service Invoice":"New General Service Invoice",size:"xl",children:[a.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center max-sm:flex-col",children:[a.jsx("button",{type:"button",className:"btn btn-secondary max-sm:w-full",children:"Show List"}),a.jsx("button",{className:"btn btn-primary max-sm:w-full",onClick:()=>u(!0),children:"Add Attachments"}),s&&a.jsx("button",{className:"btn btn-outline max-sm:w-full",children:"Print"})]}),a.jsx(He,{initialValues:N,validationSchema:iHe,onSubmit:A,enableReinitialize:!0,children:({values:T,setFieldValue:I,handleChange:k,handleBlur:$,isSubmitting:L,errors:q,touched:E,submitCount:R,isValid:U})=>a.jsxs(Ze,{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[a.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),T.Attachments.length>0?a.jsx("div",{className:"space-y-2",children:T.Attachments.map((B,P)=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"h-4 w-4 text-gray-500 mr-2"}),a.jsx("span",{className:"text-sm",children:B.ID?a.jsx("a",{href:`${oHe}/uploads/${B.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:B.name||B.DataName}):B.name||B.DataName})]}),a.jsx("button",{type:"button",onClick:()=>C(P,I,T),className:"text-red-500 hover:text-red-700",children:a.jsx(er,{className:"h-4 w-4"})})]},P))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),a.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[a.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:T==null?void 0:T.Status.toUpperCase()})]}),a.jsx(D,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:k,value:T.InvoiceNumber,error:q.InvoiceNumber&&E.InvoiceNumber,touched:E.InvoiceNumber})]}),a.jsx(D,{label:"Date",name:"InvoiceDate",type:"date",onChange:k,value:T.InvoiceDate,required:!0,error:q.InvoiceDate&&E.InvoiceDate}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:k,value:T.Agency,error:q.Agency,touched:E.Agency}),a.jsx(D,{label:"Fund",name:"FundsID",type:"select",options:x,required:!0,onChange:k,value:T.FundsID,error:E.FundsID&&q.FundsID,touched:E.FundsID})]})]}),a.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[a.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{type:"button",onClick:()=>{l("Individual"),I("PayorType","Individual"),I("PayorName","")},className:`px-4 py-2 rounded-md ${i==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),a.jsx("button",{type:"button",onClick:()=>{l("Corporation"),I("PayorType","Corporation"),I("PayorName","")},className:`px-4 py-2 rounded-md ${i==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),a.jsx(rt,{label:"Payor",name:"CustomerName",type:"select",options:i==="Individual"?g:b,required:!0,placeholder:i==="Individual"?"Select Individual or Type New Name":"Select Corporation or Type New Name",onSelect:B=>{const P=i==="Individual"?g.find(O=>O.value===B):b.find(O=>O.value===B);P?(I("CustomerName",P.label),I("CustomerID",P.value)):(I("CustomerName",B),I("CustomerID",null))},selectedValue:T.CustomerID||T.CustomerName,error:q.CustomerName,touched:E.CustomerName})]}),a.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[a.jsx("h3",{className:"font-medium text-lg",children:"Items"}),a.jsx(Lr,{name:"TransactionItemsAll",children:({push:B,remove:P})=>a.jsxs("div",{className:"space-y-4",children:[T.TransactionItemsAll.map((O,V)=>{var _,H,G,re,ie,te,Z,z,W,X,F,J,ne,ue,ge,we,Ae,be,at,St,se,Ne,ke,$e;return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[a.jsx(D,{label:"Item ID",name:`TransactionItemsAll.${V}.ItemID`,type:"select",options:v,required:!0,value:O.ItemID,onChange:k,onBlur:$,error:((H=(_=E.TransactionItemsAll)==null?void 0:_[V])==null?void 0:H.ItemID)&&((re=(G=q.TransactionItemsAll)==null?void 0:G[V])==null?void 0:re.ItemID),touched:(te=(ie=E.TransactionItemsAll)==null?void 0:ie[V])==null?void 0:te.ItemID}),a.jsx(D,{label:"Account",name:`TransactionItemsAll.${V}.ChargeAccountID`,type:"select",options:w,required:!0,value:O.ChargeAccountID,onChange:k,onBlur:$,error:((z=(Z=E.TransactionItemsAll)==null?void 0:Z[V])==null?void 0:z.ChargeAccountID)&&((X=(W=q.TransactionItemsAll)==null?void 0:W[V])==null?void 0:X.ChargeAccountID),touched:(J=(F=E.TransactionItemsAll)==null?void 0:F[V])==null?void 0:J.ChargeAccountID}),a.jsx(D,{label:"Qty",name:`TransactionItemsAll.${V}.Quantity`,type:"number",required:!0,min:"1",value:O.Quantity,onChange:k,onBlur:$,error:((ue=(ne=E.TransactionItemsAll)==null?void 0:ne[V])==null?void 0:ue.Quantity)&&((we=(ge=q.TransactionItemsAll)==null?void 0:ge[V])==null?void 0:we.Quantity),touched:(be=(Ae=E.TransactionItemsAll)==null?void 0:Ae[V])==null?void 0:be.Quantity}),a.jsx(D,{label:"Price",name:`TransactionItemsAll.${V}.Price`,type:"number",required:!0,min:"0",value:O.Price,onChange:k,onBlur:$,error:((St=(at=E.TransactionItemsAll)==null?void 0:at[V])==null?void 0:St.Price)&&((Ne=(se=q.TransactionItemsAll)==null?void 0:se[V])==null?void 0:Ne.Price),touched:($e=(ke=E.TransactionItemsAll)==null?void 0:ke[V])==null?void 0:$e.Price}),a.jsx(D,{label:"Vatable",type:"checkbox",id:`TransactionItemsAll.${V}.Vatable`,name:`TransactionItemsAll.${V}.Vatable`,checked:O.Vatable,onChange:k}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(O.Quantity*O.Price).toFixed(2)]}),V>0&&a.jsx("button",{type:"button",onClick:()=>P(V),className:"text-red-500 hover:text-red-700",children:a.jsx(bt,{})})]})]},V)}),a.jsx("button",{type:"button",onClick:()=>B({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}),className:"btn btn-primary",children:"+ Add Item"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),a.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:T.TransactionItemsAll.reduce((B,P)=>B+P.Quantity*P.Price,0).toFixed(2)})]}),a.jsx(D,{label:"Amount in Words",name:"amountInWords",type:"text",value:Ha(T.TransactionItemsAll.reduce((B,P)=>B+P.Quantity*P.Price,0)),readOnly:!0})," "]})]}),a.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[a.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),a.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map((B,P)=>a.jsx("button",{type:"button",onClick:()=>I("PaymentMethodID",B.value),className:`px-2 py-1 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium border ${T.PaymentMethodID===B.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${P===0?"rounded-l-md":P===3?"rounded-r-md":"border-l-0"}`,children:B.label},B.value))})]}),T.PaymentMethodID===3&&a.jsxs(a.Fragment,{children:[a.jsx(D,{label:"Check Number",name:"CheckNumber",type:"text",value:T.CheckNumber,onChange:k,error:q.CheckNumber&&E.CheckNumber}),a.jsx(D,{label:"Bank",name:"PayeeBank",type:"text",value:T.PayeeBank,onChange:k}),a.jsx(D,{label:"Check Date",name:"CheckDate",type:"date",value:T.CheckDate,onChange:k,error:q.CheckDate&&E.CheckDate})]}),T.PaymentMethodID===8&&a.jsxs(a.Fragment,{children:[a.jsx(D,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:T.MoneyOrder,onChange:k,error:q.MoneyOrder&&E.MoneyOrder}),a.jsx(D,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:T.MoneyOrderDate,onChange:k,error:q.MoneyOrderDate&&E.MoneyOrderDate})]}),a.jsx(D,{label:"Remarks",name:"Remarks",type:"textarea",value:T.Remarks,onChange:k,rows:2,error:q.Remarks&&E.Remarks})]}),c&&a.jsx(me,{isOpen:c,onClose:()=>u(!1),title:"Attachments",size:"md",children:a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg sm:p-4 text-center",children:a.jsx("label",{className:"cursor-pointer",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(Vs,{className:"h-8 w-8 text-gray-400"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),a.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:B=>{S(B,I,T),u(!1)}})]})})})})}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:L||!U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:L?"Saving...":"Save"})]})]})})]})}function cHe(){const t=he(),{receipts:e,isLoading:r,currentNumber:n}=ee(L=>L.generalReceipts),{Add:s,Edit:o,Delete:i,Print:l}=Se(52),[c,u]=j.useState(!1),[d,m]=j.useState(!1),[f,p]=j.useState(!1),[h,y]=j.useState(null),[b,g]=j.useState(!1);j.useEffect(()=>{t(Ji())},[t]),console.log("generalReceipts",e);const x=()=>{y(null),p(!0),t(v0())},v=L=>{y(L),m(!0)},w=L=>{y(L),p(!0)},N=()=>{m(!1),y(null)},S=()=>{p(!1),y(null)},C=L=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(L),A=async L=>{try{await t(b0(L.ID)).unwrap(),t(Ji()),Y.success("Receipt deleted successfully.")}catch(q){console.error("Error deleting receipt:",q),Y.error("Failed to delete receipt.")}},T=[{key:"InvoiceNumber",header:"Receipt No.",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:L=>a.jsx("span",{className:`px-2 py-1 rounded ${L==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":L==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":L==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":L==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":L==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":L==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:L})},{key:"InvoiceDate",header:"Date",sortable:!0,render:L=>new Date(L).toLocaleDateString()},{key:"CustomerName",header:"Customer Name",sortable:!0,render:L=>(L==null?void 0:L.trim())||"N/A"},{key:"Total",header:"Amount",sortable:!0,className:"text-right",render:L=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:C(L)})},{key:"Remarks",header:"Remarks",sortable:!1,render:L=>L||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:L=>({1:"General Fund",2:"Special Education Fund"})[L]||""}],I=async(L,q)=>{g(!0);const E=q==="approve"?"approved":"rejected",R=q==="approve"?"approving":"rejecting";try{const U=await De.post(`/disbursementVoucher/${q}`,{ID:L.ID});console.log(`${E}:`,U.data),t(Ji()),Y.success(`General Receipt ${E} successfully`)}catch(U){console.error(`Error ${R} General Receipt:`,U),Y.error(`Error ${R} General Receipt`)}finally{g(!1)}},k=L=>{var E,R;const q=[];return(E=L==null?void 0:L.Status)!=null&&E.toLowerCase().includes("rejected")&&o?(q.push({icon:Fe,title:"Edit",onClick:()=>w(L),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),q.push({icon:Kt,title:"Delete",onClick:()=>A(L),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(R=L==null?void 0:L.Status)!=null&&R.toLowerCase().includes("requested")&&q.push({icon:wn,title:"Approve",onClick:()=>I(L,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>I(L,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),q.push({icon:Ra,title:"View",onClick:()=>v(L),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),q},$=async L=>{if(L)try{const q=await t(x0(L)).unwrap();console.log("Operation successful:",q,L),t(Ji()),t(Ir()),t(Ea()),Y.success("Receipt saved successfully.")}catch(q){console.error("Submission failed:",q),Y.error(q.message||"Failed to save receipt")}finally{S()}};return a.jsxs("div",{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"General Service Invoice"}),a.jsx("p",{children:"Manage official receipts and invoices."})]}),a.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:s&&a.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Service Invoice"]})})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:T,data:e,actions:k,loading:r||b})}),a.jsx(lHe,{isOpen:f,onClose:S,selectedReceipt:h,onSubmit:$,Print:l,currentNumber:n}),a.jsx(a.Fragment,{children:a.jsx(me,{isOpen:d,onClose:N,title:"General Receipt Details",size:"lg",children:h&&a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),a.jsxs("dl",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:h.InvoiceNumber||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:h.InvoiceDate?new Date(h.InvoiceDate).toLocaleDateString():"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:h.FundsID===1?"General Fund":h.FundsID===2?"Special Education Fund":h.FundsID||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:h.ModeofPayment||(h.CheckNumber?"Check":h.MoneyOrder?"Money Order":"Cash")})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Status"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${h.Status==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":h.Status==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":h.Status==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":h.Status==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":h.Status==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":h.Status==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:h.Status})})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),a.jsxs("dl",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:h.CustomerName||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:h.BillingAddress||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Due Date"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:h.BillingDueDate?new Date(h.BillingDueDate).toLocaleDateString():"N/A"})]}),h.CheckNumber&&a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Check Number"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:h.CheckNumber})]}),h.MoneyOrder&&a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Money Order"}),a.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:h.MoneyOrder})]})]})]})]}),h.TransactionItemsAll&&h.TransactionItemsAll.length>0&&a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"Transaction Items"}),a.jsx("div",{className:"space-y-2",children:h.TransactionItemsAll.map((L,q)=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium",children:["Item ID: ",L.ItemID]}),a.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Qty: ",L.Quantity]})]}),a.jsx("span",{className:"text-sm font-medium",children:C(parseFloat(L.Price||0))})]},L.ID||q))})]}),a.jsxs("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),a.jsx("span",{className:"text-2xl font-bold text-success-700",children:C(parseFloat(h.Total||0))})]}),h.RemainingBalance&&parseFloat(h.RemainingBalance)>0&&a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Remaining Balance"}),a.jsx("span",{className:"text-lg font-bold text-orange-700",children:C(parseFloat(h.RemainingBalance))})]})]}),h.Remarks&&a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),a.jsx("p",{className:"text-sm text-gray-600",children:h.Remarks})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:N,className:"btn btn-outline",children:"Close"}),o&&a.jsx("button",{type:"button",onClick:()=>w(h),className:"btn btn-primary",children:"Edit"})]})]})})})]})}const uHe=pe().shape({ownerId:ae().nullable(),basicGeneralYearID:ae().required("Basic general year is required"),T_D_No:M().required("Tax declaration number is required"),IsNew:Hs().required(),LinkID:ae().nullable(),CustomerName:M().required("Customer name is required"),Municipality:M().required("Municipality is required"),AmountinWords:M().required("Amount in words is required"),AmountReceived:ae().min(0).required("Amount received is required"),RemainingBalance:ae().min(0).required("Remaining balance is required"),CheckNumber:ae().required("Check number is required"),AdvancedYear:ae().min(1900).max(2100).required("Advanced year is required"),AdvanceFunds:ae().min(0).required("Advance funds is required"),FundsID:ae().required("Funds ID is required"),ReceivedFrom:M().required("Received from is required"),Location:M().required("Location is required"),Lot:M().required("Lot is required"),Block:M().required("Block is required"),PreviousPaymentList:$t().of(pe().shape({LandPrice:ae().min(0).required("Land price is required"),ImprovementPrice:ae().min(0).required("Improvement price is required"),TotalAssessedValue:ae().min(0).required("Total assessed value is required"),TaxDue:ae().min(0).required("Tax due is required"),InstallmentPayment:ae().min(0).required("Installment payment is required"),FullPayment:ae().min(0).required("Full payment is required"),Penalty:ae().min(0).required("Penalty is required"),Total:ae().min(0).required("Total is required")})).min(0,"At least one previous payment entry is required"),PresentPaymentList:$t().of(pe().shape({LandPrice:ae().min(0).required("Land price is required"),ImprovementPrice:ae().min(0).required("Improvement price is required"),TotalAssessedValue:ae().min(0).required("Total assessed value is required"),TaxDue:ae().min(0).required("Tax due is required"),InstallmentPayment:ae().min(0).required("Installment payment is required"),FullPayment:ae().min(0).required("Full payment is required"),Penalty:ae().min(0).required("Penalty is required"),Discount:ae().min(0).required("Discount is required"),Total:ae().min(0).required("Total is required"),RemainingBalance:ae().min(0).required("Remaining balance is required")})).min(0,"At least one present payment entry is required")}),dHe=t=>{if(!t||!Array.isArray(t))return{previous:[],present:[]};const e=t.filter(n=>!n.Present).map(n=>({LandPrice:parseFloat(n.LandPrice||0),ImprovementPrice:parseFloat(n.ImprovementPrice||0),TotalAssessedValue:parseFloat(n.TotalAssessedValue||0),TaxDue:parseFloat(n.TaxDue||0),InstallmentPayment:parseFloat(n.InstallmentPayment||0),FullPayment:parseFloat(n.FullPayment||0),Penalty:parseFloat(n.Penalty||0),Total:parseFloat(n.Total||0)})),r=t.filter(n=>n.Present).map(n=>({LandPrice:parseFloat(n.LandPrice||0),ImprovementPrice:parseFloat(n.ImprovementPrice||0),TotalAssessedValue:parseFloat(n.TotalAssessedValue||0),TaxDue:parseFloat(n.TaxDue||0),InstallmentPayment:parseFloat(n.InstallmentPayment||0),FullPayment:parseFloat(n.FullPayment||0),Penalty:parseFloat(n.Penalty||0),Discount:parseFloat(n.Discount||0),Total:parseFloat(n.Total||0),RemainingBalance:parseFloat(n.RemainingBalance||0)}));return{previous:e,present:r}},mHe=({onCreateOrEdit:t,onBack:e,individualOptions:r,generalRevisionsOptions:n,initialData:s=null})=>{const o=he(),{tdNumber:i,addButtonResult:l,isLoading:c}=ee(P=>P.realPropertyTax),[u,d]=j.useState(!1),[m,f]=j.useState(!1),[p,h]=j.useState({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",TaxDue:"",InstallmentPayment:"",FullPayment:"",Penalty:"",dueDateYear:"",payment:""}),[y,b]=j.useState({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",Discount:"",Penalty:"",TaxDue:"",InstallmentPayment:!1,FullPayment:!1,dueDateYear:"",payment:""}),x=ot({initialValues:(()=>{var P,O,V,_,H,G;if(s){const{previous:re,present:ie}=dHe(s.properties),te=r==null?void 0:r.find(z=>z.label===s.CustomerName),Z=n==null?void 0:n.find(z=>{var W;return z.label===((W=s.GeneralRevision)==null?void 0:W.toString())});return{IsNew:!1,LinkID:s.LinkID,ownerId:(te==null?void 0:te.value)||"",CustomerName:s.CustomerName||"",basicGeneralYearID:(Z==null?void 0:Z.value)||"",T_D_No:s.T_D_No||"",Municipality:s.Municipality||"MAKATI",AmountinWords:s.AmountinWords||"",AmountReceived:parseFloat(s.AmountReceived||0),RemainingBalance:parseFloat(s.RemainingBalance||0),CheckNumber:s.CheckNumber||0,AdvancedYear:s.AdvancedYear||"",AdvanceFunds:parseFloat(s.AdvanceFunds||0),FundsID:s.FundsID||0,ReceivedFrom:s.ReceivedFrom||"CEDRIC",Location:((O=(P=s.properties)==null?void 0:P[0])==null?void 0:O.Location)||"",Lot:((_=(V=s.properties)==null?void 0:V[0])==null?void 0:_.Lot)||"",Block:((G=(H=s.properties)==null?void 0:H[0])==null?void 0:G.Block)||"",PreviousPaymentList:re,PresentPaymentList:ie}}return{IsNew:!0,LinkID:null,ownerId:"",CustomerName:"",basicGeneralYearID:"",T_D_No:"",Municipality:"MAKATI",AmountinWords:"",AmountReceived:0,RemainingBalance:0,CheckNumber:0,AdvancedYear:"",AdvanceFunds:0,FundsID:0,ReceivedFrom:"CEDRIC",Location:"",Lot:"",Block:"",PreviousPaymentList:[],PresentPaymentList:[]}})(),validationSchema:uHe,onSubmit:P=>{t(P)}}),{values:v,errors:w,touched:N,handleChange:S,handleBlur:C,setFieldValue:A,handleSubmit:T}=x;j.useEffect(()=>{const P=v.ownerId&&v.basicGeneralYearID&&v.T_D_No&&l;d(P)},[v.ownerId,v.basicGeneralYearID,v.T_D_No,l]),j.useEffect(()=>{var P;if(v.ownerId&&v.basicGeneralYearID){const O=(P=n==null?void 0:n.find(V=>V.value===Number(v.basicGeneralYearID)))==null?void 0:P.label;o(lT({ownerId:v.ownerId,generalRevision:O})),A("AdvancedYear",O)}},[v.ownerId,v.basicGeneralYearID,o,A]);const I=i?[...new Set(i.map(P=>P.T_D_No))].map(P=>({value:P,label:P})):[],k=async()=>{var O;const P=(O=n==null?void 0:n.find(V=>V.value===Number(v.basicGeneralYearID)))==null?void 0:O.label;o(lT({ownerId:v.ownerId,generalRevision:P}));try{await o(DW({tdNumber:v.T_D_No,selectedYear:P})).unwrap()}catch(V){console.error("Failed to add tax declaration:",V),Y.error("Failed to add tax declaration. "+V.message)}},$=P=>{const{name:O,value:V}=P.target;h(_=>({..._,[O]:V}))},L=P=>{const{name:O,value:V}=P.target;b(_=>({..._,[O]:V}))},q=()=>{const P={LandPrice:Number(p.LandPrice)||0,ImprovementPrice:Number(p.ImprovementPrice)||0,TotalAssessedValue:Number(p.TotalAssessedValue)||0,TaxDue:Number(p.TaxDue)||0,InstallmentPayment:Number(p.InstallmentPayment)||0,FullPayment:Number(p.FullPayment)||0,Penalty:Number(p.Penalty)||0,Total:Number(p.Total)||0};A("PreviousPaymentList",[...v.PreviousPaymentList,P]),h({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",TaxDue:"",InstallmentPayment:"",FullPayment:"",Penalty:""})},E=P=>{const O=v.PreviousPaymentList.filter((V,_)=>_!==P);A("PreviousPaymentList",O)},R=()=>{const P={LandPrice:Number(y.LandPrice)||0,ImprovementPrice:Number(y.ImprovementPrice)||0,TotalAssessedValue:Number(y.TotalAssessedValue)||0,TaxDue:Number(y.TaxDue)||0,InstallmentPayment:y.InstallmentPayment?1:0,FullPayment:y.FullPayment?1:0,Penalty:Number(y.Penalty)||0,Discount:Number(y.Discount)||0,Total:Number(y.Total)||0,RemainingBalance:0};A("PresentPaymentList",[...v.PresentPaymentList,P]),b({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",Discount:"",Penalty:"",TaxDue:"",InstallmentPayment:!1,FullPayment:!1})},U=P=>{const O=v.PresentPaymentList.filter((V,_)=>_!==P);A("PresentPaymentList",O)},B=({entries:P,title:O,removeEntry:V})=>a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[a.jsx("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between sm:items-center gap-4 max-sm:flex-col",children:a.jsx("h3",{className:"text-lg font-semibold",children:O})}),a.jsx("div",{className:"p-4",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full table-fixed border-collapse border border-gray-300 text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50",children:[a.jsx("th",{className:"w-16 border border-gray-300 p-2 font-medium",children:"#"}),a.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Land"}),a.jsx("th",{className:"w-32 border border-gray-300 p-2 font-medium",children:"Improvement"}),a.jsx("th",{className:"w-32 border border-gray-300 p-2 font-medium",children:"Total Assessed"}),a.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Tax Due"}),a.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Installment Payment"}),a.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Full Payment"}),a.jsx("th",{className:"w-20 border border-gray-300 p-2 font-medium",children:"Penalty"}),a.jsx("th",{className:"w-20 border border-gray-300 p-2 font-medium",children:"Total"}),O.includes("Present")&&a.jsx("th",{className:"w-20 border border-gray-300 p-2 font-medium",children:"Discount"}),a.jsx("th",{className:"w-16 border border-gray-300 p-2 font-medium",children:"Actions"})]})}),a.jsx("tbody",{children:P.map((_,H)=>a.jsxs("tr",{children:[a.jsx("td",{className:"border border-gray-300 p-1 text-center",children:H+1}),a.jsx("td",{className:"border border-gray-300 p-1 text-right",children:_.LandPrice.toFixed(2)}),a.jsx("td",{className:"border border-gray-300 p-1 text-right",children:_.ImprovementPrice.toFixed(2)}),a.jsx("td",{className:"border border-gray-300 p-1 text-right",children:_.TotalAssessedValue.toFixed(2)}),a.jsx("td",{className:"border border-gray-300 p-1 text-right",children:_.TaxDue.toFixed(2)}),a.jsx("td",{className:"border border-gray-300 p-1 text-center",children:_.InstallmentPayment?"Yes":"No"}),a.jsx("td",{className:"border border-gray-300 p-1 text-center",children:_.FullPayment?"Yes":"No"}),a.jsx("td",{className:"border border-gray-300 p-1 text-right",children:_.Penalty.toFixed(2)}),a.jsx("td",{className:"border border-gray-300 p-1 text-right",children:_.Total.toFixed(2)}),O.includes("Present")&&a.jsx("td",{className:"border border-gray-300 p-1 text-right",children:_.Discount.toFixed(2)}),a.jsx("td",{className:"border border-gray-300 p-1 text-center",children:a.jsx("button",{type:"button",onClick:()=>V(H),className:"text-red-500 hover:text-red-700",children:a.jsx(er,{size:16})})})]},H))})]})})})]});return a.jsx("div",{className:"min-h-screen bg-white md:p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:a.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(ir,{className:"h-5 w-5"}),"Basic Information"]})}),a.jsxs("div",{className:"sm:p-6 p-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-center border-b ",children:[a.jsx(rt,{label:"Owner",name:"CustomerName",options:r,value:v.CustomerName,onSelect:P=>{if(typeof P=="string"&&!r.find(O=>O.value===P))A("CustomerName",P),A("ownerId","");else{const O=r.find(V=>V.value===P);A("CustomerName",(O==null?void 0:O.label)||""),A("ownerId",(O==null?void 0:O.value)||"")}},className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",selectedValue:v.CustomerName,error:w.CustomerName,required:!0,touched:N.CustomerName}),a.jsx(D,{label:"General Revision (Year)",name:"basicGeneralYearID",type:"select",options:n,value:v.basicGeneralYearID,onChange:S,required:!0,onBlur:C,error:w.basicGeneralYearID,touched:N.basicGeneralYearID,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Tax Declaration Number",name:"T_D_No",type:"select",options:I,value:v.T_D_No,disabled:!I.length||c,onChange:S,onBlur:C,error:w.T_D_No,required:!0,touched:N.T_D_No,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx("button",{className:"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",disabled:!I.length||c||!v.T_D_No,onClick:k,children:"Add"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx(D,{label:"Check Number",name:"CheckNumber",value:v.CheckNumber,onChange:S,required:!0,onBlur:C,error:w.CheckNumber,touched:N.CheckNumber,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Received From",name:"ReceivedFrom",value:v.ReceivedFrom,onChange:S,required:!0,onBlur:C,error:w.ReceivedFrom,touched:N.ReceivedFrom,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Municipality",name:"Municipality",value:v.Municipality,onChange:S,onBlur:C,required:!0,error:w.Municipality,touched:N.Municipality,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Address",name:"Location",value:v.Location,onChange:S,required:!0,onBlur:C,error:w.Location,touched:N.Location,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Block",name:"Block",value:v.Block,onChange:S,onBlur:C,required:!0,error:w.Block,touched:N.Block,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Lot",name:"Lot",value:v.Lot,onChange:S,onBlur:C,required:!0,error:w.Lot,touched:N.Lot,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})]})]})]}),a.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${u?"":"opacity-50 pointer-events-none"}`,children:[a.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),a.jsx("div",{className:"sm:p-6 p-3",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsx(D,{label:"Land Values",name:"LandPrice",value:p.LandPrice,onChange:$,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Improvement",name:"ImprovementPrice",value:p.ImprovementPrice,onChange:$,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Total Assessed Value",name:"TotalAssessedValue",value:p.TotalAssessedValue,onChange:$,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Tax Due",name:"TaxDue",value:p.TaxDue,onChange:$,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Installment Payment",name:"InstallmentPayment",value:p.InstallmentPayment,onChange:$,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Full Payment",name:"FullPayment",value:p.FullPayment,onChange:$,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Penalty",name:"Penalty",value:p.Penalty,onChange:$,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Total",name:"Total",value:p.Total,onChange:$,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{type:"button",className:"btn btn-primary",disabled:!u,onClick:q,children:[a.jsx(cn,{size:16})," Add"]})})]})})]}),N.PreviousPaymentList&&w.PreviousPaymentList&&a.jsx("div",{className:"text-red-500 text-sm mt-1",children:w.PreviousPaymentList}),a.jsx(B,{entries:v.PreviousPaymentList,title:"Previous Year Balance - Detailed Property List",removeEntry:E}),a.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${u?"":"opacity-50 pointer-events-none"}`,children:[a.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),a.jsxs("div",{className:"sm:p-6 p-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsx(D,{label:"Land Values",name:"LandPrice",value:y.LandPrice,onChange:L,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Improvement",name:"ImprovementPrice",value:y.ImprovementPrice,onChange:L,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Total Assessed Value",name:"TotalAssessedValue",value:y.TotalAssessedValue,onChange:L,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Tax Due",name:"TaxDue",value:y.TaxDue,onChange:L,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Discount Rate",name:"Discount",value:y.Discount,onChange:L,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Penalty Rate",name:"Penalty",value:y.Penalty,onChange:L,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx(D,{label:"Total",name:"Total",value:y.Total,onChange:L,disabled:!u,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),a.jsxs("div",{className:"flex gap-4 flex-col",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"paymentType",checked:y.InstallmentPayment,onChange:()=>b({...y,InstallmentPayment:!0,FullPayment:!1}),disabled:!u,className:"text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"paymentType",checked:y.FullPayment,onChange:()=>b({...y,FullPayment:!0,InstallmentPayment:!1}),disabled:!u,className:"text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{type:"button",className:"btn btn-primary",disabled:!u,onClick:R,children:[a.jsx(cn,{size:16})," Add"]})})]})]})]}),N.PresentPaymentList&&w.PresentPaymentList&&a.jsx("div",{className:"text-red-500 text-sm mt-1",children:w.PresentPaymentList}),a.jsx(B,{entries:v.PresentPaymentList,title:"Present Year Balance - Detailed Property List",removeEntry:U}),a.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:a.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(La,{className:"h-5 w-5"}),"Payment Summary"]})}),a.jsxs("div",{className:"sm:p-6 p-3",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsx(D,{label:"Amount Received",name:"AmountReceived",value:v.AmountReceived,onChange:P=>{A("AmountReceived",P.target.value);const O=Ha(P.target.value);A("AmountinWords",O)},onBlur:C,required:!0,error:w.AmountReceived,touched:N.AmountReceived,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 text-right font-mono"}),a.jsx(D,{label:"Remaining Balance",name:"RemainingBalance",value:v.RemainingBalance,onChange:S,onBlur:C,required:!0,error:w.RemainingBalance,touched:N.RemainingBalance,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 text-right font-mono"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsx(D,{label:"Received From",name:"ReceivedFrom",value:v.ReceivedFrom,onChange:S,required:!0,onBlur:C,error:w.ReceivedFrom,touched:N.ReceivedFrom,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("label",{className:"flex items-start gap-2",children:[a.jsx(D,{type:"checkbox",name:"advancePayment",checked:m,onChange:P=>f(P.target.checked),className:"text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm font-medium ",children:"Advance Payment"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(D,{label:"Funds",name:"AdvanceFunds",value:v.AdvanceFunds,onChange:S,onBlur:C,required:!0,error:w.AdvanceFunds,touched:N.AdvanceFunds,disabled:!m,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 w-20 disabled:bg-gray-100 disabled:cursor-not-allowed"}),a.jsx("span",{className:"text-sm text-gray-900",children:"Until"}),a.jsx(D,{label:"Year",name:"AdvancedYear",value:v.AdvancedYear,onChange:S,onBlur:C,required:!0,error:w.AdvancedYear,touched:N.AdvancedYear,disabled:!m,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 w-20 disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fund Type ",a.jsx("span",{className:"text-red-600",children:"*"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"FundsID",checked:v.FundsID===1,onChange:()=>A("FundsID",1),onBlur:C,className:"text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"radio",name:"FundsID",checked:v.FundsID===2,onChange:()=>A("FundsID",2),onBlur:C,className:"text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),a.jsx(D,{label:"Amount In Words",name:"AmountinWords",type:"textarea",value:v.AmountinWords,onChange:S,onBlur:C,error:w.AmountinWords,touched:N.AmountinWords,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter amount in words..."})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[a.jsx(Et,{variant:"outline",className:"btn btn-outline",onClick:e,children:"Cancel"}),a.jsx(Et,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",onClick:T,children:"Save Draft"})]})]})})},fHe=({isOpen:t,onClose:e,property:r,onEdit:n,Edit:s})=>{if(!r)return null;const o=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d||0),i=d=>d?new Date(d).toLocaleDateString("en-PH"):"N/A",l=d=>{let m="bg-neutral-100 text-neutral-800";switch(d){case"Posted":case"Active":m="bg-success-100 text-success-800";break;case"Requested":m="bg-warning-100 text-warning-800";break;case"Rejected":m="bg-error-100 text-error-800";break}return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${m}`,children:d})},c=d=>{switch(d){case 1:return"General Fund";case 2:return"Special Education Fund";default:return`Fund ${d}`||"N/A"}},u=()=>r.ModeofPayment?r.ModeofPayment:r.CheckNumber&&r.CheckNumber!=="0"?"Check":r.MoneyOrder?"Money Order":"Cash";return a.jsx(me,{isOpen:t,onClose:e,title:"Real Property Tax Details",size:"xl",children:a.jsxs("div",{className:"p-4 space-y-6 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[a.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Property Tax Details"}),a.jsxs("dl",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Link ID"}),a.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2 font-mono",children:r.LinkID||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TD Number"}),a.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2 font-mono",children:r.T_D_No||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Municipality"}),a.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2",children:r.Municipality||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"General Revision"}),a.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2",children:r.GeneralRevision||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Status"}),a.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2",children:l(r.Status)})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created Date"}),a.jsx("dd",{className:"text-sm text-neutral-900 sm:col-span-2",children:i(r.CreatedDate)})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-blue-50 border border-blue-200",children:[a.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-4",children:"Customer Information"}),a.jsxs("dl",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-blue-700",children:"Name"}),a.jsx("dd",{className:"text-sm text-blue-900 sm:col-span-2 font-medium",children:r.CustomerName||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-blue-700",children:"Received From"}),a.jsx("dd",{className:"text-sm text-blue-900 sm:col-span-2",children:r.ReceivedFrom||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-blue-700",children:"Billing Address"}),a.jsx("dd",{className:"text-sm text-blue-900 sm:col-span-2",children:r.BillingAddress||"N/A"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[a.jsx("dt",{className:"text-sm font-medium text-blue-700",children:"TIN"}),a.jsx("dd",{className:"text-sm text-blue-900 sm:col-span-2",children:r.TIN||"N/A"})]})]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg bg-green-50 border border-green-200",children:[a.jsx("h3",{className:"text-lg font-medium text-green-900 mb-4",children:"Payment Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Amount Received"}),a.jsx("dd",{className:"text-lg font-bold text-green-900",children:o(parseFloat(r.AmountReceived||0))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Remaining Balance"}),a.jsx("dd",{className:"text-lg font-bold text-orange-700",children:o(parseFloat(r.RemainingBalance||0))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Previous Payment"}),a.jsx("dd",{className:"text-lg font-bold text-green-900",children:o(parseFloat(r.PreviousPayment||0))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Fund"}),a.jsx("dd",{className:"text-sm text-green-900",children:c(r.FundsID)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Payment Mode"}),a.jsx("dd",{className:"text-sm text-green-900",children:u()})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("dt",{className:"text-sm font-medium text-green-700",children:"Check Number"}),a.jsx("dd",{className:"text-sm text-green-900 font-mono",children:r.CheckNumber&&r.CheckNumber!=="0"?r.CheckNumber:"N/A"})]})]}),r.AmountinWords&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-green-200",children:[a.jsx("dt",{className:"text-sm font-medium text-green-700 mb-1",children:"Amount in Words"}),a.jsx("dd",{className:"text-sm text-green-900 italic",children:r.AmountinWords})]})]}),r.AdvanceFunds&&parseFloat(r.AdvanceFunds)>0&&a.jsxs("div",{className:"p-4 rounded-lg bg-purple-50 border border-purple-200",children:[a.jsx("h3",{className:"text-lg font-medium text-purple-900 mb-4",children:"Advanced Payment"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("dt",{className:"text-sm font-medium text-purple-700",children:"Advanced Year"}),a.jsx("dd",{className:"text-sm text-purple-900",children:r.AdvancedYear||"N/A"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("dt",{className:"text-sm font-medium text-purple-700",children:"Advanced Funds"}),a.jsx("dd",{className:"text-lg font-bold text-purple-900",children:o(parseFloat(r.AdvanceFunds||0))})]})]})]}),r.properties&&r.properties.length>0&&a.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsxs("h3",{className:"text-lg font-medium text-orange-900 mb-4",children:["Property Details (",r.properties.length," properties)"]}),a.jsx("div",{className:"space-y-4",children:r.properties.map((d,m)=>a.jsxs("div",{className:`p-4 bg-white rounded-lg border-2 ${d.Present?"border-green-300":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:["Property ",m+1,d.Present&&a.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Current"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-bold text-orange-700",children:o(parseFloat(d.Total||0))}),a.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Owner:"}),a.jsx("div",{className:"text-gray-900",children:d.Owner||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Location:"}),a.jsx("div",{className:"text-gray-900",children:d.Location||"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Lot & Block:"}),a.jsx("div",{className:"text-gray-900",children:d.Lot&&d.Block?`${d.Lot}, ${d.Block}`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Land Price:"}),a.jsx("div",{className:"text-gray-900",children:o(parseFloat(d.LandPrice||0))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Improvement:"}),a.jsx("div",{className:"text-gray-900",children:o(parseFloat(d.ImprovementPrice||0))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Assessed Value:"}),a.jsx("div",{className:"text-gray-900 font-medium",children:o(parseFloat(d.TotalAssessedValue||0))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Tax Due:"}),a.jsx("div",{className:"text-gray-900",children:o(parseFloat(d.TaxDue||0))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Penalty:"}),a.jsx("div",{className:"text-red-600",children:o(parseFloat(d.Penalty||0))})]}),d.Discount&&parseFloat(d.Discount)>0&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Discount:"}),a.jsxs("div",{className:"text-green-600",children:["-",o(parseFloat(d.Discount||0))]})]})]}),d.InstallmentPayment&&parseFloat(d.InstallmentPayment)>0&&a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Installment Payment:"}),a.jsx("div",{className:"text-blue-600 font-medium",children:o(parseFloat(d.InstallmentPayment||0))})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-600",children:"Full Payment:"}),a.jsx("div",{className:"text-green-600 font-medium",children:o(parseFloat(d.FullPayment||0))})]})]})})]},d.ID||m))})]}),r.Remarks&&a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),a.jsx("p",{className:"text-sm text-gray-600",children:r.Remarks})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"}),s&&a.jsx("button",{type:"button",onClick:()=>n(r),className:"btn btn-primary",children:"Edit"})]})]})})},rH=j.forwardRef(({property:t},e)=>{var r,n;return t?a.jsxs("div",{ref:e,className:"w-full text-black p-8",style:{fontFamily:"Arial, sans-serif"},children:[a.jsxs("div",{className:"flex justify-between text-sm mb-6",children:[a.jsx("div",{children:a.jsx("p",{className:"font-bold",children:t.Address})}),a.jsxs("div",{children:[a.jsx("p",{children:new Date().toLocaleDateString()}),a.jsx("p",{children:new Date().getFullYear()})]})]}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"font-medium",children:t.CustomerName})}),a.jsx("div",{className:"mb-4 text-center font-medium",children:a.jsx("p",{children:t.AmountInWords})}),a.jsxs("table",{className:"w-full text-sm border-collapse mb-6",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-1",children:"Owner"}),a.jsx("th",{className:"text-left py-1",children:"TD No."}),a.jsx("th",{className:"text-right py-1",children:"Assessed Value"}),a.jsx("th",{className:"text-right py-1",children:"Market Value"}),a.jsx("th",{className:"text-center py-1",children:"Year"}),a.jsx("th",{className:"text-right py-1",children:"Basic Tax"}),a.jsx("th",{className:"text-right py-1",children:"Penalty"}),a.jsx("th",{className:"text-right py-1",children:"Discount"}),a.jsx("th",{className:"text-right py-1",children:"Total"})]})}),a.jsx("tbody",{children:(r=t.properties)==null?void 0:r.map((s,o)=>{var i,l,c;return a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-1",children:s.Owner}),a.jsx("td",{className:"py-1",children:s.T_D_No}),a.jsx("td",{className:"py-1 text-right",children:(i=s.AssessedValue)==null?void 0:i.toLocaleString()}),a.jsx("td",{className:"py-1 text-right",children:(l=s.MarketValue)==null?void 0:l.toLocaleString()}),a.jsx("td",{className:"py-1 text-center",children:s.Year}),a.jsx("td",{className:"py-1 text-right",children:s.BasicTax}),a.jsx("td",{className:"py-1 text-right",children:s.Penalty}),a.jsx("td",{className:"py-1 text-right",children:s.Discount}),a.jsx("td",{className:"py-1 text-right",children:(c=s.Total)==null?void 0:c.toLocaleString()})]},o)})})]}),a.jsx("div",{className:"flex justify-end font-bold text-lg",children:(n=t.TotalAmount)==null?void 0:n.toLocaleString()})]}):null});rH.displayName="PrintPageRealPropertyTax";function pHe(){const t=he(),{realPropertyTaxes:e,isLoading:r}=ee(R=>R.realPropertyTax),{generalRevisions:n,isLoading:s}=ee(R=>R.generalRevisions),{customers:o,isLoading:i}=ee(R=>R.customers),{Add:l,Edit:c,Print:u}=Se(70),[d,m]=j.useState("list"),[f,p]=j.useState(null),[h,y]=j.useState(!1),[b,g]=j.useState(!1),x=j.useRef();j.useEffect(()=>{t(Po()),t(Yo()),t(Ir())},[]);const v=()=>{p(null),m("form")},w=R=>{p(R),g(!0)},N=R=>{p(R),m("form")},S=qn.useReactToPrint({contentRef:x,documentTitle:`RealPropertyTax-${(f==null?void 0:f.T_D_No)||"Record"}`}),C=()=>{m("list"),p(null)},A=[{key:"Status",header:"Status",sortable:!0,render:R=>T(R)},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"T_D_No",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"LinkID",header:"Link ID",sortable:!0}],T=R=>{let U="bg-neutral-100 text-neutral-800";switch(R){case"Requested":U="bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700";break;case"Approved":U="bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800";break;case"Posted":U="bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100";break;case"Rejected":U="bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100";break;case"Void":U="bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300";break;case"Cancelled":U="bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800";break}return a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U}`,children:R})},I=async(R,U)=>{var O,V;const P={approve:{endpoint:"postTransaction",payload:{id:R.ID,linkID:R.LinkID,approvalLinkID:R.LinkID,approvalProgress:R.approvalProgress||1,amountReceived:R.PreviousPayment||0,ApprovalOrder:R.ApprovalOrder||1,transactionApprovalVersion:R.transactionApprovalVersion||1},successMsg:"Real Property approved successfully",errorMsg:"Error approving Real Property"},reject:{endpoint:"rejectTransaction",payload:{id:R.ID,approvalLinkID:R.LinkID,reasonForRejection:R.reasonForRejection||"ANY REASON"},successMsg:"Real Property rejected successfully",errorMsg:"Error rejecting Real Property"}}[U];if(!P){console.error("Invalid action:",U);return}y(!0);try{const{data:_}=await De.post(`/real-property-tax/${P.endpoint}`,P.payload);console.log(`${U} response:`,_),t(Po()),Y.success(P.successMsg)}catch(_){const H=((V=(O=_.response)==null?void 0:O.data)==null?void 0:V.message)||P.errorMsg;console.error(H,_),Y.error(H)}finally{y(!1)}},k=R=>{var P;const U=[],B=((P=R.Status)==null?void 0:P.toLowerCase())||"";return B==="void"?(U.push({icon:Ra,title:"View",onClick:()=>w(R),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U):(B.includes("rejected")&&c?U.push({icon:Fe,title:"Edit",onClick:()=>N(R),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Kt,title:"Void",onClick:()=>L(R),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}):B==="requested"&&U.push({icon:wn,title:"Post",onClick:()=>I(R,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>I(R,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),U.push({icon:Ra,title:"View",onClick:()=>w(R),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U)},$=async R=>{try{await t(yx(R)).unwrap(),t(Po()),C(),Y.success("Property saved successfully")}catch(U){console.error("Error saving property:",U),Y.error("Failed to save property. Please try again.")}},L=async R=>{if(window.confirm("Are you sure you want to void this Real Property Tax Receipt??")){y(!0);try{await t(OW({id:R.ID})).unwrap(),t(Po()),Y.success("Real Property Tax Receipt voided successfully.")}catch(U){Y.error(`Error voiding Real Property Tax Receipt: ${U}`)}finally{y(!1)}}},q=o==null?void 0:o.map(R=>({value:R.ID,label:R.Name||`${R.FirstName} ${R.MiddleName} ${R.LastName}`})),E=n?[...new Map(n.map(R=>[R.General_Revision_Date_Year,R])).values()].map(R=>({value:R.ID,label:R.General_Revision_Date_Year})):[];return a.jsxs(a.Fragment,{children:[d==="list"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4 mb-6 page-header",children:[a.jsxs("div",{ref:x,children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Invoice"}),a.jsx("p",{className:"text-gray-600",children:"Manage real property tax invoices."})]}),a.jsxs("div",{className:"flex gap-2",children:[" ",l&&a.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New RPT Invoice"]}),u&&a.jsxs("button",{onClick:S,className:"btn btn-primary disabled:opacity-50  ",disabled:(f==null?void 0:f.Status)!=="Posted",children:[a.jsx(Fl,{className:"h-5 w-5 mr-2","aria-hidden":"true"})," ","Print"]})]})]}),a.jsx(je,{columns:A,data:e,actions:k,loading:r||s||i||h,onRowClick:R=>p(R),selectedRow:f})]}),d==="form"&&a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-between max-sm:flex-col gap-4 sm:items-center mb-6",children:a.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[a.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:a.jsx($a,{className:"h-5 w-5 text-neutral-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:f?"Edit Real Property Tax Invoice":"Create New Real Property Tax Invoice"}),a.jsx("p",{className:"text-gray-600",children:f?"Update the property details.":"Fill out the form to create a new real property tax invoice."})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:a.jsx(mHe,{initialData:f,onBack:C,onCreateOrEdit:$,individualOptions:q,generalRevisionsOptions:E})})]}),b&&a.jsx(fHe,{isOpen:b,onClose:()=>g(!1),property:f,onEdit:N,Edit:c}),a.jsx("div",{style:{display:"none"},children:a.jsx(rH,{ref:x,property:f})})]})}function hHe({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:s,onExportExcel:o}){const i=j.useRef(null),l=pe({endDate:M().required("Date End is required"),fundID:M().required("Fund is required"),approverID:M().required("Approver is required"),ledger:M().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:m})=>{const f=i.current;f==="view"?n(d):f==="generate"?s(d):f==="export"&&o(d),m(!1),i.current=null};return a.jsx(He,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:m,touched:f,handleChange:p,handleBlur:h,isSubmitting:y,setFieldValue:b})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsx(D,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:p,onBlur:h,error:m.endDate,touched:f.endDate,required:!0}),a.jsx(D,{type:"select",label:"Fund",name:"fundID",options:t.map(g=>({value:g.ID,label:g.Name})),value:d.fundID,onChange:p,onBlur:h,error:m.fundID,touched:f.fundID,required:!0}),a.jsx(D,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:p,onBlur:h,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:m.ledger,touched:f.ledger,required:!0}),a.jsx(D,{label:"Approver",name:"approverID",type:"select",options:e.map(g=>{var x;return{value:g.ID,label:g.FirstName+" "+g.MiddleName+" "+g.LastName+" - "+((x=g==null?void 0:g.Department)==null?void 0:x.Name)}}),value:d.approverID,onChange:p,onBlur:h,error:m.approverID,touched:f.approverID,required:!0})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-neutral-200 max-sm:flex-col",children:[a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),a.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Cashbook"}),a.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const gHe="http://192.168.1.215:5001",yHe={trialBalances:[],isLoading:!1,error:null},j0=K("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${gHe}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.error||s.message||"Failed to fetch");return s}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),JC=K("trialBalance/exportTrialBalances",async t=>!0),nH=Ce({name:"trialBalance",initialState:yHe,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(j0.pending,e=>{e.isLoading=!0,e.error=null}).addCase(j0.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(j0.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(JC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(JC.fulfilled,e=>{e.isLoading=!1}).addCase(JC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:xHe}=nH.actions,bHe=nH.reducer;function vHe(){const t="http://192.168.1.215:5001",e=he(),{trialBalances:r,isLoading:n,error:s}=ee(m=>m.trialBalance),{funds:o}=ee(m=>m.funds),{employees:i}=ee(m=>m.employees),l=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m);j.useEffect(()=>{e(xHe()),e(rr()),e(on())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>l(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>l(m),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async m=>{try{const f=sessionStorage.getItem("token"),p=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({endDate:m.endDate,fundID:m.fundID,approverID:m.approverID,ledger:m.ledger})});if(!p.ok)throw new Error("Server response was not ok");const h=await p.blob(),y=p.headers.get("Content-Disposition");let b="Trial_Balance.xlsx";y&&y.includes("filename=")&&(b=y.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(h),x=document.createElement("a");x.href=g,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(g)}catch(f){console.error("Export failed:",f),Y.error(f.message||"Failed to export trial balance")}},d=m=>{e(j0(m))};return a.jsxs("div",{children:[a.jsxs("div",{className:"page-header",children:[a.jsx("h1",{children:"Trial Balance"}),a.jsx("p",{children:"Generate trial balance reports."})]}),a.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:a.jsx(hHe,{funds:o,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),s&&a.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:a.jsx("p",{className:"text-error-700",children:s})}),a.jsx("div",{className:"mt-6",children:a.jsx(je,{columns:c,data:r,loading:n,pagination:!0})})]})}const jHe="http://192.168.1.215:5001",NHe=pe().shape({BudgetID:M().required("Budget is required"),budgetName:M(),fiscalYearID:M(),departmentID:M(),subDepartmentID:M(),chartOfAccountsID:M(),fundID:M(),projectID:M(),allotment:ae().integer().required("Allotment is required"),remarks:M(),appropriation:ae().integer(),balance:ae().integer(),releasedAllotments:ae().integer(),releasedBalance:ae().integer(),Attachments:$t()}),wHe={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",allotment:0,charges:0,totalAmount:0,balance:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[],Status:"Requested"};function CHe({isView:t,initialData:e,onSubmit:r,onClose:n,allotmentList:s,departmentOptions:o,subDepartmentOptions:i,chartOfAccountsOptions:l,fundOptions:c,projectOptions:u,fiscalYearOptions:d}){const f=(()=>{if(e!=null&&e.ID){const{Budget:g}=e;console.log("BudgetAllotmentForm Debug - Budget Object:",g);const x=parseFloat((g==null?void 0:g.Appropriation)||0)+parseFloat((g==null?void 0:g.Supplemental)||0)+parseFloat((g==null?void 0:g.Transfer)||0)-parseFloat((g==null?void 0:g.Released)||0),v=parseFloat((g==null?void 0:g.Released)||0)-(parseFloat((g==null?void 0:g.Charges)||0)+parseFloat((g==null?void 0:g.PreEncumbrance)||0)+parseFloat((g==null?void 0:g.Encumbrance)||0));return console.log("BudgetAllotmentForm Debug - Calculated Balance:",x),console.log("BudgetAllotmentForm Debug - Calculated Released Balance:",v),{BudgetID:(g==null?void 0:g.ID)||"",budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",allotment:(e==null?void 0:e.Allotment)||(g==null?void 0:g.Allotment)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:parseFloat((g==null?void 0:g.Appropriation)||0)+parseFloat((g==null?void 0:g.Supplemental)||0)+parseFloat((g==null?void 0:g.Transfer)||0)-parseFloat((g==null?void 0:g.Released)||0),remarks:(e==null?void 0:e.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.Released)||0,releasedBalance:parseFloat((g==null?void 0:g.Released)||0)-(parseFloat((g==null?void 0:g.Charges)||0)+parseFloat((g==null?void 0:g.PreEncumbrance)||0)+parseFloat((g==null?void 0:g.Encumbrance)||0)),Attachments:(e==null?void 0:e.Attachments)||[],Status:(e==null?void 0:e.Status)||"Requested"}}return wHe})(),p=async(g,{setSubmitting:x})=>{try{const v=new FormData;g==null||g.Attachments.forEach((N,S)=>{N.ID?v.append(`Attachments[${S}].ID`,N.ID):v.append(`Attachments[${S}].File`,N)}),(g==null?void 0:g.Attachments.length)===0&&v.append("Attachments","[]");const w={BudgetID:g.BudgetID,Remarks:g.remarks,Allotment:g.allotment};Object.entries(w).forEach(([N,S])=>{v.append(N,S)}),e?(v.append("LinkID",e.LinkID),v.append("IsNew",!1)):v.append("IsNew",!0),await r(v)}catch(v){console.error("Submission error:",v)}finally{x(!1)}},h=(g,x,v)=>{const w=s==null?void 0:s.find(N=>N.ID===parseInt(g));w&&x({...v,BudgetID:w.ID,budgetName:w.Name||"",fiscalYearID:w.FiscalYearID||"",departmentID:w.DepartmentID||"",subDepartmentID:w.SubDepartmentID||"",chartOfAccountsID:w.ChartofAccountsID||"",fundID:w.FundID||"",projectID:w.ProjectID||"",appropriation:parseFloat(w.Appropriation)||0,balance:parseFloat(w.Appropriation||0)+parseFloat(w.Supplemental||0)+parseFloat(w.Transfer||0)-parseFloat(w.Released||0),charges:parseFloat(w.Charges||0),releasedAllotments:parseFloat(w.Released)||0,releasedBalance:parseFloat(w.Released||0)-(parseFloat(w.Charges||0)+parseFloat(w.PreEncumbrance||0)+parseFloat(w.Encumbrance||0))})},y=(g,x,v)=>{const N=Array.from(g.target.files).map(S=>S);x("Attachments",[...v.Attachments,...N])},b=(g,x,v)=>{const w=[...v.Attachments];w.splice(g,1),x("Attachments",w)};return a.jsx(He,{enableReinitialize:!0,initialValues:f,validationSchema:NHe,onSubmit:p,children:({values:g,errors:x,touched:v,handleChange:w,handleBlur:N,isSubmitting:S,setFieldValue:C,setValues:A})=>{var T,I;return a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"md:col-span-2 pt-4",children:a.jsx(rt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:g.BudgetID,onSelect:k=>h(k,A,g),options:s.map(k=>({label:k.Name,value:k.ID})),error:x.BudgetID,touched:v.BudgetID})}),console.log("values",g),a.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),a.jsx("input",{type:"file",multiple:!0,onChange:k=>y(k,C,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((T=g==null?void 0:g.Attachments)==null?void 0:T.length)>0?a.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((k,$)=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"h-4 w-4 text-gray-500 mr-2"}),a.jsx("span",{className:"text-xs text-gray-500 ml-2",children:a.jsx("a",{href:k!=null&&k.ID?`${jHe}/uploads/${k==null?void 0:k.DataImage}`:URL.createObjectURL(k),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(k==null?void 0:k.name)||(k==null?void 0:k.DataName)})}),a.jsx("span",{className:"text-xs text-gray-500 ml-2",children:k==null?void 0:k.type})]}),a.jsx("button",{type:"button",onClick:()=>b($,C,g),className:"text-red-500 hover:text-red-700",children:a.jsx(er,{className:"h-4 w-4"})})]},$))}):a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:((I=g==null?void 0:g.Status)==null?void 0:I.toUpperCase())||"Requested"})]}),a.jsx(D,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:w,onBlur:N,error:x.budgetName,touched:v.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:w,onBlur:N,error:x.fiscalYearID,touched:v.fiscalYearID,options:d,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:w,onBlur:N,error:x.departmentID,touched:v.departmentID,options:o,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:w,onBlur:N,error:x.subDepartmentID,touched:v.subDepartmentID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:w,onBlur:N,error:x.chartOfAccountsID,touched:v.chartOfAccountsID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:w,onBlur:N,error:x.fundID,touched:v.fundID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:w,onBlur:N,error:x.projectID,touched:v.projectID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Appropriation",name:"appropriation",type:"text",value:fe(g.appropriation),onChange:w,onBlur:N,error:x.appropriation,touched:v.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Balance",name:"balance",type:"text",value:fe(g.balance),onChange:w,onBlur:N,error:x.balance,touched:v.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Released Allotments",name:"releasedAllotments",type:"text",value:fe(g.releasedAllotments),onChange:w,onBlur:N,error:x.releasedAllotments,touched:v.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Released Balance",name:"releasedBalance",type:"text",value:fe(g.releasedBalance),onChange:w,onBlur:N,error:x.releasedBalance,touched:v.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[a.jsx(D,{label:"Allotment",name:"allotment",type:"text",value:jn(g.allotment),onChange:k=>{const $=k.target.value.replace(/[^0-9.]/g,"");C("allotment",$)},onBlur:N,error:x.allotment,touched:v.allotment,required:!0}),a.jsx(D,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:w,onBlur:N,error:x.remarks,touched:v.remarks})]}),!t&&a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:S,className:"btn btn-primary",children:e?"Update":"Save"})]})]})}})}function hd({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:o="Confirm",cancelText:i="Cancel",isDestructive:l=!1}){const c=j.useRef(null);return a.jsx(el.Root,{show:t,as:j.Fragment,children:a.jsxs(Mc,{as:"div",className:"relative z-50",initialFocus:c,onClose:e,children:[a.jsx(el.Child,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-neutral-500 bg-opacity-75 transition-opacity"})}),a.jsx("div",{className:"fixed inset-0 z-10 w-screen overflow-y-auto",children:a.jsx("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:a.jsx(el.Child,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:a.jsxs(Mc.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[a.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:a.jsxs("div",{className:"sm:flex sm:items-start",children:[a.jsx("div",{className:`mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10 ${l?"bg-red-100":"bg-primary-100"}`,children:a.jsx(sae,{className:`h-6 w-6 ${l?"text-red-600":"text-primary-600"}`,"aria-hidden":"true"})}),a.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[a.jsx(Mc.Title,{as:"h3",className:"text-base font-semibold leading-6 text-neutral-900",children:n}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-neutral-500",children:s})})]})]})}),a.jsxs("div",{className:"bg-neutral-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[a.jsx("button",{type:"button",className:`inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto ${l?"bg-red-600 hover:bg-red-500":"bg-primary-600 hover:bg-primary-500"}`,onClick:r,children:o}),a.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-neutral-900 shadow-sm ring-1 ring-inset ring-neutral-300 hover:bg-neutral-50 sm:mt-0 sm:w-auto",onClick:e,ref:c,children:i})]})]})})})})]})})}const SHe=()=>{const t=he(),{user:e}=ee(F=>F.auth),{Add:r,Edit:n,Print:s}=Se(23),{departments:o}=ee(F=>F.departments),{subdepartments:i}=ee(F=>F.subdepartments),l=ee(F=>{var J;return((J=F.chartOfAccounts)==null?void 0:J.accounts)||[]}),{fiscalYears:c}=ee(F=>F.fiscalYears),{funds:u}=ee(F=>F.funds),{projectDetails:d}=ee(F=>F.projectDetails),[m,f]=j.useState([]),[p,h]=j.useState([]),[y,b]=j.useState(!1),[g,x]=j.useState(!1),[v,w]=j.useState(null),[N,S]=j.useState(!1),[C,A]=j.useState(!1),[T,I]=j.useState({department:"",subDepartment:"",chartOfAccounts:""});j.useEffect(()=>{t(fr()),t(Vo()),t(Mr()),L(),q()},[]);const k=j.useRef(),$=qn.useReactToPrint({contentRef:k,documentTitle:"Allotment Release Order"}),L=async()=>{try{const F=await De("/budgetAllotment/list");f(F.data)}catch(F){le.error("Failed to load data"),le.error(F.message)}},q=async()=>{try{const F=await De("/budgetSupplemental/budgetList");h(F==null?void 0:F.data)}catch(F){le.error("Failed to load data"),le.error(F.message)}},E=F=>{const{name:J,value:ne}=F.target;I(ue=>({...ue,[J]:ne}))},R=()=>{I({department:"",subDepartment:"",chartOfAccounts:""})},U=T.department||T.subDepartment||T.chartOfAccounts,B=async F=>{try{(await De.post("/budgetAllotment/save",F,{headers:{"Content-Type":"multipart/form-data"}})).data?(le.success(v?"Allotment updated successfully":"New Allotment added"),L()):le.error("Failed to save Allotment")}catch(J){console.error("Error submitting Allotment:",J),le.error(J.message||"Failed to save Allotment")}finally{b(!1)}},P=F=>{w(F),b(!0)},O=F=>{w(F),b(!0),x(!0)},V=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0,className:"text-neutral-900 font-medium",render:F=>a.jsx("span",{className:"text-neutral-900 font-medium",children:F||"N/A"})},{key:"Status",header:"Status",sortable:!0,render:F=>a.jsx("span",{className:`px-2 py-1 rounded ${F==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":F==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":F==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":F==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":F==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":F==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:F})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:F=>{if(!F)return a.jsx("span",{className:"text-neutral-400",children:"N/A"});const J=new Date(F);return a.jsx("span",{className:"text-neutral-700",children:J.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",sortable:!0,className:"text-right font-semibold",render:F=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:fe(F)})},{key:"Budget",header:"Budget Name",render:(F,J)=>{var ne;return a.jsx("span",{className:"text-neutral-700",children:((ne=J.Budget)==null?void 0:ne.Name)||"N/A"})}}],_=async(F,J)=>{var ge,we,Ae,be;S(!0);const ne=J==="approve"?"approved":"rejected",ue=J==="approve"?"approving":"rejecting";try{const at=await De.post(`/budgetAllotment/${J}`,{ID:F.ID,Reason:J==="reject"?"Rejected by user":"Approved by user"});console.log(`${J}d:`,at.data),f(St=>St.map(se=>se.ID===F.ID?{...se,Status:J==="approve"?"Approved":"Rejected"}:se)),await L(),J==="reject"?le.error(`Budget Allotment ${ne} successfully`):le.success(at.data.message||`Budget Allotment ${ne} successfully`)}catch(at){console.error(`Error ${ue} Budget Allotment:`,at);const St=((we=(ge=at.response)==null?void 0:ge.data)==null?void 0:we.error)||((be=(Ae=at.response)==null?void 0:Ae.data)==null?void 0:be.message)||`Error ${ue} Budget Allotment`;le.error(St)}finally{S(!1)}},H=F=>{var ue;const J=[],ne=((ue=F.Status)==null?void 0:ue.toLowerCase())||"";return ne.includes("rejected")&&n?(J.push({icon:Br,title:"Edit",onClick:()=>P(F),className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}),J.push({icon:Kt,title:"Void",onClick:()=>Z(F),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1})):ne.includes("requested")&&J.push({icon:wn,title:"Approve",onClick:()=>_(F,"approve"),className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1},{icon:bt,title:"Reject",onClick:()=>_(F,"reject"),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}),J.push({icon:os,title:"View",onClick:()=>O(F),className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}),J},[G,re]=j.useState(!1),[ie,te]=j.useState(null),Z=F=>{te(F),re(!0)},z=async()=>{if(ie)try{const F=await De.post("/budgetAllotment/void",{ID:ie.ID});F.data?(le.success(F.data.message||"Budget Allotment Voided Successfully"),L()):le.error("Failed to delete Budget Allotment")}catch(F){console.error("Error voiding Budget Allotment:",F),le.error(F.message||"Failed to void Budget Allotment")}finally{re(!1),te(null)}},W=m==null?void 0:m.filter(F=>{const{Budget:J}=F;return(!T.department||(J==null?void 0:J.DepartmentID)==T.department)&&(!T.subDepartment||(J==null?void 0:J.SubDepartmentID)==T.subDepartment)&&(!T.chartOfAccounts||(J==null?void 0:J.ChartofAccountsID)==T.chartOfAccounts)}),X=j.useMemo(()=>{const F=(W==null?void 0:W.length)||0,J=(W==null?void 0:W.reduce((Ae,be)=>{const at=parseFloat((be==null?void 0:be.Total)||(be==null?void 0:be.Allotment)||0);return Ae+at},0))||0,ne=(W==null?void 0:W.filter(Ae=>{var be;return(be=Ae.Status)==null?void 0:be.toLowerCase().includes("requested")}).length)||0,ue=(W==null?void 0:W.filter(Ae=>{var be;return(be=Ae.Status)==null?void 0:be.toLowerCase().includes("approved")}).length)||0,ge=(W==null?void 0:W.filter(Ae=>{var be;return(be=Ae.Status)==null?void 0:be.toLowerCase().includes("posted")}).length)||0,we=(W==null?void 0:W.filter(Ae=>{var be;return(be=Ae.Status)==null?void 0:be.toLowerCase().includes("rejected")}).length)||0;return{total:F,totalAmount:J,requested:ne,approved:ue,posted:ge,rejected:we}},[W]);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Budget Allotment"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Release budget allotments for departments and projects."})]})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>A(!C),className:`btn btn-outline flex items-center gap-2 transition-all ${C||U?"bg-primary-50 border-primary-300 text-primary-700 shadow-sm":"hover:bg-neutral-50"}`,children:[a.jsx(is,{className:"h-4 w-4"}),"Filters",U&&a.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs font-semibold bg-primary-600 text-white rounded-full",children:[T.department,T.subDepartment,T.chartOfAccounts].filter(Boolean).length})]}),r&&a.jsxs("button",{onClick:()=>P(null),className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(R4e,{className:"h-5 w-5"}),"Add Allotment"]}),s&&v&&a.jsxs("button",{onClick:$,className:"btn btn-outline flex items-center gap-2",children:[a.jsx(uu,{className:"h-5 w-5"}),"Print"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Allotments"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:X.total})]}),a.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-blue-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Amount"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:fe(X.totalAmount)})]}),a.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:a.jsx(Qs,{className:"h-6 w-6 text-green-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-1",children:"Requested"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:X.requested})]}),a.jsx("div",{className:"p-3 bg-yellow-200 rounded-lg",children:a.jsx(La,{className:"h-6 w-6 text-yellow-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border border-emerald-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-1",children:"Posted"}),a.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:X.posted})]}),a.jsx("div",{className:"p-3 bg-emerald-200 rounded-lg",children:a.jsx(Ep,{className:"h-6 w-6 text-emerald-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 border border-red-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-700 mb-1",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-900",children:X.rejected})]}),a.jsx("div",{className:"p-3 bg-red-200 rounded-lg",children:a.jsx(bt,{className:"h-6 w-6 text-red-700"})})]})})]}),(C||U)&&a.jsxs("div",{className:"bg-white border border-neutral-200 rounded-xl shadow-md p-5 mb-6 transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(is,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-base font-semibold text-neutral-800",children:"Filter Options"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[U&&a.jsxs("button",{onClick:R,className:"text-xs font-medium text-neutral-600 hover:text-neutral-900 flex items-center gap-1.5 px-3 py-1.5 rounded-lg hover:bg-neutral-100 transition-colors border border-neutral-200",children:[a.jsx(bt,{className:"h-3.5 w-3.5"}),"Clear All"]}),a.jsx("button",{onClick:()=>A(!1),className:"p-1.5 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors",title:"Close filters",children:a.jsx(bt,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Department"}),a.jsxs("select",{name:"department",value:T.department,onChange:E,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Departments"}),o==null?void 0:o.map(F=>a.jsx("option",{value:F.ID,children:F.Name},F.ID))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Sub Department"}),a.jsxs("select",{name:"subDepartment",value:T.subDepartment,onChange:E,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Sub Departments"}),i==null?void 0:i.map(F=>a.jsx("option",{value:F.ID,children:F.Name},F.ID))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Chart of Accounts"}),a.jsxs("select",{name:"chartOfAccounts",value:T.chartOfAccounts,onChange:E,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Accounts"}),l==null?void 0:l.map(F=>a.jsx("option",{value:F.ID,children:F.Name},F.ID))]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Allotment Entries",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(W==null?void 0:W.length)||0," ",(W==null?void 0:W.length)===1?"entry":"entries",")"]})]})}),a.jsx(je,{columns:V,data:W,actions:H,loading:N,onRowClick:F=>{w(F)},selectedRow:v,pagination:!0})]}),a.jsx(me,{size:"md",isOpen:y,onClose:()=>{b(!1),w(null),x(!1)},title:g?"View Allotment":v?"Edit Allotment":"Add Allotment",children:a.jsx(CHe,{isView:g,allotmentList:p,departmentOptions:o.map(F=>({value:F.ID,label:F.Name})),subDepartmentOptions:i.map(F=>({value:F.ID,label:F.Name})),chartOfAccountsOptions:l.map(F=>({value:F.ID,label:F.Name})),fundOptions:u.map(F=>({value:F.ID,label:F.Name})),projectOptions:d.map(F=>({value:F.ID,label:F.Title})),fiscalYearOptions:c.map(F=>({value:F.ID,label:F.Name})),onSubmit:B,initialData:v,onClose:()=>b(!1)})}),a.jsx("div",{style:{display:"none"},children:a.jsx(AHe,{ref:k,row:v})}),a.jsx(hd,{isOpen:G,onClose:()=>re(!1),onConfirm:z,title:"Void Allotment",message:"Are you sure you want to void this allotment? This action cannot be undone.",isDestructive:!0,confirmText:"Void"})]})},AHe=Q.forwardRef(({row:t},e)=>{if(!t)return null;const r=t.Budget||{};return a.jsxs("div",{ref:e,className:"p-8 bg-white",children:[a.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:"MUNICIPALITY OF DUEAS"}),a.jsx("h3",{className:"text-center mb-2",children:"ALLOTMENT RELEASE ORDER FOR MAINTENANCE AND OTHER OPERATING EXPENSES"}),a.jsx("table",{className:"w-full mb-4 text-sm border",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"font-semibold",children:"Department/Office:"}),a.jsx("td",{children:"Budget"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"font-semibold",children:"Purpose:"}),a.jsx("td",{children:r.Purpose||"Representation Expenses"})]})]})}),a.jsxs("table",{className:"w-full mb-4 text-xs border",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"border px-2",children:"PPA Code"}),a.jsx("th",{className:"border px-2",children:"PPA Description"}),a.jsx("th",{className:"border px-2",children:"Object Class Code"}),a.jsx("th",{className:"border px-2",children:"Authorized Appropriation"}),a.jsx("th",{className:"border px-2",children:"For Later Release"}),a.jsx("th",{className:"border px-2",children:"Previously Released"}),a.jsx("th",{className:"border px-2",children:"This Release"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("td",{className:"border px-2",children:r.PPACode||"12345-ABC"}),a.jsx("td",{className:"border px-2",children:r.Description||"Representation Expenses"}),a.jsx("td",{className:"border px-2",children:r.ObjectClassCode||"50299030"}),a.jsx("td",{className:"border px-2",children:r.AuthorizedAppropriation||"200,000.00"}),a.jsx("td",{className:"border px-2",children:r.ForLaterRelease||"168,000.00"}),a.jsx("td",{className:"border px-2",children:r.PreviouslyReleasedAmount||"0.00"}),a.jsx("td",{className:"border px-2",children:r.ThisRelease||"81,000.00"})]})})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-semibold",children:"TOTAL (in words): "}),r.TotalInWords||"eighty-one thousand pesos"]}),a.jsx("div",{className:"border-t mt-6 pt-2 text-xs",children:a.jsx("p",{children:"The allotments herein released shall be used solely for the purpose indicated and disbursements thereto shall be made in accordance with accounting and auditing rules and regulations. It is the primary responsibility of the head of the Department/Office or Unit concerned to keep expenditures within the limits of the amount allotted."})}),a.jsxs("div",{className:"flex justify-between items-center mt-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 font-bold",children:"Budget S. Head"}),a.jsx("div",{className:"text-xs",children:"Budget Head"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 font-bold",children:"Juan S. Dela Cruz"}),a.jsx("div",{className:"text-xs",children:"Mayor"})]})]})]})}),ng="http://192.168.1.215:5001",_4=t=>({IsNew:!(t!=null&&t.ID),ID:(t==null?void 0:t.ID)||"",Name:t.Name,FiscalYearID:Number(t.FiscalYearID),DepartmentID:Number(t.DepartmentID),SubDepartmentID:Number(t.SubDepartmentID),ChartOfAccountsID:Number(t.ChartofAccountsID),FundID:Number(t.FundID),ProjectID:Number(t.ProjectID),Appropriation:Number(t.Appropriation),Charges:Number(t.Charges),January:Number(t.January),February:Number(t.February),March:Number(t.March),April:Number(t.April),May:Number(t.May),June:Number(t.June),July:Number(t.July),August:Number(t.August),September:Number(t.September),October:Number(t.October),November:Number(t.November),December:Number(t.December)}),IHe=()=>{var H,G,re,ie,te,Z;const t=he(),{departments:e}=ee(z=>z.departments),{subdepartments:r}=ee(z=>z.subdepartments),n=ee(z=>{var W;return((W=z.chartOfAccounts)==null?void 0:W.accounts)||[]}),{fiscalYears:s}=ee(z=>z.fiscalYears),{funds:o}=ee(z=>z.funds),{projectDetails:i}=ee(z=>z.projectDetails),[l,c]=j.useState([]),[u,d]=j.useState(!1),[m,f]=j.useState(null),[p,h]=j.useState(!1),[y,b]=j.useState(null),[g,x]=j.useState(!1),[v,w]=j.useState(!1),[N,S]=j.useState({department:"",subDepartment:"",chartOfAccounts:""}),{Add:C,Edit:A,Delete:T}=Se(22);j.useEffect(()=>{t(fr()),t(Vo()),t(Mr()),t(ln()),t(rr()),t(ns()),I()},[]);const I=async()=>{try{const W=await(await fetch(`${ng}/budget`)).json();W!=null&&W.status?c((W==null?void 0:W.items)||[]):le.error("Failed to fetch budget details")}catch(z){le.error(z.message)}},k=z=>{const{name:W,value:X}=z.target;S(F=>({...F,[W]:X}))},$=()=>{S({department:"",subDepartment:"",chartOfAccounts:""})},L=N.department||N.subDepartment||N.chartOfAccounts,q=z=>{m?R(z):E(z)},E=async z=>{try{await(await fetch(`${ng}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(_4(z))})).json()&&(I(),d(!1),le.success("Budget added successfully"))}catch(W){le.error(W.message)}},R=async z=>{try{await(await fetch(`${ng}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(_4(z))})).json()&&(I(),d(!1),le.success("Budget updated successfully"))}catch(W){le.error(W.message)}},U=z=>{b(z),h(!0)},B=async()=>{if(y)try{await(await fetch(`${ng}/budget/${y.ID}`,{method:"DELETE"})).json()&&(I(),le.success("Budget deleted"))}catch(z){le.error(z.message)}finally{h(!1),b(null)}},P=[{key:"Name",header:"Budget Name",className:"text-neutral-900 font-medium",render:z=>a.jsx("span",{className:"text-neutral-900 font-medium",children:z||"N/A"})},{key:"FiscalYearID",header:"Fiscal Year",render:(z,W)=>{var F;const X=(F=W==null?void 0:W.FiscalYear)==null?void 0:F.Name;return X?a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:X}):a.jsx("span",{className:"text-neutral-400",children:"N/A"})}},{key:"DepartmentID",header:"Department",render:(z,W)=>{var F;const X=(F=W==null?void 0:W.Department)==null?void 0:F.Name;return X?a.jsx("span",{className:"text-neutral-700",children:X}):a.jsx("span",{className:"text-neutral-400",children:"N/A"})}},{key:"SubDepartmentID",header:"Sub Department",render:(z,W)=>{var F;const X=(F=W==null?void 0:W.SubDepartment)==null?void 0:F.Name;return X?a.jsx("span",{className:"text-neutral-700",children:X}):a.jsx("span",{className:"text-neutral-400",children:"N/A"})}},{key:"ChartofAccountsID",header:"Chart of Accounts",render:(z,W)=>{var F;const X=(F=W==null?void 0:W.ChartofAccounts)==null?void 0:F.Name;return X?a.jsx("span",{className:"text-neutral-700",children:X}):a.jsx("span",{className:"text-neutral-400",children:"N/A"})}},{key:"FundID",header:"Fund",render:(z,W)=>{var F;const X=(F=W==null?void 0:W.Funds)==null?void 0:F.Name;return X?a.jsx("span",{className:"text-neutral-700",children:X}):a.jsx("span",{className:"text-neutral-400",children:"N/A"})}},{key:"ProjectID",header:"Project",render:(z,W)=>{var F;const X=(F=W==null?void 0:W.Project)==null?void 0:F.Title;return X?a.jsx("span",{className:"text-neutral-700",children:X}):a.jsx("span",{className:"text-neutral-400",children:"N/A"})}}],O=[{icon:Br,title:A?"Edit Budget":"Edit (No Permission)",onClick:A?z=>{f(z),d(!0)}:()=>{le.error("You do not have permission to edit")},className:A?"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow":"text-neutral-400 cursor-not-allowed p-2 rounded-lg opacity-50",disabled:!A},{icon:Kt,title:T?"Delete Budget":"Delete (No Permission)",onClick:T?z=>U(z):()=>{le.error("You do not have permission to delete")},className:T?"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow":"text-neutral-400 cursor-not-allowed p-2 rounded-lg opacity-50",disabled:!T}].filter(Boolean),V=l.filter(z=>{var W,X,F;return(!N.department||((W=z.Department)==null?void 0:W.ID)==N.department)&&(!N.subDepartment||((X=z.SubDepartment)==null?void 0:X.ID)==N.subDepartment)&&(!N.chartOfAccounts||((F=z.ChartofAccounts)==null?void 0:F.ID)==N.chartOfAccounts)}),_=j.useMemo(()=>{const z=V.length,W=V.reduce((J,ne)=>J+(Number(ne.Appropriation)||0),0),X=V.reduce((J,ne)=>J+(Number(ne.ChargedAllotment)||0),0),F=V.reduce((J,ne)=>J+((Number(ne.Released)||0)-(Number(ne.Charges)||0)),0);return{total:z,totalAppropriation:W,totalCharges:X,totalBalance:F}},[V]);return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Budget Appropriations"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"View and manage detailed budget entries"})]})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>w(!v),className:`btn btn-outline flex items-center gap-2 transition-all ${v||L?"bg-primary-50 border-primary-300 text-primary-700 shadow-sm":"hover:bg-neutral-50"}`,children:[a.jsx(is,{className:"h-4 w-4"}),"Filters",L&&a.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs font-semibold bg-primary-600 text-white rounded-full",children:[N.department,N.subDepartment,N.chartOfAccounts].filter(Boolean).length})]}),C&&a.jsxs("button",{onClick:()=>{f(null),d(!0)},className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Budget"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Entries"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:_.total})]}),a.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-blue-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Appropriation"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:fe(_.totalAppropriation)})]}),a.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:a.jsx(Qs,{className:"h-6 w-6 text-green-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-orange-700 mb-1",children:"Total Charges"}),a.jsx("p",{className:"text-2xl font-bold text-orange-900",children:fe(_.totalCharges)})]}),a.jsx("div",{className:"p-3 bg-orange-200 rounded-lg",children:a.jsx(TV,{className:"h-6 w-6 text-orange-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Total Balance"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:fe(_.totalBalance)})]}),a.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:a.jsx(La,{className:"h-6 w-6 text-purple-700"})})]})})]}),(v||L)&&a.jsxs("div",{className:"bg-white border border-neutral-200 rounded-xl shadow-md p-5 mb-6 transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(is,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-base font-semibold text-neutral-800",children:"Filter Options"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[L&&a.jsxs("button",{onClick:$,className:"text-xs font-medium text-neutral-600 hover:text-neutral-900 flex items-center gap-1.5 px-3 py-1.5 rounded-lg hover:bg-neutral-100 transition-colors border border-neutral-200",children:[a.jsx(bt,{className:"h-3.5 w-3.5"}),"Clear All"]}),a.jsx("button",{onClick:()=>w(!1),className:"p-1.5 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors",title:"Close filters",children:a.jsx(bt,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Department"}),a.jsxs("select",{name:"department",value:N.department,onChange:k,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Departments"}),e==null?void 0:e.map(z=>a.jsx("option",{value:z.ID,children:z.Name},z.ID))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Sub Department"}),a.jsxs("select",{name:"subDepartment",value:N.subDepartment,onChange:k,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Sub Departments"}),r==null?void 0:r.map(z=>a.jsx("option",{value:z.ID,children:z.Name},z.ID))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Chart of Accounts"}),a.jsxs("select",{name:"chartOfAccounts",value:N.chartOfAccounts,onChange:k,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Accounts"}),n==null?void 0:n.map(z=>a.jsx("option",{value:z.ID,children:z.Name},z.ID))]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Budget Entries",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",V.length," ",V.length===1?"entry":"entries",")"]})]})}),a.jsx(je,{columns:P,data:V,actions:O,pagination:!0,onRowClick:z=>{f(z),x(!0)},selectedRow:m})]}),a.jsx(me,{size:"lg",isOpen:u,onClose:()=>d(!1),title:m?"Edit Budget":"Add Budget",children:a.jsx(KG,{departmentOptions:e.map(z=>({value:z.ID,label:z.Name})),subDepartmentOptions:r.map(z=>({value:z.ID,label:z.Name})),chartOfAccountsOptions:n.map(z=>({value:z.ID,label:z.Name})),fundOptions:o.map(z=>({value:z.ID,label:z.Name})),projectOptions:i.map(z=>({value:z.ID,label:z.Title})),fiscalYearOptions:s.map(z=>({value:z.ID,label:z.Name})),onSubmit:q,initialData:m,onClose:()=>d(!1)})}),a.jsx(hd,{isOpen:p,onClose:()=>h(!1),onConfirm:B,title:"Delete Budget",message:`Are you sure you want to delete the budget "${y==null?void 0:y.Name}"? This action cannot be undone.`,isDestructive:!0,confirmText:"Delete"}),a.jsx(me,{size:"xxxl",isOpen:g,onClose:()=>x(!1),title:"Budget Details",children:m&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Budget Name"}),a.jsx("p",{className:"text-base font-semibold text-neutral-900",children:m.Name||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Fiscal Year"}),a.jsx("p",{className:"text-base text-neutral-900",children:((H=m.FiscalYear)==null?void 0:H.Name)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Department"}),a.jsx("p",{className:"text-base text-neutral-900",children:((G=m.Department)==null?void 0:G.Name)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Sub Department"}),a.jsx("p",{className:"text-base text-neutral-900",children:((re=m.SubDepartment)==null?void 0:re.Name)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Chart of Accounts"}),a.jsx("p",{className:"text-base text-neutral-900",children:((ie=m.ChartofAccounts)==null?void 0:ie.Name)||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Fund"}),a.jsx("p",{className:"text-base text-neutral-900",children:((te=m.Funds)==null?void 0:te.Name)||"N/A"})]}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Project"}),a.jsx("p",{className:"text-base text-neutral-900",children:((Z=m.Project)==null?void 0:Z.Title)||"N/A"})]})]}),a.jsx("hr",{className:"border-neutral-200"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Financial Summary"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"Appropriation"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:fe(m.Appropriation)})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-1",children:"Total Allotted"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:fe(m.Released)})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-medium text-orange-700 mb-1",children:"Charges"}),a.jsx("p",{className:"text-2xl font-bold text-orange-900",children:fe(m.Charges)})]}),a.jsxs("div",{className:`border rounded-lg p-4 ${Number(m.AppropriationBalance)>=0?"bg-emerald-50 border-emerald-200":"bg-red-50 border-red-200"}`,children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${Number(m.AppropriationBalance)>=0?"text-emerald-700":"text-red-700"}`,children:"Appropriation Balance"}),a.jsx("p",{className:`text-2xl font-bold ${Number(m.Appropriation)+Number(m.Supplemental||0)+Number(m.Transfer||0)-Number(m.Released)>=0?"text-emerald-900":"text-red-900"}`,children:fe(Number(m.Appropriation)+Number(m.Supplemental||0)+Number(m.Transfer||0)-Number(m.Released))})]}),a.jsxs("div",{className:`border rounded-lg p-4 ${Number(m.Released)-Number(m.Charges)>=0?"bg-emerald-50 border-emerald-200":"bg-red-50 border-red-200"}`,children:[a.jsx("label",{className:`block text-sm font-medium mb-1 ${Number(m.Released)-Number(m.Charges)>=0?"text-emerald-700":"text-red-700"}`,children:"Allotment Balance"}),a.jsx("p",{className:`text-2xl font-bold ${Number(m.Released)-Number(m.Charges)>=0?"text-emerald-900":"text-red-900"}`,children:fe(Number(m.Released)-Number(m.Charges))})]}),a.jsxs("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Pre Encumbrance"}),a.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:fe(m.PreEncumbrance)})]}),a.jsxs("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-4",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Encumbrance"}),a.jsx("p",{className:"text-2xl font-bold text-neutral-900",children:fe(m.Encumbrance)})]})]})]}),a.jsx("hr",{className:"border-neutral-200"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-4",children:"Monthly Breakdown"}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(z=>a.jsxs("div",{className:"bg-neutral-50 border border-neutral-200 rounded-lg p-3",children:[a.jsx("label",{className:"block text-xs font-medium text-neutral-600 mb-1",children:z}),a.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:fe(m[z])})]},z))})]})]})})]})},THe=()=>{const t=he(),{departments:e,isLoading:r}=ee(I=>I.departments),{subdepartments:n,isLoading:s}=ee(I=>I.subdepartments),o=ee(I=>{var k;return((k=I.chartOfAccounts)==null?void 0:k.accounts)||[]}),[i,l]=j.useState([]),[c,u]=j.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,m]=j.useState(!1),[f,p]=j.useState(null),[h,y]=j.useState(!0),[b,g]=j.useState(!1),x=()=>{u({department:"",subDepartment:"",chartOfAccounts:""})},v=c.department||c.subDepartment||c.chartOfAccounts;j.useEffect(()=>{t(fr()),t(Vo()),t(Mr()),w()},[]);const w=async()=>{try{y(!0);const I=await De("/budgetSummary");l(I.data||[])}catch(I){console.error("Error fetching budget summaries:",I)}finally{y(!1)}},N=I=>{const{name:k,value:$}=I.target;u(L=>({...L,[k]:$}))},S=j.useMemo(()=>i.filter(I=>{var k,$;return(!c.department||((k=I.Department)==null?void 0:k.Name)===c.department)&&(!c.subDepartment||(($=I.SubDepartment)==null?void 0:$.Name)===c.subDepartment)&&(!c.chartOfAccounts||I.ChartOfAccounts===c.chartOfAccounts)}),[i,c]),C=j.useMemo(()=>S.reduce((k,$)=>{const L=Number($.Appropriation)||0,q=Number($.TotalAmount)||0,E=Number($.Supplemental)||0,R=Number($.Transfer)||0,U=Number($.Released)||0,B=Number($.Charges)||0;return Number($.PreEncumbrance),Number($.Encumbrance),{totalAppropriation:k.totalAppropriation+L,totalAppropriationBalance:k.totalAppropriationBalance+(L+E+R-U),totalAmount:k.totalAmount+q,totalAllotmentBalance:k.totalAllotmentBalance+(U-B),totalCharges:k.totalCharges+B,count:k.count+1}},{totalAppropriation:0,totalAppropriationBalance:0,totalAmount:0,totalAllotmentBalance:0,totalCharges:0,count:0}),[S]),A=[{key:"Name",header:"Budget Name",sortable:!0,render:I=>a.jsx("span",{className:"font-medium text-neutral-900",children:I||""})},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0,render:(I,k)=>{var $;return a.jsx("span",{className:"text-neutral-700",children:(($=k==null?void 0:k.FiscalYear)==null?void 0:$.Name)||""})}},{key:"DepartmentID",header:"Department",sortable:!0,render:(I,k)=>{var $;return a.jsx("span",{className:"text-neutral-700",children:(($=k==null?void 0:k.Department)==null?void 0:$.Name)||""})}},{key:"SubDepartmentID",header:"Sub Department",sortable:!0,render:(I,k)=>{var $;return a.jsx("span",{className:"text-neutral-600",children:(($=k==null?void 0:k.SubDepartment)==null?void 0:$.Name)||""})}},{key:"ChartofAccountsID",header:"Chart of Accounts",sortable:!0,render:(I,k)=>{var $;return a.jsx("span",{className:"text-neutral-700",children:(($=k==null?void 0:k.ChartofAccounts)==null?void 0:$.Name)||""})}},{key:"FundsID",header:"Fund",sortable:!0,render:(I,k)=>{var $;return a.jsx("span",{className:"text-neutral-700",children:(($=k==null?void 0:k.Funds)==null?void 0:$.Name)||""})}},{key:"ProjectID",header:"Project",sortable:!0,render:(I,k)=>{var $;return a.jsx("span",{className:"text-neutral-600",children:(($=k==null?void 0:k.Project)==null?void 0:$.Title)||""})}}],T=I=>{p(I),m(!0)};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Budget Summary"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Review and analyze budget performance across departments, months, and categories"})]})]})}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("button",{onClick:()=>g(!b),className:`btn btn-outline flex items-center gap-2 transition-all ${b||v?"bg-primary-50 border-primary-300 text-primary-700 shadow-sm":"hover:bg-neutral-50"}`,children:[a.jsx(is,{className:"h-4 w-4"}),"Filters",v&&a.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs font-semibold bg-primary-600 text-white rounded-full",children:[c.department,c.subDepartment,c.chartOfAccounts].filter(Boolean).length})]})})]}),!h&&S.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Appropriation"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:fe(C.totalAppropriation)})]}),a.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:a.jsx(Qs,{className:"h-6 w-6 text-green-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Amount"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:fe(C.totalAmount)})]}),a.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:a.jsx(Lae,{className:"h-6 w-6 text-blue-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-orange-700 mb-1",children:"Total Charges"}),a.jsx("p",{className:"text-2xl font-bold text-orange-900",children:fe(C.totalCharges)})]}),a.jsx("div",{className:"p-3 bg-orange-200 rounded-lg",children:a.jsx(TV,{className:"h-6 w-6 text-orange-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Total Records"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:C.count})]}),a.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-purple-700"})})]})})]}),(b||v)&&a.jsxs("div",{className:"bg-white border border-neutral-200 rounded-xl shadow-md p-5 mb-6 transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(is,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-base font-semibold text-neutral-800",children:"Filter Options"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[v&&a.jsxs("button",{onClick:x,className:"text-xs font-medium text-neutral-600 hover:text-neutral-900 flex items-center gap-1.5 px-3 py-1.5 rounded-lg hover:bg-neutral-100 transition-colors border border-neutral-200",children:[a.jsx(bt,{className:"h-3.5 w-3.5"}),"Clear All"]}),a.jsx("button",{onClick:()=>g(!1),className:"p-1.5 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors",title:"Close filters",children:a.jsx(bt,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Department"}),a.jsxs("select",{name:"department",value:c.department,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Departments"}),e==null?void 0:e.map(I=>a.jsx("option",{value:I.Name,children:I.Name},I.ID))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Sub Department"}),a.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Sub Departments"}),n==null?void 0:n.map(I=>a.jsx("option",{value:I.Name,children:I.Name},I.ID))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Chart of Accounts"}),a.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:N,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Accounts"}),o==null?void 0:o.map(I=>a.jsx("option",{value:I.Name,children:I.Name},I.ID))]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Budget Summary Entries",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",S.length," ",S.length===1?"entry":"entries",")"]})]})}),a.jsx(je,{columns:A,data:S,loading:h||r||s,pagination:!0,onRowClick:T})]}),a.jsx(me,{isOpen:d,onClose:()=>m(!1),title:"Budget Summary Details",size:"xxxl",children:a.jsx(PHe,{data:f})})]})},PHe=({data:t})=>{var r,n,s,o,i,l;if(!t)return null;const e=c=>c||"";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 border border-neutral-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 mb-4 flex items-center gap-2",children:[a.jsx(ir,{className:"h-5 w-5 text-primary-600"}),"Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Budget Name"}),a.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:e(t.Name)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Fiscal Year"}),a.jsx("p",{className:"text-sm font-medium text-neutral-700",children:e((r=t.FiscalYear)==null?void 0:r.Name)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Department"}),a.jsx("p",{className:"text-sm font-medium text-neutral-700",children:e((n=t.Department)==null?void 0:n.Name)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Sub Department"}),a.jsx("p",{className:"text-sm font-medium text-neutral-700",children:e((s=t.SubDepartment)==null?void 0:s.Name)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Chart of Accounts"}),a.jsx("p",{className:"text-sm font-medium text-neutral-700",children:e((o=t.ChartofAccounts)==null?void 0:o.Name)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Fund"}),a.jsx("p",{className:"text-sm font-medium text-neutral-700",children:e((i=t.Funds)==null?void 0:i.Name)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Project"}),a.jsx("p",{className:"text-sm font-medium text-neutral-700",children:e((l=t.Project)==null?void 0:l.Title)})]})]})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 border border-neutral-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 mb-4 flex items-center gap-2",children:[a.jsx(Qs,{className:"h-5 w-5 text-primary-600"}),"Financial Summary"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Appropriation (Original)"}),a.jsx("p",{className:"text-lg font-bold text-green-700",children:fe(t.Appropriation)})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Appropriation Balance"}),a.jsx("p",{className:`text-lg font-bold ${Number(t.AppropriationBalance)>=0?"text-green-700":"text-red-600"}`,children:fe(Number(t.Appropriation)+Number(t.Supplemental)+Number(t.Transfer)-Number(t.Released))})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Appropriation (Adjusted)"}),a.jsx("p",{className:"text-lg font-bold text-blue-700",children:fe(Number(t.Appropriation)+Number(t.Supplemental)+Number(t.Transfer))})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Adjustments"}),a.jsx("p",{className:"text-lg font-semibold text-neutral-700",children:fe(Number(t.Supplemental)+Number(t.Transfer))})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Total Allotment"}),a.jsx("p",{className:"text-lg font-bold text-orange-700",children:fe(t.Released)})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Allotment Balance"}),a.jsx("p",{className:`text-lg font-bold ${Number(t.Released)-Number(t.Charges)>=0?"text-green-700":"text-red-600"}`,children:fe(Number(t.Released)-Number(t.Charges))})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Pre Encumbrance"}),a.jsx("p",{className:"text-lg font-semibold text-neutral-700",children:fe(t.PreEncumbrance)})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Encumbrance"}),a.jsx("p",{className:"text-lg font-semibold text-neutral-700",children:fe(t.Encumbrance)})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wide mb-1",children:"Charges"}),a.jsx("p",{className:"text-lg font-bold text-orange-700",children:fe(t.Charges)})]})]})]}),a.jsxs("div",{className:"bg-neutral-50 rounded-lg p-6 border border-neutral-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 mb-4 flex items-center gap-2",children:[a.jsx(La,{className:"h-5 w-5 text-primary-600"}),"Monthly Distribution"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(c=>a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-neutral-200",children:[a.jsx("p",{className:"text-xs font-medium text-neutral-500 mb-1",children:c.slice(0,3)}),a.jsx("p",{className:"text-sm font-semibold text-neutral-900",children:fe(t[c])})]},c))}),a.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-300 bg-white p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-neutral-700",children:"Total Amount"}),a.jsx("p",{className:"text-xl font-bold text-blue-700",children:fe(t.TotalAmount)})]})})]})]})},kHe="http://192.168.1.215:5001",EHe=pe().shape({BudgetID:M().required("Budget is required"),budgetName:M(),fiscalYearID:M(),departmentID:M(),subDepartmentID:M(),chartOfAccountsID:M(),fundID:M(),projectID:M(),supplemental:ae().integer().required("Supplemental is required"),remarks:M(),appropriation:ae().integer(),balance:ae().integer(),releasedAllotments:ae().integer(),releasedBalance:ae().integer(),Attachments:$t()}),DHe={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function OHe({initialData:t,onSubmit:e,onClose:r,budgetList:n,departmentOptions:s,subDepartmentOptions:o,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u,readOnly:d=!1}){const f=(()=>{if(t!=null&&t.ID){const{Budget:g}=t;return{BudgetID:(g==null?void 0:g.ID)||"",budgetName:(g==null?void 0:g.Name)||"",fiscalYearID:(g==null?void 0:g.FiscalYearID)||"",departmentID:(g==null?void 0:g.DepartmentID)||"",subDepartmentID:(g==null?void 0:g.SubDepartmentID)||"",chartOfAccountsID:(g==null?void 0:g.ChartofAccountsID)||"",fundID:(g==null?void 0:g.FundID)||"",projectID:(g==null?void 0:g.ProjectID)||"",supplemental:(t==null?void 0:t.Supplemental)||(g==null?void 0:g.Supplemental)||0,charges:(g==null?void 0:g.Charges)||0,totalAmount:(g==null?void 0:g.TotalAmount)||0,balance:(g==null?void 0:g.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(g==null?void 0:g.Appropriation)||0,releasedAllotments:(g==null?void 0:g.ReleasedAllotments)||0,releasedBalance:(g==null?void 0:g.ReleasedBalance)||0,Attachments:(t==null?void 0:t.Attachments)||[]}}return DHe})(),p=async(g,{setSubmitting:x})=>{try{const v=new FormData;g==null||g.Attachments.forEach((N,S)=>{N.ID?v.append(`Attachments[${S}].ID`,N.ID):v.append(`Attachments[${S}].File`,N)}),(g==null?void 0:g.Attachments.length)===0&&v.append("Attachments","[]"),console.log({values:g});const w={BudgetID:g.BudgetID,Remarks:g.remarks,Supplemental:g.supplemental};Object.entries(w).forEach(([N,S])=>{v.append(N,S)}),t?(v.append("LinkID",t.LinkID),v.append("IsNew",!1)):v.append("IsNew",!0),await e(v)}catch(v){console.error("Submission error:",v)}finally{x(!1)}},h=(g,x,v)=>{const w=n==null?void 0:n.find(N=>N.ID===parseInt(g));w&&x({...v,BudgetID:w.ID,budgetName:w.Name||"",fiscalYearID:w.FiscalYearID||"",departmentID:w.DepartmentID||"",subDepartmentID:w.SubDepartmentID||"",chartOfAccountsID:w.ChartofAccountsID||"",fundID:w.FundID||"",projectID:w.ProjectID||"",appropriation:parseFloat(w.Appropriation)||0,balance:parseFloat(w.AppropriationBalance)||0,charges:parseFloat(w.Charges||0),releasedAllotments:parseFloat(w.TotalAmount||0),releasedBalance:parseFloat(w.AllotmentBalance||0)})},y=(g,x,v)=>{const N=Array.from(g.target.files).map(S=>S);x("Attachments",[...v.Attachments,...N])},b=(g,x,v)=>{const w=[...v.Attachments];w.splice(g,1),x("Attachments",w)};return a.jsx(He,{enableReinitialize:!0,initialValues:f,validationSchema:EHe,onSubmit:p,children:({values:g,errors:x,touched:v,handleChange:w,handleBlur:N,isSubmitting:S,setFieldValue:C,setValues:A})=>{var T;return a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"md:col-span-2  pt-4",children:a.jsx(rt,{label:"Select Budget",name:"BudgetID",type:"select",required:!d,selectedValue:g.BudgetID,onSelect:I=>h(I,A,g),options:n.map(I=>({label:I.Name,value:I.ID})),error:x.BudgetID,touched:v.BudgetID,disabled:d})}),a.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),!d&&a.jsx("input",{type:"file",multiple:!0,onChange:I=>y(I,C,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((T=g==null?void 0:g.Attachments)==null?void 0:T.length)>0?a.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((I,k)=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vs,{className:"h-4 w-4 text-gray-500 mr-2"}),a.jsx("span",{className:"text-xs text-gray-500 ml-2",children:a.jsx("a",{href:I!=null&&I.ID?`${kHe}/uploads/${I==null?void 0:I.DataImage}`:URL.createObjectURL(I),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(I==null?void 0:I.name)||(I==null?void 0:I.DataName)})}),a.jsx("span",{className:"text-xs text-gray-500 ml-2",children:I==null?void 0:I.type})]}),!d&&a.jsx("button",{type:"button",onClick:()=>b(k,C,g),className:"text-red-500 hover:text-red-700",children:a.jsx(er,{className:"h-4 w-4"})})]},k))}):a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),a.jsx(D,{label:"Budget Name",name:"budgetName",type:"text",value:g.budgetName,onChange:w,onBlur:N,error:x.budgetName,touched:v.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:g.fiscalYearID,onChange:w,onBlur:N,error:x.fiscalYearID,touched:v.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Department",name:"departmentID",type:"select",value:g.departmentID,onChange:w,onBlur:N,error:x.departmentID,touched:v.departmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:g.subDepartmentID,onChange:w,onBlur:N,error:x.subDepartmentID,touched:v.subDepartmentID,options:o,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:g.chartOfAccountsID,onChange:w,onBlur:N,error:x.chartOfAccountsID,touched:v.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Fund",name:"fundID",type:"select",value:g.fundID,onChange:w,onBlur:N,error:x.fundID,touched:v.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Project",name:"projectID",type:"select",value:g.projectID,onChange:w,onBlur:N,error:x.projectID,touched:v.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Appropriation",name:"appropriation",type:"text",value:fe(g.appropriation),onChange:w,onBlur:N,error:x.appropriation,touched:v.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Balance",name:"balance",type:"text",value:fe(g.balance),onChange:w,onBlur:N,error:x.balance,touched:v.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Released Allotments",name:"releasedAllotments",type:"text",value:fe(g.releasedAllotments),onChange:w,onBlur:N,error:x.releasedAllotments,touched:v.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),a.jsx(D,{label:"Released Balance",name:"releasedBalance",type:"text",value:fe(g.releasedBalance),onChange:w,onBlur:N,error:x.releasedBalance,touched:v.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[a.jsx(D,{label:"Supplemental",name:"supplemental",type:"text",value:jn(g.supplemental),onChange:I=>{const k=I.target.value.replace(/[^0-9.]/g,"");C("supplemental",k)},onBlur:N,error:x.supplemental,touched:v.supplemental,required:!d,disabled:d,className:d?"bg-gray-100":"",readOnly:d}),a.jsx(D,{label:"Remarks",name:"remarks",type:"textarea",value:g.remarks,onChange:w,onBlur:N,error:x.remarks,touched:v.remarks,disabled:d,className:d?"bg-gray-100":"",readOnly:d})]}),a.jsx("div",{className:"flex justify-end space-x-3",children:d?a.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",children:"Close"}):a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:S,className:"btn btn-primary",children:t?"Update":"Save"})]})})]})}})}const $He=()=>{const t=he(),{departments:e}=ee(F=>F.departments),{subdepartments:r}=ee(F=>F.subdepartments),n=ee(F=>{var J;return((J=F.chartOfAccounts)==null?void 0:J.accounts)||[]}),{fiscalYears:s}=ee(F=>F.fiscalYears),{funds:o}=ee(F=>F.funds),{projectDetails:i}=ee(F=>F.projectDetails),[l,c]=j.useState([]),[u,d]=j.useState([]),[m,f]=j.useState(""),{Add:p,Edit:h,Delete:y,Print:b}=Se(26);j.useEffect(()=>{t(ln()),t(rr()),t(ns()),t(fr()),t(Vo()),t(Mr()),v(),w()},[]);const g=j.useRef(),x=qn.useReactToPrint({contentRef:g,documentTitle:"Budget Supplemental"}),v=async()=>{try{const F=await De("/budgetSupplemental/list");c(F==null?void 0:F.data)}catch(F){le.error("Failed to load data"),le.error(F.message)}},w=async()=>{try{const F=await De("/budgetSupplemental/budgetList");d(F==null?void 0:F.data)}catch(F){le.error("Failed to load data"),le.error(F.message)}},[N,S]=j.useState(!1),[C,A]=j.useState(null),[T,I]=j.useState(!1),[k,$]=j.useState({department:"",subDepartment:"",chartOfAccounts:""}),[L,q]=j.useState(!1),[E,R]=j.useState(null),[U,B]=j.useState(!1),P=F=>{B(!1),A(F),S(!0)},O=F=>{B(!0),A(F),S(!0)},V=F=>{R(F),q(!0)},_=async()=>{if(E)try{const F=await De.post("/budgetSupplemental/void",{ID:E.ID});F.data?(le.success(F.data.message||"Budget Supplemental Voided Successfully"),v()):le.error("Failed to void Budget Supplemental")}catch(F){le.error(F.message||"Failed to void Budget Supplemental")}finally{q(!1),R(null)}},H=async F=>{try{(await De.post("budgetSupplemental/save",F,{headers:{"Content-Type":"multipart/form-data"}})).data?(le.success(C?"Supplemental updated successfully":"New supplemental added"),v()):le.error("Failed to save supplemental")}catch(J){console.error("Error submitting supplemental:",J),le.error(J.message||"Failed to save supplemental")}finally{S(!1)}},G=F=>{const{name:J,value:ne}=F.target;$(ue=>({...ue,[J]:ne}))},re=()=>{$({department:"",subDepartment:"",chartOfAccounts:""})},ie=k.department||k.subDepartment||k.chartOfAccounts,te=l.filter(F=>{const{Budget:J}=F;return(!k.department||(J==null?void 0:J.DepartmentID)==k.department)&&(!k.subDepartment||(J==null?void 0:J.SubDepartmentID)==k.subDepartment)&&(!k.chartOfAccounts||(J==null?void 0:J.ChartofAccountsID)==k.chartOfAccounts)}),Z=Q.useMemo(()=>{const F=(te==null?void 0:te.length)||0,J=(te==null?void 0:te.reduce((Ae,be)=>{const at=parseFloat((be==null?void 0:be.Total)||0);return Ae+at},0))||0,ne=(te==null?void 0:te.filter(Ae=>{var be;return(be=Ae.Status)==null?void 0:be.toLowerCase().includes("requested")}).length)||0,ue=(te==null?void 0:te.filter(Ae=>{var be;return(be=Ae.Status)==null?void 0:be.toLowerCase().includes("approved")}).length)||0,ge=(te==null?void 0:te.filter(Ae=>{var be;return(be=Ae.Status)==null?void 0:be.toLowerCase().includes("posted")}).length)||0,we=(te==null?void 0:te.filter(Ae=>{var be;return(be=Ae.Status)==null?void 0:be.toLowerCase().includes("rejected")}).length)||0;return{total:F,totalAmount:J,requested:ne,approved:ue,posted:ge,rejected:we}},[te]),z=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0,className:"text-neutral-900 font-medium",render:F=>a.jsx("span",{className:"text-neutral-900 font-medium",children:F||"N/A"})},{key:"Status",header:"Status",sortable:!0,render:F=>a.jsx("span",{className:`px-2 py-1 rounded ${F==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":F==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":F==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":F==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":F==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":F==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:F})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:F=>{if(!F)return a.jsx("span",{className:"text-neutral-400",children:"N/A"});const J=new Date(F);return a.jsx("span",{className:"text-neutral-700",children:J.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",sortable:!0,className:"text-right font-semibold",render:F=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:fe(F)})},{key:"Budget",header:"Budget Name",render:(F,J)=>{var ne;return a.jsx("span",{className:"text-neutral-700",children:((ne=J.Budget)==null?void 0:ne.Name)||"N/A"})}}],W=async(F,J)=>{var ge,we,Ae,be;f(!0);const ne=J==="approve"?"approved":"rejected",ue=J==="approve"?"approving":"rejecting";try{const at=await De.post(`/budgetSupplemental/${J}`,{ID:F.ID,Reason:J==="reject"?"Rejected by user":"Approved by user"});console.log(`${J}d:`,at.data),c(St=>St.map(se=>se.ID===F.ID?{...se,Status:J==="approve"?"Approved":"Rejected"}:se)),await v(),J==="reject"?le.error(`Budget Supplemental ${ne} successfully`):le.success(`Budget Supplemental ${ne} successfully`)}catch(at){console.error(`Error ${ue} Budget Supplemental:`,at);const St=((we=(ge=at.response)==null?void 0:ge.data)==null?void 0:we.error)||((be=(Ae=at.response)==null?void 0:Ae.data)==null?void 0:be.message)||`Error ${ue} Budget Supplemental`;le.error(St)}finally{f(!1)}},X=F=>{const J=[];return F.Status.toLowerCase().includes("approved")?J.push({icon:os,title:"View",onClick:O,className:"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-50"}):F.Status.toLowerCase().includes("rejected")&&h?(J.push({icon:Br,title:"Edit",onClick:P,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),J.push({icon:Kt,title:"Void",onClick:()=>V(F),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):F.Status==="Requested"&&J.push({icon:wn,title:"Approve",onClick:()=>W(F,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:bt,title:"Reject",onClick:()=>W(F,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),J};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Budget Supplemental"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Request for additional money for certain appropriated budgets."})]})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>I(!T),className:`btn btn-outline flex items-center gap-2 transition-all ${T||ie?"bg-primary-50 border-primary-300 text-primary-700 shadow-sm":"hover:bg-neutral-50"}`,children:[a.jsx(is,{className:"h-4 w-4"}),"Filters",ie&&a.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs font-semibold bg-primary-600 text-white rounded-full",children:[k.department,k.subDepartment,k.chartOfAccounts].filter(Boolean).length})]}),p&&a.jsxs("button",{onClick:()=>P(null),className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(qe,{className:"h-5 w-5"}),"Add Supplemental"]}),b&&C&&a.jsxs("button",{onClick:x,className:"btn btn-outline flex items-center gap-2",children:[a.jsx(uu,{className:"h-5 w-5"}),"Print"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Supplementals"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:Z.total})]}),a.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-blue-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Amount"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-900 break-words",children:fe(Z.totalAmount)})]}),a.jsx("div",{className:"p-3 bg-green-200 rounded-lg flex-shrink-0",children:a.jsx(Qs,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-yellow-700 mb-1",children:"Requested"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:Z.requested})]}),a.jsx("div",{className:"p-3 bg-yellow-200 rounded-lg",children:a.jsx(La,{className:"h-6 w-6 text-yellow-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border border-emerald-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-emerald-700 mb-1",children:"Posted"}),a.jsx("p",{className:"text-2xl font-bold text-emerald-900",children:Z.posted})]}),a.jsx("div",{className:"p-3 bg-emerald-200 rounded-lg",children:a.jsx(Ep,{className:"h-6 w-6 text-emerald-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 border border-red-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-700 mb-1",children:"Rejected"}),a.jsx("p",{className:"text-2xl font-bold text-red-900",children:Z.rejected})]}),a.jsx("div",{className:"p-3 bg-red-200 rounded-lg",children:a.jsx(bt,{className:"h-6 w-6 text-red-700"})})]})})]}),(T||ie)&&a.jsxs("div",{className:"bg-white border border-neutral-200 rounded-xl shadow-md p-5 mb-6 transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(is,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-base font-semibold text-neutral-800",children:"Filter Options"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[ie&&a.jsxs("button",{onClick:re,className:"text-xs font-medium text-neutral-600 hover:text-neutral-900 flex items-center gap-1.5 px-3 py-1.5 rounded-lg hover:bg-neutral-100 transition-colors border border-neutral-200",children:[a.jsx(bt,{className:"h-3.5 w-3.5"}),"Clear All"]}),a.jsx("button",{onClick:()=>I(!1),className:"p-1.5 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors",title:"Close filters",children:a.jsx(bt,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Department"}),a.jsxs("select",{name:"department",value:k.department,onChange:G,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Departments"}),e==null?void 0:e.map(F=>a.jsx("option",{value:F.ID,children:F.Name},F.ID))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Sub Department"}),a.jsxs("select",{name:"subDepartment",value:k.subDepartment,onChange:G,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Sub Departments"}),r==null?void 0:r.map(F=>a.jsx("option",{value:F.ID,children:F.Name},F.ID))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Chart of Accounts"}),a.jsxs("select",{name:"chartOfAccounts",value:k.chartOfAccounts,onChange:G,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Accounts"}),n==null?void 0:n.map(F=>a.jsx("option",{value:F.ID,children:F.Name},F.ID))]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Supplemental Entries",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(te==null?void 0:te.length)||0," ",(te==null?void 0:te.length)===1?"entry":"entries",")"]})]})}),a.jsx(je,{columns:z,data:te,loading:m,actions:X,pagination:!0,onRowClick:F=>{A(F)},selectedRow:C})]}),a.jsx(me,{size:"md",isOpen:N,onClose:()=>S(!1),title:U?"View Supplemental":C?"Edit Supplemental":"Add New Supplemental",children:a.jsx(OHe,{readOnly:U,budgetList:u,departmentOptions:e.map(F=>({value:F.ID,label:F.Name})),subDepartmentOptions:r.map(F=>({value:F.ID,label:F.Name})),chartOfAccountsOptions:n.map(F=>({value:F.ID,label:F.Name})),fundOptions:o.map(F=>({value:F.ID,label:F.Name})),projectOptions:i.map(F=>({value:F.ID,label:F.Title})),fiscalYearOptions:s.map(F=>({value:F.ID,label:F.Name})),onSubmit:H,initialData:C,onClose:()=>S(!1)})}),a.jsx(hd,{isOpen:L,onClose:()=>q(!1),onConfirm:_,title:"Void Supplemental",message:"Are you sure you want to void this supplemental budget? This action cannot be undone.",isDestructive:!0,confirmText:"Void"}),a.jsx("div",{style:{display:"none"},children:a.jsx(RHe,{ref:g,row:C})})]})},RHe=Q.forwardRef(({row:t},e)=>{if(!t)return null;const r=t.Budget||{};return a.jsxs("div",{ref:e,className:"p-8 bg-white",children:[a.jsx("h2",{className:"text-xl font-bold text-center mb-2",children:"MUNICIPALITY OF DUEAS"}),a.jsx("h3",{className:"text-center mb-2",children:"BUDGET SUPPLEMENTAL ENTRY"}),a.jsx("table",{className:"w-full mb-4 text-sm border",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"font-semibold border px-2",children:"Invoice Number:"}),a.jsx("td",{className:"border px-2",children:t.InvoiceNumber||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"font-semibold border px-2",children:"Budget:"}),a.jsx("td",{className:"border px-2",children:r.Name||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"font-semibold border px-2",children:"Invoice Date:"}),a.jsx("td",{className:"border px-2",children:t.InvoiceDate?new Date(t.InvoiceDate).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"font-semibold border px-2",children:"Total Amount:"}),a.jsx("td",{className:"border px-2",children:parseFloat(t.Total||0).toLocaleString("en-US",{minimumFractionDigits:2})})]}),a.jsxs("tr",{children:[a.jsx("td",{className:"font-semibold border px-2",children:"Status:"}),a.jsx("td",{className:"border px-2",children:t.Status||"N/A"})]})]})}),a.jsxs("div",{className:"flex justify-between items-center mt-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 font-bold",children:"Budget S. Head"}),a.jsx("div",{className:"text-xs",children:"Budget Head"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 font-bold",children:"Juan S. Dela Cruz"}),a.jsx("div",{className:"text-xs",children:"Mayor"})]})]})]})}),LHe="http://192.168.1.215:5001",FHe=pe({fromBudgetId:M().required("Source budget is required"),toBudgetId:M().required("Target budget is required"),transferAmount:ae().required("Amount is required").min(.01,"Amount must be positive"),remarks:M().required("Remarks are required"),Attachments:$t()}),wT={fromBudgetId:"",toBudgetId:"",transferAmount:0,remarks:"",fromBudget:null,toBudget:null,Attachments:[],currentStatus:"Requested"};console.log("Initial Values:",wT);function MHe({initialData:t,onSubmit:e,onClose:r,budgetOptions:n,isViewOnly:s=!1}){const[o,i]=j.useState({...wT}),l=async(d,{setSubmitting:m})=>{var b;if(d.fromBudgetId===d.toBudgetId){Y.error("Source and target budgets cannot be the same"),m(!1);return}const f=n.find(g=>g.ID.toString()===d.fromBudgetId),p=parseFloat((f==null?void 0:f.AppropriationBalance)||0),h=parseFloat(d.transferAmount||0);if(h<=0){Y.error("Transfer amount must be positive"),m(!1);return}if(h>p){Y.error(`Transfer amount (${h}) exceeds available balance (${p})`),m(!1);return}const y=new FormData;y.append("BudgetID",d.fromBudgetId),y.append("TargetID",d.toBudgetId),y.append("Transfer",d.transferAmount),y.append("Remarks",d.remarks),((b=d.Attachments)==null?void 0:b.length)>0?d.Attachments.forEach((g,x)=>{g.ID?y.append(`Attachments[${x}].ID`,g.ID):y.append(`Attachments[${x}].File`,g)}):y.append("Attachments","[]"),t!=null&&t.LinkID?(y.append("LinkID",t==null?void 0:t.LinkID),y.append("IsNew",!1)):y.append("IsNew",!0);try{await e(y)}catch(g){console.error(g)}finally{m(!1)}},c=(d,m,f)=>{const p=Array.from(d.target.files);m("Attachments",[...f.Attachments,...p])},u=(d,m,f)=>{const p=[...f.Attachments];p.splice(d,1),m("Attachments",p)};return j.useEffect(()=>{var d,m;i(t?{fromBudgetId:((d=t==null?void 0:t.BudgetID)==null?void 0:d.toString())||"",toBudgetId:((m=t==null?void 0:t.TargetID)==null?void 0:m.toString())||"",transferAmount:parseFloat(t==null?void 0:t.Total)||0,remarks:(t==null?void 0:t.Remarks)||"",fromBudget:n.find(f=>f.ID===(t==null?void 0:t.BudgetID))||null,toBudget:n.find(f=>f.ID===(t==null?void 0:t.TargetID))||null,Attachments:t.Attachments||[],currentStatus:(t==null?void 0:t.Status)||""}:wT)},[t,n]),a.jsx(He,{enableReinitialize:!0,onSubmit:l,initialValues:o,validationSchema:FHe,children:({values:d,errors:m,touched:f,setFieldValue:p,handleChange:h,handleBlur:y,isSubmitting:b})=>{var g,x,v,w,N,S,C,A,T,I,k,$,L,q,E;return a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),a.jsx("div",{className:"mt-1 w-fit px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:(g=d==null?void 0:d.currentStatus)==null?void 0:g.toUpperCase()})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-medium text-lg",children:"From Budget"}),a.jsx(rt,{label:"Select Budget",name:"fromBudgetId",required:!0,selectedValue:d.fromBudgetId,disabled:s,onSelect:R=>{const U=n.find(B=>B.ID.toString()===R);p("fromBudgetId",R),p("fromBudget",U)},options:n.map(R=>{var U;return{label:`${R.Name} (${(U=R.FiscalYear)==null?void 0:U.Name})`,value:R.ID.toString()}}),error:f.fromBudgetId&&m.fromBudgetId}),d.fromBudget&&a.jsxs("div",{className:"space-y-3 mt-4",children:[a.jsx(D,{label:"Budget Name",name:"fromBudgetName",type:"text",value:d.fromBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Fiscal Year",name:"fromFiscalYear",type:"text",value:(x=d.fromBudget.FiscalYear)==null?void 0:x.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Department",name:"fromDepartment",type:"text",value:((v=d.fromBudget.Department)==null?void 0:v.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Appropriation Balance",name:"fromBalance",type:"text",value:fe(d.fromBudget.AppropriationBalance),className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Sub Department",name:"fromSubDepartment",type:"text",value:((w=d.fromBudget.SubDepartment)==null?void 0:w.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Chart of Accounts",name:"fromChartOfAccounts",type:"text",value:((N=d.fromBudget.ChartofAccounts)==null?void 0:N.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Fund",name:"fromFund",type:"text",value:((S=d.fromBudget.Funds)==null?void 0:S.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Project",name:"fromProject",type:"text",value:((C=d.fromBudget.Project)==null?void 0:C.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Appropriation",name:"fromAppropriation",type:"text",value:fe(d.fromBudget.Appropriation),className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Released Allotments",name:"fromReleasedAllotments",type:"text",value:fe(d.fromBudget.TotalAmount),className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Allotment Balance",name:"fromAllotmentBalance",type:"text",value:fe(d.fromBudget.AllotmentBalance),className:"bg-gray-200 cursor-not-allowed",readOnly:!0})," ",a.jsx(D,{label:"Balance",name:"fromBalance",type:"text",value:fe(d.fromBudget.AppropriationBalance),className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),a.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-medium text-lg",children:"To Budget"}),a.jsx(rt,{label:"Select Budget",name:"toBudgetId",required:!0,selectedValue:d.toBudgetId,disabled:s,onSelect:R=>{const U=n.find(B=>B.ID.toString()===R);p("toBudgetId",R),p("toBudget",U)},options:n.map(R=>{var U;return{label:`${R.Name} (${(U=R.FiscalYear)==null?void 0:U.Name})`,value:R.ID.toString()}}),error:f.toBudgetId&&m.toBudgetId}),d.toBudget&&a.jsxs("div",{className:"space-y-3 mt-4",children:[a.jsx(D,{label:"Budget Name",name:"toBudgetName",type:"text",value:d.toBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Fiscal Year",name:"toFiscalYear",type:"text",value:(A=d.toBudget.FiscalYear)==null?void 0:A.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Department",name:"toDepartment",type:"text",value:((T=d.toBudget.Department)==null?void 0:T.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Appropriation Balance",name:"toBalance",type:"text",value:fe(d.toBudget.AppropriationBalance),className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Sub Department",name:"toSubDepartment",type:"text",value:((I=d.toBudget.SubDepartment)==null?void 0:I.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Chart of Accounts",name:"toChartOfAccounts",type:"text",value:((k=d.toBudget.ChartofAccounts)==null?void 0:k.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Fund",name:"toFund",type:"text",value:(($=d.toBudget.Funds)==null?void 0:$.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Project",name:"toProject",type:"text",value:((L=d.toBudget.Project)==null?void 0:L.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Appropriation",name:"toAppropriation",type:"text",value:fe(d.toBudget.Appropriation),className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Released Allotments",name:"toReleasedAllotments",type:"text",value:fe(d.toBudget.TotalAmount),className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Allotment Balance",name:"toAllotmentBalance",type:"text",value:fe(d.toBudget.AllotmentBalance),className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Balance",name:"toBalance",type:"text",value:fe(d.toBudget.AppropriationBalance),className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsx(D,{name:"remarks",type:"textarea",label:"Remarks",onChange:h,onBlur:y,value:d.remarks,error:m.remarks,touched:f.remarks,required:!0,readOnly:s}),a.jsx(D,{label:"Transfer Amount",name:"transferAmount",type:"text",onChange:R=>{if(s)return;const U=R.target.value.replace(/[^0-9.]/g,"");p("transferAmount",U)},onBlur:y,value:jn(d.transferAmount),error:m.transferAmount,touched:f.transferAmount,required:!0,min:"0.01",step:"0.01",readOnly:s})]}),a.jsx("div",{className:"my-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),a.jsx("input",{type:"file",multiple:!0,onChange:R=>c(R,p,d),className:"hidden",id:"file-upload"},((q=d.Attachments)==null?void 0:q.length)||0),!s&&a.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[a.jsx(ik,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((E=d==null?void 0:d.Attachments)==null?void 0:E.length)>0?a.jsx("div",{className:"space-y-2 py-2 mt-2",children:d.Attachments.map((R,U)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[a.jsxs("div",{className:"flex items-center min-w-0",children:[a.jsx(Vs,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-xs text-gray-500 ml-2",children:a.jsx("a",{href:R!=null&&R.ID?`${LHe}/uploads/${R==null?void 0:R.DataImage}`:URL.createObjectURL(R),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(R==null?void 0:R.name)||(R==null?void 0:R.DataName)})})]}),!s&&a.jsx("button",{type:"button",onClick:()=>u(U,p,d),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:a.jsx(er,{className:"h-4 w-4"})})]},R.ID||U))}):a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:s?"Close":"Cancel"}),!s&&a.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const N0=K("budgetTransfer/fetchBudgetOptions",async()=>(await De.get("/budgetTransfer/budgetList")).data),vo=K("budgetTransfer/fetchBudgetTransfers",async()=>(await De.get("/budgetTransfer/list")).data),Ym=K("budgetTransfer/createBudgetTransfer",async(t,{rejectWithValue:e})=>{var r,n;try{return(await De.post("/budgetTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){return console.error("Error creating budget transfer:",(r=s.response)==null?void 0:r.data),e(((n=s.response)==null?void 0:n.data)||"Something went wrong")}}),XC=K("budgetTransfer/deleteBudgetTransfer",async t=>(await De.delete(`/budgetTransfer/${t}`),le.success("Budget transfer deleted successfully"),t)),_He=Ce({name:"budgetTransfer",initialState:{budgetOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(N0.pending,e=>{e.loading=!0,e.error=null}).addCase(N0.fulfilled,(e,r)=>{e.loading=!1,e.budgetOptions=r.payload||[]}).addCase(N0.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch budget options")}).addCase(vo.pending,e=>{e.loading=!0,e.error=null}).addCase(vo.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(vo.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch budget transfers")}).addCase(Ym.pending,e=>{e.loading=!0,e.error=null}).addCase(Ym.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(Ym.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to create budget transfer")}).addCase(XC.pending,e=>{e.loading=!0,e.error=null}).addCase(XC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(XC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to delete budget transfer")})}}),BHe=_He.reducer,qHe=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState(null),[s,o]=j.useState(!1),[i,l]=j.useState(!1),[c,u]=j.useState(!1),[d,m]=j.useState({status:"",budget:""}),[f,p]=j.useState(!1),[h,y]=j.useState(null),b=he(),{Add:g,Edit:x}=Se(27),{transfers:v,budgetOptions:w,loading:N,error:S}=ee(O=>O.budgetTransfer),C=()=>{m({status:"",budget:""})},A=d.status||d.budget;j.useEffect(()=>{b(N0()),b(vo())},[]);const T=O=>{n(O),o(!1),e(!0)},I=O=>{n(O),o(!0),e(!0)},k=O=>{y(O),p(!0)},$=async()=>{var O,V;if(h){l(!0);try{const _=await De.post("/budgetTransfer/void",{ID:h.ID||h.id});_.data?(le.success(_.data.message||"Budget Transfer Voided Successfully"),await b(vo()).unwrap()):le.error("Failed to void Budget Transfer")}catch(_){console.error("Error voiding Budget Transfer:",_),le.error(((V=(O=_.response)==null?void 0:O.data)==null?void 0:V.message)||_.message||"Failed to void Budget Transfer")}finally{l(!1),p(!1),y(null)}}},L=async O=>{try{r?(await b(Ym(O)).unwrap(),await b(vo()).unwrap(),le.success("Transfer updated successfully")):(await b(Ym(O)).unwrap(),await b(vo()).unwrap(),le.success("Transfer created successfully")),e(!1)}catch(V){console.error("Error:",V),le.error("Error: "+(V==null?void 0:V.error))}},q=j.useMemo(()=>v?v.filter(O=>(!d.status||O.Status===d.status)&&(!d.budget||O.BudgetID==d.budget)):[],[v,d]),E=j.useMemo(()=>{const O=(q==null?void 0:q.length)||0,V=(q==null?void 0:q.reduce((ie,te)=>{const Z=parseFloat((te==null?void 0:te.Total)||0);return ie+Z},0))||0,_=(q==null?void 0:q.filter(ie=>{var te;return(te=ie.Status)==null?void 0:te.toLowerCase().includes("requested")}).length)||0,H=(q==null?void 0:q.filter(ie=>{var te;return(te=ie.Status)==null?void 0:te.toLowerCase().includes("approved")}).length)||0,G=(q==null?void 0:q.filter(ie=>{var te;return(te=ie.Status)==null?void 0:te.toLowerCase().includes("posted")}).length)||0,re=(q==null?void 0:q.filter(ie=>{var te;return(te=ie.Status)==null?void 0:te.toLowerCase().includes("rejected")}).length)||0;return{total:O,totalAmount:V,requested:_,approved:H,posted:G,rejected:re}},[q]),R=O=>{const{name:V,value:_}=O.target;m(H=>({...H,[V]:_}))},U=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0,className:"text-neutral-900 font-medium",render:O=>a.jsx("span",{className:"text-neutral-900 font-medium",children:O||"N/A"})},{key:"Status",header:"Status",sortable:!0,render:O=>a.jsx("span",{className:`px-2 py-1 rounded ${O==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":O==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":O==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":O==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":O==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":O==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:O})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:O=>{if(!O)return a.jsx("span",{className:"text-neutral-400",children:"N/A"});const V=new Date(O);return a.jsx("span",{className:"text-neutral-700",children:V.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",sortable:!0,className:"text-right font-semibold",render:O=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:fe(O)})},{key:"BudgetID",header:"Budget Source",sortable:!0,render:(O,V)=>{var _,H;return a.jsx("span",{className:"text-neutral-700",children:((_=w==null?void 0:w.find(G=>G.ID==O))==null?void 0:_.Name)||((H=V==null?void 0:V.Budget)==null?void 0:H.Name)||O||""})}},{key:"TargetID",header:"Budget Target",sortable:!0,render:(O,V)=>{var _,H,G;return a.jsx("span",{className:"text-neutral-700",children:((_=w==null?void 0:w.find(re=>re.ID==O))==null?void 0:_.Name)||((H=V==null?void 0:V.targetBudget)==null?void 0:H.Name)||((G=V==null?void 0:V.Target)==null?void 0:G.Name)||O||""})}},{key:"Remarks",header:"Remarks",sortable:!1,render:O=>a.jsx("span",{className:"text-neutral-600 max-w-xs truncate block",children:O||""})}],B=async(O,V)=>{var G,re,ie,te;l(!0);const _=V==="approve"?"approved":"rejected",H=V==="approve"?"approving":"rejecting";try{const Z=await De.post(`/budgetTransfer/${V}`,{ID:O.ID||O.id,Reason:V==="reject"?"Rejected by user":"Approved by user"});console.log(`${V}d:`,Z.data),await b(vo()).unwrap(),V==="reject"?le.error(`Budget Transfer ${_} successfully`):le.success(`Budget Transfer ${_} successfully`)}catch(Z){console.error(`Error ${H} Budget Transfer:`,Z);const z=((re=(G=Z.response)==null?void 0:G.data)==null?void 0:re.error)||((te=(ie=Z.response)==null?void 0:ie.data)==null?void 0:te.message)||`Error ${H} Budget Transfer`;le.error(z)}finally{l(!1)}},P=O=>{var H;const V=[],_=((H=O==null?void 0:O.Status)==null?void 0:H.toLowerCase())||"";return V.push({icon:os,title:"View Details",onClick:()=>I(O),className:"text-blue-600 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}),_.includes("rejected")&&x?(V.push({icon:Br,title:"Edit",onClick:()=>T(O),className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}),V.push({icon:Kt,title:"Void",onClick:()=>k(O),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1})):_.includes("requested")&&V.push({icon:wn,title:"Approve",onClick:()=>B(O,"approve"),className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1},{icon:bt,title:"Reject",onClick:()=>B(O,"reject"),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}),V};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Budget Transfer"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Augment budgets appropriated for specific purposes."})]})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>u(!c),className:`btn btn-outline flex items-center gap-2 transition-all ${c||A?"bg-primary-50 border-primary-300 text-primary-700 shadow-sm":"hover:bg-neutral-50"}`,children:[a.jsx(is,{className:"h-4 w-4"}),"Filters",A&&a.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs font-semibold bg-primary-600 text-white rounded-full",children:[d.status,d.budget].filter(Boolean).length})]}),g&&a.jsxs("button",{onClick:()=>T(null),className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Transfer"]})]})]}),!N&&q.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-700 mb-1",children:"Total Transfers"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-900",children:E.total})]}),a.jsx("div",{className:"p-3 bg-blue-200 rounded-lg flex-shrink-0",children:a.jsx(ir,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-700 mb-1",children:"Total Amount"}),a.jsx("p",{className:"text-base sm:text-lg lg:text-xl font-bold text-green-900 break-words leading-tight",children:fe(E.totalAmount)})]}),a.jsx("div",{className:"p-2 sm:p-3 bg-green-200 rounded-lg flex-shrink-0",children:a.jsx(Qs,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-yellow-700 mb-1",children:"Requested"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-yellow-900 break-words",children:E.requested})]}),a.jsx("div",{className:"p-2 sm:p-3 bg-yellow-200 rounded-lg flex-shrink-0",children:a.jsx(La,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border border-emerald-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-emerald-700 mb-1",children:"Posted"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-emerald-900 break-words",children:E.posted})]}),a.jsx("div",{className:"p-2 sm:p-3 bg-emerald-200 rounded-lg flex-shrink-0",children:a.jsx(Ep,{className:"h-5 w=5 sm:h-6 sm:w-6 text-emerald-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 border border-red-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-red-700 mb-1",children:"Rejected"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-red-900 break-words",children:E.rejected})]}),a.jsx("div",{className:"p-2 sm:p-3 bg-red-200 rounded-lg",children:a.jsx(CV,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-700"})})]})})]}),(c||A)&&a.jsxs("div",{className:"bg-white border border-neutral-200 rounded-xl shadow-md p-5 mb-6 transition-all",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(is,{className:"h-5 w-5 text-primary-600"}),a.jsx("h3",{className:"text-base font-semibold text-neutral-800",children:"Filter Options"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[A&&a.jsxs("button",{onClick:C,className:"text-xs font-medium text-neutral-600 hover:text-neutral-900 flex items-center gap-1.5 px-3 py-1.5 rounded-lg hover:bg-neutral-100 transition-colors border border-neutral-200",children:[a.jsx(bt,{className:"h-3.5 w-3.5"}),"Clear All"]}),a.jsx("button",{onClick:()=>u(!1),className:"p-1.5 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors",title:"Close filters",children:a.jsx(bt,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Status"}),a.jsxs("select",{name:"status",value:d.status,onChange:R,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"Requested",children:"Requested"}),a.jsx("option",{value:"Approved",children:"Approved"}),a.jsx("option",{value:"Rejected",children:"Rejected"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-neutral-700",children:"Budget"}),a.jsxs("select",{name:"budget",value:d.budget,onChange:R,className:"w-full px-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white transition-all hover:border-neutral-400",children:[a.jsx("option",{value:"",children:"All Budgets"}),w==null?void 0:w.map(O=>a.jsx("option",{value:O.ID,children:O.Name},O.ID))]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Transfer Entries",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",q.length," ",q.length===1?"entry":"entries",")"]})]})}),a.jsx(je,{columns:U,data:q,actions:P,pagination:!0,loading:i||N,onRowClick:O=>{n(O)},selectedRow:r})]}),a.jsx(me,{size:"xl",isOpen:t,onClose:()=>{e(!1),n(null)},title:s?"View Transfer Details":r?"Edit Transfer":"Add New Transfer",children:a.jsx(MHe,{onSubmit:L,initialData:r,onClose:()=>e(!1),budgetOptions:w,isViewOnly:s})}),a.jsx(hd,{isOpen:f,onClose:()=>p(!1),onConfirm:$,title:"Void Budget Transfer",message:"Are you sure you want to void this budget transfer? This action cannot be undone.",confirmText:"Void",isDestructive:!0})]})},VHe=pe({Code:M().required("Code is required"),Name:M().required("Name is required"),Description:M().required("Description is required"),Amount:ae().required("Amount is required").min(0,"Amount must be positive")}),B4={Code:"",Name:"",Description:"",Amount:0};function UHe({initialData:t,onSubmit:e,onClose:r,readOnly:n=!1}){const[s,o]=j.useState({...B4}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return j.useEffect(()=>{t!=null&&t.ID?o({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.Balance)||(t==null?void 0:t.Total)||(t==null?void 0:t.Amount)||(t==null?void 0:t.balance)||(t==null?void 0:t.OriginalAmount)||""}):o(B4)},[t]),a.jsx(He,{enableReinitialize:!0,onSubmit:i,initialValues:s,validationSchema:VHe,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:m,isSubmitting:f})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsx(D,{label:"Code",name:"Code",type:"text",onChange:d,onBlur:m,value:l.Code,error:c.Code,touched:u.Code,placeholder:"e.g., 100,200,300",required:!0,readOnly:n}),a.jsx(D,{label:"Name",name:"Name",type:"text",onChange:d,onBlur:m,value:l.Name,error:c.Name,touched:u.Name,placeholder:"Enter Name ",required:!0,readOnly:n}),a.jsx(D,{label:"Amount",name:"Amount",type:"text",onChange:p=>{const h=p.target.value.replace(/\D/g,""),y=h?(parseInt(h,10)/100).toFixed(2):"";d({target:{name:"Amount",value:y}})},onBlur:m,value:l.Amount!==""&&!isNaN(l.Amount)?Number(l.Amount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",error:c.Amount,touched:u.Amount,placeholder:"Enter Amount",required:!0,readOnly:n}),a.jsx(D,{name:"Description",type:"textarea",label:"Description",onChange:d,onBlur:m,value:l.Description,error:c.Description,touched:u.Description,placeholder:"Enter Description",required:!0,readOnly:n})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:n?"Close":"Cancel"}),!n&&a.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const zHe=()=>{const t=he(),{funds:e,loading:r}=ee(T=>T.funds),[n,s]=j.useState(!1),[o,i]=j.useState(null),[l,c]=j.useState(!1),{Add:u,Edit:d,Delete:m}=Se(48),f=j.useMemo(()=>(e==null?void 0:e.filter(T=>Number(T.Active)===1))||[],[e]),p=j.useMemo(()=>{const T=(f==null?void 0:f.length)||0,I=(f==null?void 0:f.reduce(($,L)=>{const q=parseFloat((L==null?void 0:L.Balance)||(L==null?void 0:L.Total)||(L==null?void 0:L.Amount)||(L==null?void 0:L.balance)||0);return $+q},0))||0,k=T>0?I/T:0;return{total:T,totalAmount:I,averageAmount:k}},[e]),h=[{key:"Code",header:"Fund Code",sortable:!0,className:"text-neutral-900 font-medium",render:T=>a.jsx("span",{className:"text-neutral-900 font-medium",children:T||""})},{key:"Name",header:"Fund Name",sortable:!0,render:T=>a.jsx("span",{className:"font-medium text-neutral-700",children:T||""})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,className:"text-right font-semibold",render:T=>a.jsx("span",{className:"text-right font-semibold text-primary-600",children:fe(T)})},{key:"Balance",header:"Current Balance",sortable:!0,className:"text-right font-semibold",render:(T,I)=>a.jsx("span",{className:"text-right font-semibold text-green-700",children:fe(I.Balance||I.Total||I.Amount||I.balance||T)})},{key:"Description",header:"Description",sortable:!0,render:T=>a.jsx("span",{className:"text-neutral-600 max-w-md",children:T||a.jsx("span",{className:"text-neutral-400 italic",children:"No description"})})}],[y,b]=j.useState(!1),[g,x]=j.useState(null),v=T=>{i(T),c(!1),s(!0)},w=T=>{x(T),b(!0)},N=async()=>{if(g)try{await t(Tx(g.ID)).unwrap(),t(rr()),toast.success("Fund deleted successfully")}catch{toast.error("Failed to delete fund")}finally{b(!1),x(null)}},S=[d&&{icon:Br,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1},m&&{icon:Kt,title:"Delete",onClick:w,className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}].filter(Boolean),C=async T=>{o?await t(Ix(T)).unwrap():await t(Ax(T)).unwrap(),t(rr()),s(!1),i(null)},A=T=>{i(T),c(!0),s(!0)};return j.useEffect(()=>{t(rr())},[t]),a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(NR,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Budget Funds"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Manage budget funds and their allocations"})]})]})}),a.jsx("div",{className:"flex items-center gap-3",children:u&&a.jsxs("button",{type:"button",onClick:()=>{i(null),c(!1),s(!0)},className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Fund"]})})]}),!r&&(f==null?void 0:f.length)>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-700 mb-1",children:"Total Funds"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:p.total})]}),a.jsx("div",{className:"p-3 bg-blue-200 rounded-lg",children:a.jsx(ir,{className:"h-6 w-6 text-blue-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-green-700 mb-1",children:"Total Amount"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:fe(p.totalAmount)})]}),a.jsx("div",{className:"p-3 bg-green-200 rounded-lg",children:a.jsx(Qs,{className:"h-6 w-6 text-green-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-purple-700 mb-1",children:"Average Amount"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:fe(p.averageAmount)})]}),a.jsx("div",{className:"p-3 bg-purple-200 rounded-lg",children:a.jsx(NR,{className:"h-6 w-6 text-purple-700"})})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Fund Entries",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(f==null?void 0:f.length)||0," ",((f==null?void 0:f.length)||0)===1?"entry":"entries",")"]})]})}),a.jsx(je,{columns:h,data:f||[],actions:S,loading:r,onRowClick:A,pagination:!0})]}),a.jsx(me,{size:"sm",isOpen:n,onClose:()=>{s(!1),i(null),c(!1)},title:l?"View Budget Fund":o?"Edit Budget Fund":"Add New Budget Fund",children:a.jsx(UHe,{onSubmit:C,initialData:o,readOnly:l,onClose:()=>{s(!1),i(null),c(!1)}})}),a.jsx(hd,{isOpen:y,onClose:()=>b(!1),onConfirm:N,title:"Delete Fund",message:`Are you sure you want to delete the fund "${g==null?void 0:g.Name}"? This action cannot be undone.`,isDestructive:!0,confirmText:"Delete"})]})},WHe="http://192.168.1.215:5001",GHe=()=>{const t=he(),{fiscalYears:e}=ee(E=>E.fiscalYears),{funds:r}=ee(E=>E.funds),{departments:n}=ee(E=>E.departments),[s,o]=j.useState("appropriations"),[i,l]=j.useState([]),[c,u]=j.useState(!1),[d,m]=j.useState(""),[f,p]=j.useState(""),[h,y]=j.useState(""),[b,g]=j.useState(""),[x,v]=j.useState(""),w=j.useRef(),N=j.useRef();j.useEffect(()=>{t(ln()),t(rr()),t(fr())},[t]);const S=()=>({startDate:d,endDate:f,fiscalYearID:h,fundsID:b,departmentID:x}),C=()=>d&&f&&h&&b&&x,A=async E=>{if(!C()){le.error("Please select all filters");return}u(!0);try{o(E);const R=E==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",U=await De.post(R,S());l(U.data)}catch{le.error("Failed to fetch data")}finally{u(!1)}},T=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],I=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],k=async()=>{if(!C()){le.error("Please select all filters");return}try{const E=await fetch(`${WHe}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("token")}`},body:JSON.stringify(S())});if(!E.ok)throw new Error("Server response was not ok");const R=await E.blob(),U=E.headers.get("Content-Disposition");let B="StatementOfAppropriations.xlsx";U&&U.includes("filename=")&&(B=U.split("filename=")[1].replace(/['"]/g,""));const P=window.URL.createObjectURL(R),O=document.createElement("a");O.href=P,O.download=B,document.body.appendChild(O),O.click(),document.body.removeChild(O),window.URL.revokeObjectURL(P)}catch(E){console.error("Export failed:",E),le.error(E.message||"Failed to export file")}},$=qn.useReactToPrint({contentRef:w,documentTitle:"Statement of Appropriations, Allotment, Obligations and Balances"}),L=qn.useReactToPrint({contentRef:N,documentTitle:"Statement of Appropriations and Obligations."}),q=E=>{if(!C()||i.length===0){le.error("Please fetch data first before generating report");return}E==="saaob"&&$(),E==="sao"&&L()};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"page-header mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Generate reports to observe the values of the budgets within the system and its released amount, charges, and remaining balances"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[a.jsxs("div",{className:"w-full sm:w-44",children:[a.jsx("label",{children:"Start Date"}),a.jsx("input",{type:"date",className:"form-input",value:d,onChange:E=>m(E.target.value)})]}),a.jsxs("div",{className:"w-full sm:w-44",children:[a.jsx("label",{children:"End Date"}),a.jsx("input",{type:"date",className:"form-input",value:f,onChange:E=>p(E.target.value)})]}),a.jsxs("div",{className:"w-full sm:w-44",children:[a.jsx("label",{children:"Fiscal Year"}),a.jsxs("select",{className:"form-select",value:h,onChange:E=>y(E.target.value),children:[a.jsx("option",{value:"",children:"-- Select --"}),e.map(E=>a.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]}),a.jsxs("div",{className:"w-full sm:w-44",children:[a.jsx("label",{children:"Fund"}),a.jsxs("select",{className:"form-select",value:b,onChange:E=>g(E.target.value),children:[a.jsx("option",{value:"",children:"-- Select --"}),r.map(E=>a.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]}),a.jsxs("div",{className:"w-full sm:w-44",children:[a.jsx("label",{children:"Department"}),a.jsxs("select",{className:"form-select",value:x,onChange:E=>v(E.target.value),children:[a.jsx("option",{value:"",children:"-- Select --"}),n.map(E=>a.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-neutral-200 flex flex-wrap justify-end gap-3 mb-6",children:[a.jsx("button",{onClick:()=>A("appropriations"),className:"btn btn-primary",children:"View SAAOB"}),a.jsx("button",{onClick:()=>A("viewSAO"),className:"btn btn-primary",children:"View SAO"}),a.jsx("button",{className:"btn btn-secondary",onClick:()=>q("saaob"),children:"Generate SAAOB"}),a.jsx("button",{className:"btn btn-secondary",onClick:()=>q("sao"),children:"Generate SAO"}),a.jsx("button",{className:"btn btn-outline",onClick:k,children:"Export to Excel"})]}),a.jsx(je,{columns:s==="appropriations"?T:I,data:i,loading:c}),a.jsxs("div",{className:"hidden",children:[a.jsx(HHe,{ref:w,data:i}),a.jsx(YHe,{ref:N,data:i})]})]})},HHe=Q.forwardRef(({data:t},e)=>a.jsxs("div",{ref:e,className:"p-4",children:[a.jsx("h2",{className:"text-center font-bold",children:"MUNICIPALITY OF ______"}),a.jsx("h3",{className:"text-center",children:"(CURRENT APPROPRIATION)"}),a.jsx("h4",{className:"text-center",children:"STATUS OF APPROPRIATIONS, ALLOTMENTS, OBLIGATIONS AND BALANCES"}),a.jsxs("table",{className:"w-full border text-xs mt-4",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"CODE"}),a.jsx("th",{children:"FUNCTION / PPA / CLASS"}),a.jsx("th",{children:"APPROPRIATIONS"}),a.jsx("th",{children:"ALLOTMENTS"}),a.jsx("th",{children:"OBLIGATIONS"}),a.jsx("th",{children:"UNOBLIGATED APPROPRIATIONS"}),a.jsx("th",{children:"UNOBLIGATED ALLOTMENTS"})]})}),a.jsx("tbody",{children:t.map((r,n)=>a.jsxs("tr",{children:[a.jsx("td",{children:r.Code}),a.jsx("td",{children:r.Name}),a.jsx("td",{children:r.Appropriation}),a.jsx("td",{children:r.Allotment}),a.jsx("td",{children:r.Obligation}),a.jsx("td",{children:r.UnobligatedAppropriation}),a.jsx("td",{children:r.UnobligatedAllotment})]},n))})]})]})),YHe=Q.forwardRef(({data:t},e)=>a.jsxs("div",{ref:e,className:"p-4",children:[a.jsx("h2",{className:"text-center font-bold",children:"STATUS OF APPROPRIATION & OBLIGATION"}),a.jsxs("table",{className:"w-full border text-xs mt-4",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"DATE"}),a.jsx("th",{children:"OBR NO."}),a.jsx("th",{children:"PARTICULARS"}),a.jsx("th",{children:"APPROPRIATION / ALLOTMENT"}),a.jsx("th",{children:"EXPENSES"}),a.jsx("th",{children:"BALANCE"})]})}),a.jsx("tbody",{children:t.map((r,n)=>a.jsxs("tr",{children:[a.jsx("td",{children:r.Date}),a.jsx("td",{children:r.OBRNo}),a.jsx("td",{children:r.Particulars}),a.jsx("td",{children:r.Appropriation}),a.jsx("td",{children:r.Expenses}),a.jsx("td",{children:r.Balance})]},n))})]})]})),KHe=pe({fund:M().required("Fund is required"),code:M().required("Code is required"),name:M().required("Name is required"),desc:M().required("Description is required"),amount:ae().required("Amount is required").min(0,"Amount must be positive")}),q4={code:"",name:"",fund:"",desc:"",amount:0};function JHe({initialData:t,onSubmit:e,onClose:r,funds:n}){const[s,o]=j.useState({...q4}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return j.useEffect(()=>{t!=null&&t.ID?o({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):o(q4)},[t]),a.jsx(He,{enableReinitialize:!0,onSubmit:i,initialValues:s,validationSchema:KHe,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:m,isSubmitting:f})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsx(D,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:m,value:l.code,error:c.code,touched:u.code,required:!0}),a.jsx(D,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:m,value:l.name,error:c.name,touched:u.name,required:!0}),a.jsx(D,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:m,value:l.amount,error:c.amount,touched:u.amount,required:!0}),a.jsx(D,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:m,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),a.jsx(D,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:m,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const XHe=()=>{const t=he(),{subFunds:e,isLoading:r}=ee(w=>w.subFunds),{funds:n,loading:s}=ee(w=>w.funds),[o,i]=j.useState(!1),[l,c]=j.useState(null),{Add:u,Edit:d,Delete:m}=Se(97),f=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:w=>w||""},{key:"Code",header:"Code",sortable:!0,render:w=>a.jsx("span",{className:"font-medium",children:w||""})},{key:"Name",header:"Name",sortable:!0,render:w=>a.jsx("span",{className:"font-medium",children:w||""})},{key:"Description",header:"Description",sortable:!0,render:w=>a.jsx("span",{className:"text-gray-600",children:w||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:w=>a.jsx("span",{className:"font-medium",children:w?h(w):""})}],p=[d&&{icon:Br,title:"Edit",onClick:w=>g(w),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},m&&{icon:Kt,title:"Delete",onClick:w=>y(w),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],h=w=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(w),y=async w=>{try{await t(l0(w.ID)).unwrap(),le.success("Sub fund deleted successfully")}catch(N){le.error(N.payload||"Failed to delete sub fund"),console.error(N)}},b=async w=>{try{if(l){const N={IsNew:!1,ID:l.ID,FundsID:w.fund,Code:w.code,Name:w.name,Description:w.desc,Amount:w.amount};await t(NT(N)).unwrap(),le.success("Sub fund updated successfully")}else{const N={IsNew:!0,FundsID:w.fund,Code:w.code,Name:w.name,Description:w.desc,Amount:w.amount};await t(i0(N)).unwrap(),le.success("Sub fund added successfully")}t(Hm()),i(!1),c(null)}catch(N){le.error(N.payload||"Failed to save sub fund"),console.error(N)}},g=w=>{c(w),i(!0)},x=w=>{console.log("View row:",w)};j.useEffect(()=>{t(Hm()),t(rr())},[t]);const v=n==null?void 0:n.map(w=>({value:w.ID,label:w.Name}));return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"page-header",children:a.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{children:"Sub Funds"}),a.jsx("p",{children:"Manage budget sub funds and allocations"})]}),a.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:u&&a.jsxs("button",{type:"button",onClick:()=>g(null),className:"btn btn-primary max-sm:w-full ",children:[a.jsx(qe,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),a.jsx("div",{className:"mt-4",children:a.jsx(je,{columns:f,data:e,actions:p,loading:r||s,onRowClick:x})}),a.jsx(me,{size:"sm",isOpen:o,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:a.jsx(JHe,{onSubmit:b,initialData:l,funds:v,onClose:()=>i(!1)})})]})},ZHe="http://192.168.1.215:5001",QHe=pe({fromFundId:M().required("Source fund is required"),toFundId:M().required("Target fund is required"),transferAmount:ae().required("Amount is required").min(.01,"Amount must be positive"),remarks:M().required("Remarks are required"),fiscalYearId:M().required("Fiscal Year is required"),Attachments:$t()}),ZC={fromFundId:"",toFundId:"",transferAmount:0,remarks:"",fromFund:null,toFund:null,fiscalYearId:"",Attachments:[]};function eYe({initialData:t,onSubmit:e,onClose:r,fundOptions:n,fiscalYearOptions:s,readOnly:o=!1}){const[i,l]=j.useState({...ZC});j.useEffect(()=>{l(t?c(t):ZC)},[t]);const c=h=>h?{fromFundId:h.FundsID||"",toFundId:h.TargetID||"",transferAmount:parseFloat(h.Total)||0,remarks:h.Remarks||"",fromFund:h.Funds||null,toFund:h.targetFunds||null,fiscalYearId:h.FiscalYearID||"",Attachments:h.Attachments||[]}:ZC,u=async(h,{setSubmitting:y})=>{if(h.fromFundId===h.toFundId){Y.error("Source and target funds cannot be the same"),y(!1);return}const b=n.find(w=>w.ID===h.fromFundId);if(!b){Y.error("Source fund not found"),y(!1);return}const g=parseFloat(b.Balance||0),x=parseFloat(h.transferAmount||0);if(x<=0){Y.error("Transfer amount must be positive"),y(!1);return}if(x>g){Y.error(`Transfer amount (${x}) exceeds available balance (${g})`),y(!1);return}const v=new FormData;v.append("FundsID",h.fromFundId),v.append("TargetID",h.toFundId),v.append("Transfer",x),v.append("Remarks",h.remarks),v.append("FiscalYearID",h.fiscalYearId),h.Attachments&&h.Attachments.length>0?h.Attachments.forEach((w,N)=>{w.ID?v.append(`Attachments[${N}].ID`,w.ID):v.append(`Attachments[${N}].File`,w)}):v.append("Attachments","[]"),t!=null&&t.LinkID?(v.append("LinkID",t==null?void 0:t.LinkID),v.append("IsNew",!1)):v.append("IsNew",!0);try{await e(v)}catch(w){Y.error("Submission failed: "+w.message)}finally{y(!1)}},d=(h,y)=>{const b=n.find(g=>g.ID===y);return{[`${h}Id`]:y,[h]:b}},m=(h,y)=>{if(h.ID===y)return!0;if(h.Active!==void 0&&h.Active!==null)return Number(h.Active)===1;const b=(h.Status||h.status||"").toLowerCase(),g=h.IsDeleted||h.isDeleted;return b?b==="active":g!==void 0?!g:!0},f=(h,y,b)=>{const x=Array.from(h.target.files).map(v=>v);console.log(x,b),y("Attachments",[...b.Attachments,...x])},p=(h,y,b)=>{const g=[...b.Attachments];g.splice(h,1),y("Attachments",g)};return a.jsx(He,{enableReinitialize:!0,onSubmit:u,initialValues:i,validationSchema:QHe,children:({values:h,errors:y,touched:b,setFieldValue:g,handleChange:x,handleBlur:v,isSubmitting:w})=>{var N,S;return a.jsxs(Ze,{className:"space-y-4",children:[a.jsx("div",{className:"w-full md:w-1/2",children:a.jsx(rt,{label:"Fiscal Year",name:"fiscalYearId",required:!0,disabled:o,selectedValue:h.fiscalYearId,onSelect:C=>g("fiscalYearId",C),options:s,error:b.fiscalYearId&&y.fiscalYearId})}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-medium text-lg",children:"From"}),a.jsx(rt,{label:"Select Fund",name:"fromFundId",required:!0,disabled:o,selectedValue:h.fromFundId,onSelect:C=>{const A=d("fromFund",C);g("fromFundId",A.fromFundId),g("fromFund",A.fromFund)},options:n.filter(C=>m(C,h.fromFundId)).map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:b.fromFundId&&y.fromFundId}),h.fromFund&&a.jsxs("div",{className:"space-y-3 mt-4",children:[a.jsx(D,{label:"Fund Code",name:"fromCode",type:"text",value:h.fromFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Fund Name",name:"fromName",type:"text",value:h.fromFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Available Balance",name:"fromBalance",type:"text",value:fe(h.fromFund.Balance),className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),a.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[a.jsx("h3",{className:"font-medium text-lg",children:"To"}),a.jsx(rt,{label:"Select Fund",name:"toFundId",required:!0,disabled:o,selectedValue:h.toFundId,onSelect:C=>{const A=d("toFund",C);g("toFundId",A.toFundId),g("toFund",A.toFund)},options:n.filter(C=>m(C,h.toFundId)).map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:b.toFundId&&y.toFundId}),h.toFund&&a.jsxs("div",{className:"space-y-3 mt-4",children:[a.jsx(D,{label:"Fund Code",name:"toCode",type:"text",value:h.toFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Fund Name",name:"toName",type:"text",value:h.toFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),a.jsx(D,{label:"Available Balance",name:"toBalance",type:"text",value:fe(h.toFund.Balance),className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsx(D,{name:"remarks",type:"textarea",label:"Remarks",onChange:x,onBlur:v,value:h.remarks,error:y.remarks,touched:b.remarks,required:!0,readOnly:o}),a.jsx(D,{label:"Transfer Amount",name:"transferAmount",type:"text",onChange:C=>{const A=C.target.value.replace(/\D/g,""),T=A?(parseInt(A,10)/100).toFixed(2):"";x({target:{name:"transferAmount",value:T}})},onBlur:v,value:h.transferAmount!==""&&!isNaN(h.transferAmount)?Number(h.transferAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",error:y.transferAmount,touched:b.transferAmount,required:!0,readOnly:o})]}),a.jsx("div",{className:"my-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),a.jsx("input",{type:"file",multiple:!0,onChange:C=>f(C,g,h),className:"hidden",id:"file-upload"},((N=h.Attachments)==null?void 0:N.length)||0),!o&&a.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[a.jsx(ik,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((S=h==null?void 0:h.Attachments)==null?void 0:S.length)>0?a.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((C,A)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[a.jsxs("div",{className:"flex items-center min-w-0",children:[a.jsx(Vs,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),a.jsx("span",{className:"text-sm truncate",children:C.ID?a.jsx("a",{href:`${ZHe}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",title:C.name||C.DataName,children:C.name||C.DataName}):a.jsx("span",{title:C.name||C.DataName,children:C.name||C.DataName})})]}),!o&&a.jsx("button",{type:"button",onClick:()=>p(A,g,h),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:a.jsx(er,{className:"h-4 w-4"})})]},C.ID||A))}):a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:o?"Close":"Cancel"}),!o&&a.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const w0=K("fundTransfer/fetchFundOptions",async()=>(await De.get("/fundTransfer/fundList")).data),jo=K("fundTransfer/fetchFundTransfers",async()=>(await De.get("/fundTransfer/list")).data),Km=K("fundTransfer/createFundTransfer",async t=>{const e=await De.post("/fundTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}});return le.success("Fund transfer created successfully"),e.data}),QC=K("fundTransfer/deleteFundTransfer",async t=>(await De.delete(`/fundTransfer/${t}`),le.success("Fund transfer deleted successfully"),t)),tYe=Ce({name:"fundTransfer",initialState:{fundOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(w0.pending,e=>{e.loading=!0,e.error=null}).addCase(w0.fulfilled,(e,r)=>{e.loading=!1,e.fundOptions=r.payload||[]}).addCase(w0.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch fund options")}).addCase(jo.pending,e=>{e.loading=!0,e.error=null}).addCase(jo.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(jo.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to fetch fund transfers")}).addCase(Km.pending,e=>{e.loading=!0,e.error=null}).addCase(Km.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(Km.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to create fund transfer")}).addCase(QC.pending,e=>{e.loading=!0,e.error=null}).addCase(QC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(QC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,le.error("Failed to delete fund transfer")})}}),rYe=tYe.reducer,nYe=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState(null),[s,o]=j.useState(!1),[i,l]=j.useState(!1),[c,u]=j.useState(null),d=he(),[m,f]=j.useState(!1),{Add:p,Edit:h}=Se(46),{transfers:y,fundOptions:b,loading:g,error:x}=ee(L=>L.fundTransfer),{fiscalYears:v}=ee(L=>L.fiscalYears);j.useEffect(()=>{d(w0()),d(jo()),d(ln())},[d]);const w=j.useMemo(()=>{const L=(y==null?void 0:y.length)||0,q=(y==null?void 0:y.reduce((P,O)=>{const V=parseFloat((O==null?void 0:O.Total)||0);return P+V},0))||0,E=(y==null?void 0:y.filter(P=>{var O;return(O=P.Status)==null?void 0:O.toLowerCase().includes("requested")}).length)||0,R=(y==null?void 0:y.filter(P=>{var O;return(O=P.Status)==null?void 0:O.toLowerCase().includes("approved")}).length)||0,U=(y==null?void 0:y.filter(P=>{var O;return(O=P.Status)==null?void 0:O.toLowerCase().includes("posted")}).length)||0,B=(y==null?void 0:y.filter(P=>{var O;return(O=P.Status)==null?void 0:O.toLowerCase().includes("rejected")}).length)||0;return{total:L,totalAmount:q,requested:E,approved:R,posted:U,rejected:B}},[y]),N=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0,className:"text-neutral-900 font-medium",render:L=>a.jsx("span",{className:"text-neutral-900 font-medium",children:L||"N/A"})},{key:"Status",header:"Status",sortable:!0,render:L=>a.jsx("span",{className:`px-2 py-1 rounded ${L==="Requested"?"bg-gradient-to-r from-warning-400 via-warning-300 to-warning-500 text-error-700":L==="Approved"?"bg-gradient-to-r from-success-300 via-success-500 to-success-600 text-neutral-800":L==="Posted"?"bg-gradient-to-r from-success-800 via-success-900 to-success-999 text-success-100":L==="Rejected"?"bg-gradient-to-r from-error-700 via-error-800 to-error-999 text-neutral-100":L==="Void"?"bg-gradient-to-r from-primary-900 via-primary-999 to-tertiary-999 text-neutral-300":L==="Cancelled"?"bg-gradient-to-r from-neutral-200 via-neutral-300 to-neutral-400 text-neutral-800":"bg-gray-100 text-gray-800"}`,children:L})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:L=>{if(!L)return a.jsx("span",{className:"text-neutral-400",children:"N/A"});const q=new Date(L);return a.jsx("span",{className:"text-neutral-700",children:q.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",sortable:!0,className:"text-right font-semibold",render:L=>a.jsx("span",{className:"text-right font-semibold text-primary-700",children:fe(L)})},{key:"FundsID",header:"Fund Source",sortable:!0,render:(L,q)=>{var E,R;return a.jsx("span",{className:"text-neutral-700",children:((E=b==null?void 0:b.find(U=>U.ID==L))==null?void 0:E.Name)||((R=q==null?void 0:q.Funds)==null?void 0:R.Name)||L||""})}},{key:"TargetID",header:"Fund Target",sortable:!0,render:(L,q)=>{var E,R;return a.jsx("span",{className:"text-neutral-700",children:((E=b==null?void 0:b.find(U=>U.ID==L))==null?void 0:E.Name)||((R=q==null?void 0:q.targetFunds)==null?void 0:R.Name)||L||""})}},{key:"Remarks",header:"Remarks",sortable:!0,render:L=>a.jsx("span",{className:"text-neutral-600 max-w-xs truncate block",children:L||""})}],S=async(L,q)=>{f(!0);const E=q==="approve"?"approved":"rejected",R=q==="approve"?"approving":"rejecting";try{const U=await De.post(`/fundTransfer/${q}`,{ID:L.ID,LinkID:L.LinkID,Reason:"This is the reason"});console.log(`${E}:`,U.data),d(jo()),Y.success(`Budget Fund Transfer ${E} successfully`)}catch(U){console.error(`Error ${R} Budget Fund Transfer:`,U),Y.error(`Error ${R} Budget Fund Transfer`)}finally{f(!1)}},C=L=>{var R;const q=[],E=((R=L==null?void 0:L.Status)==null?void 0:R.toLowerCase())||"";return E.includes("rejected")&&h?(q.push({icon:Br,title:"Edit",onClick:()=>T(L),className:"text-primary-600 hover:text-primary-700 p-2 rounded-lg hover:bg-primary-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}),q.push({icon:Kt,title:"Void",onClick:()=>I(L),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1})):E.includes("requested")&&q.push({icon:wn,title:"Approve",onClick:()=>S(L,"approve"),className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1},{icon:bt,title:"Reject",onClick:()=>S(L,"reject"),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50 transition-all duration-200 shadow-sm hover:shadow",disabled:!1}),q},A=async L=>{try{r?(await d(Km(L)).unwrap(),await d(jo()).unwrap(),Y.success("Transfer updated successfully")):(await d(Km(L)).unwrap(),await d(jo()).unwrap(),Y.success("Transfer created successfully")),e(!1)}catch(q){console.error("Error:",q),Y.error("An error occurred")}},T=L=>{n(L),o(!1),e(!0)},I=L=>{u(L),l(!0)},k=async()=>{var L,q;if(c){f(!0);try{const E=await De.post("/fundTransfer/void",{ID:c.ID});E.data?(Y.success(E.data.message||"Budget Fund Transfer Voided Successfully"),d(jo())):Y.error("Failed to void Budget Fund Transfer")}catch(E){console.error("Error voiding Budget Fund Transfer:",E),Y.error(((q=(L=E.response)==null?void 0:L.data)==null?void 0:q.message)||E.message||"Failed to void Budget Fund Transfer")}finally{f(!1),l(!1),u(null)}}},$=L=>{n(L),o(!0),e(!0)};return a.jsxs("div",{className:"page-container",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsx("div",{className:"space-y-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:a.jsx(Tae,{className:"h-6 w-6 text-primary-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-neutral-900",children:"Fund Transfer"}),a.jsx("p",{className:"text-sm text-neutral-600 mt-0.5",children:"Transfer monetary assets from one fund to another."})]})]})}),a.jsx("div",{className:"flex items-center gap-3",children:p&&a.jsxs("button",{type:"button",onClick:()=>T(null),className:"btn btn-primary flex items-center gap-2 shadow-md hover:shadow-lg transition-shadow",children:[a.jsx(cn,{className:"h-5 w-5"}),"Add Transfer"]})})]}),!g&&(y==null?void 0:y.length)>0&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-blue-700 mb-1",children:"Total Transfers"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-900 break-words",children:w.total})]}),a.jsx("div",{className:"p-2 sm:p-3 bg-blue-200 rounded-lg flex-shrink-0",children:a.jsx(ir,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-green-700 mb-1",children:"Total Amount"}),a.jsx("p",{className:"text-base sm:text-lg lg:text-xl font-bold text-green-900 break-words leading-tight",children:fe(w.totalAmount)})]}),a.jsx("div",{className:"p-2 sm:p-3 bg-green-200 rounded-lg flex-shrink-0",children:a.jsx(Qs,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-yellow-700 mb-1",children:"Requested"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-yellow-900 break-words",children:w.requested})]}),a.jsx("div",{className:"p-2 sm:p-3 bg-yellow-200 rounded-lg flex-shrink-0",children:a.jsx(La,{className:"h-5 w-5 sm:h-6 sm:w-6 text-yellow-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border border-emerald-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-emerald-700 mb-1",children:"Posted"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-emerald-900 break-words",children:w.posted})]}),a.jsx("div",{className:"p-2 sm:p-3 bg-emerald-200 rounded-lg flex-shrink-0",children:a.jsx(Ep,{className:"h-5 w-5 sm:h-6 sm:w-6 text-emerald-700"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100 border border-red-200 rounded-xl p-4 sm:p-5 shadow-sm hover:shadow-md transition-shadow min-w-0",children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm font-medium text-red-700 mb-1",children:"Rejected"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-red-900 break-words",children:w.rejected})]}),a.jsx("div",{className:"p-2 sm:p-3 bg-red-200 rounded-lg flex-shrink-0",children:a.jsx(CV,{className:"h-5 w-5 sm:h-6 sm:w-6 text-red-700"})})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-neutral-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-neutral-200 bg-neutral-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-neutral-900",children:["Transfer Entries",a.jsxs("span",{className:"ml-2 text-sm font-normal text-neutral-600",children:["(",(y==null?void 0:y.length)||0," ",((y==null?void 0:y.length)||0)===1?"entry":"entries",")"]})]})}),a.jsx(je,{columns:N,data:y||[],actions:C,loading:m||g,onRowClick:$,pagination:!0})]}),a.jsx(me,{size:"xl",isOpen:t,onClose:()=>{e(!1),n(null),o(!1)},title:s?"View Fund Transfer":r?"Edit Fund Transfer":"Add Fund Transfer",children:a.jsx(eYe,{onSubmit:A,initialData:r,readOnly:s,onClose:()=>{e(!1),n(null),o(!1)},fundOptions:b,fiscalYearOptions:v==null?void 0:v.map(L=>({label:L.Name,value:L.ID}))})}),a.jsx(hd,{isOpen:i,onClose:()=>l(!1),onConfirm:k,title:"Void Budget Fund Transfer",message:"Are you sure you want to void this budget fund transfer? This action cannot be undone.",confirmText:"Void",isDestructive:!0})]})},aYe=pe().shape({reportType:M().required("Report type is required"),date:Ye().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:M().required("Action is required"),month:ae().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:ae().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:ae().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Ye().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Ye().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(Dl("fromDate"),"To date must be after from date")}),notedBy:M().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function sYe({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!0,marriageCert:!0,burialCert:!0,generalService:!0,propertyTax:!0,marketTicketing:!0}},s=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],o=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,m,f,p)=>{switch(e){case"daily":return a.jsx(D,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:p,value:f.date,error:d.date,touched:m.date});case"monthly":return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Month",name:"month",type:"select",options:o,value:f.month,onChange:p,required:!0,error:d.month,touched:m.month}),a.jsx(D,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:f.year,onChange:p,error:d.year,touched:m.year})]});case"quarterly":return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"Quarter",name:"quarter",type:"select",options:i,value:f.quarter,onChange:p,required:!0,error:d.quarter,touched:m.quarter}),a.jsx(D,{label:"Year",name:"year",type:"number",required:!0,value:f.year,onChange:p,min:2e3,max:2100,error:d.year,touched:m.year})]});case"flexible":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(D,{label:"From Date",name:"fromDate",type:"date",required:!0,value:f.fromDate,onChange:p,error:d.fromDate,touched:m.fromDate}),a.jsx(D,{label:"To Date",name:"toDate",type:"date",required:!0,value:f.toDate,onChange:p,error:d.toDate,touched:m.toDate})]}),a.jsx(D,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:f.notedBy,onChange:p,error:d.notedBy,touched:m.notedBy})]});default:return null}},u=(d,{setSubmitting:m,setErrors:f})=>{try{const p={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let h={};switch(d.reportType){case"daily":h={date:d.date};break;case"monthly":h={month:d.month,year:d.year};break;case"quarterly":h={quarter:d.quarter,year:d.year};break;case"flexible":h={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const y={...p,...h};t({...d,action:d.action,params:y})}catch(p){console.error("Error submitting form:",p),f({submit:p.message})}finally{m(!1)}};return a.jsx(He,{initialValues:n,validationSchema:aYe,onSubmit:u,children:({values:d,errors:m,touched:f,setFieldValue:p,handleSubmit:h,handleChange:y,setErrors:b,isSubmitting:g})=>a.jsxs(Ze,{className:"space-y-4",children:[function(){console.log(e,d,m)}(),a.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:s.map(x=>a.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===x.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(x.value),p("reportType",x.value)},children:x.label},x.value))}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(m,f,d,y)}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(x=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`document-${x.name}`,name:`documentTypes.${x.name}`,checked:d.documentTypes[x.name],onChange:v=>{p(`documentTypes.${x.name}`,v.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:`document-${x.name}`,className:"ml-2 block text-sm text-gray-700",children:x.label})]},x.name))})]}),a.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[a.jsx("button",{type:"button",onClick:()=>{p("action","view"),h(),b({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),a.jsx("button",{type:"button",onClick:()=>{p("action","generate"),h()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),a.jsx("button",{type:"button",onClick:()=>{p("action","export"),h()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const aH="http://192.168.1.215:5001",oYe=async(t,e)=>{try{const r=sessionStorage.getItem("token");let n=`${aH}/collectionreport/${t}?`;const s=new URLSearchParams;switch(e.ctc!==void 0&&s.append("ctc",e.ctc?1:0),e.btc!==void 0&&s.append("btc",e.btc?1:0),e.mrc!==void 0&&s.append("mrc",e.mrc?1:0),e.gsi!==void 0&&s.append("gsi",e.gsi?1:0),e.rpt!==void 0&&s.append("rpt",e.rpt?1:0),e.pmt!==void 0&&s.append("pmt",e.pmt?1:0),t){case"daily":s.append("date",e.date);break;case"monthly":s.append("month",e.month),s.append("year",e.year);break;case"quarterly":s.append("quarter",e.quarter),s.append("year",e.year);break;case"flexible":s.append("startdate",e.startDate),s.append("enddate",e.endDate),e.note&&s.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=s.toString();const o=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await o.json();if(!o.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},iYe=async(t,e)=>{try{const r=sessionStorage.getItem("token");let n="";const s=new URLSearchParams;switch(e.ctc!==void 0&&s.append("ctc",e.ctc?1:0),e.btc!==void 0&&s.append("btc",e.btc?1:0),e.mrc!==void 0&&s.append("mrc",e.mrc?1:0),e.gsi!==void 0&&s.append("gsi",e.gsi?1:0),e.rpt!==void 0&&s.append("rpt",e.rpt?1:0),e.pmt!==void 0&&s.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",s.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",s.append("month",e.month),s.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",s.append("quarter",e.quarter),s.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",s.append("startdate",e.startdate),s.append("enddate",e.enddate),e.note&&s.append("note",e.note);break;default:throw new Error("Invalid report type")}const o=`${aH}${n}?${s.toString()}`,i=await fetch(o,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const p=await i.json();throw new Error(p.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,m=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let f="";switch(t){case"daily":f=`Daily_Report_${e.date.replace(/-/g,"")}_${m}.xlsx`;break;case"monthly":f=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${m}.xlsx`;break;case"quarterly":f=`Quarterly_Report_Q${e.quarter}_${e.year}_${m}.xlsx`;break;case"flexible":f=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${m}.xlsx`;break}u.setAttribute("download",f),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}},sH=j.forwardRef(({type:t,data:e},r)=>a.jsxs("div",{ref:r,className:"p-6 text-black text-sm",children:[t==="daily"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-center",children:"Republic of the Philippines"}),a.jsx("h3",{className:"text-lg text-center",children:"DAILY COLLECTION REPORT"}),a.jsxs("table",{className:"w-full border mt-6",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"border p-2",children:"OR Date"}),a.jsx("th",{className:"border p-2",children:"OR No"}),a.jsx("th",{className:"border p-2",children:"Payor"}),a.jsx("th",{className:"border p-2",children:"Amount"}),a.jsx("th",{className:"border p-2",children:"Posted By"})]})}),a.jsx("tbody",{children:e.map((n,s)=>{var o;return a.jsxs("tr",{children:[a.jsx("td",{className:"border p-2",children:n.ORDate}),a.jsx("td",{className:"border p-2",children:n.ORNo}),a.jsx("td",{className:"border p-2",children:n.Payor}),a.jsx("td",{className:"border p-2 text-right",children:(o=n.Amount)==null?void 0:o.toLocaleString("en-US",{style:"currency",currency:"PHP"})}),a.jsx("td",{className:"border p-2",children:n.PostedBy})]},s)})})]}),a.jsxs("div",{className:"mt-6 flex justify-between",children:[a.jsx("p",{children:"Prepared By: __________"}),a.jsx("p",{children:"Noted By: __________"})]})]}),t==="monthly"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-center",children:"MONTHLY COLLECTION SUMMARY"}),a.jsxs("table",{className:"w-full border mt-6",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"border p-2",children:"Month"}),a.jsx("th",{className:"border p-2",children:"Year"}),a.jsx("th",{className:"border p-2",children:"Charge Account"}),a.jsx("th",{className:"border p-2",children:"Expense Name"}),a.jsx("th",{className:"border p-2",children:"Amount"}),a.jsx("th",{className:"border p-2",children:"Date Range"}),a.jsx("th",{className:"border p-2",children:"Processed By"}),a.jsx("th",{className:"border p-2",children:"Position"})]})}),a.jsx("tbody",{children:e.map((n,s)=>{var o;return a.jsxs("tr",{children:[a.jsx("td",{className:"border p-2",children:n.Month}),a.jsx("td",{className:"border p-2",children:n.Year}),a.jsx("td",{className:"border p-2",children:n.ChargeAccountID}),a.jsx("td",{className:"border p-2",children:n.Name}),a.jsx("td",{className:"border p-2 text-right",children:(o=n.SubTotal)==null?void 0:o.toLocaleString("en-US",{style:"currency",currency:"PHP"})}),a.jsxs("td",{className:"border p-2",children:[n.Date1," to ",n.Date2]}),a.jsx("td",{className:"border p-2",children:n.FullName}),a.jsx("td",{className:"border p-2",children:n.Position})]},s)})})]})]}),t==="quarterly"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-center",children:"QUARTERLY COLLECTION SUMMARY"}),a.jsxs("table",{className:"w-full border mt-6",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"border p-2",children:"Quarter"}),a.jsx("th",{className:"border p-2",children:"Year"}),a.jsx("th",{className:"border p-2",children:"Charge Account"}),a.jsx("th",{className:"border p-2",children:"Expense Name"}),a.jsx("th",{className:"border p-2",children:"Fund Name"}),a.jsx("th",{className:"border p-2",children:"Breakdown"}),a.jsx("th",{className:"border p-2",children:"Total"}),a.jsx("th",{className:"border p-2",children:"Processed By"})]})}),a.jsx("tbody",{children:e.map((n,s)=>{var o;return a.jsxs("tr",{children:[a.jsx("td",{className:"border p-2",children:n.Quarter}),a.jsx("td",{className:"border p-2",children:n.Year}),a.jsx("td",{className:"border p-2",children:n.ChargeAccountID}),a.jsx("td",{className:"border p-2",children:n.Name}),a.jsx("td",{className:"border p-2",children:n.FundName}),a.jsxs("td",{className:"border p-2",children:["Q1: ",n.First," | Q2: ",n.Second," | Q3: ",n.Third]}),a.jsx("td",{className:"border p-2 text-right",children:(o=n.Total)==null?void 0:o.toLocaleString("en-US",{style:"currency",currency:"PHP"})}),a.jsx("td",{className:"border p-2",children:n.FullName})]},s)})})]})]}),t==="flexible"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-center",children:"FLEXIBLE COLLECTION REPORT"}),a.jsxs("table",{className:"w-full border mt-6",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"border p-2",children:"Date Range"}),a.jsx("th",{className:"border p-2",children:"Invoice #"}),a.jsx("th",{className:"border p-2",children:"Customer"}),a.jsx("th",{className:"border p-2",children:"Municipality"}),a.jsx("th",{className:"border p-2",children:"Province"}),a.jsx("th",{className:"border p-2",children:"Amount"}),a.jsx("th",{className:"border p-2",children:"Processed By"}),a.jsx("th",{className:"border p-2",children:"Noted By"}),a.jsx("th",{className:"border p-2",children:"Remarks"})]})}),a.jsx("tbody",{children:e.map((n,s)=>{var o;return a.jsxs("tr",{children:[a.jsxs("td",{className:"border p-2",children:[n.StartDate," to ",n.EndDate]}),a.jsx("td",{className:"border p-2",children:n.InvoiceNumber}),a.jsx("td",{className:"border p-2",children:n.CustomerName}),a.jsx("td",{className:"border p-2",children:n.Municipality}),a.jsx("td",{className:"border p-2",children:n.Province}),a.jsx("td",{className:"border p-2 text-right",children:(o=n.Total)==null?void 0:o.toLocaleString("en-US",{style:"currency",currency:"PHP"})}),a.jsxs("td",{className:"border p-2",children:[n.Prepare," (",n.PreparePosition,")"]}),a.jsxs("td",{className:"border p-2",children:[n.Poster," (",n.NotedPosition,")"]}),a.jsx("td",{className:"border p-2",children:n.Note})]},s)})})]})]})]}));sH.displayName="CollectionReportPrintView";function lYe(){const[t,e]=j.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=j.useState("daily"),[s,o]=j.useState(!1),i=j.useRef(),l=qn.useReactToPrint({contentRef:i,documentTitle:`CollectionReport-${r}`}),c=async d=>{o(!0);try{switch(d.action){case"view":const m=await oYe(d.reportType,d.params);e(f=>({...f,[d.reportType]:m})),n(d.reportType);break;case"generate":if(n(d.reportType),!t[d.reportType]||t[d.reportType].length===0){Y.error("Please view the report before generating.");break}l();break;case"export":await iYe(d.reportType,d.params);break;default:break}}catch(m){console.error("Error handling collection report action:",m),Y.error("Failed to handle collection report action.")}finally{o(!1)}},u={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:d=>d||"-"},{key:"FundsID",header:"Funds ID",render:d=>d||"-"},{key:"Name",header:"Name",render:d=>d||"-"},{key:"Account",header:"Account",render:d=>d||"-"},{key:"SubTotal",header:"Sub-Total",render:d=>d.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:d=>new Date(d).toLocaleDateString()},{key:"FullName",header:"Full Name",render:d=>d||"-"},{key:"Position",header:"Position",render:d=>d||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:d=>(d==null?void 0:d.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(d,m)=>`${m.Date1} to ${m.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(d,m)=>`Q1: ${m.First} | Q2: ${m.Second} | Q3: ${m.Third}`},{key:"Total",header:"Total",render:d=>(d==null?void 0:d.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(d,m)=>`${m.StartDate} to ${m.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:d=>(d==null?void 0:d.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(d,m)=>`${m.Prepare} (${m.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(d,m)=>`${m.Poster} (${m.NotedPosition})`},{key:"Note",header:"Remarks"}]};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:a.jsx(sYe,{onSubmitCollectionReport:c,activeReportType:r,setActiveReportType:n})}),a.jsx("div",{className:"bg-white rounded-lg shadow",children:a.jsx(je,{columns:u[r],data:t[r],loading:s,emptyMessage:"No collection entries found for the selected date."})}),a.jsx("div",{style:{display:"none"},children:a.jsx(sH,{ref:i,type:r,data:t[r]})})]})}const cYe=pe().shape({StartDate:Ye().required("From Date is required").max(Dl("EndDate"),"From Date must be before or equal to To Date"),EndDate:Ye().required("To Date is required").min(Dl("StartDate"),"To Date must be after or equal to From Date"),fund:M().required("Fund is required")});function uYe({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=ee(i=>i.funds),n=he();j.useEffect(()=>{n(rr())},[n]);const s=[{value:"all",label:"All Funds"},...(r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})))||[]],o=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund==="all"?"%":i.fund};delete c.fund,t(c),l(!1)};return a.jsx(He,{initialValues:e,validationSchema:cYe,onSubmit:o,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:m})=>a.jsxs(Ze,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[a.jsx(D,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:m,error:l.StartDate,touched:c.StartDate}),a.jsx(D,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:m,error:l.EndDate,touched:c.EndDate}),a.jsx(D,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:m,error:l.fund,touched:c.fund,options:s})]}),a.jsxs("div",{className:"flex justify-end  max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[a.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),a.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),a.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const oH="http://192.168.1.215:5001",dYe=async t=>{try{const e=sessionStorage.getItem("token"),r=`${oH}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch cashbook data");return s}catch(e){throw console.error("Error fetching cashbook:",e),e}},mYe=async t=>{try{const e=sessionStorage.getItem("token"),r=`${oH}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const f=await n.json();throw new Error(f.message||"Failed to export cashbook")}const s=await n.blob(),o=window.URL.createObjectURL(s),i=document.createElement("a");i.href=o;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,m=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",m),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(o)}catch(e){throw console.error("Error exporting cashbook:",e),e}},iH=j.forwardRef(({data:t},e)=>{var r,n;return a.jsxs("div",{ref:e,className:"p-8 w-full text-black",style:{fontFamily:"Arial, sans-serif"},children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Cashbook Report"}),a.jsxs("p",{children:[t==null?void 0:t.StartDate," - ",t==null?void 0:t.EndDate]}),a.jsxs("p",{children:["Fund: ",(t==null?void 0:t.FundName)||"All Funds"]})]}),a.jsxs("table",{className:"w-full text-sm border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-1",children:"Year"}),a.jsx("th",{className:"text-left py-1",children:"Officer"}),a.jsx("th",{className:"text-left py-1",children:"Fund"}),a.jsx("th",{className:"text-left py-1",children:"Invoice Date"}),a.jsx("th",{className:"text-left py-1",children:"AP AR"}),a.jsx("th",{className:"text-left py-1",children:"Invoice Number"}),a.jsx("th",{className:"text-right py-1",children:"Debit"}),a.jsx("th",{className:"text-right py-1",children:"Credit"}),a.jsx("th",{className:"text-right py-1",children:"Balance"})]})}),a.jsx("tbody",{children:t.map((s,o)=>{var i,l,c;return a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-1",children:s.Year||"-"}),a.jsx("td",{className:"py-1",children:s.Officer||"-"}),a.jsx("td",{className:"py-1",children:s.Fund||"-"}),a.jsx("td",{className:"py-1",children:s.InvoiceDate?new Date(s.InvoiceDate).toLocaleDateString():"-"}),a.jsx("td",{className:"py-1",children:s.APAR||"-"}),a.jsx("td",{className:"py-1",children:s.InvoiceNumber||"-"}),a.jsx("td",{className:"py-1 text-right",children:((i=s.Debit)==null?void 0:i.toLocaleString("en-PH",{style:"currency",currency:"PHP"}))||"0.00"}),a.jsx("td",{className:"py-1 text-right",children:((l=s.Credit)==null?void 0:l.toLocaleString("en-PH",{style:"currency",currency:"PHP"}))||"0.00"}),a.jsx("td",{className:"py-1 text-right",children:((c=s.Balance)==null?void 0:c.toLocaleString("en-PH",{style:"currency",currency:"PHP"}))||"0.00"})]},o)})})]}),a.jsxs("div",{className:"mt-6 text-right font-bold",children:["Total Balance:"," ",((n=(r=t[t.length-1])==null?void 0:r.Balance)==null?void 0:n.toLocaleString("en-PH",{style:"currency",currency:"PHP"}))||"0.00"]})]})});iH.displayName="CashbookPrintView";function fYe(){const[t,e]=j.useState([]),[r,n]=j.useState(!1),s=j.useRef(),o=qn.useReactToPrint({contentRef:s,documentTitle:"Cashbook Report"}),i=async c=>{n(!0);const{action:u,...d}=c;try{switch(u){case"view":const m=await dYe(d);e(m);break;case"generate":if(t.length===0){Y.error("Please view the report before generating.");break}o();break;case"export":await mYe(d);break;default:break}}catch(m){console.error("Error handling cashbook action:",m)}finally{n(!1)}},l=[{key:"Year",header:"Year",render:c=>c||"-"},{key:"Officer",header:"Officer",render:c=>c||"-"},{key:"Fund",header:"Fund",render:c=>c||"-"},{key:"InvoiceDate",header:"Invoice Date",render:c=>c?new Date(c).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:c=>c||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:c=>c||"-"},{key:"Debit",header:"Debit",render:c=>c?c.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:c=>c?c.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:c=>c?c.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),a.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:a.jsx(uYe,{onSubmit:i})}),a.jsx("div",{className:"bg-white rounded-lg shadow",children:a.jsx(je,{columns:l,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})}),a.jsx("div",{style:{display:"none"},children:a.jsx(iH,{ref:s,data:t})})]})}function pYe(){const{isAuthenticated:t,isLoading:e}=ee(s=>s.auth),r=he(),n=Zs();return j.useEffect(()=>{const s=sessionStorage.getItem("token");s&&r(yg(s))},[r]),j.useEffect(()=>{},[n.pathname]),e?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):a.jsxs(a.Fragment,{children:[a.jsx(ZZ,{position:"top-right"}),a.jsxs(nX,{children:[a.jsxs(ye,{element:a.jsx(qle,{}),children:[a.jsx(ye,{path:"/login",element:t?a.jsx($d,{to:"/",replace:!0}):a.jsx(yfe,{})}),a.jsx(ye,{path:"/register",element:t?a.jsx($d,{to:"/",replace:!0}):a.jsx(xfe,{})}),a.jsx(ye,{path:"/forgot-password",element:t?a.jsx($d,{to:"/",replace:!0}):a.jsx(bfe,{})}),a.jsx(ye,{path:"/reset-password",element:t?a.jsx($d,{to:"/",replace:!0}):a.jsx(vfe,{})})]}),a.jsxs(ye,{element:a.jsx(Ble,{}),children:[a.jsx(ye,{path:"/dashboard",element:a.jsx(T_e,{})}),a.jsx(ye,{path:"/profile",element:a.jsx(c8e,{})}),a.jsx(ye,{path:"/budget-dashboard",element:a.jsx(tHe,{})}),a.jsx(ye,{path:"/disbursement-dashboard",element:a.jsx(rHe,{})}),a.jsx(ye,{path:"/collection-dashboard",element:a.jsx(nHe,{})}),a.jsx(ye,{path:"/change-password",element:a.jsx(ZGe,{})}),a.jsx(ye,{path:"/settings/departments",element:a.jsx(W4e,{})}),a.jsx(ye,{path:"/settings/subdepartments",element:a.jsx(u3e,{})}),a.jsx(ye,{path:"/settings/lgu-maintenance",element:a.jsx(AGe,{})}),a.jsx(ye,{path:"/settings/locations",element:a.jsx(e6e,{})}),a.jsx(ye,{path:"/settings/users",element:a.jsx(x3e,{})}),a.jsx(ye,{path:"/settings/user-roles",element:a.jsx(YBe,{})}),a.jsx(ye,{path:"/settings/role-access",element:a.jsx(XGe,{})}),a.jsx(ye,{path:"/settings/employees",element:a.jsx(VBe,{})}),a.jsx(ye,{path:"/settings/employmentStatus",element:a.jsx(zBe,{})}),a.jsx(ye,{path:"/settings/positions",element:a.jsx(GBe,{})}),a.jsx(ye,{path:"/settings/nationalities",element:a.jsx(JBe,{})}),a.jsx(ye,{path:"/settings/approval-matrix",element:a.jsx(T6e,{})}),a.jsx(ye,{path:"/settings/vendors",element:a.jsx(xBe,{})}),a.jsx(ye,{path:"/settings/customer",element:a.jsx(Bqe,{})}),a.jsx(ye,{path:"/settings/bank",element:a.jsx($6e,{})}),a.jsx(ye,{path:"/settings/currency",element:a.jsx(J4e,{})}),a.jsx(ye,{path:"/settings/document-details",element:a.jsx(B6e,{})}),a.jsx(ye,{path:"/settings/document-type-categories",element:a.jsx(V6e,{})}),a.jsx(ye,{path:"/settings/items",element:a.jsx(J6e,{})}),a.jsx(ye,{path:"/settings/items/units",element:a.jsx(aqe,{})}),a.jsx(ye,{path:"/settings/project-type",element:a.jsx(cqe,{})}),a.jsx(ye,{path:"/settings/project-details",element:a.jsx(pqe,{})}),a.jsx(ye,{path:"/settings/financial-statement",element:a.jsx(bqe,{})}),a.jsx(ye,{path:"/settings/fiscal-year",element:a.jsx(Cqe,{})}),a.jsx(ye,{path:"/settings/tax-code",element:a.jsx(Iqe,{})}),a.jsx(ye,{path:"/settings/mode-of-payment",element:a.jsx(Pqe,{})}),a.jsx(ye,{path:"/settings/payment-terms",element:a.jsx(Eqe,{})}),a.jsx(ye,{path:"/settings/industry",element:a.jsx(Oqe,{})}),a.jsx(ye,{path:"/settings/chart-of-accounts",element:a.jsx($3e,{})}),a.jsx(ye,{path:"/settings/account-group",element:a.jsx(L3e,{})}),a.jsx(ye,{path:"/settings/major-account-group",element:a.jsx(M3e,{})}),a.jsx(ye,{path:"/settings/sub-major-account-group",element:a.jsx(B3e,{})}),a.jsx(ye,{path:"/settings/tax-declaration",element:a.jsx(Jqe,{})}),a.jsx(ye,{path:"/settings/base-unit-value",element:a.jsx(lVe,{})}),a.jsx(ye,{path:"/settings/general-revision",element:a.jsx(Zqe,{})}),a.jsx(ye,{path:"/settings/ppe",element:a.jsx(h6e,{})}),a.jsx(ye,{path:"/settings/ppe-categories",element:a.jsx(y6e,{})}),a.jsx(ye,{path:"/settings/ppe-suppliers",element:a.jsx(b6e,{})}),a.jsx(ye,{path:"/settings/modules",element:a.jsx(kBe,{})}),a.jsx(ye,{path:"/settings/vendor-customer-type",element:a.jsx(wBe,{})}),a.jsx(ye,{path:"/settings/vendor-type",element:a.jsx(SBe,{})}),a.jsx(ye,{path:"/disbursement/obligation-requests",element:a.jsx(u8e,{})}),a.jsx(ye,{path:"/disbursement/vouchers",element:a.jsx(y8e,{})}),a.jsx(ye,{path:"/disbursement/cheque-generator",element:a.jsx(DGe,{})}),a.jsx(ye,{path:"/disbursement/journal-entry-vouchers",element:a.jsx(P8e,{})}),a.jsx(ye,{path:"/disbursement/travel-orders",element:a.jsx(w8e,{})}),a.jsx(ye,{path:"/disbursement/disbursement-journals",element:a.jsx(R8e,{})}),a.jsx(ye,{path:"/disbursement/general-journals",element:a.jsx(q8e,{})}),a.jsx(ye,{path:"/disbursement/beginning-balance",element:a.jsx(Y8e,{})}),a.jsx(ye,{path:"/disbursement/purchase-requests",element:a.jsx(NWe,{})}),a.jsx(ye,{path:"/disbursement/fund-utilization-requests",element:a.jsx(kWe,{})}),a.jsx(ye,{path:"/reports/general-ledger",element:a.jsx(LGe,{})}),a.jsx(ye,{path:"/reports/subsidiary-ledger",element:a.jsx(VGe,{})}),a.jsx(ye,{path:"/reports/financial-statements",element:a.jsx(YGe,{})}),a.jsx(ye,{path:"/reports/bir",element:a.jsx(JGe,{})}),a.jsx(ye,{path:"/reports/trial-balance",element:a.jsx(vHe,{})}),a.jsx(ye,{path:"/collections/community-tax",element:a.jsx(RWe,{})}),a.jsx(ye,{path:"/collections/community-tax-corporation",element:a.jsx(BWe,{})}),a.jsx(ye,{path:"/collections/real-property-tax",element:a.jsx(pHe,{})}),a.jsx(ye,{path:"/collections/market",element:a.jsx(qWe,{})}),a.jsx(ye,{path:"/collections/general-service-receipts",element:a.jsx(cHe,{})}),a.jsx(ye,{path:"/collections/burial-service-receipts",element:a.jsx(HWe,{})}),a.jsx(ye,{path:"/collections/marriage-service-receipts",element:a.jsx(eGe,{})}),a.jsx(ye,{path:"/collections/public-market-tickets",element:a.jsx(iGe,{})}),a.jsx(ye,{path:"/collections/business-permits",element:a.jsx(PGe,{})}),a.jsx(ye,{path:"/collections/cashbook",element:a.jsx(fYe,{})}),a.jsx(ye,{path:"/collections/reports",element:a.jsx(lYe,{})}),a.jsx(ye,{path:"/budget",element:a.jsx(bGe,{})}),a.jsx(ye,{path:"/budget/allotment",element:a.jsx(SHe,{})}),a.jsx(ye,{path:"/budget/details",element:a.jsx(IHe,{})}),a.jsx(ye,{path:"/budget/new",element:a.jsx(hGe,{})}),a.jsx(ye,{path:"/budget/summary",element:a.jsx(THe,{})}),a.jsx(ye,{path:"/budget/supplemental",element:a.jsx($He,{})}),a.jsx(ye,{path:"/budget/transfer",element:a.jsx(qHe,{})}),a.jsx(ye,{path:"/budget/funds",element:a.jsx(zHe,{})}),a.jsx(ye,{path:"/budget/sub-funds",element:a.jsx(XHe,{})}),a.jsx(ye,{path:"/budget/fund-transfer",element:a.jsx(nYe,{})}),a.jsx(ye,{path:"/budget/report",element:a.jsx(KGe,{})}),a.jsx(ye,{path:"/budget/statement-comparison",element:a.jsx(SGe,{})}),a.jsx(ye,{path:"/budget/statement-appropriation",element:a.jsx(GHe,{})})]}),a.jsx(ye,{path:"/",element:a.jsx($d,{to:"/dashboard\\",replace:!0})}),a.jsx(ye,{path:"*",element:a.jsx(P_e,{})})]})]})}const lH=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],hYe={vendors:lH,vendor:null,isLoading:!1,error:null},eS=K("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(lH)},500)})}catch(r){return e.rejectWithValue(r.message)}}),tS=K("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),rS=K("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),cH=Ce({name:"vendors",initialState:hYe,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(eS.pending,e=>{e.isLoading=!0}).addCase(eS.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(eS.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(tS.pending,e=>{e.isLoading=!0}).addCase(tS.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(tS.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rS.pending,e=>{e.isLoading=!0}).addCase(rS.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(s=>s.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(rS.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:DKe,resetVendorState:OKe}=cH.actions,gYe=cH.reducer,yYe="http://192.168.1.215:5001",xYe={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},nS=K("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=sessionStorage.getItem("token"),n=await fetch(`${yYe}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to fetch");return s}catch(r){return e.rejectWithValue(r.message)}}),bYe=Ce({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(nS.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nS.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(nS.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=xYe})}}),vYe=bYe.reducer,aS=K("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await nt.get("/api/general-service-receipts")).data),sS=K("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await nt.post("/api/general-service-receipts",t)).data),oS=K("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await nt.put(`/api/general-service-receipts/${t}`,e)).data),iS=K("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await nt.delete(`/api/general-service-receipts/${t}`),t)),lS=K("generalServiceReceipts/getGeneralServiceReceiptCurrentNumber",async()=>(await nt.get("/api/general-service-receipts/getCurrentNumber")).data),jYe={receipts:[],currentNumber:null,loading:!1,error:null},uH=Ce({name:"generalServiceReceipts",initialState:jYe,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(aS.pending,e=>{e.loading=!0,e.error=null}).addCase(aS.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(aS.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(sS.pending,e=>{e.loading=!0,e.error=null}).addCase(sS.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(sS.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(oS.pending,e=>{e.loading=!0,e.error=null}).addCase(oS.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(s=>s.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(oS.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(iS.pending,e=>{e.loading=!0,e.error=null}).addCase(iS.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(iS.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(lS.pending,e=>{e.loading=!0,e.error=null}).addCase(lS.fulfilled,(e,r)=>{e.loading=!1,e.currentNumber=r.payload}).addCase(lS.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:$Ke}=uH.actions,NYe=uH.reducer,wYe=_X({reducer:{auth:uZ,departments:z4e,currencies:Y4e,subdepartments:Q4e,users:f3e,chartOfAccounts:j3e,accountGroups:C3e,majorAccountGroups:I3e,subMajorAccountGroups:k3e,vendors:gYe,employees:I_e,obligationRequests:J7e,fundUtilizations:SWe,disbursementVouchers:m8e,travelOrders:N8e,ppes:d6e,ppeCategories:n6e,ppeSuppliers:o6e,approvalMatrix:I6e,banks:E6e,documentDetails:N6e,documentTypeCategories:_6e,items:W6e,invoiceChargeAccounts:rqe,itemUnits:Y6e,projectDetails:fqe,projectTypes:lqe,financialStatements:xqe,fiscalYears:wqe,taxCodes:dBe,modeOfPayments:yBe,paymentTerms:pBe,industries:lBe,employmentStatuses:LBe,positions:OBe,userroles:g3e,nationalities:_Be,vendorCustomerTypes:NBe,vendorTypes:sBe,journalEntries:T8e,purchaseRequests:eze,taxDeclarations:Gqe,baseUnits:iVe,regions:H3e,provinces:J3e,municipalities:Q3e,barangays:rBe,generalRevisions:Kqe,modules:PBe,generalServiceReceipts:NYe,disbursementJournal:$8e,beginningBalance:z8e,generalJournal:B8e,generalLedger:r8e,trialBalance:bHe,statementComparison:CGe,subsidiaryLedger:qGe,financialStatementsReports:HGe,fundTransfer:rYe,budgetTransfer:BHe,budget:l8e,subFunds:xGe,funds:s8e,budgetDashboard:vYe,vendorDetails:z3e,burialRecords:GWe,marriageRecords:QWe,publicMarketTicketing:nGe,communityTax:OWe,corporateCommunityTax:MWe,generalReceipts:sHe,realPropertyTax:tVe,customers:_qe,businessPermits:TGe},middleware:t=>t({serializableCheck:!1})});cS.createRoot(document.getElementById("root")).render(a.jsx(Q.StrictMode,{children:a.jsx(oJ,{store:wYe,children:a.jsx(uX,{children:a.jsx(pYe,{})})})}))});export default CYe();
