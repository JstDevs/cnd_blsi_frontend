var v8=Object.defineProperty;var j8=(t,e,r)=>e in t?v8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var w8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var he=(t,e,r)=>j8(t,typeof e!="symbol"?e+"":e,r);var S9e=w8((An,In)=>{function N8(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function it(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C5={exports:{}},Z0={},S5={exports:{}},Je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=Symbol.for("react.element"),C8=Symbol.for("react.portal"),S8=Symbol.for("react.fragment"),A8=Symbol.for("react.strict_mode"),I8=Symbol.for("react.profiler"),k8=Symbol.for("react.provider"),T8=Symbol.for("react.context"),E8=Symbol.for("react.forward_ref"),P8=Symbol.for("react.suspense"),D8=Symbol.for("react.memo"),O8=Symbol.for("react.lazy"),uP=Symbol.iterator;function _8(t){return t===null||typeof t!="object"?null:(t=uP&&t[uP]||t["@@iterator"],typeof t=="function"?t:null)}var A5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I5=Object.assign,k5={};function xu(t,e,r){this.props=t,this.context=e,this.refs=k5,this.updater=r||A5}xu.prototype.isReactComponent={};xu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T5(){}T5.prototype=xu.prototype;function B2(t,e,r){this.props=t,this.context=e,this.refs=k5,this.updater=r||A5}var q2=B2.prototype=new T5;q2.constructor=B2;I5(q2,xu.prototype);q2.isPureReactComponent=!0;var dP=Array.isArray,E5=Object.prototype.hasOwnProperty,V2={current:null},P5={key:!0,ref:!0,__self:!0,__source:!0};function D5(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)E5.call(e,n)&&!P5.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Um,type:t,key:s,ref:i,props:a,_owner:V2.current}}function $8(t,e){return{$$typeof:Um,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function U2(t){return typeof t=="object"&&t!==null&&t.$$typeof===Um}function R8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var fP=/\/+/g;function Qw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?R8(""+t.key):e.toString(36)}function $h(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Um:case C8:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+Qw(i,0):n,dP(a)?(r="",t!=null&&(r=t.replace(fP,"$&/")+"/"),$h(a,e,r,"",function(u){return u})):a!=null&&(U2(a)&&(a=$8(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(fP,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",dP(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+Qw(s,l);i+=$h(s,e,r,c,a)}else if(c=_8(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+Qw(s,l++),i+=$h(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Sp(t,e,r){if(t==null)return t;var n=[],a=0;return $h(t,n,"","",function(s){return e.call(r,s,a++)}),n}function M8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jr={current:null},Rh={transition:null},L8={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:Rh,ReactCurrentOwner:V2};function O5(){throw Error("act(...) is not supported in production builds of React.")}Je.Children={map:Sp,forEach:function(t,e,r){Sp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Sp(t,function(){e++}),e},toArray:function(t){return Sp(t,function(e){return e})||[]},only:function(t){if(!U2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Je.Component=xu;Je.Fragment=S8;Je.Profiler=I8;Je.PureComponent=B2;Je.StrictMode=A8;Je.Suspense=P8;Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L8;Je.act=O5;Je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=I5({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=V2.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)E5.call(e,c)&&!P5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Um,type:t.type,key:a,ref:s,props:n,_owner:i}};Je.createContext=function(t){return t={$$typeof:T8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:k8,_context:t},t.Consumer=t};Je.createElement=D5;Je.createFactory=function(t){var e=D5.bind(null,t);return e.type=t,e};Je.createRef=function(){return{current:null}};Je.forwardRef=function(t){return{$$typeof:E8,render:t}};Je.isValidElement=U2;Je.lazy=function(t){return{$$typeof:O8,_payload:{_status:-1,_result:t},_init:M8}};Je.memo=function(t,e){return{$$typeof:D8,type:t,compare:e===void 0?null:e}};Je.startTransition=function(t){var e=Rh.transition;Rh.transition={};try{t()}finally{Rh.transition=e}};Je.unstable_act=O5;Je.useCallback=function(t,e){return Jr.current.useCallback(t,e)};Je.useContext=function(t){return Jr.current.useContext(t)};Je.useDebugValue=function(){};Je.useDeferredValue=function(t){return Jr.current.useDeferredValue(t)};Je.useEffect=function(t,e){return Jr.current.useEffect(t,e)};Je.useId=function(){return Jr.current.useId()};Je.useImperativeHandle=function(t,e,r){return Jr.current.useImperativeHandle(t,e,r)};Je.useInsertionEffect=function(t,e){return Jr.current.useInsertionEffect(t,e)};Je.useLayoutEffect=function(t,e){return Jr.current.useLayoutEffect(t,e)};Je.useMemo=function(t,e){return Jr.current.useMemo(t,e)};Je.useReducer=function(t,e,r){return Jr.current.useReducer(t,e,r)};Je.useRef=function(t){return Jr.current.useRef(t)};Je.useState=function(t){return Jr.current.useState(t)};Je.useSyncExternalStore=function(t,e,r){return Jr.current.useSyncExternalStore(t,e,r)};Je.useTransition=function(){return Jr.current.useTransition()};Je.version="18.3.1";S5.exports=Je;var w=S5.exports;const H=it(w),Nf=N8({__proto__:null,default:H},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F8=w,B8=Symbol.for("react.element"),q8=Symbol.for("react.fragment"),V8=Object.prototype.hasOwnProperty,U8=F8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z8={key:!0,ref:!0,__self:!0,__source:!0};function _5(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)V8.call(e,n)&&!z8.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:B8,type:t,key:s,ref:i,props:a,_owner:U8.current}}Z0.Fragment=q8;Z0.jsx=_5;Z0.jsxs=_5;C5.exports=Z0;var o=C5.exports,RC={},$5={exports:{}},Rn={},R5={exports:{}},M5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,R){var B=O.length;O.push(R);e:for(;0<B;){var U=B-1>>>1,G=O[U];if(0<a(G,R))O[U]=R,O[B]=G,B=U;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var R=O[0],B=O.pop();if(B!==R){O[0]=B;e:for(var U=0,G=O.length,W=G>>>1;U<W;){var ae=2*(U+1)-1,be=O[ae],se=ae+1,J=O[se];if(0>a(be,B))se<G&&0>a(J,be)?(O[U]=J,O[se]=B,U=se):(O[U]=be,O[ae]=B,U=ae);else if(se<G&&0>a(J,B))O[U]=J,O[se]=B,U=se;else break e}}return R}function a(O,R){var B=O.sortIndex-R.sortIndex;return B!==0?B:O.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=O)n(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(u)}}function C(O){if(y=!1,v(O),!g)if(r(c)!==null)g=!0,P(j);else{var R=r(u);R!==null&&F(C,R.startTime-O)}}function j(O,R){g=!1,y&&(y=!1,h(A),A=-1),p=!0;var B=m;try{for(v(R),f=r(c);f!==null&&(!(f.expirationTime>R)||O&&!E());){var U=f.callback;if(typeof U=="function"){f.callback=null,m=f.priorityLevel;var G=U(f.expirationTime<=R);R=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),v(R)}else n(c);f=r(c)}if(f!==null)var W=!0;else{var ae=r(u);ae!==null&&F(C,ae.startTime-R),W=!1}return W}finally{f=null,m=B,p=!1}}var N=!1,S=null,A=-1,k=5,T=-1;function E(){return!(t.unstable_now()-T<k)}function $(){if(S!==null){var O=t.unstable_now();T=O;var R=!0;try{R=S(!0,O)}finally{R?L():(N=!1,S=null)}}else N=!1}var L;if(typeof x=="function")L=function(){x($)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,D=M.port2;M.port1.onmessage=$,L=function(){D.postMessage(null)}}else L=function(){b($,0)};function P(O){S=O,N||(N=!0,L())}function F(O,R){A=b(function(){O(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,P(j))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var B=m;m=R;try{return O()}finally{m=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=m;m=O;try{return R()}finally{m=B}},t.unstable_scheduleCallback=function(O,R,B){var U=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?U+B:U):B=U,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,O={id:d++,callback:R,priorityLevel:O,startTime:B,expirationTime:G,sortIndex:-1},B>U?(O.sortIndex=B,e(u,O),r(c)===null&&O===r(u)&&(y?(h(A),A=-1):y=!0,F(C,B-U))):(O.sortIndex=G,e(c,O),g||p||(g=!0,P(j))),O},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(O){var R=m;return function(){var B=m;m=R;try{return O.apply(this,arguments)}finally{m=B}}}})(M5);R5.exports=M5;var W8=R5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H8=w,En=W8;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L5=new Set,Cf={};function wl(t,e){Mc(t,e),Mc(t+"Capture",e)}function Mc(t,e){for(Cf[t]=e,t=0;t<e.length;t++)L5.add(e[t])}var Is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),MC=Object.prototype.hasOwnProperty,G8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mP={},pP={};function Y8(t){return MC.call(pP,t)?!0:MC.call(mP,t)?!1:G8.test(t)?pP[t]=!0:(mP[t]=!0,!1)}function K8(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J8(t,e,r,n){if(e===null||typeof e>"u"||K8(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xr(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tr[t]=new Xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tr[e]=new Xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tr[t]=new Xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tr[t]=new Xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tr[t]=new Xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tr[t]=new Xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tr[t]=new Xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tr[t]=new Xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tr[t]=new Xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var z2=/[\-:]([a-z])/g;function W2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(z2,W2);Tr[e]=new Xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(z2,W2);Tr[e]=new Xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(z2,W2);Tr[e]=new Xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tr[t]=new Xr(t,1,!1,t.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new Xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tr[t]=new Xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function H2(t,e,r,n){var a=Tr.hasOwnProperty(e)?Tr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(J8(e,r,a,n)&&(r=null),n||a===null?Y8(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Bs=H8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ap=Symbol.for("react.element"),Kl=Symbol.for("react.portal"),Jl=Symbol.for("react.fragment"),G2=Symbol.for("react.strict_mode"),LC=Symbol.for("react.profiler"),F5=Symbol.for("react.provider"),B5=Symbol.for("react.context"),Y2=Symbol.for("react.forward_ref"),FC=Symbol.for("react.suspense"),BC=Symbol.for("react.suspense_list"),K2=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),q5=Symbol.for("react.offscreen"),hP=Symbol.iterator;function Wu(t){return t===null||typeof t!="object"?null:(t=hP&&t[hP]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Object.assign,eN;function Nd(t){if(eN===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);eN=e&&e[1]||""}return`
`+eN+t}var tN=!1;function rN(t,e){if(!t||tN)return"";tN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{tN=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Nd(t):""}function X8(t){switch(t.tag){case 5:return Nd(t.type);case 16:return Nd("Lazy");case 13:return Nd("Suspense");case 19:return Nd("SuspenseList");case 0:case 2:case 15:return t=rN(t.type,!1),t;case 11:return t=rN(t.type.render,!1),t;case 1:return t=rN(t.type,!0),t;default:return""}}function qC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jl:return"Fragment";case Kl:return"Portal";case LC:return"Profiler";case G2:return"StrictMode";case FC:return"Suspense";case BC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case B5:return(t.displayName||"Context")+".Consumer";case F5:return(t._context.displayName||"Context")+".Provider";case Y2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K2:return e=t.displayName||null,e!==null?e:qC(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return qC(t(e))}catch{}}return null}function Z8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qC(e);case 8:return e===G2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q8(t){var e=V5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ip(t){t._valueTracker||(t._valueTracker=Q8(t))}function U5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=V5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function tx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function VC(t,e){var r=e.checked;return Ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function gP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Lo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z5(t,e){e=e.checked,e!=null&&H2(t,"checked",e,!1)}function UC(t,e){z5(t,e);var r=Lo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zC(t,e.type,r):e.hasOwnProperty("defaultValue")&&zC(t,e.type,Lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function zC(t,e,r){(e!=="number"||tx(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Cd=Array.isArray;function fc(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Lo(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function WC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(fe(92));if(Cd(r)){if(1<r.length)throw Error(fe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Lo(r)}}function W5(t,e){var r=Lo(e.value),n=Lo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function xP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function H5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function HC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?H5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kp,G5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kp=kp||document.createElement("div"),kp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Fd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eW=["Webkit","ms","Moz","O"];Object.keys(Fd).forEach(function(t){eW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fd[e]=Fd[t]})});function Y5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Fd.hasOwnProperty(t)&&Fd[t]?(""+e).trim():e+"px"}function K5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Y5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var tW=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function GC(t,e){if(e){if(tW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function YC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KC=null;function J2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var JC=null,mc=null,pc=null;function vP(t){if(t=Hm(t)){if(typeof JC!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=nv(e),JC(t.stateNode,t.type,e))}}function J5(t){mc?pc?pc.push(t):pc=[t]:mc=t}function X5(){if(mc){var t=mc,e=pc;if(pc=mc=null,vP(t),e)for(t=0;t<e.length;t++)vP(e[t])}}function Z5(t,e){return t(e)}function Q5(){}var nN=!1;function e4(t,e,r){if(nN)return t(e,r);nN=!0;try{return Z5(t,e,r)}finally{nN=!1,(mc!==null||pc!==null)&&(Q5(),X5())}}function Af(t,e){var r=t.stateNode;if(r===null)return null;var n=nv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(fe(231,e,typeof r));return r}var XC=!1;if(Is)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){XC=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{XC=!1}function rW(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Bd=!1,rx=null,nx=!1,ZC=null,nW={onError:function(t){Bd=!0,rx=t}};function aW(t,e,r,n,a,s,i,l,c){Bd=!1,rx=null,rW.apply(nW,arguments)}function sW(t,e,r,n,a,s,i,l,c){if(aW.apply(this,arguments),Bd){if(Bd){var u=rx;Bd=!1,rx=null}else throw Error(fe(198));nx||(nx=!0,ZC=u)}}function Nl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function t4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jP(t){if(Nl(t)!==t)throw Error(fe(188))}function oW(t){var e=t.alternate;if(!e){if(e=Nl(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return jP(a),t;if(s===n)return jP(a),e;s=s.sibling}throw Error(fe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?t:e}function r4(t){return t=oW(t),t!==null?n4(t):null}function n4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=n4(t);if(e!==null)return e;t=t.sibling}return null}var a4=En.unstable_scheduleCallback,wP=En.unstable_cancelCallback,iW=En.unstable_shouldYield,lW=En.unstable_requestPaint,er=En.unstable_now,cW=En.unstable_getCurrentPriorityLevel,X2=En.unstable_ImmediatePriority,s4=En.unstable_UserBlockingPriority,ax=En.unstable_NormalPriority,uW=En.unstable_LowPriority,o4=En.unstable_IdlePriority,Q0=null,La=null;function dW(t){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(Q0,t,void 0,(t.current.flags&128)===128)}catch{}}var ha=Math.clz32?Math.clz32:pW,fW=Math.log,mW=Math.LN2;function pW(t){return t>>>=0,t===0?32:31-(fW(t)/mW|0)|0}var Tp=64,Ep=4194304;function Sd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sx(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=Sd(l):(s&=i,s!==0&&(n=Sd(s)))}else i=r&~a,i!==0?n=Sd(i):s!==0&&(n=Sd(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ha(e),a=1<<r,n|=t[r],e&=~a;return n}function hW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-ha(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=hW(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function QC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i4(){var t=Tp;return Tp<<=1,!(Tp&4194240)&&(Tp=64),t}function aN(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ha(e),t[e]=r}function yW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ha(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function Z2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ha(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var pt=0;function l4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var c4,Q2,u4,d4,f4,eS=!1,Pp=[],yo=null,bo=null,xo=null,If=new Map,kf=new Map,so=[],bW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NP(t,e){switch(t){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":If.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(e.pointerId)}}function Gu(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Hm(e),e!==null&&Q2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function xW(t,e,r,n,a){switch(e){case"focusin":return yo=Gu(yo,t,e,r,n,a),!0;case"dragenter":return bo=Gu(bo,t,e,r,n,a),!0;case"mouseover":return xo=Gu(xo,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return If.set(s,Gu(If.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,kf.set(s,Gu(kf.get(s)||null,t,e,r,n,a)),!0}return!1}function m4(t){var e=ki(t.target);if(e!==null){var r=Nl(e);if(r!==null){if(e=r.tag,e===13){if(e=t4(r),e!==null){t.blockedOn=e,f4(t.priority,function(){u4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);KC=n,r.target.dispatchEvent(n),KC=null}else return e=Hm(r),e!==null&&Q2(e),t.blockedOn=r,!1;e.shift()}return!0}function CP(t,e,r){Mh(t)&&r.delete(e)}function vW(){eS=!1,yo!==null&&Mh(yo)&&(yo=null),bo!==null&&Mh(bo)&&(bo=null),xo!==null&&Mh(xo)&&(xo=null),If.forEach(CP),kf.forEach(CP)}function Yu(t,e){t.blockedOn===e&&(t.blockedOn=null,eS||(eS=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,vW)))}function Tf(t){function e(a){return Yu(a,t)}if(0<Pp.length){Yu(Pp[0],t);for(var r=1;r<Pp.length;r++){var n=Pp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(yo!==null&&Yu(yo,t),bo!==null&&Yu(bo,t),xo!==null&&Yu(xo,t),If.forEach(e),kf.forEach(e),r=0;r<so.length;r++)n=so[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<so.length&&(r=so[0],r.blockedOn===null);)m4(r),r.blockedOn===null&&so.shift()}var hc=Bs.ReactCurrentBatchConfig,ox=!0;function jW(t,e,r,n){var a=pt,s=hc.transition;hc.transition=null;try{pt=1,ek(t,e,r,n)}finally{pt=a,hc.transition=s}}function wW(t,e,r,n){var a=pt,s=hc.transition;hc.transition=null;try{pt=4,ek(t,e,r,n)}finally{pt=a,hc.transition=s}}function ek(t,e,r,n){if(ox){var a=tS(t,e,r,n);if(a===null)pN(t,e,n,ix,r),NP(t,n);else if(xW(a,t,e,r,n))n.stopPropagation();else if(NP(t,n),e&4&&-1<bW.indexOf(t)){for(;a!==null;){var s=Hm(a);if(s!==null&&c4(s),s=tS(t,e,r,n),s===null&&pN(t,e,n,ix,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else pN(t,e,n,null,r)}}var ix=null;function tS(t,e,r,n){if(ix=null,t=J2(n),t=ki(t),t!==null)if(e=Nl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=t4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ix=t,null}function p4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cW()){case X2:return 1;case s4:return 4;case ax:case uW:return 16;case o4:return 536870912;default:return 16}default:return 16}}var lo=null,tk=null,Lh=null;function h4(){if(Lh)return Lh;var t,e=tk,r=e.length,n,a="value"in lo?lo.value:lo.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return Lh=a.slice(t,1<n?1-n:void 0)}function Fh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dp(){return!0}function SP(){return!1}function Mn(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dp:SP,this.isPropagationStopped=SP,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Dp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Dp)},persist:function(){},isPersistent:Dp}),e}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rk=Mn(vu),Wm=Ut({},vu,{view:0,detail:0}),NW=Mn(Wm),sN,oN,Ku,ev=Ut({},Wm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ku&&(Ku&&t.type==="mousemove"?(sN=t.screenX-Ku.screenX,oN=t.screenY-Ku.screenY):oN=sN=0,Ku=t),sN)},movementY:function(t){return"movementY"in t?t.movementY:oN}}),AP=Mn(ev),CW=Ut({},ev,{dataTransfer:0}),SW=Mn(CW),AW=Ut({},Wm,{relatedTarget:0}),iN=Mn(AW),IW=Ut({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),kW=Mn(IW),TW=Ut({},vu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EW=Mn(TW),PW=Ut({},vu,{data:0}),IP=Mn(PW),DW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_W={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $W(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_W[t])?!!e[t]:!1}function nk(){return $W}var RW=Ut({},Wm,{key:function(t){if(t.key){var e=DW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nk,charCode:function(t){return t.type==="keypress"?Fh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MW=Mn(RW),LW=Ut({},ev,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kP=Mn(LW),FW=Ut({},Wm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nk}),BW=Mn(FW),qW=Ut({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),VW=Mn(qW),UW=Ut({},ev,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zW=Mn(UW),WW=[9,13,27,32],ak=Is&&"CompositionEvent"in window,qd=null;Is&&"documentMode"in document&&(qd=document.documentMode);var HW=Is&&"TextEvent"in window&&!qd,g4=Is&&(!ak||qd&&8<qd&&11>=qd),TP=" ",EP=!1;function y4(t,e){switch(t){case"keyup":return WW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xl=!1;function GW(t,e){switch(t){case"compositionend":return b4(e);case"keypress":return e.which!==32?null:(EP=!0,TP);case"textInput":return t=e.data,t===TP&&EP?null:t;default:return null}}function YW(t,e){if(Xl)return t==="compositionend"||!ak&&y4(t,e)?(t=h4(),Lh=tk=lo=null,Xl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g4&&e.locale!=="ko"?null:e.data;default:return null}}var KW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KW[t.type]:e==="textarea"}function x4(t,e,r,n){J5(n),e=lx(e,"onChange"),0<e.length&&(r=new rk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vd=null,Ef=null;function JW(t){E4(t,0)}function tv(t){var e=ec(t);if(U5(e))return t}function XW(t,e){if(t==="change")return e}var v4=!1;if(Is){var lN;if(Is){var cN="oninput"in document;if(!cN){var DP=document.createElement("div");DP.setAttribute("oninput","return;"),cN=typeof DP.oninput=="function"}lN=cN}else lN=!1;v4=lN&&(!document.documentMode||9<document.documentMode)}function OP(){Vd&&(Vd.detachEvent("onpropertychange",j4),Ef=Vd=null)}function j4(t){if(t.propertyName==="value"&&tv(Ef)){var e=[];x4(e,Ef,t,J2(t)),e4(JW,e)}}function ZW(t,e,r){t==="focusin"?(OP(),Vd=e,Ef=r,Vd.attachEvent("onpropertychange",j4)):t==="focusout"&&OP()}function QW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tv(Ef)}function eH(t,e){if(t==="click")return tv(e)}function tH(t,e){if(t==="input"||t==="change")return tv(e)}function rH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ja=typeof Object.is=="function"?Object.is:rH;function Pf(t,e){if(ja(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!MC.call(e,a)||!ja(t[a],e[a]))return!1}return!0}function _P(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $P(t,e){var r=_P(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_P(r)}}function w4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?w4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function N4(){for(var t=window,e=tx();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=tx(t.document)}return e}function sk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nH(t){var e=N4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&w4(r.ownerDocument.documentElement,r)){if(n!==null&&sk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=$P(r,s);var i=$P(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aH=Is&&"documentMode"in document&&11>=document.documentMode,Zl=null,rS=null,Ud=null,nS=!1;function RP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nS||Zl==null||Zl!==tx(n)||(n=Zl,"selectionStart"in n&&sk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ud&&Pf(Ud,n)||(Ud=n,n=lx(rS,"onSelect"),0<n.length&&(e=new rk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zl)))}function Op(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ql={animationend:Op("Animation","AnimationEnd"),animationiteration:Op("Animation","AnimationIteration"),animationstart:Op("Animation","AnimationStart"),transitionend:Op("Transition","TransitionEnd")},uN={},C4={};Is&&(C4=document.createElement("div").style,"AnimationEvent"in window||(delete Ql.animationend.animation,delete Ql.animationiteration.animation,delete Ql.animationstart.animation),"TransitionEvent"in window||delete Ql.transitionend.transition);function rv(t){if(uN[t])return uN[t];if(!Ql[t])return t;var e=Ql[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in C4)return uN[t]=e[r];return t}var S4=rv("animationend"),A4=rv("animationiteration"),I4=rv("animationstart"),k4=rv("transitionend"),T4=new Map,MP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){T4.set(t,e),wl(e,[t])}for(var dN=0;dN<MP.length;dN++){var fN=MP[dN],sH=fN.toLowerCase(),oH=fN[0].toUpperCase()+fN.slice(1);Ho(sH,"on"+oH)}Ho(S4,"onAnimationEnd");Ho(A4,"onAnimationIteration");Ho(I4,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(k4,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ad));function LP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,sW(n,e,void 0,t),t.currentTarget=null}function E4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;LP(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;LP(a,l,u),s=c}}}if(nx)throw t=ZC,nx=!1,ZC=null,t}function kt(t,e){var r=e[lS];r===void 0&&(r=e[lS]=new Set);var n=t+"__bubble";r.has(n)||(P4(e,t,2,!1),r.add(n))}function mN(t,e,r){var n=0;e&&(n|=4),P4(r,t,n,e)}var _p="_reactListening"+Math.random().toString(36).slice(2);function Df(t){if(!t[_p]){t[_p]=!0,L5.forEach(function(r){r!=="selectionchange"&&(iH.has(r)||mN(r,!1,t),mN(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_p]||(e[_p]=!0,mN("selectionchange",!1,e))}}function P4(t,e,r,n){switch(p4(e)){case 1:var a=jW;break;case 4:a=wW;break;default:a=ek}r=a.bind(null,e,r,t),a=void 0,!XC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function pN(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ki(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}e4(function(){var u=s,d=J2(r),f=[];e:{var m=T4.get(t);if(m!==void 0){var p=rk,g=t;switch(t){case"keypress":if(Fh(r)===0)break e;case"keydown":case"keyup":p=MW;break;case"focusin":g="focus",p=iN;break;case"focusout":g="blur",p=iN;break;case"beforeblur":case"afterblur":p=iN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=AP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=SW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BW;break;case S4:case A4:case I4:p=kW;break;case k4:p=VW;break;case"scroll":p=NW;break;case"wheel":p=zW;break;case"copy":case"cut":case"paste":p=EW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kP}var y=(e&4)!==0,b=!y&&t==="scroll",h=y?m!==null?m+"Capture":null:m;y=[];for(var x=u,v;x!==null;){v=x;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,h!==null&&(C=Af(x,h),C!=null&&y.push(Of(x,C,v)))),b)break;x=x.return}0<y.length&&(m=new p(m,g,null,r,d),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&r!==KC&&(g=r.relatedTarget||r.fromElement)&&(ki(g)||g[ks]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?ki(g):null,g!==null&&(b=Nl(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=AP,C="onMouseLeave",h="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=kP,C="onPointerLeave",h="onPointerEnter",x="pointer"),b=p==null?m:ec(p),v=g==null?m:ec(g),m=new y(C,x+"leave",p,r,d),m.target=b,m.relatedTarget=v,C=null,ki(d)===u&&(y=new y(h,x+"enter",g,r,d),y.target=v,y.relatedTarget=b,C=y),b=C,p&&g)t:{for(y=p,h=g,x=0,v=y;v;v=Ml(v))x++;for(v=0,C=h;C;C=Ml(C))v++;for(;0<x-v;)y=Ml(y),x--;for(;0<v-x;)h=Ml(h),v--;for(;x--;){if(y===h||h!==null&&y===h.alternate)break t;y=Ml(y),h=Ml(h)}y=null}else y=null;p!==null&&FP(f,m,p,y,!1),g!==null&&b!==null&&FP(f,b,g,y,!0)}}e:{if(m=u?ec(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=XW;else if(PP(m))if(v4)j=tH;else{j=QW;var N=ZW}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=eH);if(j&&(j=j(t,u))){x4(f,j,r,d);break e}N&&N(t,m,u),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&zC(m,"number",m.value)}switch(N=u?ec(u):window,t){case"focusin":(PP(N)||N.contentEditable==="true")&&(Zl=N,rS=u,Ud=null);break;case"focusout":Ud=rS=Zl=null;break;case"mousedown":nS=!0;break;case"contextmenu":case"mouseup":case"dragend":nS=!1,RP(f,r,d);break;case"selectionchange":if(aH)break;case"keydown":case"keyup":RP(f,r,d)}var S;if(ak)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Xl?y4(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(g4&&r.locale!=="ko"&&(Xl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Xl&&(S=h4()):(lo=d,tk="value"in lo?lo.value:lo.textContent,Xl=!0)),N=lx(u,A),0<N.length&&(A=new IP(A,t,null,r,d),f.push({event:A,listeners:N}),S?A.data=S:(S=b4(r),S!==null&&(A.data=S)))),(S=HW?GW(t,r):YW(t,r))&&(u=lx(u,"onBeforeInput"),0<u.length&&(d=new IP("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}E4(f,e)})}function Of(t,e,r){return{instance:t,listener:e,currentTarget:r}}function lx(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Af(t,r),s!=null&&n.unshift(Of(t,s,a)),s=Af(t,e),s!=null&&n.push(Of(t,s,a))),t=t.return}return n}function Ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FP(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Af(r,s),c!=null&&i.unshift(Of(r,c,l))):a||(c=Af(r,s),c!=null&&i.push(Of(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var lH=/\r\n?/g,cH=/\u0000|\uFFFD/g;function BP(t){return(typeof t=="string"?t:""+t).replace(lH,`
`).replace(cH,"")}function $p(t,e,r){if(e=BP(e),BP(t)!==e&&r)throw Error(fe(425))}function cx(){}var aS=null,sS=null;function oS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iS=typeof setTimeout=="function"?setTimeout:void 0,uH=typeof clearTimeout=="function"?clearTimeout:void 0,qP=typeof Promise=="function"?Promise:void 0,dH=typeof queueMicrotask=="function"?queueMicrotask:typeof qP<"u"?function(t){return qP.resolve(null).then(t).catch(fH)}:iS;function fH(t){setTimeout(function(){throw t})}function hN(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Tf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Tf(e)}function vo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ju=Math.random().toString(36).slice(2),$a="__reactFiber$"+ju,_f="__reactProps$"+ju,ks="__reactContainer$"+ju,lS="__reactEvents$"+ju,mH="__reactListeners$"+ju,pH="__reactHandles$"+ju;function ki(t){var e=t[$a];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ks]||r[$a]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=VP(t);t!==null;){if(r=t[$a])return r;t=VP(t)}return e}t=r,r=t.parentNode}return null}function Hm(t){return t=t[$a]||t[ks],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ec(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function nv(t){return t[_f]||null}var cS=[],tc=-1;function Go(t){return{current:t}}function Dt(t){0>tc||(t.current=cS[tc],cS[tc]=null,tc--)}function At(t,e){tc++,cS[tc]=t.current,t.current=e}var Fo={},Br=Go(Fo),ln=Go(!1),il=Fo;function Lc(t,e){var r=t.type.contextTypes;if(!r)return Fo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function cn(t){return t=t.childContextTypes,t!=null}function ux(){Dt(ln),Dt(Br)}function UP(t,e,r){if(Br.current!==Fo)throw Error(fe(168));At(Br,e),At(ln,r)}function D4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(fe(108,Z8(t)||"Unknown",a));return Ut({},r,n)}function dx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fo,il=Br.current,At(Br,t),At(ln,ln.current),!0}function zP(t,e,r){var n=t.stateNode;if(!n)throw Error(fe(169));r?(t=D4(t,e,il),n.__reactInternalMemoizedMergedChildContext=t,Dt(ln),Dt(Br),At(Br,t)):Dt(ln),At(ln,r)}var ls=null,av=!1,gN=!1;function O4(t){ls===null?ls=[t]:ls.push(t)}function hH(t){av=!0,O4(t)}function Yo(){if(!gN&&ls!==null){gN=!0;var t=0,e=pt;try{var r=ls;for(pt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ls=null,av=!1}catch(a){throw ls!==null&&(ls=ls.slice(t+1)),a4(X2,Yo),a}finally{pt=e,gN=!1}}return null}var rc=[],nc=0,fx=null,mx=0,Wn=[],Hn=0,ll=null,fs=1,ms="";function bi(t,e){rc[nc++]=mx,rc[nc++]=fx,fx=t,mx=e}function _4(t,e,r){Wn[Hn++]=fs,Wn[Hn++]=ms,Wn[Hn++]=ll,ll=t;var n=fs;t=ms;var a=32-ha(n)-1;n&=~(1<<a),r+=1;var s=32-ha(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,fs=1<<32-ha(e)+a|r<<a|n,ms=s+t}else fs=1<<s|r<<a|n,ms=t}function ok(t){t.return!==null&&(bi(t,1),_4(t,1,0))}function ik(t){for(;t===fx;)fx=rc[--nc],rc[nc]=null,mx=rc[--nc],rc[nc]=null;for(;t===ll;)ll=Wn[--Hn],Wn[Hn]=null,ms=Wn[--Hn],Wn[Hn]=null,fs=Wn[--Hn],Wn[Hn]=null}var kn=null,Sn=null,$t=!1,ua=null;function $4(t,e){var r=Yn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function WP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,Sn=vo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ll!==null?{id:fs,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Yn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,kn=t,Sn=null,!0):!1;default:return!1}}function uS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dS(t){if($t){var e=Sn;if(e){var r=e;if(!WP(t,e)){if(uS(t))throw Error(fe(418));e=vo(r.nextSibling);var n=kn;e&&WP(t,e)?$4(n,r):(t.flags=t.flags&-4097|2,$t=!1,kn=t)}}else{if(uS(t))throw Error(fe(418));t.flags=t.flags&-4097|2,$t=!1,kn=t}}}function HP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function Rp(t){if(t!==kn)return!1;if(!$t)return HP(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oS(t.type,t.memoizedProps)),e&&(e=Sn)){if(uS(t))throw R4(),Error(fe(418));for(;e;)$4(t,e),e=vo(e.nextSibling)}if(HP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Sn=vo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=kn?vo(t.stateNode.nextSibling):null;return!0}function R4(){for(var t=Sn;t;)t=vo(t.nextSibling)}function Fc(){Sn=kn=null,$t=!1}function lk(t){ua===null?ua=[t]:ua.push(t)}var gH=Bs.ReactCurrentBatchConfig;function Ju(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,t))}return t}function Mp(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GP(t){var e=t._init;return e(t._payload)}function M4(t){function e(h,x){if(t){var v=h.deletions;v===null?(h.deletions=[x],h.flags|=16):v.push(x)}}function r(h,x){if(!t)return null;for(;x!==null;)e(h,x),x=x.sibling;return null}function n(h,x){for(h=new Map;x!==null;)x.key!==null?h.set(x.key,x):h.set(x.index,x),x=x.sibling;return h}function a(h,x){return h=Co(h,x),h.index=0,h.sibling=null,h}function s(h,x,v){return h.index=v,t?(v=h.alternate,v!==null?(v=v.index,v<x?(h.flags|=2,x):v):(h.flags|=2,x)):(h.flags|=1048576,x)}function i(h){return t&&h.alternate===null&&(h.flags|=2),h}function l(h,x,v,C){return x===null||x.tag!==6?(x=NN(v,h.mode,C),x.return=h,x):(x=a(x,v),x.return=h,x)}function c(h,x,v,C){var j=v.type;return j===Jl?d(h,x,v.props.children,C,v.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===eo&&GP(j)===x.type)?(C=a(x,v.props),C.ref=Ju(h,x,v),C.return=h,C):(C=Hh(v.type,v.key,v.props,null,h.mode,C),C.ref=Ju(h,x,v),C.return=h,C)}function u(h,x,v,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=CN(v,h.mode,C),x.return=h,x):(x=a(x,v.children||[]),x.return=h,x)}function d(h,x,v,C,j){return x===null||x.tag!==7?(x=Ui(v,h.mode,C,j),x.return=h,x):(x=a(x,v),x.return=h,x)}function f(h,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=NN(""+x,h.mode,v),x.return=h,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ap:return v=Hh(x.type,x.key,x.props,null,h.mode,v),v.ref=Ju(h,null,x),v.return=h,v;case Kl:return x=CN(x,h.mode,v),x.return=h,x;case eo:var C=x._init;return f(h,C(x._payload),v)}if(Cd(x)||Wu(x))return x=Ui(x,h.mode,v,null),x.return=h,x;Mp(h,x)}return null}function m(h,x,v,C){var j=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(h,x,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ap:return v.key===j?c(h,x,v,C):null;case Kl:return v.key===j?u(h,x,v,C):null;case eo:return j=v._init,m(h,x,j(v._payload),C)}if(Cd(v)||Wu(v))return j!==null?null:d(h,x,v,C,null);Mp(h,v)}return null}function p(h,x,v,C,j){if(typeof C=="string"&&C!==""||typeof C=="number")return h=h.get(v)||null,l(x,h,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ap:return h=h.get(C.key===null?v:C.key)||null,c(x,h,C,j);case Kl:return h=h.get(C.key===null?v:C.key)||null,u(x,h,C,j);case eo:var N=C._init;return p(h,x,v,N(C._payload),j)}if(Cd(C)||Wu(C))return h=h.get(v)||null,d(x,h,C,j,null);Mp(x,C)}return null}function g(h,x,v,C){for(var j=null,N=null,S=x,A=x=0,k=null;S!==null&&A<v.length;A++){S.index>A?(k=S,S=null):k=S.sibling;var T=m(h,S,v[A],C);if(T===null){S===null&&(S=k);break}t&&S&&T.alternate===null&&e(h,S),x=s(T,x,A),N===null?j=T:N.sibling=T,N=T,S=k}if(A===v.length)return r(h,S),$t&&bi(h,A),j;if(S===null){for(;A<v.length;A++)S=f(h,v[A],C),S!==null&&(x=s(S,x,A),N===null?j=S:N.sibling=S,N=S);return $t&&bi(h,A),j}for(S=n(h,S);A<v.length;A++)k=p(S,h,A,v[A],C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?A:k.key),x=s(k,x,A),N===null?j=k:N.sibling=k,N=k);return t&&S.forEach(function(E){return e(h,E)}),$t&&bi(h,A),j}function y(h,x,v,C){var j=Wu(v);if(typeof j!="function")throw Error(fe(150));if(v=j.call(v),v==null)throw Error(fe(151));for(var N=j=null,S=x,A=x=0,k=null,T=v.next();S!==null&&!T.done;A++,T=v.next()){S.index>A?(k=S,S=null):k=S.sibling;var E=m(h,S,T.value,C);if(E===null){S===null&&(S=k);break}t&&S&&E.alternate===null&&e(h,S),x=s(E,x,A),N===null?j=E:N.sibling=E,N=E,S=k}if(T.done)return r(h,S),$t&&bi(h,A),j;if(S===null){for(;!T.done;A++,T=v.next())T=f(h,T.value,C),T!==null&&(x=s(T,x,A),N===null?j=T:N.sibling=T,N=T);return $t&&bi(h,A),j}for(S=n(h,S);!T.done;A++,T=v.next())T=p(S,h,A,T.value,C),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?A:T.key),x=s(T,x,A),N===null?j=T:N.sibling=T,N=T);return t&&S.forEach(function($){return e(h,$)}),$t&&bi(h,A),j}function b(h,x,v,C){if(typeof v=="object"&&v!==null&&v.type===Jl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ap:e:{for(var j=v.key,N=x;N!==null;){if(N.key===j){if(j=v.type,j===Jl){if(N.tag===7){r(h,N.sibling),x=a(N,v.props.children),x.return=h,h=x;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===eo&&GP(j)===N.type){r(h,N.sibling),x=a(N,v.props),x.ref=Ju(h,N,v),x.return=h,h=x;break e}r(h,N);break}else e(h,N);N=N.sibling}v.type===Jl?(x=Ui(v.props.children,h.mode,C,v.key),x.return=h,h=x):(C=Hh(v.type,v.key,v.props,null,h.mode,C),C.ref=Ju(h,x,v),C.return=h,h=C)}return i(h);case Kl:e:{for(N=v.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){r(h,x.sibling),x=a(x,v.children||[]),x.return=h,h=x;break e}else{r(h,x);break}else e(h,x);x=x.sibling}x=CN(v,h.mode,C),x.return=h,h=x}return i(h);case eo:return N=v._init,b(h,x,N(v._payload),C)}if(Cd(v))return g(h,x,v,C);if(Wu(v))return y(h,x,v,C);Mp(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(r(h,x.sibling),x=a(x,v),x.return=h,h=x):(r(h,x),x=NN(v,h.mode,C),x.return=h,h=x),i(h)):r(h,x)}return b}var Bc=M4(!0),L4=M4(!1),px=Go(null),hx=null,ac=null,ck=null;function uk(){ck=ac=hx=null}function dk(t){var e=px.current;Dt(px),t._currentValue=e}function fS(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function gc(t,e){hx=t,ck=ac=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(ck!==t)if(t={context:t,memoizedValue:e,next:null},ac===null){if(hx===null)throw Error(fe(308));ac=t,hx.dependencies={lanes:0,firstContext:t}}else ac=ac.next=t;return e}var Ti=null;function fk(t){Ti===null?Ti=[t]:Ti.push(t)}function F4(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,fk(e)):(r.next=a.next,a.next=r),e.interleaved=r,Ts(t,n)}function Ts(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var to=!1;function mk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Ts(t,r)}return a=n.interleaved,a===null?(e.next=e,fk(n)):(e.next=a.next,a.next=e),n.interleaved=e,Ts(t,r)}function Bh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Z2(t,r)}}function YP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function gx(t,e,r,n){var a=t.updateQueue;to=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,p=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(m=e,p=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(p,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(p,f,m):g,m==null)break e;f=Ut({},f,m);break e;case 2:to=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);ul|=i,t.lanes=i,t.memoizedState=f}}function KP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(fe(191,a));a.call(n)}}}var Gm={},Fa=Go(Gm),$f=Go(Gm),Rf=Go(Gm);function Ei(t){if(t===Gm)throw Error(fe(174));return t}function pk(t,e){switch(At(Rf,e),At($f,t),At(Fa,Gm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:HC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=HC(e,t)}Dt(Fa),At(Fa,e)}function qc(){Dt(Fa),Dt($f),Dt(Rf)}function q4(t){Ei(Rf.current);var e=Ei(Fa.current),r=HC(e,t.type);e!==r&&(At($f,t),At(Fa,r))}function hk(t){$f.current===t&&(Dt(Fa),Dt($f))}var Bt=Go(0);function yx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yN=[];function gk(){for(var t=0;t<yN.length;t++)yN[t]._workInProgressVersionPrimary=null;yN.length=0}var qh=Bs.ReactCurrentDispatcher,bN=Bs.ReactCurrentBatchConfig,cl=0,qt=null,dr=null,yr=null,bx=!1,zd=!1,Mf=0,yH=0;function Pr(){throw Error(fe(321))}function yk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ja(t[r],e[r]))return!1;return!0}function bk(t,e,r,n,a,s){if(cl=s,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?jH:wH,t=r(n,a),zd){s=0;do{if(zd=!1,Mf=0,25<=s)throw Error(fe(301));s+=1,yr=dr=null,e.updateQueue=null,qh.current=NH,t=r(n,a)}while(zd)}if(qh.current=xx,e=dr!==null&&dr.next!==null,cl=0,yr=dr=qt=null,bx=!1,e)throw Error(fe(300));return t}function xk(){var t=Mf!==0;return Mf=0,t}function Ea(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?qt.memoizedState=yr=t:yr=yr.next=t,yr}function ea(){if(dr===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=dr.next;var e=yr===null?qt.memoizedState:yr.next;if(e!==null)yr=e,dr=t;else{if(t===null)throw Error(fe(310));dr=t,t={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},yr===null?qt.memoizedState=yr=t:yr=yr.next=t}return yr}function Lf(t,e){return typeof e=="function"?e(t):e}function xN(t){var e=ea(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=dr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((cl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,qt.lanes|=d,ul|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,ja(n,e.memoizedState)||(an=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,qt.lanes|=s,ul|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function vN(t){var e=ea(),r=e.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);ja(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function V4(){}function U4(t,e){var r=qt,n=ea(),a=e(),s=!ja(n.memoizedState,a);if(s&&(n.memoizedState=a,an=!0),n=n.queue,vk(H4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||yr!==null&&yr.memoizedState.tag&1){if(r.flags|=2048,Ff(9,W4.bind(null,r,n,a,e),void 0,null),xr===null)throw Error(fe(349));cl&30||z4(r,e,a)}return a}function z4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function W4(t,e,r,n){e.value=r,e.getSnapshot=n,G4(e)&&Y4(t)}function H4(t,e,r){return r(function(){G4(e)&&Y4(t)})}function G4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ja(t,r)}catch{return!0}}function Y4(t){var e=Ts(t,1);e!==null&&ga(e,t,1,-1)}function JP(t){var e=Ea();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:t},e.queue=t,t=t.dispatch=vH.bind(null,qt,t),[e.memoizedState,t]}function Ff(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function K4(){return ea().memoizedState}function Vh(t,e,r,n){var a=Ea();qt.flags|=t,a.memoizedState=Ff(1|e,r,void 0,n===void 0?null:n)}function sv(t,e,r,n){var a=ea();n=n===void 0?null:n;var s=void 0;if(dr!==null){var i=dr.memoizedState;if(s=i.destroy,n!==null&&yk(n,i.deps)){a.memoizedState=Ff(e,r,s,n);return}}qt.flags|=t,a.memoizedState=Ff(1|e,r,s,n)}function XP(t,e){return Vh(8390656,8,t,e)}function vk(t,e){return sv(2048,8,t,e)}function J4(t,e){return sv(4,2,t,e)}function X4(t,e){return sv(4,4,t,e)}function Z4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q4(t,e,r){return r=r!=null?r.concat([t]):null,sv(4,4,Z4.bind(null,e,t),r)}function jk(){}function eB(t,e){var r=ea();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function tB(t,e){var r=ea();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function rB(t,e,r){return cl&21?(ja(r,e)||(r=i4(),qt.lanes|=r,ul|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=r)}function bH(t,e){var r=pt;pt=r!==0&&4>r?r:4,t(!0);var n=bN.transition;bN.transition={};try{t(!1),e()}finally{pt=r,bN.transition=n}}function nB(){return ea().memoizedState}function xH(t,e,r){var n=No(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aB(t))sB(e,r);else if(r=F4(t,e,r,n),r!==null){var a=Kr();ga(r,t,n,a),oB(r,e,n)}}function vH(t,e,r){var n=No(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aB(t))sB(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,ja(l,i)){var c=e.interleaved;c===null?(a.next=a,fk(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=F4(t,e,a,n),r!==null&&(a=Kr(),ga(r,t,n,a),oB(r,e,n))}}function aB(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function sB(t,e){zd=bx=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function oB(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Z2(t,r)}}var xx={readContext:Qn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},jH={readContext:Qn,useCallback:function(t,e){return Ea().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:XP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vh(4194308,4,Z4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vh(4,2,t,e)},useMemo:function(t,e){var r=Ea();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ea();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xH.bind(null,qt,t),[n.memoizedState,t]},useRef:function(t){var e=Ea();return t={current:t},e.memoizedState=t},useState:JP,useDebugValue:jk,useDeferredValue:function(t){return Ea().memoizedState=t},useTransition:function(){var t=JP(!1),e=t[0];return t=bH.bind(null,t[1]),Ea().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=qt,a=Ea();if($t){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=e(),xr===null)throw Error(fe(349));cl&30||z4(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,XP(H4.bind(null,n,s,t),[t]),n.flags|=2048,Ff(9,W4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ea(),e=xr.identifierPrefix;if($t){var r=ms,n=fs;r=(n&~(1<<32-ha(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Mf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wH={readContext:Qn,useCallback:eB,useContext:Qn,useEffect:vk,useImperativeHandle:Q4,useInsertionEffect:J4,useLayoutEffect:X4,useMemo:tB,useReducer:xN,useRef:K4,useState:function(){return xN(Lf)},useDebugValue:jk,useDeferredValue:function(t){var e=ea();return rB(e,dr.memoizedState,t)},useTransition:function(){var t=xN(Lf)[0],e=ea().memoizedState;return[t,e]},useMutableSource:V4,useSyncExternalStore:U4,useId:nB,unstable_isNewReconciler:!1},NH={readContext:Qn,useCallback:eB,useContext:Qn,useEffect:vk,useImperativeHandle:Q4,useInsertionEffect:J4,useLayoutEffect:X4,useMemo:tB,useReducer:vN,useRef:K4,useState:function(){return vN(Lf)},useDebugValue:jk,useDeferredValue:function(t){var e=ea();return dr===null?e.memoizedState=t:rB(e,dr.memoizedState,t)},useTransition:function(){var t=vN(Lf)[0],e=ea().memoizedState;return[t,e]},useMutableSource:V4,useSyncExternalStore:U4,useId:nB,unstable_isNewReconciler:!1};function la(t,e){if(t&&t.defaultProps){e=Ut({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function mS(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ut({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ov={isMounted:function(t){return(t=t._reactInternals)?Nl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Kr(),a=No(t),s=xs(n,a);s.payload=e,r!=null&&(s.callback=r),e=jo(t,s,a),e!==null&&(ga(e,t,a,n),Bh(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Kr(),a=No(t),s=xs(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=jo(t,s,a),e!==null&&(ga(e,t,a,n),Bh(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Kr(),n=No(t),a=xs(r,n);a.tag=2,e!=null&&(a.callback=e),e=jo(t,a,n),e!==null&&(ga(e,t,n,r),Bh(e,t,n))}};function ZP(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!Pf(r,n)||!Pf(a,s):!0}function iB(t,e,r){var n=!1,a=Fo,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(a=cn(e)?il:Br.current,n=e.contextTypes,s=(n=n!=null)?Lc(t,a):Fo),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ov,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function QP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ov.enqueueReplaceState(e,e.state,null)}function pS(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},mk(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=Qn(s):(s=cn(e)?il:Br.current,a.context=Lc(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(mS(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&ov.enqueueReplaceState(a,a.state,null),gx(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Vc(t,e){try{var r="",n=e;do r+=X8(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function jN(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function hS(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var CH=typeof WeakMap=="function"?WeakMap:Map;function lB(t,e,r){r=xs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){jx||(jx=!0,SS=n),hS(t,e)},r}function cB(t,e,r){r=xs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){hS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){hS(t,e),typeof n!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function eD(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new CH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=LH.bind(null,t,e,r),e.then(t,t))}function tD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rD(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xs(-1,1),e.tag=2,jo(r,e,1))),r.lanes|=1),t)}var SH=Bs.ReactCurrentOwner,an=!1;function zr(t,e,r,n){e.child=t===null?L4(e,null,r,n):Bc(e,t.child,r,n)}function nD(t,e,r,n,a){r=r.render;var s=e.ref;return gc(e,a),n=bk(t,e,r,n,s,a),r=xk(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Es(t,e,a)):($t&&r&&ok(e),e.flags|=1,zr(t,e,n,a),e.child)}function aD(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!Tk(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,uB(t,e,s,n,a)):(t=Hh(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Pf,r(i,n)&&t.ref===e.ref)return Es(t,e,a)}return e.flags|=1,t=Co(s,n),t.ref=e.ref,t.return=e,e.child=t}function uB(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(Pf(s,n)&&t.ref===e.ref)if(an=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,Es(t,e,a)}return gS(t,e,r,n,a)}function dB(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(oc,wn),wn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,At(oc,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,At(oc,wn),wn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,At(oc,wn),wn|=n;return zr(t,e,a,r),e.child}function fB(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function gS(t,e,r,n,a){var s=cn(r)?il:Br.current;return s=Lc(e,s),gc(e,a),r=bk(t,e,r,n,s,a),n=xk(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Es(t,e,a)):($t&&n&&ok(e),e.flags|=1,zr(t,e,r,a),e.child)}function sD(t,e,r,n,a){if(cn(r)){var s=!0;dx(e)}else s=!1;if(gc(e,a),e.stateNode===null)Uh(t,e),iB(e,r,n),pS(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=cn(r)?il:Br.current,u=Lc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&QP(e,i,n,u),to=!1;var m=e.memoizedState;i.state=m,gx(e,n,i,a),c=e.memoizedState,l!==n||m!==c||ln.current||to?(typeof d=="function"&&(mS(e,r,d,n),c=e.memoizedState),(l=to||ZP(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,B4(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:la(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qn(c):(c=cn(r)?il:Br.current,c=Lc(e,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&QP(e,i,n,c),to=!1,m=e.memoizedState,i.state=m,gx(e,n,i,a);var g=e.memoizedState;l!==f||m!==g||ln.current||to?(typeof p=="function"&&(mS(e,r,p,n),g=e.memoizedState),(u=to||ZP(e,r,u,n,m,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return yS(t,e,r,n,s,a)}function yS(t,e,r,n,a,s){fB(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&zP(e,r,!1),Es(t,e,s);n=e.stateNode,SH.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Bc(e,t.child,null,s),e.child=Bc(e,null,l,s)):zr(t,e,l,s),e.memoizedState=n.state,a&&zP(e,r,!0),e.child}function mB(t){var e=t.stateNode;e.pendingContext?UP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&UP(t,e.context,!1),pk(t,e.containerInfo)}function oD(t,e,r,n,a){return Fc(),lk(a),e.flags|=256,zr(t,e,r,n),e.child}var bS={dehydrated:null,treeContext:null,retryLane:0};function xS(t){return{baseLanes:t,cachePool:null,transitions:null}}function pB(t,e,r){var n=e.pendingProps,a=Bt.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),At(Bt,a&1),t===null)return dS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=cv(i,n,0,null),t=Ui(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xS(r),e.memoizedState=bS,t):wk(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return AH(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Co(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Co(l,s):(s=Ui(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?xS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=bS,n}return s=t.child,t=s.sibling,n=Co(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function wk(t,e){return e=cv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lp(t,e,r,n){return n!==null&&lk(n),Bc(e,t.child,null,r),t=wk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AH(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=jN(Error(fe(422))),Lp(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=cv({mode:"visible",children:n.children},a,0,null),s=Ui(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Bc(e,t.child,null,i),e.child.memoizedState=xS(i),e.memoizedState=bS,s);if(!(e.mode&1))return Lp(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(fe(419)),n=jN(s,n,void 0),Lp(t,e,i,n)}if(l=(i&t.childLanes)!==0,an||l){if(n=xr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ts(t,a),ga(n,t,a,-1))}return kk(),n=jN(Error(fe(421))),Lp(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=FH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,Sn=vo(a.nextSibling),kn=e,$t=!0,ua=null,t!==null&&(Wn[Hn++]=fs,Wn[Hn++]=ms,Wn[Hn++]=ll,fs=t.id,ms=t.overflow,ll=e),e=wk(e,n.children),e.flags|=4096,e)}function iD(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fS(t.return,e,r)}function wN(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function hB(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(zr(t,e,n.children,r),n=Bt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iD(t,r,e);else if(t.tag===19)iD(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(Bt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&yx(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),wN(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&yx(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}wN(e,!0,r,null,s);break;case"together":wN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Es(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ul|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,r=Co(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Co(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function IH(t,e,r){switch(e.tag){case 3:mB(e),Fc();break;case 5:q4(e);break;case 1:cn(e.type)&&dx(e);break;case 4:pk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;At(px,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(At(Bt,Bt.current&1),e.flags|=128,null):r&e.child.childLanes?pB(t,e,r):(At(Bt,Bt.current&1),t=Es(t,e,r),t!==null?t.sibling:null);At(Bt,Bt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return hB(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),At(Bt,Bt.current),n)break;return null;case 22:case 23:return e.lanes=0,dB(t,e,r)}return Es(t,e,r)}var gB,vS,yB,bB;gB=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vS=function(){};yB=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ei(Fa.current);var s=null;switch(r){case"input":a=VC(t,a),n=VC(t,n),s=[];break;case"select":a=Ut({},a,{value:void 0}),n=Ut({},n,{value:void 0}),s=[];break;case"textarea":a=WC(t,a),n=WC(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=cx)}GC(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};bB=function(t,e,r,n){r!==n&&(e.flags|=4)};function Xu(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function kH(t,e,r){var n=e.pendingProps;switch(ik(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(e),null;case 1:return cn(e.type)&&ux(),Dr(e),null;case 3:return n=e.stateNode,qc(),Dt(ln),Dt(Br),gk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Rp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ua!==null&&(kS(ua),ua=null))),vS(t,e),Dr(e),null;case 5:hk(e);var a=Ei(Rf.current);if(r=e.type,t!==null&&e.stateNode!=null)yB(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(fe(166));return Dr(e),null}if(t=Ei(Fa.current),Rp(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[$a]=e,n[_f]=s,t=(e.mode&1)!==0,r){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(a=0;a<Ad.length;a++)kt(Ad[a],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":gP(n,s),kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},kt("invalid",n);break;case"textarea":bP(n,s),kt("invalid",n)}GC(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&$p(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&$p(n.textContent,l,t),a=["children",""+l]):Cf.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&kt("scroll",n)}switch(r){case"input":Ip(n),yP(n,s,!0);break;case"textarea":Ip(n),xP(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=cx)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=H5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[$a]=e,t[_f]=n,gB(t,e,!1,!1),e.stateNode=t;e:{switch(i=YC(r,n),r){case"dialog":kt("cancel",t),kt("close",t),a=n;break;case"iframe":case"object":case"embed":kt("load",t),a=n;break;case"video":case"audio":for(a=0;a<Ad.length;a++)kt(Ad[a],t);a=n;break;case"source":kt("error",t),a=n;break;case"img":case"image":case"link":kt("error",t),kt("load",t),a=n;break;case"details":kt("toggle",t),a=n;break;case"input":gP(t,n),a=VC(t,n),kt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Ut({},n,{value:void 0}),kt("invalid",t);break;case"textarea":bP(t,n),a=WC(t,n),kt("invalid",t);break;default:a=n}GC(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?K5(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&G5(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sf(t,c):typeof c=="number"&&Sf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&kt("scroll",t):c!=null&&H2(t,s,c,i))}switch(r){case"input":Ip(t),yP(t,n,!1);break;case"textarea":Ip(t),xP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Lo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?fc(t,!!n.multiple,s,!1):n.defaultValue!=null&&fc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=cx)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dr(e),null;case 6:if(t&&e.stateNode!=null)bB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(fe(166));if(r=Ei(Rf.current),Ei(Fa.current),Rp(e)){if(n=e.stateNode,r=e.memoizedProps,n[$a]=e,(s=n.nodeValue!==r)&&(t=kn,t!==null))switch(t.tag){case 3:$p(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$p(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$a]=e,e.stateNode=n}return Dr(e),null;case 13:if(Dt(Bt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&Sn!==null&&e.mode&1&&!(e.flags&128))R4(),Fc(),e.flags|=98560,s=!1;else if(s=Rp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[$a]=e}else Fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dr(e),s=!1}else ua!==null&&(kS(ua),ua=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Bt.current&1?fr===0&&(fr=3):kk())),e.updateQueue!==null&&(e.flags|=4),Dr(e),null);case 4:return qc(),vS(t,e),t===null&&Df(e.stateNode.containerInfo),Dr(e),null;case 10:return dk(e.type._context),Dr(e),null;case 17:return cn(e.type)&&ux(),Dr(e),null;case 19:if(Dt(Bt),s=e.memoizedState,s===null)return Dr(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Xu(s,!1);else{if(fr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=yx(t),i!==null){for(e.flags|=128,Xu(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(Bt,Bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&er()>Uc&&(e.flags|=128,n=!0,Xu(s,!1),e.lanes=4194304)}else{if(!n)if(t=yx(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Xu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!$t)return Dr(e),null}else 2*er()-s.renderingStartTime>Uc&&r!==1073741824&&(e.flags|=128,n=!0,Xu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=er(),e.sibling=null,r=Bt.current,At(Bt,n?r&1|2:r&1),e):(Dr(e),null);case 22:case 23:return Ik(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?wn&1073741824&&(Dr(e),e.subtreeFlags&6&&(e.flags|=8192)):Dr(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function TH(t,e){switch(ik(e),e.tag){case 1:return cn(e.type)&&ux(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qc(),Dt(ln),Dt(Br),gk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hk(e),null;case 13:if(Dt(Bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Fc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(Bt),null;case 4:return qc(),null;case 10:return dk(e.type._context),null;case 22:case 23:return Ik(),null;case 24:return null;default:return null}}var Fp=!1,Mr=!1,EH=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function sc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ht(t,e,n)}else r.current=null}function jS(t,e,r){try{r()}catch(n){Ht(t,e,n)}}var lD=!1;function PH(t,e){if(aS=ox,t=N4(),sk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(sS={focusedElem:t,selectionRange:r},ox=!1,Ce=e;Ce!==null;)if(e=Ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ce=t;else for(;Ce!==null;){e=Ce;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,h=e.stateNode,x=h.getSnapshotBeforeUpdate(e.elementType===e.type?y:la(e.type,y),b);h.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(C){Ht(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ce=t;break}Ce=e.return}return g=lD,lD=!1,g}function Wd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&jS(e,r,s)}a=a.next}while(a!==n)}}function iv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function wS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function xB(t){var e=t.alternate;e!==null&&(t.alternate=null,xB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$a],delete e[_f],delete e[lS],delete e[mH],delete e[pH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vB(t){return t.tag===5||t.tag===3||t.tag===4}function cD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function NS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=cx));else if(n!==4&&(t=t.child,t!==null))for(NS(t,e,r),t=t.sibling;t!==null;)NS(t,e,r),t=t.sibling}function CS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(CS(t,e,r),t=t.sibling;t!==null;)CS(t,e,r),t=t.sibling}var Cr=null,ca=!1;function Js(t,e,r){for(r=r.child;r!==null;)jB(t,e,r),r=r.sibling}function jB(t,e,r){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(Q0,r)}catch{}switch(r.tag){case 5:Mr||sc(r,e);case 6:var n=Cr,a=ca;Cr=null,Js(t,e,r),Cr=n,ca=a,Cr!==null&&(ca?(t=Cr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Cr.removeChild(r.stateNode));break;case 18:Cr!==null&&(ca?(t=Cr,r=r.stateNode,t.nodeType===8?hN(t.parentNode,r):t.nodeType===1&&hN(t,r),Tf(t)):hN(Cr,r.stateNode));break;case 4:n=Cr,a=ca,Cr=r.stateNode.containerInfo,ca=!0,Js(t,e,r),Cr=n,ca=a;break;case 0:case 11:case 14:case 15:if(!Mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&jS(r,e,i),a=a.next}while(a!==n)}Js(t,e,r);break;case 1:if(!Mr&&(sc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ht(r,e,l)}Js(t,e,r);break;case 21:Js(t,e,r);break;case 22:r.mode&1?(Mr=(n=Mr)||r.memoizedState!==null,Js(t,e,r),Mr=n):Js(t,e,r);break;default:Js(t,e,r)}}function uD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new EH),e.forEach(function(n){var a=BH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function oa(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:Cr=l.stateNode,ca=!1;break e;case 3:Cr=l.stateNode.containerInfo,ca=!0;break e;case 4:Cr=l.stateNode.containerInfo,ca=!0;break e}l=l.return}if(Cr===null)throw Error(fe(160));jB(s,i,a),Cr=null,ca=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ht(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wB(e,t),e=e.sibling}function wB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(oa(e,t),Ia(t),n&4){try{Wd(3,t,t.return),iv(3,t)}catch(y){Ht(t,t.return,y)}try{Wd(5,t,t.return)}catch(y){Ht(t,t.return,y)}}break;case 1:oa(e,t),Ia(t),n&512&&r!==null&&sc(r,r.return);break;case 5:if(oa(e,t),Ia(t),n&512&&r!==null&&sc(r,r.return),t.flags&32){var a=t.stateNode;try{Sf(a,"")}catch(y){Ht(t,t.return,y)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&z5(a,s),YC(l,i);var u=YC(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?K5(a,f):d==="dangerouslySetInnerHTML"?G5(a,f):d==="children"?Sf(a,f):H2(a,d,f,u)}switch(l){case"input":UC(a,s);break;case"textarea":W5(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?fc(a,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?fc(a,!!s.multiple,s.defaultValue,!0):fc(a,!!s.multiple,s.multiple?[]:"",!1))}a[_f]=s}catch(y){Ht(t,t.return,y)}}break;case 6:if(oa(e,t),Ia(t),n&4){if(t.stateNode===null)throw Error(fe(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(y){Ht(t,t.return,y)}}break;case 3:if(oa(e,t),Ia(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tf(e.containerInfo)}catch(y){Ht(t,t.return,y)}break;case 4:oa(e,t),Ia(t);break;case 13:oa(e,t),Ia(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Sk=er())),n&4&&uD(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Mr=(u=Mr)||d,oa(e,t),Mr=u):oa(e,t),Ia(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ce=t,d=t.child;d!==null;){for(f=Ce=d;Ce!==null;){switch(m=Ce,p=m.child,m.tag){case 0:case 11:case 14:case 15:Wd(4,m,m.return);break;case 1:sc(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Ht(n,r,y)}}break;case 5:sc(m,m.return);break;case 22:if(m.memoizedState!==null){fD(f);continue}}p!==null?(p.return=m,Ce=p):fD(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y5("display",i))}catch(y){Ht(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Ht(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:oa(e,t),Ia(t),n&4&&uD(t);break;case 21:break;default:oa(e,t),Ia(t)}}function Ia(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(vB(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Sf(a,""),n.flags&=-33);var s=cD(t);CS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=cD(t);NS(t,l,i);break;default:throw Error(fe(161))}}catch(c){Ht(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DH(t,e,r){Ce=t,NB(t)}function NB(t,e,r){for(var n=(t.mode&1)!==0;Ce!==null;){var a=Ce,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Fp;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Mr;l=Fp;var u=Mr;if(Fp=i,(Mr=c)&&!u)for(Ce=a;Ce!==null;)i=Ce,c=i.child,i.tag===22&&i.memoizedState!==null?mD(a):c!==null?(c.return=i,Ce=c):mD(a);for(;s!==null;)Ce=s,NB(s),s=s.sibling;Ce=a,Fp=l,Mr=u}dD(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Ce=s):dD(t)}}function dD(t){for(;Ce!==null;){var e=Ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mr||iv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Mr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:la(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&KP(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}KP(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Tf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Mr||e.flags&512&&wS(e)}catch(m){Ht(e,e.return,m)}}if(e===t){Ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function fD(t){for(;Ce!==null;){var e=Ce;if(e===t){Ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ce=r;break}Ce=e.return}}function mD(t){for(;Ce!==null;){var e=Ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{iv(4,e)}catch(c){Ht(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Ht(e,a,c)}}var s=e.return;try{wS(e)}catch(c){Ht(e,s,c)}break;case 5:var i=e.return;try{wS(e)}catch(c){Ht(e,i,c)}}}catch(c){Ht(e,e.return,c)}if(e===t){Ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ce=l;break}Ce=e.return}}var OH=Math.ceil,vx=Bs.ReactCurrentDispatcher,Nk=Bs.ReactCurrentOwner,Xn=Bs.ReactCurrentBatchConfig,et=0,xr=null,or=null,Ir=0,wn=0,oc=Go(0),fr=0,Bf=null,ul=0,lv=0,Ck=0,Hd=null,rn=null,Sk=0,Uc=1/0,ss=null,jx=!1,SS=null,wo=null,Bp=!1,co=null,wx=0,Gd=0,AS=null,zh=-1,Wh=0;function Kr(){return et&6?er():zh!==-1?zh:zh=er()}function No(t){return t.mode&1?et&2&&Ir!==0?Ir&-Ir:gH.transition!==null?(Wh===0&&(Wh=i4()),Wh):(t=pt,t!==0||(t=window.event,t=t===void 0?16:p4(t.type)),t):1}function ga(t,e,r,n){if(50<Gd)throw Gd=0,AS=null,Error(fe(185));zm(t,r,n),(!(et&2)||t!==xr)&&(t===xr&&(!(et&2)&&(lv|=r),fr===4&&oo(t,Ir)),un(t,n),r===1&&et===0&&!(e.mode&1)&&(Uc=er()+500,av&&Yo()))}function un(t,e){var r=t.callbackNode;gW(t,e);var n=sx(t,t===xr?Ir:0);if(n===0)r!==null&&wP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&wP(r),e===1)t.tag===0?hH(pD.bind(null,t)):O4(pD.bind(null,t)),dH(function(){!(et&6)&&Yo()}),r=null;else{switch(l4(n)){case 1:r=X2;break;case 4:r=s4;break;case 16:r=ax;break;case 536870912:r=o4;break;default:r=ax}r=PB(r,CB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function CB(t,e){if(zh=-1,Wh=0,et&6)throw Error(fe(327));var r=t.callbackNode;if(yc()&&t.callbackNode!==r)return null;var n=sx(t,t===xr?Ir:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Nx(t,n);else{e=n;var a=et;et|=2;var s=AB();(xr!==t||Ir!==e)&&(ss=null,Uc=er()+500,Vi(t,e));do try{RH();break}catch(l){SB(t,l)}while(!0);uk(),vx.current=s,et=a,or!==null?e=0:(xr=null,Ir=0,e=fr)}if(e!==0){if(e===2&&(a=QC(t),a!==0&&(n=a,e=IS(t,a))),e===1)throw r=Bf,Vi(t,0),oo(t,n),un(t,er()),r;if(e===6)oo(t,n);else{if(a=t.current.alternate,!(n&30)&&!_H(a)&&(e=Nx(t,n),e===2&&(s=QC(t),s!==0&&(n=s,e=IS(t,s))),e===1))throw r=Bf,Vi(t,0),oo(t,n),un(t,er()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(fe(345));case 2:xi(t,rn,ss);break;case 3:if(oo(t,n),(n&130023424)===n&&(e=Sk+500-er(),10<e)){if(sx(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){Kr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=iS(xi.bind(null,t,rn,ss),e);break}xi(t,rn,ss);break;case 4:if(oo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-ha(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=er()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OH(n/1960))-n,10<n){t.timeoutHandle=iS(xi.bind(null,t,rn,ss),n);break}xi(t,rn,ss);break;case 5:xi(t,rn,ss);break;default:throw Error(fe(329))}}}return un(t,er()),t.callbackNode===r?CB.bind(null,t):null}function IS(t,e){var r=Hd;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=Nx(t,e),t!==2&&(e=rn,rn=r,e!==null&&kS(e)),t}function kS(t){rn===null?rn=t:rn.push.apply(rn,t)}function _H(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ja(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~Ck,e&=~lv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ha(e),n=1<<r;t[r]=-1,e&=~n}}function pD(t){if(et&6)throw Error(fe(327));yc();var e=sx(t,0);if(!(e&1))return un(t,er()),null;var r=Nx(t,e);if(t.tag!==0&&r===2){var n=QC(t);n!==0&&(e=n,r=IS(t,n))}if(r===1)throw r=Bf,Vi(t,0),oo(t,e),un(t,er()),r;if(r===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xi(t,rn,ss),un(t,er()),null}function Ak(t,e){var r=et;et|=1;try{return t(e)}finally{et=r,et===0&&(Uc=er()+500,av&&Yo())}}function dl(t){co!==null&&co.tag===0&&!(et&6)&&yc();var e=et;et|=1;var r=Xn.transition,n=pt;try{if(Xn.transition=null,pt=1,t)return t()}finally{pt=n,Xn.transition=r,et=e,!(et&6)&&Yo()}}function Ik(){wn=oc.current,Dt(oc)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,uH(r)),or!==null)for(r=or.return;r!==null;){var n=r;switch(ik(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ux();break;case 3:qc(),Dt(ln),Dt(Br),gk();break;case 5:hk(n);break;case 4:qc();break;case 13:Dt(Bt);break;case 19:Dt(Bt);break;case 10:dk(n.type._context);break;case 22:case 23:Ik()}r=r.return}if(xr=t,or=t=Co(t.current,null),Ir=wn=e,fr=0,Bf=null,Ck=lv=ul=0,rn=Hd=null,Ti!==null){for(e=0;e<Ti.length;e++)if(r=Ti[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Ti=null}return t}function SB(t,e){do{var r=or;try{if(uk(),qh.current=xx,bx){for(var n=qt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}bx=!1}if(cl=0,yr=dr=qt=null,zd=!1,Mf=0,Nk.current=null,r===null||r.return===null){fr=1,Bf=e,or=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=Ir,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=tD(i);if(p!==null){p.flags&=-257,rD(p,i,l,s,e),p.mode&1&&eD(s,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){eD(s,u,e),kk();break e}c=Error(fe(426))}}else if($t&&l.mode&1){var b=tD(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),rD(b,i,l,s,e),lk(Vc(c,l));break e}}s=c=Vc(c,l),fr!==4&&(fr=2),Hd===null?Hd=[s]:Hd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var h=lB(s,c,e);YP(s,h);break e;case 1:l=c;var x=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wo===null||!wo.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=cB(s,l,e);YP(s,C);break e}}s=s.return}while(s!==null)}kB(r)}catch(j){e=j,or===r&&r!==null&&(or=r=r.return);continue}break}while(!0)}function AB(){var t=vx.current;return vx.current=xx,t===null?xx:t}function kk(){(fr===0||fr===3||fr===2)&&(fr=4),xr===null||!(ul&268435455)&&!(lv&268435455)||oo(xr,Ir)}function Nx(t,e){var r=et;et|=2;var n=AB();(xr!==t||Ir!==e)&&(ss=null,Vi(t,e));do try{$H();break}catch(a){SB(t,a)}while(!0);if(uk(),et=r,vx.current=n,or!==null)throw Error(fe(261));return xr=null,Ir=0,fr}function $H(){for(;or!==null;)IB(or)}function RH(){for(;or!==null&&!iW();)IB(or)}function IB(t){var e=EB(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?kB(t):or=e,Nk.current=null}function kB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=TH(r,e),r!==null){r.flags&=32767,or=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fr=6,or=null;return}}else if(r=kH(r,e,wn),r!==null){or=r;return}if(e=e.sibling,e!==null){or=e;return}or=e=t}while(e!==null);fr===0&&(fr=5)}function xi(t,e,r){var n=pt,a=Xn.transition;try{Xn.transition=null,pt=1,MH(t,e,r,n)}finally{Xn.transition=a,pt=n}return null}function MH(t,e,r,n){do yc();while(co!==null);if(et&6)throw Error(fe(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(yW(t,s),t===xr&&(or=xr=null,Ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bp||(Bp=!0,PB(ax,function(){return yc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var i=pt;pt=1;var l=et;et|=4,Nk.current=null,PH(t,r),wB(r,t),nH(sS),ox=!!aS,sS=aS=null,t.current=r,DH(r),lW(),et=l,pt=i,Xn.transition=s}else t.current=r;if(Bp&&(Bp=!1,co=t,wx=a),s=t.pendingLanes,s===0&&(wo=null),dW(r.stateNode),un(t,er()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(jx)throw jx=!1,t=SS,SS=null,t;return wx&1&&t.tag!==0&&yc(),s=t.pendingLanes,s&1?t===AS?Gd++:(Gd=0,AS=t):Gd=0,Yo(),null}function yc(){if(co!==null){var t=l4(wx),e=Xn.transition,r=pt;try{if(Xn.transition=null,pt=16>t?16:t,co===null)var n=!1;else{if(t=co,co=null,wx=0,et&6)throw Error(fe(331));var a=et;for(et|=4,Ce=t.current;Ce!==null;){var s=Ce,i=s.child;if(Ce.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ce=u;Ce!==null;){var d=Ce;switch(d.tag){case 0:case 11:case 15:Wd(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ce=f;else for(;Ce!==null;){d=Ce;var m=d.sibling,p=d.return;if(xB(d),d===u){Ce=null;break}if(m!==null){m.return=p,Ce=m;break}Ce=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Ce=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Ce=i;else e:for(;Ce!==null;){if(s=Ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wd(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,Ce=h;break e}Ce=s.return}}var x=t.current;for(Ce=x;Ce!==null;){i=Ce;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,Ce=v;else e:for(i=x;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:iv(9,l)}}catch(j){Ht(l,l.return,j)}if(l===i){Ce=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Ce=C;break e}Ce=l.return}}if(et=a,Yo(),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(Q0,t)}catch{}n=!0}return n}finally{pt=r,Xn.transition=e}}return!1}function hD(t,e,r){e=Vc(r,e),e=lB(t,e,1),t=jo(t,e,1),e=Kr(),t!==null&&(zm(t,1,e),un(t,e))}function Ht(t,e,r){if(t.tag===3)hD(t,t,r);else for(;e!==null;){if(e.tag===3){hD(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wo===null||!wo.has(n))){t=Vc(r,t),t=cB(e,t,1),e=jo(e,t,1),t=Kr(),e!==null&&(zm(e,1,t),un(e,t));break}}e=e.return}}function LH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Kr(),t.pingedLanes|=t.suspendedLanes&r,xr===t&&(Ir&r)===r&&(fr===4||fr===3&&(Ir&130023424)===Ir&&500>er()-Sk?Vi(t,0):Ck|=r),un(t,e)}function TB(t,e){e===0&&(t.mode&1?(e=Ep,Ep<<=1,!(Ep&130023424)&&(Ep=4194304)):e=1);var r=Kr();t=Ts(t,e),t!==null&&(zm(t,e,r),un(t,r))}function FH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),TB(t,r)}function BH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(e),TB(t,r)}var EB;EB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return an=!1,IH(t,e,r);an=!!(t.flags&131072)}else an=!1,$t&&e.flags&1048576&&_4(e,mx,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Uh(t,e),t=e.pendingProps;var a=Lc(e,Br.current);gc(e,r),a=bk(null,e,n,t,a,r);var s=xk();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(n)?(s=!0,dx(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,mk(e),a.updater=ov,e.stateNode=a,a._reactInternals=e,pS(e,n,t,r),e=yS(null,e,n,!0,s,r)):(e.tag=0,$t&&s&&ok(e),zr(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Uh(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=VH(n),t=la(n,t),a){case 0:e=gS(null,e,n,t,r);break e;case 1:e=sD(null,e,n,t,r);break e;case 11:e=nD(null,e,n,t,r);break e;case 14:e=aD(null,e,n,la(n.type,t),r);break e}throw Error(fe(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:la(n,a),gS(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:la(n,a),sD(t,e,n,a,r);case 3:e:{if(mB(e),t===null)throw Error(fe(387));n=e.pendingProps,s=e.memoizedState,a=s.element,B4(t,e),gx(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=Vc(Error(fe(423)),e),e=oD(t,e,n,r,a);break e}else if(n!==a){a=Vc(Error(fe(424)),e),e=oD(t,e,n,r,a);break e}else for(Sn=vo(e.stateNode.containerInfo.firstChild),kn=e,$t=!0,ua=null,r=L4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fc(),n===a){e=Es(t,e,r);break e}zr(t,e,n,r)}e=e.child}return e;case 5:return q4(e),t===null&&dS(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,oS(n,a)?i=null:s!==null&&oS(n,s)&&(e.flags|=32),fB(t,e),zr(t,e,i,r),e.child;case 6:return t===null&&dS(e),null;case 13:return pB(t,e,r);case 4:return pk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Bc(e,null,n,r):zr(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:la(n,a),nD(t,e,n,a,r);case 7:return zr(t,e,e.pendingProps,r),e.child;case 8:return zr(t,e,e.pendingProps.children,r),e.child;case 12:return zr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,At(px,n._currentValue),n._currentValue=i,s!==null)if(ja(s.value,i)){if(s.children===a.children&&!ln.current){e=Es(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=xs(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),fS(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(fe(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),fS(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}zr(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,gc(e,r),a=Qn(a),n=n(a),e.flags|=1,zr(t,e,n,r),e.child;case 14:return n=e.type,a=la(n,e.pendingProps),a=la(n.type,a),aD(t,e,n,a,r);case 15:return uB(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:la(n,a),Uh(t,e),e.tag=1,cn(n)?(t=!0,dx(e)):t=!1,gc(e,r),iB(e,n,a),pS(e,n,a,r),yS(null,e,n,!0,t,r);case 19:return hB(t,e,r);case 22:return dB(t,e,r)}throw Error(fe(156,e.tag))};function PB(t,e){return a4(t,e)}function qH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,r,n){return new qH(t,e,r,n)}function Tk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VH(t){if(typeof t=="function")return Tk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y2)return 11;if(t===K2)return 14}return 2}function Co(t,e){var r=t.alternate;return r===null?(r=Yn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Hh(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")Tk(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Jl:return Ui(r.children,a,s,e);case G2:i=8,a|=8;break;case LC:return t=Yn(12,r,e,a|2),t.elementType=LC,t.lanes=s,t;case FC:return t=Yn(13,r,e,a),t.elementType=FC,t.lanes=s,t;case BC:return t=Yn(19,r,e,a),t.elementType=BC,t.lanes=s,t;case q5:return cv(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F5:i=10;break e;case B5:i=9;break e;case Y2:i=11;break e;case K2:i=14;break e;case eo:i=16,n=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Yn(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function Ui(t,e,r,n){return t=Yn(7,t,n,e),t.lanes=r,t}function cv(t,e,r,n){return t=Yn(22,t,n,e),t.elementType=q5,t.lanes=r,t.stateNode={isHidden:!1},t}function NN(t,e,r){return t=Yn(6,t,null,e),t.lanes=r,t}function CN(t,e,r){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aN(0),this.expirationTimes=aN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aN(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ek(t,e,r,n,a,s,i,l,c){return t=new UH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mk(s),t}function zH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function DB(t){if(!t)return Fo;t=t._reactInternals;e:{if(Nl(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var r=t.type;if(cn(r))return D4(t,r,e)}return e}function OB(t,e,r,n,a,s,i,l,c){return t=Ek(r,n,!0,t,a,s,i,l,c),t.context=DB(null),r=t.current,n=Kr(),a=No(r),s=xs(n,a),s.callback=e??null,jo(r,s,a),t.current.lanes=a,zm(t,a,n),un(t,n),t}function uv(t,e,r,n){var a=e.current,s=Kr(),i=No(a);return r=DB(r),e.context===null?e.context=r:e.pendingContext=r,e=xs(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=jo(a,e,i),t!==null&&(ga(t,a,i,s),Bh(t,a,i)),i}function Cx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Pk(t,e){gD(t,e),(t=t.alternate)&&gD(t,e)}function WH(){return null}var _B=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dk(t){this._internalRoot=t}dv.prototype.render=Dk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));uv(t,e,null,null)};dv.prototype.unmount=Dk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dl(function(){uv(null,t,null,null)}),e[ks]=null}};function dv(t){this._internalRoot=t}dv.prototype.unstable_scheduleHydration=function(t){if(t){var e=d4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<so.length&&e!==0&&e<so[r].priority;r++);so.splice(r,0,t),r===0&&m4(t)}};function Ok(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yD(){}function HH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Cx(i);s.call(u)}}var i=OB(e,n,t,0,null,!1,!1,"",yD);return t._reactRootContainer=i,t[ks]=i.current,Df(t.nodeType===8?t.parentNode:t),dl(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Cx(c);l.call(u)}}var c=Ek(t,0,!1,null,null,!1,!1,"",yD);return t._reactRootContainer=c,t[ks]=c.current,Df(t.nodeType===8?t.parentNode:t),dl(function(){uv(e,c,r,n)}),c}function mv(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=Cx(i);l.call(c)}}uv(e,i,t,a)}else i=HH(r,e,t,a,n);return Cx(i)}c4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sd(e.pendingLanes);r!==0&&(Z2(e,r|1),un(e,er()),!(et&6)&&(Uc=er()+500,Yo()))}break;case 13:dl(function(){var n=Ts(t,1);if(n!==null){var a=Kr();ga(n,t,1,a)}}),Pk(t,1)}};Q2=function(t){if(t.tag===13){var e=Ts(t,134217728);if(e!==null){var r=Kr();ga(e,t,134217728,r)}Pk(t,134217728)}};u4=function(t){if(t.tag===13){var e=No(t),r=Ts(t,e);if(r!==null){var n=Kr();ga(r,t,e,n)}Pk(t,e)}};d4=function(){return pt};f4=function(t,e){var r=pt;try{return pt=t,e()}finally{pt=r}};JC=function(t,e,r){switch(e){case"input":if(UC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=nv(n);if(!a)throw Error(fe(90));U5(n),UC(n,a)}}}break;case"textarea":W5(t,r);break;case"select":e=r.value,e!=null&&fc(t,!!r.multiple,e,!1)}};Z5=Ak;Q5=dl;var GH={usingClientEntryPoint:!1,Events:[Hm,ec,nv,J5,X5,Ak]},Zu={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YH={bundleType:Zu.bundleType,version:Zu.version,rendererPackageName:Zu.rendererPackageName,rendererConfig:Zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r4(t),t===null?null:t.stateNode},findFiberByHostInstance:Zu.findFiberByHostInstance||WH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{Q0=qp.inject(YH),La=qp}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GH;Rn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ok(e))throw Error(fe(200));return zH(t,e,null,r)};Rn.createRoot=function(t,e){if(!Ok(t))throw Error(fe(299));var r=!1,n="",a=_B;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Ek(t,1,!1,null,null,r,!1,n,a),t[ks]=e.current,Df(t.nodeType===8?t.parentNode:t),new Dk(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=r4(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return dl(t)};Rn.hydrate=function(t,e,r){if(!fv(e))throw Error(fe(200));return mv(null,t,e,!0,r)};Rn.hydrateRoot=function(t,e,r){if(!Ok(t))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=_B;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=OB(e,null,t,1,r??null,a,!1,s,i),t[ks]=e.current,Df(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new dv(e)};Rn.render=function(t,e,r){if(!fv(e))throw Error(fe(200));return mv(null,t,e,!1,r)};Rn.unmountComponentAtNode=function(t){if(!fv(t))throw Error(fe(40));return t._reactRootContainer?(dl(function(){mv(null,null,t,!1,function(){t._reactRootContainer=null,t[ks]=null})}),!0):!1};Rn.unstable_batchedUpdates=Ak;Rn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!fv(r))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return mv(t,e,r,!1,n)};Rn.version="18.3.1-next-f1338f8080-20240426";function $B(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($B)}catch(t){console.error(t)}}$B(),$5.exports=Rn;var pv=$5.exports,bD=pv;RC.createRoot=bD.createRoot,RC.hydrateRoot=bD.hydrateRoot;var RB={exports:{}},MB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=w;function KH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var JH=typeof Object.is=="function"?Object.is:KH,XH=Ym.useSyncExternalStore,ZH=Ym.useRef,QH=Ym.useEffect,eG=Ym.useMemo,tG=Ym.useDebugValue;MB.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=ZH(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=eG(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),a!==void 0&&i.hasValue){var g=i.value;if(a(g,p))return f=g}return f=p}if(g=f,JH(d,p))return g;var y=n(p);return a!==void 0&&a(g,y)?(d=p,g):(d=p,f=y)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=XH(t,s[0],s[1]);return QH(function(){i.hasValue=!0,i.value=l},[l]),tG(l),l};RB.exports=MB;var rG=RB.exports;function nG(t){t()}function aG(){let t=null,e=null;return{clear(){t=null,e=null},notify(){nG(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var xD={notify(){},get:()=>[]};function sG(t,e){let r,n=xD,a=0,s=!1;function i(y){d();const b=n.subscribe(y);let h=!1;return()=>{h||(h=!0,b(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=aG())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=xD)}function m(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const g={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>n};return g}var oG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iG=oG(),lG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cG=lG(),uG=()=>iG||cG?w.useLayoutEffect:w.useEffect,dG=uG(),SN=Symbol.for("react-redux-context"),AN=typeof globalThis<"u"?globalThis:{};function fG(){if(!w.createContext)return{};const t=AN[SN]??(AN[SN]=new Map);let e=t.get(w.createContext);return e||(e=w.createContext(null),t.set(w.createContext,e)),e}var Bo=fG();function mG(t){const{children:e,context:r,serverState:n,store:a}=t,s=w.useMemo(()=>{const c=sG(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);dG(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||Bo;return w.createElement(l.Provider,{value:s},e)}var pG=mG;function _k(t=Bo){return function(){return w.useContext(t)}}var LB=_k();function FB(t=Bo){const e=t===Bo?LB:_k(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var hG=FB();function gG(t=Bo){const e=t===Bo?hG:FB(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var ce=gG(),yG=(t,e)=>t===e;function bG(t=Bo){const e=t===Bo?LB:_k(t),r=(n,a={})=>{const{equalityFn:s=yG}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;w.useRef(!0);const d=w.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=rG.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return w.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var z=bG();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qf(){return qf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qf.apply(this,arguments)}var uo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(uo||(uo={}));const vD="popstate";function xG(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return TS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Sx(a)}return jG(e,r,null,t)}function nr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vG(){return Math.random().toString(36).substr(2,8)}function jD(t,e){return{usr:t.state,key:t.key,idx:e}}function TS(t,e,r,n){return r===void 0&&(r=null),qf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wu(e):e,{state:r,key:e&&e.key||n||vG()})}function Sx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function jG(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=uo.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(qf({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=uo.Pop;let b=d(),h=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:h})}function m(b,h){l=uo.Push;let x=TS(y.location,b,h);u=d()+1;let v=jD(x,u),C=y.createHref(x);try{i.pushState(v,"",C)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(C)}s&&c&&c({action:l,location:y.location,delta:1})}function p(b,h){l=uo.Replace;let x=TS(y.location,b,h);u=d();let v=jD(x,u),C=y.createHref(x);i.replaceState(v,"",C),s&&c&&c({action:l,location:y.location,delta:0})}function g(b){let h=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof b=="string"?b:Sx(b);return x=x.replace(/ $/,"%20"),nr(h,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,h)}let y={get action(){return l},get location(){return t(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(vD,f),c=b,()=>{a.removeEventListener(vD,f),c=null}},createHref(b){return e(a,b)},createURL:g,encodeLocation(b){let h=g(b);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:p,go(b){return i.go(b)}};return y}var wD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wD||(wD={}));function wG(t,e,r){return r===void 0&&(r="/"),NG(t,e,r)}function NG(t,e,r,n){let a=typeof e=="string"?wu(e):e,s=$k(a.pathname||"/",r);if(s==null)return null;let i=qB(t);CG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=RG(s);l=OG(i[c],u)}return l}function qB(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(nr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=So([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(nr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qB(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:PG(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of VB(s.path))a(s,i,c)}),e}function VB(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=VB(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function CG(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:DG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const SG=/^:[\w-]+$/,AG=3,IG=2,kG=1,TG=10,EG=-2,ND=t=>t==="*";function PG(t,e){let r=t.split("/"),n=r.length;return r.some(ND)&&(n+=EG),e&&(n+=IG),r.filter(a=>!ND(a)).reduce((a,s)=>a+(SG.test(s)?AG:s===""?kG:TG),n)}function DG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function OG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=_G({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:So([s,f.pathname]),pathnameBase:BG(So([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=So([s,f.pathnameBase]))}return i}function _G(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$G(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let y=l[f]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function $G(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),BB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function RG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $k(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function MG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?wu(t):t;return{pathname:r?r.startsWith("/")?r:LG(r,e):e,search:qG(n),hash:VG(a)}}function LG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function IN(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Rk(t,e){let r=FG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Mk(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=wu(t):(a=qf({},t),nr(!a.pathname||!a.pathname.includes("?"),IN("?","pathname","search",a)),nr(!a.pathname||!a.pathname.includes("#"),IN("#","pathname","hash",a)),nr(!a.search||!a.search.includes("#"),IN("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=MG(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const So=t=>t.join("/").replace(/\/\/+/g,"/"),BG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UB=["post","put","patch","delete"];new Set(UB);const zG=["get",...UB];new Set(zG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vf.apply(this,arguments)}const Lk=w.createContext(null),WG=w.createContext(null),Ko=w.createContext(null),hv=w.createContext(null),qs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),zB=w.createContext(null);function HG(t,e){let{relative:r}=e===void 0?{}:e;Nu()||nr(!1);let{basename:n,navigator:a}=w.useContext(Ko),{hash:s,pathname:i,search:l}=HB(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:So([n,i])),a.createHref({pathname:c,search:l,hash:s})}function Nu(){return w.useContext(hv)!=null}function Jo(){return Nu()||nr(!1),w.useContext(hv).location}function WB(t){w.useContext(Ko).static||w.useLayoutEffect(t)}function Km(){let{isDataRoute:t}=w.useContext(qs);return t?iY():GG()}function GG(){Nu()||nr(!1);let t=w.useContext(Lk),{basename:e,future:r,navigator:n}=w.useContext(Ko),{matches:a}=w.useContext(qs),{pathname:s}=Jo(),i=JSON.stringify(Rk(a,r.v7_relativeSplatPath)),l=w.useRef(!1);return WB(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Mk(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:So([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const YG=w.createContext(null);function KG(t){let e=w.useContext(qs).outlet;return e&&w.createElement(YG.Provider,{value:t},e)}function HB(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(Ko),{matches:a}=w.useContext(qs),{pathname:s}=Jo(),i=JSON.stringify(Rk(a,n.v7_relativeSplatPath));return w.useMemo(()=>Mk(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function JG(t,e){return XG(t,e)}function XG(t,e,r,n){Nu()||nr(!1);let{navigator:a}=w.useContext(Ko),{matches:s}=w.useContext(qs),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Jo(),d;if(e){var f;let b=typeof e=="string"?wu(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||nr(!1),d=b}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=wG(t,{pathname:p}),y=rY(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:So([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:So([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?w.createElement(hv.Provider,{value:{location:Vf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:uo.Pop}},y):y}function ZG(){let t=oY(),e=UG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:a},r):null,null)}const QG=w.createElement(ZG,null);class eY extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(qs.Provider,{value:this.props.routeContext},w.createElement(zB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tY(t){let{routeContext:e,match:r,children:n}=t,a=w.useContext(Lk);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(qs.Provider,{value:e},n)}function rY(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||nr(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,g=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,g=!1,y=null,b=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||QG,c&&(u<0&&m===0?(lY("route-fallback"),g=!0,b=null):u===m&&(g=!0,b=f.route.hydrateFallbackElement||null)));let h=e.concat(i.slice(0,m+1)),x=()=>{let v;return p?v=y:g?v=b:f.route.Component?v=w.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,w.createElement(tY,{match:f,routeContext:{outlet:d,matches:h,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(eY,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:x(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):x()},null)}var GB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GB||{}),YB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(YB||{});function nY(t){let e=w.useContext(Lk);return e||nr(!1),e}function aY(t){let e=w.useContext(WG);return e||nr(!1),e}function sY(t){let e=w.useContext(qs);return e||nr(!1),e}function KB(t){let e=sY(),r=e.matches[e.matches.length-1];return r.route.id||nr(!1),r.route.id}function oY(){var t;let e=w.useContext(zB),r=aY(),n=KB();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function iY(){let{router:t}=nY(GB.UseNavigateStable),e=KB(YB.UseNavigateStable),r=w.useRef(!1);return WB(()=>{r.current=!0}),w.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Vf({fromRouteId:e},s)))},[t,e])}const CD={};function lY(t,e,r){CD[t]||(CD[t]=!0)}function cY(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Qu(t){let{to:e,replace:r,state:n,relative:a}=t;Nu()||nr(!1);let{future:s,static:i}=w.useContext(Ko),{matches:l}=w.useContext(qs),{pathname:c}=Jo(),u=Km(),d=Mk(e,Rk(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function JB(t){return KG(t.context)}function de(t){nr(!1)}function uY(t){let{basename:e="/",children:r=null,location:n,navigationType:a=uo.Pop,navigator:s,static:i=!1,future:l}=t;Nu()&&nr(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:s,static:i,future:Vf({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=wu(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:g="default"}=n,y=w.useMemo(()=>{let b=$k(d,c);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:g},navigationType:a}},[c,d,f,m,p,g,a]);return y==null?null:w.createElement(Ko.Provider,{value:u},w.createElement(hv.Provider,{children:r,value:y}))}function dY(t){let{children:e,location:r}=t;return JG(ES(e),r)}new Promise(()=>{});function ES(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,a)=>{if(!w.isValidElement(n))return;let s=[...e,a];if(n.type===w.Fragment){r.push.apply(r,ES(n.props.children,s));return}n.type!==de&&nr(!1),!n.props.index||!n.props.children||nr(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ES(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function PS(){return PS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PS.apply(this,arguments)}function fY(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function mY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pY(t,e){return t.button===0&&(!e||e==="_self")&&!mY(t)}const hY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gY="6";try{window.__reactRouterVersion=gY}catch{}const yY="startTransition",SD=Nf[yY];function bY(t){let{basename:e,children:r,future:n,window:a}=t,s=w.useRef();s.current==null&&(s.current=xG({window:a,v5Compat:!0}));let i=s.current,[l,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&SD?SD(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>i.listen(d),[i,d]),w.useEffect(()=>cY(n),[n]),w.createElement(uY,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const xY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bc=w.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=fY(e,hY),{basename:p}=w.useContext(Ko),g,y=!1;if(typeof u=="string"&&vY.test(u)&&(g=u,xY))try{let v=new URL(window.location.href),C=u.startsWith("//")?new URL(v.protocol+u):new URL(u),j=$k(C.pathname,p);C.origin===v.origin&&j!=null?u=j+C.search+C.hash:y=!0}catch{}let b=HG(u,{relative:a}),h=jY(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(v){n&&n(v),v.defaultPrevented||h(v)}return w.createElement("a",PS({},m,{href:g||b,onClick:y||s?n:x,ref:r,target:c}))});var AD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(AD||(AD={}));var ID;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ID||(ID={}));function jY(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=Km(),u=Jo(),d=HB(t,{relative:i});return w.useCallback(f=>{if(pY(f,r)){f.preventDefault();let m=n!==void 0?n:Sx(u)===Sx(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function wr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wY=typeof Symbol=="function"&&Symbol.observable||"@@observable",kD=wY,kN=()=>Math.random().toString(36).substring(7).split("").join("."),NY={INIT:`@@redux/INIT${kN()}`,REPLACE:`@@redux/REPLACE${kN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kN()}`},Ax=NY;function Fk(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function XB(t,e,r){if(typeof t!="function")throw new Error(wr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(wr(1));return r(XB)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((b,h)=>{i.set(h,b)}))}function d(){if(c)throw new Error(wr(3));return a}function f(b){if(typeof b!="function")throw new Error(wr(4));if(c)throw new Error(wr(5));let h=!0;u();const x=l++;return i.set(x,b),function(){if(h){if(c)throw new Error(wr(6));h=!1,u(),i.delete(x),s=null}}}function m(b){if(!Fk(b))throw new Error(wr(7));if(typeof b.type>"u")throw new Error(wr(8));if(typeof b.type!="string")throw new Error(wr(17));if(c)throw new Error(wr(9));try{c=!0,a=n(a,b)}finally{c=!1}return(s=i).forEach(x=>{x()}),b}function p(b){if(typeof b!="function")throw new Error(wr(10));n=b,m({type:Ax.REPLACE})}function g(){const b=f;return{subscribe(h){if(typeof h!="object"||h===null)throw new Error(wr(11));function x(){const C=h;C.next&&C.next(d())}return x(),{unsubscribe:b(x)}},[kD](){return this}}}return m({type:Ax.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:p,[kD]:g}}function CY(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Ax.INIT})>"u")throw new Error(wr(12));if(typeof r(void 0,{type:Ax.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wr(13))})}function SY(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{CY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],p=i[f],g=m(p,l);if(typeof g>"u")throw l&&l.type,new Error(wr(14));u[f]=g,c=c||g!==p}return c=c||n.length!==Object.keys(i).length,c?u:i}}function Ix(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function AY(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(wr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=Ix(...l)(a.dispatch),{...a,dispatch:s}}}function IY(t){return Fk(t)&&"type"in t&&typeof t.type=="string"}var ZB=Symbol.for("immer-nothing"),TD=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function da(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zc=Object.getPrototypeOf;function fl(t){return!!t&&!!t[Pn]}function Ps(t){var e;return t?QB(t)||Array.isArray(t)||!!t[TD]||!!((e=t.constructor)!=null&&e[TD])||yv(t)||bv(t):!1}var kY=Object.prototype.constructor.toString();function QB(t){if(!t||typeof t!="object")return!1;const e=zc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===kY}function kx(t,e){gv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function gv(t){const e=t[Pn];return e?e.type_:Array.isArray(t)?1:yv(t)?2:bv(t)?3:0}function DS(t,e){return gv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function e3(t,e,r){const n=gv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function TY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function yv(t){return t instanceof Map}function bv(t){return t instanceof Set}function vi(t){return t.copy_||t.base_}function OS(t,e){if(yv(t))return new Map(t);if(bv(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=QB(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Pn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(zc(t),n)}else{const n=zc(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function Bk(t,e=!1){return xv(t)||fl(t)||!Ps(t)||(gv(t)>1&&(t.set=t.add=t.clear=t.delete=EY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Bk(n,!0))),t}function EY(){da(2)}function xv(t){return Object.isFrozen(t)}var PY={};function ml(t){const e=PY[t];return e||da(0,t),e}var Uf;function t3(){return Uf}function DY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ED(t,e){e&&(ml("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function _S(t){$S(t),t.drafts_.forEach(OY),t.drafts_=null}function $S(t){t===Uf&&(Uf=t.parent_)}function PD(t){return Uf=DY(Uf,t)}function OY(t){const e=t[Pn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function DD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Pn].modified_&&(_S(e),da(4)),Ps(t)&&(t=Tx(e,t),e.parent_||Ex(e,t)),e.patches_&&ml("Patches").generateReplacementPatches_(r[Pn].base_,t,e.patches_,e.inversePatches_)):t=Tx(e,r,[]),_S(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ZB?t:void 0}function Tx(t,e,r){if(xv(e))return e;const n=e[Pn];if(!n)return kx(e,(a,s)=>OD(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Ex(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),kx(s,(l,c)=>OD(t,n,a,l,c,r,i)),Ex(t,a,!1),r&&t.patches_&&ml("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function OD(t,e,r,n,a,s,i){if(fl(a)){const l=s&&e&&e.type_!==3&&!DS(e.assigned_,n)?s.concat(n):void 0,c=Tx(t,a,l);if(e3(r,n,c),fl(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Ps(a)&&!xv(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Tx(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ex(t,a)}}function Ex(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Bk(e,r)}function _Y(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:t3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=qk;r&&(a=[n],s=zf);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var qk={get(t,e){if(e===Pn)return t;const r=vi(t);if(!DS(r,e))return $Y(t,r,e);const n=r[e];return t.finalized_||!Ps(n)?n:n===TN(t.base_,e)?(EN(t),t.copy_[e]=MS(n,t)):n},has(t,e){return e in vi(t)},ownKeys(t){return Reflect.ownKeys(vi(t))},set(t,e,r){const n=r3(vi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=TN(vi(t),e),s=a==null?void 0:a[Pn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(TY(r,a)&&(r!==void 0||DS(t.base_,e)))return!0;EN(t),RS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return TN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,EN(t),RS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=vi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){da(11)},getPrototypeOf(t){return zc(t.base_)},setPrototypeOf(){da(12)}},zf={};kx(qk,(t,e)=>{zf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zf.deleteProperty=function(t,e){return zf.set.call(this,t,e,void 0)};zf.set=function(t,e,r){return qk.set.call(this,t[0],e,r,t[0])};function TN(t,e){const r=t[Pn];return(r?vi(r):t)[e]}function $Y(t,e,r){var a;const n=r3(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function r3(t,e){if(!(e in t))return;let r=zc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=zc(r)}}function RS(t){t.modified_||(t.modified_=!0,t.parent_&&RS(t.parent_))}function EN(t){t.copy_||(t.copy_=OS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var RY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&da(6),n!==void 0&&typeof n!="function"&&da(7);let a;if(Ps(e)){const s=PD(this),i=MS(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?_S(s):$S(s)}return ED(s,n),DD(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===ZB&&(a=void 0),this.autoFreeze_&&Bk(a,!0),n){const s=[],i=[];ml("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else da(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ps(t)||da(8),fl(t)&&(t=MY(t));const e=PD(this),r=MS(t,void 0);return r[Pn].isManual_=!0,$S(e),r}finishDraft(t,e){const r=t&&t[Pn];(!r||!r.isManual_)&&da(9);const{scope_:n}=r;return ED(n,e),DD(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=ml("Patches").applyPatches_;return fl(t)?n(t,e):this.produce(t,a=>n(a,e))}};function MS(t,e){const r=yv(t)?ml("MapSet").proxyMap_(t,e):bv(t)?ml("MapSet").proxySet_(t,e):_Y(t,e);return(e?e.scope_:t3()).drafts_.push(r),r}function MY(t){return fl(t)||da(10,t),n3(t)}function n3(t){if(!Ps(t)||xv(t))return t;const e=t[Pn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=OS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=OS(t,!0);return kx(r,(n,a)=>{e3(r,n,n3(a))}),e&&(e.finalized_=!1),r}var Dn=new RY,a3=Dn.produce;Dn.produceWithPatches.bind(Dn);Dn.setAutoFreeze.bind(Dn);Dn.setUseStrictShallowCopy.bind(Dn);Dn.applyPatches.bind(Dn);Dn.createDraft.bind(Dn);Dn.finishDraft.bind(Dn);function s3(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var LY=s3(),FY=s3,BY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ix:Ix.apply(null,arguments)},qY=t=>t&&typeof t.match=="function";function Yd(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(vs(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>IY(n)&&n.type===t,r}var o3=class Id extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Id.prototype)}static get[Symbol.species](){return Id}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Id(...e[0].concat(this)):new Id(...e.concat(this))}};function _D(t){return Ps(t)?a3(t,()=>{}):t}function Vp(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function VY(t){return typeof t=="boolean"}var UY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new o3;return r&&(VY(r)?i.push(LY):i.push(FY(r.extraArgument))),i},zY="RTK_autoBatch",$D=t=>e=>{setTimeout(e,t)},WY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$D(10):t.type==="callback"?t.queueNotification:$D(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[zY]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},HY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new o3(t);return n&&a.push(WY(typeof n=="object"?n:void 0)),a};function GY(t){const e=UY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(Fk(r))l=SY(r);else throw new Error(vs(1));let c;typeof n=="function"?c=n(e):c=e();let u=Ix;a&&(u=BY({trace:!1,...typeof a=="object"&&a}));const d=AY(...c),f=HY(d);let m=typeof i=="function"?i(f):f();const p=u(...m);return XB(l,s,p)}function i3(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(vs(28));if(l in e)throw new Error(vs(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function YY(t){return typeof t=="function"}function KY(t,e){let[r,n,a]=i3(e),s;if(YY(t))s=()=>_D(t());else{const l=_D(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(fl(d)){const p=f(d,c);return p===void 0?d:p}else{if(Ps(d))return a3(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var JY=(t,e)=>qY(t)?t.match(e):t(e);function XY(...t){return e=>t.some(r=>JY(r,e))}var ZY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",QY=(t=21)=>{let e="",r=t;for(;r--;)e+=ZY[Math.random()*64|0];return e},eK=["name","message","stack","code"],PN=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},RD=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},tK=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of eK)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},MD="External signal was aborted",q=(()=>{function t(e,r,n){const a=Yd(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Yd(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=Yd(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||tK)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const p=n!=null&&n.idGenerator?n.idGenerator(c):QY(),g=new AbortController;let y,b;function h(v){b=v,g.abort()}u&&(u.aborted?h(MD):u.addEventListener("abort",()=>h(MD),{once:!0}));const x=async function(){var j,N;let v;try{let S=(j=n==null?void 0:n.condition)==null?void 0:j.call(n,c,{getState:f,extra:m});if(nK(S)&&(S=await S),S===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((k,T)=>{y=()=>{T({name:"AbortError",message:b||"Aborted"})},g.signal.addEventListener("abort",y)});d(s(p,c,(N=n==null?void 0:n.getPendingMeta)==null?void 0:N.call(n,{requestId:p,arg:c},{getState:f,extra:m}))),v=await Promise.race([A,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:p,signal:g.signal,abort:h,rejectWithValue:(k,T)=>new PN(k,T),fulfillWithValue:(k,T)=>new RD(k,T)})).then(k=>{if(k instanceof PN)throw k;return k instanceof RD?a(k.payload,p,c,k.meta):a(k,p,c)})])}catch(S){v=S instanceof PN?i(null,p,c,S.payload,S.meta):i(S,p,c)}finally{y&&g.signal.removeEventListener("abort",y)}return n&&!n.dispatchConditionRejection&&i.match(v)&&v.meta.condition||d(v),v}();return Object.assign(x,{abort:h,requestId:p,arg:c,unwrap(){return x.then(rK)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:XY(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function rK(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function nK(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var aK=Symbol.for("rtk-slice-createasyncthunk");function sK(t,e){return`${t}/${e}`}function oK({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[aK];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(vs(11));const l=(typeof a.reducers=="function"?a.reducers(lK()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(C,j){const N=typeof C=="string"?C:C.type;if(!N)throw new Error(vs(12));if(N in u.sliceCaseReducersByType)throw new Error(vs(13));return u.sliceCaseReducersByType[N]=j,d},addMatcher(C,j){return u.sliceMatchers.push({matcher:C,reducer:j}),d},exposeAction(C,j){return u.actionCreators[C]=j,d},exposeCaseReducer(C,j){return u.sliceCaseReducersByName[C]=j,d}};c.forEach(C=>{const j=l[C],N={reducerName:C,type:sK(s,C),createNotation:typeof a.reducers=="function"};uK(j)?fK(N,j,d,e):cK(N,j,d)});function f(){const[C={},j=[],N=void 0]=typeof a.extraReducers=="function"?i3(a.extraReducers):[a.extraReducers],S={...C,...u.sliceCaseReducersByType};return KY(a.initialState,A=>{for(let k in S)A.addCase(k,S[k]);for(let k of u.sliceMatchers)A.addMatcher(k.matcher,k.reducer);for(let k of j)A.addMatcher(k.matcher,k.reducer);N&&A.addDefaultCase(N)})}const m=C=>C,p=new Map,g=new WeakMap;let y;function b(C,j){return y||(y=f()),y(C,j)}function h(){return y||(y=f()),y.getInitialState()}function x(C,j=!1){function N(A){let k=A[C];return typeof k>"u"&&j&&(k=Vp(g,N,h)),k}function S(A=m){const k=Vp(p,j,()=>new WeakMap);return Vp(k,A,()=>{const T={};for(const[E,$]of Object.entries(a.selectors??{}))T[E]=iK($,A,()=>Vp(g,A,h),j);return T})}return{reducerPath:C,getSelectors:S,get selectors(){return S(N)},selectSlice:N}}const v={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:h,...x(i),injectInto(C,{reducerPath:j,...N}={}){const S=j??i;return C.inject({reducerPath:S,reducer:b},N),{...v,...x(S,!0)}}};return v}}function iK(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var ve=oK();function lK(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function cK({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!dK(n))throw new Error(vs(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?Yd(t,i):Yd(t))}function uK(t){return t._reducerDefinitionType==="asyncThunk"}function dK(t){return t._reducerDefinitionType==="reducerWithPrepare"}function fK({type:t,reducerName:e},r,n,a){if(!a)throw new Error(vs(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||Up,pending:l||Up,rejected:c||Up,settled:u||Up})}function Up(){}function vs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const mK="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",pK=async(t,e)=>{var r,n;try{const a=await fetch(`${mK}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),s=await a.json();if(!a.ok||!s.token)throw new Error(s.message||((r=s.errors)==null?void 0:r.general)||"Login failed");if(((n=s.user.accessList)==null?void 0:n.length)>0){const i=s.user.accessList.length>=2?s.user.accessList[1]:s.user.accessList[0];localStorage.setItem("selectedRole",JSON.stringify(i))}return localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),s.user}catch(a){throw new Error(a.message)}},hK=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("selectedRole"),null),gK=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),yK=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),vv={login:pK,logout:hK,fetchUserProfile:gK,changePassword:yK},bK={user:null,isAuthenticated:!1,isLoading:!1,error:null,selectedRole:null},Gh=q("auth/login",async({username:t,password:e},r)=>{try{return await vv.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),l3=q("auth/logout",async(t,e)=>{try{return await vv.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),DN=q("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await vv.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),Yh=q("auth/fetchUserProfile",async(t,e)=>{try{return await vv.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),c3=q("auth/updateSelectedRole",async(t,e)=>{try{return localStorage.setItem("selectedRole",JSON.stringify(t)),t}catch(r){return e.rejectWithValue(r.message)}}),u3=ve({name:"auth",initialState:bK,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(Gh.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gh.fulfilled,(e,r)=>{var n;if(e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload,((n=r.payload.accessList)==null?void 0:n.length)>0){const a=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=a,localStorage.setItem("selectedRole",JSON.stringify(a))}}).addCase(Gh.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(l3.fulfilled,e=>{e.user=null,e.isAuthenticated=!1,e.selectedRole=null}).addCase(Yh.pending,e=>{e.isLoading=!0}).addCase(Yh.fulfilled,(e,r)=>{var a;e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload;const n=localStorage.getItem("selectedRole");if(n)e.selectedRole=JSON.parse(n);else if(((a=r.payload.accessList)==null?void 0:a.length)>0){const s=r.payload.accessList.length>=2?r.payload.accessList[1]:r.payload.accessList[0];e.selectedRole=s}}).addCase(Yh.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(DN.pending,e=>{e.isLoading=!0}).addCase(DN.fulfilled,e=>{e.isLoading=!1}).addCase(DN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(c3.fulfilled,(e,r)=>{e.selectedRole=r.payload})}}),{resetAuthState:I9e}=u3.actions,xK=u3.reducer;let vK={data:""},jK=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||vK,wK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,NK=/\/\*[^]*?\*\/|  +/g,LD=/\n+/g,io=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?io(i,s):s+"{"+io(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=io(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=io.p?io.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Qa={},d3=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+d3(t[r]);return e}return t},CK=(t,e,r,n,a)=>{let s=d3(t),i=Qa[s]||(Qa[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Qa[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=wK.exec(u.replace(NK,""));)d[4]?m.shift():d[3]?(f=d[3].replace(LD," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(LD," ").trim();return m[0]})(t);Qa[i]=io(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Qa.g?Qa.g:null;return r&&(Qa.g=Qa[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Qa[i],e,n,l),i},SK=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":io(l,""):l===!1?"":l}return n+a+(i??"")},"");function jv(t){let e=this||{},r=t.call?t(e.p):t;return CK(r.unshift?r.raw?SK(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,jK(e.target),e.g,e.o,e.k)}let f3,LS,FS;jv.bind({g:1});let Ds=jv.bind({k:1});function AK(t,e,r,n){io.p=e,f3=t,LS=r,FS=n}function Xo(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:LS&&LS()},l),r.o=/ *go\d+/.test(c),l.className=jv.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),FS&&u[0]&&FS(l),f3(u,l)}return a}}var IK=t=>typeof t=="function",Px=(t,e)=>IK(t)?t(e):t,kK=(()=>{let t=0;return()=>(++t).toString()})(),m3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),TK=20,p3=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,TK)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return p3(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Kh=[],Pi={toasts:[],pausedAt:void 0},Cl=t=>{Pi=p3(Pi,t),Kh.forEach(e=>{e(Pi)})},EK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},PK=(t={})=>{let[e,r]=w.useState(Pi),n=w.useRef(Pi);w.useEffect(()=>(n.current!==Pi&&r(Pi),Kh.push(r),()=>{let s=Kh.indexOf(r);s>-1&&Kh.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||EK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},DK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||kK()}),Jm=t=>(e,r)=>{let n=DK(e,t,r);return Cl({type:2,toast:n}),n.id},oe=(t,e)=>Jm("blank")(t,e);oe.error=Jm("error");oe.success=Jm("success");oe.loading=Jm("loading");oe.custom=Jm("custom");oe.dismiss=t=>{Cl({type:3,toastId:t})};oe.remove=t=>Cl({type:4,toastId:t});oe.promise=(t,e,r)=>{let n=oe.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?Px(e.success,a):void 0;return s?oe.success(s,{id:n,...r,...r==null?void 0:r.success}):oe.dismiss(n),a}).catch(a=>{let s=e.error?Px(e.error,a):void 0;s?oe.error(s,{id:n,...r,...r==null?void 0:r.error}):oe.dismiss(n)}),t};var OK=(t,e)=>{Cl({type:1,toast:{id:t,height:e}})},_K=()=>{Cl({type:5,time:Date.now()})},Kd=new Map,$K=1e3,RK=(t,e=$K)=>{if(Kd.has(t))return;let r=setTimeout(()=>{Kd.delete(t),Cl({type:4,toastId:t})},e);Kd.set(t,r)},MK=t=>{let{toasts:e,pausedAt:r}=PK(t);w.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&oe.dismiss(l.id);return}return setTimeout(()=>oe.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=w.useCallback(()=>{r&&Cl({type:6,time:Date.now()})},[r]),a=w.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),f=d.findIndex(p=>p.id===s.id),m=d.filter((p,g)=>g<f&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[m+1]:[0,m]).reduce((p,g)=>p+(g.height||0)+c,0)},[e]);return w.useEffect(()=>{e.forEach(s=>{if(s.dismissed)RK(s.id,s.removeDelay);else{let i=Kd.get(s.id);i&&(clearTimeout(i),Kd.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:OK,startPause:_K,endPause:n,calculateOffset:a}}},LK=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,FK=Ds`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BK=Ds`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qK=Xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${FK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${BK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,VK=Ds`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,UK=Xo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${VK} 1s linear infinite;
`,zK=Ds`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,WK=Ds`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,HK=Xo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${WK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GK=Xo("div")`
  position: absolute;
`,YK=Xo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,KK=Ds`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,JK=Xo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${KK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XK=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?w.createElement(JK,null,e):e:r==="blank"?null:w.createElement(YK,null,w.createElement(UK,{...n}),r!=="loading"&&w.createElement(GK,null,r==="error"?w.createElement(qK,{...n}):w.createElement(HK,{...n})))},ZK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,QK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,eJ="0%{opacity:0;} 100%{opacity:1;}",tJ="0%{opacity:1;} 100%{opacity:0;}",rJ=Xo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,nJ=Xo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,aJ=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=m3()?[eJ,tJ]:[ZK(r),QK(r)];return{animation:e?`${Ds(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ds(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sJ=w.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?aJ(t.position||e||"top-center",t.visible):{opacity:0},s=w.createElement(XK,{toast:t}),i=w.createElement(nJ,{...t.ariaProps},Px(t.message,t));return w.createElement(rJ,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):w.createElement(w.Fragment,null,s,i))});AK(w.createElement);var oJ=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=w.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return w.createElement("div",{ref:s,className:e,style:r},a)},iJ=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:m3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},lJ=jv`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zp=16,cJ=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=MK(r);return w.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:zp,left:zp,right:zp,bottom:zp,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=iJ(d,f);return w.createElement(oJ,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?lJ:"",style:m},u.type==="custom"?Px(u.message,u):a?a(u):w.createElement(sJ,{toast:u,position:d}))}))},V=oe;function h3(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=h3(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Re(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=h3(t))&&(n&&(n+=" "),n+=e);return n}function uJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const g3=w.forwardRef(uJ);function dJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const wa=w.forwardRef(dJ);function fJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const mJ=w.forwardRef(fJ);function pJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const hJ=w.forwardRef(pJ);function gJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const yJ=w.forwardRef(gJ);function bJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const xJ=w.forwardRef(bJ);function vJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Vk=w.forwardRef(vJ);function jJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const BS=w.forwardRef(jJ);function wJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const NJ=w.forwardRef(wJ);function CJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const FD=w.forwardRef(CJ);function SJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const y3=w.forwardRef(SJ);function AJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const b3=w.forwardRef(AJ);function IJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const BD=w.forwardRef(IJ);function kJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const TJ=w.forwardRef(kJ);function EJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Dx=w.forwardRef(EJ);function PJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const DJ=w.forwardRef(PJ);function OJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const _J=w.forwardRef(OJ);function $J({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Zo=w.forwardRef($J);function RJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const MJ=w.forwardRef(RJ);function LJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const FJ=w.forwardRef(LJ);function BJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const qJ=w.forwardRef(BJ);function VJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const UJ=w.forwardRef(VJ);function zJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const ke=w.forwardRef(zJ);function WJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Te=w.forwardRef(WJ);function HJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const Wc=w.forwardRef(HJ);function GJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const YJ=w.forwardRef(GJ);function KJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Me=w.forwardRef(KJ);function JJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const XJ=w.forwardRef(JJ);function ZJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const qD=w.forwardRef(ZJ);function QJ({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const eX=w.forwardRef(QJ);function tX({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const x3=w.forwardRef(tX),rX=[{name:"Dashboard",href:"/dashboard",icon:FJ},{name:"Settings",icon:y3,submenu:[{name:"Departments",href:"/settings/departments",moduleId:39},{name:"Subdepartments",href:"/settings/subdepartments",moduleId:76},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix",moduleId:17},{name:"User Access",href:"/settings/user-access",moduleId:83},{name:"User Roles",href:"/settings/user-roles",moduleId:84},{name:"User",href:"/settings/users",moduleId:82}]},{name:"Locations",href:"/settings/locations"},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank",moduleId:18},{name:"Currency",href:"/settings/currency",moduleId:37}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details",moduleId:41},{name:"Document Type Category",href:"/settings/document-type-categories",moduleId:42}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items",moduleId:55},{name:"Item Units",href:"/settings/items/units",moduleId:56}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details",moduleId:65},{name:"Project Type",href:"/settings/project-type",moduleId:87}]},{name:"Financial Statement",href:"/settings/financial-statement",moduleId:44},{name:"Fiscal Year",href:"/settings/fiscal-year",moduleId:45},{name:"Tax Code",href:"/settings/tax-code",moduleId:78},{name:"Mode of Payment",href:"/settings/mode-of-payment",moduleId:60},{name:"Payment Terms",href:"/settings/payment-terms",moduleId:63},{name:"Industry",href:"/settings/industry",moduleId:53}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration",moduleId:79},{name:"Base Unit Value",href:"/settings/base-unit-value",moduleId:20},{name:"General Revision",href:"/settings/general-revision",moduleId:51}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance",moduleId:58},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts",moduleId:31},{name:"Account Group",href:"/settings/account-group",moduleId:88},{name:"Major Account Group",href:"/settings/major-account-group",moduleId:89},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group",moduleId:90}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors",moduleId:86},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type",moduleId:91},{name:"Vendor Type",href:"/settings/vendor-type",moduleId:92}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees",moduleId:43},{name:"Employment Status",href:"/settings/employmentStatus",moduleId:93},{name:"Positions",href:"/settings/positions",moduleId:36},{name:"Nationalities",href:"/settings/nationalities",moduleId:94}]},{name:"Individual/Citizen",href:"/settings/customer",moduleId:38},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe",moduleId:64},{name:"PPE Categories",href:"/settings/ppe-categories",moduleId:95},{name:"PPE Suppliers",href:"/settings/ppe-suppliers",moduleId:96}]}]},{name:"Disbursement",icon:b3,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests",moduleId:62},{name:"Disbursement Voucher",href:"/disbursement/vouchers",moduleId:40},{name:"Travel Order",href:"/disbursement/travel-orders",moduleId:80},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers",moduleId:57},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals",moduleId:32},{name:"General Journals",href:"/disbursement/general-journals",moduleId:49},{name:"Beginning Balance",href:"/disbursement/beginning-balance",moduleId:21},{name:"Purchase Request",href:"/disbursement/purchase-requests",moduleId:69},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests",moduleId:47}]},{name:"Collections",icon:YJ,submenu:[{name:"Community Tax",href:"/collections/community-tax",moduleId:34},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation",moduleId:35},{name:"General Service Receipt",href:"/collections/general-service-receipts",moduleId:52},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts",moduleId:28},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts",moduleId:59},{name:"Real Property Tax",href:"/collections/real-property-tax",moduleId:70},{name:"Cashbook",href:"/collections/cashbook",moduleId:30},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets",moduleId:68}]},{name:"Applications",icon:Dx,submenu:[{name:"Business Permits",href:"/applications/business-permits",moduleId:29},{name:"Cheque Generator",href:"/applications/cheque-generator",moduleId:33}]},{name:"Budget",icon:TJ,submenu:[{name:"Budget Details",href:"/budget/details",moduleId:22},{name:"Budget Allotment",href:"/budget/allotment",moduleId:23},{name:"Budget Summary",href:"/budget/summary",moduleId:25},{name:"Budget Supplemental",href:"/budget/supplemental",moduleId:26},{name:"Budget Transfer",href:"/budget/transfer",moduleId:27},{name:"Budget Report",href:"/budget/report",moduleId:24},{name:"Funds",href:"/budget/funds",moduleId:48},{name:"Sub-funds",href:"/budget/sub-funds",moduleId:97},{name:"Fund Transfer",href:"/budget/fund-transfer",moduleId:46},{name:"Statement of Comparison",href:"/budget/statement-comparison",moduleId:73},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation",moduleId:72}]},{name:"Reports",icon:BS,submenu:[{name:"General Ledger",href:"/reports/general-ledger",moduleId:50},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger",moduleId:77},{name:"Trial Balance",href:"/reports/trial-balance",moduleId:81},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:BS,moduleId:16}];function v3({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i="",hasViewPermission:l}){return o.jsx("div",{className:Re("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(c=>{const u=i?`${i}.${c.name}`:c.name,d=e[u],f=a(c.submenu||[]);return l(c.moduleId)?o.jsx("div",{className:"relative",children:c.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:m=>{m.preventDefault(),r(u)},className:Re("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",f?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",d&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[c.icon&&o.jsx(c.icon,{className:Re("mr-3 h-5 w-5 flex-shrink-0",f?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:c.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:Re("h-5 w-5 transform transition-transform flex-shrink-0",d?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),d&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(v3,{items:c.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:u,hasViewPermission:l})]})]}):o.jsxs(bc,{to:c.href,className:Re("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(c.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[c.icon&&o.jsx(c.icon,{className:Re("mr-3 h-5 w-5 flex-shrink-0",n(c.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:c.name})]})},u):null})})}function nX(){var f,m;const t=Jo(),{user:e,selectedRole:r}=z(p=>p.auth),[n,a]=w.useState({}),s=p=>{a(g=>({...g,[p]:!g[p]}))},i=p=>t.pathname===p||t.pathname===p+"/",l=p=>p.some(g=>g.href?t.pathname===g.href:g.children&&l(g.children)),c=(r==null?void 0:r.Description)==="Administrator";function u(p){if(c||!p)return!0;if(!(r!=null&&r.ModuleAccesses))return!1;const g=r.ModuleAccesses.find(y=>y.ModuleID===p);return g==null?void 0:g.View}const d=rX.map(p=>{if(p.submenu){const g=p.submenu.filter(y=>y.submenu?y.submenu.filter(h=>u(h.moduleId)).length>0:u(y.moduleId));return g.length>0?{...p,submenu:g}:null}return u(p.moduleId)?p:null}).filter(Boolean);return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(v3,{items:d,expandedMenus:n,toggleMenu:s,isActive:i,isSubMenuActive:l,hasViewPermission:u})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((f=e.firstName)==null?void 0:f.charAt(0))||"",((m=e.lastName)==null?void 0:m.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function Ll(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((g,y)=>n[y]!==g)))return a;n=f;let p;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(p=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const g=Math.round((Date.now()-d)*100)/100,y=Math.round((Date.now()-p)*100)/100,b=y/16,h=(x,v)=>{for(x=String(x);x.length<v;)x=" "+x;return x};console.info(`%c ${h(y,5)} /${h(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function VD(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const aX=(t,e)=>Math.abs(t-e)<1.01,sX=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},UD=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},oX=t=>t,iX=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},lX=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(UD(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(UD(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},zD={passive:!0},WD=typeof window>"u"?!0:"onscrollend"in window,cX=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&WD?()=>{}:sX(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,zD);const u=t.options.useScrollendEvent&&WD;return u&&r.addEventListener("scrollend",c,zD),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},uX=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},dX=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class fX{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:oX,rangeExtractor:iX,onChange:()=>{},measureElement:uX,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=Ll(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=Ll(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=Ll(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),p=m?m.end+this.options.gap:n+a,g=l.get(f),y=typeof g=="number"?g:this.options.estimateSize(d),b=p+y,h=m?m.lane:d%this.options.lanes;u[d]={index:d,start:p,size:y,end:b,key:f,lane:h}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ll(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?mX({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ll(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=Ll(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return VD(n[j3(0,n.length-1,a=>VD(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let s=0;const i=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(r,u);if(!d){console.warn("Failed to get offset for index:",r);return}const[f,m]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),g=this.getOffsetForIndex(r,m);if(!g){console.warn("Failed to get offset for index:",r);return}aX(g[0],p)||c(m)})},c=u=>{this.targetWindow&&(s++,s<i?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${r} after ${i} attempts.`))};l(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const j3=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function mX({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=j3(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const HD=typeof document<"u"?w.useLayoutEffect:w.useEffect;function pX(t){const e=w.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?pv.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=w.useState(()=>new fX(r));return n.setOptions(r),HD(()=>n._didMount(),[]),HD(()=>n._willUpdate()),n}function hX(t){return pX({observeElementRect:lX,observeElementOffset:cX,scrollToFn:dX,...t})}var gX=Object.defineProperty,yX=(t,e,r)=>e in t?gX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ON=(t,e,r)=>(yX(t,typeof e!="symbol"?e+"":e,r),r);let bX=class{constructor(){ON(this,"current",this.detect()),ON(this,"handoffState","pending"),ON(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},js=new bX,bt=(t,e)=>{js.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function ya(t){let e=w.useRef(t);return bt(()=>{e.current=t},[t]),e}function Uk(t,e){let[r,n]=w.useState(t),a=ya(t);return bt(()=>n(a.current),[a,n,...e]),r}let Ae=function(t){let e=ya(t);return H.useCallback((...r)=>e.current(...r),[e])};function xX(t,e,r){let[n,a]=w.useState(r),s=t!==void 0,i=w.useRef(s),l=w.useRef(!1),c=w.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,Ae(u=>(s||a(u),e==null?void 0:e(u)))]}function wv(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function On(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return wv(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=On();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function Qo(){let[t]=w.useState(On);return w.useEffect(()=>()=>t.dispose(),[t]),t}function vX(){let t=typeof document>"u";return(e=>e.useSyncExternalStore)(Nf)(()=>()=>{},()=>!1,()=>!t)}function Cu(){let t=vX(),[e,r]=w.useState(js.isHandoffComplete);return e&&js.isHandoffComplete===!1&&r(!1),w.useEffect(()=>{e!==!0&&r(!0)},[e]),w.useEffect(()=>js.handoff(),[]),t?!1:e}var GD;let yn=(GD=H.useId)!=null?GD:function(){let t=Cu(),[e,r]=H.useState(t?()=>js.nextId():null);return bt(()=>{e===null&&r(js.nextId())},[e]),e!=null?""+e:void 0};function Mt(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mt),n}function Nv(t){return js.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let qS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ds=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ds||{}),w3=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(w3||{}),jX=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(jX||{});function N3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(qS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var zk=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(zk||{});function Wk(t,e=0){var r;return t===((r=Nv(t))==null?void 0:r.body)?!1:Mt(e,{0(){return t.matches(qS)},1(){let n=t;for(;n!==null;){if(n.matches(qS))return!0;n=n.parentElement}return!1}})}function C3(t){let e=Nv(t);On().nextFrame(()=>{e&&!Wk(e.activeElement,0)&&Ao(t)})}var wX=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(wX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ao(t){t==null||t.focus({preventScroll:!0})}let NX=["textarea","input"].join(",");function CX(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,NX))!=null?r:!1}function Hk(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function SX(t,e){return Jd(N3(),e,{relativeTo:t})}function Jd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?Hk(t):t:N3(t);a.length>0&&i.length>1&&(i=i.filter(p=>!a.includes(p))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(e&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}m=i[p],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&CX(m)&&m.select(),2}function S3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function AX(){return/Android/gi.test(window.navigator.userAgent)}function A3(){return S3()||AX()}function Wp(t,e,r){let n=ya(e);w.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function I3(t,e,r){let n=ya(e);w.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function Gk(t,e,r=!0){let n=w.useRef(!1);w.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!Wk(c,zk.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=w.useRef(null);Wp("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Wp("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Wp("click",i=>{A3()||s.current&&(a(i,()=>s.current),s.current=null)},!0),Wp("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),I3("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Sl(...t){return w.useMemo(()=>Nv(...t),[...t])}function YD(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function k3(t,e){let[r,n]=w.useState(()=>YD(t));return bt(()=>{n(YD(t))},[t.type,t.as]),bt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let T3=Symbol();function IX(t,e=!0){return Object.assign(t,{[T3]:e})}function cr(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let r=Ae(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[T3]))?void 0:r}function KD(t){return[t.screenX,t.screenY]}function E3(){let t=w.useRef([-1,-1]);return{wasMoved(e){let r=KD(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=KD(e)}}}function P3({container:t,accept:e,walk:r,enabled:n=!0}){let a=w.useRef(e),s=w.useRef(r);w.useEffect(()=>{a.current=e,s.current=r},[e,r]),bt(()=>{if(!t||!n)return;let i=Nv(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function Wf(t,e){let r=w.useRef([]),n=Ae(t);w.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function Ox(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var qo=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(qo||{}),fo=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(fo||{});function Qt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??kX;let c=D3(e,t);if(s)return Hp(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return Hp(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return Mt(d?0:1,{0(){return null},1(){return Hp({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return Hp(c,r,n,i,l)}function Hp(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=_N(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,p=[];for(let[g,y]of Object.entries(e))typeof y=="boolean"&&(m=!0),y===!0&&p.push(g);m&&(f["data-headlessui-state"]=p.join(" "))}if(s===w.Fragment&&Object.keys(VS(c)).length>0){if(!w.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let m=d.props,p=typeof(m==null?void 0:m.className)=="function"?(...y)=>Ox(m==null?void 0:m.className(...y),c.className):Ox(m==null?void 0:m.className,c.className),g=p?{className:p}:{};return w.cloneElement(d,Object.assign({},D3(d.props,VS(_N(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},g))}return w.createElement(s,Object.assign({},_N(c,["ref"]),s!==w.Fragment&&u,s!==w.Fragment&&f),d)}function kX(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function D3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function zt(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function VS(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function _N(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let TX="div";var Hf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Hf||{});function EX(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Qt({ourProps:s,theirProps:a,slot:{},defaultTag:TX,name:"Hidden"})}let _x=zt(EX),Yk=w.createContext(null);Yk.displayName="OpenClosedContext";var tr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(tr||{});function Xm(){return w.useContext(Yk)}function Kk({value:t,children:e}){return H.createElement(Yk.Provider,{value:t},e)}function PX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ra=[];PX(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ra[0]!==e.target&&(Ra.unshift(e.target),Ra=Ra.filter(r=>r!=null&&r.isConnected),Ra.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Jk(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&DX(r)?!1:n}function DX(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function OX(t){throw new Error("Unexpected object: "+t)}var mt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(mt||{});function US(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:OX(t)}}function O3(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))$3(r,_3(e,n),a);return r}function _3(t,e){return t?t+"["+e+"]":e}function $3(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())$3(t,_3(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):O3(r,e,t)}var ct=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ct||{}),_X={},$X=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))($X||{}),RX=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(RX||{}),MX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(MX||{}),LX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(LX||{});function $N(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):Hk(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let FX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===mt.Specific?e.idx:US(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,p;return(p=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(g=>!t.virtual.disabled(g)))!=null?p:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=$N(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===mt.Specific?e.idx:US(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=$N(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=$N(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},Xk=w.createContext(null);Xk.displayName="ComboboxActionsContext";function Zm(t){let e=w.useContext(Xk);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Zm),r}return e}let R3=w.createContext(null);function BX(t){var e;let r=Al("VirtualProvider"),[n,a]=w.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=hX({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=w.useState(0);return bt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),H.createElement(R3.Provider,{value:s},H.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&_X.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return H.createElement(w.Fragment,{key:c.key},H.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let Zk=w.createContext(null);Zk.displayName="ComboboxDataContext";function Al(t){let e=w.useContext(Zk);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Al),r}return e}function qX(t,e){return Mt(e.type,FX,t,e)}let VX=w.Fragment;function UX(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:p=null,...g}=t,y=!1,b=null,[h=f?[]:void 0,x]=xX(r,a,n),[v,C]=w.useReducer(qX,{dataRef:w.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),j=w.useRef(!1),N=w.useRef({static:!1,hold:!1}),S=w.useRef(null),A=w.useRef(null),k=w.useRef(null),T=w.useRef(null),E=Ae(typeof l=="string"?(Q,re)=>{let X=l;return(Q==null?void 0:Q[X])===(re==null?void 0:re[X])}:l??((Q,re)=>Q===re)),$=Ae(Q=>v.options.findIndex(re=>E(re.dataRef.current.value,Q))),L=w.useCallback(Q=>Mt(D.mode,{1:()=>h.some(re=>E(re,Q)),0:()=>E(h,Q)}),[h]),M=Ae(Q=>v.activeOptionIndex===$(Q)),D=w.useMemo(()=>({...v,immediate:y,optionsPropsRef:N,labelRef:S,inputRef:A,buttonRef:k,optionsRef:T,value:h,defaultValue:n,disabled:c,mode:f?1:0,virtual:v.virtual,get activeOptionIndex(){if(j.current&&v.activeOptionIndex===null&&v.options.length>0){let Q=v.options.findIndex(re=>!re.dataRef.current.disabled);if(Q!==-1)return Q}return v.activeOptionIndex},calculateIndex:$,compare:E,isSelected:L,isActive:M,nullable:d,__demoMode:u}),[h,n,c,f,d,u,v,b]);bt(()=>{},[b,void 0]),bt(()=>{v.dataRef.current=D},[D]),Gk([D.buttonRef,D.inputRef,D.optionsRef],()=>be.closeCombobox(),D.comboboxState===0);let P=w.useMemo(()=>{var Q,re,X;return{open:D.comboboxState===0,disabled:c,activeIndex:D.activeOptionIndex,activeOption:D.activeOptionIndex===null?null:D.virtual?D.virtual.options[(Q=D.activeOptionIndex)!=null?Q:0]:(X=(re=D.options[D.activeOptionIndex])==null?void 0:re.dataRef.current.value)!=null?X:null,value:h}},[D,c,h]),F=Ae(()=>{if(D.activeOptionIndex!==null){if(D.virtual)W(D.virtual.options[D.activeOptionIndex]);else{let{dataRef:Q}=D.options[D.activeOptionIndex];W(Q.current.value)}be.goToOption(mt.Specific,D.activeOptionIndex)}}),O=Ae(()=>{C({type:0}),j.current=!0}),R=Ae(()=>{C({type:1}),j.current=!1}),B=Ae((Q,re,X)=>(j.current=!1,Q===mt.Specific?C({type:2,focus:mt.Specific,idx:re,trigger:X}):C({type:2,focus:Q,trigger:X}))),U=Ae((Q,re)=>(C({type:3,payload:{id:Q,dataRef:re}}),()=>{D.isActive(re.current.value)&&(j.current=!0),C({type:4,id:Q})})),G=Ae(Q=>(C({type:5,id:Q}),()=>C({type:5,id:null}))),W=Ae(Q=>Mt(D.mode,{0(){return x==null?void 0:x(Q)},1(){let re=D.value.slice(),X=re.findIndex(Y=>E(Y,Q));return X===-1?re.push(Q):re.splice(X,1),x==null?void 0:x(re)}})),ae=Ae(Q=>{C({type:6,trigger:Q})}),be=w.useMemo(()=>({onChange:W,registerOption:U,registerLabel:G,goToOption:B,closeCombobox:R,openCombobox:O,setActivationTrigger:ae,selectActiveOption:F}),[]),se=e===null?{}:{ref:e},J=w.useRef(null),ue=Qo();return w.useEffect(()=>{J.current&&n!==void 0&&ue.addEventListener(J.current,"reset",()=>{x==null||x(n)})},[J,x]),H.createElement(Xk.Provider,{value:be},H.createElement(Zk.Provider,{value:D},H.createElement(Kk,{value:Mt(D.comboboxState,{0:tr.Open,1:tr.Closed})},i!=null&&h!=null&&O3({[i]:h}).map(([Q,re],X)=>H.createElement(_x,{features:Hf.Hidden,ref:X===0?Y=>{var pe;J.current=(pe=Y==null?void 0:Y.closest("form"))!=null?pe:null}:void 0,...VS({key:Q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:Q,value:re})})),Qt({ourProps:se,theirProps:g,slot:P,defaultTag:VX,name:"Combobox"}))))}let zX="input";function WX(t,e){var r,n,a,s,i;let l=yn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,p=Al("Combobox.Input"),g=Zm("Combobox.Input"),y=cr(p.inputRef,e),b=Sl(p.inputRef),h=w.useRef(!1),x=Qo(),v=Ae(()=>{g.onChange(null),p.optionsRef.current&&(p.optionsRef.current.scrollTop=0),g.goToOption(mt.Nothing)}),C=function(){var D;return typeof d=="function"&&p.value!==void 0?(D=d(p.value))!=null?D:"":typeof p.value=="string"?p.value:""}();Wf(([D,P],[F,O])=>{if(h.current)return;let R=p.inputRef.current;R&&((O===0&&P===1||D!==F)&&(R.value=D),requestAnimationFrame(()=>{if(h.current||!R||(b==null?void 0:b.activeElement)!==R)return;let{selectionStart:B,selectionEnd:U}=R;Math.abs((U??0)-(B??0))===0&&B===0&&R.setSelectionRange(R.value.length,R.value.length)}))},[C,p.comboboxState,b]),Wf(([D],[P])=>{if(D===0&&P===1){if(h.current)return;let F=p.inputRef.current;if(!F)return;let O=F.value,{selectionStart:R,selectionEnd:B,selectionDirection:U}=F;F.value="",F.value=O,U!==null?F.setSelectionRange(R,B,U):F.setSelectionRange(R,B)}},[p.comboboxState]);let j=w.useRef(!1),N=Ae(()=>{j.current=!0}),S=Ae(()=>{x.nextFrame(()=>{j.current=!1})}),A=Ae(D=>{switch(h.current=!0,D.key){case ct.Enter:if(h.current=!1,p.comboboxState!==0||j.current)return;if(D.preventDefault(),D.stopPropagation(),p.activeOptionIndex===null){g.closeCombobox();return}g.selectActiveOption(),p.mode===0&&g.closeCombobox();break;case ct.ArrowDown:return h.current=!1,D.preventDefault(),D.stopPropagation(),Mt(p.comboboxState,{0:()=>g.goToOption(mt.Next),1:()=>g.openCombobox()});case ct.ArrowUp:return h.current=!1,D.preventDefault(),D.stopPropagation(),Mt(p.comboboxState,{0:()=>g.goToOption(mt.Previous),1:()=>{g.openCombobox(),x.nextFrame(()=>{p.value||g.goToOption(mt.Last)})}});case ct.Home:if(D.shiftKey)break;return h.current=!1,D.preventDefault(),D.stopPropagation(),g.goToOption(mt.First);case ct.PageUp:return h.current=!1,D.preventDefault(),D.stopPropagation(),g.goToOption(mt.First);case ct.End:if(D.shiftKey)break;return h.current=!1,D.preventDefault(),D.stopPropagation(),g.goToOption(mt.Last);case ct.PageDown:return h.current=!1,D.preventDefault(),D.stopPropagation(),g.goToOption(mt.Last);case ct.Escape:return h.current=!1,p.comboboxState!==0?void 0:(D.preventDefault(),p.optionsRef.current&&!p.optionsPropsRef.current.static&&D.stopPropagation(),p.nullable&&p.mode===0&&p.value===null&&v(),g.closeCombobox());case ct.Tab:if(h.current=!1,p.comboboxState!==0)return;p.mode===0&&p.activationTrigger!==1&&g.selectActiveOption(),g.closeCombobox();break}}),k=Ae(D=>{u==null||u(D),p.nullable&&p.mode===0&&D.target.value===""&&v(),g.openCombobox()}),T=Ae(D=>{var P,F,O;let R=(P=D.relatedTarget)!=null?P:Ra.find(B=>B!==D.currentTarget);if(h.current=!1,!((F=p.optionsRef.current)!=null&&F.contains(R))&&!((O=p.buttonRef.current)!=null&&O.contains(R))&&p.comboboxState===0)return D.preventDefault(),p.mode===0&&(p.nullable&&p.value===null?v():p.activationTrigger!==1&&g.selectActiveOption()),g.closeCombobox()}),E=Ae(D=>{var P,F,O;let R=(P=D.relatedTarget)!=null?P:Ra.find(B=>B!==D.currentTarget);(F=p.buttonRef.current)!=null&&F.contains(R)||(O=p.optionsRef.current)!=null&&O.contains(R)||p.disabled||p.immediate&&p.comboboxState!==0&&(g.openCombobox(),x.nextFrame(()=>{g.setActivationTrigger(1)}))}),$=Uk(()=>{if(p.labelId)return[p.labelId].join(" ")},[p.labelId]),L=w.useMemo(()=>({open:p.comboboxState===0,disabled:p.disabled}),[p]),M={ref:y,id:c,role:"combobox",type:f,"aria-controls":(r=p.optionsRef.current)==null?void 0:r.id,"aria-expanded":p.comboboxState===0,"aria-activedescendant":p.activeOptionIndex===null?void 0:p.virtual?(n=p.options.find(D=>{var P;return!((P=p.virtual)!=null&&P.disabled(D.dataRef.current.value))&&p.compare(D.dataRef.current.value,p.virtual.options[p.activeOptionIndex])}))==null?void 0:n.id:(a=p.options[p.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":$,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:p.defaultValue!==void 0?d==null?void 0:d(p.defaultValue):null)!=null?i:p.defaultValue,disabled:p.disabled,onCompositionStart:N,onCompositionEnd:S,onKeyDown:A,onChange:k,onFocus:E,onBlur:T};return Qt({ourProps:M,theirProps:m,slot:L,defaultTag:zX,name:"Combobox.Input"})}let HX="button";function GX(t,e){var r;let n=Al("Combobox.Button"),a=Zm("Combobox.Button"),s=cr(n.buttonRef,e),i=yn(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=Qo(),d=Ae(y=>{switch(y.key){case ct.ArrowDown:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})});case ct.ArrowUp:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(mt.Last)})),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})});case ct.Escape:return n.comboboxState!==0?void 0:(y.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&y.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})}));default:return}}),f=Ae(y=>{if(Jk(y.currentTarget))return y.preventDefault();n.comboboxState===0?a.closeCombobox():(y.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var b;return(b=n.inputRef.current)==null?void 0:b.focus({preventScroll:!0})})}),m=Uk(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),p=w.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),g={ref:s,id:l,type:k3(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return Qt({ourProps:g,theirProps:c,slot:p,defaultTag:HX,name:"Combobox.Button"})}let YX="label";function KX(t,e){let r=yn(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=Al("Combobox.Label"),i=Zm("Combobox.Label"),l=cr(s.labelRef,e);bt(()=>i.registerLabel(n),[n]);let c=Ae(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=w.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Qt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:YX,name:"Combobox.Label"})}let JX="ul",XX=qo.RenderStrategy|qo.Static;function ZX(t,e){let r=yn(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=Al("Combobox.Options"),l=cr(i.optionsRef,e),c=Xm(),u=c!==null?(c&tr.Open)===tr.Open:i.comboboxState===0;bt(()=>{var p;i.optionsPropsRef.current.static=(p=t.static)!=null?p:!1},[i.optionsPropsRef,t.static]),bt(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),P3({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(p){return p.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let d=Uk(()=>{var p,g;return(g=i.labelId)!=null?g:(p=i.buttonRef.current)==null?void 0:p.id},[i.labelId,i.buttonRef.current]),f=w.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:H.createElement(BX,null,s.children)}),Qt({ourProps:m,theirProps:s,slot:f,defaultTag:JX,features:XX,visible:u,name:"Combobox.Options"})}let QX="li";function eZ(t,e){var r;let n=yn(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=Al("Combobox.Option"),d=Zm("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),p=w.useRef(null),g=ya({disabled:s,value:i,domRef:p,order:l}),y=w.useContext(R3),b=cr(e,p,y?y.measureElement:null),h=Ae(()=>d.onChange(i));bt(()=>d.registerOption(a,g),[g,a]);let x=w.useRef(!(u.virtual||u.__demoMode));bt(()=>{if(!u.virtual||!u.__demoMode)return;let T=On();return T.requestAnimationFrame(()=>{x.current=!0}),T.dispose},[u.virtual,u.__demoMode]),bt(()=>{if(!x.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let T=On();return T.requestAnimationFrame(()=>{var E,$;($=(E=p.current)==null?void 0:E.scrollIntoView)==null||$.call(E,{block:"nearest"})}),T.dispose},[p,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let v=Ae(T=>{var E;if(s||(E=u.virtual)!=null&&E.disabled(i))return T.preventDefault();h(),A3()||requestAnimationFrame(()=>{var $;return($=u.inputRef.current)==null?void 0:$.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),C=Ae(()=>{var T;if(s||(T=u.virtual)!=null&&T.disabled(i))return d.goToOption(mt.Nothing);let E=u.calculateIndex(i);d.goToOption(mt.Specific,E)}),j=E3(),N=Ae(T=>j.update(T)),S=Ae(T=>{var E;if(!j.wasMoved(T)||s||(E=u.virtual)!=null&&E.disabled(i)||f)return;let $=u.calculateIndex(i);d.goToOption(mt.Specific,$,0)}),A=Ae(T=>{var E;j.wasMoved(T)&&(s||(E=u.virtual)!=null&&E.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(mt.Nothing)))}),k=w.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return Qt({ourProps:{id:a,ref:b,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:v,onFocus:C,onPointerEnter:N,onMouseEnter:N,onPointerMove:S,onMouseMove:S,onPointerLeave:A,onMouseLeave:A},theirProps:c,slot:k,defaultTag:QX,name:"Combobox.Option"})}let tZ=zt(UX),rZ=zt(GX),nZ=zt(WX),aZ=zt(KX),sZ=zt(ZX),oZ=zt(eZ),Fl=Object.assign(tZ,{Input:nZ,Button:rZ,Label:aZ,Options:sZ,Option:oZ});function M3(t,e,r,n){let a=ya(r);w.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Qm(){let t=w.useRef(!1);return bt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function L3(t){let e=Ae(t),r=w.useRef(!1);w.useEffect(()=>(r.current=!1,()=>{r.current=!0,wv(()=>{r.current&&e()})}),[e])}var kd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(kd||{});function iZ(){let t=w.useRef(0);return I3("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function F3(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let lZ="div";var B3=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(B3||{});function cZ(t,e){let r=w.useRef(null),n=cr(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;Cu()||(i=1);let c=Sl(r);fZ({ownerDocument:c},!!(i&16));let u=mZ({ownerDocument:c,container:r,initialFocus:a},!!(i&2));pZ({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=iZ(),f=Ae(y=>{let b=r.current;b&&(h=>h())(()=>{Mt(d.current,{[kd.Forwards]:()=>{Jd(b,ds.First,{skipElements:[y.relatedTarget]})},[kd.Backwards]:()=>{Jd(b,ds.Last,{skipElements:[y.relatedTarget]})}})})}),m=Qo(),p=w.useRef(!1),g={ref:n,onKeyDown(y){y.key=="Tab"&&(p.current=!0,m.requestAnimationFrame(()=>{p.current=!1}))},onBlur(y){let b=F3(s);r.current instanceof HTMLElement&&b.add(r.current);let h=y.relatedTarget;h instanceof HTMLElement&&h.dataset.headlessuiFocusGuard!=="true"&&(q3(b,h)||(p.current?Jd(r.current,Mt(d.current,{[kd.Forwards]:()=>ds.Next,[kd.Backwards]:()=>ds.Previous})|ds.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&Ao(y.target)))}};return H.createElement(H.Fragment,null,!!(i&4)&&H.createElement(_x,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Hf.Focusable}),Qt({ourProps:g,theirProps:l,defaultTag:lZ,name:"FocusTrap"}),!!(i&4)&&H.createElement(_x,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Hf.Focusable}))}let uZ=zt(cZ),ed=Object.assign(uZ,{features:B3});function dZ(t=!0){let e=w.useRef(Ra.slice());return Wf(([r],[n])=>{n===!0&&r===!1&&wv(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Ra.slice())},[t,Ra,e]),Ae(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function fZ({ownerDocument:t},e){let r=dZ(e);Wf(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Ao(r())},[e]),L3(()=>{e&&Ao(r())})}function mZ({ownerDocument:t,container:e,initialFocus:r},n){let a=w.useRef(null),s=Qm();return Wf(()=>{if(!n)return;let i=e.current;i&&wv(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?Ao(r.current):Jd(i,ds.First)===w3.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function pZ({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=Qm();M3(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=F3(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?q3(l,u)?(n.current=u,Ao(u)):(i.preventDefault(),i.stopPropagation(),Ao(c)):Ao(n.current)},!0)}function q3(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let V3=w.createContext(!1);function hZ(){return w.useContext(V3)}function zS(t){return H.createElement(V3.Provider,{value:t.force},t.children)}function gZ(t){let e=hZ(),r=w.useContext(U3),n=Sl(t),[a,s]=w.useState(()=>{if(!e&&r!==null||js.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return w.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),w.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let yZ=w.Fragment;function bZ(t,e){let r=t,n=w.useRef(null),a=cr(IX(d=>{n.current=d}),e),s=Sl(n),i=gZ(n),[l]=w.useState(()=>{var d;return js.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=w.useContext(WS),u=Cu();return bt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),bt(()=>{if(l&&c)return c.register(l)},[c,l]),L3(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:pv.createPortal(Qt({ourProps:{ref:a},theirProps:r,defaultTag:yZ,name:"Portal"}),l):null}let xZ=w.Fragment,U3=w.createContext(null);function vZ(t,e){let{target:r,...n}=t,a={ref:cr(e)};return H.createElement(U3.Provider,{value:r},Qt({ourProps:a,theirProps:n,defaultTag:xZ,name:"Popover.Group"}))}let WS=w.createContext(null);function jZ(){let t=w.useContext(WS),e=w.useRef([]),r=Ae(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Ae(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=w.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,w.useMemo(()=>function({children:s}){return H.createElement(WS.Provider,{value:a},s)},[a])]}let wZ=zt(bZ),NZ=zt(vZ),HS=Object.assign(wZ,{Group:NZ});const CZ=(t=>t.useSyncExternalStore)(Nf);function SZ(t){return CZ(t.subscribe,t.getSnapshot,t.getSnapshot)}function AZ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function IZ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function kZ(){return S3()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=On();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function TZ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function EZ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Di=AZ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:On(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:EZ(r)},a=[kZ(),IZ(),TZ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Di.subscribe(()=>{let t=Di.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Di.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Di.dispatch("TEARDOWN",r)}});function PZ(t,e,r){let n=SZ(Di),a=t?n.get(t):void 0,s=a?a.count>0:!1;return bt(()=>{if(!(!t||!e))return Di.dispatch("PUSH",t,r),()=>Di.dispatch("POP",t,r)},[e,t]),s}let RN=new Map,td=new Map;function JD(t,e=!0){bt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=td.get(n))!=null?i:1;if(l===1?td.delete(n):td.set(n,l-1),l!==1)return;let c=RN.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,RN.delete(n))}let s=(r=td.get(n))!=null?r:0;return td.set(n,s+1),s!==0||(RN.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function DZ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=w.useRef((n=r==null?void 0:r.current)!=null?n:null),s=Sl(a),i=Ae(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:Ae(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:w.useMemo(()=>function(){return r!=null?null:H.createElement(_x,{features:Hf.Hidden,ref:a})},[a,r])}}let Qk=w.createContext(()=>{});Qk.displayName="StackContext";var GS=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(GS||{});function OZ(){return w.useContext(Qk)}function _Z({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=OZ(),i=Ae((...l)=>{e==null||e(...l),s(...l)});return bt(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),H.createElement(Qk.Provider,{value:i},t)}let z3=w.createContext(null);function W3(){let t=w.useContext(z3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,W3),e}return t}function $Z(){let[t,e]=w.useState([]);return[t.length>0?t.join(" "):void 0,w.useMemo(()=>function(r){let n=Ae(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=w.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return H.createElement(z3.Provider,{value:a},r.children)},[e])]}let RZ="p";function MZ(t,e){let r=yn(),{id:n=`headlessui-description-${r}`,...a}=t,s=W3(),i=cr(e);bt(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return Qt({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:RZ,name:s.name||"Description"})}let LZ=zt(MZ),FZ=Object.assign(LZ,{});var BZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(BZ||{}),qZ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(qZ||{});let VZ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},$x=w.createContext(null);$x.displayName="DialogContext";function ep(t){let e=w.useContext($x);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ep),r}return e}function UZ(t,e,r=()=>[document.body]){PZ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function zZ(t,e){return Mt(e.type,VZ,t,e)}let WZ="div",HZ=qo.RenderStrategy|qo.Static;function GZ(t,e){let r=yn(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=w.useState(0),m=w.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Xm();a===void 0&&p!==null&&(a=(p&tr.Open)===tr.Open);let g=w.useRef(null),y=cr(g,e),b=Sl(g),h=t.hasOwnProperty("open")||p!==null,x=t.hasOwnProperty("onClose");if(!h&&!x)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!h)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!x)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let v=a?0:1,[C,j]=w.useReducer(zZ,{titleId:null,descriptionId:null,panelRef:w.createRef()}),N=Ae(()=>s(!1)),S=Ae(X=>j({type:0,id:X})),A=Cu()?c?!1:v===0:!1,k=d>1,T=w.useContext($x)!==null,[E,$]=jZ(),L={get current(){var X;return(X=C.panelRef.current)!=null?X:g.current}},{resolveContainers:M,mainTreeNodeRef:D,MainTreeNode:P}=DZ({portals:E,defaultContainers:[L]}),F=k?"parent":"leaf",O=p!==null?(p&tr.Closing)===tr.Closing:!1,R=T||O?!1:A,B=w.useCallback(()=>{var X,Y;return(Y=Array.from((X=b==null?void 0:b.querySelectorAll("body > *"))!=null?X:[]).find(pe=>pe.id==="headlessui-portal-root"?!1:pe.contains(D.current)&&pe instanceof HTMLElement))!=null?Y:null},[D]);JD(B,R);let U=k?!0:A,G=w.useCallback(()=>{var X,Y;return(Y=Array.from((X=b==null?void 0:b.querySelectorAll("[data-headlessui-portal]"))!=null?X:[]).find(pe=>pe.contains(D.current)&&pe instanceof HTMLElement))!=null?Y:null},[D]);JD(G,U),Gk(M,X=>{X.preventDefault(),N()},!(!A||k));let ae=!(k||v!==0);M3(b==null?void 0:b.defaultView,"keydown",X=>{ae&&(X.defaultPrevented||X.key===ct.Escape&&(X.preventDefault(),X.stopPropagation(),N()))}),UZ(b,!(O||v!==0||T),M),w.useEffect(()=>{if(v!==0||!g.current)return;let X=new ResizeObserver(Y=>{for(let pe of Y){let Ne=pe.target.getBoundingClientRect();Ne.x===0&&Ne.y===0&&Ne.width===0&&Ne.height===0&&N()}});return X.observe(g.current),()=>X.disconnect()},[v,g,N]);let[se,J]=$Z(),ue=w.useMemo(()=>[{dialogState:v,close:N,setTitleId:S},C],[v,C,N,S]),Q=w.useMemo(()=>({open:v===0}),[v]),re={ref:y,id:n,role:l,"aria-modal":v===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":se};return H.createElement(_Z,{type:"Dialog",enabled:v===0,element:g,onUpdate:Ae((X,Y)=>{Y==="Dialog"&&Mt(X,{[GS.Add]:()=>f(pe=>pe+1),[GS.Remove]:()=>f(pe=>pe-1)})})},H.createElement(zS,{force:!0},H.createElement(HS,null,H.createElement($x.Provider,{value:ue},H.createElement(HS.Group,{target:g},H.createElement(zS,{force:!1},H.createElement(J,{slot:Q,name:"Dialog.Description"},H.createElement(ed,{initialFocus:i,containers:M,features:A?Mt(F,{parent:ed.features.RestoreFocus,leaf:ed.features.All&~ed.features.FocusLock}):ed.features.None},H.createElement($,null,Qt({ourProps:re,theirProps:u,slot:Q,defaultTag:WZ,features:HZ,visible:v===0,name:"Dialog"}))))))))),H.createElement(P,null))}let YZ="div";function KZ(t,e){let r=yn(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=ep("Dialog.Overlay"),l=cr(e),c=Ae(d=>{if(d.target===d.currentTarget){if(Jk(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=w.useMemo(()=>({open:s===0}),[s]);return Qt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:YZ,name:"Dialog.Overlay"})}let JZ="div";function XZ(t,e){let r=yn(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=ep("Dialog.Backdrop"),l=cr(e);w.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=w.useMemo(()=>({open:s===0}),[s]);return H.createElement(zS,{force:!0},H.createElement(HS,null,Qt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:JZ,name:"Dialog.Backdrop"})))}let ZZ="div";function QZ(t,e){let r=yn(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=ep("Dialog.Panel"),l=cr(e,i.panelRef),c=w.useMemo(()=>({open:s===0}),[s]),u=Ae(d=>{d.stopPropagation()});return Qt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:ZZ,name:"Dialog.Panel"})}let eQ="h2";function tQ(t,e){let r=yn(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=ep("Dialog.Title"),l=cr(e);w.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=w.useMemo(()=>({open:s===0}),[s]);return Qt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:eQ,name:"Dialog.Title"})}let rQ=zt(GZ),nQ=zt(XZ),aQ=zt(QZ),sQ=zt(KZ),oQ=zt(tQ),MN=Object.assign(rQ,{Backdrop:nQ,Panel:aQ,Overlay:sQ,Title:oQ,Description:FZ}),XD=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ZD(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return XD.test(i)&&(i=i.replace(XD,"")),i}function iQ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():ZD(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return ZD(t).trim()}function lQ(t){let e=w.useRef(""),r=w.useRef("");return Ae(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=iQ(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var cQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(cQ||{}),uQ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(uQ||{}),dQ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(dQ||{});function LN(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=Hk(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let fQ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=LN(t),a=US(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=LN(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=LN(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},eT=w.createContext(null);eT.displayName="MenuContext";function Cv(t){let e=w.useContext(eT);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Cv),r}return e}function mQ(t,e){return Mt(e.type,fQ,t,e)}let pQ=w.Fragment;function hQ(t,e){let{__demoMode:r=!1,...n}=t,a=w.useReducer(mQ,{__demoMode:r,menuState:r?0:1,buttonRef:w.createRef(),itemsRef:w.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=cr(e);Gk([l,i],(p,g)=>{var y;c({type:1}),Wk(g,zk.Loose)||(p.preventDefault(),(y=l.current)==null||y.focus())},s===0);let d=Ae(()=>{c({type:1})}),f=w.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return H.createElement(eT.Provider,{value:a},H.createElement(Kk,{value:Mt(s,{0:tr.Open,1:tr.Closed})},Qt({ourProps:m,theirProps:n,slot:f,defaultTag:pQ,name:"Menu"})))}let gQ="button";function yQ(t,e){var r;let n=yn(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=Cv("Menu.Button"),c=cr(i.buttonRef,e),u=Qo(),d=Ae(y=>{switch(y.key){case ct.Space:case ct.Enter:case ct.ArrowDown:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:mt.First}));break;case ct.ArrowUp:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:mt.Last}));break}}),f=Ae(y=>{switch(y.key){case ct.Space:y.preventDefault();break}}),m=Ae(y=>{if(Jk(y.currentTarget))return y.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var b;return(b=i.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})})):(y.preventDefault(),l({type:0})))}),p=w.useMemo(()=>({open:i.menuState===0}),[i]),g={ref:c,id:a,type:k3(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Qt({ourProps:g,theirProps:s,slot:p,defaultTag:gQ,name:"Menu.Button"})}let bQ="div",xQ=qo.RenderStrategy|qo.Static;function vQ(t,e){var r,n;let a=yn(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=Cv("Menu.Items"),u=cr(l.itemsRef,e),d=Sl(l.itemsRef),f=Qo(),m=Xm(),p=m!==null?(m&tr.Open)===tr.Open:l.menuState===0;w.useEffect(()=>{let x=l.itemsRef.current;x&&l.menuState===0&&x!==(d==null?void 0:d.activeElement)&&x.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),P3({container:l.itemsRef.current,enabled:l.menuState===0,accept(x){return x.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:x.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(x){x.setAttribute("role","none")}});let g=Ae(x=>{var v,C;switch(f.dispose(),x.key){case ct.Space:if(l.searchQuery!=="")return x.preventDefault(),x.stopPropagation(),c({type:3,value:x.key});case ct.Enter:if(x.preventDefault(),x.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:j}=l.items[l.activeItemIndex];(C=(v=j.current)==null?void 0:v.domRef.current)==null||C.click()}C3(l.buttonRef.current);break;case ct.ArrowDown:return x.preventDefault(),x.stopPropagation(),c({type:2,focus:mt.Next});case ct.ArrowUp:return x.preventDefault(),x.stopPropagation(),c({type:2,focus:mt.Previous});case ct.Home:case ct.PageUp:return x.preventDefault(),x.stopPropagation(),c({type:2,focus:mt.First});case ct.End:case ct.PageDown:return x.preventDefault(),x.stopPropagation(),c({type:2,focus:mt.Last});case ct.Escape:x.preventDefault(),x.stopPropagation(),c({type:1}),On().nextFrame(()=>{var j;return(j=l.buttonRef.current)==null?void 0:j.focus({preventScroll:!0})});break;case ct.Tab:x.preventDefault(),x.stopPropagation(),c({type:1}),On().nextFrame(()=>{SX(l.buttonRef.current,x.shiftKey?ds.Previous:ds.Next)});break;default:x.key.length===1&&(c({type:3,value:x.key}),f.setTimeout(()=>c({type:4}),350));break}}),y=Ae(x=>{switch(x.key){case ct.Space:x.preventDefault();break}}),b=w.useMemo(()=>({open:l.menuState===0}),[l]),h={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:g,onKeyUp:y,role:"menu",tabIndex:0,ref:u};return Qt({ourProps:h,theirProps:i,slot:b,defaultTag:bQ,features:xQ,visible:p,name:"Menu.Items"})}let jQ=w.Fragment;function wQ(t,e){let r=yn(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=Cv("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=w.useRef(null),d=cr(e,u);bt(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let j=On();return j.requestAnimationFrame(()=>{var N,S;(S=(N=u.current)==null?void 0:N.scrollIntoView)==null||S.call(N,{block:"nearest"})}),j.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=lQ(u),m=w.useRef({disabled:a,domRef:u,get textValue(){return f()}});bt(()=>{m.current.disabled=a},[m,a]),bt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let p=Ae(()=>{l({type:1})}),g=Ae(j=>{if(a)return j.preventDefault();l({type:1}),C3(i.buttonRef.current)}),y=Ae(()=>{if(a)return l({type:2,focus:mt.Nothing});l({type:2,focus:mt.Specific,id:n})}),b=E3(),h=Ae(j=>b.update(j)),x=Ae(j=>{b.wasMoved(j)&&(a||c||l({type:2,focus:mt.Specific,id:n,trigger:0}))}),v=Ae(j=>{b.wasMoved(j)&&(a||c&&l({type:2,focus:mt.Nothing}))}),C=w.useMemo(()=>({active:c,disabled:a,close:p}),[c,a,p]);return Qt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:g,onFocus:y,onPointerEnter:h,onMouseEnter:h,onPointerMove:x,onMouseMove:x,onPointerLeave:v,onMouseLeave:v},theirProps:s,slot:C,defaultTag:jQ,name:"Menu.Item"})}let NQ=zt(hQ),CQ=zt(yQ),SQ=zt(vQ),AQ=zt(wQ),Bl=Object.assign(NQ,{Button:CQ,Items:SQ,Item:AQ});function IQ(t=0){let[e,r]=w.useState(t),n=Qm(),a=w.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=w.useCallback(c=>!!(e&c),[e]),i=w.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=w.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function kQ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function FN(t,...e){t&&e.length>0&&t.classList.add(...e)}function BN(t,...e){t&&e.length>0&&t.classList.remove(...e)}function TQ(t,e){let r=On();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function EQ(t,e,r,n){let a=r?"enter":"leave",s=On(),i=n!==void 0?kQ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Mt(a,{enter:()=>e.enter,leave:()=>e.leave}),c=Mt(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Mt(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return BN(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),FN(t,...e.base,...l,...u),s.nextFrame(()=>{BN(t,...e.base,...l,...u),FN(t,...e.base,...l,...c),TQ(t,()=>(BN(t,...e.base,...l),FN(t,...e.base,...e.entered),i()))}),s.dispose}function PQ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=Qm(),l=Qo(),c=ya(r);bt(()=>{t&&(c.current="enter")},[t]),bt(()=>{let u=On();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(EQ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Xs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Sv=w.createContext(null);Sv.displayName="TransitionContext";var DQ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(DQ||{});function OQ(){let t=w.useContext(Sv);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function _Q(){let t=w.useContext(Av);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Av=w.createContext(null);Av.displayName="NestingContext";function Iv(t){return"children"in t?Iv(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function H3(t,e){let r=ya(t),n=w.useRef([]),a=Qm(),s=Qo(),i=Ae((p,g=fo.Hidden)=>{let y=n.current.findIndex(({el:b})=>b===p);y!==-1&&(Mt(g,{[fo.Unmount](){n.current.splice(y,1)},[fo.Hidden](){n.current[y].state="hidden"}}),s.microTask(()=>{var b;!Iv(n)&&a.current&&((b=r.current)==null||b.call(r))}))}),l=Ae(p=>{let g=n.current.find(({el:y})=>y===p);return g?g.state!=="visible"&&(g.state="visible"):n.current.push({el:p,state:"visible"}),()=>i(p,fo.Unmount)}),c=w.useRef([]),u=w.useRef(Promise.resolve()),d=w.useRef({enter:[],leave:[],idle:[]}),f=Ae((p,g,y)=>{c.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([b])=>b!==p)),e==null||e.chains.current[g].push([p,new Promise(b=>{c.current.push(b)})]),e==null||e.chains.current[g].push([p,new Promise(b=>{Promise.all(d.current[g].map(([h,x])=>x)).then(()=>b())})]),g==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(g)):y(g)}),m=Ae((p,g,y)=>{Promise.all(d.current[g].splice(0).map(([b,h])=>h)).then(()=>{var b;(b=c.current.shift())==null||b()}).then(()=>y(g))});return w.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function $Q(){}let RQ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function QD(t){var e;let r={};for(let n of RQ)r[n]=(e=t[n])!=null?e:$Q;return r}function MQ(t){let e=w.useRef(QD(t));return w.useEffect(()=>{e.current=QD(t)},[t]),e}let LQ="div",G3=qo.RenderStrategy;function FQ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:p,leaveTo:g,...y}=t,b=w.useRef(null),h=cr(b,e),x=(r=y.unmount)==null||r?fo.Unmount:fo.Hidden,{show:v,appear:C,initial:j}=OQ(),[N,S]=w.useState(v?"visible":"hidden"),A=_Q(),{register:k,unregister:T}=A;w.useEffect(()=>k(b),[k,b]),w.useEffect(()=>{if(x===fo.Hidden&&b.current){if(v&&N!=="visible"){S("visible");return}return Mt(N,{hidden:()=>T(b),visible:()=>k(b)})}},[N,b,k,T,v,x]);let E=ya({base:Xs(y.className),enter:Xs(c),enterFrom:Xs(u),enterTo:Xs(d),entered:Xs(f),leave:Xs(m),leaveFrom:Xs(p),leaveTo:Xs(g)}),$=MQ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),L=Cu();w.useEffect(()=>{if(L&&N==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,N,L]);let M=j&&!C,D=C&&v&&j,P=!L||M?"idle":v?"enter":"leave",F=IQ(0),O=Ae(ae=>Mt(ae,{enter:()=>{F.addFlag(tr.Opening),$.current.beforeEnter()},leave:()=>{F.addFlag(tr.Closing),$.current.beforeLeave()},idle:()=>{}})),R=Ae(ae=>Mt(ae,{enter:()=>{F.removeFlag(tr.Opening),$.current.afterEnter()},leave:()=>{F.removeFlag(tr.Closing),$.current.afterLeave()},idle:()=>{}})),B=H3(()=>{S("hidden"),T(b)},A),U=w.useRef(!1);PQ({immediate:D,container:b,classes:E,direction:P,onStart:ya(ae=>{U.current=!0,B.onStart(b,ae,O)}),onStop:ya(ae=>{U.current=!1,B.onStop(b,ae,R),ae==="leave"&&!Iv(B)&&(S("hidden"),T(b))})});let G=y,W={ref:h};return D?G={...G,className:Ox(y.className,...E.current.enter,...E.current.enterFrom)}:U.current&&(G.className=Ox(y.className,(n=b.current)==null?void 0:n.className),G.className===""&&delete G.className),H.createElement(Av.Provider,{value:B},H.createElement(Kk,{value:Mt(N,{visible:tr.Open,hidden:tr.Closed})|F.flags},Qt({ourProps:W,theirProps:G,defaultTag:LQ,features:G3,visible:N==="visible",name:"Transition.Child"})))}function BQ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=w.useRef(null),l=cr(i,e);Cu();let c=Xm();if(r===void 0&&c!==null&&(r=(c&tr.Open)===tr.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=w.useState(r?"visible":"hidden"),f=H3(()=>{d("hidden")}),[m,p]=w.useState(!0),g=w.useRef([r]);bt(()=>{m!==!1&&g.current[g.current.length-1]!==r&&(g.current.push(r),p(!1))},[g,r]);let y=w.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);w.useEffect(()=>{if(r)d("visible");else if(!Iv(f))d("hidden");else{let v=i.current;if(!v)return;let C=v.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&d("hidden")}},[r,f]);let b={unmount:a},h=Ae(()=>{var v;m&&p(!1),(v=t.beforeEnter)==null||v.call(t)}),x=Ae(()=>{var v;m&&p(!1),(v=t.beforeLeave)==null||v.call(t)});return H.createElement(Av.Provider,{value:f},H.createElement(Sv.Provider,{value:y},Qt({ourProps:{...b,as:w.Fragment,children:H.createElement(Y3,{ref:l,...b,...s,beforeEnter:h,beforeLeave:x})},theirProps:{},defaultTag:w.Fragment,features:G3,visible:u==="visible",name:"Transition"})))}function qQ(t,e){let r=w.useContext(Sv)!==null,n=Xm()!==null;return H.createElement(H.Fragment,null,!r&&n?H.createElement(YS,{ref:e,...t}):H.createElement(Y3,{ref:e,...t}))}let YS=zt(BQ),Y3=zt(FQ),VQ=zt(qQ),Jh=Object.assign(YS,{Child:VQ,Root:YS});function UQ({toggleSidebar:t,isSidebarOpen:e}){var f,m;const r=ce(),{user:n,selectedRole:a}=z(p=>p.auth),[s,i]=w.useState(!1),l=w.useRef(null),c=Km();w.useEffect(()=>{if(!s)return;function p(g){l.current&&!l.current.contains(g.target)&&i(!1)}return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[s]);const u=()=>{r(l3()),c("/login")},d=p=>{const g=p.target.value,y=n.accessList.find(b=>b.ID===g);y&&r(c3(y))};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(x3,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(xJ,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsxs("div",{className:"flex items-center",children:[n&&((f=n==null?void 0:n.accessList)==null?void 0:f.length)>1&&o.jsxs("select",{value:(a==null?void 0:a.ID)||"",onChange:d,className:"text-sm border border-gray-300 rounded-md px-2 py-1 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",hidden:!0,children:"Select Role"}),n.accessList.map(p=>o.jsx("option",{value:p.ID,children:p.Description},p.ID))]}),o.jsx("div",{className:"ml-3 relative",children:o.jsxs(Bl,{as:"div",className:"relative",children:[o.jsxs(Bl.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((m=n==null?void 0:n.UserName)==null?void 0:m.charAt(0))||"U"})]}),o.jsx(Jh,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(Bl.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(Bl.Item,{children:({active:p})=>o.jsxs("button",{onClick:()=>c("/profile"),className:`${p?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(XJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Bl.Item,{children:({active:p})=>o.jsxs("button",{onClick:()=>c("/change-password"),className:`${p?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(qJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Bl.Item,{children:({active:p})=>o.jsxs("button",{onClick:u,className:`${p?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(hJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})]})]})}),s&&o.jsxs("div",{ref:l,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx(zQ,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(WQ,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function zQ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function WQ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function HQ(){const t=Km(),e=Jo(),[r,n]=w.useState(!0);w.useEffect(()=>{const s=()=>{window.innerWidth<1024?n(!1):n(!0)};return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),w.useEffect(()=>{window.innerWidth<1024&&n(!1)},[e.pathname]);const a=()=>{n(!r)};return w.useEffect(()=>{localStorage.getItem("token")||t("/login")},[t]),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[r&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>n(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx(nX,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(UQ,{toggleSidebar:a,isSidebarOpen:r}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(JB,{})})})]})]})}const GQ=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx(JB,{})})});var YQ=function(e){return KQ(e)&&!JQ(e)};function KQ(t){return!!t&&typeof t=="object"}function JQ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||QQ(t)}var XQ=typeof Symbol=="function"&&Symbol.for,ZQ=XQ?Symbol.for("react.element"):60103;function QQ(t){return t.$$typeof===ZQ}function eee(t){return Array.isArray(t)?[]:{}}function Rx(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Gf(eee(t),t,e):t}function tee(t,e,r){return t.concat(e).map(function(n){return Rx(n,r)})}function ree(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=Rx(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=Rx(e[a],r):n[a]=Gf(t[a],e[a],r)}),n}function Gf(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||tee,r.isMergeableObject=r.isMergeableObject||YQ;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):ree(t,e,r):Rx(e,r)}Gf.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return Gf(n,a,r)},{})};var KS=Gf,K3=typeof global=="object"&&global&&global.Object===Object&&global,nee=typeof self=="object"&&self&&self.Object===Object&&self,Xa=K3||nee||Function("return this")(),Vo=Xa.Symbol,J3=Object.prototype,aee=J3.hasOwnProperty,see=J3.toString,rd=Vo?Vo.toStringTag:void 0;function oee(t){var e=aee.call(t,rd),r=t[rd];try{t[rd]=void 0;var n=!0}catch{}var a=see.call(t);return n&&(e?t[rd]=r:delete t[rd]),a}var iee=Object.prototype,lee=iee.toString;function cee(t){return lee.call(t)}var uee="[object Null]",dee="[object Undefined]",eO=Vo?Vo.toStringTag:void 0;function Il(t){return t==null?t===void 0?dee:uee:eO&&eO in Object(t)?oee(t):cee(t)}function X3(t,e){return function(r){return t(e(r))}}var tT=X3(Object.getPrototypeOf,Object);function kl(t){return t!=null&&typeof t=="object"}var fee="[object Object]",mee=Function.prototype,pee=Object.prototype,Z3=mee.toString,hee=pee.hasOwnProperty,gee=Z3.call(Object);function tO(t){if(!kl(t)||Il(t)!=fee)return!1;var e=tT(t);if(e===null)return!0;var r=hee.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Z3.call(r)==gee}function yee(){this.__data__=[],this.size=0}function Q3(t,e){return t===e||t!==t&&e!==e}function kv(t,e){for(var r=t.length;r--;)if(Q3(t[r][0],e))return r;return-1}var bee=Array.prototype,xee=bee.splice;function vee(t){var e=this.__data__,r=kv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():xee.call(e,r,1),--this.size,!0}function jee(t){var e=this.__data__,r=kv(e,t);return r<0?void 0:e[r][1]}function wee(t){return kv(this.__data__,t)>-1}function Nee(t,e){var r=this.__data__,n=kv(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Vs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vs.prototype.clear=yee;Vs.prototype.delete=vee;Vs.prototype.get=jee;Vs.prototype.has=wee;Vs.prototype.set=Nee;function Cee(){this.__data__=new Vs,this.size=0}function See(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Aee(t){return this.__data__.get(t)}function Iee(t){return this.__data__.has(t)}function tp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kee="[object AsyncFunction]",Tee="[object Function]",Eee="[object GeneratorFunction]",Pee="[object Proxy]";function eq(t){if(!tp(t))return!1;var e=Il(t);return e==Tee||e==Eee||e==kee||e==Pee}var qN=Xa["__core-js_shared__"],rO=function(){var t=/[^.]+$/.exec(qN&&qN.keys&&qN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Dee(t){return!!rO&&rO in t}var Oee=Function.prototype,_ee=Oee.toString;function Tl(t){if(t!=null){try{return _ee.call(t)}catch{}try{return t+""}catch{}}return""}var $ee=/[\\^$.*+?()[\]{}|]/g,Ree=/^\[object .+?Constructor\]$/,Mee=Function.prototype,Lee=Object.prototype,Fee=Mee.toString,Bee=Lee.hasOwnProperty,qee=RegExp("^"+Fee.call(Bee).replace($ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vee(t){if(!tp(t)||Dee(t))return!1;var e=eq(t)?qee:Ree;return e.test(Tl(t))}function Uee(t,e){return t==null?void 0:t[e]}function El(t,e){var r=Uee(t,e);return Vee(r)?r:void 0}var Yf=El(Xa,"Map"),Kf=El(Object,"create");function zee(){this.__data__=Kf?Kf(null):{},this.size=0}function Wee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Hee="__lodash_hash_undefined__",Gee=Object.prototype,Yee=Gee.hasOwnProperty;function Kee(t){var e=this.__data__;if(Kf){var r=e[t];return r===Hee?void 0:r}return Yee.call(e,t)?e[t]:void 0}var Jee=Object.prototype,Xee=Jee.hasOwnProperty;function Zee(t){var e=this.__data__;return Kf?e[t]!==void 0:Xee.call(e,t)}var Qee="__lodash_hash_undefined__";function ete(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Kf&&e===void 0?Qee:e,this}function pl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pl.prototype.clear=zee;pl.prototype.delete=Wee;pl.prototype.get=Kee;pl.prototype.has=Zee;pl.prototype.set=ete;function tte(){this.size=0,this.__data__={hash:new pl,map:new(Yf||Vs),string:new pl}}function rte(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Tv(t,e){var r=t.__data__;return rte(e)?r[typeof e=="string"?"string":"hash"]:r.map}function nte(t){var e=Tv(this,t).delete(t);return this.size-=e?1:0,e}function ate(t){return Tv(this,t).get(t)}function ste(t){return Tv(this,t).has(t)}function ote(t,e){var r=Tv(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function ei(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ei.prototype.clear=tte;ei.prototype.delete=nte;ei.prototype.get=ate;ei.prototype.has=ste;ei.prototype.set=ote;var ite=200;function lte(t,e){var r=this.__data__;if(r instanceof Vs){var n=r.__data__;if(!Yf||n.length<ite-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ei(n)}return r.set(t,e),this.size=r.size,this}function Su(t){var e=this.__data__=new Vs(t);this.size=e.size}Su.prototype.clear=Cee;Su.prototype.delete=See;Su.prototype.get=Aee;Su.prototype.has=Iee;Su.prototype.set=lte;function cte(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var nO=function(){try{var t=El(Object,"defineProperty");return t({},"",{}),t}catch{}}();function tq(t,e,r){e=="__proto__"&&nO?nO(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var ute=Object.prototype,dte=ute.hasOwnProperty;function rq(t,e,r){var n=t[e];(!(dte.call(t,e)&&Q3(n,r))||r===void 0&&!(e in t))&&tq(t,e,r)}function Ev(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?tq(r,l,c):rq(r,l,c)}return r}function fte(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var mte="[object Arguments]";function aO(t){return kl(t)&&Il(t)==mte}var nq=Object.prototype,pte=nq.hasOwnProperty,hte=nq.propertyIsEnumerable,gte=aO(function(){return arguments}())?aO:function(t){return kl(t)&&pte.call(t,"callee")&&!hte.call(t,"callee")},rp=Array.isArray;function yte(){return!1}var aq=typeof An=="object"&&An&&!An.nodeType&&An,sO=aq&&typeof In=="object"&&In&&!In.nodeType&&In,bte=sO&&sO.exports===aq,oO=bte?Xa.Buffer:void 0,xte=oO?oO.isBuffer:void 0,sq=xte||yte,vte=9007199254740991,jte=/^(?:0|[1-9]\d*)$/;function wte(t,e){var r=typeof t;return e=e??vte,!!e&&(r=="number"||r!="symbol"&&jte.test(t))&&t>-1&&t%1==0&&t<e}var Nte=9007199254740991;function oq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Nte}var Cte="[object Arguments]",Ste="[object Array]",Ate="[object Boolean]",Ite="[object Date]",kte="[object Error]",Tte="[object Function]",Ete="[object Map]",Pte="[object Number]",Dte="[object Object]",Ote="[object RegExp]",_te="[object Set]",$te="[object String]",Rte="[object WeakMap]",Mte="[object ArrayBuffer]",Lte="[object DataView]",Fte="[object Float32Array]",Bte="[object Float64Array]",qte="[object Int8Array]",Vte="[object Int16Array]",Ute="[object Int32Array]",zte="[object Uint8Array]",Wte="[object Uint8ClampedArray]",Hte="[object Uint16Array]",Gte="[object Uint32Array]",Tt={};Tt[Fte]=Tt[Bte]=Tt[qte]=Tt[Vte]=Tt[Ute]=Tt[zte]=Tt[Wte]=Tt[Hte]=Tt[Gte]=!0;Tt[Cte]=Tt[Ste]=Tt[Mte]=Tt[Ate]=Tt[Lte]=Tt[Ite]=Tt[kte]=Tt[Tte]=Tt[Ete]=Tt[Pte]=Tt[Dte]=Tt[Ote]=Tt[_te]=Tt[$te]=Tt[Rte]=!1;function Yte(t){return kl(t)&&oq(t.length)&&!!Tt[Il(t)]}function rT(t){return function(e){return t(e)}}var iq=typeof An=="object"&&An&&!An.nodeType&&An,Xd=iq&&typeof In=="object"&&In&&!In.nodeType&&In,Kte=Xd&&Xd.exports===iq,VN=Kte&&K3.process,Hc=function(){try{var t=Xd&&Xd.require&&Xd.require("util").types;return t||VN&&VN.binding&&VN.binding("util")}catch{}}(),iO=Hc&&Hc.isTypedArray,Jte=iO?rT(iO):Yte,Xte=Object.prototype,Zte=Xte.hasOwnProperty;function lq(t,e){var r=rp(t),n=!r&&gte(t),a=!r&&!n&&sq(t),s=!r&&!n&&!a&&Jte(t),i=r||n||a||s,l=i?fte(t.length,String):[],c=l.length;for(var u in t)(e||Zte.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wte(u,c)))&&l.push(u);return l}var Qte=Object.prototype;function nT(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Qte;return t===r}var ere=X3(Object.keys,Object),tre=Object.prototype,rre=tre.hasOwnProperty;function nre(t){if(!nT(t))return ere(t);var e=[];for(var r in Object(t))rre.call(t,r)&&r!="constructor"&&e.push(r);return e}function cq(t){return t!=null&&oq(t.length)&&!eq(t)}function aT(t){return cq(t)?lq(t):nre(t)}function are(t,e){return t&&Ev(e,aT(e),t)}function sre(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var ore=Object.prototype,ire=ore.hasOwnProperty;function lre(t){if(!tp(t))return sre(t);var e=nT(t),r=[];for(var n in t)n=="constructor"&&(e||!ire.call(t,n))||r.push(n);return r}function sT(t){return cq(t)?lq(t,!0):lre(t)}function cre(t,e){return t&&Ev(e,sT(e),t)}var uq=typeof An=="object"&&An&&!An.nodeType&&An,lO=uq&&typeof In=="object"&&In&&!In.nodeType&&In,ure=lO&&lO.exports===uq,cO=ure?Xa.Buffer:void 0,uO=cO?cO.allocUnsafe:void 0;function dre(t,e){if(e)return t.slice();var r=t.length,n=uO?uO(r):new t.constructor(r);return t.copy(n),n}function dq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function fre(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function fq(){return[]}var mre=Object.prototype,pre=mre.propertyIsEnumerable,dO=Object.getOwnPropertySymbols,oT=dO?function(t){return t==null?[]:(t=Object(t),fre(dO(t),function(e){return pre.call(t,e)}))}:fq;function hre(t,e){return Ev(t,oT(t),e)}function mq(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var gre=Object.getOwnPropertySymbols,pq=gre?function(t){for(var e=[];t;)mq(e,oT(t)),t=tT(t);return e}:fq;function yre(t,e){return Ev(t,pq(t),e)}function hq(t,e,r){var n=e(t);return rp(t)?n:mq(n,r(t))}function bre(t){return hq(t,aT,oT)}function xre(t){return hq(t,sT,pq)}var JS=El(Xa,"DataView"),XS=El(Xa,"Promise"),ZS=El(Xa,"Set"),QS=El(Xa,"WeakMap"),fO="[object Map]",vre="[object Object]",mO="[object Promise]",pO="[object Set]",hO="[object WeakMap]",gO="[object DataView]",jre=Tl(JS),wre=Tl(Yf),Nre=Tl(XS),Cre=Tl(ZS),Sre=Tl(QS),cs=Il;(JS&&cs(new JS(new ArrayBuffer(1)))!=gO||Yf&&cs(new Yf)!=fO||XS&&cs(XS.resolve())!=mO||ZS&&cs(new ZS)!=pO||QS&&cs(new QS)!=hO)&&(cs=function(t){var e=Il(t),r=e==vre?t.constructor:void 0,n=r?Tl(r):"";if(n)switch(n){case jre:return gO;case wre:return fO;case Nre:return mO;case Cre:return pO;case Sre:return hO}return e});var Are=Object.prototype,Ire=Are.hasOwnProperty;function kre(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Ire.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var yO=Xa.Uint8Array;function iT(t){var e=new t.constructor(t.byteLength);return new yO(e).set(new yO(t)),e}function Tre(t,e){var r=e?iT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Ere=/\w*$/;function Pre(t){var e=new t.constructor(t.source,Ere.exec(t));return e.lastIndex=t.lastIndex,e}var bO=Vo?Vo.prototype:void 0,xO=bO?bO.valueOf:void 0;function Dre(t){return xO?Object(xO.call(t)):{}}function Ore(t,e){var r=e?iT(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var _re="[object Boolean]",$re="[object Date]",Rre="[object Map]",Mre="[object Number]",Lre="[object RegExp]",Fre="[object Set]",Bre="[object String]",qre="[object Symbol]",Vre="[object ArrayBuffer]",Ure="[object DataView]",zre="[object Float32Array]",Wre="[object Float64Array]",Hre="[object Int8Array]",Gre="[object Int16Array]",Yre="[object Int32Array]",Kre="[object Uint8Array]",Jre="[object Uint8ClampedArray]",Xre="[object Uint16Array]",Zre="[object Uint32Array]";function Qre(t,e,r){var n=t.constructor;switch(e){case Vre:return iT(t);case _re:case $re:return new n(+t);case Ure:return Tre(t,r);case zre:case Wre:case Hre:case Gre:case Yre:case Kre:case Jre:case Xre:case Zre:return Ore(t,r);case Rre:return new n;case Mre:case Bre:return new n(t);case Lre:return Pre(t);case Fre:return new n;case qre:return Dre(t)}}var vO=Object.create,ene=function(){function t(){}return function(e){if(!tp(e))return{};if(vO)return vO(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function tne(t){return typeof t.constructor=="function"&&!nT(t)?ene(tT(t)):{}}var rne="[object Map]";function nne(t){return kl(t)&&cs(t)==rne}var jO=Hc&&Hc.isMap,ane=jO?rT(jO):nne,sne="[object Set]";function one(t){return kl(t)&&cs(t)==sne}var wO=Hc&&Hc.isSet,ine=wO?rT(wO):one,lne=1,cne=2,une=4,gq="[object Arguments]",dne="[object Array]",fne="[object Boolean]",mne="[object Date]",pne="[object Error]",yq="[object Function]",hne="[object GeneratorFunction]",gne="[object Map]",yne="[object Number]",bq="[object Object]",bne="[object RegExp]",xne="[object Set]",vne="[object String]",jne="[object Symbol]",wne="[object WeakMap]",Nne="[object ArrayBuffer]",Cne="[object DataView]",Sne="[object Float32Array]",Ane="[object Float64Array]",Ine="[object Int8Array]",kne="[object Int16Array]",Tne="[object Int32Array]",Ene="[object Uint8Array]",Pne="[object Uint8ClampedArray]",Dne="[object Uint16Array]",One="[object Uint32Array]",jt={};jt[gq]=jt[dne]=jt[Nne]=jt[Cne]=jt[fne]=jt[mne]=jt[Sne]=jt[Ane]=jt[Ine]=jt[kne]=jt[Tne]=jt[gne]=jt[yne]=jt[bq]=jt[bne]=jt[xne]=jt[vne]=jt[jne]=jt[Ene]=jt[Pne]=jt[Dne]=jt[One]=!0;jt[pne]=jt[yq]=jt[wne]=!1;function Zd(t,e,r,n,a,s){var i,l=e&lne,c=e&cne,u=e&une;if(i!==void 0)return i;if(!tp(t))return t;var d=rp(t);if(d){if(i=kre(t),!l)return dq(t,i)}else{var f=cs(t),m=f==yq||f==hne;if(sq(t))return dre(t,l);if(f==bq||f==gq||m&&!a){if(i=c||m?{}:tne(t),!l)return c?yre(t,cre(i,t)):hre(t,are(i,t))}else{if(!jt[f])return a?t:{};i=Qre(t,f,l)}}s||(s=new Su);var p=s.get(t);if(p)return p;s.set(t,i),ine(t)?t.forEach(function(b){i.add(Zd(b,e,r,b,t,s))}):ane(t)&&t.forEach(function(b,h){i.set(h,Zd(b,e,r,h,t,s))});var g=u?c?xre:bre:c?sT:aT,y=d?void 0:g(t);return cte(y||t,function(b,h){y&&(h=b,b=t[h]),rq(i,h,Zd(b,e,r,h,t,s))}),i}var _ne=1,$ne=4;function Td(t){return Zd(t,_ne|$ne)}var NO=Array.isArray,CO=Object.keys,Rne=Object.prototype.hasOwnProperty,Mne=typeof Element<"u";function eA(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=NO(t),n=NO(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!eA(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=CO(t);if(s=f.length,s!==CO(e).length)return!1;for(a=s;a--!==0;)if(!Rne.call(e,f[a]))return!1;if(Mne&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!eA(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Lne=function(e,r){try{return eA(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const ro=it(Lne);var Fne=4;function SO(t){return Zd(t,Fne)}function xq(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Bne="[object Symbol]";function lT(t){return typeof t=="symbol"||kl(t)&&Il(t)==Bne}var qne="Expected a function";function cT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qne);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(cT.Cache||ei),r}cT.Cache=ei;var Vne=500;function Une(t){var e=cT(t,function(n){return r.size===Vne&&r.clear(),n}),r=e.cache;return e}var zne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wne=/\\(\\)?/g,Hne=Une(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zne,function(r,n,a,s){e.push(a?s.replace(Wne,"$1"):n||r)}),e});function Gne(t){if(typeof t=="string"||lT(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var AO=Vo?Vo.prototype:void 0,IO=AO?AO.toString:void 0;function vq(t){if(typeof t=="string")return t;if(rp(t))return xq(t,vq)+"";if(lT(t))return IO?IO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Yne(t){return t==null?"":vq(t)}function jq(t){return rp(t)?xq(t,Gne):lT(t)?[t]:dq(Hne(Yne(t)))}var wq={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=typeof Symbol=="function"&&Symbol.for,uT=vr?Symbol.for("react.element"):60103,dT=vr?Symbol.for("react.portal"):60106,Pv=vr?Symbol.for("react.fragment"):60107,Dv=vr?Symbol.for("react.strict_mode"):60108,Ov=vr?Symbol.for("react.profiler"):60114,_v=vr?Symbol.for("react.provider"):60109,$v=vr?Symbol.for("react.context"):60110,fT=vr?Symbol.for("react.async_mode"):60111,Rv=vr?Symbol.for("react.concurrent_mode"):60111,Mv=vr?Symbol.for("react.forward_ref"):60112,Lv=vr?Symbol.for("react.suspense"):60113,Kne=vr?Symbol.for("react.suspense_list"):60120,Fv=vr?Symbol.for("react.memo"):60115,Bv=vr?Symbol.for("react.lazy"):60116,Jne=vr?Symbol.for("react.block"):60121,Xne=vr?Symbol.for("react.fundamental"):60117,Zne=vr?Symbol.for("react.responder"):60118,Qne=vr?Symbol.for("react.scope"):60119;function Ln(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uT:switch(t=t.type,t){case fT:case Rv:case Pv:case Ov:case Dv:case Lv:return t;default:switch(t=t&&t.$$typeof,t){case $v:case Mv:case Bv:case Fv:case _v:return t;default:return e}}case dT:return e}}}function Nq(t){return Ln(t)===Rv}ht.AsyncMode=fT;ht.ConcurrentMode=Rv;ht.ContextConsumer=$v;ht.ContextProvider=_v;ht.Element=uT;ht.ForwardRef=Mv;ht.Fragment=Pv;ht.Lazy=Bv;ht.Memo=Fv;ht.Portal=dT;ht.Profiler=Ov;ht.StrictMode=Dv;ht.Suspense=Lv;ht.isAsyncMode=function(t){return Nq(t)||Ln(t)===fT};ht.isConcurrentMode=Nq;ht.isContextConsumer=function(t){return Ln(t)===$v};ht.isContextProvider=function(t){return Ln(t)===_v};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uT};ht.isForwardRef=function(t){return Ln(t)===Mv};ht.isFragment=function(t){return Ln(t)===Pv};ht.isLazy=function(t){return Ln(t)===Bv};ht.isMemo=function(t){return Ln(t)===Fv};ht.isPortal=function(t){return Ln(t)===dT};ht.isProfiler=function(t){return Ln(t)===Ov};ht.isStrictMode=function(t){return Ln(t)===Dv};ht.isSuspense=function(t){return Ln(t)===Lv};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pv||t===Rv||t===Ov||t===Dv||t===Lv||t===Kne||typeof t=="object"&&t!==null&&(t.$$typeof===Bv||t.$$typeof===Fv||t.$$typeof===_v||t.$$typeof===$v||t.$$typeof===Mv||t.$$typeof===Xne||t.$$typeof===Zne||t.$$typeof===Qne||t.$$typeof===Jne)};ht.typeOf=Ln;wq.exports=ht;var eae=wq.exports,mT=eae,tae={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rae={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nae={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pT={};pT[mT.ForwardRef]=nae;pT[mT.Memo]=Cq;function kO(t){return mT.isMemo(t)?Cq:pT[t.$$typeof]||tae}var aae=Object.defineProperty,sae=Object.getOwnPropertyNames,TO=Object.getOwnPropertySymbols,oae=Object.getOwnPropertyDescriptor,iae=Object.getPrototypeOf,EO=Object.prototype;function Sq(t,e,r){if(typeof e!="string"){if(EO){var n=iae(e);n&&n!==EO&&Sq(t,n,r)}var a=sae(e);TO&&(a=a.concat(TO(e)));for(var s=kO(t),i=kO(e),l=0;l<a.length;++l){var c=a[l];if(!rae[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=oae(e,c);try{aae(t,c,u)}catch{}}}}return t}var lae=Sq;const cae=it(lae);function Wt(){return Wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wt.apply(this,arguments)}function Aq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function qv(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function PO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Vv=w.createContext(void 0);Vv.displayName="FormikContext";var hT=Vv.Provider,uae=Vv.Consumer;function Iq(){var t=w.useContext(Vv);return t}var DO=function(e){return Array.isArray(e)&&e.length===0},$r=function(e){return typeof e=="function"},np=function(e){return e!==null&&typeof e=="object"},dae=function(e){return String(Math.floor(Number(e)))===e},UN=function(e){return Object.prototype.toString.call(e)==="[object String]"},kq=function(e){return w.Children.count(e)===0},zN=function(e){return np(e)&&$r(e.then)};function _t(t,e,r,n){n===void 0&&(n=0);for(var a=jq(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function Ba(t,e,r){for(var n=SO(t),a=n,s=0,i=jq(e);s<i.length-1;s++){var l=i[s],c=_t(t,i.slice(0,s+1));if(c&&(np(c)||Array.isArray(c)))a=a[l]=SO(c);else{var u=i[s+1];a=a[l]=dae(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function Tq(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];np(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},Tq(l,e,r,n[i])):n[i]=e}return n}function fae(t,e){switch(e.type){case"SET_VALUES":return Wt({},t,{values:e.payload});case"SET_TOUCHED":return Wt({},t,{touched:e.payload});case"SET_ERRORS":return ro(t.errors,e.payload)?t:Wt({},t,{errors:e.payload});case"SET_STATUS":return Wt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Wt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Wt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Wt({},t,{values:Ba(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Wt({},t,{touched:Ba(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Wt({},t,{errors:Ba(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Wt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Wt({},t,{touched:Tq(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Wt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Wt({},t,{isSubmitting:!1});default:return t}}var ui={},Gp={};function tt(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=qv(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Wt({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),p=w.useRef(m.initialValues),g=w.useRef(m.initialErrors||ui),y=w.useRef(m.initialTouched||Gp),b=w.useRef(m.initialStatus),h=w.useRef(!1),x=w.useRef({});w.useEffect(function(){return h.current=!0,function(){h.current=!1}},[]);var v=w.useState(0),C=v[1],j=w.useRef({values:Td(m.initialValues),errors:Td(m.initialErrors)||ui,touched:Td(m.initialTouched)||Gp,status:Td(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),N=j.current,S=w.useCallback(function(Z){var xe=j.current;j.current=fae(xe,Z),xe!==j.current&&C(function(ee){return ee+1})},[]),A=w.useCallback(function(Z,xe){return new Promise(function(ee,me){var ge=m.validate(Z,xe);ge==null?ee(ui):zN(ge)?ge.then(function(Ie){ee(Ie||ui)},function(Ie){me(Ie)}):ee(ge)})},[m.validate]),k=w.useCallback(function(Z,xe){var ee=m.validationSchema,me=$r(ee)?ee(xe):ee,ge=xe&&me.validateAt?me.validateAt(xe,Z):pae(Z,me);return new Promise(function(Ie,$e){ge.then(function(){Ie(ui)},function(We){We.name==="ValidationError"?Ie(mae(We)):$e(We)})})},[m.validationSchema]),T=w.useCallback(function(Z,xe){return new Promise(function(ee){return ee(x.current[Z].validate(xe))})},[]),E=w.useCallback(function(Z){var xe=Object.keys(x.current).filter(function(me){return $r(x.current[me].validate)}),ee=xe.length>0?xe.map(function(me){return T(me,_t(Z,me))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ee).then(function(me){return me.reduce(function(ge,Ie,$e){return Ie==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ie&&(ge=Ba(ge,xe[$e],Ie)),ge},{})})},[T]),$=w.useCallback(function(Z){return Promise.all([E(Z),m.validationSchema?k(Z):{},m.validate?A(Z):{}]).then(function(xe){var ee=xe[0],me=xe[1],ge=xe[2],Ie=KS.all([ee,me,ge],{arrayMerge:hae});return Ie})},[m.validate,m.validationSchema,E,A,k]),L=Fn(function(Z){return Z===void 0&&(Z=N.values),S({type:"SET_ISVALIDATING",payload:!0}),$(Z).then(function(xe){return h.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:xe})),xe})});w.useEffect(function(){i&&h.current===!0&&ro(p.current,m.initialValues)&&L(p.current)},[i,L]);var M=w.useCallback(function(Z){var xe=Z&&Z.values?Z.values:p.current,ee=Z&&Z.errors?Z.errors:g.current?g.current:m.initialErrors||{},me=Z&&Z.touched?Z.touched:y.current?y.current:m.initialTouched||{},ge=Z&&Z.status?Z.status:b.current?b.current:m.initialStatus;p.current=xe,g.current=ee,y.current=me,b.current=ge;var Ie=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!Z&&!!Z.isSubmitting,errors:ee,touched:me,status:ge,values:xe,isValidating:!!Z&&!!Z.isValidating,submitCount:Z&&Z.submitCount&&typeof Z.submitCount=="number"?Z.submitCount:0}})};if(m.onReset){var $e=m.onReset(N.values,pe);zN($e)?$e.then(Ie):Ie()}else Ie()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);w.useEffect(function(){h.current===!0&&!ro(p.current,m.initialValues)&&u&&(p.current=m.initialValues,M(),i&&L(p.current))},[u,m.initialValues,M,i,L]),w.useEffect(function(){u&&h.current===!0&&!ro(g.current,m.initialErrors)&&(g.current=m.initialErrors||ui,S({type:"SET_ERRORS",payload:m.initialErrors||ui}))},[u,m.initialErrors]),w.useEffect(function(){u&&h.current===!0&&!ro(y.current,m.initialTouched)&&(y.current=m.initialTouched||Gp,S({type:"SET_TOUCHED",payload:m.initialTouched||Gp}))},[u,m.initialTouched]),w.useEffect(function(){u&&h.current===!0&&!ro(b.current,m.initialStatus)&&(b.current=m.initialStatus,S({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var D=Fn(function(Z){if(x.current[Z]&&$r(x.current[Z].validate)){var xe=_t(N.values,Z),ee=x.current[Z].validate(xe);return zN(ee)?(S({type:"SET_ISVALIDATING",payload:!0}),ee.then(function(me){return me}).then(function(me){S({type:"SET_FIELD_ERROR",payload:{field:Z,value:me}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:Z,value:ee}}),Promise.resolve(ee))}else if(m.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),k(N.values,Z).then(function(me){return me}).then(function(me){S({type:"SET_FIELD_ERROR",payload:{field:Z,value:_t(me,Z)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),P=w.useCallback(function(Z,xe){var ee=xe.validate;x.current[Z]={validate:ee}},[]),F=w.useCallback(function(Z){delete x.current[Z]},[]),O=Fn(function(Z,xe){S({type:"SET_TOUCHED",payload:Z});var ee=xe===void 0?a:xe;return ee?L(N.values):Promise.resolve()}),R=w.useCallback(function(Z){S({type:"SET_ERRORS",payload:Z})},[]),B=Fn(function(Z,xe){var ee=$r(Z)?Z(N.values):Z;S({type:"SET_VALUES",payload:ee});var me=xe===void 0?r:xe;return me?L(ee):Promise.resolve()}),U=w.useCallback(function(Z,xe){S({type:"SET_FIELD_ERROR",payload:{field:Z,value:xe}})},[]),G=Fn(function(Z,xe,ee){S({type:"SET_FIELD_VALUE",payload:{field:Z,value:xe}});var me=ee===void 0?r:ee;return me?L(Ba(N.values,Z,xe)):Promise.resolve()}),W=w.useCallback(function(Z,xe){var ee=xe,me=Z,ge;if(!UN(Z)){Z.persist&&Z.persist();var Ie=Z.target?Z.target:Z.currentTarget,$e=Ie.type,We=Ie.name,Er=Ie.id,Ys=Ie.value,li=Ie.checked;Ie.outerHTML;var Ks=Ie.options,ci=Ie.multiple;ee=xe||We||Er,me=/number|range/.test($e)?(ge=parseFloat(Ys),isNaN(ge)?"":ge):/checkbox/.test($e)?yae(_t(N.values,ee),li,Ys):Ks&&ci?gae(Ks):Ys}ee&&G(ee,me)},[G,N.values]),ae=Fn(function(Z){if(UN(Z))return function(xe){return W(xe,Z)};W(Z)}),be=Fn(function(Z,xe,ee){xe===void 0&&(xe=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:Z,value:xe}});var me=ee===void 0?a:ee;return me?L(N.values):Promise.resolve()}),se=w.useCallback(function(Z,xe){Z.persist&&Z.persist();var ee=Z.target,me=ee.name,ge=ee.id;ee.outerHTML;var Ie=xe||me||ge;be(Ie,!0)},[be]),J=Fn(function(Z){if(UN(Z))return function(xe){return se(xe,Z)};se(Z)}),ue=w.useCallback(function(Z){$r(Z)?S({type:"SET_FORMIK_STATE",payload:Z}):S({type:"SET_FORMIK_STATE",payload:function(){return Z}})},[]),Q=w.useCallback(function(Z){S({type:"SET_STATUS",payload:Z})},[]),re=w.useCallback(function(Z){S({type:"SET_ISSUBMITTING",payload:Z})},[]),X=Fn(function(){return S({type:"SUBMIT_ATTEMPT"}),L().then(function(Z){var xe=Z instanceof Error,ee=!xe&&Object.keys(Z).length===0;if(ee){var me;try{if(me=Ne(),me===void 0)return}catch(ge){throw ge}return Promise.resolve(me).then(function(ge){return h.current&&S({type:"SUBMIT_SUCCESS"}),ge}).catch(function(ge){if(h.current)throw S({type:"SUBMIT_FAILURE"}),ge})}else if(h.current&&(S({type:"SUBMIT_FAILURE"}),xe))throw Z})}),Y=Fn(function(Z){Z&&Z.preventDefault&&$r(Z.preventDefault)&&Z.preventDefault(),Z&&Z.stopPropagation&&$r(Z.stopPropagation)&&Z.stopPropagation(),X().catch(function(xe){console.warn("Warning: An unhandled error was caught from submitForm()",xe)})}),pe={resetForm:M,validateForm:L,validateField:D,setErrors:R,setFieldError:U,setFieldTouched:be,setFieldValue:G,setStatus:Q,setSubmitting:re,setTouched:O,setValues:B,setFormikState:ue,submitForm:X},Ne=Fn(function(){return d(N.values,pe)}),Ee=Fn(function(Z){Z&&Z.preventDefault&&$r(Z.preventDefault)&&Z.preventDefault(),Z&&Z.stopPropagation&&$r(Z.stopPropagation)&&Z.stopPropagation(),M()}),He=w.useCallback(function(Z){return{value:_t(N.values,Z),error:_t(N.errors,Z),touched:!!_t(N.touched,Z),initialValue:_t(p.current,Z),initialTouched:!!_t(y.current,Z),initialError:_t(g.current,Z)}},[N.errors,N.touched,N.values]),ze=w.useCallback(function(Z){return{setValue:function(ee,me){return G(Z,ee,me)},setTouched:function(ee,me){return be(Z,ee,me)},setError:function(ee){return U(Z,ee)}}},[G,be,U]),Vr=w.useCallback(function(Z){var xe=np(Z),ee=xe?Z.name:Z,me=_t(N.values,ee),ge={name:ee,value:me,onChange:ae,onBlur:J};if(xe){var Ie=Z.type,$e=Z.value,We=Z.as,Er=Z.multiple;Ie==="checkbox"?$e===void 0?ge.checked=!!me:(ge.checked=!!(Array.isArray(me)&&~me.indexOf($e)),ge.value=$e):Ie==="radio"?(ge.checked=me===$e,ge.value=$e):We==="select"&&Er&&(ge.value=ge.value||[],ge.multiple=!0)}return ge},[J,ae,N.values]),Ur=w.useMemo(function(){return!ro(p.current,N.values)},[p.current,N.values]),sa=w.useMemo(function(){return typeof l<"u"?Ur?N.errors&&Object.keys(N.errors).length===0:l!==!1&&$r(l)?l(m):l:N.errors&&Object.keys(N.errors).length===0},[l,Ur,N.errors,m]),Qr=Wt({},N,{initialValues:p.current,initialErrors:g.current,initialTouched:y.current,initialStatus:b.current,handleBlur:J,handleChange:ae,handleReset:Ee,handleSubmit:Y,resetForm:M,setErrors:R,setFormikState:ue,setFieldTouched:be,setFieldValue:G,setFieldError:U,setStatus:Q,setSubmitting:re,setTouched:O,setValues:B,submitForm:X,validateForm:L,validateField:D,isValid:sa,dirty:Ur,unregisterField:F,registerField:P,getFieldProps:Vr,getFieldMeta:He,getFieldHelpers:ze,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return Qr}function Le(t){var e=tt(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return w.useImperativeHandle(s,function(){return e}),w.createElement(hT,{value:e},r?w.createElement(r,e):a?a(e):n?$r(n)?n(e):kq(n)?null:w.Children.only(n):null)}function mae(t){var e={};if(t.inner){if(t.inner.length===0)return Ba(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;_t(e,i.path)||(e=Ba(e,i.path,i.message))}}return e}function pae(t,e,r,n){r===void 0&&(r=!1);var a=tA(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function tA(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||tO(a)?tA(a):a!==""?a:void 0}):tO(t[n])?e[n]=tA(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function hae(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?KS(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=KS(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function gae(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function yae(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var bae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function Fn(t){var e=w.useRef(t);return bae(function(){e.current=t}),w.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}var Ue=w.forwardRef(function(t,e){var r=t.action,n=qv(t,["action"]),a=r??"#",s=Iq(),i=s.handleReset,l=s.handleSubmit;return w.createElement("form",Wt({onSubmit:l,ref:e,onReset:i,action:a},n))});Ue.displayName="Form";function Eq(t){var e=function(a){return w.createElement(uae,null,function(s){return w.createElement(t,Wt({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",cae(e,t)}var xae=function(e,r,n){var a=hl(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},vae=function(e,r,n){var a=hl(e),s=a[r];return a[r]=a[n],a[n]=s,a},WN=function(e,r,n){var a=hl(e);return a.splice(r,0,n),a},jae=function(e,r,n){var a=hl(e);return a[r]=n,a},hl=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(Wt({},e,{length:r+1}))}else return[]},OO=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||np(a)){var s=hl(a);return n(s)}return a}},Pq=function(t){Aq(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=OO(l,s),p=OO(i,s),g=Ba(f.values,u,s(_t(f.values,u))),y=l?m(_t(f.errors,u)):void 0,b=i?p(_t(f.touched,u)):void 0;return DO(y)&&(y=void 0),DO(b)&&(b=void 0),Wt({},f,{values:g,errors:l?Ba(f.errors,u,y):f.errors,touched:i?Ba(f.touched,u,b):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(hl(i),[Td(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return vae(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return xae(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return WN(l,s,i)},function(l){return WN(l,s,null)},function(l){return WN(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return jae(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(PO(a)),a.pop=a.pop.bind(PO(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!ro(_t(a.formik.values,a.name),_t(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?hl(i):[];return s||(s=l[a]),$r(l.splice)&&l.splice(a,1),$r(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=qv(d,["validate","validationSchema"]),m=Wt({},a,{form:f,name:u});return i?w.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):kq(c)?null:w.Children.only(c):null},e}(w.Component);Pq.defaultProps={validateOnChange:!0};var Gr=Eq(Pq),wae=function(t){Aq(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(a){return _t(this.props.formik.errors,this.props.name)!==_t(a.formik.errors,this.props.name)||_t(this.props.formik.touched,this.props.name)!==_t(a.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(a).length},r.render=function(){var a=this.props,s=a.component,i=a.formik,l=a.render,c=a.children,u=a.name,d=qv(a,["component","formik","render","children","name"]),f=_t(i.touched,u),m=_t(i.errors,u);return f&&m?l?$r(l)?l(m):null:c?$r(c)?c(m):null:s?w.createElement(s,d,m):m:null},e}(w.Component),HN=Eq(wae);function I({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:p,helperText:g,...y}){const b=m&&p,[h,x]=w.useState(!1),v=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:y.rows||3,className:Re("form-textarea border border-gray-300 px-4 py-2",b&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:C=>{const j=Array.from(C.target.selectedOptions).map(N=>N.value);d({target:{name:e,value:j}})},onBlur:f,className:Re("form-select border border-gray-300 px-4 py-2 h-auto",b&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y,children:c.map(C=>o.jsx("option",{value:C.value,children:C.label},C.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:Re("form-select border border-gray-300 px-4 py-2 pr-10",b&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y,children:[o.jsx("option",{value:"",children:y.defaultOption||"Select"}),c.map(C=>o.jsx("option",{value:C.value,children:C.label},C.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:Re("form-checkbox",b&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(C=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${C.value}`,name:e,type:"radio",value:C.value,disabled:s,checked:u===C.value,onChange:d,onBlur:f,className:Re("form-radio ",b&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y}),o.jsx("label",{htmlFor:`${e}-${C.value}`,className:"ml-2 block text-sm text-neutral-700",children:C.label})]},C.value))});case"password":return o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:e,name:e,type:h?"text":"password",placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:Re("form-input border border-gray-300 h-[42px] px-4 py-2 pr-10 w-full",b&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y}),o.jsx("button",{type:"button",onClick:()=>x(C=>!C),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:h?o.jsx(_J,{className:"h-5 w-5"}):o.jsx(Zo,{className:"h-5 w-5"})})]});case"date":case"number":case"email":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:Re("form-input border border-gray-300 h-[42px] px-4 py-2",b&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),v(),b?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):g?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:g}):null]})}function Nae(){const[t,e]=w.useState(""),[r,n]=w.useState(""),a=ce(),{isLoading:s,error:i}=z(c=>c.auth),l=c=>{if(c.preventDefault(),!t||!r){V.error("Please fill out all fields.");return}a(Gh({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center  sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-4 sm:p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:t,onChange:c=>e(c.target.value)}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:r,onChange:c=>n(c.target.value)}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(DJ,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const Cae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),Sae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),Aae=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ap(t){return t+.5|0}const mo=(t,e,r)=>Math.max(Math.min(t,r),e);function Ed(t){return mo(ap(t*2.55),0,255)}function Io(t){return mo(ap(t*255),0,255)}function us(t){return mo(ap(t/2.55)/100,0,1)}function _O(t){return mo(ap(t*100),0,100)}const Bn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},rA=[..."0123456789ABCDEF"],Iae=t=>rA[t&15],kae=t=>rA[(t&240)>>4]+rA[t&15],Yp=t=>(t&240)>>4===(t&15),Tae=t=>Yp(t.r)&&Yp(t.g)&&Yp(t.b)&&Yp(t.a);function Eae(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Bn[t[1]]*17,g:255&Bn[t[2]]*17,b:255&Bn[t[3]]*17,a:e===5?Bn[t[4]]*17:255}:(e===7||e===9)&&(r={r:Bn[t[1]]<<4|Bn[t[2]],g:Bn[t[3]]<<4|Bn[t[4]],b:Bn[t[5]]<<4|Bn[t[6]],a:e===9?Bn[t[7]]<<4|Bn[t[8]]:255})),r}const Pae=(t,e)=>t<255?e(t):"";function Dae(t){var e=Tae(t)?Iae:kae;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Pae(t.a,e):void 0}const Oae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Dq(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function _ae(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function $ae(t,e,r){const n=Dq(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function Rae(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function gT(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=Rae(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function yT(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Io)}function bT(t,e,r){return yT(Dq,t,e,r)}function Mae(t,e,r){return yT($ae,t,e,r)}function Lae(t,e,r){return yT(_ae,t,e,r)}function Oq(t){return(t%360+360)%360}function Fae(t){const e=Oae.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Ed(+e[5]):Io(+e[5]));const a=Oq(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=Mae(a,s,i):e[1]==="hsv"?n=Lae(a,s,i):n=bT(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function Bae(t,e){var r=gT(t);r[0]=Oq(r[0]+e),r=bT(r),t.r=r[0],t.g=r[1],t.b=r[2]}function qae(t){if(!t)return;const e=gT(t),r=e[0],n=_O(e[1]),a=_O(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${us(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const $O={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},RO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Vae(){const t={},e=Object.keys(RO),r=Object.keys($O);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,$O[s]);s=parseInt(RO[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Kp;function Uae(t){Kp||(Kp=Vae(),Kp.transparent=[0,0,0,0]);const e=Kp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const zae=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Wae(t){const e=zae.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?Ed(i):mo(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?Ed(n):mo(n,0,255)),a=255&(e[4]?Ed(a):mo(a,0,255)),s=255&(e[6]?Ed(s):mo(s,0,255)),{r:n,g:a,b:s,a:r}}}function Hae(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${us(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const GN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ql=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Gae(t,e,r){const n=ql(us(t.r)),a=ql(us(t.g)),s=ql(us(t.b));return{r:Io(GN(n+r*(ql(us(e.r))-n))),g:Io(GN(a+r*(ql(us(e.g))-a))),b:Io(GN(s+r*(ql(us(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Jp(t,e,r){if(t){let n=gT(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=bT(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function _q(t,e){return t&&Object.assign(e||{},t)}function MO(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Io(t[3]))):(e=_q(t,{r:0,g:0,b:0,a:1}),e.a=Io(e.a)),e}function Yae(t){return t.charAt(0)==="r"?Wae(t):Fae(t)}let $q=class nA{constructor(e){if(e instanceof nA)return e;const r=typeof e;let n;r==="object"?n=MO(e):r==="string"&&(n=Eae(e)||Uae(e)||Yae(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=_q(this._rgb);return e&&(e.a=us(e.a)),e}set rgb(e){this._rgb=MO(e)}rgbString(){return this._valid?Hae(this._rgb):void 0}hexString(){return this._valid?Dae(this._rgb):void 0}hslString(){return this._valid?qae(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=Gae(this._rgb,e._rgb,r)),this}clone(){return new nA(this.rgb)}alpha(e){return this._rgb.a=Io(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=ap(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Jp(this._rgb,2,e),this}darken(e){return Jp(this._rgb,2,-e),this}saturate(e){return Jp(this._rgb,1,e),this}desaturate(e){return Jp(this._rgb,1,-e),this}rotate(e){return Bae(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function es(){}const Kae=(()=>{let t=0;return()=>t++})();function Ke(t){return t==null}function Rt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Xe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Kt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function vn(t,e){return Kt(t)?t:e}function Fe(t,e){return typeof t>"u"?e:t}const Jae=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Rq=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Nt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function ft(t,e,r,n){let a,s,i;if(Rt(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(Xe(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function Mx(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function Lx(t){if(Rt(t))return t.map(Lx);if(Xe(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=Lx(t[r[a]]);return e}return t}function Mq(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Xae(t,e,r,n){if(!Mq(t))return;const a=e[t],s=r[t];Xe(a)&&Xe(s)?Jf(a,s,n):e[t]=Lx(s)}function Jf(t,e,r){const n=Rt(e)?e:[e],a=n.length;if(!Xe(t))return t;r=r||{};const s=r.merger||Xae;let i;for(let l=0;l<a;++l){if(i=n[l],!Xe(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function Qd(t,e){return Jf(t,e,{merger:Zae})}function Zae(t,e,r){if(!Mq(t))return;const n=e[t],a=r[t];Xe(n)&&Xe(a)?Qd(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Lx(a))}const LO={"":t=>t,x:t=>t.x,y:t=>t.y};function Qae(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function ese(t){const e=Qae(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Uo(t,e){return(LO[e]||(LO[e]=ese(e)))(t)}function xT(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Xf=t=>typeof t<"u",zo=t=>typeof t=="function",FO=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function tse(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const nt=Math.PI,Ot=2*nt,rse=Ot+nt,Fx=Number.POSITIVE_INFINITY,nse=nt/180,rr=nt/2,di=nt/4,BO=nt*2/3,po=Math.log10,qa=Math.sign;function ef(t,e,r){return Math.abs(t-e)<r}function qO(t){const e=Math.round(t);t=ef(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(po(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function ase(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function sse(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Gc(t){return!sse(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ose(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function Lq(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ma(t){return t*(nt/180)}function vT(t){return t*(180/nt)}function VO(t){if(!Kt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Fq(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*nt&&(s+=Ot),{angle:s,distance:a}}function aA(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ise(t,e){return(t-e+rse)%Ot-nt}function Rr(t){return(t%Ot+Ot)%Ot}function Zf(t,e,r,n){const a=Rr(t),s=Rr(e),i=Rr(r),l=Rr(s-a),c=Rr(i-a),u=Rr(a-s),d=Rr(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function br(t,e,r){return Math.max(e,Math.min(r,t))}function lse(t){return br(t,-32768,32767)}function ps(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function jT(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const hs=(t,e,r,n)=>jT(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),cse=(t,e,r)=>jT(t,r,n=>t[n][e]>=r);function use(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const Bq=["push","pop","shift","splice","unshift"];function dse(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Bq.forEach(r=>{const n="_onData"+xT(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function UO(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(Bq.forEach(s=>{delete t[s]}),delete t._chartjs)}function qq(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Vq=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Uq(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,Vq.call(window,()=>{n=!1,t.apply(e,r)}))}}function fse(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const wT=t=>t==="start"?"left":t==="end"?"right":"center",_r=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,mse=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function zq(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:p,maxDefined:g}=i.getUserBounds();if(p){if(a=Math.min(hs(c,d,f).lo,r?n:hs(e,d,i.getPixelForValue(f)).lo),u){const y=c.slice(0,a+1).reverse().findIndex(b=>!Ke(b[l.axis]));a-=Math.max(0,y)}a=br(a,0,n-1)}if(g){let y=Math.max(hs(c,i.axis,m,!0).hi+1,r?0:hs(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const b=c.slice(y-1).findIndex(h=>!Ke(h[l.axis]));y+=Math.max(0,b)}s=br(y,a,n)-a}else s=n-a}return{start:a,count:s}}function Wq(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const Xp=t=>t===0||t===1,zO=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ot/r)),WO=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ot/r)+1,tf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*rr)+1,easeOutSine:t=>Math.sin(t*rr),easeInOutSine:t=>-.5*(Math.cos(nt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Xp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Xp(t)?t:zO(t,.075,.3),easeOutElastic:t=>Xp(t)?t:WO(t,.075,.3),easeInOutElastic(t){return Xp(t)?t:t<.5?.5*zO(t*2,.1125,.45):.5+.5*WO(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-tf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?tf.easeInBounce(t*2)*.5:tf.easeOutBounce(t*2-1)*.5+.5};function NT(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function HO(t){return NT(t)?t:new $q(t)}function YN(t){return NT(t)?t:new $q(t).saturate(.5).darken(.1).hexString()}const pse=["x","y","borderWidth","radius","tension"],hse=["color","borderColor","backgroundColor"];function gse(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:hse},numbers:{type:"number",properties:pse}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function yse(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const GO=new Map;function bse(t,e){e=e||{};const r=t+JSON.stringify(e);let n=GO.get(r);return n||(n=new Intl.NumberFormat(t,e),GO.set(r,n)),n}function sp(t,e,r){return bse(e,r).format(t)}const Hq={values(t){return Rt(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=xse(t,r)}const i=po(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),sp(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(po(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Hq.numeric.call(this,t,e,r):""}};function xse(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var Uv={formatters:Hq};function vse(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Uv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const gl=Object.create(null),sA=Object.create(null);function rf(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function KN(t,e,r){return typeof e=="string"?Jf(rf(t,e),r):Jf(rf(t,""),e)}class jse{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>YN(a.backgroundColor),this.hoverBorderColor=(n,a)=>YN(a.borderColor),this.hoverColor=(n,a)=>YN(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return KN(this,e,r)}get(e){return rf(this,e)}describe(e,r){return KN(sA,e,r)}override(e,r){return KN(gl,e,r)}route(e,r,n,a){const s=rf(this,e),i=rf(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return Xe(c)?Object.assign({},u,c):Fe(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var Lt=new jse({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gse,yse,vse]);function wse(t){return!t||Ke(t.size)||Ke(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Bx(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function Nse(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!Rt(f))i=Bx(t,a,s,i,f);else if(Rt(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!Rt(m)&&(i=Bx(t,a,s,i,m));t.restore();const p=s.length/2;if(p>r.length){for(c=0;c<p;c++)delete a[s[c]];s.splice(0,p)}return i}function fi(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function YO(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function oA(t,e,r,n){Gq(t,e,r,n,null)}function Gq(t,e,r,n,a){let s,i,l,c,u,d,f,m;const p=e.pointStyle,g=e.rotation,y=e.radius;let b=(g||0)*nse;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:a?t.ellipse(r,n,a/2,y,0,0,Ot):t.arc(r,n,y,0,Ot),t.closePath();break;case"triangle":d=a?a/2:y,t.moveTo(r+Math.sin(b)*d,n-Math.cos(b)*y),b+=BO,t.lineTo(r+Math.sin(b)*d,n-Math.cos(b)*y),b+=BO,t.lineTo(r+Math.sin(b)*d,n-Math.cos(b)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,i=Math.cos(b+di)*c,f=Math.cos(b+di)*(a?a/2-u:c),l=Math.sin(b+di)*c,m=Math.sin(b+di)*(a?a/2-u:c),t.arc(r-f,n-l,u,b-nt,b-rr),t.arc(r+m,n-i,u,b-rr,b),t.arc(r+f,n+l,u,b,b+rr),t.arc(r-m,n+i,u,b+rr,b+nt),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*y,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}b+=di;case"rectRot":f=Math.cos(b)*(a?a/2:y),i=Math.cos(b)*y,l=Math.sin(b)*y,m=Math.sin(b)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":b+=di;case"cross":f=Math.cos(b)*(a?a/2:y),i=Math.cos(b)*y,l=Math.sin(b)*y,m=Math.sin(b)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(b)*(a?a/2:y),i=Math.cos(b)*y,l=Math.sin(b)*y,m=Math.sin(b)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),b+=di,f=Math.cos(b)*(a?a/2:y),i=Math.cos(b)*y,l=Math.sin(b)*y,m=Math.sin(b)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(b)*y,l=Math.sin(b)*y,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(b)*(a?a/2:y),n+Math.sin(b)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function gs(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function zv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Wv(t){t.restore()}function Cse(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Sse(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Ase(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ke(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Ise(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function kse(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function yl(t,e,r,n,a,s={}){const i=Rt(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,Ase(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&kse(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ke(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),Ise(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function Qf(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*nt,nt,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,nt,rr,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,rr,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-rr,!0),t.lineTo(r+i.topLeft,n)}const Tse=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ese=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Pse(t,e){const r=(""+t).match(Tse);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Dse=t=>+t||0;function CT(t,e){const r={},n=Xe(e),a=n?Object.keys(e):e,s=Xe(t)?n?i=>Fe(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=Dse(s(i));return r}function Yq(t){return CT(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zi(t){return CT(t,["topLeft","topRight","bottomLeft","bottomRight"])}function qr(t){const e=Yq(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function mr(t,e){t=t||{},e=e||Lt.font;let r=Fe(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Fe(t.style,e.style);n&&!(""+n).match(Ese)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Fe(t.family,e.family),lineHeight:Pse(Fe(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Fe(t.weight,e.weight),string:""};return a.string=wse(a),a}function Pd(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function Ose(t,e,r){const{min:n,max:a}=t,s=Rq(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function ti(t,e){return Object.assign(Object.create(t),e)}function ST(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=Zq("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>ST([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Jq(l,c,()=>qse(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return JO(l).includes(c)},ownKeys(l){return JO(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function Yc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Kq(t,n),setContext:s=>Yc(t,s,r,n),override:s=>Yc(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return Jq(s,i,()=>$se(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function Kq(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:zo(r)?r:()=>r,isIndexable:zo(n)?n:()=>n}}const _se=(t,e)=>t?t+xT(e):e,AT=(t,e)=>Xe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Jq(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function $se(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return zo(l)&&i.isScriptable(e)&&(l=Rse(e,l,t,r)),Rt(l)&&l.length&&(l=Mse(e,l,t,i.isIndexable)),AT(e,l)&&(l=Yc(l,a,s&&s[e],i)),l}function Rse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),AT(t,c)&&(c=IT(a._scopes,a,t,c)),c}function Mse(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Xe(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=IT(u,a,t,d);e.push(Yc(f,s,i&&i[t],l))}}return e}function Xq(t,e,r){return zo(t)?t(e,r):t}const Lse=(t,e)=>t===!0?e:typeof t=="string"?Uo(e,t):void 0;function Fse(t,e,r,n,a){for(const s of e){const i=Lse(r,s);if(i){t.add(i);const l=Xq(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function IT(t,e,r,n){const a=e._rootScopes,s=Xq(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=KO(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=KO(l,i,s,c,n),c===null)?!1:ST(Array.from(l),[""],a,s,()=>Bse(e,r,n))}function KO(t,e,r,n,a){for(;r;)r=Fse(t,e,r,n,a);return r}function Bse(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Rt(a)&&Xe(r)?r:a||{}}function qse(t,e,r,n){let a;for(const s of e)if(a=Zq(_se(s,t),r),typeof a<"u")return AT(t,a)?IT(r,n,t,a):a}function Zq(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function JO(t){let e=t._keys;return e||(e=t._keys=Vse(t._scopes)),e}function Vse(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function Qq(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse(Uo(d,s),u)};return i}const Use=Number.EPSILON||1e-14,Kc=(t,e)=>e<t.length&&!t[e].skip&&t[e],e6=t=>t==="x"?"y":"x";function zse(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=aA(s,a),c=aA(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function Wse(t,e,r){const n=t.length;let a,s,i,l,c,u=Kc(t,0);for(let d=0;d<n-1;++d)if(c=u,u=Kc(t,d+1),!(!c||!u)){if(ef(e[d],0,Use)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function Hse(t,e,r="x"){const n=e6(r),a=t.length;let s,i,l,c=Kc(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=Kc(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function Gse(t,e="x"){const r=e6(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=Kc(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=Kc(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?qa(a[i-1])!==qa(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}Wse(t,a,s),Hse(t,s,e)}function Zp(t,e,r){return Math.max(Math.min(t,r),e)}function Yse(t,e){let r,n,a,s,i,l=gs(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&gs(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=Zp(a.cp1x,e.left,e.right),a.cp1y=Zp(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Zp(a.cp2x,e.left,e.right),a.cp2y=Zp(a.cp2y,e.top,e.bottom)))}function Kse(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")Gse(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=zse(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&Yse(t,r)}function kT(){return typeof window<"u"&&typeof document<"u"}function TT(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function qx(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const Hv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Jse(t,e){return Hv(t).getPropertyValue(e)}const Xse=["top","right","bottom","left"];function Wi(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=Xse[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Zse=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function Qse(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(Zse(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function ji(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=Hv(r),s=a.boxSizing==="border-box",i=Wi(a,"padding"),l=Wi(a,"border","width"),{x:c,y:u,box:d}=Qse(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:p,height:g}=e;return s&&(p-=i.width+l.width,g-=i.height+l.height),{x:Math.round((c-f)/p*r.width/n),y:Math.round((u-m)/g*r.height/n)}}function eoe(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&TT(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=Hv(s),c=Wi(l,"border","width"),u=Wi(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=qx(l.maxWidth,s,"clientWidth"),a=qx(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||Fx,maxHeight:a||Fx}}const Qp=t=>Math.round(t*10)/10;function toe(t,e,r,n){const a=Hv(t),s=Wi(a,"margin"),i=qx(a.maxWidth,t,"clientWidth")||Fx,l=qx(a.maxHeight,t,"clientHeight")||Fx,c=eoe(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=Wi(a,"border","width"),p=Wi(a,"padding");u-=p.width+m.width,d-=p.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=Qp(Math.min(u,i,c.maxWidth)),d=Qp(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Qp(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=Qp(Math.floor(d*n))),{width:u,height:d}}function XO(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const roe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};kT()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ZO(t,e){const r=Jse(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function wi(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function noe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function aoe(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=wi(t,a,r),l=wi(a,s,r),c=wi(s,e,r),u=wi(i,l,r),d=wi(l,c,r);return wi(u,d,r)}const soe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},ooe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function xc(t,e,r){return t?soe(e,r):ooe()}function t6(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function r6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function n6(t){return t==="angle"?{between:Zf,compare:ise,normalize:Rr}:{between:ps,compare:(e,r)=>e-r,normalize:e=>e}}function QO({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function ioe(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=n6(n),c=e.length;let{start:u,end:d,loop:f}=t,m,p;if(f){for(u+=c,d+=c,m=0,p=c;m<p&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function a6(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=n6(n),{start:d,end:f,loop:m,style:p}=ioe(t,e,r),g=[];let y=!1,b=null,h,x,v;const C=()=>c(a,v,h)&&l(a,v)!==0,j=()=>l(s,h)===0||c(s,v,h),N=()=>y||C(),S=()=>!y||j();for(let A=d,k=d;A<=f;++A)x=e[A%i],!x.skip&&(h=u(x[n]),h!==v&&(y=c(h,a,s),b===null&&N()&&(b=l(h,a)===0?A:k),b!==null&&S()&&(g.push(QO({start:b,end:A,loop:m,count:i,style:p})),b=null),k=A,v=h));return b!==null&&g.push(QO({start:b,end:f,loop:m,count:i,style:p})),g}function s6(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=a6(n[a],t.points,e);s.length&&r.push(...s)}return r}function loe(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function coe(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function uoe(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=loe(r,a,s,n);if(n===!0)return e_(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return e_(t,coe(r,i,c,u),r,e)}function e_(t,e,r,n){return!n||!n.setContext||!r?e:doe(t,e,r,n)}function doe(t,e,r,n){const a=t._chart.getContext(),s=t_(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function p(g,y,b,h){const x=l?-1:1;if(g!==y){for(g+=c;r[g%c].skip;)g-=x;for(;r[y%c].skip;)y+=x;g%c!==y%c&&(u.push({start:g%c,end:y%c,loop:b,style:h}),d=h,f=y%c)}}for(const g of e){f=l?f:g.start;let y=r[f%c],b;for(m=f+1;m<=g.end;m++){const h=r[m%c];b=t_(n.setContext(ti(a,{type:"segment",p0:y,p1:h,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),foe(b,d)&&p(f,m-1,g.loop,d),y=h,d=b}f<m-1&&p(f,m-1,g.loop,d)}return u}function t_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function foe(t,e){if(!e)return!1;const r=[],n=function(a,s){return NT(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function eh(t,e,r){return t.options.clip?t[r]:e[r]}function moe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:eh(r,e,"left"),right:eh(r,e,"right"),top:eh(n,e,"top"),bottom:eh(n,e,"bottom")}:e}function o6(t,e){const r=e._clip;if(r.disabled)return!1;const n=moe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class poe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=Vq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ns=new poe;const r_="transparent",hoe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=HO(t||r_),a=n.valid&&HO(e||r_);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class goe{constructor(e,r,n,a){const s=r[n];a=Pd([e.to,a,s,e.from]);const i=Pd([e.from,s,a]);this._active=!0,this._fn=e.fn||hoe[e.type||typeof i],this._easing=tf[e.easing]||tf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Pd([e.to,r,a,e.from]),this._from=Pd([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class i6{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Xe(e))return;const r=Object.keys(Lt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!Xe(s))return;const i={};for(const l of r)i[l]=s[l];(Rt(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=boe(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&yoe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new goe(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return ns.add(this._chart,n),!0}}function yoe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function boe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function n_(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function xoe(t,e,r){if(r===!1)return!1;const n=n_(t,r),a=n_(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function voe(t){let e,r,n,a;return Xe(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function l6(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function a_(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],Kt(u)&&(s||e===0||qa(e)===qa(u))&&(e+=u)}return!d&&!n.all?0:e}function joe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function JN(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function woe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Noe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Coe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function s_(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function o_(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=woe(s,i,n),f=e.length;let m;for(let p=0;p<f;++p){const g=e[p],{[c]:y,[u]:b}=g,h=g._stacks||(g._stacks={});m=h[u]=Coe(a,d,y),m[l]=b,m._top=s_(m,i,!0,n.type),m._bottom=s_(m,i,!1,n.type);const x=m._visualValues||(m._visualValues={});x[l]=b}}function XN(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Soe(t,e){return ti(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Aoe(t,e,r){return ti(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function nd(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const ZN=t=>t==="reset"||t==="none",i_=(t,e)=>e?t:Object.assign({},t),Ioe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:l6(r,!0),values:null};class ba{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=JN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&nd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,p,g)=>f==="x"?m:f==="r"?g:p,s=r.xAxisID=Fe(n.xAxisID,XN(e,"x")),i=r.yAxisID=Fe(n.yAxisID,XN(e,"y")),l=r.rAxisID=Fe(n.rAxisID,XN(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&UO(this._data,this),e._stacked&&nd(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Xe(r)){const a=this._cachedMeta;this._data=joe(r,a)}else if(n!==r){if(n){UO(n,this);const a=this._cachedMeta;nd(a),a._parsed=[]}r&&Object.isExtensible(r)&&dse(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=JN(r.vScale,r),r.stack!==n.stack&&(a=!0,nd(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(o_(this,r._parsed),r._stacked=JN(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Rt(a[e])?m=this.parseArrayData(n,a,e,r):Xe(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const p=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(p()&&(c=!1),u=f);n._sorted=c}i&&o_(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,p,g;for(m=0,p=a;m<p;++m)g=m+n,f[m]={[l]:d||s.parse(u[g],g),[c]:i.parse(r[g],g)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,p;for(d=0,f=a;d<f;++d)m=d+n,p=r[m],u[d]={x:s.parse(Uo(p,l),m),y:i.parse(Uo(p,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:l6(a,!0),values:r._stacks[e.axis]._visualValues};return a_(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=a_(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=Ioe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Noe(l);let m,p;function g(){p=a[m];const y=p[l.axis];return!Kt(p[e.axis])||d>y||f<y}for(m=0;m<i&&!(!g()&&(this.updateRangeFromParsed(u,e,p,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!g()){this.updateRangeFromParsed(u,e,p,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],Kt(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=voe(Fe(this.options.clip,xoe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=Aoe(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Soe(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&Xf(n);if(l)return i_(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Lt.elements[e]),g=()=>this.getContext(n,a,r),y=u.resolveNamedOptions(m,p,g,f);return y.$shared&&(y.$shared=c,s[i]=Object.freeze(i_(y,c))),y}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new i6(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||ZN(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){ZN(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!ZN(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&nd(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}he(ba,"defaults",{}),he(ba,"datasetElementType",null),he(ba,"dataElementType",null);function koe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=qq(n.sort((a,s)=>a-s))}return t._cache.$bar}function Toe(t){const e=t.iScale,r=koe(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(Xf(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function Eoe(t,e,r,n){const a=r.barThickness;let s,i;return Ke(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function Poe(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function Doe(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function c6(t,e,r,n){return Rt(t)?Doe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function l_(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(c6(m,f,s,u));return c}function QN(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Ooe(t,e,r){return t!==0?qa(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function _oe(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function $oe(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=_oe(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[c_(d,i,l,c)]=!0,a=u)),s[c_(a,i,l,c)]=!0,t.borderSkipped=s}function c_(t,e,r,n){return n?(t=Roe(t,e,r),t=u_(t,r,e)):t=u_(t,e,r),t}function Roe(t,e,r){return t===e?r:t===r?e:t}function u_(t,e,r){return t==="start"?e:t==="end"?r:t}function Moe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Xh extends ba{parsePrimitiveData(e,r,n,a){return l_(e,r,n,a)}parseArrayData(e,r,n,a){return l_(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,p,g,y;for(m=n,p=n+a;m<p;++m)y=r[m],g={},g[s.axis]=s.parse(Uo(y,u),m),f.push(c6(Uo(y,d),g,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=QN(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let p=r;p<r+n;p++){const g=this.getParsed(p),y=s||Ke(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),h=(g._stacks||{})[l.axis],x={horizontal:u,base:y.base,enableBorderRadius:!h||QN(g._custom)||i===h._top||i===h._bottom,x:u?y.head:b.center,y:u?b.center:y.head,height:u?b.size:Math.abs(y.size),width:u?Math.abs(y.size):b.size};m&&(x.options=f||this.resolveDataElementOptions(p,e[p].active?"active":a));const v=x.options||e[p].options;$oe(x,v,h,i),Moe(x,v,d.ratio),this.updateElement(e[p],p,x,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(p=>p[n.axis]===c),m=f&&f[d.vScale.axis];if(Ke(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Fe(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||Toe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=QN(u);let f=c[r.axis],m=0,p=n?this.applyStack(r,c,n):f,g,y;p!==f&&(m=p-f,p=f),d&&(f=u.barStart,p=u.barEnd-u.barStart,f!==0&&qa(f)!==qa(u.barEnd)&&(m=0),m+=f);const b=!Ke(s)&&!d?s:m;let h=r.getPixelForValue(b);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(m+p):g=h,y=g-h,Math.abs(y)<i){y=Ooe(y,r,l)*i,f===l&&(h-=y/2);const x=r.getPixelForDecimal(0),v=r.getPixelForDecimal(1),C=Math.min(x,v),j=Math.max(x,v);h=Math.max(Math.min(h,j),C),g=h+y,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(g)-r.getValueForPixel(h))}if(h===r.getPixelForValue(l)){const x=qa(y)*r.getLineWidthForValue(l)/2;h+=x,y-=x}return{size:y,base:h,head:g,center:g+y/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=Fe(a.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(r.grouped){const d=s?this._getStackCount(e):r.stackCount,f=a.barThickness==="flex"?Poe(e,r,a,d*u):Eoe(e,r,a,d*u),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Fe(m,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+p;l=f.start+f.chunk*g+f.chunk/2,c=Math.min(i,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}he(Xh,"id","bar"),he(Xh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),he(Xh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Zh extends ba{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Fe(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Fe(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const p=e[m],g=!s&&this.getParsed(m),y={},b=y[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(g[d]),h=y[f]=s?l.getBasePixel():l.getPixelForValue(g[f]);y.skip=isNaN(b)||isNaN(h),u&&(y.options=c||this.resolveDataElementOptions(m,p.active?"active":a),s&&(y.options.radius=0)),this.updateElement(p,m,y,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Fe(n&&n._custom,s),a}}he(Zh,"id","bubble"),he(Zh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),he(Zh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Loe(t,e,r){let n=1,a=1,s=0,i=0;if(e<Ot){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),p=(v,C,j)=>Zf(v,l,c,!0)?1:Math.max(C,C*r,j,j*r),g=(v,C,j)=>Zf(v,l,c,!0)?-1:Math.min(C,C*r,j,j*r),y=p(0,u,f),b=p(rr,d,m),h=g(nt,u,f),x=g(nt+rr,d,m);n=(y-h)/2,a=(b-x)/2,s=-(y+h)/2,i=-(b+x)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class Oi extends ba{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(Xe(n[e])){const{key:c="value"}=this._parsing;s=u=>+Uo(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return ma(this.options.rotation-90)}_getCircumference(){return ma(this.options.circumference)}_getRotationExtents(){let e=Ot,r=-Ot;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(Jae(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:g,offsetY:y}=Loe(f,d,c),b=(n.width-i)/m,h=(n.height-i)/p,x=Math.max(Math.min(b,h)/2,0),v=Rq(this.options.radius,x),C=Math.max(v*c,0),j=(v-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*v,this.offsetY=y*v,a.total=this.calculateTotal(),this.outerRadius=v-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/Ot)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,p=m?0:this.innerRadius,g=m?0:this.outerRadius,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(r,a);let h=this._getRotation(),x;for(x=0;x<r;++x)h+=this._circumference(x,s);for(x=r;x<r+n;++x){const v=this._circumference(x,s),C=e[x],j={x:d+this.offsetX,y:f+this.offsetY,startAngle:h,endAngle:h+v,circumference:v,outerRadius:g,innerRadius:p};b&&(j.options=y||this.resolveDataElementOptions(x,C.active?"active":a)),h+=v,this.updateElement(C,x,j,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Ot*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=sp(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Fe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}he(Oi,"id","doughnut"),he(Oi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),he(Oi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),he(Oi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Qh extends ba{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=zq(r,a,i);this._drawStart=l,this._drawCount=c,Wq(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,p=l.axis,{spanGaps:g,segment:y}=this.options,b=Gc(g)?g:Number.POSITIVE_INFINITY,h=this.chart._animationsDisabled||s||a==="none",x=r+n,v=e.length;let C=r>0&&this.getParsed(r-1);for(let j=0;j<v;++j){const N=e[j],S=h?N:{};if(j<r||j>=x){S.skip=!0;continue}const A=this.getParsed(j),k=Ke(A[p]),T=S[m]=i.getPixelForValue(A[m],j),E=S[p]=s||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[p],j);S.skip=isNaN(T)||isNaN(E)||k,S.stop=j>0&&Math.abs(A[m]-C[m])>b,y&&(S.parsed=A,S.raw=u.data[j]),f&&(S.options=d||this.resolveDataElementOptions(j,N.active?"active":a)),h||this.updateElement(N,j,S,a),C=A}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}he(Qh,"id","line"),he(Qh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),he(Qh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class nf extends ba{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=sp(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return Qq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*nt;let p=m,g;const y=360/this.countVisibleElements();for(g=0;g<r;++g)p+=this._computeAngle(g,a,y);for(g=r;g<r+n;g++){const b=e[g];let h=p,x=p+this._computeAngle(g,a,y),v=i.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=x,s&&(c.animateScale&&(v=0),c.animateRotate&&(h=x=m));const C={x:d,y:f,innerRadius:0,outerRadius:v,startAngle:h,endAngle:x,options:this.resolveDataElementOptions(g,b.active?"active":a)};this.updateElement(b,g,C,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?ma(this.resolveDataElementOptions(e,r).angle||n):0}}he(nf,"id","polarArea"),he(nf,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),he(nf,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class iA extends Oi{}he(iA,"id","pie"),he(iA,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class eg extends ba{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return Qq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,p={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,p,a)}}}he(eg,"id","radar"),he(eg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),he(eg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class tg extends ba{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=zq(r,n,a);if(this._drawStart=s,this._drawCount=i,Wq(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),p=i.axis,g=l.axis,{spanGaps:y,segment:b}=this.options,h=Gc(y)?y:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||a==="none";let v=r>0&&this.getParsed(r-1);for(let C=r;C<r+n;++C){const j=e[C],N=this.getParsed(C),S=x?j:{},A=Ke(N[g]),k=S[p]=i.getPixelForValue(N[p],C),T=S[g]=s||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,N,c):N[g],C);S.skip=isNaN(k)||isNaN(T)||A,S.stop=C>0&&Math.abs(N[p]-v[p])>h,b&&(S.parsed=N,S.raw=u.data[C]),m&&(S.options=f||this.resolveDataElementOptions(C,j.active?"active":a)),x||this.updateElement(j,C,S,a),v=N}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}he(tg,"id","scatter"),he(tg,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),he(tg,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Foe=Object.freeze({__proto__:null,BarController:Xh,BubbleController:Zh,DoughnutController:Oi,LineController:Qh,PieController:iA,PolarAreaController:nf,RadarController:eg,ScatterController:tg});function mi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ET{constructor(e){he(this,"options");this.options=e||{}}static override(e){Object.assign(ET.prototype,e)}init(){}formats(){return mi()}parse(){return mi()}format(){return mi()}add(){return mi()}diff(){return mi()}startOf(){return mi()}endOf(){return mi()}}var Boe={_date:ET};function qoe(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?cse:hs;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),p=u(s,e,r+f);return{lo:m.lo,hi:p.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,p=m.slice(0,d.lo+1).reverse().findIndex(y=>!Ke(y[f.axis]));d.lo-=Math.max(0,p);const g=m.slice(d.hi).findIndex(y=>!Ke(y[f.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:s.length-1}}function Gv(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=qoe(s[l],e,i,a);for(let p=f;p<=m;++p){const g=d[p];g.skip||n(g,u,p)}}}function Voe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function e1(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||Gv(t,r,e,function(l,c,u){!a&&!gs(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function Uoe(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=Fq(i,{x:e.x,y:e.y});Zf(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return Gv(t,r,e,s),a}function zoe(t,e,r,n,a,s){let i=[];const l=Voe(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const p=d.inRange(e.x,e.y,a);if(n&&!p)return;const g=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(g))&&!p)return;const b=l(e,g);b<c?(i=[{element:d,datasetIndex:f,index:m}],c=b):b===c&&i.push({element:d,datasetIndex:f,index:m})}return Gv(t,r,e,u),i}function t1(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?Uoe(t,e,r,a):zoe(t,e,r,n,a,s)}function d_(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return Gv(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var Woe={modes:{index(t,e,r,n){const a=ji(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?e1(t,a,s,n,i):t1(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=ji(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?e1(t,a,s,n,i):t1(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=ji(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return e1(t,a,s,n,i)},nearest(t,e,r,n){const a=ji(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return t1(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=ji(e,t);return d_(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=ji(e,t);return d_(t,a,"y",r.intersect,n)}}};const u6=["left","top","right","bottom"];function ad(t,e){return t.filter(r=>r.pos===e)}function f_(t,e){return t.filter(r=>u6.indexOf(r.pos)===-1&&r.box.axis===e)}function sd(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function Hoe(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function Goe(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!u6.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function Yoe(t,e){const r=Goe(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function Koe(t){const e=Hoe(t),r=sd(e.filter(u=>u.box.fullSize),!0),n=sd(ad(e,"left"),!0),a=sd(ad(e,"right")),s=sd(ad(e,"top"),!0),i=sd(ad(e,"bottom")),l=f_(e,"x"),c=f_(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:ad(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function m_(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function d6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Joe(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!Xe(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&d6(i,s.getPadding());const l=Math.max(0,e.outerWidth-m_(i,t,"left","right")),c=Math.max(0,e.outerHeight-m_(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function Xoe(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function Zoe(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function Dd(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,Zoe(l.horizontal,e));const{same:f,other:m}=Joe(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&Dd(a,e,r,n)||d}function th(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function p_(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;Xf(u.start)&&(i=u.start),c.fullSize?th(c,a.left,i,r.outerWidth-a.right-a.left,m):th(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;Xf(u.start)&&(s=u.start),c.fullSize?th(c,s,a.top,m,r.outerHeight-a.bottom-a.top):th(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var Fr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=qr(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=Koe(t.boxes),c=l.vertical,u=l.horizontal;ft(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,b)=>b.box.options&&b.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);d6(m,qr(n));const p=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),g=Yoe(c.concat(u),f);Dd(l.fullSize,p,f,g),Dd(c,p,f,g),Dd(u,p,f,g)&&Dd(c,p,f,g),Xoe(p),p_(l.leftAndTop,p,f,g),p.x+=p.w,p.y+=p.h,p_(l.rightAndBottom,p,f,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ft(l.chartArea,y=>{const b=y.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class f6{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Qoe extends f6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const rg="$chartjs",eie={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},h_=t=>t===null||t==="";function tie(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[rg]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",h_(a)){const s=ZO(t,"width");s!==void 0&&(t.width=s)}if(h_(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=ZO(t,"height");s!==void 0&&(t.height=s)}return t}const m6=roe?{passive:!0}:!1;function rie(t,e,r){t&&t.addEventListener(e,r,m6)}function nie(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,m6)}function aie(t,e){const r=eie[t.type]||t.type,{x:n,y:a}=ji(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Vx(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function sie(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Vx(l.addedNodes,n),i=i&&!Vx(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function oie(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Vx(l.removedNodes,n),i=i&&!Vx(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const em=new Map;let g_=0;function p6(){const t=window.devicePixelRatio;t!==g_&&(g_=t,em.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function iie(t,e){em.size||window.addEventListener("resize",p6),em.set(t,e)}function lie(t){em.delete(t),em.size||window.removeEventListener("resize",p6)}function cie(t,e,r){const n=t.canvas,a=n&&TT(n);if(!a)return;const s=Uq((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),iie(t,s),i}function r1(t,e,r){r&&r.disconnect(),e==="resize"&&lie(t)}function uie(t,e,r){const n=t.canvas,a=Uq(s=>{t.ctx!==null&&r(aie(s,t))},t);return rie(n,e,a),a}class die extends f6{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(tie(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[rg])return!1;const n=r[rg].initial;["height","width"].forEach(s=>{const i=n[s];Ke(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[rg],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:sie,detach:oie,resize:cie}[r]||uie;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:r1,detach:r1,resize:r1}[r]||nie)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return toe(e,r,n,a)}isAttached(e){const r=e&&TT(e);return!!(r&&r.isConnected)}}function fie(t){return!kT()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Qoe:die}var _h;let Us=(_h=class{constructor(){he(this,"x");he(this,"y");he(this,"active",!1);he(this,"options");he(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Gc(this.x)&&Gc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},he(_h,"defaults",{}),he(_h,"defaultRoutes"),_h);function mie(t,e){const r=t.options.ticks,n=pie(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?gie(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return yie(e,u,s,i/a),u;const d=hie(s,e,a);if(i>0){let f,m;const p=i>1?Math.round((c-l)/(i-1)):null;for(rh(e,u,d,Ke(p)?0:l-p,l),f=0,m=i-1;f<m;f++)rh(e,u,d,s[f],s[f+1]);return rh(e,u,d,c,Ke(p)?e.length:c+p),u}return rh(e,u,d),u}function pie(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function hie(t,e,r){const n=bie(t),a=e.length/r;if(!n)return Math.max(a,1);const s=ase(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function gie(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function yie(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function rh(t,e,r,n,a){const s=Fe(n,0),i=Math.min(Fe(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function bie(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const xie=t=>t==="left"?"right":t==="right"?"left":t,y_=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,b_=(t,e)=>Math.min(e||t,t);function x_(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function vie(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function jie(t,e){ft(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function od(t){return t.drawTicks?t.tickLength:0}function v_(t,e){if(!t.display)return 0;const r=mr(t.font,e),n=qr(t.padding);return(Rt(t.text)?t.text.length:1)*r.lineHeight+n.height}function wie(t,e){return ti(t,{scale:e,type:"scale"})}function Nie(t,e,r){return ti(t,{tick:r,index:e,type:"tick"})}function Cie(t,e,r){let n=wT(t);return(r&&e!=="right"||!r&&e==="right")&&(n=xie(n)),n}function Sie(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,p,g;const y=i-a,b=l-s;if(t.isHorizontal()){if(p=_r(n,s,l),Xe(r)){const h=Object.keys(r)[0],x=r[h];g=d[h].getPixelForValue(x)+y-e}else r==="center"?g=(u.bottom+u.top)/2+y-e:g=y_(t,r,e);m=l-s}else{if(Xe(r)){const h=Object.keys(r)[0],x=r[h];p=d[h].getPixelForValue(x)-b+e}else r==="center"?p=(u.left+u.right)/2-b+e:p=y_(t,r,e);g=_r(n,i,a),f=r==="left"?-rr:rr}return{titleX:p,titleY:g,maxWidth:m,rotation:f}}class Pl extends Us{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=vn(e,Number.POSITIVE_INFINITY),r=vn(r,Number.NEGATIVE_INFINITY),n=vn(n,Number.POSITIVE_INFINITY),a=vn(a,Number.NEGATIVE_INFINITY),{min:vn(e,n),max:vn(r,a),minDefined:Kt(e),maxDefined:Kt(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:vn(r,vn(n,r)),max:vn(n,vn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ose(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?x_(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=mie(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nt(this.options.afterUpdate,[this])}beforeSetDimensions(){Nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=Nt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=b_(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,p=br(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:p/(n-1),f+6>l&&(l=p/(n-(e.offset?.5:1)),c=this.maxHeight-od(e.grid)-r.padding-v_(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=vT(Math.min(Math.asin(br((d.highest.height+6)/l,-1,1)),Math.asin(br(c/u,-1,1))-Math.asin(br(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){Nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=v_(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=od(s)+c):(e.height=this.maxHeight,e.width=od(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),p=n.padding*2,g=ma(this.labelRotation),y=Math.cos(g),b=Math.sin(g);if(l){const h=n.mirror?0:b*f.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+h+p)}else{const h=n.mirror?0:y*f.width+b*m.height;e.width=Math.min(this.maxWidth,e.width+h+p)}this._calculatePadding(u,d,b,y)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,p=0;c?u?(m=a*e.width,p=n*r.height):(m=n*e.height,p=a*r.width):s==="start"?p=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,p=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Ke(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=x_(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/b_(r,n));let u=0,d=0,f,m,p,g,y,b,h,x,v,C,j;for(f=0;f<r;f+=c){if(g=e[f].label,y=this._resolveTickFontOptions(f),a.font=b=y.string,h=s[b]=s[b]||{data:{},gc:[]},x=y.lineHeight,v=C=0,!Ke(g)&&!Rt(g))v=Bx(a,h.data,h.gc,v,g),C=x;else if(Rt(g))for(m=0,p=g.length;m<p;++m)j=g[m],!Ke(j)&&!Rt(j)&&(v=Bx(a,h.data,h.gc,v,j),C+=x);i.push(v),l.push(C),u=Math.max(v,u),d=Math.max(C,d)}jie(s,r);const N=i.indexOf(u),S=l.indexOf(d),A=k=>({width:i[k]||0,height:l[k]||0});return{first:A(0),last:A(r-1),widest:A(N),highest:A(S),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return lse(this._alignToPixels?fi(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=Nie(this.getContext(),e,n))}return this.$context||(this.$context=wie(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ma(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=od(s),p=[],g=l.setContext(this.getContext()),y=g.display?g.width:0,b=y/2,h=function(P){return fi(n,P,y)};let x,v,C,j,N,S,A,k,T,E,$,L;if(i==="top")x=h(this.bottom),S=this.bottom-m,k=x-b,E=h(e.top)+b,L=e.bottom;else if(i==="bottom")x=h(this.top),E=e.top,L=h(e.bottom)-b,S=x+b,k=this.top+m;else if(i==="left")x=h(this.right),N=this.right-m,A=x-b,T=h(e.left)+b,$=e.right;else if(i==="right")x=h(this.left),T=e.left,$=h(e.right)-b,N=x+b,A=this.left+m;else if(r==="x"){if(i==="center")x=h((e.top+e.bottom)/2+.5);else if(Xe(i)){const P=Object.keys(i)[0],F=i[P];x=h(this.chart.scales[P].getPixelForValue(F))}E=e.top,L=e.bottom,S=x+b,k=S+m}else if(r==="y"){if(i==="center")x=h((e.left+e.right)/2);else if(Xe(i)){const P=Object.keys(i)[0],F=i[P];x=h(this.chart.scales[P].getPixelForValue(F))}N=x-b,A=N-m,T=e.left,$=e.right}const M=Fe(a.ticks.maxTicksLimit,f),D=Math.max(1,Math.ceil(f/M));for(v=0;v<f;v+=D){const P=this.getContext(v),F=s.setContext(P),O=l.setContext(P),R=F.lineWidth,B=F.color,U=O.dash||[],G=O.dashOffset,W=F.tickWidth,ae=F.tickColor,be=F.tickBorderDash||[],se=F.tickBorderDashOffset;C=vie(this,v,c),C!==void 0&&(j=fi(n,C,R),u?N=A=T=$=j:S=k=E=L=j,p.push({tx1:N,ty1:S,tx2:A,ty2:k,x1:T,y1:E,x2:$,y2:L,width:R,color:B,borderDash:U,borderDashOffset:G,tickWidth:W,tickColor:ae,tickBorderDash:be,tickBorderDashOffset:se}))}return this._ticksLength=f,this._borderValue=x,p}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=od(n.grid),p=m+d,g=f?-d:p,y=-ma(this.labelRotation),b=[];let h,x,v,C,j,N,S,A,k,T,E,$,L="middle";if(a==="top")N=this.bottom-g,S=this._getXAxisLabelAlignment();else if(a==="bottom")N=this.top+g,S=this._getXAxisLabelAlignment();else if(a==="left"){const D=this._getYAxisLabelAlignment(m);S=D.textAlign,j=D.x}else if(a==="right"){const D=this._getYAxisLabelAlignment(m);S=D.textAlign,j=D.x}else if(r==="x"){if(a==="center")N=(e.top+e.bottom)/2+p;else if(Xe(a)){const D=Object.keys(a)[0],P=a[D];N=this.chart.scales[D].getPixelForValue(P)+p}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")j=(e.left+e.right)/2-p;else if(Xe(a)){const D=Object.keys(a)[0],P=a[D];j=this.chart.scales[D].getPixelForValue(P)}S=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?L="top":c==="end"&&(L="bottom"));const M=this._getLabelSizes();for(h=0,x=l.length;h<x;++h){v=l[h],C=v.label;const D=s.setContext(this.getContext(h));A=this.getPixelForTick(h)+s.labelOffset,k=this._resolveTickFontOptions(h),T=k.lineHeight,E=Rt(C)?C.length:1;const P=E/2,F=D.color,O=D.textStrokeColor,R=D.textStrokeWidth;let B=S;i?(j=A,S==="inner"&&(h===x-1?B=this.options.reverse?"left":"right":h===0?B=this.options.reverse?"right":"left":B="center"),a==="top"?u==="near"||y!==0?$=-E*T+T/2:u==="center"?$=-M.highest.height/2-P*T+T:$=-M.highest.height+T/2:u==="near"||y!==0?$=T/2:u==="center"?$=M.highest.height/2-P*T:$=M.highest.height-E*T,f&&($*=-1),y!==0&&!D.showLabelBackdrop&&(j+=T/2*Math.sin(y))):(N=A,$=(1-E)*T/2);let U;if(D.showLabelBackdrop){const G=qr(D.backdropPadding),W=M.heights[h],ae=M.widths[h];let be=$-G.top,se=0-G.left;switch(L){case"middle":be-=W/2;break;case"bottom":be-=W;break}switch(S){case"center":se-=ae/2;break;case"right":se-=ae;break;case"inner":h===x-1?se-=ae:h>0&&(se-=ae/2);break}U={left:se,top:be,width:ae+G.width,height:W+G.height,color:D.backdropColor}}b.push({label:C,font:k,textOffset:$,options:{rotation:y,color:F,strokeColor:O,strokeWidth:R,textAlign:B,textBaseline:L,translation:[j,N],backdrop:U}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ma(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=fi(e,this.left,i)-i/2,d=fi(e,this.right,l)+l/2,f=m=c):(f=fi(e,this.top,i)-i/2,m=fi(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&zv(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;yl(n,u,0,d,c,l)}a&&Wv(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=mr(n.font),i=qr(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||Xe(r)?(c+=i.bottom,Rt(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=Sie(this,c,r,l);yl(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:Cie(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Fe(e.grid&&e.grid.z,-1),a=Fe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Pl.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return mr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class nh{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;kie(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,Aie(e,i,n),this.override&&Lt.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in Lt[a]&&(delete Lt[a][n],this.override&&delete gl[n])}}function Aie(t,e,r){const n=Jf(Object.create(null),[r?Lt.get(r):{},Lt.get(e),t.defaults]);Lt.set(e,n),t.defaultRoutes&&Iie(e,t.defaultRoutes),t.descriptors&&Lt.describe(e,t.descriptors)}function Iie(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");Lt.route(s,a,c,l)})}function kie(t){return"id"in t&&"defaults"in t}class Tie{constructor(){this.controllers=new nh(ba,"datasets",!0),this.elements=new nh(Us,"elements"),this.plugins=new nh(Object,"plugins"),this.scales=new nh(Pl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):ft(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=xT(e);Nt(n["before"+a],[],n),r[e](n),Nt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Pa=new Tie;class Eie{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(Nt(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){Ke(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Fe(n.options&&n.options.plugins,{}),s=Pie(n);return a===!1&&!r?[]:Oie(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function Pie(t){const e={},r=[],n=Object.keys(Pa.plugins.items);for(let s=0;s<n.length;s++)r.push(Pa.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function Die(t,e){return!e&&t===!1?null:t===!0?{}:t}function Oie(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=Die(n[c],a);u!==null&&s.push({plugin:l,options:_ie(t.config,{plugin:l,local:r[c]},u,i)})}return s}function _ie(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lA(t,e){const r=Lt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function $ie(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Rie(t,e){return t===e?"_index_":"_value_"}function j_(t){if(t==="x"||t==="y"||t==="r")return t}function Mie(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function cA(t,...e){if(j_(t))return t;for(const r of e){const n=r.axis||Mie(r.position)||t.length>1&&j_(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function w_(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Lie(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return w_(t,"x",r[0])||w_(t,"y",r[0])}return{}}function Fie(t,e){const r=gl[t.type]||{scales:{}},n=e.scales||{},a=lA(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!Xe(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=cA(i,l,Lie(i,t),Lt.scales[l.type]),u=Rie(c,a),d=r.scales||{};s[i]=Qd(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||lA(l,e),d=(gl[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=$ie(f,c),p=i[m+"AxisID"]||m;s[p]=s[p]||Object.create(null),Qd(s[p],[{axis:m},n[p],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];Qd(l,[Lt.scales[l.type],Lt.scale])}),s}function h6(t){const e=t.options||(t.options={});e.plugins=Fe(e.plugins,{}),e.scales=Fie(t,e)}function g6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Bie(t){return t=t||{},t.data=g6(t.data),h6(t),t}const N_=new Map,y6=new Set;function ah(t,e){let r=N_.get(t);return r||(r=e(),N_.set(t,r),y6.add(r)),r}const id=(t,e,r)=>{const n=Uo(e,r);n!==void 0&&t.add(n)};class qie{constructor(e){this._config=Bie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=g6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),h6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ah(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return ah(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return ah(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return ah(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>id(c,e,f))),d.forEach(f=>id(c,a,f)),d.forEach(f=>id(c,gl[s]||{},f)),d.forEach(f=>id(c,Lt,f)),d.forEach(f=>id(c,sA,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),y6.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,gl[r]||{},Lt.datasets[r]||{},{type:r},Lt,sA]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=C_(this._resolverCache,e,a);let c=i;if(Uie(i,r)){s.$shared=!1,n=zo(n)?n():n;const u=this.createResolver(e,n,l);c=Yc(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=C_(this._resolverCache,e,n);return Xe(r)?Yc(s,r,void 0,a):s}}function C_(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:ST(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const Vie=t=>Xe(t)&&Object.getOwnPropertyNames(t).some(e=>zo(t[e]));function Uie(t,e){const{isScriptable:r,isIndexable:n}=Kq(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&(zo(l)||Vie(l))||i&&Rt(l))return!0}return!1}var zie="4.5.0";const Wie=["top","bottom","left","right","chartArea"];function S_(t,e){return t==="top"||t==="bottom"||Wie.indexOf(t)===-1&&e==="x"}function A_(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function I_(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Nt(r&&r.onComplete,[t],e)}function Hie(t){const e=t.chart,r=e.options.animation;Nt(r&&r.onProgress,[t],e)}function b6(t){return kT()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ng={},k_=t=>{const e=b6(t);return Object.values(ng).filter(r=>r.canvas===e).pop()};function Gie(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function Yie(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class no{static register(...e){Pa.add(...e),T_()}static unregister(...e){Pa.remove(...e),T_()}constructor(e,r){const n=this.config=new qie(r),a=b6(e),s=k_(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||fie(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=Kae(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Eie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fse(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],ng[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ns.listen(this,"complete",I_),ns.listen(this,"progress",Hie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return Ke(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Pa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():XO(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return YO(this.canvas,this.ctx),this}stop(){return ns.stop(this),this}resize(e,r){ns.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,XO(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),Nt(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ft(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=cA(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ft(s,i=>{const l=i.options,c=l.id,u=cA(c,l),d=Fe(l.type,i.dtype);(l.position===void 0||S_(l.position,u)!==S_(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=Pa.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),ft(a,(i,l)=>{i||delete n[l]}),ft(n,i=>{Fr.configure(this,i,i.options),Fr.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(A_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||lA(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=Pa.getController(l),{datasetElementType:u,dataElementType:d}=Lt.datasets[l];Object.assign(c,{dataElementType:Pa.getElement(d),datasetElementType:u&&Pa.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){ft(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||ft(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(A_("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ft(this.scales,e=>{Fr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!FO(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;Gie(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!FO(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fr.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ft(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,zo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ns.has(this)?this.attached&&!ns.running(this)&&ns.start(this):(this.draw(),I_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=o6(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&zv(r,a),e.controller.draw(),a&&Wv(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return gs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=Woe.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=ti(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);Xf(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),ns.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),YO(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete ng[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};ft(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){ft(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},ft(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!Mx(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=tse(e),u=Yie(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Nt(s.onHover,[e,l,this],this),c&&Nt(s.onClick,[e,l,this],this));const d=!Mx(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}he(no,"defaults",Lt),he(no,"instances",ng),he(no,"overrides",gl),he(no,"registry",Pa),he(no,"version",zie),he(no,"getChart",k_);function T_(){return ft(no.instances,t=>t._plugins.invalidate())}function Kie(t,e,r){const{startAngle:n,x:a,y:s,outerRadius:i,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/i,Rr(n-r));if(t.beginPath(),t.arc(a,s,i-u/2,n+f/2,r-f/2),l>0){const m=Math.min(u/l,Rr(n-r));t.arc(a,s,l+u/2,r-m/2,n+m/2,!0)}else{const m=Math.min(u/2,i*Rr(n-r));if(d==="round")t.arc(a,s,m,r-nt/2,n+nt/2,!0);else if(d==="bevel"){const p=2*m*m,g=-p*Math.cos(r+nt/2)+a,y=-p*Math.sin(r+nt/2)+s,b=p*Math.cos(n+nt/2)+a,h=p*Math.sin(n+nt/2)+s;t.lineTo(g,y),t.lineTo(b,h)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Jie(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+rr,n-rr),t.closePath(),t.clip()}function Xie(t){return CT(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Zie(t,e,r,n){const a=Xie(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return br(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:br(a.innerStart,0,i),innerEnd:br(a.innerEnd,0,i)}}function Vl(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Ux(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let p=0;const g=a-c;if(n){const D=d>0?d-n:0,P=f>0?f-n:0,F=(D+P)/2,O=F!==0?g*F/(F+n):g;p=(g-O)/2}const y=Math.max(.001,g*f-r/nt)/f,b=(g-y)/2,h=c+b+p,x=a-b-p,{outerStart:v,outerEnd:C,innerStart:j,innerEnd:N}=Zie(e,m,f,x-h),S=f-v,A=f-C,k=h+v/S,T=x-C/A,E=m+j,$=m+N,L=h+j/E,M=x-N/$;if(t.beginPath(),s){const D=(k+T)/2;if(t.arc(i,l,f,k,D),t.arc(i,l,f,D,T),C>0){const R=Vl(A,T,i,l);t.arc(R.x,R.y,C,T,x+rr)}const P=Vl($,x,i,l);if(t.lineTo(P.x,P.y),N>0){const R=Vl($,M,i,l);t.arc(R.x,R.y,N,x+rr,M+Math.PI)}const F=(x-N/m+(h+j/m))/2;if(t.arc(i,l,m,x-N/m,F,!0),t.arc(i,l,m,F,h+j/m,!0),j>0){const R=Vl(E,L,i,l);t.arc(R.x,R.y,j,L+Math.PI,h-rr)}const O=Vl(S,h,i,l);if(t.lineTo(O.x,O.y),v>0){const R=Vl(S,k,i,l);t.arc(R.x,R.y,v,h-rr,k)}}else{t.moveTo(i,l);const D=Math.cos(k)*f+i,P=Math.sin(k)*f+l;t.lineTo(D,P);const F=Math.cos(T)*f+i,O=Math.sin(T)*f+l;t.lineTo(F,O)}t.closePath()}function Qie(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){Ux(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%Ot||Ot))}return Ux(t,e,r,n,c,a),t.fill(),c}function ele(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m,borderRadius:p}=c,g=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,g?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let y=e.endAngle;if(s){Ux(t,e,r,n,y,a);for(let b=0;b<s;++b)t.stroke();isNaN(l)||(y=i+(l%Ot||Ot))}g&&Jie(t,e,y),c.selfJoin&&y-i>=nt&&p===0&&d!=="miter"&&Kie(t,e,y),s||(Ux(t,e,r,n,y,a),t.stroke())}class Od extends Us{constructor(r){super();he(this,"circumference");he(this,"endAngle");he(this,"fullCircles");he(this,"innerRadius");he(this,"outerRadius");he(this,"pixelMargin");he(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=Fq(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),p=(this.options.spacing+this.options.borderWidth)/2,g=Fe(m,u-c),y=Zf(i,c,u)&&c!==u,b=g>=Ot||y,h=ps(l,d+p,f+p);return b&&h}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Ot?Math.floor(a/Ot):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(nt,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,Qie(r,this,d,i,l),ele(r,this,d,i,l),r.restore()}}he(Od,"id","arc"),he(Od,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),he(Od,"defaultRoutes",{backgroundColor:"backgroundColor"}),he(Od,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function x6(t,e,r=e){t.lineCap=Fe(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Fe(r.borderDash,e.borderDash)),t.lineDashOffset=Fe(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Fe(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Fe(r.borderWidth,e.borderWidth),t.strokeStyle=Fe(r.borderColor,e.borderColor)}function tle(t,e,r){t.lineTo(r.x,r.y)}function rle(t){return t.stepped?Cse:t.tension||t.cubicInterpolationMode==="monotone"?Sse:tle}function v6(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function nle(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=v6(a,r,n),d=rle(s);let{move:f=!0,reverse:m}=n||{},p,g,y;for(p=0;p<=u;++p)g=a[(l+(m?u-p:p))%i],!g.skip&&(f?(t.moveTo(g.x,g.y),f=!1):d(t,y,g,m,s.stepped),y=g);return c&&(g=a[(l+(m?u:0))%i],d(t,y,g,m,s.stepped)),!!c}function ale(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=v6(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,p,g,y,b,h;const x=C=>(i+(u?l-C:C))%s,v=()=>{y!==b&&(t.lineTo(d,b),t.lineTo(d,y),t.lineTo(d,h))};for(c&&(p=a[x(0)],t.moveTo(p.x,p.y)),m=0;m<=l;++m){if(p=a[x(m)],p.skip)continue;const C=p.x,j=p.y,N=C|0;N===g?(j<y?y=j:j>b&&(b=j),d=(f*d+C)/++f):(v(),t.lineTo(C,j),g=N,f=0,y=b=j),h=j}v()}function uA(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?ale:nle}function sle(t){return t.stepped?noe:t.tension||t.cubicInterpolationMode==="monotone"?aoe:wi}function ole(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),x6(t,e.options),t.stroke(a)}function ile(t,e,r,n){const{segments:a,options:s}=e,i=uA(e);for(const l of a)x6(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const lle=typeof Path2D=="function";function cle(t,e,r,n){lle&&!e.options.segment?ole(t,e,r,n):ile(t,e,r,n)}class ho extends Us{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Kse(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=uoe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=s6(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=sle(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],p=s[f],g=s[m];if(p===g){l.push(p);continue}const y=Math.abs((a-p[r])/(g[r]-p[r])),b=c(p,g,y,n.stepped);b[r]=e[r],l.push(b)}return l.length===1?l[0]:l}pathSegment(e,r,n){return uA(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=uA(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),cle(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}he(ho,"id","line"),he(ho,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),he(ho,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),he(ho,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function E_(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class ag extends Us{constructor(r){super();he(this,"parsed");he(this,"skip");he(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return E_(this,r,"x",n)}inYRange(r,n){return E_(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!gs(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,oA(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}he(ag,"id","point"),he(ag,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),he(ag,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function j6(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function go(t,e,r,n){return t?0:br(e,r,n)}function ule(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=Yq(n);return{t:go(a.top,s.top,0,r),r:go(a.right,s.right,0,e),b:go(a.bottom,s.bottom,0,r),l:go(a.left,s.left,0,e)}}function dle(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=zi(a),i=Math.min(e,r),l=t.borderSkipped,c=n||Xe(a);return{topLeft:go(!c||l.top||l.left,s.topLeft,0,i),topRight:go(!c||l.top||l.right,s.topRight,0,i),bottomLeft:go(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:go(!c||l.bottom||l.right,s.bottomRight,0,i)}}function fle(t){const e=j6(t),r=e.right-e.left,n=e.bottom-e.top,a=ule(t,r/2,n/2),s=dle(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function n1(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&j6(t,n);return l&&(a||ps(e,l.left,l.right))&&(s||ps(r,l.top,l.bottom))}function mle(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function ple(t,e){t.rect(e.x,e.y,e.w,e.h)}function a1(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class sg extends Us{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=fle(this),l=mle(i.radius)?Qf:ple;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,a1(i,r,s)),e.clip(),l(e,a1(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,a1(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return n1(this,e,r,n)}inXRange(e,r){return n1(this,e,null,r)}inYRange(e,r){return n1(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}he(sg,"id","bar"),he(sg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),he(sg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var hle=Object.freeze({__proto__:null,ArcElement:Od,BarElement:sg,LineElement:ho,PointElement:ag});const dA=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],P_=dA.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function w6(t){return dA[t%dA.length]}function N6(t){return P_[t%P_.length]}function gle(t,e){return t.borderColor=w6(e),t.backgroundColor=N6(e),++e}function yle(t,e){return t.backgroundColor=t.data.map(()=>w6(e++)),e}function ble(t,e){return t.backgroundColor=t.data.map(()=>N6(e++)),e}function xle(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof Oi?e=yle(r,e):a instanceof nf?e=ble(r,e):a&&(e=gle(r,e))}}function D_(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function vle(t){return t&&(t.borderColor||t.backgroundColor)}function jle(){return Lt.borderColor!=="rgba(0,0,0,0.1)"||Lt.backgroundColor!=="rgba(0,0,0,0.1)"}var wle={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=D_(n)||vle(a)||s&&D_(s)||jle();if(!r.forceOverride&&i)return;const l=xle(t);n.forEach(l)}};function Nle(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,p,g,y;for(i[c++]=t[d],f=0;f<s-2;f++){let b=0,h=0,x;const v=Math.floor((f+1)*l)+1+e,C=Math.min(Math.floor((f+2)*l)+1,r)+e,j=C-v;for(x=v;x<C;x++)b+=t[x].x,h+=t[x].y;b/=j,h/=j;const N=Math.floor(f*l)+1+e,S=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:A,y:k}=t[d];for(p=g=-1,x=N;x<S;x++)g=.5*Math.abs((A-b)*(t[x].y-k)-(A-t[x].x)*(h-k)),g>p&&(p=g,m=t[x],y=x);i[c++]=m,d=y}return i[c++]=t[u],i}function Cle(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,p,g,y;const b=[],h=e+r-1,x=t[e].x,C=t[h].x-x;for(i=e;i<e+r;++i){l=t[i],c=(l.x-x)/C*n,u=l.y;const j=c|0;if(j===d)u<g?(g=u,f=i):u>y&&(y=u,m=i),a=(s*a+l.x)/++s;else{const N=i-1;if(!Ke(f)&&!Ke(m)){const S=Math.min(f,m),A=Math.max(f,m);S!==p&&S!==N&&b.push({...t[S],x:a}),A!==p&&A!==N&&b.push({...t[A],x:a})}i>0&&N!==p&&b.push(t[N]),b.push(l),d=j,s=0,g=y=u,f=m=p=i}}return b}function C6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function O_(t){t.data.datasets.forEach(e=>{C6(e)})}function Sle(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=br(hs(e,s.axis,i).lo,0,r-1)),u?a=br(hs(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var Ale={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){O_(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(Pd([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=Sle(c,u);const p=r.threshold||4*n;if(m<=p){C6(a);return}Ke(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(r.algorithm){case"lttb":g=Nle(u,f,m,n,r);break;case"min-max":g=Cle(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=g})},destroy(t){O_(t)}};function Ile(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=Yv(c,u,a);const d=fA(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=s6(e,d);for(const m of f){const p=fA(r,s[m.start],s[m.end],m.loop),g=a6(l,a,p);for(const y of g)i.push({source:y,target:m,start:{[r]:__(d,p,"start",Math.max)},end:{[r]:__(d,p,"end",Math.min)}})}}return i}function fA(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=Rr(a),s=Rr(s)),{property:t,start:a,end:s}}function kle(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=Yv(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function Yv(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function __(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function S6(t,e){let r=[],n=!1;return Rt(t)?(n=!0,r=t):r=kle(t,e),r.length?new ho({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function $_(t){return t&&t.fill!==!1}function Tle(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!Kt(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function Ele(t,e,r){const n=_le(t);if(Xe(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Kt(a)&&Math.floor(a)===a?Ple(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Ple(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function Dle(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Xe(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Ole(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Xe(t)?n=t.value:n=e.getBaseValue(),n}function _le(t){const e=t.options,r=e.fill;let n=Fe(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function $le(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=Rle(e,r);l.push(S6({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)Mle(a,i[d],l)}return new ho({points:a,options:{}})}function Rle(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function Mle(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=Lle(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Lle(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(ps(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class A6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:Ot},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function Fle(t){const{chart:e,fill:r,line:n}=t;if(Kt(r))return Ble(e,r);if(r==="stack")return $le(t);if(r==="shape")return!0;const a=qle(t);return a instanceof A6?a:S6(a,n)}function Ble(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function qle(t){return(t.scale||{}).getPointPositionForValue?Ule(t):Vle(t)}function Vle(t){const{scale:e={},fill:r}=t,n=Dle(r,e);if(Kt(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function Ule(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=Ole(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new A6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function s1(t,e,r){const n=Fle(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:p=f}=d||{},g=a.getDatasetMeta(s),y=o6(a,g);n&&i.points.length&&(zv(t,r),zle(t,{line:i,target:n,above:m,below:p,area:r,scale:l,axis:c,clip:y}),Wv(t))}function zle(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save();let d=s;s!==a&&(u==="x"?(R_(t,n,i.top),o1(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),R_(t,n,i.bottom)):u==="y"&&(M_(t,n,i.left),o1(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore(),t.save(),M_(t,n,i.right),d=a)),o1(t,{line:r,target:n,color:d,scale:l,property:u,clip:c}),t.restore()}function R_(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[Yv(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function M_(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[Yv(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(r,d.y),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(r,f.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function o1(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=Ile(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:p=s}={}}=u,g=n!==!0;t.save(),t.fillStyle=p,Wle(t,i,l,g&&fA(a,f,m)),t.beginPath();const y=!!r.pathSegment(t,u);let b;if(g){y?t.closePath():L_(t,n,m,a);const h=!!n.pathSegment(t,d,{move:y,reverse:!0});b=y&&h,b||L_(t,n,f,a)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function Wle(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function L_(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var Hle={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof ho&&(c={visible:t.isDatasetVisible(i),index:i,fill:Ele(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=Tle(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&s1(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;$_(s)&&s1(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!$_(n)||r.drawTime!=="beforeDatasetDraw"||s1(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const F_=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Gle=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let B_=class extends Us{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Nt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=mr(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=F_(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,p=-d;return this.legendItems.forEach((g,y)=>{const b=n+r/2+s.measureText(g.text).width;(y===0||u[u.length-1]+b+2*l>i)&&(f+=d,u[u.length-(y>0?0:1)]=0,p+=d,m++),c[y]={left:0,top:p,row:m,width:b,height:a},u[u.length-1]+=b+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,p=0,g=0,y=0;return this.legendItems.forEach((b,h)=>{const{itemWidth:x,itemHeight:v}=Yle(n,r,s,b,a);h>0&&p+v+2*l>d&&(f+=m+l,u.push({width:m,height:p}),g+=m+l,y++,m=p=0),c[h]={left:g,top:p,col:y,width:x,height:v},m=Math.max(m,x),p+=v+l}),f+=m,u.push({width:m,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=xc(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=_r(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=_r(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=_r(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=_r(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;zv(e,this),this._draw(),Wv(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=Lt.color,c=xc(e.rtl,this.left,this.width),u=mr(i.font),{padding:d}=i,f=u.size,m=f/2;let p;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:g,boxHeight:y,itemHeight:b}=F_(i,f),h=function(N,S,A){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;a.save();const k=Fe(A.lineWidth,1);if(a.fillStyle=Fe(A.fillStyle,l),a.lineCap=Fe(A.lineCap,"butt"),a.lineDashOffset=Fe(A.lineDashOffset,0),a.lineJoin=Fe(A.lineJoin,"miter"),a.lineWidth=k,a.strokeStyle=Fe(A.strokeStyle,l),a.setLineDash(Fe(A.lineDash,[])),i.usePointStyle){const T={radius:y*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:k},E=c.xPlus(N,g/2),$=S+m;Gq(a,T,E,$,i.pointStyleWidth&&g)}else{const T=S+Math.max((f-y)/2,0),E=c.leftForLtr(N,g),$=zi(A.borderRadius);a.beginPath(),Object.values($).some(L=>L!==0)?Qf(a,{x:E,y:T,w:g,h:y,radius:$}):a.rect(E,T,g,y),a.fill(),k!==0&&a.stroke()}a.restore()},x=function(N,S,A){yl(a,A.text,N,S+b/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},v=this.isHorizontal(),C=this._computeTitleHeight();v?p={x:_r(s,this.left+d,this.right-n[0]),y:this.top+d+C,line:0}:p={x:this.left+d,y:_r(s,this.top+C+d,this.bottom-r[0].height),line:0},t6(this.ctx,e.textDirection);const j=b+d;this.legendItems.forEach((N,S)=>{a.strokeStyle=N.fontColor,a.fillStyle=N.fontColor;const A=a.measureText(N.text).width,k=c.textAlign(N.textAlign||(N.textAlign=i.textAlign)),T=g+m+A;let E=p.x,$=p.y;c.setWidth(this.width),v?S>0&&E+T+d>this.right&&($=p.y+=j,p.line++,E=p.x=_r(s,this.left+d,this.right-n[p.line])):S>0&&$+j>this.bottom&&(E=p.x=E+r[p.line].width+d,p.line++,$=p.y=_r(s,this.top+C+d,this.bottom-r[p.line].height));const L=c.x(E);if(h(L,$,N),E=mse(k,E+g+m,v?E+T:this.right,e.rtl),x(c.x(E),$,N),v)p.x+=T+d;else if(typeof N.text!="string"){const M=u.lineHeight;p.y+=I6(N,M)+d}else p.y+=j}),r6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=mr(r.font),a=qr(r.padding);if(!r.display)return;const s=xc(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=_r(e.align,f,this.right-m);else{const g=this.columnSizes.reduce((y,b)=>Math.max(y,b.height),0);d=u+_r(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=_r(l,f,f+m);i.textAlign=s.textAlign(wT(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,yl(i,r.text,p,d,n)}_computeTitleHeight(){const e=this.options.title,r=mr(e.font),n=qr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(ps(e,this.left,this.right)&&ps(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],ps(e,a.left,a.left+a.width)&&ps(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Xle(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=Gle(a,n);a&&!s&&Nt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&Nt(r.onHover,[e,n,this],this)}else n&&Nt(r.onClick,[e,n,this],this)}};function Yle(t,e,r,n,a){const s=Kle(n,t,e,r),i=Jle(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function Kle(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function Jle(t,e,r){let n=t;return typeof e.text!="string"&&(n=I6(e,r)),n}function I6(t,e){const r=t.text?t.text.length:0;return e*r}function Xle(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Zle={id:"legend",_element:B_,start(t,e,r){const n=t.legend=new B_({ctx:t.ctx,options:r,chart:t});Fr.configure(t,n,r),Fr.addBox(t,n)},stop(t){Fr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Fr.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=qr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class PT extends Us{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Rt(n.text)?n.text.length:1;this._padding=qr(n.padding);const s=a*mr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=_r(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=_r(l,a,r),c=nt*-.5):(d=s-e,f=_r(l,r,a),c=nt*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=mr(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);yl(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:wT(r.align),textBaseline:"middle",translation:[i,l]})}}function Qle(t,e){const r=new PT({ctx:t.ctx,options:e,chart:t});Fr.configure(t,r,e),Fr.addBox(t,r),t.titleBlock=r}var ece={id:"title",_element:PT,start(t,e,r){Qle(t,r)},stop(t){const e=t.titleBlock;Fr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Fr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const sh=new WeakMap;var tce={id:"subtitle",start(t,e,r){const n=new PT({ctx:t.ctx,options:r,chart:t});Fr.configure(t,n,r),Fr.addBox(t,n),sh.set(t,n)},stop(t){Fr.removeBox(t,sh.get(t)),sh.delete(t)},beforeUpdate(t,e,r){const n=sh.get(t);Fr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _d={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=aA(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Ta(t,e){return e&&(Rt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function as(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function rce(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function q_(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=mr(e.bodyFont),u=mr(e.titleFont),d=mr(e.footerFont),f=s.length,m=a.length,p=n.length,g=qr(e.padding);let y=g.height,b=0,h=n.reduce((C,j)=>C+j.before.length+j.lines.length+j.after.length,0);if(h+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),h){const C=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;y+=p*C+(h-p)*c.lineHeight+(h-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let x=0;const v=function(C){b=Math.max(b,r.measureText(C).width+x)};return r.save(),r.font=u.string,ft(t.title,v),r.font=c.string,ft(t.beforeBody.concat(t.afterBody),v),x=e.displayColors?i+2+e.boxPadding:0,ft(n,C=>{ft(C.before,v),ft(C.lines,v),ft(C.after,v)}),x=0,r.font=d.string,ft(t.footer,v),r.restore(),b+=g.width,{width:b,height:y}}function nce(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function ace(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function sce(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),ace(u,t,e,r)&&(u="center"),u}function V_(t,e,r){const n=r.yAlign||e.yAlign||nce(t,r);return{xAlign:r.xAlign||e.xAlign||sce(t,e,r,n),yAlign:n}}function oce(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function ice(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function U_(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:p}=zi(i);let g=oce(e,l);const y=ice(e,c,u);return c==="center"?l==="left"?g+=u:l==="right"&&(g-=u):l==="left"?g-=Math.max(d,m)+a:l==="right"&&(g+=Math.max(f,p)+a),{x:br(g,0,n.width-e.width),y:br(y,0,n.height-e.height)}}function oh(t,e,r){const n=qr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function z_(t){return Ta([],as(t))}function lce(t,e,r){return ti(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function W_(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const k6={beforeTitle:es,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:es,beforeBody:es,beforeLabel:es,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Ke(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:es,afterBody:es,beforeFooter:es,footer:es,afterFooter:es};function en(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?k6[e].call(r,n):a}var $C;let H_=($C=class extends Us{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new i6(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=lce(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=en(n,"beforeTitle",this,e),s=en(n,"title",this,e),i=en(n,"afterTitle",this,e);let l=[];return l=Ta(l,as(a)),l=Ta(l,as(s)),l=Ta(l,as(i)),l}getBeforeBody(e,r){return z_(en(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return ft(e,s=>{const i={before:[],lines:[],after:[]},l=W_(n,s);Ta(i.before,as(en(l,"beforeLabel",this,s))),Ta(i.lines,en(l,"label",this,s)),Ta(i.after,as(en(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return z_(en(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=en(n,"beforeFooter",this,e),s=en(n,"footer",this,e),i=en(n,"afterFooter",this,e);let l=[];return l=Ta(l,as(a)),l=Ta(l,as(s)),l=Ta(l,as(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(rce(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),ft(l,d=>{const f=W_(e.callbacks,d);a.push(en(f,"labelColor",this,d)),s.push(en(f,"labelPointStyle",this,d)),i.push(en(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=_d[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=q_(this,n),u=Object.assign({},l,c),d=V_(this.chart,n,u),f=U_(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=zi(l),{x:m,y:p}=e,{width:g,height:y}=r;let b,h,x,v,C,j;return s==="center"?(C=p+y/2,a==="left"?(b=m,h=b-i,v=C+i,j=C-i):(b=m+g,h=b+i,v=C-i,j=C+i),x=b):(a==="left"?h=m+Math.max(c,d)+i:a==="right"?h=m+g-Math.max(u,f)-i:h=this.caretX,s==="top"?(v=p,C=v-i,b=h-i,x=h+i):(v=p+y,C=v+i,b=h+i,x=h-i),j=v),{x1:b,x2:h,x3:x,y1:v,y2:C,y3:j}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=xc(n.rtl,this.x,this.width);for(e.x=oh(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=mr(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=mr(s.bodyFont),f=oh(this,"left",s),m=a.x(f),p=c<d.lineHeight?(d.lineHeight-c)/2:0,g=r.y+p;if(s.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},b=a.leftForLtr(m,u)+u/2,h=g+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,oA(e,y,b,h),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,oA(e,y,b,h)}else{e.lineWidth=Xe(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const y=a.leftForLtr(m,u),b=a.leftForLtr(a.xPlus(m,1),u-2),h=zi(i.borderRadius);Object.values(h).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Qf(e,{x:y,y:g,w:u,h:c,radius:h}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Qf(e,{x:b,y:g+1,w:u-2,h:c-2,radius:h}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,g,u,c),e.strokeRect(y,g,u,c),e.fillStyle=i.backgroundColor,e.fillRect(b,g+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=mr(n.bodyFont);let m=f.lineHeight,p=0;const g=xc(n.rtl,this.x,this.width),y=function(A){r.fillText(A,g.x(e.x+p),e.y+m/2),e.y+=m+s},b=g.textAlign(i);let h,x,v,C,j,N,S;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=oh(this,b,n),r.fillStyle=n.bodyColor,ft(this.beforeBody,y),p=l&&b!=="right"?i==="center"?u/2+d:u+2+d:0,C=0,N=a.length;C<N;++C){for(h=a[C],x=this.labelTextColors[C],r.fillStyle=x,ft(h.before,y),v=h.lines,l&&v.length&&(this._drawColorBox(r,e,C,g,n),m=Math.max(f.lineHeight,c)),j=0,S=v.length;j<S;++j)y(v[j]),m=f.lineHeight;ft(h.after,y)}p=0,m=f.lineHeight,ft(this.afterBody,y),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=xc(n.rtl,this.x,this.width);for(e.x=oh(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=mr(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:g}=zi(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-g),r.quadraticCurveTo(l+u,c+d,l+u-g,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+p,c+d),r.quadraticCurveTo(l,c+d,l,c+d-p),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=_d[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=q_(this,e),c=Object.assign({},i,this._size),u=V_(r,e,c),d=U_(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=qr(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),t6(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),r6(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!Mx(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!Mx(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=_d[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},he($C,"positioners",_d),$C);var cce={id:"tooltip",_element:H_,positioners:_d,afterInit(t,e,r){r&&(t.tooltip=new H_({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:k6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},uce=Object.freeze({__proto__:null,Colors:wle,Decimation:Ale,Filler:Hle,Legend:Zle,SubTitle:tce,Title:ece,Tooltip:cce});const dce=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function fce(t,e,r,n){const a=t.indexOf(e);if(a===-1)return dce(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const mce=(t,e)=>t===null?null:br(Math.round(t),0,e);function G_(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class mA extends Pl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Ke(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:fce(n,e,Fe(r,e),this._addedLabels),mce(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return G_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}he(mA,"id","category"),he(mA,"defaults",{ticks:{callback:G_}});function pce(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,p=s||1,g=d-1,{min:y,max:b}=e,h=!Ke(i),x=!Ke(l),v=!Ke(u),C=(b-y)/(f+1);let j=qO((b-y)/g/p)*p,N,S,A,k;if(j<1e-14&&!h&&!x)return[{value:y},{value:b}];k=Math.ceil(b/j)-Math.floor(y/j),k>g&&(j=qO(k*j/g/p)*p),Ke(c)||(N=Math.pow(10,c),j=Math.ceil(j*N)/N),a==="ticks"?(S=Math.floor(y/j)*j,A=Math.ceil(b/j)*j):(S=y,A=b),h&&x&&s&&ose((l-i)/s,j/1e3)?(k=Math.round(Math.min((l-i)/j,d)),j=(l-i)/k,S=i,A=l):v?(S=h?i:S,A=x?l:A,k=u-1,j=(A-S)/k):(k=(A-S)/j,ef(k,Math.round(k),j/1e3)?k=Math.round(k):k=Math.ceil(k));const T=Math.max(VO(j),VO(S));N=Math.pow(10,Ke(c)?T:c),S=Math.round(S*N)/N,A=Math.round(A*N)/N;let E=0;for(h&&(m&&S!==i?(r.push({value:i}),S<i&&E++,ef(Math.round((S+E*j)*N)/N,i,Y_(i,C,t))&&E++):S<i&&E++);E<k;++E){const $=Math.round((S+E*j)*N)/N;if(x&&$>l)break;r.push({value:$})}return x&&m&&A!==l?r.length&&ef(r[r.length-1].value,l,Y_(l,C,t))?r[r.length-1].value=l:r.push({value:l}):(!x||A===l)&&r.push({value:A}),r}function Y_(t,e,{horizontal:r,minRotation:n}){const a=ma(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class zx extends Pl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Ke(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=qa(a),u=qa(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=pce(a,s);return e.bounds==="ticks"&&Lq(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return sp(e,this.chart.options.locale,this.options.ticks.format)}}class pA extends zx{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Kt(e)?e:0,this.max=Kt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ma(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}he(pA,"id","linear"),he(pA,"defaults",{ticks:{callback:Uv.formatters.numeric}});const tm=t=>Math.floor(po(t)),pi=(t,e)=>Math.pow(10,tm(t)+e);function K_(t){return t/Math.pow(10,tm(t))===1}function J_(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function hce(t,e){const r=e-t;let n=tm(r);for(;J_(t,e,n)>10;)n++;for(;J_(t,e,n)<10;)n--;return Math.min(n,tm(t))}function gce(t,{min:e,max:r}){e=vn(t.min,e);const n=[],a=tm(e);let s=hce(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=vn(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:K_(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const p=vn(t.max,m);return n.push({value:p,major:K_(p),significand:f}),n}class hA extends Pl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=zx.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Kt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Kt(e)?Math.max(0,e):null,this.max=Kt(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Kt(this._userMin)&&(this.min=e===pi(this.min,0)?pi(this.min,-1):pi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(pi(n,-1)),i(pi(a,1)))),n<=0&&s(pi(a,-1)),a<=0&&i(pi(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=gce(r,this);return e.bounds==="ticks"&&Lq(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":sp(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=po(e),this._valueRange=po(this.max)-po(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(po(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}he(hA,"id","logarithmic"),he(hA,"defaults",{ticks:{callback:Uv.formatters.logarithmic,major:{enabled:!0}}});function gA(t){const e=t.ticks;if(e.display&&t.display){const r=qr(e.backdropPadding);return Fe(e.font&&e.font.size,Lt.font.size)+r.height}return 0}function yce(t,e,r){return r=Rt(r)?r:[r],{w:Nse(t,e.string,r),h:r.length*e.lineHeight}}function X_(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function bce(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?nt/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=mr(u.font),m=yce(t.ctx,f,t._pointLabels[c]);n[c]=m;const p=Rr(t.getIndexAngle(c)+l),g=Math.round(vT(p)),y=X_(g,d.x,m.w,0,180),b=X_(g,d.y,m.h,90,270);xce(r,e,p,y,b)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=wce(t,n,a)}function xce(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function vce(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round(vT(Rr(c.angle+rr))),d=Sce(c.y,l.h,u),f=Nce(u),m=Cce(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function jce(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(gs({x:r,y:n},e)||gs({x:r,y:s},e)||gs({x:a,y:n},e)||gs({x:a,y:s},e))}function wce(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:gA(s)/2,additionalAngle:i?nt/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=vce(t,d,c);n.push(f),l==="auto"&&(f.visible=jce(f,u),f.visible&&(u=f))}return n}function Nce(t){return t===0||t===180?"center":t<180?"left":"right"}function Cce(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Sce(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Ace(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!Ke(l)){const c=zi(e.borderRadius),u=qr(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,p=i-a+u.height;Object.values(c).some(g=>g!==0)?(t.beginPath(),Qf(t,{x:d,y:f,w:m,h:p,radius:c}),t.fill()):t.fillRect(d,f,m,p)}}function Ice(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));Ace(r,i,s);const l=mr(i.font),{x:c,y:u,textAlign:d}=s;yl(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function T6(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Ot);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function kce(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),T6(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function Tce(t,e,r){return ti(t,{label:r,index:e,type:"pointLabel"})}class $d extends zx{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=qr(gA(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Kt(e)&&!isNaN(e)?e:0,this.max=Kt(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gA(this.options))}generateTickLabels(e){zx.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=Nt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?bce(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Ot/(this._pointLabels.length||1),n=this.options.startAngle||0;return Rr(e*r+ma(n))}getDistanceFromCenterForValue(e){if(Ke(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(Ke(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return Tce(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-rr+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),T6(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&Ice(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),p=a.setContext(m),g=s.setContext(m);kce(this,p,c,i,g)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=mr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=qr(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}yl(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}he($d,"id","radialLinear"),he($d,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Uv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),he($d,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),he($d,"descriptors",{angleLines:{_fallback:"grid"}});const Kv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},nn=Object.keys(Kv);function Z_(t,e){return t-e}function Q_(t,e){if(Ke(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),Kt(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(Gc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function e$(t,e,r,n){const a=nn.length;for(let s=nn.indexOf(t);s<a-1;++s){const i=Kv[nn[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return nn[s]}return nn[a-1]}function Ece(t,e,r,n,a){for(let s=nn.length-1;s>=nn.indexOf(r);s--){const i=nn[s];if(Kv[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return nn[r?nn.indexOf(r):0]}function Pce(t){for(let e=nn.indexOf(t)+1,r=nn.length;e<r;++e)if(Kv[nn[e]].common)return nn[e]}function t$(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=jT(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function Dce(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function r$(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:Dce(t,n,a,r)}class rm extends Pl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new Boe._date(e.adapters.date);a.init(r),Qd(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:Q_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Kt(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=Kt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=use(a,s,i);return this._unit=r.unit||(n.autoSkip?e$(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Ece(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Pce(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),r$(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=br(r,0,i),n=br(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||e$(s.minUnit,r,n,this._getLabelCapacity(r)),l=Fe(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=Gc(c)||c===!0,d={};let f=r,m,p;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const g=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,p=0;m<n;m=+e.add(m,l,i),p++)t$(d,m,g);return(m===n||a.bounds==="ticks"||p===1)&&t$(d,m,g),Object.keys(d).sort(Z_).map(y=>+y)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return Nt(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],p=u&&f&&m&&m.major;return this._adapter.format(e,a||(p?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=ma(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,r$(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(Q_(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qq(e.sort(Z_))}}he(rm,"id","time"),he(rm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ih(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=hs(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=hs(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class yA extends rm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=ih(r,this.min),this._tableRange=ih(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ih(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return ih(this._table,n*this._tableRange+this._minPos,!0)}}he(yA,"id","timeseries"),he(yA,"defaults",rm.defaults);var Oce=Object.freeze({__proto__:null,CategoryScale:mA,LinearScale:pA,LogarithmicScale:hA,RadialLinearScale:$d,TimeScale:rm,TimeSeriesScale:yA});const _ce=[Foe,hle,uce,Oce];no.register(..._ce);const $ce=[{name:"Settings",icon:o.jsx(y3,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(yJ,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(MJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(FD,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(FD,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(BS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(Dx,{className:"h-6 w-6"}),path:"/reports/bir"}];function Rce(){const{user:t}=z(n=>n.auth),[e,r]=w.useState(!0);return w.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:$ce.map(n=>o.jsxs(bc,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function Mce(){return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[o.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),o.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),o.jsx(bc,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}function Dl(t){this._maxSize=t,this.clear()}Dl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Dl.prototype.get=function(t){return this._values[t]};Dl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Lce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,E6=/^\d+$/,Fce=/^\d/,Bce=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,qce=/^\s*(['"]?)(.*?)(\1)\s*$/,DT=512,n$=new Dl(DT),a$=new Dl(DT),s$=new Dl(DT),Hi={Cache:Dl,split:bA,normalizePath:i1,setter:function(t){var e=i1(t);return a$.get(t)||a$.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=i1(t);return s$.get(t)||s$.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(OT(r)||E6.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Vce(Array.isArray(t)?t:bA(t),e,r)}};function i1(t){return n$.get(t)||n$.set(t,bA(t).map(function(e){return e.replace(qce,"$2")}))}function bA(t){return t.match(Lce)||[""]}function Vce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(Wce(a)&&(a='"'+a+'"'),l=OT(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function OT(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Uce(t){return t.match(Fce)&&!t.match(E6)}function zce(t){return Bce.test(t)}function Wce(t){return!OT(t)&&(Uce(t)||zce(t))}const Hce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Jv=t=>t.match(Hce)||[],Xv=t=>t[0].toUpperCase()+t.slice(1),_T=(t,e)=>Jv(t).join(e).toLowerCase(),P6=t=>Jv(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Gce=t=>Xv(P6(t)),Yce=t=>_T(t,"_"),Kce=t=>_T(t,"-"),Jce=t=>Xv(_T(t," ")),Xce=t=>Jv(t).map(Xv).join(" ");var l1={words:Jv,upperFirst:Xv,camelCase:P6,pascalCase:Gce,snakeCase:Yce,kebabCase:Kce,sentenceCase:Jce,titleCase:Xce},$T={exports:{}};$T.exports=function(t){return D6(Zce(t),t)};$T.exports.array=D6;function D6(t,e){var r=t.length,n=new Array(r),a={},s=r,i=Qce(e),l=eue(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var p=i.get(u)||new Set;if(p=Array.from(p),d=p.length){f.add(u);do{var g=p[--d];c(g,l.get(g),f)}while(d);f.delete(u)}n[--r]=u}}}function Zce(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function Qce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function eue(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var tue=$T.exports;const rue=it(tue),nue=Object.prototype.toString,aue=Error.prototype.toString,sue=RegExp.prototype.toString,oue=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",iue=/^Symbol\((.*)\)(.*)$/;function lue(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function o$(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return lue(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return oue.call(t).replace(iue,"Symbol($1)");const n=nue.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+aue.call(t)+"]":n==="RegExp"?sue.call(t):null}function ws(t,e){let r=o$(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=o$(this[n],e);return s!==null?s:a},2)}function O6(t){return t==null?[]:[].concat(t)}let _6,$6,R6,cue=/\$\{\s*(\w+)\s*\}/g;_6=Symbol.toStringTag;class i${constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[_6]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],O6(e).forEach(s=>{if(Wr.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}$6=Symbol.hasInstance;R6=Symbol.toStringTag;class Wr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(cue,(a,s)=>ws(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new i$(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[R6]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Wr)}static[$6](e){return i$[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Da={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${ws(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${ws(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${ws(r,!0)}\``+a}},tn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Qs={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},xA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},vA={isValue:"${path} field must be ${value}"},og={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},ig={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},uue={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${ws(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${ws(r,!0)}\``}return Wr.formatError(Da.notType,t)}};Object.assign(Object.create(null),{mixed:Da,string:tn,number:Qs,date:xA,object:og,array:ig,boolean:vA,tuple:uue});const Zv=t=>t&&t.__isYupSchema__;class Wx{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new Wx(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!Zv(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const lh={context:"$",value:"."};function bl(t,e){return new ri(t,e)}class ri{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===lh.context,this.isValue=this.key[0]===lh.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?lh.context:this.isValue?lh.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Hi.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ri.prototype.__isYupRef=!0;const pa=t=>t==null;function Ul(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:p}=t;let{parent:g,context:y,abortEarly:b=i.spec.abortEarly,disableStackTrace:h=i.spec.disableStackTrace}=a;const x={value:r,parent:g,context:y};function v(E={}){const $=M6(Object.assign({value:r,originalValue:s,label:i.spec.label,path:E.path||n,spec:i.spec,disableStackTrace:E.disableStackTrace||h},f,E.params),x),L=new Wr(Wr.formatError(E.message||m,$),r,$.path,E.type||u,$.disableStackTrace);return L.params=$,L}const C=b?l:c;let j={path:n,parent:g,type:u,from:a.from,createError:v,resolve(E){return L6(E,x)},options:a,originalValue:s,schema:i};const N=E=>{Wr.isError(E)?C(E):E?c(null):C(v())},S=E=>{Wr.isError(E)?C(E):l(E)};if(p&&pa(r))return N(!0);let k;try{var T;if(k=d.call(j,r,j),typeof((T=k)==null?void 0:T.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(k).then(N,S)}}catch(E){S(E);return}N(k)}return e.OPTIONS=t,e}function M6(t,e){if(!t)return t;for(const r of Object.keys(t))t[r]=L6(t[r],e);return t}function L6(t,e){return ri.isRef(t)?t.getValue(e.value,e.parent,e.context):t}function due(t,e,r,n=r){let a,s,i;return e?(Hi.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class Hx extends Set{describe(){const e=[];for(const r of this.values())e.push(ri.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Hx(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function ic(t,e=new Map){if(Zv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=ic(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,ic(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(ic(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=ic(a,e)}else throw Error(`Unable to clone ${t}`);return r}function fue(t){if(!(t!=null&&t.length))return;const e=[];let r="",n=!1,a=!1;for(let s=0;s<t.length;s++){const i=t[s];if(i==="["&&!a){r&&(e.push(...r.split(".").filter(Boolean)),r=""),n=!0;continue}if(i==="]"&&!a){r&&(/^\d+$/.test(r)?e.push(r):e.push(r.replace(/^"|"$/g,"")),r=""),n=!1;continue}if(i==='"'){a=!a;continue}if(i==="."&&!n&&!a){r&&(e.push(r),r="");continue}r+=i}return r&&e.push(...r.split(".").filter(Boolean)),e}function mue(t,e){const r=e?`${e}.${t.path}`:t.path;return t.errors.map(n=>({message:n,path:fue(r)}))}function F6(t,e){var r;if(!((r=t.inner)!=null&&r.length)&&t.errors.length)return mue(t,e);const n=e?`${e}.${t.path}`:t.path;return t.inner.flatMap(a=>F6(a,n))}class _n{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Hx,this._blacklist=new Hx,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Da.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=ic(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&pa(s))return s;let i=ws(e),l=ws(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=y=>{a||(a=!0,r(y,i))},f=y=>{a||(a=!0,n(y,i))},m=s.length,p=[];if(!m)return f([]);let g={value:i,originalValue:l,path:c,options:u,schema:this};for(let y=0;y<s.length;y++){const b=s[y];b(g,d,function(x){x&&(Array.isArray(x)?p.push(...x):p.push(x)),--m<=0&&f(p)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,p)=>this.resolve(d)._validate(u,d,m,p)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{Wr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Wr(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Wr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Wr(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Wr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Wr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):ic(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Ul({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Ul({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Da.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Da.notNull){return this.nullability(!1,e)}required(e=Da.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Da.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Ul(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=O6(e).map(s=>new ri(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new Wx(a,r):Wx.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Ul({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Da.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=Ul({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=Da.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=Ul({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.filter((c,u,d)=>d.findIndex(f=>f.OPTIONS.name===c.OPTIONS.name)===u).map(c=>{const u=c.OPTIONS.params&&e?M6(Object.assign({},c.OPTIONS.params),e):c.OPTIONS.params;return{name:c.OPTIONS.name,params:u}})}}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(n){try{return{value:await e.validate(n,{abortEarly:!1})}}catch(a){if(a instanceof Wr)return{issues:F6(a)};throw a}}}}}_n.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])_n.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=due(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])_n.prototype[t]=_n.prototype.oneOf;for(const t of["not","nope"])_n.prototype[t]=_n.prototype.notOneOf;function Os(){return new B6}class B6 extends _n{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=vA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return pa(r)||r===!0}})}isFalse(e=vA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return pa(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Os.prototype=B6.prototype;const pue=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function hue(t){const e=jA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function jA(t){var e,r;const n=pue.exec(t);return n?{year:ts(n[1]),month:ts(n[2],1)-1,day:ts(n[3],1),hour:ts(n[4]),minute:ts(n[5]),second:ts(n[6]),millisecond:n[7]?ts(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:ts(n[10]),minuteOffset:ts(n[11])}:null}function ts(t,e=0){return Number(t)||e}let gue=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yue=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,bue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,xue="^\\d{4}-\\d{2}-\\d{2}",vue="\\d{2}:\\d{2}:\\d{2}",jue="(([+-]\\d{2}(:?\\d{2})?)|Z)",wue=new RegExp(`${xue}T${vue}(\\.\\d+)?${jue}$`),Nue=t=>pa(t)||t===t.trim(),Cue={}.toString();function _(){return new q6}class q6 extends _n{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===Cue?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Da.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=tn.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=tn.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=tn.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||tn.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=tn.email){return this.matches(gue,{name:"email",message:e,excludeEmptyString:!0})}url(e=tn.url){return this.matches(yue,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=tn.uuid){return this.matches(bue,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(wue,{name:"datetime",message:r||tn.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||tn.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=jA(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||tn.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=jA(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=tn.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:Nue})}lowercase(e=tn.lowercase){return this.transform(r=>pa(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>pa(r)||r===r.toLowerCase()})}uppercase(e=tn.uppercase){return this.transform(r=>pa(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>pa(r)||r===r.toUpperCase()})}}_.prototype=q6.prototype;let Sue=t=>t!=+t;function K(){return new V6}class V6 extends _n{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Sue(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=Qs.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Qs.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Qs.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Qs.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Qs.positive){return this.moreThan(0,e)}negative(e=Qs.negative){return this.lessThan(0,e)}integer(e=Qs.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>pa(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>pa(a)?a:Math[e](a))}}K.prototype=V6.prototype;let U6=new Date(""),Aue=t=>Object.prototype.toString.call(t)==="[object Date]";function Be(){return new op}class op extends _n{constructor(){super({type:"date",check(e){return Aue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=hue(e),isNaN(e)?op.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(ri.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=xA.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=xA.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}op.INVALID_DATE=U6;Be.prototype=op.prototype;Be.INVALID_DATE=U6;function Iue(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=Hi.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),ri.isRef(l)&&l.isSibling?s(l.path,i):Zv(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return rue.array(Array.from(n),r).reverse()}function l$(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function z6(t){return(e,r)=>l$(t,e)-l$(t,r)}const W6=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function lg(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=lg(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=lg(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(lg)}):"optional"in t?t.optional():t}const kue=(t,e)=>{const r=[...Hi.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=Hi.getter(Hi.join(r),!0)(t);return!!(a&&n in a)};let c$=t=>Object.prototype.toString.call(t)==="[object Object]";function u$(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const Tue=z6([]);function le(t){return new H6(t)}class H6 extends _n{constructor(e){super({type:"object",check(r){return c$(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=Tue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],p=f in a;if(m){let g,y=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:y,context:r.context,parent:c});let b=m instanceof _n?m.spec:void 0,h=b==null?void 0:b.strict;if(b!=null&&b.strip){d=d||f in a;continue}g=!r.__validating||!h?m.cast(a[f],u):a[f],g!==void 0&&(c[f]=g)}else p&&!i&&(c[f]=a[f]);(p!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!c$(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||ri.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=Iue(e,r),n._sortErrors=z6(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return lg(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=Hi.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return kue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(W6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||og.exact,test(r){if(r==null)return!0;const n=u$(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=og.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=u$(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=og.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(l1.camelCase)}snakeCase(){return this.transformKeys(l1.snakeCase)}constantCase(){return this.transformKeys(e=>l1.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}le.prototype=H6.prototype;function Vt(t){return new G6(t)}class G6 extends _n{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let p=0;p<u.length;p++){var m;f[p]=i.asNestedTest({options:r,index:p,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,p=>a(p.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(W6)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!Zv(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+ws(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=ig.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||ig.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||ig.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}Vt.prototype=G6.prototype;function Eue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Pue=w.forwardRef(Eue);function Due({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Oue=w.forwardRef(Due);function _ue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const $ue=w.forwardRef(_ue);function Rue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const Mue=w.forwardRef(Rue);function Lue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),w.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Fue=w.forwardRef(Lue);function Bue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const que=w.forwardRef(Bue);function Vue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Uue=w.forwardRef(Vue);function zue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Wue=w.forwardRef(zue);function Hue({title:t,titleId:e,...r},n){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Gue=w.forwardRef(Hue);function ye({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,selectedRow:l=null,emptyMessage:c="No data available"}){const[u,d]=w.useState(1),[f,m]=w.useState(10),[p,g]=w.useState(""),[y,b]=w.useState({key:null,direction:"asc"}),h=Array.isArray(e)?e:[],v=[...h.filter(T=>Object.values(T).some(E=>E!=null&&E.toString().toLowerCase().includes(p.toLowerCase())))].sort((T,E)=>{if(!y.key)return 0;const $=T[y.key],L=E[y.key];return $==null?1:L==null?-1:typeof $=="string"&&typeof L=="string"?y.direction==="asc"?$.localeCompare(L):L.localeCompare($):y.direction==="asc"?$-L:L-$}),C=Math.ceil(v.length/f),j=v.slice((u-1)*f,u*f),N=T=>{let E="asc";y.key===T&&y.direction==="asc"&&(E="desc"),b({key:T,direction:E})},S=T=>{d(T)},A=T=>{m(Number(T.target.value)),d(1)},k=T=>{g(T.target.value),d(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):h.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:c})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(que,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:p,onChange:k})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(T=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>T.sortable!==!1&&N(T.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:T.header}),T.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx($ue,{className:`h-3 w-3 ${y.key===T.key&&y.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(Oue,{className:`h-3 w-3 -mt-1 ${y.key===T.key&&y.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},T.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:j.map((T,E)=>o.jsxs("tr",{className:`${i?"hover:bg-neutral-50 cursor-pointer":""} ${l&&(l==null?void 0:l.ID)===T.ID?"bg-blue-100":""}`,onClick:i?()=>i(T):void 0,children:[t.map($=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${$.className||"text-neutral-500"}`,children:$.render?$.render(T[$.key],T):T[$.key]},`${T.id||E}-${$.key}`)),typeof a=="function"?(()=>{const $=a(T);return($==null?void 0:$.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:$.map((L,M)=>o.jsx("button",{onClick:D=>{D.stopPropagation(),L.onClick(T)},className:L.className||"text-primary-600 hover:text-primary-900",title:L.title,children:L.icon?o.jsx(L.icon,{className:"h-5 w-5","aria-hidden":"true"}):L.label},M))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map(($,L)=>o.jsx("button",{onClick:M=>{M.stopPropagation(),$.onClick(T)},className:($==null?void 0:$.className)||"text-primary-600 hover:text-primary-900",title:$==null?void 0:$.title,children:$!=null&&$.icon?o.jsx($.icon,{className:"h-5 w-5","aria-hidden":"true"}):$==null?void 0:$.label},L))})]},T.id||E))})]})}),r&&C>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((u-1)*f+1,v.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(u*f,v.length)})," ","of ",o.jsx("span",{className:"font-medium",children:v.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:f,onChange:A,children:[5,10,25,50].map(T=>o.jsx("option",{value:T,children:T},T))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>S(u-1),disabled:u===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Yue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>S(u+1),disabled:u===C,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Kue,{className:"h-5 w-5"})})]})]})]})]})}function Yue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function Kue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function ie({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(Jh.Root,{show:t,as:w.Fragment,children:o.jsx(MN,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-2",children:[o.jsx(Jh.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(MN.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(Jh.Child,{as:w.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left  shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(MN.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(x3,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const Qv="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Jue=[],Xue={departments:Jue,department:null,isLoading:!1,error:null},ir=q("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qv}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cg=q("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${Qv}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ug=q("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${Qv}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),dg=q("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${Qv}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Y6=ve({name:"departments",initialState:Xue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(ir.pending,e=>{e.isLoading=!0}).addCase(ir.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(ir.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:D9e,resetDepartmentState:O9e}=Y6.actions,Zue=Y6.reducer;function we(t){const{selectedRole:e}=z(n=>n.auth);return w.useMemo(()=>!e||e.Description==="Administration"?{View:!0,Add:!0,Edit:!0,Delete:!0,Print:!0,Mayor:!0}:e.ModuleAccesses?e.ModuleAccesses.find(a=>a.ModuleID===t)||{}:{},[e,t])}function Que(){const t=ce(),{departments:e,isLoading:r,error:n}=z(S=>S.departments),{Add:a,Edit:s,Delete:i}=we(39),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,g]=w.useState(null);w.useEffect(()=>{t(ir())},[t]);const y=le().shape({Code:_().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(S){return S?!e.some(k=>k.Code.trim().toLowerCase()===S.trim().toLowerCase()&&(!u||k.ID!==u.ID)):!0}),Name:_().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(S){return S?!e.some(k=>k.Name.trim().toLowerCase()===S.trim().toLowerCase()&&(!u||k.ID!==u.ID)):!0})}),b=()=>{d(null),c(!0)},h=S=>{d(S),c(!0)},x=S=>{g(S),m(!0)},v=()=>{p&&(t(dg(p.ID)),m(!1),g(null))},C=(S,{resetForm:A})=>{t(u?ug({...S,ID:u.ID}):cg(S)),c(!1),A()},j=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],N=S=>{const A=[];return s&&A.push({icon:ke,title:"Edit",onClick:()=>h(S),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),i&&S.ID>4&&A.push({icon:Me,title:"Delete",onClick:()=>x(S),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),A};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:N,loading:r})}),o.jsx(ie,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Department":"Add Department",children:o.jsx(Le,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:y,onSubmit:C,children:({values:S,errors:A,touched:k,handleChange:T,handleBlur:E,isSubmitting:$})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:S.Code,onChange:T,onBlur:E,error:A.Code,touched:k.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:S.Name,onChange:T,onBlur:E,error:A.Name,touched:k.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:$,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ie,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const ej="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",ede=[],tde={currencies:ede,currency:null,isLoading:!1,error:null},fg=q("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),mg=q("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${ej}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pg=q("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${ej}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hg=q("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${ej}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),K6=ve({name:"currencies",initialState:tde,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(fg.pending,e=>{e.isLoading=!0}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mg.pending,e=>{e.isLoading=!0}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pg.pending,e=>{e.isLoading=!0}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hg.pending,e=>{e.isLoading=!0}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:_9e,resetCurrencyState:$9e}=K6.actions,rde=K6.reducer,nde=(t=[],e=null)=>le().shape({Code:_().required("Code is required").max(3,"Code must be exactly 3 characters").min(3,"Code must be exactly 3 characters").matches(/^[A-Z]{3}$/,"Code must be 3 uppercase letters (ISO 4217)").test("unique-code","Code already exists",function(r){if(!r)return!0;const n=r.trim().toUpperCase();return!t.some(s=>s.Code.trim().toUpperCase()===n&&(!e||s.ID!==e.ID))}),Name:_().required("Name is required").max(100,"Name must be at most 100 characters").test("unique-name","Name already exists",function(r){if(!r)return!0;const n=r.trim().toLowerCase();return!t.some(s=>s.Name.trim().toLowerCase()===n&&(!e||s.ID!==e.ID))})});function ade(){const t=ce(),{currencies:e,isLoading:r,error:n}=z(N=>N.currencies),{Add:a,Edit:s,Delete:i}=we(37),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,g]=w.useState(null);w.useEffect(()=>{t(fg())},[t]);const y=()=>{d(null),c(!0)},b=N=>{d(N),c(!0)},h=N=>{g(N),m(!0)},x=async()=>{try{p&&(t(hg(p.ID)),m(!1),g(null)),V.success("Currency deleted successfully.")}catch(N){console.error("Failed to delete currency:",N),V.error("Failed to delete currency. Please try again.")}},v=(N,{resetForm:S})=>{try{t(u?pg({...N,ID:u.ID}):mg(N)),V.success("Currency saved successfully.")}catch(A){console.error("Failed to save currency:",A),V.error("Failed to save currency. Please try again.")}finally{c(!1),S()}},C=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],j=[s&&{icon:ke,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:j,loading:r})}),o.jsx(ie,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Currency":"Add Currency",children:o.jsx(Le,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:nde(e,u),onSubmit:v,children:({values:N,errors:S,touched:A,handleChange:k,handleBlur:T,isSubmitting:E})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:N.Code,onChange:k,onBlur:T,error:S.Code,touched:A.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:N.Name,onChange:k,onBlur:T,error:S.Name,touched:A.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ie,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const tj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",sde=[],ode={subdepartments:sde,subdepartment:null,isLoading:!1,error:null},ko=q("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),gg=q("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${tj}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),yg=q("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${tj}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),bg=q("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${tj}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),J6=ve({name:"subdepartments",initialState:ode,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(ko.pending,e=>{e.isLoading=!0}).addCase(ko.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(ko.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gg.pending,e=>{e.isLoading=!0}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yg.pending,e=>{e.isLoading=!0}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(bg.pending,e=>{e.isLoading=!0}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:R9e,resetSubdepartmentState:M9e}=J6.actions,ide=J6.reducer;var X6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d$=H.createContext&&H.createContext(X6),lde=["attr","size","title"];function cde(t,e){if(t==null)return{};var r=ude(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ude(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Gx(){return Gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gx.apply(this,arguments)}function f$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(r),!0).forEach(function(n){dde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dde(t,e,r){return e=fde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fde(t){var e=mde(t,"string");return typeof e=="symbol"?e:e+""}function mde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z6(t){return t&&t.map((e,r)=>H.createElement(e.tag,Yx({key:r},e.attr),Z6(e.child)))}function RT(t){return e=>H.createElement(pde,Gx({attr:Yx({},t.attr)},e),Z6(t.child))}function pde(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=cde(t,lde),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),H.createElement("svg",Gx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Yx(Yx({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&H.createElement("title",null,s),t.children)};return d$!==void 0?H.createElement(d$.Consumer,null,r=>e(r)):e(X6)}function hde(t){return RT({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function gde(t){return RT({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function yde(t){return RT({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const ut=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=w.useState(""),d=c===""?t:t.filter(m=>{var p;return(p=m==null?void 0:m.label)==null?void 0:p.toLowerCase().includes(c.toLowerCase())}),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full form-group",children:o.jsx(Fl,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs(Fl.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx(Fl.Input,{className:"w-full py-2.5 pl-3 pr-12 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:p=>{var g;return((g=t.find(y=>y.value===p))==null?void 0:g.label)||""},onChange:p=>u(p.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(yde,{className:"h-4 w-4"})}),o.jsx(Fl.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(hde,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx(Fl.Options,{className:"absolute z-[500] mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base  ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(p=>o.jsx(Fl.Option,{className:({active:g,selected:y})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${g?"bg-blue-50 text-blue-700":""}
                         ${y?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:p.value,children:o.jsx("span",{children:p.label})},p.value))})]})]})})})};function bde(){const t=ce(),{subdepartments:e,isLoading:r}=z(A=>A.subdepartments||{}),{departments:n}=z(A=>A.departments),{Add:a,Edit:s,Delete:i}=we(76),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,g]=w.useState(null);w.useEffect(()=>{t(ko()),t(ir())},[t]);const y=le().shape({Code:_().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const k=A.trim().toLowerCase();return!(e==null?void 0:e.some(E=>E.Code.trim().toLowerCase()===k&&E.DepartmentID===this.parent.DepartmentID&&(!u||E.ID!==u.ID)))}),Name:_().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(A){if(!A||!this.parent.DepartmentID)return!0;const k=A.trim().toLowerCase();return!(e==null?void 0:e.some(E=>E.Name.trim().toLowerCase()===k&&E.DepartmentID===this.parent.DepartmentID&&(!u||E.ID!==u.ID)))}),DepartmentID:K().required("Department is required")}),b=e.map(A=>{var k;return{...A,departmentName:((k=n.find(T=>T.ID===A.DepartmentID))==null?void 0:k.Name)||"N/A"}}),h=()=>{d(null),c(!0)},x=A=>{d(A),c(!0)},v=A=>{g(A),m(!0)},C=async()=>{try{p&&(await t(bg(p.ID)).unwrap(),V.success("Subdepartment deleted successfully."))}catch(A){console.error("Failed to delete subdepartment:",A),V.error("Failed to delete subdepartment. Please try again.")}finally{g(null),m(!1)}},j=async(A,{resetForm:k})=>{var $;const T=(($=n.find(L=>L.ID===Number(A.DepartmentID)))==null?void 0:$.Name)||"",E={...A,departmentName:T};try{t(u?yg({...E,ID:u.ID}):gg(E)),V.success("Subdepartment saved successfully.")}catch(L){console.log(L),V.error("Failed to save subdepartment. Please try again.")}finally{c(!1),k()}},N=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],S=[s&&{icon:ke,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Me,title:"Delete",onClick:v,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N,data:b,actions:S,loading:r})}),o.jsx(ie,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Subdepartment":"Add Subdepartment",children:o.jsx(Le,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",DepartmentID:(u==null?void 0:u.DepartmentID)||""},validationSchema:y,onSubmit:j,children:({values:A,errors:k,touched:T,handleChange:E,handleBlur:$,isSubmitting:L,setFieldValue:M})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:A.Code,onChange:E,onBlur:$,error:k.Code,touched:T.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:A.Name,onChange:E,onBlur:$,error:k.Name,touched:T.Name}),o.jsx(ut,{label:"Department",name:"DepartmentID",type:"select",required:!0,selectedValue:A.DepartmentID,onSelect:D=>M("DepartmentID",D),onBlur:$,error:k.DepartmentID,touched:T.DepartmentID,options:n.map(D=>({value:D.ID,label:D.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:L,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ie,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:C,className:"btn btn-danger",children:"Delete"})]})]})]})}const rj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",xde=[],vde={users:xde,user:null,isLoading:!1,error:null},af=q("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),xg=q("users/addUser",async(t,e)=>{try{const r=await fetch(`${rj}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),vg=q("users/updateUser",async(t,e)=>{try{const r=await fetch(`${rj}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),jg=q("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${rj}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Q6=ve({name:"users",initialState:vde,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(af.pending,e=>{e.isLoading=!0}).addCase(af.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(af.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xg.pending,e=>{e.isLoading=!0}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vg.pending,e=>{e.isLoading=!0}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jg.pending,e=>{e.isLoading=!0}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:L9e,resetUserState:F9e}=Q6.actions,jde=Q6.reducer,nj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",wde=[],Nde={employees:wde,employee:null,isLoading:!1,error:null},dn=q("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),wg=q("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${nj}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),Ng=q("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${nj}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cg=q("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${nj}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),eV=ve({name:"employees",initialState:Nde,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(dn.pending,e=>{e.isLoading=!0}).addCase(dn.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(dn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(wg.pending,e=>{e.isLoading=!0}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ng.pending,e=>{e.isLoading=!0}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cg.pending,e=>{e.isLoading=!0}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:B9e,resetEmployeeState:q9e}=eV.actions,Cde=eV.reducer,aj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Sde=[],To=q("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sg=q("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${aj}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wA=q("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${aj}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ag=q("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${aj}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ade=ve({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(To.pending,e=>{e.isLoading=!0,e.error=null}).addCase(To.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(To.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=Sde}).addCase(Sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(wA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(Ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),Ide=Ade.reducer,kde=le().shape({UserName:_().required("User name is required"),UserAccessID:_().required("User Access is required"),Password:_().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:_().oneOf([bl("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:_().required("Choose Employee is required")});function Tde(){const t=ce(),{users:e,isLoading:r}=z(P=>P.users),{Add:n,Edit:a,Delete:s}=we(82),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null),[g,y]=w.useState(!1),[b,h]=w.useState(null),{userroles:x,isLoading:v}=z(P=>P.userroles),C=x.map(P=>({value:P.ID,label:P.Description})),{employees:j,isLoading:N}=z(P=>P.employees),S=j.map(P=>({value:P.ID,label:`${P.FirstName} ${P.LastName}`}));w.useEffect(()=>{t(af()),t(dn()),t(To())},[t]);const A=()=>{u(null),l(!0)},k=P=>{u(P),l(!0)},T=P=>{p(P),f(!0)},E=async()=>{try{m&&(await t(jg(m.ID)).unwrap(),f(!1),p(null),V.success("User deleted successfully"))}catch(P){console.error("Failed to delete user:",P),V.error("Failed to delete user")}},$=async(P,{resetForm:F,setErrors:O,setSubmitting:R})=>{const B={EmployeeID:P.EmployeeID,UserName:P.UserName,Password:P.Password,UserAccessArray:[P.UserAccessID]};console.log("Payload:",B);try{c?await t(vg({...B,ID:c.ID})).unwrap():await t(xg(B)).unwrap(),t(af()),V.success("User saved successfully.")}catch(U){console.log(U),O({general:"Unexpected error occurred."}),V.error("Failed to save user. Please try again.")}finally{F(),l(!1),R(!1)}},L=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0,render:(P,F)=>{var O;return o.jsx("span",{children:P||((O=F==null?void 0:F.accessList)==null?void 0:O.map(R=>R.Description).join(", "))||"N/A"})}}],M=[a&&{icon:ke,title:"Edit",onClick:k,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:T,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],D=e.map(P=>{var F;return{...P,UserAccessValue:(F=x.find(O=>O.ID===P.UserAccessID))==null?void 0:F.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),n&&o.jsxs("button",{type:"button",onClick:A,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:L,data:D,actions:M,loading:r||v||N})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit User":"Add User",children:o.jsx(Le,{initialValues:{UserName:(c==null?void 0:c.UserName)||"",UserAccessID:(c==null?void 0:c.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(c==null?void 0:c.EmployeeID)||""},validationSchema:kde,onSubmit:$,children:({values:P,errors:F,touched:O,handleChange:R,handleBlur:B,isSubmitting:U})=>o.jsxs(Ue,{className:"space-y-4",children:[F.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:F.general}),o.jsx(I,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:P.UserName,onChange:R,onBlur:B,error:F.UserName,touched:O.UserName}),o.jsx(I,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:P.UserAccessID,onChange:R,onBlur:B,error:F.UserAccessID,touched:O.UserAccessID,options:C}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:P.Password,onChange:R,onBlur:B,error:F.Password,touched:O.Password}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:P.ConfirmPassword,onChange:R,onBlur:B,error:F.ConfirmPassword,touched:O.ConfirmPassword}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:P.EmployeeID,onChange:R,onBlur:B,error:F.EmployeeID,touched:O.EmployeeID,options:S}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:U,className:"btn btn-primary",children:U?"Saving...":c?"Update":"Save"})]})]})})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:m==null?void 0:m.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:E,className:"btn btn-danger",children:"Delete"})]})]})]})}const sj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Ede=[],Pde={accounts:Ede,account:null,isLoading:!1,error:null},kr=q("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ig=q("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${sj}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kg=q("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${sj}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Tg=q("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${sj}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),tV=ve({name:"chartOfAccounts",initialState:Pde,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(kr.pending,e=>{e.isLoading=!0}).addCase(kr.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(kr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ig.pending,e=>{e.isLoading=!0}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(kg.pending,e=>{e.isLoading=!0}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:V9e,resetAccountState:U9e}=tV.actions,Dde=tV.reducer,oj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Ode=[],_de={accountGroups:Ode,accountGroup:null,isLoading:!1,error:null},Gi=q("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Eg=q("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${oj}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Pg=q("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${oj}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dg=q("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${oj}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rV=ve({name:"accountGroups",initialState:_de,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Gi.pending,e=>{e.isLoading=!0}).addCase(Gi.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(Gi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Eg.pending,e=>{e.isLoading=!0}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Pg.pending,e=>{e.isLoading=!0}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Dg.pending,e=>{e.isLoading=!0}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:z9e,resetAccountGroupState:W9e}=rV.actions,$de=rV.reducer,ij="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Rde=[],Mde={majorAccountGroups:Rde,majorAccountGroup:null,isLoading:!1,error:null},Yi=q("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),Og=q("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${ij}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),_g=q("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${ij}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),$g=q("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${ij}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),nV=ve({name:"majorAccountGroups",initialState:Mde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Yi.pending,e=>{e.isLoading=!0}).addCase(Yi.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(Yi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Og.pending,e=>{e.isLoading=!0}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(_g.pending,e=>{e.isLoading=!0}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase($g.pending,e=>{e.isLoading=!0}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:H9e,resetMajorAccountGroupState:G9e}=nV.actions,Lde=nV.reducer,lj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Fde=[],Bde={subMajorAccountGroups:Fde,subMajorAccountGroup:null,isLoading:!1,error:null},vc=q("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),Rg=q("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${lj}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Mg=q("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${lj}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),Lg=q("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${lj}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),aV=ve({name:"subMajorAccountGroups",initialState:Bde,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(vc.pending,e=>{e.isLoading=!0}).addCase(vc.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(vc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Rg.pending,e=>{e.isLoading=!0}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Mg.pending,e=>{e.isLoading=!0}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Lg.pending,e=>{e.isLoading=!0}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:Y9e,resetSubMajorAccountGroupState:K9e}=aV.actions,qde=aV.reducer,Vde=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{const{values:n,setFieldValue:a,errors:s,touched:i}=Iq(),l=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return w.useEffect(()=>{if(n.AccountTypeID||n.AccountSubTypeID||n.AccountCategoryID||n.Code){const c=l(n.AccountTypeID,t),u=l(n.AccountSubTypeID,e),d=l(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(I,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:i.AccountCode&&s.AccountCode,touched:i.AccountCode})},Ude=le().shape({AccountCode:_().required("Account no is required").max(30,"Account no must be at most 30 characters"),Code:_().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:_().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:_().max(250,"Description must be at most 250 characters"),AccountTypeID:_().required("Account group is required"),AccountSubTypeID:_().required("Major account group is required"),AccountCategoryID:_().required("Sub Major account group is required"),NormalBalance:_().required("Normal balance is required")});function zde({initialData:t,onClose:e}){const r=ce(),{accountGroups:n}=z(d=>d.accountGroups),{majorAccountGroups:a}=z(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=z(d=>d.subMajorAccountGroups),[i,l]=w.useState(!1);w.useEffect(()=>{r(Gi()),r(Yi()),r(vc())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=async d=>{l(!0);const f=t?kg({...d,ID:t.ID}):Ig(d);r(f).unwrap().then(()=>{V.success("Account updated successfully"),r(kr()),e()}).catch(m=>{console.error("Error submitting account:",m),V.error("Failed to submit account. Please try again.")}).finally(()=>{l(!1)})};return o.jsx(Le,{initialValues:c,validationSchema:Ude,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:g,isValid:y,setFieldValue:b})=>{var h;return o.jsxs(Ue,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(Vde,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),console.log("values",d,f),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:p,onBlur:g,error:f.Code,touched:m.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:p,onBlur:g,error:f.Name,touched:m.Name}),o.jsx(ut,{label:"Account Group",options:n.map(x=>({label:`${x.Name} (${x.Code})`,value:x.ID})),placeholder:"Select Account Group",onSelect:x=>{b("AccountTypeID",x||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx(ut,{label:"Major Account Group",options:a.map(x=>({label:`${x.Name} (${x.Code})`,value:x.ID})),placeholder:"Select Major Account Group",onSelect:x=>{b("AccountSubTypeID",x||"")},selectedValue:((h=a.find(x=>x.ID===d.AccountSubTypeID))==null?void 0:h.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx(ut,{label:"Sub Major Account Group",options:s.map(x=>({label:`${x.Name} (${x.Code})`,value:x.ID})),placeholder:"Select Sub Major Account Group",onSelect:x=>{b("AccountCategoryID",x||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:p,onBlur:g,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:p,onBlur:g,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!y,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),m$=t=>{const e=Hde(t);return e.charAt(0).toUpperCase()+e.slice(1)},sV=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Gde=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>w.createElement("svg",{ref:c,...Yde,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:sV("lucide",a),...!s&&!Gde(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=(t,e)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(Kde,{ref:s,iconNode:e,className:sV(`lucide-${Wde(m$(t))}`,`lucide-${t}`,n),...a}));return r.displayName=m$(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],oV=ar("building",Jde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],MT=ar("calendar",Xde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M20 4L9 15",key:"1qkx8z"}],["path",{d:"M21 19L3 19",key:"100sma"}],["path",{d:"M9 15L4 10",key:"9zxff7"}]],bn=ar("check-line",Zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],efe=ar("circle-arrow-left",Qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rfe=ar("circle-x",tfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],iV=ar("credit-card",nfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sfe=ar("eye-off",afe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Au=ar("eye",ofe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lfe=ar("file-text",ife);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],_s=ar("paperclip",cfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Na=ar("pencil",ufe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nm=ar("plus",dfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],am=ar("printer",ffe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pfe=ar("save",mfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gfe=ar("square-pen",hfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Jt=ar("trash-2",yfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Ca=ar("trash",bfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lV=ar("upload",xfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cj=ar("user",vfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LT=ar("users",jfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Zr=ar("x",wfe);function Nfe(){const t=ce(),{accounts:e,isLoading:r}=z(j=>j.chartOfAccounts),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:p}=we(31);w.useEffect(()=>{t(kr())},[t]);const g=()=>{i(null),a(!0)},y=j=>{i(j),a(!0)},b=j=>{d(j),c(!0)},h=async()=>{if(u)try{await t(Tg(u.ID)).unwrap(),c(!1),d(null),V.success("Account deleted successfully")}catch(j){console.error("Failed to delete account:",j),V.error("Failed to delete account. Please try again.")}},x=()=>{a(!1),i(null)},v=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],C=[m&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},p&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:f&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r})}),o.jsx(ie,{isOpen:n,onClose:x,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(zde,{initialData:s,onClose:x})}),o.jsxs(ie,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const Cfe=le().shape({Code:_().required("Code is required").max(10,"Code must be at most 10 characters"),Name:_().required("Name is required").max(100,"Name must be at most 100 characters")});function Sfe(){const t=ce(),{accountGroups:e,isLoading:r,error:n}=z(N=>N.accountGroups),{Add:a,Edit:s,Delete:i}=we(88),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,g]=w.useState(null);w.useEffect(()=>{t(Gi())},[t]);const y=()=>{d(null),c(!0)},b=N=>{d(N),c(!0)},h=N=>{g(N),m(!0)},x=async()=>{try{p&&(await t(Dg(p.ID)).unwrap(),V.success("Account group deleted successfully"),m(!1),g(null))}catch(N){console.error("Failed to delete account group:",N),V.error("Failed to delete account group. Please try again.")}},v=async(N,{resetForm:S})=>{try{u?(await t(Pg({...N,ID:u.ID})).unwrap(),V.success("Account group updated successfully")):(await t(Eg(N)).unwrap(),V.success("Account group added successfully")),t(Gi())}catch(A){console.error("Error submitting account group:",A),V.error("Failed to submit account group. Please try again.")}finally{c(!1),S()}},C=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],j=[s&&{icon:ke,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:j,loading:r})}),o.jsx(ie,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Type":"Add Account Type",children:o.jsx(Le,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||""},validationSchema:Cfe,onSubmit:v,children:({values:N,errors:S,touched:A,handleChange:k,handleBlur:T,isSubmitting:E})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:N.Code,onChange:k,onBlur:T,error:S.Code,touched:A.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:N.Name,onChange:k,onBlur:T,error:S.Name,touched:A.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ie,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const Afe=le().shape({Code:_().required("Code is required").max(15,"Code must be at most 15 characters"),Name:_().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:K().required("Account Type is required")});function Ife(){const t=ce(),{majorAccountGroups:e,isLoading:r}=z(S=>S.majorAccountGroups),{accountGroups:n}=z(S=>S.accountGroups),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),[d,f]=w.useState(null),{Add:m,Edit:p,Delete:g}=we(89);w.useEffect(()=>{t(Yi()),t(Gi())},[t]);const y=e.map(S=>{const A=n.find(k=>k.ID===S.AccountTypeID);return{...S,accountTypeName:A?A.Name:"N/A"}}),b=()=>{l(null),s(!0)},h=S=>{l(S),s(!0)},x=S=>{f(S),u(!0)},v=()=>{try{d&&(t($g(d.ID)),V.success("Major account group deleted successfully"))}catch(S){console.error("Failed to delete major account group:",S),V.error("Failed to delete major account group. Please try again.")}finally{u(!1),f(null)}},C=async(S,{resetForm:A})=>{var E;const k=((E=n.find($=>$.ID===Number(S.AccountTypeID)))==null?void 0:E.Name)||"",T={...S,accountTypeName:k};try{i?(await t(_g({...T,ID:i.ID})).unwrap(),V.success("Major account group updated successfully")):(await t(Og(T)).unwrap(),V.success("Major account group added successfully")),t(Yi())}catch($){console.error("Failed to save major account group:",$),V.error("Failed to save major account group. Please try again.")}s(!1),A()},j=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],N=[p&&{icon:ke,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},g&&{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),m&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:y,actions:N,loading:r})}),o.jsx(ie,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx(Le,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:Afe,onSubmit:C,children:({values:S,errors:A,touched:k,handleChange:T,handleBlur:E,isSubmitting:$})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:T,onBlur:E,error:A.Code,touched:k.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:T,onBlur:E,error:A.Name,touched:k.Name}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:S.AccountTypeID,onChange:T,onBlur:E,error:A.AccountTypeID,touched:k.AccountTypeID,options:n.map(L=>({value:L.ID,label:L.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:$,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ie,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}const kfe=le().shape({Code:_().required("Code is required").max(15,"Code must be at most 15 characters"),Name:_().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:K().required("Account Sub Type is required")});function Tfe(){const t=ce(),{subMajorAccountGroups:e,isLoading:r}=z(S=>S.subMajorAccountGroups),{majorAccountGroups:n}=z(S=>S.majorAccountGroups),{Add:a,Edit:s,Delete:i}=we(90),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,g]=w.useState(null);w.useEffect(()=>{t(vc()),t(Yi())},[t]);const y=e.map(S=>{const A=n.find(k=>k.ID===S.AccountSubTypeID);return{...S,accountSubTypeName:A?A.Name:"N/A"}}),b=()=>{d(null),c(!0)},h=S=>{d(S),c(!0)},x=S=>{g(S),m(!0)},v=async()=>{try{p&&(await t(Lg(p.ID)).unwrap(),m(!1),g(null),V.success("Sub major account group deleted successfully"))}catch(S){console.error("Failed to delete sub major account group:",S),V.error("Failed to delete sub major account group. Please try again.")}},C=async(S,{resetForm:A})=>{var E;const k=((E=n.find($=>$.ID===Number(S.AccountSubTypeID)))==null?void 0:E.Name)||"",T={...S,accountSubTypeName:k};try{u?(await t(Mg({...T,ID:u.ID})).unwrap(),V.success("Sub major account group updated successfully")):(await t(Rg(T)).unwrap(),V.success("Sub major account group added successfully")),t(vc())}catch($){console.error("Failed to save sub major account group:",$),V.error("Failed to save sub major account group. Please try again.")}finally{c(!1),A()}},j=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Sub Type",sortable:!0}],N=[s&&{icon:ke,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return console.log({currentSubMajorAccountGroup:u,majorAccountGroups:n}),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),a&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:y,actions:N,loading:r})}),o.jsx(ie,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Account Category":"Add Account Category",children:o.jsx(Le,{initialValues:{Code:(u==null?void 0:u.Code)||"",Name:(u==null?void 0:u.Name)||"",AccountSubTypeID:(u==null?void 0:u.AccountSubTypeID.toString())||""},validationSchema:kfe,onSubmit:C,children:({values:S,errors:A,touched:k,handleChange:T,handleBlur:E,isSubmitting:$})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:T,onBlur:E,error:A.Code,touched:k.Code}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:T,onBlur:E,error:A.Name,touched:k.Name}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:S.AccountSubTypeID,onChange:T,onBlur:E,error:A.AccountSubTypeID,touched:k.AccountSubTypeID,options:n.map(L=>({value:L.ID,label:L.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:$,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ie,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:p==null?void 0:p.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}function Efe({initialData:t,onSubmit:e,onClose:r,provinces:n=[],municipalities:a=[],barangays:s=[],regionOptions:i=[],provinceOptions:l=[],municipalityOptions:c=[],barangayOptions:u=[],industryOptions:d=[],taxCodeOptions:f=[],vendorTypeOptions:m=[],paymentTermsOptions:p=[],modeOfPaymentOptions:g=[]}){const y=le({Code:_().required("Code is required"),TIN:_().required("TIN is required"),Name:_().required("Name is required"),PhoneNumber:_(),MobileNumber:_().required("Mobile number is required"),EmailAddress:_().email("Invalid email").required("Email is required"),Website:_(),RegionID:_().required("Region is required"),ProvinceID:_().required("Province is required"),MunicipalityID:_().required("Municipality is required"),BarangayID:_().required("Barangay is required"),StreetAddress:_().required("Street address is required"),ZIPCode:_().required("Zip code is required"),TypeID:_().required("Vendor type is required"),RDO:_().required("Revenue District Office is required"),IndustryTypeID:_().required("Industry is required"),TaxCodeID:_().required("Tax code is required"),PaymentTermsID:_().required("Payment terms are required"),Vatable:Os(),PaymentMethodID:_().required("Mode of payment is required"),ContactPerson:_().required("Contact person is required"),DeliveryLeadTime:K().required("Delivery lead time is required").typeError("Must be a number")}),b=tt({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:y,onSubmit:S=>{e(S)}}),{values:h,handleChange:x,handleBlur:v,errors:C,touched:j,setFieldValue:N}=b;return w.useEffect(()=>{const S=s.find(A=>A.ID.toString()===h.BarangayID);S&&(S.MunicipalityCode&&N("MunicipalityID",S.MunicipalityCode),S.ProvinceCode&&N("ProvinceID",S.ProvinceCode),S.RegionCode&&N("RegionID",S.RegionCode))},[h.BarangayID]),w.useEffect(()=>{const S=a.find(A=>A.ID.toString()===h.MunicipalityID);S&&(S.ProvinceCode&&N("ProvinceID",S.ProvinceCode),S.RegionCode&&N("RegionID",S.RegionCode))},[h.MunicipalityID]),w.useEffect(()=>{const S=n.find(A=>A.ID.toString()===h.ProvinceID);S&&S.RegionCode&&N("RegionID",S.RegionCode)},[h.ProvinceID]),o.jsxs("form",{onSubmit:b.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:h.Code,onChange:x,onBlur:v,error:C.Code,touched:j.Code,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",type:"text",value:h.TIN,onChange:x,onBlur:v,error:C.TIN,touched:j.TIN,required:!0})]}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:h.Name,onChange:x,onBlur:v,error:C.Name,touched:j.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Phone Number",name:"PhoneNumber",type:"text",value:h.PhoneNumber,onChange:x,onBlur:v}),o.jsx(I,{label:"Mobile Number",name:"MobileNumber",type:"text",value:h.MobileNumber,onChange:x,onBlur:v,error:C.MobileNumber,touched:j.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:h.EmailAddress,onChange:x,onBlur:v,error:C.EmailAddress,touched:j.EmailAddress,required:!0}),o.jsx(I,{label:"Website",name:"Website",type:"text",value:h.Website,onChange:x,onBlur:v})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Region",name:"RegionID",type:"select",options:i,value:h.RegionID,onChange:x,onBlur:v,error:C.RegionID,touched:j.RegionID,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",options:l,value:h.ProvinceID,onChange:x,onBlur:v,error:C.ProvinceID,touched:j.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",options:c,value:h.MunicipalityID,onChange:x,onBlur:v,error:C.MunicipalityID,touched:j.MunicipalityID,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",options:u,value:h.BarangayID,onChange:x,onBlur:v,error:C.BarangayID,touched:j.BarangayID,required:!0})]}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"textarea",value:h.StreetAddress,onChange:x,onBlur:v,error:C.StreetAddress,touched:j.StreetAddress,required:!0}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",type:"text",value:h.ZIPCode,onChange:x,onBlur:v,error:C.ZIPCode,touched:j.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Vendor Type",name:"TypeID",type:"select",options:m,value:h.TypeID,onChange:x,onBlur:v,error:C.TypeID,touched:j.TypeID,required:!0}),o.jsx(I,{label:"Revenue District Office",name:"RDO",type:"text",value:h.RDO,onChange:x,onBlur:v,error:C.RDO,touched:j.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Industry",name:"IndustryTypeID",type:"select",options:d,value:h.IndustryTypeID,onChange:x,onBlur:v,error:C.IndustryTypeID,touched:j.IndustryTypeID,required:!0}),o.jsx(I,{label:"Tax Code",name:"TaxCodeID",type:"select",options:f,value:h.TaxCodeID,onChange:x,onBlur:v,error:C.TaxCodeID,touched:j.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:p,value:h.PaymentTermsID,onChange:x,onBlur:v,error:C.PaymentTermsID,touched:j.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:h.Vatable,onChange:x,onBlur:v}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:g,value:h.PaymentMethodID,onChange:x,onBlur:v,error:C.PaymentMethodID,touched:j.PaymentMethodID,required:!0}),o.jsx(I,{label:"Contact Person",name:"ContactPerson",type:"text",value:h.ContactPerson,onChange:x,onBlur:v,error:C.ContactPerson,touched:j.ContactPerson,required:!0})]}),o.jsx(I,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:h.DeliveryLeadTime,onChange:x,onBlur:v,error:C.DeliveryLeadTime,touched:j.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b.isSubmitting,children:b.isSubmitting?"Saving...":"Save"})]})]})}const uj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Pfe=[],Va=q("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Fg=q("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${uj}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=q("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${uj}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Bg=q("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${uj}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dfe=ve({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Va.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Va.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Va.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=Pfe}).addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),Ofe=Dfe.reducer,dj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",_fe=[],Eo=q("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dj}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),qg=q("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${dj}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=q("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${dj}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vg=q("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${dj}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$fe=ve({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Eo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eo.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Eo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=_fe}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),Rfe=$fe.reducer,fj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Mfe=[],Po=q("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fj}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ug=q("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${fj}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),SA=q("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${fj}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zg=q("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${fj}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Lfe=ve({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Po.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Po.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(Po.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=Mfe}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(SA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(SA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),Ffe=Lfe.reducer,mj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Bfe=[],Do=q("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Wg=q("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${mj}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=q("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${mj}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hg=q("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${mj}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),qfe=ve({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Do.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Do.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Do.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=Bfe}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),Vfe=qfe.reducer,pj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Ufe=[],Oo=q("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gg=q("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${pj}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=q("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${pj}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Yg=q("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${pj}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),zfe=ve({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Oo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oo.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(Oo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=Ufe}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),Wfe=zfe.reducer,hj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Hfe=[],jc=q("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Kg=q("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${hj}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=q("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${hj}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jg=q("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${hj}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Gfe=ve({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(jc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jc.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(jc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=Hfe}).addCase(Kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),Yfe=Gfe.reducer,gj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Kfe=[],Ki=q("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Xg=q("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${gj}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),TA=q("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${gj}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Zg=q("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${gj}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jfe=ve({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ki.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ki.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(Ki.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=Kfe}).addCase(Xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(TA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),Xfe=Jfe.reducer,yj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Zfe=[],Zn=q("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Qg=q("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${yj}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),EA=q("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${yj}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ey=q("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${yj}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Qfe=ve({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Zn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zn.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(Zn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=Zfe}).addCase(Qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(EA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),eme=Qfe.reducer,bj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",tme=[],Ji=q("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ty=q("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${bj}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),PA=q("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${bj}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ry=q("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${bj}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rme=ve({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ji.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ji.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(Ji.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=tme}).addCase(ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(PA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),nme=rme.reducer,xj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",ame=[],Xi=q("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ny=q("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${xj}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),DA=q("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${xj}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ay=q("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${xj}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),sme=ve({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Xi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xi.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(Xi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=ame}).addCase(ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(DA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(DA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),ome=sme.reducer;function ime(){const t=ce(),{vendorDetails:e,isLoading:r}=z(W=>W.vendorDetails),{Add:n,Edit:a,Delete:s}=we(91),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null),{regions:g}=z(W=>W.regions),{provinces:y}=z(W=>W.provinces),{municipalities:b}=z(W=>W.municipalities),{barangays:h}=z(W=>W.barangays),{vendorTypes:x}=z(W=>W.vendorTypes),{industries:v}=z(W=>W.industries),{taxCodes:C}=z(W=>W.taxCodes),{paymentTerms:j}=z(W=>W.paymentTerms),{modeOfPayments:N}=z(W=>W.modeOfPayments);w.useEffect(()=>{t(Va()),t(Eo()),t(Po()),t(Do()),t(Oo()),t(jc()),t(Ki()),t(Zn()),t(Ji()),t(Xi())},[t]);const S=g.map(W=>({value:W.ID,label:W.Name})),A=y.map(W=>({value:W.ID,label:W.Name})),k=b.map(W=>({value:W.ID,label:W.Name})),T=h.map(W=>({value:W.ID,label:W.Name})),E=x.map(W=>({value:W.ID,label:W.Name})),$=v.map(W=>({value:W.ID,label:W.Name})),L=C.map(W=>({value:W.ID,label:W.Code})),M=j.map(W=>({value:W.ID,label:W.Name})),D=N.map(W=>({value:W.ID,label:W.Name})),P=()=>{u(null),l(!0)},F=W=>{u(W),l(!0)},O=W=>{p(W),f(!0)},R=async()=>{if(m)try{await t(Bg(m.ID)).unwrap(),f(!1),p(null),V.success("Vendor details deleted successfully")}catch(W){console.error("Failed to delete vendor details:",W)}},B=async W=>{try{c?(await t(NA({...W,ID:c.ID})).unwrap(),V.success("Vendor details updated successfully")):(await t(Fg(W)).unwrap(),V.success("Vendor details added successfully")),t(Va())}catch(ae){console.error("Failed to save vendor details:",ae),V.error("Failed to save vendor details. Please try again.")}finally{l(!1)}},U=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:W=>{const ae=j.find(be=>be.ID==W);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:W=>{const ae=N.find(be=>be.ID==W);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:W=>W||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:W=>W?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:W=>{const ae=C.find(be=>be.ID==W);return(ae==null?void 0:ae.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:W=>{const ae=x.find(be=>be.ID==W);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:W=>{const ae=v.find(be=>be.ID==W);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:W=>W||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:W=>{const ae=h.find(be=>be.ID==W);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:W=>{const ae=b.find(be=>be.ID==W);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:W=>{const ae=y.find(be=>be.ID==W);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:W=>{const ae=g.find(be=>be.ID==W);return(ae==null?void 0:ae.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],G=[a&&{icon:ke,title:"Edit",onClick:F,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:O,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),n&&o.jsxs("button",{type:"button",onClick:P,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:U,data:e,actions:G,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(Efe,{initialData:c,onClose:()=>l(!1),onSubmit:B,provinces:y,municipalities:b,barangays:h,regionOptions:S,provinceOptions:A,municipalityOptions:k,barangayOptions:T,vendorTypeOptions:E,industryOptions:$,taxCodeOptions:L,paymentTermsOptions:M,modeOfPaymentOptions:D})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:R,className:"btn btn-danger",children:"Delete"})]})]})]})}function lme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:_().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const vj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",cme=[],sf=q("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),sy=q("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${vj}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),OA=q("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${vj}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),oy=q("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${vj}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ume=ve({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(sf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sf.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(sf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=cme}).addCase(sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(OA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),dme=ume.reducer;function fme(){const t=ce(),{vendorCustomerTypes:e,isLoading:r}=z(j=>j.vendorCustomerTypes),{Add:n,Edit:a,Delete:s}=we(91),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(sf())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(oy(m.ID)).unwrap(),f(!1),p(null),V.success("Vendor customer type deleted successfully")}catch(j){console.error("Failed to delete vendor customer type:",j),V.error("Failed to delete vendor customer type. Please try again.")}},x=async j=>{try{c?(await t(OA({...j,ID:c.ID})).unwrap(),V.success("Vendor customer type updated successfully")):(await t(sy(j)).unwrap(),V.success("Vendor customer type saved successfully")),t(sf())}catch(N){console.error("Failed to save vendor customer type:",N),V.error("Failed to save vendor customer type. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(lme,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function mme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:_().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function pme(){const t=ce(),{vendorTypes:e,isLoading:r}=z(j=>j.vendorTypes),{Add:n,Edit:a,Delete:s}=we(92),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(jc())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(Jg(m.ID)).unwrap(),f(!1),p(null),V.success("Vendor type deleted successfully")}catch(j){console.error("Failed to delete vendor type:",j),V.error("Failed to delete vendor type. Please try again.")}},x=async j=>{try{c?(await t(kA({...j,ID:c.ID})).unwrap(),V.success("Vendor type updated successfully")):(await t(Kg(j)).unwrap(),V.success("Vendor type saved successfully")),t(jc())}catch(N){console.error("Failed to save vendor type:",N),V.error("Failed to save vendor type. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(mme,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function hme({initialData:t,onSubmit:e,onClose:r}){const n=le({Description:_().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const jj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",gme=[],Zi=q("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),iy=q("modules/addModule",async(t,e)=>{try{const r=await fetch(`${jj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_A=q("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${jj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ly=q("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${jj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),yme=ve({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Zi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zi.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Zi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=gme}).addCase(iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(_A.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),bme=yme.reducer;function xme(){const t=ce(),{modules:e,isLoading:r}=z(x=>x.modules),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null);w.useEffect(()=>{t(Zi())},[t]);const f=()=>{i(null),a(!0)},m=x=>{i(x),console.log("Edit module:",x),a(!0)},p=x=>{d(x),c(!0)},g=async()=>{if(u)try{await t(ly(u.ID)).unwrap(),c(!1),d(null),V.success("Module deleted successfully")}catch(x){console.error("Failed to delete module:",x),V.error("Failed to delete module. Please try again.")}},y=async x=>{try{s?(await t(_A({...x,ID:s.ID})).unwrap(),t(Zi()),V.success("Module updated successfully")):(await t(iy(x)).unwrap(),t(Zi()),V.success("Module saved successfully"))}catch(v){console.error("Failed to save module:",v),V.error("Failed to save module. Please try again.")}finally{a(!1)}},b=[{key:"Description",header:"Name",sortable:!0}],h=[{icon:ke,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:b,data:e,actions:h,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(ie,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(hme,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ie,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.Description,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const wj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",vme=[],Qi=q("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cy=q("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${wj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$A=q("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${wj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),uy=q("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${wj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),jme=ve({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Qi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qi.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(Qi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=vme}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase($A.pending,e=>{e.isLoading=!0,e.error=null}).addCase($A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),wme=jme.reducer,Nj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Nme=[],wc=q("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Nj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dy=q("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${Nj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),RA=q("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${Nj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fy=q("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${Nj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Cme=ve({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(wc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wc.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(wc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=Nme}).addCase(dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(RA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(RA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),Sme=Cme.reducer,Cj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Ame=[],el=q("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Cj}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),my=q("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${Cj}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),MA=q("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${Cj}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),py=q("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${Cj}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ime=ve({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(el.pending,e=>{e.isLoading=!0,e.error=null}).addCase(el.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(el.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=Ame}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(MA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(MA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),kme=Ime.reducer,Tme=le().shape({FirstName:_().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:_().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:_().max(100,"Middle name must be at most 100 characters"),Birthday:Be().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:_().required("Gender is required"),StreetAddress:_().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:_().required("Contact number is required"),EmailAddress:_().email("Invalid email address").required("Email is required"),IDNumber:K(),DepartmentID:K().required("Department is required"),PositionID:_().required("Position is required"),NationalityID:_().required("Nationality is required"),EmploymentStatusID:_().required("Employment status is required"),DateHired:Be().required("Date hired is required"),TIN:_().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),GSIS:_(),Philhealth:_(),Pagibig:_(),Active:_().required("Status is required"),ZIPCode:_().max(6,"ZIP code must be at most 6 characters"),Region:_().required("Region is required"),Province:_().required("Province is required"),Municipality:_().required("Municipality is required"),Barangay:_().required("Barangay is required")});function Eme({initialData:t,onClose:e}){const r=ce();w.useEffect(()=>{r(ir()),r(Qi()),r(wc()),r(Eo()),r(Po()),r(Do()),r(Oo()),r(el())},[r]);const{regions:n}=z(T=>T.regions),{provinces:a}=z(T=>T.provinces),{municipalities:s}=z(T=>T.municipalities),{barangays:i}=z(T=>T.barangays),{nationalities:l}=z(T=>T.nationalities),c=l==null?void 0:l.map(T=>({value:T.ID,label:T.Name})),u=n.map(T=>({value:T.ID.toString(),label:T.Name})),d=a.map(T=>({value:T.ID.toString(),label:T.Name})),f=s.map(T=>({value:T.ID.toString(),label:T.Name})),m=i.map(T=>({value:T.ID.toString(),label:T.Name})),{departments:p,isLoading:g}=z(T=>T.departments),y=p.map(T=>({value:T.ID,label:T.Name})),{positions:b,isLoading:h}=z(T=>T.positions),x=b.map(T=>({value:T.ID,label:T.Name})),{employmentStatuses:v,isLoading:C}=z(T=>T.employmentStatuses),j=v.map(T=>({value:T.ID,label:T.Name})),[N,S]=w.useState(!1);console.log(t);const A=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",IDNumber:"",NationalityID:"",Nationality:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:1,ZIPCode:"",Region:"",Province:"",Municipality:"",Barangay:""},k=T=>{var M;S(!0);const E=((M=p.find(D=>D.value===Number(T.DepartmentID)))==null?void 0:M.label)||"",$={...T,DepartmentID:Number(T.DepartmentID),departmentName:E},L=t?Ng({...$,id:t.id,employeeCode:t.employeeCode}):wg($);r(L).unwrap().then(()=>{t?V.success("Employee updated successfully."):V.success("Employee added successfully."),r(dn())}).catch(D=>{console.error("Error submitting employee:",D),V.error("Failed to submit employee. Please try again.")}).finally(()=>{e(),S(!1)})};return o.jsx(Le,{initialValues:A,validationSchema:Tme,onSubmit:k,enableReinitialize:!0,children:({values:T,errors:E,touched:$,handleChange:L,handleBlur:M,isValid:D,setFieldValue:P,submitCount:F})=>(w.useEffect(()=>{const O=i.find(R=>R.ID.toString()===T.Barangay);if(O){const{MunicipalityCode:R,ProvinceCode:B,RegionCode:U}=O;R&&P("Municipality",R),B&&P("Province",B),U&&P("Region",U)}},[T.Barangay]),w.useEffect(()=>{const O=s.find(R=>R.ID.toString()===T.Municipality);if(O){const{ProvinceCode:R,RegionCode:B}=O;R&&P("Province",R),B&&P("Region",B)}},[T.Municipality]),w.useEffect(()=>{const O=a.find(R=>R.ID.toString()===T.Province);if(O){const{RegionCode:R}=O;R&&P("Region",R)}},[T.Province]),o.jsxs(Ue,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(I,{label:"First name",name:"FirstName",type:"text",required:!0,value:T.FirstName,onChange:L,onBlur:M,error:E.FirstName,touched:$.FirstName}),o.jsx(I,{label:"Middle name",name:"MiddleName",type:"text",value:T.MiddleName,onChange:L,onBlur:M,error:E.MiddleName,touched:$.MiddleName}),o.jsx(I,{label:"Last name",name:"LastName",type:"text",required:!0,value:T.LastName,onChange:L,onBlur:M,error:E.LastName,touched:$.LastName}),o.jsx(I,{label:"Gender",name:"Gender",type:"select",required:!0,value:T.Gender,onChange:L,onBlur:M,error:E.Gender,touched:$.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(I,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:T.Birthday,onChange:L,onBlur:M,error:E.Birthday,touched:$.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(I,{label:"Region",name:"Region",type:"select",required:!0,options:u,value:T.Region||"",onChange:L}),o.jsx(I,{label:"Province",name:"Province",type:"select",required:!0,options:d,value:T.Province||"",onChange:L}),o.jsx(I,{label:"Municipality",name:"Municipality",type:"select",required:!0,options:f,value:T.Municipality||"",onChange:L}),o.jsx(I,{label:"Barangay",name:"Barangay",type:"select",required:!0,options:m,value:T.Barangay||"",onChange:L}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:T.StreetAddress||"",onChange:L,onBlur:M,error:E.StreetAddress,touched:$.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsx(ut,{label:"Nationality",name:"NationalityID",type:"select",options:c,required:!0,placeholder:"Select Nationality",onSelect:O=>{const R=c.find(B=>B.value===O);P("NationalityID",O||""),P("Nationality",(R==null?void 0:R.label)||"")},className:"w-full",selectedValue:T.NationalityID,error:E.Nationality,touched:$.Nationality}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",type:"text",value:T.ZIPCode||"",onChange:L,onBlur:M,error:E.ZIPCode,touched:$.ZIPCode}),o.jsx(I,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:T.MobileNumber||"",onChange:L,onBlur:M,error:E.MobileNumber,touched:$.MobileNumber}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:T.EmailAddress||"",onChange:L,onBlur:M,error:E.EmailAddress,touched:$.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:T.EmergencyContact||"",onChange:L,onBlur:M,error:E.EmergencyContact,touched:$.EmergencyContact}),o.jsx(I,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:T.EmergencyNumber||"",onChange:L,onBlur:M,error:E.EmergencyNumber,touched:$.EmergencyNumber})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"ID Number",name:"IDNumber",type:"text",value:T.IDNumber||"",onChange:L}),o.jsx(I,{label:"TIN",name:"TIN",type:"text",value:T.TIN||"",onChange:L,onBlur:M,error:E.TIN,touched:$.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:T.Pagibig||"",onChange:L,onBlur:M,error:E.Pagibig,touched:$.Pagibig}),o.jsx(I,{label:"GSIS",name:"GSIS",type:"text",value:T.GSIS||"",onChange:L,onBlur:M,error:E.GSIS,touched:$.GSIS})]}),o.jsx(I,{label:"Philhealth",name:"Philhealth",type:"text",value:T.Philhealth||"",onChange:L,onBlur:M,error:E.Philhealth,touched:$.Philhealth}),o.jsx(I,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:T.DepartmentID||"",onChange:L,onBlur:M,error:E.DepartmentID,touched:$.DepartmentID,options:y,disabled:g})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(I,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:T.DateHired||"",onChange:L,onBlur:M,error:E.DateHired,touched:$.DateHired}),o.jsx(I,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:T.EmploymentStatusID||"",onChange:L,onBlur:M,error:E.EmploymentStatusID,touched:$.EmploymentStatusID,options:j,disabled:C})]}),o.jsx(I,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:T.EmploymentStatusDate||"",onChange:L,readOnly:!0}),o.jsx(I,{label:"Position",name:"PositionID",type:"select",required:!0,value:T.PositionID||"",onChange:L,onBlur:M,error:E.PositionID,touched:$.PositionID,options:x,disabled:h}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[[T.FirstName,T.MiddleName,T.LastName].filter(Boolean).join(" "),T.TIN&&` - ${T.TIN}`,T.DepartmentID&&` - ${T.DepartmentID}`]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:N,className:"btn btn-primary",children:N?"Saving...":t?"Update":"Save"})]}),F>0&&Object.keys(E).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(E).map(([O,R])=>o.jsx("li",{children:R},O))})]})]}))})}function Pme(){const t=ce(),{employees:e,isLoading:r}=z(j=>j.employees),{Add:n,Edit:a,Delete:s}=we(43),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(dn())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{try{m&&(t(Cg(m.ID)),f(!1),p(null),V.success("Employee deleted successfully"))}catch(j){console.error("Failed to delete employee:",j),V.error("Failed to delete employee. Please try again.")}},x=()=>{l(!1),u(null)},v=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:j=>(j==null?void 0:j.Name)||""},{key:"Position",header:"Position",sortable:!0,render:j=>(j==null?void 0:j.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:j=>(j==null?void 0:j.Name)||""}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r})}),o.jsx(ie,{isOpen:i,onClose:x,title:c?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(Eme,{initialData:c,onClose:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[m==null?void 0:m.FirstName," ",m==null?void 0:m.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Dme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:_().required("Employment Status is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ome(){const t=ce(),{employmentStatuses:e,isLoading:r}=z(j=>j.employmentStatuses),{Add:n,Edit:a,Delete:s}=we(93),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(wc())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(fy(m.ID)).unwrap(),f(!1),p(null),V.success("Employment status deleted successfully")}catch(j){console.error("Failed to delete employment status:",j),V.error("Failed to delete employment status. Please try again.")}},x=async j=>{try{c?(await t(RA({...j,ID:c.ID})).unwrap(),V.success("Employment status updated successfully")):(await t(dy(j)).unwrap(),V.success("Employment status saved successfully")),t(wc())}catch(N){console.error("Failed to save employment status:",N),V.error("Failed to save employment status. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Employment Status",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Employment Status":"Add Employment Status",children:o.jsx(Dme,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function _me({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:_().required("Position is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function $me(){const t=ce(),{positions:e,isLoading:r}=z(j=>j.positions),{Add:n,Edit:a,Delete:s}=we(36),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Qi())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(uy(m.ID)).unwrap(),f(!1),p(null),V.success("Position deleted successfully")}catch(j){console.error("Failed to delete position:",j),V.error("Failed to delete position. Please try again.")}},x=async j=>{try{c?(await t($A({...j,ID:c.ID})).unwrap(),V.success("Position updated successfully")):(await t(cy(j)).unwrap(),V.success("Position saved successfully")),t(Qi())}catch(N){console.error("Failed to save position:",N),V.error("Failed to save position. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Position",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Position":"Add Position",children:o.jsx(_me,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Rme({initialData:t,onSubmit:e,onClose:r}){const n=le({Description:_().required("User Role is required")}),a=tt({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Mme(){const t=ce(),{userroles:e,isLoading:r}=z(j=>j.userroles),{Add:n,Edit:a,Delete:s}=we(84),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(To())},[t]);const g=()=>{u(null),l(!0)},y=j=>{if(j.Description=="Administrator"){V.error("The 'Administrator' role cannot be edited.");return}u(j),l(!0)},b=j=>{if(j.Description=="Administrator"){V.error("The 'Administrator' role cannot be deleted.");return}p(j),f(!0)},h=async()=>{if(m)try{await t(Ag(m.ID)).unwrap(),f(!1),p(null),V.success("User role deleted successfully")}catch(j){console.error("Failed to delete user role:",j),V.error("Failed to delete user role. Please try again.")}},x=async j=>{try{c?(await t(wA({...j,ID:c.ID})).unwrap(),t(To()),V.success("User role updated successfully")):(await t(Sg(j)).unwrap(),t(To()),V.success("User role saved successfully"))}catch(N){console.error("Failed to save user role:",N),V.error("Failed to save user role. Please try again.")}finally{l(!1)}},v=[{key:"Description",header:"User Role",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit User Role":"Add User Role",children:o.jsx(Rme,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Lme({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:_().required("Nationality is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Fme(){const t=ce(),{nationalities:e,isLoading:r}=z(j=>j.nationalities),{Add:n,Edit:a,Delete:s}=we(94),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(el())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(py(m.ID)).unwrap(),f(!1),p(null),V.success("Nationality deleted successfully")}catch(j){console.error("Failed to delete nationality:",j),V.error("Failed to delete nationality. Please try again.")}},x=async j=>{try{c?(await t(MA({...j,ID:c.ID})).unwrap(),V.success("Nationality updated successfully")):(await t(my(j)).unwrap(),V.success("Nationality saved successfully")),t(el())}catch(N){console.error("Failed to save nationality:",N),V.error("Failed to save nationality. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Nationality",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Nationality":"Add Nationality",children:o.jsx(Lme,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const rt={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};le().shape({date:Be().required(rt.required).max(new Date,rt.futureDate),reference:_().max(50,"Reference number too long"),particulars:_().required(rt.required).max(500,"Particulars too long"),debitEntries:Vt().of(le().shape({accountCode:_().required("Account code is required"),amount:K().required("Amount is required").moreThan(0,rt.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:Vt().of(le().shape({accountCode:_().required("Account code is required"),amount:K().required("Amount is required").moreThan(0,rt.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const p$=le().shape({date:Be().required(rt.required).max(new Date,rt.futureDate),period:_().required(rt.required),stallNumber:_().required(rt.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:_().required(rt.required),stallOwner:_().required(rt.required).max(100,"Name too long"),amount:K().required(rt.required).moreThan(0,rt.positiveNumber)});le().shape({certificateNo:_().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Be().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:_().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:_().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:_().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:_().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:_().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:_().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:_().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:_().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Be().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:_().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:K().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:K().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:_().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:K().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:K().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:K().min(0,"Amount cannot be negative").nullable(),purpose:_().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:K().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:K().min(0,"Interest cannot be negative").nullable()});le().shape({date:Be().required(rt.required).max(new Date,rt.futureDate),tdNumber:_().required(rt.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:_().required(rt.required).max(100,"Name too long"),location:_().required(rt.required).max(200,"Location too long"),basicTax:K().required(rt.required).moreThan(0,rt.positiveNumber),sef:K().required(rt.required).moreThan(0,rt.positiveNumber),penalty:K().min(0,"Amount cannot be negative")});const Bme=le().shape({Name:_().required(rt.required).max(100,"Name too long"),MunicipalityCode:_().required(rt.required),ProvinceCode:_().required(rt.required),RegionCode:_().required(rt.required)}),qme=le().shape({Name:_().required(rt.required).max(100,"Name too long"),ProvinceCode:_().required(rt.required),RegionCode:_().required(rt.required)}),Vme=le().shape({Name:_().required(rt.required).max(100,"Name too long"),RegionCode:_().required(rt.required)}),h$=le().shape({Name:_().required(rt.required).max(100,"Name too long")});le().shape({id:_().required("ID is required"),status:_().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Be().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:_().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Be().required("Date is required").max(new Date,"Date cannot be in the future"),agency:_().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:_().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:_().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});const ch={region:71,province:67,municipality:61,barangay:19};function Ume(){const[t,e]=w.useState("region"),[r,n]=w.useState(!1),[a,s]=w.useState(null),[i,l]=w.useState(!1),[c,u]=w.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=ce(),{regions:m}=z(R=>R.regions),{provinces:p}=z(R=>R.provinces),{municipalities:g}=z(R=>R.municipalities),{barangays:y}=z(R=>R.barangays);w.useEffect(()=>{f(Eo()),f(Po()),f(Do()),f(Oo())},[f]);const b=()=>{switch(t){case"region":return h$;case"province":return Vme;case"municipality":return qme;case"barangay":return Bme;default:return h$}},h=we(ch.region),x=we(ch.province),v=we(ch.municipality),C=we(ch.barangay),j=()=>{switch(t){case"region":return h;case"province":return x;case"municipality":return v;case"barangay":return C;default:return{Add:!1,Edit:!1,Delete:!1}}},N=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},S=()=>{switch(t){case"region":return m;case"province":return p.map(R=>({...R,RegionName:F(R.RegionCode,m)}));case"municipality":return g.map(R=>({...R,RegionName:F(R.RegionCode,m),ProvinceName:F(R.ProvinceCode,p)}));case"barangay":return y.map(R=>({...R,RegionName:F(R.RegionCode,m),ProvinceName:F(R.ProvinceCode,p),MunicipalityName:F(R.MunicipalityCode,g)}));default:return[]}},A=()=>{switch(t){case"region":return qg;case"province":return Ug;case"municipality":return Wg;case"barangay":return Gg;default:return null}},k=()=>{switch(t){case"region":return CA;case"province":return SA;case"municipality":return AA;case"barangay":return IA;default:return null}},T=()=>{switch(t){case"region":return Vg;case"province":return zg;case"municipality":return Hg;case"barangay":return Yg;default:return null}},E=[j().Edit&&{icon:ke,title:"Edit",onClick:R=>L(R),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},j().Delete&&{icon:Me,title:"Delete",onClick:R=>M(R),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],$=()=>{s(null),n(!0)},L=R=>{s(R),n(!0)},M=R=>{u(R),l(!0)},D=async()=>{try{c&&(await f(T()(c.ID)).unwrap(),l(!1),u(null),V.success("Location deleted successfully"))}catch(R){console.error("Failed to delete location:",R),V.error("Failed to delete location. Please try again.")}};w.useEffect(()=>{r&&P.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const P=tt({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:b(),onSubmit:async(R,{setSubmitting:B})=>{const U=a?k():A(),G=a?{...a,...R}:R;try{await f(U(G)).unwrap(),V.success("Location saved successfully")}catch(W){console.error("Failed to save location:",W),V.error("Failed to save location. Please try again.")}finally{n(!1),B(!1)}}}),F=(R,B)=>{const U=B.find(G=>G.ID.toString()===R.toString());return U?U.Name:""},O=()=>{const R={formik:P,onChange:P.handleChange,onBlur:P.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(I,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:P.values.Name,error:P.errors.Name,touched:P.touched.Name,...R});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:P.values.Name,error:P.errors.Name,touched:P.touched.Name,...R}),o.jsx(I,{label:"Region",name:"RegionCode",type:"select",options:m.map(B=>({value:B.ID,label:B.Name})),value:P.values.RegionCode,error:P.errors.RegionCode,touched:P.touched.RegionCode,...R})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Municipality",name:"Name",type:"text",value:P.values.Name,error:P.errors.Name,touched:P.touched.Name,placeholder:"Enter municipality name",...R}),o.jsx(I,{label:"Province",name:"ProvinceCode",type:"select",options:p.map(B=>({value:B.ID,label:B.Name})),value:P.values.ProvinceCode,error:P.errors.ProvinceCode,touched:P.touched.ProvinceCode,onChange:B=>{const U=B.target.value,G=p.find(W=>W.ID.toString()===U.toString());P.setFieldValue("ProvinceCode",U),G&&P.setFieldValue("RegionCode",G.RegionCode)},onBlur:P.handleBlur,required:!0}),o.jsx(I,{label:"Region",name:"RegionCode",type:"text",value:F(P.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Barangay",name:"Name",type:"text",value:P.values.Name,error:P.errors.Name,touched:P.touched.Name,placeholder:"Enter barangay name",...R}),o.jsx(I,{label:"Municipality",name:"MunicipalityCode",type:"select",options:g.map(B=>({value:B.ID,label:B.Name})),value:P.values.MunicipalityCode,error:P.errors.MunicipalityCode,touched:P.touched.MunicipalityCode,onChange:B=>{const U=B.target.value,G=g.find(W=>W.ID.toString()===U.toString());P.setFieldValue("MunicipalityCode",U),G&&(P.setFieldValue("ProvinceCode",G.ProvinceCode),P.setFieldValue("RegionCode",G.RegionCode))},onBlur:P.handleBlur,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceCode",type:"text",value:F(P.values.ProvinceCode,p),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(I,{label:"Region",name:"RegionCode",type:"text",value:F(P.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),j().Add&&o.jsxs("button",{type:"button",onClick:$,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map(R=>o.jsx("button",{onClick:()=>e(R),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===R?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[R]},R))})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N(),data:S(),actions:E,pagination:!0})}),o.jsx(ie,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:P.handleSubmit,className:"sm:p-4 space-y-4",children:[O(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:P.isSubmitting,children:P.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:D,className:"btn btn-danger",children:"Delete"})]})]})})]})}const Sj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",zme=[],Nc=q("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Sj}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),hy=q("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${Sj}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),LA=q("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${Sj}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gy=q("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${Sj}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Wme=ve({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Nc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=zme}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(LA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(LA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),Hme=Wme.reducer,Aj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Gme=[],Cc=q("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Aj}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yy=q("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${Aj}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),FA=q("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${Aj}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),by=q("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${Aj}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Yme=ve({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(Cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=Gme}).addCase(yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(FA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(FA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(by.pending,e=>{e.isLoading=!0,e.error=null}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),Kme=Yme.reducer,Ij="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Jme=[],Xme=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],Zme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],Qme={ppes:Jme,ppe:null,isLoading:!1,error:null,categories:Xme,suppliers:Zme},Sc=q("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ij}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),xy=q("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${Ij}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vy=q("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${Ij}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jy=q("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${Ij}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),cV=ve({name:"ppes",initialState:Qme,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(Sc.pending,e=>{e.isLoading=!0}).addCase(Sc.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(Sc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xy.pending,e=>{e.isLoading=!0}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vy.pending,e=>{e.isLoading=!0}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(jy.pending,e=>{e.isLoading=!0}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:J9e,resetPPEResource:X9e,addCategory:Z9e,addSupplier:Q9e}=cV.actions,epe=cV.reducer,tpe=le().shape({CategoryID:_().required("Category is required"),Description:_().required("Description is required"),DepreciationRate:K().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:K().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:K().typeError("Must be a number").required("Net Book Value is required"),SupplierID:_().required("Supplier is required"),PPENumber:_().required("PPE Number is required"),Unit:_().required("Unit is required"),Barcode:_().required("Barcode is required"),Quantity:K().typeError("Must be a number").required("Quantity is required"),Cost:K().typeError("Must be a number").required("Cost is required"),DateAcquired:_().required("Date acquired is required"),EstimatedUsefulLife:K().typeError("Must be a number").required("Estimated useful life is required"),PONumber:_().required("PO Number is required"),PRNumber:_().required("PR Number is required"),InvoiceNumber:_().required("Invoice Number is required"),AIRNumber:_().required("AIR Number is required"),RISNumber:_().required("RIS Number is required"),Remarks:_()});function rpe({initialData:t,onClose:e}){const r=ce(),[n,a]=w.useState(!1),{ppeSuppliers:s}=z(u=>u.ppeSuppliers),{ppeCategories:i}=z(u=>u.ppeCategories);w.useEffect(()=>{r(Nc()),r(Cc())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?vy({...u,ID:t.ID}):xy(u);r(d).unwrap().then(()=>{t?V.success("PPE updated successfully"):V.success("PPE Added successfully"),r(Sc()),e()}).catch(f=>{console.error("Error submitting PPE:",f),V.error("Failed to submit PPE. Please try again.")}).finally(()=>{a(!1)})};return o.jsx(Le,{initialValues:l,validationSchema:tpe,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:p,setFieldValue:g})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:p,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(y=>({value:y.ID,label:y.Name}))})}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:p,error:d.Description,touched:f.Description}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:p,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:p,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:p,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:p,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(y=>({value:y.ID,label:y.Name}))})}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:p,error:d.PPENumber,touched:f.PPENumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:p,error:d.Unit,touched:f.Unit}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:p,error:d.Barcode,touched:f.Barcode}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:p,error:d.Quantity,touched:f.Quantity}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:p,error:d.Cost,touched:f.Cost}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:p,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:p,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:p,error:d.PONumber,touched:f.PONumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:p,error:d.PRNumber,touched:f.PRNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:p,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:p,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:p,error:d.RISNumber,touched:f.RISNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:p,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const npe=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"SupplierID",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function ape(){const t=ce(),{ppes:e,isLoading:r}=z(A=>A.ppes),{Add:n,Edit:a,Delete:s,Print:i}=we(64),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null);w.useEffect(()=>{t(Sc())},[t]);const p=()=>{m(null),c(!0)},g=()=>{d(!0)},y=()=>{},b=()=>{d(!1)},h=A=>{m(A),c(!0)},x=async A=>{try{await t(jy(A.ID)).unwrap(),V.success("PPE entry deleted successfully"),t(Sc())}catch(k){console.error("Failed to delete PPE entry:",k),V.error("Failed to delete PPE entry. Please try again.")}},v=()=>{c(!1),m(null)},C=npe.map(A=>A.key==="CategoryID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(k,T)=>{var E;return((E=T==null?void 0:T.Category)==null?void 0:E.Name)||"N/A"}}:A.key==="SupplierID"?{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900",render:(k,T)=>{var E;return((E=T==null?void 0:T.Supplier)==null?void 0:E.Name)||"N/A"}}:{key:A.key,header:A.header,sortable:!0,className:"text-neutral-900"}),j=[a&&{icon:ke,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:x,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-danger-50"}],N=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],S=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[n&&o.jsxs("button",{type:"button",onClick:p,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),i&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(am,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),i&&o.jsxs("button",{type:"button",className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(am,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:j,loading:r})}),o.jsx(ie,{isOpen:l,onClose:v,title:f?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(rpe,{initialData:f,onClose:v})}),o.jsx(ie,{isOpen:u,onClose:b,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(I,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:S,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(I,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:N,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:b,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:y,className:"btn btn-primary",children:"Print"})]})]})})]})}function spe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:_().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function ope(){const t=ce(),{ppeCategories:e,isLoading:r}=z(j=>j.ppeCategories),{Add:n,Edit:a,Delete:s}=we(95),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Nc())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(gy(m.ID)).unwrap(),f(!1),p(null),V.success("PPE category deleted successfully")}catch(j){console.error("Failed to delete PPE category:",j),V.error("Failed to delete PPE category. Please try again.")}},x=async j=>{try{c?(await t(LA({...j,ID:c.ID})).unwrap(),V.success("PPE category updated successfully")):(await t(hy(j)).unwrap(),V.success("PPE category saved successfully")),t(Nc())}catch(N){console.error("Failed to save PPE category:",N),V.error("Failed to save PPE category. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Category":"Add PPE Category",children:o.jsx(spe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function ipe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:_().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function lpe(){const t=ce(),{ppeSuppliers:e,isLoading:r}=z(j=>j.ppeSuppliers),{Add:n,Edit:a,Delete:s}=we(96),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Cc())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(by(m.ID)).unwrap(),f(!1),p(null),V.success("PPE supplier deleted successfully")}catch(j){console.error("Failed to delete PPE supplier:",j),V.error("Failed to delete PPE supplier. Please try again.")}},x=async j=>{try{c?(await t(FA({...j,ID:c.ID})).unwrap(),V.success("PPE supplier updated successfully")):(await t(yy(j)).unwrap(),V.success("PPE supplier saved successfully")),t(Cc())}catch(N){console.error("Failed to save PPE supplier:",N),V.error("Failed to save PPE supplier. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(ipe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const kj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",cpe=[],Ac=q("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${kj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),wy=q("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${kj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),BA=q("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${kj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ny=q("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${kj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),upe=ve({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ac.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ac.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Ac.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=cpe}).addCase(wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(BA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(BA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(Ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),dpe=upe.reducer,fpe=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],mpe=le().shape({});function ppe({initialData:t,onClose:e,onSubmit:r}){const[n,a]=w.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=ce(),{documentDetails:i}=z(y=>y.documentDetails),{positions:l}=z(y=>y.positions),{employees:c}=z(y=>y.employees);w.useEffect(()=>{s(Ac()),s(Qi()),s(dn())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=w.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},p=y=>{const b=[...d];b.splice(y,1),f(b)},g=(y,b)=>{const h=[...d];h[y]=b,f(h)};return o.jsx(Le,{initialValues:u,validationSchema:mpe,onSubmit:(y,{setSubmitting:b})=>{if(!y.DocumentTypeID||y.SequenceLevel===""||n===""||d.length===0||d.some(v=>!v.value)||d.some(v=>!v.type)||d.some(v=>!v.amountFrom)||d.some(v=>!v.amountTo)){V.error("Please Select All Required Fields"),b(!1);return}const h=d.map(v=>({PositionorEmployee:v.type,PositionorEmployeeID:v.value,AmountFrom:v.amountFrom,AmountTo:v.amountTo})),x={...y,AllorMajority:n,approvers:h};r(x),b(!1)},enableReinitialize:!0,children:({values:y,errors:b,touched:h,handleChange:x,handleBlur:v,setFieldValue:C,isSubmitting:j})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:y.DocumentTypeID,onChange:x,onBlur:v,error:b.DocumentTypeID,touched:h.DocumentTypeID,options:i.map(N=>({value:N.ID,label:N.Name}))}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:y.SequenceLevel,onChange:x,onBlur:v,error:b.SequenceLevel,touched:h.SequenceLevel,options:fpe}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:y.NumberofApprover||"",onChange:x,onBlur:v,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(N,S)=>o.jsx("option",{value:S+1,children:S+1},S+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((N,S)=>{var A,k,T;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Position",checked:N.type==="Position",onChange:()=>g(S,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Employee",checked:N.type==="Employee",onChange:()=>g(S,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded pr-8",value:N.value,onChange:E=>g(S,{...N,value:E.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(N.type==="Position"?l:c).map(E=>o.jsx("option",{value:E.ID,children:N.type==="Position"?E.Name:`${E.FirstName} ${E.MiddleName} ${E.LastName}`},E.ID))]}),((A=N.errors)==null?void 0:A.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>p(S),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Me,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:N.amountFrom,onChange:E=>g(S,{...N,amountFrom:E.target.value})}),((k=N.errors)==null?void 0:k.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:N.amountTo,onChange:E=>g(S,{...N,amountTo:E.target.value})}),((T=N.errors)==null?void 0:T.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:N.errors.amountTo})]})]})]}),S<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},S)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:j,children:"Save"})]})]})})}const Tj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",hpe=[],gpe={approvalMatrix:hpe,matrix:null,isLoading:!1,error:null},of=q("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Tj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Cy=q("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Tj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Sy=q("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Tj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ay=q("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${Tj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),uV=ve({name:"approvalMatrix",initialState:gpe,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(of.pending,e=>{e.isLoading=!0}).addCase(of.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(of.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cy.pending,e=>{e.isLoading=!0}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sy.pending,e=>{e.isLoading=!0}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ay.pending,e=>{e.isLoading=!0}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:e8e,resetMatrixState:t8e}=uV.actions,ype=uV.reducer;function bpe(){const t=ce(),{approvalMatrix:e,isLoading:r,error:n}=z(N=>N.approvalMatrix),{Add:a,Edit:s,Delete:i}=we(17),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,g]=w.useState(null);w.useEffect(()=>{t(of())},[t]);const y=()=>{d(null),c(!0)},b=N=>{var T;const S=((T=N.Approvers)==null?void 0:T.map(E=>({type:E.PositionorEmployee,value:E.PositionorEmployeeID,amountFrom:Number(E.AmountFrom),amountTo:Number(E.AmountTo)})))||[],{Approvers:A,...k}=N;d({...k,approvers:S}),c(!0)},h=N=>{g(N),m(!0)},x=async()=>{if(p)try{await t(Ay(p.ID)).unwrap(),m(!1),g(null),V.success("Approval matrix deleted successfully")}catch(N){console.error("Failed to delete approval matrix:",N),V.error("Failed to delete approval matrix. Please try again.")}},v=async N=>{try{u?(await t(Sy({...N,ID:u.ID})).unwrap(),V.success("Approval matrix updated successfully")):(await t(Cy(N)).unwrap(),V.success("Approval matrix saved successfully")),t(of()),c(!1)}catch(S){console.error("Failed to submit approval matrix:",S),V.error("Failed to submit approval matrix. Please try again.")}},C=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],j=[s&&{icon:ke,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},i&&{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),a&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:j,loading:r})}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n}),o.jsx(ie,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(ppe,{initialData:u,onClose:()=>c(!1),onSubmit:v})}),o.jsxs(ie,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ej="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",xpe=[],vpe={banks:xpe,bank:null,isLoading:!1,error:null},tl=q("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ej}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Iy=q("banks/addBank",async(t,e)=>{try{const r=await fetch(`${Ej}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ky=q("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${Ej}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ty=q("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${Ej}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),dV=ve({name:"banks",initialState:vpe,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(tl.pending,e=>{e.isLoading=!0}).addCase(tl.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(tl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Iy.pending,e=>{e.isLoading=!0}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ky.pending,e=>{e.isLoading=!0}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ty.pending,e=>{e.isLoading=!0}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:r8e,resetBankState:n8e}=dV.actions,jpe=dV.reducer,wpe=le().shape({BranchCode:_().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:_().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:_().required("Name is required").max(100,"Name must be at most 100 characters"),Address:_().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:_().required("Account number is required"),SwiftCode:_().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:_().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:K().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:_().required("Currency is required")});function Npe({initialData:t,onClose:e}){const r=ce(),[n,a]=w.useState(!1),{currencies:s}=z(c=>c.currencies),i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?ky({...u,ID:t.ID}):Iy(u);r(d).unwrap().then(()=>{e(),V.success("Bank submitted successfully")}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1),r(tl())})};return o.jsx(Le,{initialValues:i,validationSchema:wpe,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,setFieldValue:p})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:d.BranchCode&&u.BranchCode,touched:d.BranchCode}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:d.Branch&&u.Branch,touched:d.Branch}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:d.Name&&u.Name,touched:d.Name})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:d.Address&&u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:d.AccountNumber&&u.AccountNumber,touched:d.AccountNumber}),o.jsx(I,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:d.SwiftCode&&u.SwiftCode,touched:d.SwiftCode}),o.jsx(I,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:d.IBAN&&u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:d.Balance&&u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(I,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:d.CurrencyID&&u.CurrencyID,touched:d.CurrencyID,options:s.map(g=>({value:g.ID,label:g.Code+" - "+g.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const Cpe=()=>{const t=ce(),{banks:e=[],isLoading:r}=z(j=>j.banks),[n,a]=w.useState(!1),[s,i]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(null),{Add:f,Edit:m,Delete:p}=we(18);w.useEffect(()=>{t(tl())},[]);const g=()=>{i(null),a(!0)},y=j=>{i(j),a(!0)},b=()=>{a(!1),i(null)},h=j=>{d(j),c(!0)},x=async()=>{if(u)try{await t(Ty(u.ID)).unwrap(),V.success("Bank deleted successfully")}catch(j){V.error(j.message||"Failed to delete bank")}finally{c(!1),d(null),t(tl())}},v=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:j=>(j==null?void 0:j.Code)||"N/A"}],C=[m&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},p&&{icon:Me,title:"Delete",onClick:h,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),f&&o.jsxs("button",{onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(ie,{isOpen:n,onClose:b,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(Npe,{initialData:s,onClose:b})}),o.jsxs(ie,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})},Spe=(t=[],e=null)=>le({Name:_().required("Name is required").test("unique-name","Name already exists",function(r){return r?!t.some(a=>a.Name.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Code:_().required("Code is required").test("unique-code","Code already exists",function(r){return r?!t.some(a=>a.Code.trim().toLowerCase()===r.trim().toLowerCase()&&(!e||a.ID!==e.ID)):!0}),Prefix:_(),Suffix:_().required("Suffix is required"),StartNumber:K().required("Start number is required").integer("Start number must be an integer").min(1,"Start number must be at least 1"),CurrentNumber:K().required("Current number is required").integer("Current number must be an integer").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:_().required("Document type category is required")}),Ape=({document:t,documentList:e=[],onClose:r,documentTypeCategoryOptions:n=[]})=>{const a=ce(),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?(await a(BA({...l,ID:t.ID})).unwrap(),V.success("Document detail updated successfully")):(await a(wy(l)).unwrap(),V.success("Document detail added successfully")),a(Ac())}catch(u){console.error("Failed to save document details:",u),V.error("Failed to save document details. Please try again.")}finally{c(!1),r()}};return o.jsx(Le,{initialValues:s,validationSchema:Spe(e,t),onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:p})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(I,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Prefix",name:"Prefix",type:"text",value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(I,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(I,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(I,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:n})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":t?"Update":"Create"})]})]})})},Pj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Ipe=[],Ic=q("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Pj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ey=q("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${Pj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),qA=q("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${Pj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Py=q("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${Pj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),kpe=ve({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ic.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ic.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Ic.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=Ipe}).addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(qA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),Tpe=kpe.reducer,Epe=()=>{const t=ce(),{documentDetails:e,isLoading:r}=z(N=>N.documentDetails),{Add:n,Edit:a,Delete:s}=we(41),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null),{documentTypeCategories:g}=z(N=>N.documentTypeCategories),y=g.map(N=>({value:N.ID,label:N.Name}));w.useEffect(()=>{t(Ac()),t(Ic())},[t]);const b=()=>{u(null),l(!0)},h=N=>{u(N),l(!0)},x=N=>{p(N),f(!0)},v=async()=>{if(m)try{await t(Ny(m.ID)).unwrap(),f(!1),p(null),V.success("Document detail deleted successfully")}catch(N){console.error("Failed to delete document detail:",N),V.error("Failed to delete document detail. Please try again.")}},C=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],j=N=>{const S=[a&&{icon:ke,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return N.ID>32&&s&&S.push({icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),S};return o.jsxs("div",{className:"container mx-auto ",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),n&&o.jsxs("button",{onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(ye,{columns:C,data:e,actions:j,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(Ape,{document:c,documentList:e,onClose:()=>l(!1),documentTypeCategoryOptions:y})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:m==null?void 0:m.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline cursor-pointer",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})};function Ppe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:_().trim().required("Name is required").min(1,"Name cannot be empty or just spaces")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Dpe(){const t=ce(),{documentTypeCategories:e,isLoading:r}=z(j=>j.documentTypeCategories),{Add:n,Edit:a,Delete:s}=we(42),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Ic())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(Py(m.ID)).unwrap(),f(!1),p(null),V.success("Document type category deleted successfully")}catch(j){console.error("Failed to delete document type category:",j),V.error("Failed to delete document type category. Please try again.")}},x=async j=>{try{c?(await t(qA({...j,ID:c.ID})).unwrap(),V.success("Document type category updated successfully")):(await t(Ey(j)).unwrap(),V.success("Document type category added successfully")),t(Ic())}catch(N){console.error("Failed to save document type category:",N),V.error("Failed to save document type category. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],C=j=>{const N=[];return a&&N.push({icon:ke,title:"Edit",onClick:()=>y(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),s&&j.ID>1&&N.push({icon:Me,title:"Delete",onClick:()=>b(j),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),N};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Document Type Category":"Add Document Type Category",children:o.jsx(Ppe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const Dj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Ope=[],Ua=q("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Dy=q("items/addItem",async(t,e)=>{try{const r=await fetch(`${Dj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),VA=q("items/updateItem",async(t,e)=>{try{const r=await fetch(`${Dj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Oy=q("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${Dj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_pe=ve({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ua.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ua.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(Ua.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=Ope}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(VA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(VA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),$pe=_pe.reducer,Oj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Rpe=[],xa=q("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Oj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_y=q("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${Oj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),UA=q("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${Oj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$y=q("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${Oj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mpe=ve({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(xa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xa.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(xa.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=Rpe}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(UA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(UA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase($y.pending,e=>{e.isLoading=!0,e.error=null}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),Lpe=Mpe.reducer,Fpe=({item:t,onClose:e})=>{var d;const r=ce(),{accounts:n}=z(f=>f.chartOfAccounts),{itemUnits:a}=z(f=>f.itemUnits),{taxCodes:s}=z(f=>f.taxCodes);w.useEffect(()=>{r(xa()),r(Zn()),r(kr())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=le({Code:_().required("Code is required"),Name:_().required("Name is required"),ChargeAccountID:_().required("Charge Account is required"),UnitID:_().required("Unit is required"),TAXCodeID:_().required("Tax Code is required"),PurchaseOrSales:_().required("Type is required"),TaxRate:K().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:K().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Os().required("Vatable is required")});console.log({item:t});const c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:((d=t==null?void 0:t.TaxCode)==null?void 0:d.Rate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(f,{setSubmitting:m})=>{try{t?(await r(VA({...f,ID:t.ID})).unwrap(),V.success("Item updated successfully.")):(await r(Dy(f)).unwrap(),V.success("Item added successfully.")),r(Ua())}catch(p){console.error("Failed to save item:",p),V.error("Failed to save item. Please try again.")}finally{m(!1),e()}};return o.jsx(Le,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:f,errors:m,touched:p,handleChange:g,handleBlur:y,isSubmitting:b,setFieldValue:h})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",required:!0,value:f.Code,onChange:g,onBlur:y,error:m.Code,touched:p.Code,placeholder:"Enter item code"}),o.jsx(I,{label:"Name",name:"Name",type:"text",required:!0,value:f.Name,onChange:g,onBlur:y,error:m.Name,touched:p.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:f.ChargeAccountID,onChange:g,onBlur:y,error:m.ChargeAccountID,touched:p.ChargeAccountID,options:n.map(x=>({value:x.ID,label:x.Name}))}),o.jsx(I,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:f.PurchaseOrSales,onChange:g,onBlur:y,error:m.PurchaseOrSales,touched:p.PurchaseOrSales,options:i}),o.jsx(I,{label:"Unit",name:"UnitID",type:"select",required:!0,value:f.UnitID,onChange:g,onBlur:y,error:m.UnitID,touched:p.UnitID,options:a.map(x=>({value:x.ID,label:x.Code+" - "+x.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:f.TAXCodeID,onChange:x=>{const v=x.target.value;g(x);const C=s.find(j=>j.ID===Number(v));C?h("TaxRate",C.Rate):h("TaxRate","")},onBlur:y,error:m.TAXCodeID,touched:p.TAXCodeID,options:s.map(x=>({value:x.ID,label:x.Code}))}),o.jsx(I,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:f.TaxRate,onChange:g,onBlur:y,error:m.TaxRate,touched:p.TaxRate,readOnly:!0,className:"bg-gray-200 cursor-not-allowed"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"EWT",name:"EWT",type:"number",required:!0,value:f.EWT,onChange:g,onBlur:y,error:m.EWT,touched:p.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(I,{label:"Vatable",name:"Vatable",type:"checkbox",checked:f.Vatable,onChange:g,onBlur:y,error:m.Vatable,touched:p.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":t?"Update":"Create"})]})]})})},Bpe=()=>{const t=ce(),{items:e,isLoading:r}=z(k=>k.items),{itemUnits:n,isLoading:a}=z(k=>k.itemUnits),{taxCodes:s,isLoading:i}=z(k=>k.taxCodes),{Add:l,Edit:c,Delete:u}=we(55),[d,f]=w.useState(!1),[m,p]=w.useState(null),[g,y]=w.useState(!1),[b,h]=w.useState(null);w.useEffect(()=>{t(Ua()),t(xa()),t(Zn())},[t]);const x=()=>{p(null),f(!0)},v=k=>{p(k),f(!0)},C=k=>{h(k),y(!0)},j=async()=>{if(b)try{await t(Oy(b.ID)).unwrap(),y(!1),h(null),V.success("Item deleted successfully")}catch(k){console.error("Failed to delete item:",k),V.error("Failed to delete item. Please try again.")}},N=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:k=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${k===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k?"Yes":"No"})}],S=e.map(k=>{var T,E;return{...k,unitName:((T=n==null?void 0:n.find($=>$.ID===k.UnitID))==null?void 0:T.Name)||"N/A",TAXCodeValue:((E=s==null?void 0:s.find($=>$.ID===k.TAXCodeID))==null?void 0:E.Code)||"N/A"}}),A=[c&&{icon:ke,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Me,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto",children:[o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),l&&o.jsxs("button",{onClick:x,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(ye,{columns:N,data:S,actions:A,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(ie,{isOpen:d,onClose:()=>f(!1),title:m?"Edit Item":"Add Item",size:"lg",children:o.jsx(Fpe,{item:m,onClose:()=>f(!1)})}),o.jsxs(ie,{isOpen:g,onClose:()=>y(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:b==null?void 0:b.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})};le().shape({MarriageServiceInvoice:_().required("Marriage Service Invoice account is required"),BurialServiceInvoice:_().required("Burial Service Invoice account is required"),DueFromLGU:_().required("Due From LGU account is required"),DueFromRate:K().required("Due From Rate is required"),DueToLGU:_().required("Due To LGU account is required"),DueToRate:K().required("Due To Rate is required"),RealPropertyTax:_().required("Real Property Tax account is required"),RealPropertyTaxRate:K().required("Real Property Tax Rate is required")});const fV="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",c1=q("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fV}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),qpe=q("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),Vpe=q("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${fV}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Upe=q("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),zpe={invoiceChargeAccounts:[],isLoading:!1,error:null},Wpe=ve({name:"invoiceChargeAccounts",initialState:zpe,reducers:{},extraReducers:t=>{t.addCase(c1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c1.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(c1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(qpe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(Vpe.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(Upe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),Hpe=Wpe.reducer;function Gpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:_().required("Code is required"),Name:_().required("Name is required")}),a=tt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ype(){const t=ce(),{itemUnits:e,isLoading:r}=z(j=>j.itemUnits),{Add:n,Edit:a,Delete:s}=we(56),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(xa())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t($y(m.ID)).unwrap(),f(!1),p(null),V.success("Item unit deleted successfully")}catch(j){console.error("Failed to delete item unit:",j),V.error("Failed to delete item unit. Please try again.")}},x=async j=>{try{c?(await t(UA({...j,ID:c.ID})).unwrap(),V.success("Item unit updated successfully")):(await t(_y(j)).unwrap(),V.success("Item unit added successfully")),t(xa())}catch(N){console.error("Failed to save item unit:",N),V.error("Failed to save item unit. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Item Unit":"Add Item Unit",children:o.jsx(Gpe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function Kpe({initialData:t,onSubmit:e,onClose:r}){const n=le({Type:_().required("Type is required"),Description:_().required("Description is required")});return o.jsx(Le,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const _j="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Jpe=[],kc=q("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_j}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ry=q("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${_j}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),zA=q("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${_j}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),My=q("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${_j}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Xpe=ve({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(kc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kc.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(kc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=Jpe}).addCase(Ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(zA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(My.pending,e=>{e.isLoading=!0,e.error=null}).addCase(My.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(My.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),Zpe=Xpe.reducer;function Qpe(){const t=ce(),{projectTypes:e,isLoading:r}=z(j=>j.projectTypes),{Add:n,Edit:a,Delete:s}=we(87),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(kc())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(My(m.ID)).unwrap(),f(!1),p(null),V.success("Project type deleted successfully.")}catch(j){console.error("Failed to delete project type:",j),V.error("Failed to delete project type. Please try again.")}},x=async j=>{try{c?(await t(zA({...j,ID:c.ID})).unwrap(),V.success("Project type updated successfully.")):(await t(Ry(j)).unwrap(),V.success("Project type added successfully.")),t(kc()),l(!1)}catch(N){console.error("Failed to save project type:",N),V.error("Failed to save project type. Please try again.")}},v=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Type":"Add Project Type",children:o.jsx(Kpe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',m==null?void 0:m.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function ehe({initialData:t,onSubmit:e,onClose:r}){const n=ce(),{projectTypes:a,loading:s}=z(c=>c.projectTypes);w.useEffect(()=>{n(kc())},[n]);const i=le({Title:_().required("Title is required"),ProjectTypeID:_().required("Project Type is required"),StartDate:Be().required("Start Date is required"),EndDate:Be().required("End Date is required"),Description:_().required("Description is required")}),l=tt({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(I,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(I,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const $j="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",the=[],za=q("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$j}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ly=q("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${$j}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),WA=q("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${$j}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fy=q("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${$j}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rhe=ve({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(za.pending,e=>{e.isLoading=!0,e.error=null}).addCase(za.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(za.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=the}).addCase(Ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(WA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(Fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),nhe=rhe.reducer;function ahe(){const t=ce(),{projectDetails:e,isLoading:r}=z(j=>j.projectDetails),{Add:n,Edit:a,Delete:s}=we(65),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(za())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(Fy(m.ID)).unwrap(),f(!1),p(null),V.success("Project detail deleted successfully.")}catch(j){console.error("Failed to delete project detail:",j),V.error("Failed to delete project detail. Please try again.")}},x=async j=>{try{c?(await t(WA({...j,ID:c.ID})).unwrap(),V.success("Project detail updated successfully.")):(await t(Ly(j)).unwrap(),V.success("Project detail added successfully.")),t(za())}catch(N){console.error("Failed to save project detail:",N),V.error("Failed to save project detail. Please try again.")}finally{l(!1)}},v=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0,render:(j,N)=>{var A;const S=(A=N==null?void 0:N.ProjectType)==null?void 0:A.Type;return o.jsx("span",{children:S||j||"N/A"})}},{key:"Description",header:"Description",sortable:!1}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(ehe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',m==null?void 0:m.Title,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function she({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:_().required("Code is required"),Name:_().required("Name is required")});return o.jsx(Le,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const Rj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",ohe=[],ihe={financialStatements:ohe,financialStatement:null,isLoading:!1,error:null},lf=q("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Rj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),By=q("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Rj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),qy=q("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Rj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vy=q("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${Rj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mV=ve({name:"financialStatements",initialState:ihe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(lf.pending,e=>{e.isLoading=!0}).addCase(lf.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(lf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(By.pending,e=>{e.isLoading=!0}).addCase(By.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(By.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(qy.pending,e=>{e.isLoading=!0}).addCase(qy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Vy.pending,e=>{e.isLoading=!0}).addCase(Vy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:a8e,resetFinancialStatementState:s8e}=mV.actions,lhe=mV.reducer;function che(){const t=ce(),{financialStatements:e,isLoading:r}=z(j=>j.financialStatements),{Add:n,Edit:a,Delete:s}=we(44),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(lf())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(Vy(m.ID)).unwrap(),f(!1),p(null),V.success("Financial statement deleted successfully.")}catch(j){console.error("Failed to delete financial statement:",j),V.error("Failed to delete financial statement. Please try again.")}},x=async j=>{try{c?(await t(qy({...j,ID:c.ID})).unwrap(),V.success("Financial statement updated successfully.")):(await t(By(j)).unwrap(),V.success("Financial statement added successfully.")),t(lf())}catch(N){console.error("Failed to save financial statement:",N),V.error("Failed to save financial statement. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(she,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function uhe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:_().required("Code is required"),Name:_().required("Name is required"),Year:K().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:_().required("Month Start is required"),MonthEnd:_().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx(Le,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(I,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(I,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(I,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const Mj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",dhe=[],fn=q("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Uy=q("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${Mj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),HA=q("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${Mj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zy=q("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${Mj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),fhe=ve({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(fn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fn.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(fn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=dhe}).addCase(Uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(Uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(HA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(HA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(zy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),mhe=fhe.reducer;function phe(){const t=ce(),{fiscalYears:e,isLoading:r}=z(j=>j.fiscalYears),{Add:n,Edit:a,Delete:s}=we(45),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(fn())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(zy(m.ID)).unwrap(),f(!1),p(null),V.success("Fiscal year deleted successfully.")}catch(j){console.error("Failed to delete fiscal year:",j),V.error("Failed to delete fiscal year. Please try again.")}},x=async j=>{try{c?(await t(HA({...j,id:c.ID})).unwrap(),V.success("Fiscal year updated successfully.")):(await t(Uy(j)).unwrap(),V.success("Fiscal year added successfully.")),t(fn())}catch(N){console.error("Failed to save fiscal year:",N),V.error("Failed to save fiscal year. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx(uhe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const hhe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function ghe({initialData:t,onSubmit:e,onClose:r}){const n=le({Type:_().required("Type is required"),Code:_().required("Code is required"),Name:_().required("Nature of Payment is required"),Rate:K().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx(Le,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(I,{label:"Type",name:"Type",type:"select",options:hhe,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(I,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(I,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function yhe(){const t=ce(),{taxCodes:e,isLoading:r}=z(j=>j.taxCodes),{Add:n,Edit:a,Delete:s}=we(78),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Zn())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(ey(m.ID)).unwrap(),f(!1),p(null),V.success("Tax code deleted successfully.")}catch(j){console.error("Failed to delete tax code:",j),V.error("Failed to delete tax code. Please try again.")}},x=async j=>{try{c?(await t(EA({...j,ID:c.ID})).unwrap(),V.success("Tax code updated successfully.")):(await t(Qg(j)).unwrap(),V.success("Tax code added successfully.")),t(Zn())}catch(N){console.error("Failed to save tax code:",N),V.error("Failed to save tax code. Please try again.")}finally{l(!1)}},v=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:j=>`${j} %`}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Tax Code":"Add Tax Code",children:o.jsx(ghe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',m==null?void 0:m.Code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function bhe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:_().required("Code is required"),Name:_().required("Name is required")}),a=tt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function xhe(){const t=ce(),{modeOfPayments:e,isLoading:r}=z(j=>j.modeOfPayments),{Add:n,Edit:a,Delete:s}=we(60),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Xi())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(ay(m.ID)).unwrap(),f(!1),p(null),V.success("Mode of payment deleted successfully.")}catch(j){V.error(j.message||"Failed to delete mode of payment."),console.error("Failed to delete mode of payment:",j)}},x=async j=>{try{c?(await t(DA({...j,ID:c.ID})).unwrap(),V.success("Mode of payment updated successfully.")):(await t(ny(j)).unwrap(),V.success("Mode of payment added successfully.")),t(Xi())}catch(N){console.error("Failed to save mode of payment:",N),V.error("Failed to save mode of payment. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(bhe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function vhe({initialData:t,onSubmit:e,onClose:r}){const n=le({Code:_().required("Code is required"),Name:_().required("Name is required"),NumberOfDays:K().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=tt({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(I,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function jhe(){const t=ce(),{paymentTerms:e,isLoading:r}=z(j=>j.paymentTerms),{Add:n,Edit:a,Delete:s}=we(63),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Ji())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(ry(m.ID)).unwrap(),f(!1),p(null),V.success("Payment term deleted successfully.")}catch(j){console.error("Failed to delete payment term:",j),V.error("Failed to delete payment term. Please try again.")}},x=async j=>{try{c?(await t(PA({...j,ID:c.ID})).unwrap(),V.success("Payment term updated successfully.")):(await t(ty(j)).unwrap(),V.success("Payment term added successfully.")),t(Ji())}catch(N){console.error("Failed to save payment term:",N),V.error("Failed to save payment term. Please try again.")}finally{l(!1)}},v=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Payment Term":"Add Payment Term",children:o.jsx(vhe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}function whe({initialData:t,onSubmit:e,onClose:r}){const n=le({Name:_().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Nhe(){const t=ce(),{industries:e,isLoading:r}=z(j=>j.industries),{Add:n,Edit:a,Delete:s}=we(53),[i,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(Ki())},[t]);const g=()=>{u(null),l(!0)},y=j=>{u(j),l(!0)},b=j=>{p(j),f(!0)},h=async()=>{if(m)try{await t(Zg(m.ID)).unwrap(),f(!1),p(null),V.success("Industry deleted successfully.")}catch(j){console.error("Failed to delete industry:",j),V.error("Failed to delete industry. Please try again.")}},x=async j=>{try{c?(await t(TA({...j,ID:c.ID})).unwrap(),V.success("Industry updated successfully.")):(await t(Xg(j)).unwrap(),V.success("Industry added successfully.")),t(Ki())}catch(N){console.error("Failed to save industry:",N),V.error("Failed to save industry. Please try again.")}finally{l(!1)}},v=[{key:"Name",header:"Name",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,data:e,actions:C,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:c?"Edit Industry":"Add Industry",children:o.jsx(whe,{initialData:c,onClose:()=>l(!1),onSubmit:x})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const Che=["Afghan","Albanian","Algerian","Andorran","Angolan","Argentine","Armenian","Australian","Austrian","Azerbaijani","Bahamian","Bahraini","Bangladeshi","Barbadian","Belarusian","Belgian","Belizean","Beninese","Bhutanese","Bolivian","Bosnian","Botswanan","Brazilian","British","Bruneian","Bulgarian","Burkinabe","Burundian","Cambodian","Cameroonian","Canadian","Cape Verdean","Central African","Chadian","Chilean","Chinese","Colombian","Comorian","Congolese","Costa Rican","Croatian","Cuban","Cypriot","Czech","Danish","Djiboutian","Dominican","Dutch","Ecuadorian","Egyptian","Emirati","Eritrean","Estonian","Ethiopian","Fijian","Filipino","Finnish","French","Gabonese","Gambian","Georgian","German","Ghanaian","Greek","Grenadian","Guatemalan","Guinean","Guyanese","Haitian","Honduran","Hungarian","Icelandic","Indian","Indonesian","Iranian","Iraqi","Irish","Israeli","Italian","Ivorian","Jamaican","Japanese","Jordanian","Kazakhstani","Kenyan","Kuwaiti","Kyrgyzstani","Laotian","Latvian","Lebanese","Lesothoan","Liberian","Libyan","Lithuanian","Luxembourgish","Macedonian","Malagasy","Malawian","Malaysian","Maldivian","Malian","Maltese","Mauritanian","Mauritian","Mexican","Moldovan","Monacan","Mongolian","Montenegrin","Moroccan","Mozambican","Namibian","Nepalese","Nigerian","Nicaraguan","North Korean","Norwegian","Omani","Pakistani","Palestinian","Panamanian","Paraguayan","Peruvian","Polish","Portuguese","Qatari","Romanian","Russian","Rwandan","Salvadoran","Samoan","Saudi Arabian","Senegalese","Serbian","Seychellois","Sierra Leonean","Singaporean","Slovak","Slovenian","Somali","South African","South Korean","Spanish","Sri Lankan","Sudanese","Surinamese","Swazi","Swedish","Swiss","Syrian","Taiwanese","Tajikistani","Tanzanian","Thai","Togolese","Tongan","Trinidadian/Tobagonian","Tunisian","Turkish","Turkmen","Tuvaluan","Ugandan","Ukrainian","Uruguayan","Uzbekistani","Venezuelan","Vietnamese","Yemenite","Zambian","Zimbabwean"],She=Che.map(t=>({value:t,label:t}));function Ahe({initialData:t,onSubmit:e,onClose:r}){const n=ce();w.useEffect(()=>{n(Eo()),n(Po()),n(Do()),n(Oo())},[n]);const{regions:a}=z(x=>x.regions),{provinces:s}=z(x=>x.provinces),{municipalities:i}=z(x=>x.municipalities),{barangays:l}=z(x=>x.barangays),c=le({FirstName:_().required("First Name is required"),MiddleName:_(),LastName:_().required("Last Name is required"),Gender:_().required("Gender is required"),Citizenship:_().required("Citizenship is required"),DateOfBirth:Be().required("Date of Birth is required"),PlaceOfBirth:_().required("Place of Birth is required"),Occupation:_().required("Occupation is required"),CivilStatus:_().required("Civil Status is required"),TIN:_().matches(/^\d{14}$/,"TIN must be exactly 14 digits"),EmailAddress:_().email(),RegionID:_().required("Region is required"),ProvinceID:_().required("Province is required"),MunicipalityID:_().required("Municipality is required"),BarangayID:_().required("Barangay is required"),ZIPCode:_().required("ZIP Code is required"),StreetAddress:_().required("Street Address is required")}),u=tt({initialValues:{FirstName:(t==null?void 0:t.FirstName)||"",MiddleName:(t==null?void 0:t.MiddleName)||"",LastName:(t==null?void 0:t.LastName)||"",Gender:(t==null?void 0:t.Gender)||"",Citizenship:(t==null?void 0:t.Citizenship)||"",DateOfBirth:(t==null?void 0:t.Birthdate)||"",PlaceOfBirth:(t==null?void 0:t.PlaceofBirth)||"",Occupation:(t==null?void 0:t.Occupation)||"",CivilStatus:(t==null?void 0:t.CivilStatus)||"",TIN:(t==null?void 0:t.TIN)||"",EmailAddress:(t==null?void 0:t.EmailAddress)||"",RegionID:(t==null?void 0:t.RegionID)||"",ProvinceID:(t==null?void 0:t.ProvinceID)||"",MunicipalityID:(t==null?void 0:t.MunicipalityID)||"",BarangayID:(t==null?void 0:t.BarangayID)||"",ZIPCode:(t==null?void 0:t.ZIPCode)||"",StreetAddress:(t==null?void 0:t.StreetAddress)||""},validationSchema:c,onSubmit:x=>e(x)}),{values:d,handleChange:f,handleBlur:m,errors:p,touched:g,setFieldValue:y,handleSubmit:b,submitCount:h}=u;return w.useEffect(()=>{const x=l.find(v=>v.ID.toString()===d.BarangayID);x&&(x.MunicipalityCode&&y("MunicipalityID",x.MunicipalityCode),x.ProvinceCode&&y("ProvinceID",x.ProvinceCode),x.RegionCode&&y("RegionID",x.RegionCode))},[d.BarangayID]),w.useEffect(()=>{const x=i.find(v=>v.ID.toString()===d.MunicipalityID);x&&(x.ProvinceCode&&y("ProvinceID",x.ProvinceCode),x.RegionCode&&y("RegionID",x.RegionCode))},[d.MunicipalityID]),w.useEffect(()=>{const x=s.find(v=>v.ID.toString()===d.ProvinceID);x&&x.RegionCode&&y("RegionID",x.RegionCode)},[d.ProvinceID]),console.log("values",p),o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:g.FirstName&&p.FirstName,touched:g.FirstName,required:!0}),o.jsx(I,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:p.MiddleName&&g.MiddleName,touched:g.MiddleName}),o.jsx(I,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:g.LastName&&p.LastName,touched:g.LastName,required:!0}),o.jsx(I,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:g.Gender&&p.Gender,touched:g.Gender,required:!0}),o.jsx(ut,{label:"Citizenship",name:"Citizenship",type:"select",required:!0,selectedValue:d.Citizenship,onSelect:x=>{y("Citizenship",x)},options:She,error:p.Citizenship&&p.Citizenship,touched:g.Citizenship}),o.jsx(I,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:g.DateOfBirth&&p.DateOfBirth,touched:g.DateOfBirth,required:!0}),o.jsx(I,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:g.PlaceOfBirth&&p.PlaceOfBirth,touched:g.PlaceOfBirth,required:!0}),o.jsx(I,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:g.Occupation&&p.Occupation,touched:g.Occupation,required:!0}),o.jsx(I,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:g.CivilStatus&&p.CivilStatus,touched:g.CivilStatus,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:g.TIN&&p.TIN,touched:g.TIN}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:g.EmailAddress&&p.EmailAddress,touched:g.EmailAddress}),o.jsx(I,{label:"Region",name:"RegionID",type:"select",options:a.map(x=>({value:x.ID,label:x.Name})),value:d.RegionID,onChange:f,onBlur:m,error:g.RegionID&&p.RegionID,touched:g.RegionID,required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",options:s.map(x=>({value:x.ID,label:x.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:g.ProvinceID&&p.ProvinceID,touched:g.ProvinceID,required:!0}),o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(x=>({value:x.ID,label:x.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:g.MunicipalityID&&p.MunicipalityID,touched:g.MunicipalityID,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(x=>({value:x.ID,label:x.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:g.BarangayID&&p.BarangayID,touched:g.BarangayID,required:!0}),o.jsx(I,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:g.ZIPCode&&p.ZIPCode,touched:g.ZIPCode,required:!0}),o.jsx(I,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:g.StreetAddress&&p.StreetAddress,touched:g.StreetAddress,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:t?"Update":"Save"})]}),h>0&&Object.keys(p).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(p).map(([x,v])=>o.jsx("li",{children:v},x))})]})]})}const Lj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Ihe=[],mn=q("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Wy=q("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${Lj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),GA=q("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${Lj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hy=q("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${Lj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),khe=ve({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(mn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mn.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(mn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=Ihe}).addCase(Wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(Wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(GA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(GA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(Hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(Hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),The=khe.reducer;function Ehe(){const t=ce(),{customers:e,isLoading:r}=z(k=>k.customers),{industries:n}=z(k=>k.industries),{taxCodes:a}=z(k=>k.taxCodes),{paymentTerms:s}=z(k=>k.paymentTerms),{modeOfPayments:i}=z(k=>k.modeOfPayments),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),[p,g]=w.useState(null),{Add:y,Edit:b,Delete:h}=we(38);w.useEffect(()=>{t(mn()),t(Ki()),t(Zn()),t(Ji()),t(Xi())},[t]);const x=()=>{d(null),c(!0)},v=k=>{d(k),c(!0)},C=k=>{console.log("Delete customer:",k),g(k),m(!0)},j=async()=>{if(p)try{await t(Hy(p.ID)).unwrap(),m(!1),g(null),V.success("Customer deleted successfully")}catch(k){console.error("Failed to delete Individual/Citizen:",k),V.error(k.message||"Failed to delete Individual/Citizen. Please try again.")}},N=async k=>{try{u?(await t(GA({...k,ID:u.ID})).unwrap(),V.success("Customer updated successfully")):(await t(Wy(k)).unwrap(),V.success("Customer added successfully")),t(mn())}catch(T){console.error("Failed to save Individual/Citizen:",T),V.error(T.message||"Failed to save Individual/Citizen")}finally{d(null),c(!1)}},S=[{key:"Name",header:"Name",sortable:!0,render:(k,T)=>k||T.FirstName+" "+T.MiddleName+" "+T.LastName||"N/A"},{key:"TIN",header:"TIN",sortable:!0,render:k=>k||"N/A"},{key:"ZIPCode",header:"ZIP Code",sortable:!0,render:k=>k||"N/A"},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0,render:k=>k||"N/A"},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0,render:k=>k||"N/A"},{key:"Gender",header:"Gender",sortable:!0,render:k=>k||"N/A"},{key:"StreetAddress",header:"Address",sortable:!0,render:k=>k||"N/A"},{key:"Citizenship",header:"Citizenship",sortable:!0,render:k=>k||"N/A"},{key:"Occupation",header:"Occupation",sortable:!0,render:k=>k||"N/A"}],A=[b&&{icon:ke,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},h&&{icon:Me,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens here"})]}),y&&o.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:e,actions:A,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(ie,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(Ahe,{initialData:u,onClose:()=>c(!1),onSubmit:N})}),o.jsxs(ie,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete the individual/citizen?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}const Phe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},Dhe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function St({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:Re("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",Phe[e],Dhe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function Ohe({initialData:t,onSubmit:e,onClose:r}){var x;const n=ce(),{customers:a}=z(v=>v.customers);w.useEffect(()=>{n(mn())},[n]);const s=tt({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:le({T_D_No:K().required("TD No. is required"),PropertyID:K().required("Property ID is required"),OwnerID:K().required("Owner ID is required"),OwnerTIN:_().required("Owner TIN is required"),OwnerTelephoneNumber:_().required("Owner Telephone Number is required"),OwnerAddress:_().required("Owner Address is required"),BeneficialorAdminUserID:K().required("Beneficialor Admin User ID is required"),BeneficialorAdminTIN:_().required("Beneficialor Admin TIN is required"),BeneficialorAdminAddress:_().required("Beneficialor Admin Address is required"),BeneficialorAdminTelephoneNumber:_().required("Beneficialor Admin Telephone Number is required"),OCT_TCT_CLOA_Number:_().required("OCT TCT CLOA Number is required"),SurveyNumber:_().required("Survey Number is required"),LotNumber:_().required("Lot Number is required"),CCT:_().required("CCT is required"),BlockNumber:_().required("Block Number is required"),Dated:_().required("Dated is required"),North:_().required("North is required"),South:_().required("South is required"),East:_().required("East is required"),West:_().required("West is required"),Taxable:Os(),CancelTDNumber:_().required("Cancel TD Number is required"),Effectivity:_().required("Effectivity is required"),OwnerPrevious:_().required("Owner Previous is required"),PreviousAssessedValue:K().required("Previous Assessed Value is required"),KindofProperty:_().required("Kind of Property is required"),Storeys:_().required("Number of Storeys is required"),Description:_().required("Description is required"),kind:_().required("Kind is required"),ActualUse:_().required("Actual Use is required"),Classification:_().required("Classification is required"),AreaSize:_().required("Area Size is required"),AssessmentLevel:_().required("Assessment Level is required"),MarketValue:_().required("Market Value is required"),AmountInWords:_().required("Amount in Words is required"),Memoranda:_().required("Memoranda is required"),assessmentRows:Vt().of(le().shape({Kind:_().required("Kind is required"),Classification:_().required("Classification is required"),Area:_().required("Area is required"),MarketValue:_().required("Market Value is required"),ActualUse:_().required("Actual Use is required"),AssessmentLevel:_().required("Assessment Level is required"),AssessmentValue:_().required("Assessment Value is required")}))}),onSubmit:v=>{e({...v,assessmentRows:i})}}),[i,l]=w.useState(()=>{var v;return(v=t==null?void 0:t.AssessmentRows)!=null&&v.length?t.AssessmentRows.map(C=>({...C})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:p,isSubmitting:g}=s,y=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},b=v=>{if(i.length===1)return;const C=[...i];C.splice(v,1),l(C)},h=(v,C,j)=>{const N=[...i];N[v][C]=j,l(N)};return console.log(f),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:m.T_D_No&&f.T_D_No,touched:m.T_D_No}),o.jsx(I,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:m.PropertyID&&f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"Owner",name:"OwnerID",type:"select",required:!0,options:a.map(v=>({value:v.ID,label:v.Name||`${v.FirstName} (${v.MiddleName} ${v.LastName})`})),value:c.OwnerID,onChange:u,onBlur:d,error:m.OwnerID&&f.OwnerID,touched:m.OwnerID}),o.jsx(I,{label:"TIN",name:"OwnerTIN",type:"number",required:!0,value:c.OwnerTIN,onChange:u,onBlur:d,error:m.OwnerTIN&&f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(I,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",required:!0,value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:m.OwnerTelephoneNumber&&f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(I,{label:"Address",name:"OwnerAddress",type:"text",required:!0,value:c.OwnerAddress,onChange:u,onBlur:d,error:m.OwnerAddress&&f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"Beneficial/Administrator User",options:a.map(v=>({value:v.ID,label:v.Name||`${v.FirstName} (${v.MiddleName} ${v.LastName})`})),name:"BeneficialorAdminUserID",type:"select",required:!0,value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:m.BeneficialorAdminUserID&&f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(I,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",required:!0,value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:m.BeneficialorAdminTIN&&f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(I,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",required:!0,value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:m.BeneficialorAdminTelephoneNumber&&f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(I,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",required:!0,value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:m.BeneficialorAdminAddress&&f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(I,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",required:!0,value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:m.OCT_TCT_CLOA_Number&&f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(I,{label:"Survey No.",name:"SurveyNumber",type:"number",required:!0,value:c.SurveyNumber,onChange:u,onBlur:d,error:m.SurveyNumber&&f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(I,{label:"Lot No.",name:"LotNumber",type:"text",required:!0,value:c.LotNumber,onChange:u,onBlur:d,error:m.LotNumber&&f.LotNumber,touched:m.LotNumber}),o.jsx(I,{label:"CCT",name:"CCT",type:"text",required:!0,value:c.CCT,onChange:u,onBlur:d,error:m.CCT&&f.CCT,touched:m.CCT}),o.jsx(I,{label:"Block No.",name:"BlockNumber",type:"text",required:!0,value:c.BlockNumber,onChange:u,onBlur:d,error:m.BlockNumber&&f.BlockNumber,touched:m.BlockNumber}),o.jsx(I,{label:"Dated",name:"Dated",type:"date",required:!0,value:c.Dated,onChange:u,onBlur:d,error:m.Dated&&f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"North",name:"North",type:"text",required:!0,value:c.North,onChange:u,onBlur:d,error:m.North&&f.North,touched:m.North}),o.jsx(I,{label:"South",name:"South",type:"text",required:!0,value:c.South,onChange:u,onBlur:d,error:m.South&&f.South,touched:m.South}),o.jsx(I,{label:"East",name:"East",type:"text",required:!0,value:c.East,onChange:u,onBlur:d,error:m.East&&f.East,touched:m.East}),o.jsx(I,{label:"West",name:"West",type:"text",required:!0,value:c.West,onChange:u,onBlur:d,error:m.West&&f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(I,{type:"select",name:"CancelTDNumber",placeholder:"Cancel TD No.",label:"This Declaration cancels TD No.",options:["1","2","3"].map(v=>({label:v,value:v})),required:!0,value:c.CancelTDNumber,onChange:u,onBlur:d,error:m.CancelTDNumber&&f.CancelTDNumber,touched:m.CancelTDNumber,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"text",name:"Effectivity",placeholder:"Effectivity of Assessment/Reassessment",label:"Effectivity of Assessment/Reassessment",required:!0,value:c.Effectivity,onChange:u,error:m.Effectivity&&f.Effectivity,touched:m.Effectivity,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"text",name:"OwnerPrevious",placeholder:"Previous Owner",label:"Previous Owner",required:!0,value:c.OwnerPrevious,error:m.OwnerPrevious&&f.OwnerPrevious,touched:m.OwnerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"number",name:"PreviousAssessedValue",placeholder:" Previous Assessed Value:",label:"Previous Assessed Value:",value:c.PreviousAssessedValue,error:m.PreviousAssessedValue&&f.PreviousAssessedValue,touched:m.PreviousAssessedValue,onChange:u,required:!0,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,required:!0,error:m.KindofProperty&&f.KindofProperty,touched:m.KindofProperty}),o.jsx(I,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,required:!0,error:m.Storeys&&f.Storeys,touched:m.Storeys})]}),o.jsx(I,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:m.Description&&f.Description,required:!0,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx("div",{children:o.jsx(I,{label:"Kind: (LAND / BUILDING)",name:"kind",type:"select",required:!0,value:c.kind,onChange:u,onBlur:d,error:m.kind&&f.kind,touched:m.kind,options:["LAND","BUILDING"].map(v=>({label:v,value:v}))})}),o.jsx("div",{children:o.jsx(I,{label:"Actual Use",name:"ActualUse",type:"select",required:!0,value:c.ActualUse,onChange:u,onBlur:d,error:m.ActualUse&&f.ActualUse,touched:m.ActualUse,options:["RESIDENTIAL","COMMERCIAL","INDUSTRIAL"].map(v=>({label:v,value:v}))})}),o.jsx("div",{children:o.jsx(I,{label:"Classification",name:"Classification",type:"select",required:!0,value:c.Classification,onChange:u,onBlur:d,error:m.Classification&&f.Classification,touched:m.Classification,options:["A","B","C"].map(v=>({label:v,value:v}))})}),o.jsx("div",{children:o.jsx(I,{type:"text",name:"AreaSize",placeholder:"Enter Area Size",label:"Area Size",required:!0,value:c.AreaSize,onBlur:d,error:m.AreaSize&&f.AreaSize,touched:m.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{type:"number",name:"AssessmentLevel",label:"Assessment Level",placeholder:"Enter Assessment Level",required:!0,value:c.AssessmentLevel,onBlur:d,error:m.AssessmentLevel&&f.AssessmentLevel,touched:m.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),o.jsx("div",{children:o.jsx(I,{placeholder:"Enter Market Value",type:"number",name:"MarketValue",label:"Market Value",value:c.MarketValue,onBlur:d,error:m.MarketValue&&f.MarketValue,touched:m.MarketValue,required:!0,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(St,{type:"button",onClick:y,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(nm,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area ","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(v=>o.jsxs("th",{className:"border border-gray-300 p-2 text-sm",children:[v," ",o.jsx("span",{className:"text-red-500",children:"*"})]},v))})}),o.jsx("tbody",{children:i.map((v,C)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(j=>{var N,S,A,k,T,E;return o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx(I,{type:"text",value:v[j],onChange:$=>h(C,j,$.target.value),onBlur:d,error:((S=(N=m.assessmentRows)==null?void 0:N[C])==null?void 0:S[j])&&((k=(A=f.assessmentRows)==null?void 0:A[C])==null?void 0:k[j]),touched:(E=(T=m.assessmentRows)==null?void 0:T[C])==null?void 0:E[j],className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},j)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(St,{type:"button",onClick:()=>b(C),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(Jt,{className:"w-4 h-4"})})})]},C))})]}),((x=f==null?void 0:f.assessmentRows)==null?void 0:x.length)>0&&o.jsxs("p",{className:"text-red-500 text-sm mt-2",children:["At Least One Row Required"," "]})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,error:m.AmountInWords&&f.AmountInWords,touched:m.AmountInWords,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,error:m.Memoranda&&f.Memoranda,touched:m.Memoranda,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"save"})]})]})}const Fj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",_he=[],cf=q("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Fj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gy=q("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Fj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),YA=q("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Fj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Yy=q("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Fj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$he=ve({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(cf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cf.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(cf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=_he}).addCase(Gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(Gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(YA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(YA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(Yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(Yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),Rhe=$he.reducer,Bj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Mhe=[],_o=q("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Bj}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ky=q("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Bj}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),KA=q("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Bj}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jy=q("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Bj}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Lhe=ve({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(_o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_o.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(_o.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=Mhe}).addCase(Ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(Ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(KA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(KA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(Jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),Fhe=Lhe.reducer;function Bhe(){const t=ce(),{taxDeclarations:e,isLoading:r}=z(T=>T.taxDeclarations),{generalRevisions:n,isLoading:a}=z(T=>T.generalRevisions),{Add:s,Edit:i,Delete:l}=we(79),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,p]=w.useState(!1),[g,y]=w.useState(null),[b,h]=w.useState("");w.useEffect(()=>{t(cf()),t(_o())},[t]);const x=()=>{f(null),u(!0)},v=T=>{if(!b)return V.error("Please select a general revision year first.");f(T),u(!0)},C=T=>{y(T),p(!0)},j=async()=>{if(g)try{await t(Yy(g.ID)).unwrap(),p(!1),y(null)}catch(T){console.error("Failed to delete tax declaration:",T)}},N=async T=>{const E=n==null?void 0:n.find($=>$.ID===Number(b));try{d?(await t(YA({...T,ID:d.ID,GeneralRevision:E==null?void 0:E.General_Revision_Date_Year})).unwrap(),V.success("Tax declaration updated successfully")):(await t(Gy({...T,GeneralRevision:E==null?void 0:E.General_Revision_Date_Year})).unwrap(),V.success("Tax declaration saved successfully")),t(cf()),u(!1)}catch($){console.error("Failed to save tax declaration:",$),V.error("Failed to save tax declaration. Please try again.")}},S=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],A=[i&&{icon:ke,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},l&&{icon:Me,title:"Delete",onClick:C,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],k=n==null?void 0:n.map(T=>({value:T.ID,label:T.General_Revision_Date_Year}));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center max-sm:flex-col max-sm:w-full",children:[s&&o.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full disabled:opacity-50 disabled:cursor-not-allowed",disabled:b==="",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx("div",{className:"max-sm:w-full",children:o.jsx(I,{type:"select",name:"year",label:"General Revision Year",value:b,onChange:T=>h(T.target.value),placeholder:"Select a year",options:k})})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:e,actions:A,loading:r||a,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(ie,{size:"xl",isOpen:c,onClose:()=>u(!1),title:d?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(Ohe,{initialData:d,onClose:()=>u(!1),onSubmit:N})}),o.jsxs(ie,{isOpen:m,onClose:()=>p(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',g==null?void 0:g.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}const qhe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=ce(),{employees:s}=z(u=>u.employees);w.useEffect(()=>{a(dn())},[a]);const i=le().shape({General_Revision_Date_Year:_().required("Required"),GeneralRevisionCode:_().required("Required"),TaxDeclarationCode:_().required("Required")}),l=tt({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(I,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(I,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(ut,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx(ut,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx(ut,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:l.values.ProvincialAssessor,error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx(ut,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},Vhe=()=>{const t=ce(),{generalRevisions:e,isLoading:r}=z(j=>j.generalRevisions),{Add:n,Edit:a,Delete:s}=we(51),[i,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,p]=w.useState(null);w.useEffect(()=>{t(_o())},[t]);const g=()=>{f(null),l(!0)},y=j=>{f(j),l(!0)},b=async j=>{try{d?(await t(KA({...j,ID:d.ID})).unwrap(),V.success("Revision updated successfully")):(await t(Ky(j)).unwrap(),V.success("Revision added successfully")),t(_o())}catch(N){console.error("Failed to save general revision:",N),V.error("Failed to save general revision. Please try again.")}finally{l(!1)}},h=j=>{p(j),u(!0)},x=async()=>{try{m&&(await t(Jy(m.ID)).unwrap(),V.success("Revision deleted successfully"),u(!1))}catch(j){console.error("Failed to delete revision:",j),V.error("Failed to delete revision. Please try again.")}},v=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],C=[a&&{icon:ke,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},s&&{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),n&&o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:v,actions:C,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(ie,{isOpen:i,onClose:()=>l(!1),title:d?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(qhe,{initialData:d,onClose:()=>l(!1),onSubmit:b})}),o.jsxs(ie,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:m==null?void 0:m.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})};function pV(t,e){return function(){return t.apply(e,arguments)}}const{toString:Uhe}=Object.prototype,{getPrototypeOf:FT}=Object,{iterator:qj,toStringTag:hV}=Symbol,Vj=(t=>e=>{const r=Uhe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Sa=t=>(t=t.toLowerCase(),e=>Vj(e)===t),Uj=t=>e=>typeof e===t,{isArray:Iu}=Array,sm=Uj("undefined");function ip(t){return t!==null&&!sm(t)&&t.constructor!==null&&!sm(t.constructor)&&pn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const gV=Sa("ArrayBuffer");function zhe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&gV(t.buffer),e}const Whe=Uj("string"),pn=Uj("function"),yV=Uj("number"),lp=t=>t!==null&&typeof t=="object",Hhe=t=>t===!0||t===!1,Xy=t=>{if(Vj(t)!=="object")return!1;const e=FT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hV in t)&&!(qj in t)},Ghe=t=>{if(!lp(t)||ip(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Yhe=Sa("Date"),Khe=Sa("File"),Jhe=Sa("Blob"),Xhe=Sa("FileList"),Zhe=t=>lp(t)&&pn(t.pipe),Qhe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||pn(t.append)&&((e=Vj(t))==="formdata"||e==="object"&&pn(t.toString)&&t.toString()==="[object FormData]"))},ege=Sa("URLSearchParams"),[tge,rge,nge,age]=["ReadableStream","Request","Response","Headers"].map(Sa),sge=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cp(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Iu(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{if(ip(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function bV(t,e){if(ip(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const _i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xV=t=>!sm(t)&&t!==_i;function JA(){const{caseless:t}=xV(this)&&this||{},e={},r=(n,a)=>{const s=t&&bV(e,a)||a;Xy(e[s])&&Xy(n)?e[s]=JA(e[s],n):Xy(n)?e[s]=JA({},n):Iu(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&cp(arguments[n],r);return e}const oge=(t,e,r,{allOwnKeys:n}={})=>(cp(e,(a,s)=>{r&&pn(a)?t[s]=pV(a,r):t[s]=a},{allOwnKeys:n}),t),ige=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lge=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},cge=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&FT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},uge=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},dge=t=>{if(!t)return null;if(Iu(t))return t;let e=t.length;if(!yV(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},fge=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&FT(Uint8Array)),mge=(t,e)=>{const n=(t&&t[qj]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},pge=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},hge=Sa("HTMLFormElement"),gge=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),g$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),yge=Sa("RegExp"),vV=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};cp(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},bge=t=>{vV(t,(e,r)=>{if(pn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(pn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xge=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Iu(t)?n(t):n(String(t).split(e)),r},vge=()=>{},jge=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function wge(t){return!!(t&&pn(t.append)&&t[hV]==="FormData"&&t[qj])}const Nge=t=>{const e=new Array(10),r=(n,a)=>{if(lp(n)){if(e.indexOf(n)>=0)return;if(ip(n))return n;if(!("toJSON"in n)){e[a]=n;const s=Iu(n)?[]:{};return cp(n,(i,l)=>{const c=r(i,a+1);!sm(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},Cge=Sa("AsyncFunction"),Sge=t=>t&&(lp(t)||pn(t))&&pn(t.then)&&pn(t.catch),jV=((t,e)=>t?setImmediate:e?((r,n)=>(_i.addEventListener("message",({source:a,data:s})=>{a===_i&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),_i.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",pn(_i.postMessage)),Age=typeof queueMicrotask<"u"?queueMicrotask.bind(_i):typeof process<"u"&&process.nextTick||jV,Ige=t=>t!=null&&pn(t[qj]),te={isArray:Iu,isArrayBuffer:gV,isBuffer:ip,isFormData:Qhe,isArrayBufferView:zhe,isString:Whe,isNumber:yV,isBoolean:Hhe,isObject:lp,isPlainObject:Xy,isEmptyObject:Ghe,isReadableStream:tge,isRequest:rge,isResponse:nge,isHeaders:age,isUndefined:sm,isDate:Yhe,isFile:Khe,isBlob:Jhe,isRegExp:yge,isFunction:pn,isStream:Zhe,isURLSearchParams:ege,isTypedArray:fge,isFileList:Xhe,forEach:cp,merge:JA,extend:oge,trim:sge,stripBOM:ige,inherits:lge,toFlatObject:cge,kindOf:Vj,kindOfTest:Sa,endsWith:uge,toArray:dge,forEachEntry:mge,matchAll:pge,isHTMLForm:hge,hasOwnProperty:g$,hasOwnProp:g$,reduceDescriptors:vV,freezeMethods:bge,toObjectSet:xge,toCamelCase:gge,noop:vge,toFiniteNumber:jge,findKey:bV,global:_i,isContextDefined:xV,isSpecCompliantForm:wge,toJSONObject:Nge,isAsyncFn:Cge,isThenable:Sge,setImmediate:jV,asap:Age,isIterable:Ige};function Ve(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}te.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const wV=Ve.prototype,NV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NV[t]={value:t}});Object.defineProperties(Ve,NV);Object.defineProperty(wV,"isAxiosError",{value:!0});Ve.from=(t,e,r,n,a,s)=>{const i=Object.create(wV);return te.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Ve.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const kge=null;function XA(t){return te.isPlainObject(t)||te.isArray(t)}function CV(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function y$(t,e,r){return t?t.concat(e).map(function(a,s){return a=CV(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function Tge(t){return te.isArray(t)&&!t.some(XA)}const Ege=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function zj(t,e,r){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!te.isUndefined(b[y])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(te.isDate(g))return g.toISOString();if(te.isBoolean(g))return g.toString();if(!c&&te.isBlob(g))throw new Ve("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(g)||te.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,b){let h=g;if(g&&!b&&typeof g=="object"){if(te.endsWith(y,"{}"))y=n?y:y.slice(0,-2),g=JSON.stringify(g);else if(te.isArray(g)&&Tge(g)||(te.isFileList(g)||te.endsWith(y,"[]"))&&(h=te.toArray(g)))return y=CV(y),h.forEach(function(v,C){!(te.isUndefined(v)||v===null)&&e.append(i===!0?y$([y],C,s):i===null?y:y+"[]",u(v))}),!1}return XA(g)?!0:(e.append(y$(b,y,s),u(g)),!1)}const f=[],m=Object.assign(Ege,{defaultVisitor:d,convertValue:u,isVisitable:XA});function p(g,y){if(!te.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),te.forEach(g,function(h,x){(!(te.isUndefined(h)||h===null)&&a.call(e,h,te.isString(x)?x.trim():x,y,m))===!0&&p(h,y?y.concat(x):[x])}),f.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return p(t),e}function b$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function BT(t,e){this._pairs=[],t&&zj(t,this,e)}const SV=BT.prototype;SV.append=function(e,r){this._pairs.push([e,r])};SV.toString=function(e){const r=e?function(n){return e.call(this,n,b$)}:b$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Pge(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function AV(t,e,r){if(!e)return t;const n=r&&r.encode||Pge;te.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=te.isURLSearchParams(e)?e.toString():new BT(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class x${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(n){n!==null&&e(n)})}}const IV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dge=typeof URLSearchParams<"u"?URLSearchParams:BT,Oge=typeof FormData<"u"?FormData:null,_ge=typeof Blob<"u"?Blob:null,$ge={isBrowser:!0,classes:{URLSearchParams:Dge,FormData:Oge,Blob:_ge},protocols:["http","https","file","blob","url","data"]},qT=typeof window<"u"&&typeof document<"u",ZA=typeof navigator=="object"&&navigator||void 0,Rge=qT&&(!ZA||["ReactNative","NativeScript","NS"].indexOf(ZA.product)<0),Mge=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Lge=qT&&window.location.href||"http://localhost",Fge=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qT,hasStandardBrowserEnv:Rge,hasStandardBrowserWebWorkerEnv:Mge,navigator:ZA,origin:Lge},Symbol.toStringTag,{value:"Module"})),Lr={...Fge,...$ge};function Bge(t,e){return zj(t,new Lr.classes.URLSearchParams,{visitor:function(r,n,a,s){return Lr.isNode&&te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function qge(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Vge(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function kV(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&te.isArray(a)?a.length:i,c?(te.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!te.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&te.isArray(a[i])&&(a[i]=Vge(a[i])),!l)}if(te.isFormData(t)&&te.isFunction(t.entries)){const r={};return te.forEachEntry(t,(n,a)=>{e(qge(n),a,r,0)}),r}return null}function Uge(t,e,r){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const up={transitional:IV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=te.isObject(e);if(s&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return a?JSON.stringify(kV(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Bge(e,this.formSerializer).toString();if((l=te.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return zj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Uge(e)):e}],transformResponse:[function(e){const r=this.transitional||up.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Ve.from(l,Ve.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lr.classes.FormData,Blob:Lr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{up.headers[t]={}});const zge=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wge=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&zge[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},v$=Symbol("internals");function ld(t){return t&&String(t).trim().toLowerCase()}function Zy(t){return t===!1||t==null?t:te.isArray(t)?t.map(Zy):String(t)}function Hge(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Gge=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function u1(t,e,r,n,a){if(te.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!te.isString(e)){if(te.isString(n))return e.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(e)}}function Yge(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Kge(t,e){const r=te.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let hn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=ld(c);if(!d)throw new Error("header name must be a non-empty string");const f=te.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Zy(l))}const i=(l,c)=>te.forEach(l,(u,d)=>s(u,d,c));if(te.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(te.isString(e)&&(e=e.trim())&&!Gge(e))i(Wge(e),r);else if(te.isObject(e)&&te.isIterable(e)){let l={},c,u;for(const d of e){if(!te.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?te.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=ld(e),e){const n=te.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return Hge(a);if(te.isFunction(r))return r.call(this,a,n);if(te.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ld(e),e){const n=te.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||u1(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=ld(i),i){const l=te.findKey(n,i);l&&(!r||u1(n,n[l],l,r))&&(delete n[l],a=!0)}}return te.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||u1(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return te.forEach(this,(a,s)=>{const i=te.findKey(n,s);if(i){r[i]=Zy(a),delete r[s];return}const l=e?Yge(s):String(s).trim();l!==s&&delete r[s],r[l]=Zy(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return te.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[v$]=this[v$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=ld(i);n[l]||(Kge(a,i),n[l]=!0)}return te.isArray(e)?e.forEach(s):s(e),this}};hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(hn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});te.freezeMethods(hn);function d1(t,e){const r=this||up,n=e||r,a=hn.from(n.headers);let s=n.data;return te.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function TV(t){return!!(t&&t.__CANCEL__)}function ku(t,e,r){Ve.call(this,t??"canceled",Ve.ERR_CANCELED,e,r),this.name="CanceledError"}te.inherits(ku,Ve,{__CANCEL__:!0});function EV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ve("Request failed with status code "+r.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Jge(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Xge(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function Zge(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const Kx=(t,e,r=3)=>{let n=0;const a=Xge(50,250);return Zge(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},j$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},w$=t=>(...e)=>te.asap(()=>t(...e)),Qge=Lr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Lr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Lr.origin),Lr.navigator&&/(msie|trident)/i.test(Lr.navigator.userAgent)):()=>!0,eye=Lr.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];te.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),te.isString(n)&&i.push("path="+n),te.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tye(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rye(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function PV(t,e,r){let n=!tye(e);return t&&(n||r==!1)?rye(t,e):e}const N$=t=>t instanceof hn?{...t}:t;function xl(t,e){e=e||{};const r={};function n(u,d,f,m){return te.isPlainObject(u)&&te.isPlainObject(d)?te.merge.call({caseless:m},u,d):te.isPlainObject(d)?te.merge({},d):te.isArray(d)?d.slice():d}function a(u,d,f,m){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!te.isUndefined(d))return n(void 0,d)}function i(u,d){if(te.isUndefined(d)){if(!te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(N$(u),N$(d),f,!0)};return te.forEach(Object.keys({...t,...e}),function(d){const f=c[d]||a,m=f(t[d],e[d],d);te.isUndefined(m)&&f!==l||(r[d]=m)}),r}const DV=t=>{const e=xl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=hn.from(i),e.url=AV(PV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(te.isFormData(r)){if(Lr.hasStandardBrowserEnv||Lr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Lr.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(e)),n||n!==!1&&Qge(e.url))){const u=a&&s&&eye.read(s);u&&i.set(a,u)}return e},nye=typeof XMLHttpRequest<"u",aye=nye&&function(t){return new Promise(function(r,n){const a=DV(t);let s=a.data;const i=hn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,p,g;function y(){p&&p(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function h(){if(!b)return;const v=hn.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:t,request:b};EV(function(S){r(S),y()},function(S){n(S),y()},j),b=null}"onloadend"in b?b.onloadend=h:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(h)},b.onabort=function(){b&&(n(new Ve("Request aborted",Ve.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new Ve("Network Error",Ve.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||IV;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new Ve(C,j.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,t,b)),b=null},s===void 0&&i.setContentType(null),"setRequestHeader"in b&&te.forEach(i.toJSON(),function(C,j){b.setRequestHeader(j,C)}),te.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),u&&([m,g]=Kx(u,!0),b.addEventListener("progress",m)),c&&b.upload&&([f,p]=Kx(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(a.cancelToken||a.signal)&&(d=v=>{b&&(n(!v||v.type?new ku(null,t,b):v),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const x=Jge(a.url);if(x&&Lr.protocols.indexOf(x)===-1){n(new Ve("Unsupported protocol "+x+":",Ve.ERR_BAD_REQUEST,t));return}b.send(s||null)})},sye=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ve?d:new ku(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>te.asap(l),c}},oye=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},iye=async function*(t,e){for await(const r of lye(t))yield*oye(r,e)},lye=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},C$=(t,e,r,n)=>{const a=iye(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Wj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",OV=Wj&&typeof ReadableStream=="function",cye=Wj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),_V=(t,...e)=>{try{return!!t(...e)}catch{return!1}},uye=OV&&_V(()=>{let t=!1;const e=new Request(Lr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),S$=64*1024,QA=OV&&_V(()=>te.isReadableStream(new Response("").body)),Jx={stream:QA&&(t=>t.body)};Wj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jx[e]&&(Jx[e]=te.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Ve(`Response type '${e}' is not supported`,Ve.ERR_NOT_SUPPORT,n)})})})(new Response);const dye=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(Lr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await cye(t)).byteLength},fye=async(t,e)=>{const r=te.toFiniteNumber(t.getContentLength());return r??dye(e)},mye=Wj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=DV(t);u=u?(u+"").toLowerCase():"text";let p=sye([a,s&&s.toAbortSignal()],i),g;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(c&&uye&&r!=="get"&&r!=="head"&&(b=await fye(d,n))!==0){let j=new Request(e,{method:"POST",body:n,duplex:"half"}),N;if(te.isFormData(n)&&(N=j.headers.get("content-type"))&&d.setContentType(N),j.body){const[S,A]=j$(b,Kx(w$(c)));n=C$(j.body,S$,S,A)}}te.isString(f)||(f=f?"include":"omit");const h="credentials"in Request.prototype;g=new Request(e,{...m,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:h?f:void 0});let x=await fetch(g,m);const v=QA&&(u==="stream"||u==="response");if(QA&&(l||v&&y)){const j={};["status","statusText","headers"].forEach(k=>{j[k]=x[k]});const N=te.toFiniteNumber(x.headers.get("content-length")),[S,A]=l&&j$(N,Kx(w$(l),!0))||[];x=new Response(C$(x.body,S$,S,()=>{A&&A(),y&&y()}),j)}u=u||"text";let C=await Jx[te.findKey(Jx,u)||"text"](x,t);return!v&&y&&y(),await new Promise((j,N)=>{EV(j,N,{data:C,headers:hn.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:g})})}catch(h){throw y&&y(),h&&h.name==="TypeError"&&/Load failed|fetch/i.test(h.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,t,g),{cause:h.cause||h}):Ve.from(h,h&&h.code,t,g)}}),eI={http:kge,xhr:aye,fetch:mye};te.forEach(eI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const A$=t=>`- ${t}`,pye=t=>te.isFunction(t)||t===null||t===!1,$V={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!pye(r)&&(n=eI[(i=String(r)).toLowerCase()],n===void 0))throw new Ve(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(A$).join(`
`):" "+A$(s[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:eI};function f1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ku(null,t)}function I$(t){return f1(t),t.headers=hn.from(t.headers),t.data=d1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$V.getAdapter(t.adapter||up.adapter)(t).then(function(n){return f1(t),n.data=d1.call(t,t.transformResponse,n),n.headers=hn.from(n.headers),n},function(n){return TV(n)||(f1(t),n&&n.response&&(n.response.data=d1.call(t,t.transformResponse,n.response),n.response.headers=hn.from(n.response.headers))),Promise.reject(n)})}const RV="1.11.0",Hj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Hj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const k$={};Hj.transitional=function(e,r,n){function a(s,i){return"[Axios v"+RV+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Ve(a(i," has been removed"+(r?" in "+r:"")),Ve.ERR_DEPRECATED);return r&&!k$[i]&&(k$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};Hj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function hye(t,e,r){if(typeof t!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new Ve("option "+s+" must be "+c,Ve.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ve("Unknown option "+s,Ve.ERR_BAD_OPTION)}}const Qy={assertOptions:hye,validators:Hj},ka=Qy.validators;let rl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new x$,response:new x$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=xl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Qy.assertOptions(n,{silentJSONParsing:ka.transitional(ka.boolean),forcedJSONParsing:ka.transitional(ka.boolean),clarifyTimeoutError:ka.transitional(ka.boolean)},!1),a!=null&&(te.isFunction(a)?r.paramsSerializer={serialize:a}:Qy.assertOptions(a,{encode:ka.function,serialize:ka.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Qy.assertOptions(r,{baseUrl:ka.spelling("baseURL"),withXsrfToken:ka.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&te.merge(s.common,s[r.method]);s&&te.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=hn.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,m;if(!c){const g=[I$.bind(this),void 0];for(g.unshift(...l),g.push(...u),m=g.length,d=Promise.resolve(r);f<m;)d=d.then(g[f++],g[f++]);return d}m=l.length;let p=r;for(f=0;f<m;){const g=l[f++],y=l[f++];try{p=g(p)}catch(b){y.call(this,b);break}}try{d=I$.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=xl(this.defaults,e);const r=PV(e.baseURL,e.url,e.allowAbsoluteUrls);return AV(r,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){rl.prototype[e]=function(r,n){return this.request(xl(n||{},{method:e,url:r,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(xl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}rl.prototype[e]=r(),rl.prototype[e+"Form"]=r(!0)});let gye=class MV{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new ku(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new MV(function(a){e=a}),cancel:e}}};function yye(t){return function(r){return t.apply(null,r)}}function bye(t){return te.isObject(t)&&t.isAxiosError===!0}const tI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tI).forEach(([t,e])=>{tI[e]=t});function LV(t){const e=new rl(t),r=pV(rl.prototype.request,e);return te.extend(r,rl.prototype,e,{allOwnKeys:!0}),te.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return LV(xl(t,a))},r}const Qe=LV(up);Qe.Axios=rl;Qe.CanceledError=ku;Qe.CancelToken=gye;Qe.isCancel=TV;Qe.VERSION=RV;Qe.toFormData=zj;Qe.AxiosError=Ve;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=yye;Qe.isAxiosError=bye;Qe.mergeConfig=xl;Qe.AxiosHeaders=hn;Qe.formToJSON=t=>kV(te.isHTMLForm(t)?new FormData(t):t);Qe.getAdapter=$V.getAdapter;Qe.HttpStatusCode=tI;Qe.default=Qe;const{Axios:l8e,AxiosError:c8e,CanceledError:u8e,isCancel:d8e,CancelToken:f8e,VERSION:m8e,all:p8e,Cancel:h8e,isAxiosError:g8e,spread:y8e,toFormData:b8e,AxiosHeaders:x8e,HttpStatusCode:v8e,formToJSON:j8e,getAdapter:w8e,mergeConfig:N8e}=Qe,qe=Qe.create({baseURL:"https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",timeout:1e4,headers:{"Content-Type":"application/json"}});qe.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));qe.interceptors.response.use(t=>t,t=>(console.error("Axios INSTANCE error:",t.response||t.message),Promise.reject(t)));const nl=q("realPropertyTax/fetchRealPropertyTaxes",async(t,{rejectWithValue:e})=>{var r;try{return(await qe.get("/real-property-tax/list")).data}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),eb=q("realPropertyTax/saveRealPropertyTax",async(t,{rejectWithValue:e})=>{var r;try{return(await qe.post("/real-property-tax/save",t)).data}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),FV=q("realPropertyTax/getTdNumber",async({ownerId:t,generalRevision:e},{rejectWithValue:r})=>{var n;try{return(await qe.get(`/real-property-tax/getTdNumber?ownerId=${t}&generalRevision=${e}`)).data}catch(a){return r(((n=a.response)==null?void 0:n.data)||a.message)}}),BV=q("realPropertyTax/addButtonTDNumber",async(t,{rejectWithValue:e})=>{var r;try{return(await qe.get(`/real-property-tax/addButton?tdNumber=${t}`)).data}catch(n){return e(((r=n.response)==null?void 0:r.data)||n.message)}}),xye={realPropertyTaxes:[],isLoading:!1,error:null,tdNumber:null,addButtonResult:null},vye=ve({name:"realPropertyTax",initialState:xye,reducers:{},extraReducers:t=>{t.addCase(nl.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nl.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(nl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eb.fulfilled,(e,r)=>{e.isLoading=!1;const n=r.payload,a=e.realPropertyTaxes.findIndex(s=>s.id===n.id);a!==-1?e.realPropertyTaxes[a]=n:e.realPropertyTaxes.push(n)}).addCase(eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(FV.fulfilled,(e,r)=>{e.tdNumber=r.payload}).addCase(BV.fulfilled,(e,r)=>{e.addButtonResult=r.payload})}}),jye=vye.reducer,wye=new Date().getFullYear(),Nye=le({GeneralRevisionYear:K().required("General Revision Year is required"),Classification:_().required("Classification is required"),Unit:_().required("Unit is required"),ActualUse:_().required("Actual Use is required"),SubClassification:_().required("Sub Class No is required"),Price:K().required("Unit Value is required"),Location:_().required("Location or Description is required")});function Cye({initialData:t,onSubmit:e,onClose:r}){const{generalRevisions:n,isLoading:a}=z(d=>d.generalRevisions),s=ce();w.useEffect(()=>{s(nl())},[]);const i=tt({initialValues:t||{GeneralRevisionYear:wye,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:Nye,onSubmit:d=>{e(d)}}),l=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],c=()=>{if(!i.values.Classification)return[];const f={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[i.values.Classification];return f?Array.from({length:6},(m,p)=>({value:`${f}${p+1}`,label:`${f}${p+1}`})):[]};w.useEffect(()=>{if(i.values.Classification&&i.values.SubClassification){const d=i.values.SubClassification.charAt(0),f=i.values.Classification.charAt(0);d!==f&&i.setFieldValue("SubClassification","")}},[i.values.Classification]);const u=n==null?void 0:n.map(d=>({value:d.ID,label:d.General_Revision_Date_Year}));return o.jsxs("form",{onSubmit:i.handleSubmit,className:"space-y-4",children:[o.jsx(I,{label:"General Revision Year",name:"GeneralRevisionYear",type:"select",options:u,value:i.values.GeneralRevisionYear,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.GeneralRevisionYear,touched:i.touched.GeneralRevisionYear,required:!0}),o.jsx(I,{label:"Classification",name:"Classification",type:"select",options:l,value:i.values.Classification,onChange:d=>{i.handleChange(d),i.setFieldValue("SubClassification","")},onBlur:i.handleBlur,error:i.errors.Classification,touched:i.touched.Classification,required:!0}),o.jsx(I,{label:"Sub Class No.",name:"SubClassification",type:"select",options:c(),value:i.values.SubClassification,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.SubClassification,touched:i.touched.SubClassification,required:!0,disabled:!i.values.Classification}),o.jsx(I,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:i.values.Unit,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Unit,touched:i.touched.Unit,required:!0}),o.jsx(I,{label:"Actual Use",name:"ActualUse",type:"text",value:i.values.ActualUse,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.ActualUse,touched:i.touched.ActualUse,required:!0}),o.jsx(I,{label:"Unit Value",name:"Price",type:"number",value:i.values.Price,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Price,touched:i.touched.Price,required:!0}),o.jsx(I,{label:"Location or Description",name:"Location",type:"textarea",value:i.values.Location,onChange:i.handleChange,onBlur:i.handleBlur,error:i.errors.Location,touched:i.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:i.isSubmitting,children:i.isSubmitting?"Saving...":"Save"})]})]})}const Gj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Sye=[],uf=q("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Gj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),tb=q("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${Gj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),rI=q("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${Gj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),rb=q("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${Gj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Aye=ve({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(uf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uf.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(uf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=Sye}).addCase(tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase(rI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),Iye=Aye.reducer;function kye(){const t=ce(),{baseUnits:e,isLoading:r}=z(S=>S.baseUnits),{generalRevisions:n,isLoading:a}=z(S=>S.generalRevisions),{Add:s,Edit:i,Delete:l}=we(20),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,p]=w.useState(!1),[g,y]=w.useState(null);w.useEffect(()=>{t(uf()),t(_o())},[t]);const b=()=>{f(null),u(!0)},h=S=>{f(S),u(!0)},x=S=>{y(S),p(!0)},v=async()=>{if(g)try{await t(rb(g.ID)).unwrap(),p(!1),y(null),V.success("Base unit deleted successfully")}catch(S){console.error("Failed to delete base unit:",S),V.error("Failed to delete base unit. Please try again.")}},C=async S=>{try{d?(await t(rI({...S,ID:d.ID})).unwrap(),V.success("Base unit updated successfully")):(await t(tb(S)).unwrap(),V.success("Base unit added successfully")),t(uf())}catch(A){console.error("Failed to save base unit:",A),V.error("Failed to save base unit. Please try again.")}finally{u(!1)}},j=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0,render:S=>{var A;return((A=n==null?void 0:n.find(k=>k.ID===S))==null?void 0:A.General_Revision_Date_Year)||""}},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],N=[i&&{icon:ke,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},l&&{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),s&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:N,loading:r||a,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(ie,{isOpen:c,onClose:()=>u(!1),title:d?"Edit Base Unit":"Add Base Unit",children:o.jsx(Cye,{initialData:d,onClose:()=>u(!1),onSubmit:C})}),o.jsxs(ie,{isOpen:m,onClose:()=>p(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',g==null?void 0:g.Unit,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:v,className:"btn btn-danger",children:"Delete"})]})]})]})}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function Tye(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qV(t){var e=Tye(t,"string");return vl(e)=="symbol"?e:e+""}function Rd(t,e,r){return(e=qV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function De(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T$(Object(r),!0).forEach(function(n){Rd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eye(t){if(Array.isArray(t))return t}function Pye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function nI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function VV(t,e){if(t){if(typeof t=="string")return nI(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nI(t,e):void 0}}function Dye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ns(t,e){return Eye(t)||Pye(t,e)||VV(t,e)||Dye()}function Oye(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function zs(t,e){if(t==null)return{};var r,n,a=Oye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var _ye=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function $ye(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,p=t.value,g=zs(t,_ye),y=w.useState(l!==void 0?l:r),b=Ns(y,2),h=b[0],x=b[1],v=w.useState(c!==void 0?c:a),C=Ns(v,2),j=C[0],N=C[1],S=w.useState(p!==void 0?p:i),A=Ns(S,2),k=A[0],T=A[1],E=w.useCallback(function(O,R){typeof u=="function"&&u(O,R),T(O)},[u]),$=w.useCallback(function(O,R){var B;typeof d=="function"&&(B=d(O,R)),x(B!==void 0?B:O)},[d]),L=w.useCallback(function(){typeof m=="function"&&m(),N(!0)},[m]),M=w.useCallback(function(){typeof f=="function"&&f(),N(!1)},[f]),D=l!==void 0?l:h,P=c!==void 0?c:j,F=p!==void 0?p:k;return De(De({},g),{},{inputValue:D,menuIsOpen:P,onChange:E,onInputChange:$,onMenuClose:M,onMenuOpen:L,value:F})}function _e(){return _e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_e.apply(null,arguments)}function Rye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qV(n.key),n)}}function Mye(t,e,r){return e&&E$(t.prototype,e),r&&E$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function aI(t,e){return aI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},aI(t,e)}function Lye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aI(t,e)}function Xx(t){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xx(t)}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function Fye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bye(t,e){if(e&&(vl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fye(t)}function qye(t){var e=UV();return function(){var r,n=Xx(t);if(e){var a=Xx(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Bye(this,r)}}function Vye(t){if(Array.isArray(t))return nI(t)}function Uye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VT(t){return Vye(t)||Uye(t)||VV(t)||zye()}function Wye(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Hye(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Gye=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Hye(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Wye(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Or="-ms-",Zx="-moz-",st="-webkit-",zV="comm",UT="rule",zT="decl",Yye="@import",WV="@keyframes",Kye="@layer",Jye=Math.abs,Yj=String.fromCharCode,Xye=Object.assign;function Zye(t,e){return Sr(t,0)^45?(((e<<2^Sr(t,0))<<2^Sr(t,1))<<2^Sr(t,2))<<2^Sr(t,3):0}function HV(t){return t.trim()}function Qye(t,e){return(t=e.exec(t))?t[0]:t}function ot(t,e,r){return t.replace(e,r)}function sI(t,e){return t.indexOf(e)}function Sr(t,e){return t.charCodeAt(e)|0}function om(t,e,r){return t.slice(e,r)}function Oa(t){return t.length}function WT(t){return t.length}function uh(t,e){return e.push(t),t}function ebe(t,e){return t.map(e).join("")}var Kj=1,Jc=1,GV=0,gn=0,sr=0,Tu="";function Jj(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:Kj,column:Jc,length:i,return:""}}function cd(t,e){return Xye(Jj("",null,null,"",null,null,0),t,{length:-t.length},e)}function tbe(){return sr}function rbe(){return sr=gn>0?Sr(Tu,--gn):0,Jc--,sr===10&&(Jc=1,Kj--),sr}function Tn(){return sr=gn<GV?Sr(Tu,gn++):0,Jc++,sr===10&&(Jc=1,Kj++),sr}function Wa(){return Sr(Tu,gn)}function nb(){return gn}function dp(t,e){return om(Tu,t,e)}function im(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YV(t){return Kj=Jc=1,GV=Oa(Tu=t),gn=0,[]}function KV(t){return Tu="",t}function ab(t){return HV(dp(gn-1,oI(t===91?t+2:t===40?t+1:t)))}function nbe(t){for(;(sr=Wa())&&sr<33;)Tn();return im(t)>2||im(sr)>3?"":" "}function abe(t,e){for(;--e&&Tn()&&!(sr<48||sr>102||sr>57&&sr<65||sr>70&&sr<97););return dp(t,nb()+(e<6&&Wa()==32&&Tn()==32))}function oI(t){for(;Tn();)switch(sr){case t:return gn;case 34:case 39:t!==34&&t!==39&&oI(sr);break;case 40:t===41&&oI(t);break;case 92:Tn();break}return gn}function sbe(t,e){for(;Tn()&&t+sr!==57;)if(t+sr===84&&Wa()===47)break;return"/*"+dp(e,gn-1)+"*"+Yj(t===47?t:Tn())}function obe(t){for(;!im(Wa());)Tn();return dp(t,gn)}function ibe(t){return KV(sb("",null,null,null,[""],t=YV(t),0,[0],t))}function sb(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,p=0,g=0,y=1,b=1,h=1,x=0,v="",C=a,j=s,N=n,S=v;b;)switch(g=x,x=Tn()){case 40:if(g!=108&&Sr(S,f-1)==58){sI(S+=ot(ab(x),"&","&\f"),"&\f")!=-1&&(h=-1);break}case 34:case 39:case 91:S+=ab(x);break;case 9:case 10:case 13:case 32:S+=nbe(g);break;case 92:S+=abe(nb()-1,7);continue;case 47:switch(Wa()){case 42:case 47:uh(lbe(sbe(Tn(),nb()),e,r),c);break;default:S+="/"}break;case 123*y:l[u++]=Oa(S)*h;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+d:h==-1&&(S=ot(S,/\f/g,"")),p>0&&Oa(S)-f&&uh(p>32?D$(S+";",n,r,f-1):D$(ot(S," ","")+";",n,r,f-2),c);break;case 59:S+=";";default:if(uh(N=P$(S,e,r,u,d,a,l,v,C=[],j=[],f),s),x===123)if(d===0)sb(S,e,N,N,C,s,f,l,j);else switch(m===99&&Sr(S,3)===110?100:m){case 100:case 108:case 109:case 115:sb(t,N,N,n&&uh(P$(t,N,N,0,0,a,l,v,a,C=[],f),j),a,j,f,l,n?C:j);break;default:sb(S,N,N,N,[""],j,0,l,j)}}u=d=p=0,y=h=1,v=S="",f=i;break;case 58:f=1+Oa(S),p=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&rbe()==125)continue}switch(S+=Yj(x),x*y){case 38:h=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(Oa(S)-1)*h,h=1;break;case 64:Wa()===45&&(S+=ab(Tn())),m=Wa(),d=f=Oa(v=S+=obe(nb())),x++;break;case 45:g===45&&Oa(S)==2&&(y=0)}}return s}function P$(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],p=WT(m),g=0,y=0,b=0;g<n;++g)for(var h=0,x=om(t,f+1,f=Jye(y=i[g])),v=t;h<p;++h)(v=HV(y>0?m[h]+" "+x:ot(x,/&\f/g,m[h])))&&(c[b++]=v);return Jj(t,e,r,a===0?UT:l,c,u,d)}function lbe(t,e,r){return Jj(t,e,r,zV,Yj(tbe()),om(t,2,-2),0)}function D$(t,e,r,n){return Jj(t,e,r,zT,om(t,0,n),om(t,n+1,-1),n)}function Tc(t,e){for(var r="",n=WT(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function cbe(t,e,r,n){switch(t.type){case Kye:if(t.children.length)break;case Yye:case zT:return t.return=t.return||t.value;case zV:return"";case WV:return t.return=t.value+"{"+Tc(t.children,n)+"}";case UT:t.value=t.props.join(",")}return Oa(r=Tc(t.children,n))?t.return=t.value+"{"+r+"}":""}function ube(t){var e=WT(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function dbe(t){return function(e){e.root||(e=e.return)&&t(e)}}function fbe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var mbe=function(e,r,n){for(var a=0,s=0;a=s,s=Wa(),a===38&&s===12&&(r[n]=1),!im(s);)Tn();return dp(e,gn)},pbe=function(e,r){var n=-1,a=44;do switch(im(a)){case 0:a===38&&Wa()===12&&(r[n]=1),e[n]+=mbe(gn-1,r,n);break;case 2:e[n]+=ab(a);break;case 4:if(a===44){e[++n]=Wa()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Yj(a)}while(a=Tn());return e},hbe=function(e,r){return KV(pbe(YV(e),r))},O$=new WeakMap,gbe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!O$.get(n))&&!a){O$.set(e,!0);for(var s=[],i=hbe(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},ybe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function JV(t,e){switch(Zye(t,e)){case 5103:return st+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return st+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return st+t+Zx+t+Or+t+t;case 6828:case 4268:return st+t+Or+t+t;case 6165:return st+t+Or+"flex-"+t+t;case 5187:return st+t+ot(t,/(\w+).+(:[^]+)/,st+"box-$1$2"+Or+"flex-$1$2")+t;case 5443:return st+t+Or+"flex-item-"+ot(t,/flex-|-self/,"")+t;case 4675:return st+t+Or+"flex-line-pack"+ot(t,/align-content|flex-|-self/,"")+t;case 5548:return st+t+Or+ot(t,"shrink","negative")+t;case 5292:return st+t+Or+ot(t,"basis","preferred-size")+t;case 6060:return st+"box-"+ot(t,"-grow","")+st+t+Or+ot(t,"grow","positive")+t;case 4554:return st+ot(t,/([^-])(transform)/g,"$1"+st+"$2")+t;case 6187:return ot(ot(ot(t,/(zoom-|grab)/,st+"$1"),/(image-set)/,st+"$1"),t,"")+t;case 5495:case 3959:return ot(t,/(image-set\([^]*)/,st+"$1$`$1");case 4968:return ot(ot(t,/(.+:)(flex-)?(.*)/,st+"box-pack:$3"+Or+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+st+t+t;case 4095:case 3583:case 4068:case 2532:return ot(t,/(.+)-inline(.+)/,st+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oa(t)-1-e>6)switch(Sr(t,e+1)){case 109:if(Sr(t,e+4)!==45)break;case 102:return ot(t,/(.+:)(.+)-([^]+)/,"$1"+st+"$2-$3$1"+Zx+(Sr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~sI(t,"stretch")?JV(ot(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sr(t,e+1)!==115)break;case 6444:switch(Sr(t,Oa(t)-3-(~sI(t,"!important")&&10))){case 107:return ot(t,":",":"+st)+t;case 101:return ot(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+st+(Sr(t,14)===45?"inline-":"")+"box$3$1"+st+"$2$3$1"+Or+"$2box$3")+t}break;case 5936:switch(Sr(t,e+11)){case 114:return st+t+Or+ot(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return st+t+Or+ot(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return st+t+Or+ot(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return st+t+Or+t+t}return t}var bbe=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case zT:e.return=JV(e.value,e.length);break;case WV:return Tc([cd(e,{value:ot(e.value,"@","@"+st)})],a);case UT:if(e.length)return ebe(e.props,function(s){switch(Qye(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Tc([cd(e,{props:[ot(s,/:(read-\w+)/,":"+Zx+"$1")]})],a);case"::placeholder":return Tc([cd(e,{props:[ot(s,/:(plac\w+)/,":"+st+"input-$1")]}),cd(e,{props:[ot(s,/:(plac\w+)/,":"+Zx+"$1")]}),cd(e,{props:[ot(s,/:(plac\w+)/,Or+"input-$1")]})],a)}return""})}},xbe=[bbe],vbe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var a=e.stylisPlugins||xbe,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),h=1;h<b.length;h++)s[b[h]]=!0;l.push(y)});var c,u=[gbe,ybe];{var d,f=[cbe,dbe(function(y){d.insert(y)})],m=ube(u.concat(a,f)),p=function(b){return Tc(ibe(b),m)};c=function(b,h,x,v){d=x,p(b?b+"{"+h.styles+"}":h.styles),v&&(g.inserted[h.name]=!0)}}var g={key:r,sheet:new Gye({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return g.sheet.hydrate(l),g},jbe=!0;function wbe(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var XV=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||jbe===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Nbe=function(e,r,n){XV(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Cbe(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Sbe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Abe=/[A-Z]|^ms/g,Ibe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ZV=function(e){return e.charCodeAt(1)===45},_$=function(e){return e!=null&&typeof e!="boolean"},m1=fbe(function(t){return ZV(t)?t:t.replace(Abe,"-$&").toLowerCase()}),$$=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Ibe,function(n,a,s){return _a={name:a,styles:s,next:_a},a})}return Sbe[e]!==1&&!ZV(e)&&typeof r=="number"&&r!==0?r+"px":r};function lm(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return _a={name:a.name,styles:a.styles,next:_a},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)_a={name:i.name,styles:i.styles,next:_a},i=i.next;var l=s.styles+";";return l}return kbe(t,e,r)}case"function":{if(t!==void 0){var c=_a,u=r(t);return _a=c,lm(t,e,u)}break}}var d=r;return d}function kbe(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=lm(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;_$(l)&&(n+=m1(s)+":"+$$(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)_$(i[c])&&(n+=m1(s)+":"+$$(s,i[c])+";");else{var u=lm(t,e,i);switch(s){case"animation":case"animationName":{n+=m1(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var R$=/label:\s*([^\s;{]+)\s*(;|$)/g,_a;function QV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";_a=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=lm(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=lm(r,e,t[l]),n){var c=s;a+=c[l]}R$.lastIndex=0;for(var u="",d;(d=R$.exec(a))!==null;)u+="-"+d[1];var f=Cbe(a)+u;return{name:f,styles:a,next:_a}}var Tbe=function(e){return e()},Ebe=Nf.useInsertionEffect?Nf.useInsertionEffect:!1,Pbe=Ebe||Tbe,eU=w.createContext(typeof HTMLElement<"u"?vbe({key:"css"}):null);eU.Provider;var Dbe=function(e){return w.forwardRef(function(r,n){var a=w.useContext(eU);return e(r,a,n)})},Obe=w.createContext({}),HT={}.hasOwnProperty,iI="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",_be=function(e,r){var n={};for(var a in r)HT.call(r,a)&&(n[a]=r[a]);return n[iI]=e,n},$be=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return XV(r,n,a),Pbe(function(){return Nbe(r,n,a)}),null},Rbe=Dbe(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[iI],s=[n],i="";typeof t.className=="string"?i=wbe(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=QV(s,void 0,w.useContext(Obe));i+=e.key+"-"+l.name;var c={};for(var u in t)HT.call(t,u)&&u!=="css"&&u!==iI&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),w.createElement(w.Fragment,null,w.createElement($be,{cache:e,serialized:l,isStringTag:typeof a=="string"}),w.createElement(a,c))}),Mbe=Rbe,Pe=function(e,r){var n=arguments;if(r==null||!HT.call(r,"css"))return w.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Mbe,s[1]=_be(e,r);for(var i=2;i<a;i++)s[i]=n[i];return w.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Pe||(Pe={}));function GT(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return QV(e)}function Lbe(){var t=GT.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Fbe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const Bbe=Math.min,qbe=Math.max,Qx=Math.round,dh=Math.floor,e0=t=>({x:t,y:t});function Vbe(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Xj(){return typeof window<"u"}function tU(t){return nU(t)?(t.nodeName||"").toLowerCase():"#document"}function $s(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rU(t){var e;return(e=(nU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nU(t){return Xj()?t instanceof Node||t instanceof $s(t).Node:!1}function Ube(t){return Xj()?t instanceof Element||t instanceof $s(t).Element:!1}function YT(t){return Xj()?t instanceof HTMLElement||t instanceof $s(t).HTMLElement:!1}function M$(t){return!Xj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $s(t).ShadowRoot}const zbe=new Set(["inline","contents"]);function aU(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=KT(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!zbe.has(a)}function Wbe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hbe=new Set(["html","body","#document"]);function Gbe(t){return Hbe.has(tU(t))}function KT(t){return $s(t).getComputedStyle(t)}function Ybe(t){if(tU(t)==="html")return t;const e=t.assignedSlot||t.parentNode||M$(t)&&t.host||rU(t);return M$(e)?e.host:e}function sU(t){const e=Ybe(t);return Gbe(e)?t.ownerDocument?t.ownerDocument.body:t.body:YT(e)&&aU(e)?e:sU(e)}function t0(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=sU(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=$s(a);if(s){const l=lI(i);return e.concat(i,i.visualViewport||[],aU(a)?a:[],l&&r?t0(l):[])}return e.concat(a,t0(a,[],r))}function lI(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Kbe(t){const e=KT(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=YT(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=Qx(r)!==s||Qx(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function JT(t){return Ube(t)?t:t.contextElement}function L$(t){const e=JT(t);if(!YT(e))return e0(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=Kbe(e);let i=(s?Qx(r.width):r.width)/n,l=(s?Qx(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Jbe=e0(0);function Xbe(t){const e=$s(t);return!Wbe()||!e.visualViewport?Jbe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Zbe(t,e,r){return!1}function F$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=JT(t);let i=e0(1);e&&(i=L$(t));const l=Zbe()?Xbe(s):e0(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=$s(s),p=n;let g=m,y=lI(g);for(;y&&n&&p!==g;){const b=L$(y),h=y.getBoundingClientRect(),x=KT(y),v=h.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,C=h.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=v,u+=C,g=$s(y),y=lI(g)}}return Vbe({width:d,height:f,x:c,y:u})}function oU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Qbe(t,e){let r=null,n;const a=rU(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(l||e(),!m||!p)return;const g=dh(f),y=dh(a.clientWidth-(d+m)),b=dh(a.clientHeight-(f+p)),h=dh(d),v={rootMargin:-g+"px "+-y+"px "+-b+"px "+-h+"px",threshold:qbe(0,Bbe(1,c))||1};let C=!0;function j(N){const S=N[0].intersectionRatio;if(S!==c){if(!C)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!oU(u,t.getBoundingClientRect())&&i(),C=!1}try{r=new IntersectionObserver(j,{...v,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,v)}r.observe(t)}return i(!0),s}function exe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=JT(t),d=a||s?[...u?t0(u):[],...t0(e)]:[];d.forEach(h=>{a&&h.addEventListener("scroll",r,{passive:!0}),s&&h.addEventListener("resize",r)});const f=u&&l?Qbe(u,r):null;let m=-1,p=null;i&&(p=new ResizeObserver(h=>{let[x]=h;x&&x.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let g,y=c?F$(t):null;c&&b();function b(){const h=F$(t);y&&!oU(y,h)&&r(),y=h,g=requestAnimationFrame(b)}return r(),()=>{var h;d.forEach(x=>{a&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),f==null||f(),(h=p)==null||h.disconnect(),p=null,c&&cancelAnimationFrame(g)}}var cI=w.useLayoutEffect,txe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],r0=function(){};function rxe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function nxe(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(rxe(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var B$=function(e){return fxe(e)?e.filter(Boolean):vl(e)==="object"&&e!==null?[e]:[]},iU=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=zs(e,txe);return De({},r)},Xt=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function Zj(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function axe(t){return Zj(t)?window.innerHeight:t.clientHeight}function lU(t){return Zj(t)?window.pageYOffset:t.scrollTop}function n0(t,e){if(Zj(t)){window.scrollTo(0,e);return}t.scrollTop=e}function sxe(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function oxe(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function fh(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r0,a=lU(t),s=e-a,i=10,l=0;function c(){l+=i;var u=oxe(l,a,s,r);n0(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function q$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?n0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&n0(t,Math.max(e.offsetTop-a,0))}function ixe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function V$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function lxe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var cU=!1,cxe={get passive(){return cU=!0}},mh=typeof window<"u"?window:{};mh.addEventListener&&mh.removeEventListener&&(mh.addEventListener("p",r0,cxe),mh.removeEventListener("p",r0,!1));var uxe=cU;function dxe(t){return t!=null}function fxe(t){return Array.isArray(t)}function ph(t,e,r){return t?e:r}var mxe=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=Ns(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=Ns(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},pxe=["children","innerProps"],hxe=["children","innerProps"];function gxe(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=sxe(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),p=m.bottom,g=m.height,y=m.top,b=r.offsetParent.getBoundingClientRect(),h=b.top,x=i?window.innerHeight:axe(c),v=lU(c),C=parseInt(getComputedStyle(r).marginBottom,10),j=parseInt(getComputedStyle(r).marginTop,10),N=h-j,S=x-y,A=N+v,k=f-v-y,T=p-x+v+C,E=v+y-j,$=160;switch(a){case"auto":case"bottom":if(S>=g)return{placement:"bottom",maxHeight:e};if(k>=g&&!i)return s&&fh(c,T,$),{placement:"bottom",maxHeight:e};if(!i&&k>=n||i&&S>=n){s&&fh(c,T,$);var L=i?S-C:k-C;return{placement:"bottom",maxHeight:L}}if(a==="auto"||i){var M=e,D=i?N:A;return D>=n&&(M=Math.min(D-C-l,e)),{placement:"top",maxHeight:M}}if(a==="bottom")return s&&n0(c,T),{placement:"bottom",maxHeight:e};break;case"top":if(N>=g)return{placement:"top",maxHeight:e};if(A>=g&&!i)return s&&fh(c,E,$),{placement:"top",maxHeight:e};if(!i&&A>=n||i&&N>=n){var P=e;return(!i&&A>=n||i&&N>=n)&&(P=i?N-j:A-j),s&&fh(c,E,$),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function yxe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var uU=function(e){return e==="auto"?"bottom":e},bxe=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return De((n={label:"menu"},Rd(n,yxe(a),"100%"),Rd(n,"position","absolute"),Rd(n,"width","100%"),Rd(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},dU=w.createContext(null),xxe=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=w.useContext(dU)||{},d=u.setPortalPlacement,f=w.useRef(null),m=w.useState(a),p=Ns(m,2),g=p[0],y=p[1],b=w.useState(null),h=Ns(b,2),x=h[0],v=h[1],C=c.spacing.controlHeight;return cI(function(){var j=f.current;if(j){var N=i==="fixed",S=l&&!N,A=gxe({maxHeight:a,menuEl:j,minHeight:n,placement:s,shouldScroll:S,isFixedPosition:N,controlHeight:C});y(A.maxHeight),v(A.placement),d==null||d(A.placement)}},[a,s,i,l,n,d,C]),r({ref:f,placerProps:De(De({},e),{},{placement:x||uU(s),maxHeight:g})})},vxe=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Pe("div",_e({},Xt(e,"menu",{menu:!0}),{ref:n},a),r)},jxe=vxe,wxe=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return De({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},Nxe=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Pe("div",_e({},Xt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},fU=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return De({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Cxe=fU,Sxe=fU,Axe=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=zs(e,pxe);return Pe("div",_e({},Xt(De(De({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Ixe=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=zs(e,hxe);return Pe("div",_e({},Xt(De(De({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},kxe=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},Txe=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=w.useRef(null),u=w.useRef(null),d=w.useState(uU(i)),f=Ns(d,2),m=f[0],p=f[1],g=w.useMemo(function(){return{setPortalPlacement:p}},[]),y=w.useState(null),b=Ns(y,2),h=b[0],x=b[1],v=w.useCallback(function(){if(a){var S=ixe(a),A=l==="fixed"?0:window.pageYOffset,k=S[m]+A;(k!==(h==null?void 0:h.offset)||S.left!==(h==null?void 0:h.rect.left)||S.width!==(h==null?void 0:h.rect.width))&&x({offset:k,rect:S})}},[a,l,m,h==null?void 0:h.offset,h==null?void 0:h.rect.left,h==null?void 0:h.rect.width]);cI(function(){v()},[v]);var C=w.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=exe(a,c.current,v,{elementResize:"ResizeObserver"in window}))},[a,v]);cI(function(){C()},[C]);var j=w.useCallback(function(S){c.current=S,C()},[C]);if(!r&&l!=="fixed"||!h)return null;var N=Pe("div",_e({ref:j},Xt(De(De({},e),{},{offset:h.offset,position:l,rect:h.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Pe(dU.Provider,{value:g},r?pv.createPortal(N,r):N)},Exe=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Pxe=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Pe("div",_e({},Xt(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},Dxe=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return De({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Oxe=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Pe("div",_e({},Xt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},_xe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},$xe=function(e){var r=e.children,n=e.innerProps;return Pe("div",_e({},Xt(e,"indicatorsContainer",{indicators:!0}),n),r)},U$,Rxe=["size"],Mxe=["innerProps","isRtl","size"],Lxe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},mU=function(e){var r=e.size,n=zs(e,Rxe);return Pe("svg",_e({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Lxe},n))},XT=function(e){return Pe(mU,_e({size:20},e),Pe("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},pU=function(e){return Pe(mU,_e({size:20},e),Pe("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},hU=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return De({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},Fxe=hU,Bxe=function(e){var r=e.children,n=e.innerProps;return Pe("div",_e({},Xt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Pe(pU,null))},qxe=hU,Vxe=function(e){var r=e.children,n=e.innerProps;return Pe("div",_e({},Xt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Pe(XT,null))},Uxe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return De({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},zxe=function(e){var r=e.innerProps;return Pe("span",_e({},r,Xt(e,"indicatorSeparator",{"indicator-separator":!0})))},Wxe=Lbe(U$||(U$=Fbe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Hxe=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return De({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},p1=function(e){var r=e.delay,n=e.offset;return Pe("span",{css:GT({animation:"".concat(Wxe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Gxe=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=zs(e,Mxe);return Pe("div",_e({},Xt(De(De({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Pe(p1,{delay:0,offset:n}),Pe(p1,{delay:160,offset:!0}),Pe(p1,{delay:320,offset:!n}))},Yxe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return De({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},Kxe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Pe("div",_e({ref:s},Xt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},Jxe=Kxe,Xxe=["data"],Zxe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Qxe=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Pe("div",_e({},Xt(e,"group",{group:!0}),c),Pe(i,_e({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),Pe("div",null,r))},e0e=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return De({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},t0e=function(e){var r=iU(e);r.data;var n=zs(r,Xxe);return Pe("div",_e({},Xt(e,"groupHeading",{"group-heading":!0}),n))},r0e=Qxe,n0e=["innerRef","isDisabled","isHidden","inputClassName"],a0e=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return De(De({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},s0e),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},gU={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},s0e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":De({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},gU)},o0e=function(e){return De({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},gU)},i0e=function(e){var r=e.cx,n=e.value,a=iU(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=zs(a,n0e);return Pe("div",_e({},Xt(e,"input",{"input-container":!0}),{"data-value":n||""}),Pe("input",_e({className:r({input:!0},c),ref:s,style:o0e(l),disabled:i},u)))},l0e=i0e,c0e=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return De({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},u0e=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return De({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},d0e=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return De({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},yU=function(e){var r=e.children,n=e.innerProps;return Pe("div",n,r)},f0e=yU,m0e=yU;function p0e(t){var e=t.children,r=t.innerProps;return Pe("div",_e({role:"button"},r),e||Pe(XT,{size:14}))}var h0e=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return Pe(u,{data:a,innerProps:De(De({},Xt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},Pe(d,{data:a,innerProps:De({},Xt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Pe(f,{data:a,innerProps:De(De({},Xt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},g0e=h0e,y0e=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return De({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},b0e=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Pe("div",_e({},Xt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},x0e=b0e,v0e=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return De({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},j0e=function(e){var r=e.children,n=e.innerProps;return Pe("div",_e({},Xt(e,"placeholder",{placeholder:!0}),n),r)},w0e=j0e,N0e=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return De({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},C0e=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Pe("div",_e({},Xt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},S0e=C0e,A0e={ClearIndicator:Vxe,Control:Jxe,DropdownIndicator:Bxe,DownChevron:pU,CrossIcon:XT,Group:r0e,GroupHeading:t0e,IndicatorsContainer:$xe,IndicatorSeparator:zxe,Input:l0e,LoadingIndicator:Gxe,Menu:jxe,MenuList:Nxe,MenuPortal:Txe,LoadingMessage:Ixe,NoOptionsMessage:Axe,MultiValue:g0e,MultiValueContainer:f0e,MultiValueLabel:m0e,MultiValueRemove:p0e,Option:x0e,Placeholder:w0e,SelectContainer:Pxe,SingleValue:S0e,ValueContainer:Oxe},I0e=function(e){return De(De({},A0e),e.components)},z$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function k0e(t,e){return!!(t===e||z$(t)&&z$(e))}function T0e(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!k0e(t[r],e[r]))return!1;return!0}function E0e(t,e){e===void 0&&(e=T0e);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var P0e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},D0e=function(e){return Pe("span",_e({css:P0e},e))},W$=D0e,O0e={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(y,b){return y&&y.length?"".concat(y.indexOf(b)+1," of ").concat(y.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",p="".concat(u?" selected":"").concat(m);return"".concat(i).concat(p,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},_0e=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,p=c.inputValue,g=c.isMulti,y=c.isOptionDisabled,b=c.isSearchable,h=c.menuIsOpen,x=c.options,v=c.screenReaderStatus,C=c.tabSelectsValue,j=c.isLoading,N=c["aria-label"],S=c["aria-live"],A=w.useMemo(function(){return De(De({},O0e),f||{})},[f]),k=w.useMemo(function(){var D="";if(r&&A.onChange){var P=r.option,F=r.options,O=r.removedValue,R=r.removedValues,B=r.value,U=function(ue){return Array.isArray(ue)?null:ue},G=O||P||U(B),W=G?m(G):"",ae=F||R||void 0,be=ae?ae.map(m):[],se=De({isDisabled:G&&y(G,l),label:W,labels:be},r);D=A.onChange(se)}return D},[r,A,y,l,m]),T=w.useMemo(function(){var D="",P=n||a,F=!!(n&&l&&l.includes(n));if(P&&A.onFocus){var O={focused:P,label:m(P),isDisabled:y(P,l),isSelected:F,options:s,context:P===n?"menu":"value",selectValue:l,isAppleDevice:d};D=A.onFocus(O)}return D},[n,a,m,y,A,s,l,d]),E=w.useMemo(function(){var D="";if(h&&x.length&&!j&&A.onFilter){var P=v({count:s.length});D=A.onFilter({inputValue:p,resultsMessage:P})}return D},[s,p,h,A,x,v,j]),$=(r==null?void 0:r.action)==="initial-input-focus",L=w.useMemo(function(){var D="";if(A.guidance){var P=a?"value":h?"menu":"input";D=A.guidance({"aria-label":N,context:P,isDisabled:n&&y(n,l),isMulti:g,isSearchable:b,tabSelectsValue:C,isInitialFocus:$})}return D},[N,n,a,g,y,b,h,A,l,C,$]),M=Pe(w.Fragment,null,Pe("span",{id:"aria-selection"},k),Pe("span",{id:"aria-focused"},T),Pe("span",{id:"aria-results"},E),Pe("span",{id:"aria-guidance"},L));return Pe(w.Fragment,null,Pe(W$,{id:u},$&&M),Pe(W$,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!$&&M))},$0e=_0e,uI=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],R0e=new RegExp("["+uI.map(function(t){return t.letters}).join("")+"]","g"),bU={};for(var h1=0;h1<uI.length;h1++)for(var g1=uI[h1],y1=0;y1<g1.letters.length;y1++)bU[g1.letters[y1]]=g1.base;var xU=function(e){return e.replace(R0e,function(r){return bU[r]})},M0e=E0e(xU),H$=function(e){return e.replace(/^\s+|\s+$/g,"")},L0e=function(e){return"".concat(e.label," ").concat(e.value)},F0e=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=De({ignoreCase:!0,ignoreAccents:!0,stringify:L0e,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?H$(n):n,f=c?H$(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=M0e(d),f=xU(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},B0e=["innerRef"];function q0e(t){var e=t.innerRef,r=zs(t,B0e),n=mxe(r,"onExited","in","enter","exit","appear");return Pe("input",_e({ref:e},n,{css:GT({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var V0e=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function U0e(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=w.useRef(!1),l=w.useRef(!1),c=w.useRef(0),u=w.useRef(null),d=w.useCallback(function(b,h){if(u.current!==null){var x=u.current,v=x.scrollTop,C=x.scrollHeight,j=x.clientHeight,N=u.current,S=h>0,A=C-j-v,k=!1;A>h&&i.current&&(n&&n(b),i.current=!1),S&&l.current&&(s&&s(b),l.current=!1),S&&h>A?(r&&!i.current&&r(b),N.scrollTop=C,k=!0,i.current=!0):!S&&-h>v&&(a&&!l.current&&a(b),N.scrollTop=0,k=!0,l.current=!0),k&&V0e(b)}},[r,n,a,s]),f=w.useCallback(function(b){d(b,b.deltaY)},[d]),m=w.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),p=w.useCallback(function(b){var h=c.current-b.changedTouches[0].clientY;d(b,h)},[d]),g=w.useCallback(function(b){if(b){var h=uxe?{passive:!1}:!1;b.addEventListener("wheel",f,h),b.addEventListener("touchstart",m,h),b.addEventListener("touchmove",p,h)}},[p,m,f]),y=w.useCallback(function(b){b&&(b.removeEventListener("wheel",f,!1),b.removeEventListener("touchstart",m,!1),b.removeEventListener("touchmove",p,!1))},[p,m,f]);return w.useEffect(function(){if(e){var b=u.current;return g(b),function(){y(b)}}},[e,g,y]),function(b){u.current=b}}var G$=["boxSizing","height","overflow","paddingRight","position"],Y$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function K$(t){t.cancelable&&t.preventDefault()}function J$(t){t.stopPropagation()}function X$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function Z$(){return"ontouchstart"in window||navigator.maxTouchPoints}var Q$=!!(typeof window<"u"&&window.document&&window.document.createElement),ud=0,zl={capture:!1,passive:!1};function z0e(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=w.useRef({}),s=w.useRef(null),i=w.useCallback(function(c){if(Q$){var u=document.body,d=u&&u.style;if(n&&G$.forEach(function(g){var y=d&&d[g];a.current[g]=y}),n&&ud<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,p=window.innerWidth-m+f||0;Object.keys(Y$).forEach(function(g){var y=Y$[g];d&&(d[g]=y)}),d&&(d.paddingRight="".concat(p,"px"))}u&&Z$()&&(u.addEventListener("touchmove",K$,zl),c&&(c.addEventListener("touchstart",X$,zl),c.addEventListener("touchmove",J$,zl))),ud+=1}},[n]),l=w.useCallback(function(c){if(Q$){var u=document.body,d=u&&u.style;ud=Math.max(ud-1,0),n&&ud<1&&G$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&Z$()&&(u.removeEventListener("touchmove",K$,zl),c&&(c.removeEventListener("touchstart",X$,zl),c.removeEventListener("touchmove",J$,zl)))}},[n]);return w.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var W0e=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},H0e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function G0e(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=U0e({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=z0e({isEnabled:r}),f=function(p){u(p),d(p)};return Pe(w.Fragment,null,r&&Pe("div",{onClick:W0e,css:H0e}),e(f))}var Y0e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},K0e=function(e){var r=e.name,n=e.onFocus;return Pe("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Y0e,value:"",onChange:function(){}})},J0e=K0e;function ZT(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function X0e(){return ZT(/^iPhone/i)}function vU(){return ZT(/^Mac/i)}function Z0e(){return ZT(/^iPad/i)||vU()&&navigator.maxTouchPoints>1}function Q0e(){return X0e()||Z0e()}function eve(){return vU()||Q0e()}var tve=function(e){return e.label},rve=function(e){return e.label},nve=function(e){return e.value},ave=function(e){return!!e.isDisabled},sve={clearIndicator:qxe,container:Exe,control:Yxe,dropdownIndicator:Fxe,group:Zxe,groupHeading:e0e,indicatorsContainer:_xe,indicatorSeparator:Uxe,input:a0e,loadingIndicator:Hxe,loadingMessage:Sxe,menu:bxe,menuList:wxe,menuPortal:kxe,multiValue:c0e,multiValueLabel:u0e,multiValueRemove:d0e,noOptionsMessage:Cxe,option:y0e,placeholder:v0e,singleValue:N0e,valueContainer:Dxe},ove={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},ive=4,jU=4,lve=38,cve=jU*2,uve={baseUnit:jU,controlHeight:lve,menuGutter:cve},b1={borderRadius:ive,colors:ove,spacing:uve},dve={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:V$(),captureMenuScroll:!V$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:F0e(),formatGroupLabel:tve,getOptionLabel:rve,getOptionValue:nve,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ave,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!lxe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function eR(t,e,r,n){var a=CU(t,e,r),s=SU(t,e,r),i=NU(t,e),l=a0(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function ob(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return eR(t,i,e,l)}).filter(function(i){return rR(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=eR(t,r,e,n);return rR(t,s)?s:void 0}).filter(dxe)}function wU(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,VT(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function tR(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,VT(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function fve(t,e){return wU(ob(t,e))}function rR(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!IU(t)||!s)&&AU(t,{label:i,value:l,data:a},n)}function mve(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function pve(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var x1=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},NU=function(e,r){return e.getOptionLabel(r)},a0=function(e,r){return e.getOptionValue(r)};function CU(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function SU(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=a0(t,e);return r.some(function(a){return a0(t,a)===n})}function AU(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var IU=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},hve=1,kU=function(t){Lye(r,t);var e=qye(r);function r(n){var a;if(Rye(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,p=f.isMulti,g=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:g}),m&&(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,p=a.state.selectValue,g=f&&a.isOptionSelected(c,p),y=a.isOptionDisabled(c,p);if(g){var b=a.getOptionValue(c);a.setValue(p.filter(function(h){return a.getOptionValue(h)!==b}),"deselect-option",c)}else if(!y)f?a.setValue([].concat(VT(p),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(g){return a.getOptionValue(g)!==f}),p=ph(u,m,m[0]||null);a.onChange(p,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(ph(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=ph(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return x1(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return tR(ob(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return nxe.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return NU(a.props,c)},a.getOptionValue=function(c){return a0(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=sve[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return I0e(a.props)},a.buildCategorizedOptions=function(){return ob(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return wU(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:De({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Zj(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),p=5;a.userIsDragging=f>p||m>p}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return IU(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,p=u.inputValue,g=u.isClearable,y=u.isDisabled,b=u.menuIsOpen,h=u.onKeyDown,x=u.tabSelectsValue,v=u.openMenuOnFocus,C=a.state,j=C.focusedOption,N=C.focusedValue,S=C.selectValue;if(!y&&!(typeof h=="function"&&(h(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||p)return;a.focusValue("previous");break;case"ArrowRight":if(!d||p)return;a.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(N)a.removeValue(N);else{if(!f)return;d?a.popValue():g&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!b||!x||!j||v&&a.isOptionSelected(j,S))return;a.selectOption(j);break;case"Enter":if(c.keyCode===229)break;if(b){if(!j||a.isComposing)return;a.selectOption(j);break}return;case"Escape":b?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:p}),a.onMenuClose()):g&&m&&a.clearValue();break;case" ":if(p)return;if(!b){a.openMenu("first");break}if(!j)return;a.selectOption(j);break;case"ArrowUp":b?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":b?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!b)return;a.focusOption("pageup");break;case"PageDown":if(!b)return;a.focusOption("pagedown");break;case"Home":if(!b)return;a.focusOption("first");break;case"End":if(!b)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++hve),a.state.selectValue=B$(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=x1(s,i[l])}return a}return Mye(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&q$(this.menuListRef,this.focusedOptionRef),eve()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(q$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(b1):De(De({},b1),this.props.theme):b1}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,p=f.isRtl,g=f.options,y=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:y,isMulti:m,isRtl:p,options:g,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return CU(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return SU(this.props,a,s)}},{key:"filterOption",value:function(a,s){return AU(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,p=this.getComponents(),g=p.Input,y=this.state,b=y.inputIsHidden,h=y.ariaSelection,x=this.commonProps,v=l||this.getElementId("input"),C=De(De(De({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(h==null?void 0:h.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?w.createElement(g,_e({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:s,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},C)):w.createElement(q0e,_e({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:r0,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,p=this.props,g=p.controlShouldRenderValue,y=p.isDisabled,b=p.isMulti,h=p.inputValue,x=p.placeholder,v=this.state,C=v.selectValue,j=v.focusedValue,N=v.isFocused;if(!this.hasValue()||!g)return h?null:w.createElement(f,_e({},m,{key:"placeholder",isDisabled:y,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),x);if(b)return C.map(function(A,k){var T=A===j,E="".concat(a.getOptionLabel(A),"-").concat(a.getOptionValue(A));return w.createElement(i,_e({},m,{components:{Container:l,Label:c,Remove:u},isFocused:T,isDisabled:y,key:E,index:k,removeProps:{onClick:function(){return a.removeValue(A)},onTouchEnd:function(){return a.removeValue(A)},onMouseDown:function(L){L.preventDefault()}},data:A}),a.formatOptionLabel(A,"value"))});if(h)return null;var S=C[0];return w.createElement(d,_e({},m,{data:S,isDisabled:y}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,_e({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return w.createElement(s,_e({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return w.createElement(i,_e({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return w.createElement(s,_e({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,p=s.Option,g=this.commonProps,y=this.state.focusedOption,b=this.props,h=b.captureMenuScroll,x=b.inputValue,v=b.isLoading,C=b.loadingMessage,j=b.minMenuHeight,N=b.maxMenuHeight,S=b.menuIsOpen,A=b.menuPlacement,k=b.menuPosition,T=b.menuPortalTarget,E=b.menuShouldBlockScroll,$=b.menuShouldScrollIntoView,L=b.noOptionsMessage,M=b.onMenuScrollToTop,D=b.onMenuScrollToBottom;if(!S)return null;var P=function(W,ae){var be=W.type,se=W.data,J=W.isDisabled,ue=W.isSelected,Q=W.label,re=W.value,X=y===se,Y=J?void 0:function(){return a.onOptionHover(se)},pe=J?void 0:function(){return a.selectOption(se)},Ne="".concat(a.getElementId("option"),"-").concat(ae),Ee={id:Ne,onClick:pe,onMouseMove:Y,onMouseOver:Y,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:ue};return w.createElement(p,_e({},g,{innerProps:Ee,data:se,isDisabled:J,isSelected:ue,key:Ne,label:Q,type:be,value:re,isFocused:X,innerRef:X?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(W.data,"menu"))},F;if(this.hasOptions())F=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var W=G.data,ae=G.options,be=G.index,se="".concat(a.getElementId("group"),"-").concat(be),J="".concat(se,"-heading");return w.createElement(i,_e({},g,{key:se,data:W,options:ae,Heading:l,headingProps:{id:J,data:G.data},label:a.formatGroupLabel(G.data)}),G.options.map(function(ue){return P(ue,"".concat(be,"-").concat(ue.index))}))}else if(G.type==="option")return P(G,"".concat(G.index))});else if(v){var O=C({inputValue:x});if(O===null)return null;F=w.createElement(f,g,O)}else{var R=L({inputValue:x});if(R===null)return null;F=w.createElement(m,g,R)}var B={minMenuHeight:j,maxMenuHeight:N,menuPlacement:A,menuPosition:k,menuShouldScrollIntoView:$},U=w.createElement(xxe,_e({},g,B),function(G){var W=G.ref,ae=G.placerProps,be=ae.placement,se=ae.maxHeight;return w.createElement(c,_e({},g,B,{innerRef:W,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:v,placement:be}),w.createElement(G0e,{captureEnabled:h,onTopArrive:M,onBottomArrive:D,lockEnabled:E},function(J){return w.createElement(u,_e({},g,{innerRef:function(Q){a.getMenuListRef(Q),J(Q)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:a.getElementId("listbox")},isLoading:v,maxHeight:se,focusedOption:y}),F)}))});return T||k==="fixed"?w.createElement(d,_e({},g,{appendTo:T,controlElement:this.controlRef,menuPlacement:A,menuPosition:k}),U):U}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return w.createElement(J0e,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(y){return a.getOptionValue(y)}).join(i);return w.createElement("input",{name:u,type:"hidden",value:m})}else{var p=f.length>0?f.map(function(y,b){return w.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:a.getOptionValue(y)})}):w.createElement("input",{name:u,type:"hidden",value:""});return w.createElement("div",null,p)}else{var g=f[0]?this.getOptionValue(f[0]):"";return w.createElement("input",{name:u,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return w.createElement($0e,_e({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,p=u.menuIsOpen,g=this.state.isFocused,y=this.commonProps=this.getCommonProps();return w.createElement(l,_e({},y,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:g}),this.renderLiveRegion(),w.createElement(s,_e({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:g,menuIsOpen:p}),w.createElement(c,_e({},y,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),w.createElement(i,_e({},y,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,p=a.options,g=a.value,y=a.menuIsOpen,b=a.inputValue,h=a.isMulti,x=B$(g),v={};if(i&&(g!==i.value||p!==i.options||y!==i.menuIsOpen||b!==i.inputValue)){var C=y?fve(a,x):[],j=y?tR(ob(a,x),"".concat(m,"-option")):[],N=l?mve(s,x):null,S=pve(s,C),A=x1(j,S);v={selectValue:x,focusedOption:S,focusedOptionId:A,focusableOptionsWithIds:j,focusedValue:N,clearFocusValueOnUpdate:!1}}var k=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},T=u,E=d&&f;return d&&!E&&(T={value:ph(h,x,x[0]||null),options:x,action:"initial-input-focus"},E=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(T=null),De(De(De({},v),k),{},{prevProps:a,ariaSelection:T,prevWasFocused:E})}}]),r}(w.Component);kU.defaultProps=dve;var gve=w.forwardRef(function(t,e){var r=$ye(t);return w.createElement(kU,_e({ref:e},r))}),Hr=gve;function s0({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,p=0,g=0,y=0,b=0,h=0,x=0,v=0,C=0;return a?(m=l*c,p=+(m*d).toFixed(2),y=+(m-p).toFixed(2),g=+(y*i/(100+i)).toFixed(2),b=+(y-g).toFixed(2)):(m=l*c,p=+(m*d).toFixed(2),g=+(m*i/100).toFixed(2),b=+(m-p).toFixed(2),y=+(b+g).toFixed(2)),h=+(b*u/100*-1).toFixed(2),x=+(b*f/100*-1).toFixed(2),v=+(h+x).toFixed(2),C=a?+(y+v).toFixed(2):+(b+v).toFixed(2),{subtotalBeforeDiscount:m,discount:p,vat:g,subtotalTaxIncluded:y,subtotalTaxExcluded:b,withheld:h,ewt:x,ewtrate:f,totalDeduction:v,subtotal:C}}function TU({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var p;const u=le({ResponsibilityCenter:_().required("Required"),ChargeAccountID:_().required("Required"),ItemID:_().required("Required"),Remarks:_().required("Required"),FPP:_(),Price:K().required("Required"),Quantity:K().required("Required"),ItemUnitID:_().required("Required"),TAXCodeID:_().required("Required"),DiscountRate:K().required("Required")}),d=tt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:g=>{const y=i.find(v=>String(v.ID)===String(g.TAXCodeID));console.log("selectedTax",g);const b=r.find(v=>String(v.value)===String(g.ResponsibilityCenter)),h=l.find(v=>String(v.value)===String(g.ChargeAccountID)),x=n.find(v=>String(v.value)===String(g.ItemID));t({...g,responsibilityCenterName:b?b.label:"",chargeAccountName:h?h.label:"",itemName:x?x.label:"",TaxName:y==null?void 0:y.Name,TaxRate:y==null?void 0:y.Rate}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(h=>d.values[h]!==f.current[h]))return;f.current={...d.values};const y=i.find(h=>String(h.ID)===String(d.values.TAXCodeID)),b=s0({price:d.values.Price,quantity:d.values.Quantity,taxRate:(y==null?void 0:y.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});b.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",b.subtotal,!1),b.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",b.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((p=i.find(g=>String(g.ID)===String(d.values.TAXCodeID)))==null?void 0:p.Rate)??"";return console.log("selectedTax",i),o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(I,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP")}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(I,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,className:"bg-gray-200 cursor-not-allowed",disabled:!0})}),o.jsxs("div",{children:[o.jsx(I,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(I,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const EU="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",yve={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},ib=q("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${EU}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),v1=q("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),lb=q("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${EU}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),cb=q("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),PU=ve({name:"obligationRequests",initialState:yve,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(ib.pending,e=>{e.isLoading=!0}).addCase(ib.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(v1.pending,e=>{e.isLoading=!0}).addCase(v1.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(v1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lb.pending,e=>{e.isLoading=!0}).addCase(lb.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cb.pending,e=>{e.isLoading=!0}).addCase(cb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:C8e}=PU.actions,bve=PU.reducer,nR=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],xve=le().shape({obrNo:_(),obrDate:Be().required("Date is required"),payeeType:_().required("Payee type is required"),payeeId:_().required("Payee selection is required"),responsibilityCenter:_().required("Responsibility Center is required"),fund:_().required("Fund is required"),fiscalYear:_().required("Fiscal Year is required"),project:_().required("Project is required"),accountingEntries:Vt().min(1,"At least one item is required")});function vve({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:p=[],taxCodeOptions:g=[],budgetOptions:y=[],taxCodeFull:b=[]}){const h=ce(),x=w.useRef(null),[v,C]=w.useState(!1),[j,N]=w.useState(null),[S,A]=w.useState(null),[k,T]=w.useState(!1),[E,$]=w.useState([]),L=(O,R)=>{const B=O.reduce((W,ae)=>W+Number(ae.amount||0),0),U=R.reduce((W,ae)=>W+Number(ae.amount||0),0),G=B-U;return{grossAmount:B,totalTaxes:U,netAmount:G}},M={description:"",amount:"",accountCode:""};console.log(t);const D={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",project:(t==null?void 0:t.ProjectID)||"",fund:(t==null?void 0:t.FundsID)||"",fiscalYear:(t==null?void 0:t.FiscalYearID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.ResponsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[M],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.TransactionItemsAll)?t.TransactionItemsAll:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},P=O=>{C(!0),L(O.items,O.taxes);const R=new FormData;O.payeeType==="Employee"?(R.append("EmployeeID",O.payeeId),R.append("VendorID",""),R.append("CustomerID","")):O.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",O.payeeId),R.append("CustomerID","")):O.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",O.payeeId)),R.append("PayeeType",O.payeeType),R.append("Payee",(j==null?void 0:j.Name)||(j==null?void 0:j.FirstName)+" "+(j==null?void 0:j.MiddleName)+" "+(j==null?void 0:j.LastName)||""),R.append("Address",(j==null?void 0:j.StreetAddress)||""),R.append("InvoiceNumber",O.obrNo),R.append("InvoiceDate",O.obrDate),R.append("ResponsibilityCenter",O.responsibilityCenter);const B=O.accountingEntries.reduce((se,J)=>se+Number(J.subtotal||0),0),U=O.accountingEntries.reduce((se,J)=>se+Number(J.ewt||0),0),G=O.accountingEntries.reduce((se,J)=>se+Number(J.withheld||0),0),W=O.accountingEntries.reduce((se,J)=>se+Number(J.vat||0),0),ae=O.accountingEntries.reduce((se,J)=>se+Number(J.discount||0),0);R.append("Total",B.toFixed(2)),R.append("EWT",U.toFixed(2)),R.append("WithheldAmount",G.toFixed(2)),R.append("Vat_Total",W.toFixed(2)),R.append("Discounts",ae.toFixed(2)),R.append("FundsID",O.fund),R.append("FiscalYearID",O.fiscalYear),R.append("ProjectID",O.project),R.append("TravelID",""),R.append("Items",JSON.stringify(O.accountingEntries)),O.Attachments.forEach((se,J)=>{se.ID?R.append(`Attachments[${J}].ID`,se.ID):R.append(`Attachments[${J}].File`,se)});const be=t?cb({formData:R,id:t.ID}):lb(R);t?(R.append("IsNew",!1),R.append("LinkID",t.LinkID)):R.append("IsNew",!0),h(be).unwrap().then(()=>{oe.success("Success"),e()}).catch(se=>{oe.error((se==null?void 0:se.message)||"Failed to submit")}).finally(()=>{C(!1)})},F=({type:O})=>{switch(O){case"Employee":return o.jsx(LT,{className:"w-5 h-5"});case"Vendor":return o.jsx(Vk,{className:"w-5 h-5"});case"Individual":return o.jsx(cj,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(Le,{innerRef:x,initialValues:D,validationSchema:xve,onSubmit:P,enableReinitialize:!0,children:({values:O,errors:R,touched:B,handleChange:U,handleBlur:G,setFieldValue:W,setFieldTouched:ae,isValid:be})=>{L(O.items,O.taxes);const J=nR.map(X=>({value:X.value,label:X.label})).find(X=>X.value===O.payeeType),ue=X=>{N(null),W("payeeType",X),W("payeeName",""),W("payeeId",""),W("payeeAddress",""),W("officeUnitProject",""),W("orsNumber","")},Q=X=>{let Y=null;switch(O.payeeType){case"Employee":Y=s.find(pe=>pe.ID===X);break;case"Vendor":Y=i.find(pe=>pe.ID===X);break;case"Individual":Y=l.find(pe=>pe.ID===X);break}N(Y),W("payeeName",Y==null?void 0:Y.Name),W("payeeId",Y==null?void 0:Y.ID)},re=X=>{switch(X){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Ue,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:nR.map(X=>o.jsxs("button",{type:"button",onClick:()=>ue(X.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${O.payeeType===X.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(F,{type:X.value}),o.jsx("span",{className:"ml-3 font-medium",children:X.label})]},X.value))}),R.payeeType&&B.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),O.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",J==null?void 0:J.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:re(O.payeeType),value:re(O.payeeType).find(X=>X.value===O.payeeId)||null,onChange:X=>Q(X.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&B.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),j&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(J==null?void 0:J.label)==="Employee"?`${j.FirstName||""} ${j.MiddleName||""} ${j.LastName||""}`.trim():((J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",j.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((J==null?void 0:J.label)==="Employee"||(J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",j.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(I,{type:"text",label:"OBR No.",name:"obrNo",value:O.obrNo,onChange:U,onBlur:G,error:R.obrNo,touched:B.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(I,{type:"date",label:"Date",name:"obrDate",value:O.obrDate,onChange:U,onBlur:G,error:R.obrDate,touched:B.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:c,value:c.find(X=>X.value===O.responsibilityCenter)||null,onChange:X=>W("responsibilityCenter",X.value),onBlur:()=>ae("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),R.responsibilityCenter&&B.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:u,value:u.find(X=>X.value===O.fund)||null,onChange:X=>W("fund",X.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:f,value:f.find(X=>X.value===O.fiscalYear)||null,onChange:X=>W("fiscalYear",X.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:d,value:d.find(X=>X.value===O.project)||null,onChange:X=>W("project",X.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(Gr,{name:"accountingEntries",children:({push:X,remove:Y})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>T(!0),children:"+ Item"})]}),O.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2 mt-4",children:[o.jsxs("div",{className:"hidden md:grid md:grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"}),o.jsx("span",{})," "]}),O.accountingEntries.map((pe,Ne)=>o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsxs("span",{children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["RC:"," "]}),pe.responsibilityCenterName]}),o.jsxs("span",{children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["Remarks:"," "]}),pe.Remarks]}),o.jsxs("span",{children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["Particulars:"," "]}),pe.itemName]}),o.jsxs("span",{children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["Account Code:"," "]}),pe.chargeAccountName]}),o.jsxs("span",{className:"text-right",children:[o.jsxs("span",{className:"md:hidden font-semibold",children:["Sub-total:"," "]}),parseFloat(pe.subtotal).toFixed(2)]}),o.jsx("div",{className:"text-right",children:o.jsx("button",{type:"button",onClick:()=>Y(Ne),className:"text-red-600 text-xs hover:text-red-900",children:o.jsx(Jt,{className:"w-4 h-4"})})})]},Ne)),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"md:col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:O.accountingEntries.reduce((pe,Ne)=>pe+Number(Ne.subtotal),0).toFixed(2)})]})]}),o.jsx(ie,{isOpen:k,onClose:()=>T(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(TU,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:p,taxCodeOptions:g,budgetOptions:y,taxCodeFull:b,onClose:()=>T(!1),onSubmit:pe=>{console.log("Adding entry:",pe),X(pe),T(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:X,push:Y})=>{var pe;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>Y({File:null}),children:"+ Attachment"})]}),(pe=O.Attachments)==null?void 0:pe.map((Ne,Ee)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ne.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${Ne.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ne.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Ee}].ID`,value:Ne.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Ee+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Ee}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:He=>W(`Attachments[${Ee}].File`,He.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>X(Ee),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Jt,{className:"w-4 h-4"})})]},Ee))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function jve({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(ke,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(Wc,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(NJ,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(mJ,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(eX,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const QT="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Zt=q("budgetFunds/fetchBudgetFunds",async()=>(await qe("/funds")).data),ub=q("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${QT}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return oe.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),db=q("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${QT}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return oe.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),fb=q("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${QT}/funds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}})).json())return oe.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),wve=ve({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Zt.pending,e=>{e.loading=!0,e.error=null}).addCase(Zt.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(Zt.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to fetch budget funds")}).addCase(ub.pending,e=>{e.loading=!0,e.error=null}).addCase(ub.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(ub.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to create fund")}).addCase(db.pending,e=>{e.loading=!0,e.error=null}).addCase(db.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(db.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to update fund")}).addCase(fb.pending,e=>{e.loading=!0,e.error=null}).addCase(fb.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(fb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to delete fund")})}}),Nve=wve.reducer,$o=q("budget/fetchBudgets",async(t,e)=>{try{return(await qe("/budget")).data.items}catch(r){return e.rejectWithValue(r.message)}}),j1=q("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),w1=q("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),N1=q("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),Cve={budgets:[],isLoading:!1,error:null},Sve=ve({name:"budget",initialState:Cve,reducers:{},extraReducers:t=>{t.addCase($o.pending,e=>{e.isLoading=!0,e.error=null}).addCase($o.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase($o.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(j1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(j1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(j1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(w1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(w1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(w1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(N1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(N1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(N1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),Ave=Sve.reducer,Ive=(t="self")=>qe("/profileDashboard/userDocumentsList",{params:{owner:t}}),kve=()=>qe("/profileDashboard/user"),Tve=t=>qe("/profileDashboard/budgetList",{params:t?{selectedDepartmentID:t}:{}}),Eve=t=>qe(`/profileDashboard/budgetAPARList/${t}`),aR=(t="Day",e="Disbursement Voucher",r="")=>{const n={dateRange:t,aparType:e,...r&&{selectedDepartmentID:r}};return qe("/profileDashboard/disbursementAmounts",{params:n})},Pve=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return qe("/profileDashboard/obligationChart",{params:r})},Dve=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return qe("/profileDashboard/travelOrderChart",{params:r})},Ove=(t="Year",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return qe("/profileDashboard/disbursementChart",{params:r})},_ve=(t="Day")=>qe("/profileDashboard/collectionTotals",{params:{dateRange:t}}),$ve=()=>qe("/profileDashboard/chartGeneral"),Rve=()=>qe("/profileDashboard/chartMarriage"),Mve=()=>qe("/profileDashboard/chartBurial"),Lve=()=>qe("/profileDashboard/chartCedula"),eE=t=>{const e={"Disbursement Posted":"bg-green-100 text-green-700",Requested:"bg-blue-100 text-blue-700",Pending:"bg-yellow-100 text-yellow-700","Cheque Requested":"bg-red-100 text-red-700"};return o.jsx("div",{className:"flex gap-2 flex-wrap",children:t.split(",").map((r,n)=>{const a=r.trim();return o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${e[a]||"bg-gray-100 text-gray-600"}`,children:a},n)})})},Fve=()=>{var d,f;const[t,e]=w.useState("self"),[r,n]=w.useState([]),[a,s]=w.useState(null);w.useEffect(()=>{Ive(t).then(m=>{console.log("res",m),n(m.data)}).catch(()=>{oe.error("Failed to load documents")})},[t]),w.useEffect(()=>{a||kve().then(m=>{s(m.data)}).catch(m=>{oe.error("Failed to load user profile")})},[]);const{statusCounts:i,documentsList:l}=r||{},c={total:i==null?void 0:i.Total,approved:i==null?void 0:i.Approved,requested:i==null?void 0:i.Requested,rejected:i==null?void 0:i.Rejected},u=[{key:"Status",header:"Status",render:m=>eE(m)},{key:"InvoiceNumber",header:"Invoice No",sortable:!0},{key:"APAR",header:"APAR Type",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0,render:m=>(m==null?void 0:m.Name)||""},{key:"Total",header:"Amount",sortable:!0}];return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Wue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Welcome,"," ",[a==null?void 0:a.FirstName,a==null?void 0:a.MiddleName,a==null?void 0:a.LastName].filter(Boolean).join(" ")]}),((d=a==null?void 0:a.Position)==null?void 0:d.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Position: ",a.Position.Name]}),((f=a==null?void 0:a.Department)==null?void 0:f.Name)&&o.jsxs("p",{className:"text-sm text-gray-500",children:["Department: ",a.Department.Name]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(bc,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(bc,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(bc,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(hh,{title:"Total Documents",value:c.total,icon:Fue}),o.jsx(hh,{title:"Approved",value:c.approved,icon:Pue}),o.jsx(hh,{title:"Requested",value:c.requested,icon:Mue}),o.jsx(hh,{title:"Rejected",value:c.rejected,icon:Gue})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),[{label:"Me",value:"self"},{label:"Department",value:"department"},{label:"All",value:"all"}].map(m=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:m.value,checked:t===m.value,onChange:()=>e(m.value),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:m.label})]},m.value))]}),o.jsx(ye,{columns:u,data:l||[],pagination:!0})]})},hh=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]});function Bve(){const t=ce(),{obligationRequests:e,isLoading:r}=z(P=>P.obligationRequests),{employees:n}=z(P=>P.employees),{customers:a}=z(P=>P.customers),{vendorDetails:s}=z(P=>P.vendorDetails),{departments:i}=z(P=>P.departments),{projectDetails:l}=z(P=>P.projectDetails),{funds:c}=z(P=>P.funds),{fiscalYears:u}=z(P=>P.fiscalYears),{items:d}=z(P=>P.items),{taxCodes:f}=z(P=>P.taxCodes),{itemUnits:m}=z(P=>P.itemUnits),{budgets:p}=z(P=>P.budget),[g,y]=w.useState("list"),[b,h]=w.useState(null),[x,v]=w.useState(!1),{Add:C,Edit:j,Delete:N}=we(62);w.useEffect(()=>{t(ib()),t(dn()),t(mn()),t(Va()),t(ir()),t(za()),t(Zt()),t(fn()),t(Ua()),t(Zn()),t(xa()),t($o())},[t]);const S=()=>{h(null),y("form")},A=P=>{h(P),y("form")},k=()=>{y("list"),h(null)},T=[{key:"Status",header:"Status",sortable:!0,render:P=>eE(P)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:P=>new Date(P).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}],E=P=>{console.log(P)},$=P=>{console.log(values)},L=P=>{console.log(values)},M=async(P,F)=>{v(!0);try{console.log(`${F}d:`,response.data),V.success(`Obligation Request ${F}d successfully`)}catch(O){console.error(`Error ${F}ing Obligation Request:`,O),V.error(`Error ${F}ing Obligation Request`)}finally{v(!1)}},D=P=>{var O,R;const F=[];return(O=P==null?void 0:P.Status)!=null&&O.toLowerCase().includes("rejected")&&j?(F.push({icon:ke,title:"Edit",onClick:$,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),F.push({icon:Ca,title:"Delete",onClick:()=>L(),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(R=P==null?void 0:P.Status)!=null&&R.toLowerCase().includes("requested")&&F.push({icon:bn,title:"Approve",onClick:()=>M(P,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>M(P,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),F.push({icon:Zo,title:"View",onClick:E,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),F};return o.jsxs("div",{children:[g==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),C&&o.jsxs("button",{type:"button",onClick:S,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:T,data:e,actions:D,loading:r||x})})]}),g==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:k,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:b?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",b?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(vve,{initialData:b,employeeOptions:n.map(P=>({value:P.ID,label:P.FirstName+" "+P.MiddleName+" "+P.LastName})),vendorOptions:s.map(P=>({value:P.ID,label:P.Name||`${P.FirstName} ${P.MiddleName} ${P.LastName}`})),individualOptions:a.map(P=>({value:P.ID,label:P.Name||`${P.FirstName} ${P.MiddleName} ${P.LastName}`})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(P=>({value:P.ID,label:P.Name})),fundOptions:c.map(P=>({value:P.ID,label:P.Name})),projectOptions:l.map(P=>({value:P.ID,label:P.Title})),fiscalYearOptions:u.map(P=>({value:P.ID,label:P.Name})),particularsOptions:d.map(P=>({value:P.ID,label:P.Name})),unitOptions:m.map(P=>({value:P.ID,label:P.Name})),taxCodeOptions:f.map(P=>({value:P.ID,label:P.Name})),budgetOptions:p.map(P=>({value:P.ID,label:P.Name})),taxCodeFull:f,onCancel:k,onSubmitSuccess:k,onClose:k})})]}),g==="details"&&b&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:k,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>A(b),className:"btn btn-primary flex items-center",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(jve,{or:b,onBack:k})})]})]})}function Ro(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${dI(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function dI(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${dI(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${dI(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const tE="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",qve={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},mb=q("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${tE}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),Ec=q("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tE}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),C1=q("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),pb=q("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${tE}/disbursementVoucher/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),S1=q("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),DU=ve({name:"disbursementVouchers",initialState:qve,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(Ec.pending,e=>{e.isLoading=!0}).addCase(Ec.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(Ec.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(C1.pending,e=>{e.isLoading=!0}).addCase(C1.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(C1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pb.pending,e=>{e.isLoading=!0}).addCase(pb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(S1.pending,e=>{e.isLoading=!0}).addCase(S1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(S1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mb.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(mb.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(mb.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:S8e}=DU.actions,Vve=DU.reducer,Uve="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",sR=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],zve=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function Wve({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:p=[],taxCodeOptions:g=[],budgetOptions:y=[],taxCodeFull:b=[],chartOfAccountsOptions:h=[]}){const x=ce(),v=w.useRef(null),[C,j]=w.useState(!1),[N,S]=w.useState(null),[A,k]=w.useState(null),[T,E]=w.useState(null),[$,L]=w.useState(!1),[M,D]=w.useState([]),[P,F]=w.useState((t==null?void 0:t.modeOfPayment)||""),O=()=>le().shape({payeeType:_().required("Payee type is required"),payeeId:_().required("Payee selection is required"),accountingEntries:T==="Standalone Request"?Vt():Vt().min(1,"At least one item is required"),modeOfPayment:_().required("Mode of Payment is required"),bank:P==="Check"?_().required("Bank is required"):_(),checkNumber:P==="Check"?_().required("Check Number is required"):_(),receivedPaymentBy:_().required("Received Payment By is required"),contraAccounts:Vt().min(1,"At least one contra account is required").of(le().shape({account:_().required("Account is required"),normalBalance:_().oneOf(["Debit","Credit"],"Normal balance must be Debit or Credit").required("Normal balance is required"),amount:K().min(0,"Amount must be positive").required("Amount is required")}))}),{requestOptions:R,requestOptionsLoading:B,requestOptionsError:U}=z(J=>J.disbursementVouchers),G=(J,ue)=>{const Q=J.reduce((Y,pe)=>Y+Number(pe.amount||0),0),re=ue.reduce((Y,pe)=>Y+Number(pe.amount||0),0),X=Q-re;return{grossAmount:Q,totalTaxes:re,netAmount:X}},W={description:"",amount:"",accountCode:""},ae={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||(t!=null&&t.VendorID?"Vendor":t!=null&&t.CustomerID?"Individual":t!=null&&t.EmployeeID?"Employee":""),payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||(t==null?void 0:t.VendorID)||(t==null?void 0:t.CustomerID)||(t==null?void 0:t.EmployeeID)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[W],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.ReceivedPaymentBy)||""},be=J=>{j(!0),G(J.items,J.taxes);const ue=new FormData;J.payeeType==="Employee"?(ue.append("EmployeeID",J.payeeId),ue.append("VendorID",""),ue.append("CustomerID","")):J.payeeType==="Vendor"?(ue.append("EmployeeID",""),ue.append("VendorID",J.payeeId),ue.append("CustomerID","")):J.payeeType==="Individual"&&(ue.append("EmployeeID",""),ue.append("VendorID",""),ue.append("CustomerID",J.payeeId)),ue.append("PayeeType",J.payeeType),(J==null?void 0:J.requestType)==="Standalone Request"?ue.append("IsStandaloneRequest",!0):ue.append("OBR_LinkID",J.OBR_LinkID||""),ue.append("Payee",(N==null?void 0:N.Name)||(N==null?void 0:N.FirstName)+" "+(N==null?void 0:N.MiddleName)+" "+(N==null?void 0:N.LastName)||""),ue.append("Address",(N==null?void 0:N.StreetAddress)||""),ue.append("InvoiceNumber",J.obrNo),ue.append("InvoiceDate",J.obrDate),ue.append("ResponsibilityCenter",J.responsibilityCenter);const Q=J.accountingEntries.reduce((Ee,He)=>Ee+Number(He.subtotal||0),0),re=J.accountingEntries.reduce((Ee,He)=>Ee+Number(He.ewt||0),0),X=J.accountingEntries.reduce((Ee,He)=>Ee+Number(He.withheld||0),0),Y=J.accountingEntries.reduce((Ee,He)=>Ee+Number(He.vat||0),0),pe=J.accountingEntries.reduce((Ee,He)=>Ee+Number(He.discount||0),0);ue.append("Total",Q.toFixed(2)),ue.append("EWT",re.toFixed(2)),ue.append("WithheldAmount",X.toFixed(2)),ue.append("Vat_Total",Y.toFixed(2)),ue.append("Discounts",pe.toFixed(2)),ue.append("FundsID",J.fund),ue.append("FiscalYearID",J.fiscalYear),ue.append("ProjectID",J.project),ue.append("TravelID",""),ue.append("Items",JSON.stringify(J.accountingEntries)),J.Attachments.forEach((Ee,He)=>{Ee.ID?ue.append(`Attachments[${He}].ID`,Ee.ID):ue.append(`Attachments[${He}].File`,Ee.File)}),ue.append("ModeOfPayment",J.modeOfPayment),ue.append("BankID",J.bank),ue.append("CheckNumber",J.checkNumber),ue.append("ReceivedPaymentBy",J.receivedPaymentBy),ue.append("ContraAccounts",JSON.stringify(J.contraAccounts.map(Ee=>({ContraAccountID:parseInt(Ee.account),NormalBalance:Ee.normalBalance,Amount:parseFloat(Ee.amount)})))),t?(ue.append("LinkID",t.LinkID),ue.append("IsNew",!1)):ue.append("IsNew",!0);const Ne=pb(ue);x(Ne).unwrap().then(()=>{oe.success("Success"),e(),x(Ec())}).catch(Ee=>{oe.error((Ee==null?void 0:Ee.message)||"Failed to submit")}).finally(()=>{j(!1)})},se=({type:J})=>{switch(J){case"Employee":return o.jsx(LT,{className:"w-5 h-5"});case"Vendor":return o.jsx(Vk,{className:"w-5 h-5"});case"Individual":return o.jsx(cj,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(Le,{innerRef:v,initialValues:ae,validationSchema:O(),onSubmit:be,enableReinitialize:!0,children:({values:J,errors:ue,touched:Q,handleChange:re,handleBlur:X,setFieldValue:Y,setFieldError:pe,setFieldTouched:Ne,isValid:Ee})=>{G(J.items,J.taxes);const ze=sR.map(ee=>({value:ee.value,label:ee.label})).find(ee=>ee.value===J.payeeType),Vr=ee=>{S(null),Y("payeeType",ee),Y("payeeName",""),Y("payeeId",""),Y("payeeAddress",""),Y("officeUnitProject",""),Y("orsNumber","")},Ur=async ee=>{if(k(null),Y("requestType",ee),console.log("Selected Request Type:",ee),E(ee),ee==="Standalone Request"){Y("accountingEntries",[],!1),L(!0);return}J.payeeType&&J.payeeId&&ee&&x(mb({requestType:ee,payeeType:J.payeeType,payeeId:J.payeeId}))},sa=ee=>{var Ie,$e;k(ee);const ge=(((Ie=ee==null?void 0:ee.raw)==null?void 0:Ie.TransactionItemsAll)||[]).map(We=>{var li,Ks,ci,zu,iP,lP,cP;const Er={Price:We.Price??0,Quantity:We.Quantity??1,DiscountRate:We.DiscountRate??0,Vatable:We.Vatable,withheldEWT:We.EWTRate??0},Ys=s0({price:Er.Price,quantity:Er.Quantity,taxRate:We.TaxRate||0,discountPercent:Er.DiscountRate,vatable:Er.Vatable,ewtRate:Er.withheldEWT});return{...We,...Ys,itemName:((li=We.Item)==null?void 0:li.Name)||"",subtotal:We.AmountDue||0,Remarks:We.Remarks||"",FPP:We.FPP||"",accountCode:((ci=(Ks=We.ChargeAccount)==null?void 0:Ks.ChartofAccounts)==null?void 0:ci.AccountCode)||"",accountName:((iP=(zu=We.ChargeAccount)==null?void 0:zu.ChartofAccounts)==null?void 0:iP.Name)||"",fundCode:((cP=(lP=ee==null?void 0:ee.raw)==null?void 0:lP.sourceFunds)==null?void 0:cP.Code)||""}});v.current&&(v.current.setFieldValue("accountingEntries",ge),v.current.setFieldValue("OBR_LinkID",(($e=ee==null?void 0:ee.raw)==null?void 0:$e.LinkID)||""))},Qr=ee=>{let me=null;switch(J.payeeType){case"Employee":me=s.find(ge=>ge.ID===ee);break;case"Vendor":me=i.find(ge=>ge.ID===ee);break;case"Individual":me=l.find(ge=>ge.ID===ee);break}S(me),Y("payeeName",me==null?void 0:me.Name),Y("payeeId",me==null?void 0:me.ID)},Z=ee=>{switch(ee){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},xe=ee=>{F(ee.target.value),re(ee),ee.target.value==="Cash"&&(Y("bank",""),Y("checkNumber",""))};return console.log("values",ue),o.jsxs(Ue,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:sR.map(ee=>o.jsxs("button",{type:"button",onClick:()=>Vr(ee.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.payeeType===ee.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(se,{type:ee.value}),o.jsx("span",{className:"ml-3 font-medium",children:ee.label})]},ee.value))}),ue.payeeType&&Q.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.payeeType})]}),J.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",ze==null?void 0:ze.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:Z(J.payeeType),onChange:ee=>Qr(ee.value),value:Z(J.payeeType).find(ee=>ee.value===J.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),ue.payeeType&&Q.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.payeeType})]}),N&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(ze==null?void 0:ze.label)==="Employee"?`${N.FirstName||""} ${N.MiddleName||""} ${N.LastName||""}`.trim():((ze==null?void 0:ze.label)==="Vendor"||(ze==null?void 0:ze.label)==="Individual",N.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((ze==null?void 0:ze.label)==="Employee"||(ze==null?void 0:ze.label)==="Vendor"||(ze==null?void 0:ze.label)==="Individual",N.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:zve.map(ee=>o.jsx("button",{type:"button",onClick:()=>Ur(ee.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.requestType===ee.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:ee.label})},ee.value))}),ue.requestType&&Q.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.requestType})]}),J.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:R.map(ee=>{var ge,Ie,$e,We,Er,Ys,li,Ks,ci,zu;let me="";return J.payeeType==="Employee"?me=`${((ge=ee.Employee)==null?void 0:ge.FirstName)||""} ${((Ie=ee.Employee)==null?void 0:Ie.MiddleName)||""} ${(($e=ee.Employee)==null?void 0:$e.LastName)||""}`.trim():J.payeeType==="Individual"?!((We=ee.Employee)!=null&&We.FirstName)&&!((Er=ee.Employee)!=null&&Er.MiddleName)&&!((Ys=ee.Employee)!=null&&Ys.LastName)?me=ee.Name||"N/A":me=`${((li=ee.Employee)==null?void 0:li.FirstName)||""} ${((Ks=ee.Employee)==null?void 0:Ks.MiddleName)||""} ${((ci=ee.Employee)==null?void 0:ci.LastName)||""}`.trim():J.payeeType==="Vendor"&&(me=ee.Name||"N/A"),{value:ee.ID,label:`${ee.InvoiceNumber||""}  ${me}  ${ee.TIN||""}  ${ee.InvoiceDate}  ${((zu=ee.sourceFunds)==null?void 0:zu.Code)||""}`,raw:ee}}),isLoading:B,value:A,onChange:sa,placeholder:B?"Loading":U?`Error: ${U}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),ue.requestType&&Q.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.requestType+"request error"})]})]})]}),o.jsx(Gr,{name:"accountingEntries",children:({push:ee,remove:me})=>o.jsxs(o.Fragment,{children:[J.requestType==="Standalone Request"&&o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Stand Alone Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>L(!0),children:"+ Item"})]}),J.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("hr",{}),o.jsxs("div",{className:"hidden md:grid grid-cols-7 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"})]}),J.accountingEntries.map((ge,Ie)=>o.jsxs("div",{className:"border p-3 rounded text-sm flex flex-col gap-2 md:grid md:grid-cols-7 md:items-center md:gap-2",children:[o.jsxs("div",{className:"flex flex-col gap-1 md:hidden",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ITEM:"}),o.jsx("span",{children:ge.itemName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"AMOUNT:"}),o.jsx("span",{children:parseFloat(ge.subtotal).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"AMOUNT DUE:"}),o.jsx("span",{children:parseFloat(ge.subtotal).toFixed(2)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"REMARKS:"}),o.jsx("span",{children:ge.Remarks})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ACCOUNT:"}),o.jsx("span",{children:ge.chargeAccountName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-semibold",children:"ACCOUNT CODE:"}),o.jsx("span",{children:ge.ChargeAccountID})]})]}),o.jsx("span",{className:"hidden md:block",children:ge.itemName}),o.jsx("span",{className:"hidden md:block",children:parseFloat(ge.subtotal).toFixed(2)}),o.jsx("span",{className:"hidden md:block",children:parseFloat(ge.subtotal).toFixed(2)}),o.jsx("span",{className:"hidden md:block",children:ge.Remarks}),o.jsx("span",{className:"hidden md:block",children:ge.FPP}),o.jsx("span",{className:"hidden md:block",children:ge.chargeAccountName}),o.jsx("span",{className:"hidden md:block",children:ge.ChargeAccountID}),o.jsx("div",{className:"flex justify-end md:col-span-8",children:o.jsx("button",{type:"button",onClick:()=>me(Ie),className:"text-red-600 hover:text-red-800 text-xs flex items-center gap-1",children:o.jsx(Jt,{size:16})})})]},Ie)),o.jsxs("div",{className:"md:grid md:grid-cols-8 md:gap-2 font-semibold pt-2 border-t text-sm",children:[o.jsx("div",{className:"md:col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:J.accountingEntries.reduce((ge,Ie)=>ge+Number(Ie.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"pt-2 border-t text-sm font-semibold text-right",children:Ro(J.accountingEntries.reduce((ge,Ie)=>ge+Number(Ie.subtotal||0),0).toFixed(2))})]}),o.jsx(ie,{isOpen:$,onClose:()=>L(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(TU,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:p,taxCodeOptions:g,budgetOptions:y,taxCodeFull:b,onClose:()=>L(!1),onSubmit:ge=>{ee(ge),L(!1)}})})]})}),ue.accountingEntries&&J.requestType!=="Standalone Request"&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ue.accountingEntries}),(()=>{const ee={};J.accountingEntries.forEach(ge=>{console.log("entry",ge);const Ie=ge.TaxName||"N/A",$e=ge.TaxRate||0,We=Number(ge.withheld||0),Er=`${Ie}-${$e}`;ee[Er]||(ee[Er]={taxName:Ie,taxRate:$e,withheld:0}),ee[Er].withheld+=We});const me=Object.values(ee);return me.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("hr",{}),o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),me.map(({taxName:ge,taxRate:Ie,withheld:$e},We)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:ge}),o.jsx("span",{className:"text-right",children:parseFloat(Ie).toFixed(2)}),o.jsx("span",{className:"text-right",children:$e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},We))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsx(Gr,{name:"contraAccounts",children:({push:ee,remove:me})=>{var ge;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Contra Accounts"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>ee({code:"",account:"",amount:"",normalBalance:""}),children:[o.jsx(Te,{className:"w-4 h-4 mr-1"}),"Add Contra Account"]})]}),((ge=J.contraAccounts)==null?void 0:ge.length)>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"hidden md:grid grid-cols-4 gap-2 font-semibold text-sm text-gray-700 bg-gray-50 p-2 rounded",children:[o.jsx("span",{children:"Account"}),o.jsx("span",{children:"Normal Balance"}),o.jsx("span",{children:"Amount"}),o.jsx("span",{children:"Actions"})]}),J.contraAccounts.map((Ie,$e)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 space-y-3 md:space-y-0 md:grid md:grid-cols-4 md:gap-2 md:items-center",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 md:hidden",children:"Account"}),o.jsx(Hr,{name:`contraAccounts[${$e}].account`,options:h,onChange:We=>{Y(`contraAccounts[${$e}].account`,(We==null?void 0:We.value)||""),Y(`contraAccounts[${$e}].code`,(We==null?void 0:We.code)||"")},value:h.find(We=>We.value===Ie.account)||null,className:"basic-single",classNamePrefix:"select",placeholder:"Select account..."}),o.jsx(HN,{name:`contraAccounts[${$e}].account`,component:"p",className:"text-xs text-red-600 mt-1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 md:hidden",children:"Normal Balance"}),o.jsxs("select",{name:`contraAccounts[${$e}].normalBalance`,value:Ie.normalBalance,onChange:re,onBlur:X,className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select balance type"}),o.jsx("option",{value:"Debit",children:"Debit"}),o.jsx("option",{value:"Credit",children:"Credit"})]}),o.jsx(HN,{name:`contraAccounts[${$e}].normalBalance`,component:"p",className:"text-xs text-red-600 mt-1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 md:hidden",children:"Amount"}),o.jsx("input",{type:"number",name:`contraAccounts[${$e}].amount`,value:Ie.amount,onChange:re,onBlur:X,placeholder:"0.00",step:"0.01",min:"0",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),o.jsx(HN,{name:`contraAccounts[${$e}].amount`,component:"p",className:"text-xs text-red-600 mt-1"})]}),o.jsx("div",{className:"flex justify-end md:justify-center",children:o.jsx("button",{type:"button",onClick:()=>me($e),className:"text-red-600 cursor-pointer hover:text-red-900 p-1 rounded",disabled:J.contraAccounts.length===1,children:o.jsx(Me,{className:"w-4 h-4"})})})]},$e)),o.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[o.jsx("span",{children:"Total Contra Accounts:"}),o.jsx("span",{children:J.contraAccounts.reduce((Ie,$e)=>Ie+Number($e.amount||0),0).toFixed(2)})]})})]}),ue.contraAccounts&&Q.contraAccounts&&o.jsx("p",{className:"text-sm text-red-600",children:typeof ue.contraAccounts=="string"?ue.contraAccounts:"Please check contra account entries"})]})}}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx("div",{children:o.jsx(I,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:J.modeOfPayment,onChange:xe,onBlur:X,error:ue.modeOfPayment,touched:Q.modeOfPayment,required:!0})})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[P==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx(I,{type:"text",label:"Bank",name:"bank",value:J.bank,onChange:re,onBlur:X,error:ue.bank,touched:Q.bank,required:P==="Check"}),o.jsx(I,{type:"text",label:"Check No.",name:"checkNumber",value:J.checkNumber,onChange:re,onBlur:X,error:ue.checkNumber,touched:Q.checkNumber,required:P==="Check"})]}),o.jsx(I,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:J.receivedPaymentBy,onChange:re,onBlur:X,error:ue.receivedPaymentBy,touched:Q.receivedPaymentBy,required:!0})]})]}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:ee,push:me})=>{var ge;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>me({File:null}),children:"+ Attachment"})]}),(ge=J.Attachments)==null?void 0:ge.map((Ie,$e)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ie.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${Uve}/uploads/${Ie.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ie.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${$e}].ID`,value:Ie.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${$e+1}`}),o.jsx("input",{type:"file",name:`Attachments[${$e}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:We=>Y(`Attachments[${$e}].File`,We.currentTarget.files[0]),onBlur:X,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>ee($e),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Jt,{className:"w-4 h-4"})})]},$e))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})}function Hve(){const t=ce(),{disbursementVouchers:e,isLoading:r}=z(M=>M.disbursementVouchers),{Add:n,Edit:a,Delete:s}=we(40),{employees:i}=z(M=>M.employees),{customers:l}=z(M=>M.customers),{vendorDetails:c}=z(M=>M.vendorDetails),{departments:u}=z(M=>M.departments),{projectDetails:d}=z(M=>M.projectDetails),{funds:f}=z(M=>M.funds),{fiscalYears:m}=z(M=>M.fiscalYears),{items:p}=z(M=>M.items),{taxCodes:g}=z(M=>M.taxCodes),{itemUnits:y}=z(M=>M.itemUnits),{budgets:b}=z(M=>M.budget),h=z(M=>{var D;return((D=M.chartOfAccounts)==null?void 0:D.accounts)||[]}),[x,v]=w.useState("list"),[C,j]=w.useState(null),[N,S]=w.useState(!1);w.useEffect(()=>{t(Ec()),t(dn()),t(mn()),t(Va()),t(ir()),t(za()),t(Zt()),t(fn()),t(Ua()),t(Zn()),t(xa()),t($o()),t(kr())},[t]);const A=()=>{j(null),v("form")},k=M=>{j(M),v("form")},T=()=>{v("list"),j(null)},E=[{key:"Status",header:"Status",sortable:!0,render:M=>eE(M)},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:M=>new Date(M).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"BillingDueDate",header:"Billing Due Date ",sortable:!0},{key:"ObligationRequestNumber",header:"CAFOA Number",sortable:!0}],$=M=>{console.log("Edit OR",M),j(M),v("form")},L=async(M,D)=>{S(!0);try{const P=await qe.post(`/disbursementVoucher/${D}`,{ID:M.ID});console.log(`${D}d:`,P.data),t(Ec()),V.success(`Disbursement Voucher ${D}d successfully`)}catch(P){console.error(`Error ${D}ing disbursement voucher:`,P),V.error(`Error ${D}ing disbursement voucher`)}finally{S(!1)}};return o.jsxs("div",{children:[x==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),n&&o.jsxs("button",{type:"button",onClick:A,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:E,data:e,actions:M=>{const D=[];return M.Status.toLowerCase().includes("rejected")&&a?D.push({icon:ke,title:"Edit",onClick:()=>$(M),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):M.Status==="Requested"&&D.push({icon:bn,title:"Approve",onClick:()=>L(M,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>L(M,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),D},loading:r||N})})]}),x==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:T,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:C?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",C?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Wve,{initialData:C,employeeOptions:i.map(M=>({value:M.ID,label:M.FirstName+" "+M.MiddleName+" "+M.LastName})),vendorOptions:c.map(M=>({value:M.ID,label:M.Name})),individualOptions:l.map(M=>({value:M.ID,label:M.Name||`${M.FirstName} ${M.MiddleName} ${M.LastName}`})),chartOfAccountsOptions:(h||[]).map(M=>({value:M.ID,label:M.AccountCode+" - "+M.Name})),employeeData:i,vendorData:c,individualData:l,departmentOptions:u.map(M=>({value:M.ID,label:M.Name})),fundOptions:f.map(M=>({value:M.ID,label:M.Name})),projectOptions:d.map(M=>({value:M.ID,label:M.Title})),fiscalYearOptions:m.map(M=>({value:M.ID,label:M.Name})),particularsOptions:p.map(M=>({value:M.ID,label:M.Name})),unitOptions:y.map(M=>({value:M.ID,label:M.Name})),taxCodeOptions:g.map(M=>({value:M.ID,label:M.Name})),budgetOptions:b.map(M=>({value:M.ID,label:M.Name})),taxCodeFull:g,onCancel:T,onSubmitSuccess:T,onClose:T})})]}),x==="details"&&C&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:T,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>k(C),className:"btn btn-primary flex items-center",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}const Gve="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io";function Yve({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const{departments:s}=z(h=>h.departments),{employees:i}=z(h=>h.employees),{budgets:l}=z(h=>h.budget);console.log("Budgets:",l);const c=ce();w.useEffect(()=>{c(ir()),c(dn()),c($o())},[c]);const u=le({BudgetID:_().required("Office is required"),DateStart:Be().required("Start Date is required"),DateEnd:Be().required("End Date is required").min(bl("DateStart"),"End Date must be after Start Date"),Place:_().required("Place/Office to be visited is required"),Venue:_().required("Venue/Destination is required"),Remarks:_(),Purpose:_().required("Purpose of Travel is required"),Travelers:Vt().of(le({TravelerID:_().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:Vt().of(le({Amount:K().required("Amount is required"),BudgetID:_().required("Budget of Fund is required"),Type:_().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:Vt().of(le({Name:_().required("Document name is required")})).min(1,"At least one document is required")}),d=tt({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:u,onSubmit:async(h,x)=>{const v=new FormData;for(const C in h)C==="Attachments"?h.Attachments.forEach((j,N)=>{j.ID?v.append(`Attachments[${N}].ID`,j.ID):v.append(`Attachments[${N}].File`,j.File)}):v.append(C,JSON.stringify(h[C]));try{await e(v)}catch(C){console.error(C)}finally{x(!1)}}}),{values:f,handleChange:m,handleBlur:p,errors:g,touched:y,isSubmitting:b}=d;return o.jsx(hT,{value:d,children:o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-4",children:[o.jsx(I,{type:"select",label:"Office",name:"BudgetID",options:s.map(h=>({value:h.ID,label:h.Name})),value:f.BudgetID,onChange:m,onBlur:p,error:g.BudgetID,touched:y.BudgetID,required:!0}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:f.DateStart,onChange:m,onBlur:p,error:g.DateStart,touched:y.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:f.DateEnd,onChange:m,onBlur:p,error:g.DateEnd,touched:y.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Place/Office to be visited",name:"Place",type:"text",value:f.Place,onChange:m,onBlur:p,error:g.Place,touched:y.Place,required:!0}),o.jsx(I,{label:"Venue/Destination",name:"Venue",type:"text",value:f.Venue,onChange:m,onBlur:p,error:g.Venue,touched:y.Venue,required:!0})]}),o.jsxs("div",{className:"grid sm:grid-cols-2 sm:gap-4",children:[o.jsx(I,{type:"textarea",label:"Remarks",name:"Remarks",value:f.Remarks,onChange:m,onBlur:p,error:g.Remarks,touched:y.Remarks}),o.jsx(I,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:f.Purpose,onChange:m,onBlur:p,error:g.Purpose,touched:y.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-1  sm:grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:f.Plane,onChange:m,onBlur:p}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:f.Vessels,onChange:m,onBlur:p}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:f.PUV,onChange:m,onBlur:p}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:f.ServiceVehicle,onChange:m,onBlur:p}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:f.RentedVehicle,onChange:m,onBlur:p}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(Gr,{name:"Travelers",render:({remove:h,push:x})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2 ",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(St,{type:"button",onClick:()=>x({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),f.Travelers.map((v,C)=>{var j,N,S,A;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(I,{type:"select",label:`Employee ${C+1}`,name:`Travelers[${C}].TravelerID`,options:i.map(k=>({value:k.ID,label:k.FirstName+" "+k.MiddleName+" "+k.LastName})),value:v.TravelerID,onChange:m,onBlur:p,error:(N=(j=g.Travelers)==null?void 0:j[C])==null?void 0:N.TravelerID,touched:(A=(S=y.Travelers)==null?void 0:S[C])==null?void 0:A.TravelerID,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(St,{type:"button",onClick:()=>h(C),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:f.Travelers.length===1,children:o.jsx(Jt,{className:"w-4 h-4"})})]},C)})]})}),o.jsx("hr",{}),o.jsx(Gr,{name:"TravelPayments",render:({remove:h,push:x})=>{var v;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(St,{type:"button",onClick:()=>x({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(v=f.TravelPayments)==null?void 0:v.map((C,j)=>{var N,S,A,k,T,E,$,L,M,D,P,F;return o.jsxs("div",{className:"flex sm:flex-wrap max-sm:flex-col  sm:gap-4 w-full  !mb-4",children:[o.jsx(I,{type:"number",label:"Amount",name:`TravelPayments[${j}].Amount`,value:C.Amount,onChange:m,onBlur:p,error:(S=(N=g.TravelPayments)==null?void 0:N[j])==null?void 0:S.Amount,touched:(k=(A=y.TravelPayments)==null?void 0:A[j])==null?void 0:k.Amount,className:"w-full sm:max-w-[180px] ",required:!0}),o.jsx(I,{type:"select",label:"Source of Fund",name:`TravelPayments[${j}].BudgetID`,options:l.map(O=>({value:O.ID,label:O.Name})),value:C.BudgetID,onChange:m,onBlur:p,error:(E=(T=g.TravelPayments)==null?void 0:T[j])==null?void 0:E.BudgetID,touched:(L=($=y.TravelPayments)==null?void 0:$[j])==null?void 0:L.BudgetID,className:"w-full sm:min-w-[200px] ",required:!0}),o.jsx(I,{type:"select",label:"Type",name:`TravelPayments[${j}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:C.Type,onChange:m,onBlur:p,error:(D=(M=g.TravelPayments)==null?void 0:M[j])==null?void 0:D.Type,touched:(F=(P=y.TravelPayments)==null?void 0:P[j])==null?void 0:F.Type,className:"w-full sm:min-w-[100px] ",required:!0}),o.jsx(St,{type:"button",onClick:()=>h(j),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3 my-auto ml-auto",disabled:f.TravelPayments.length===1,children:o.jsx(Jt,{className:"w-4 h-4"})})]},j)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(()=>{var A;const C=new Date(f.DateStart),j=new Date(f.DateEnd),N=f.DateStart&&f.DateEnd?Math.ceil((j-C)/(1e3*60*60*24))+1:1;return((A=f.TravelPayments)==null?void 0:A.reduce((k,T)=>{const E=parseFloat(T.Amount);return isNaN(E)?k:T.Type==="2"?k+E*N:k+E},0)).toFixed(2)})()})]})]})}}),o.jsx("hr",{}),o.jsx(Gr,{name:"TravelDocuments",render:({remove:h,push:x})=>{var v;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(St,{type:"button",onClick:()=>x({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(v=f.TravelDocuments)==null?void 0:v.map((C,j)=>{var N,S,A,k;return o.jsxs("div",{className:"flex items-center justify-between gap-4 mb-2 w-full",children:[o.jsx(I,{type:"text",label:`Document ${j+1}`,name:`TravelDocuments[${j}].Name`,value:C.Name,onChange:m,onBlur:p,error:(S=(N=g.TravelDocuments)==null?void 0:N[j])==null?void 0:S.Name,touched:(k=(A=y.TravelDocuments)==null?void 0:A[j])==null?void 0:k.Name,className:"w-full sm:min-w-[300px]",required:!0}),o.jsx(St,{type:"button",onClick:()=>h(j),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",disabled:f.TravelDocuments.length===1,children:o.jsx(Jt,{className:"w-4 h-4"})})]},j)})]})}}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:h,push:x})=>{var v;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(St,{type:"button",onClick:()=>x({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(v=f.Attachments)==null?void 0:v.map((C,j)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[C.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${Gve}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:C.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${j}].ID`,value:C.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${j+1}`}),o.jsx("input",{type:"file",name:`Attachments[${j}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:N=>d.setFieldValue(`Attachments[${j}].File`,N.currentTarget.files[0]),onBlur:p,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>h(j),className:"bg-red-600 hover:bg-red-700 text-white p-2 py-3",children:o.jsx(Jt,{className:"w-4 h-4"})})]},j))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":"Save"})]})]})})}const Qj="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Kve=[],hb=q("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qj}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),gb=q("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${Qj}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fI=q("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${Qj}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),yb=q("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${Qj}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jve=ve({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(hb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hb.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=Kve}).addCase(gb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(fI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(yb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),Xve=Jve.reducer;function Zve(){const t=ce(),{travelOrders:e,isLoading:r}=z(D=>D.travelOrders),[n,a]=w.useState(!1),[s,i]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState(!1),{Add:p,Edit:g,Delete:y}=we(80);w.useEffect(()=>{t(hb())},[t]);const b=async D=>{try{u?await t(fI({...D,ID:u.ID})).unwrap():await t(gb(D)).unwrap(),i(!1),d(null),oe.success("Success")}catch(P){throw oe.error(P||"Failed"),P}},h=()=>{d(null),i(!0)},x=D=>{d(D),c(!0)},v=D=>{d(D),i(!0)},C=D=>{d(D),a(!0)},j=async()=>{if(u)try{await t(yb(u.ID)).unwrap(),oe.success("Deleted")}catch(D){console.error("Failed to delete travel order:",D),oe.error("Failed to delete travel order")}finally{a(!1),d(null)}},N=()=>{i(!1),d(null)},S=()=>{c(!1),d(null)},A=D=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(D),k=D=>new Date(D).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),T=[{key:"TransactionStatus",header:"Status",sortable:!0,render:D=>{let P="bg-neutral-100 text-neutral-800";switch(D){case"Requested":P="bg-warning-100 text-warning-800";break;case"Approval Progress":P="bg-primary-100 text-primary-800";break;case"Rejected":P="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P}`,children:D})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}],E=D=>{x(D)},$=({travelOrder:D,onClose:P,onEdit:F})=>{const O=()=>{const U=[];return D.Plane&&U.push("Airplane"),D.PUV&&U.push("Public Utility Vehicle"),D.ServiceVehicle&&U.push("Service Vehicle"),D.RentedVehicle&&U.push("Rented Vehicle"),D.Vessels&&U.push("Vessel"),U.length>0?U.join(", "):"Not specified"},R=()=>{var U;return((U=D.TravelPayments)==null?void 0:U.reduce((G,W)=>G+parseFloat(W.Amount||0),0))||0},B=U=>{switch(U){case"Requested":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Approval Progress":return"bg-blue-100 text-blue-800 border-blue-200";case"Approved":return"bg-green-100 text-green-800 border-green-200";case"Rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return o.jsxs("div",{className:"max-h-[80vh] overflow-y-auto",children:[o.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-primary-100 p-6 rounded-lg mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:D.InvoiceNumber}),o.jsx("p",{className:"text-primary-700 mt-1",children:"Travel Order Details"})]}),o.jsxs("div",{className:"flex flex-col sm:items-end gap-2",children:[o.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-semibold border ${B(D.TransactionStatus)}`,children:D.TransactionStatus}),o.jsxs("p",{className:"text-sm text-primary-600",children:["Filed on ",k(D.DateCreated)]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(UJ,{className:"w-5 h-5 mr-2 text-primary-600"}),"Travel Information"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Destination"}),o.jsx("p",{className:"text-gray-900 mt-1",children:D.Place||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue"}),o.jsx("p",{className:"text-gray-900 mt-1",children:D.Venue||"Not specified"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Start Date"}),o.jsx("p",{className:"text-gray-900 mt-1",children:k(D.DateStart)})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"End Date"}),o.jsx("p",{className:"text-gray-900 mt-1",children:k(D.DateEnd)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Duration"}),o.jsxs("p",{className:"text-gray-900 mt-1",children:[D.No_of_Days," days"]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Inclusive Dates"}),o.jsx("p",{className:"text-gray-900 mt-1",children:D.InclusivesDate||"Not specified"})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(Dx,{className:"w-5 h-5 mr-2 text-primary-600"}),"Purpose & Details"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Purpose"}),o.jsx("p",{className:"text-gray-900 mt-1",children:D.Purpose||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Office/Department"}),o.jsx("p",{className:"text-gray-900 mt-1",children:D.BudgetDepartmentName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Transportation"}),o.jsx("p",{className:"text-gray-900 mt-1",children:O()})]}),D.Remarks&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Remarks"}),o.jsx("p",{className:"text-gray-900 mt-1",children:D.Remarks})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(b3,{className:"w-5 h-5 mr-2 text-primary-600"}),"Financial Information"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-primary-50 p-4 rounded-lg",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-primary-700 font-medium",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-primary-900",children:A(R())})]})}),D.TravelPayments&&D.TravelPayments.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Payment Breakdown"}),o.jsx("div",{className:"space-y-2",children:D.TravelPayments.map((U,G)=>o.jsxs("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded",children:[o.jsx("span",{className:"text-gray-700",children:U.Type?"Advance":"Reimbursement"}),o.jsx("span",{className:"font-semibold text-gray-900",children:A(U.Amount)})]},G))})]})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(qD,{className:"w-5 h-5 mr-2 text-primary-600"}),"Travelers"]}),o.jsx("div",{className:"space-y-3",children:D.Travelers&&D.Travelers.length>0?D.Travelers.map((U,G)=>o.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center mr-3",children:o.jsx(qD,{className:"w-4 h-4 text-primary-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900",children:["Traveler ID: ",U.TravelerID]}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Link ID: ",U.LinkID]})]})]},G)):o.jsx("p",{className:"text-gray-500 italic",children:"No travelers specified"})})]})]}),(D.TravelDocuments&&D.TravelDocuments.length>0||D.Attachments&&D.Attachments.length>0)&&o.jsxs("div",{className:"mt-6 bg-white border border-gray-200 rounded-lg p-6",children:[o.jsxs("h3",{className:"flex items-center text-lg font-semibold text-gray-900 mb-4",children:[o.jsx(BD,{className:"w-5 h-5 mr-2 text-primary-600"}),"Documents & Attachments"]}),D.TravelDocuments&&D.TravelDocuments.length>0&&o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Travel Documents"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:D.TravelDocuments.map((U,G)=>o.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg",children:[o.jsx(Dx,{className:"w-5 h-5 text-gray-400 mr-3"}),o.jsx("span",{className:"text-gray-900 truncate",children:U.Name})]},G))})]}),D.Attachments&&D.Attachments.length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-500 mb-2 block",children:"Attachments"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:D.Attachments.map((U,G)=>o.jsxs("div",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[o.jsx(BD,{className:"w-5 h-5 text-gray-400 mr-3"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-gray-900 truncate",children:U.DataName}),o.jsx("p",{className:"text-xs text-gray-500",children:U.DataType})]})]},G))})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:P,className:"btn btn-outline",children:"Close"}),g&&D.TransactionStatus==="Rejected"&&o.jsxs("button",{type:"button",onClick:F,className:"btn btn-primary",children:[o.jsx(ke,{className:"w-4 h-4 mr-2"}),"Edit Travel Order"]})]})]})},L=async(D,P)=>{m(!0);try{console.log(`${P}d:`,response.data),oe.success(`Travel Order ${P}d successfully`)}catch(F){console.error(`Error ${P}ing Travel Order:`,F),oe.error(`Error ${P}ing Travel Order`)}finally{m(!1)}},M=D=>{var F,O;const P=[];return(F=D==null?void 0:D.TransactionStatus)!=null&&F.toLowerCase().includes("rejected")&&g?(P.push({icon:ke,title:"Edit",onClick:v,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),P.push({icon:Me,title:"Delete",onClick:()=>C(D),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(O=D==null?void 0:D.TransactionStatus)!=null&&O.toLowerCase().includes("requested")&&P.push({icon:bn,title:"Approve",onClick:()=>L(D,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>L(D,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),P.push({icon:Zo,title:"View",onClick:E,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),P};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),p&&o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:T,data:e,actions:M,loading:r||f})}),o.jsx(ie,{isOpen:s,onClose:N,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(Yve,{initialData:u,onSubmit:b,onClose:N})}),o.jsx(ie,{isOpen:l,onClose:S,title:"Travel Order Details",size:"2xl",children:u&&o.jsx($,{travelOrder:u,onClose:S,onEdit:()=>{c(!1),i(!0)}})}),o.jsxs(ie,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.InvoiceNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:j,className:"btn btn-danger",children:"Delete"})]})]})]})}const Qve="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io";function eje({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=w.useState(""),[u,d]=w.useState((t==null?void 0:t.JEVType)||""),f=le({JEVType:_().required("Type is required"),FundsID:_().required("Fund is required"),InvoiceDate:Be().required("Date is required"),SAI_No:_(),Remarks:_().required("Particulars are required"),ObligationRequestNumber:_(),CheckNumber:_(),CheckDate:Be(),AccountingEntries:Vt().of(le({ResponsibilityCenter:_().required("Required"),AccountExplanation:_().required("Required"),Debit:K().nullable().typeError("Must be a number").required("Debit is required"),Credit:K().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=tt({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(v,C)=>{const j=v.AccountingEntries.reduce((A,k)=>A+(parseFloat(k.Debit)||0),0),N=v.AccountingEntries.reduce((A,k)=>A+(parseFloat(k.Credit)||0),0);if(console.log(v),j!==N){c("Total Debit must be equal to Total Credit.");return}else c("");const S=new FormData;for(const A in v)A==="Attachments"?v.Attachments.forEach((k,T)=>{k.ID?S.append(`Attachments[${T}].ID`,k.ID):S.append(`Attachments[${T}].File`,k.File)}):A!=="CheckDate"&&S.append(A,JSON.stringify(v[A]));S.append("CheckDate",JSON.stringify(v.CheckDate||v.InvoiceDate)),t&&S.append("LinkID",t.LinkID);try{await e(S)}catch(A){console.error(A)}finally{C(!1)}}}),p=v=>{d(v.target.value),m.handleChange(v)},{values:g,handleChange:y,handleBlur:b,errors:h,touched:x}=m;return o.jsx(hT,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"select",label:"Type",name:"JEVType",options:n,value:g.JEVType,onChange:p,onBlur:b,error:h.JEVType,touched:x.JEVType,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundsID",options:a,value:g.FundsID,onChange:y,onBlur:b,error:h.FundsID,touched:x.FundsID,required:!0}),o.jsx(I,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:g.InvoiceDate,onChange:y,onBlur:b,error:h.InvoiceDate,touched:x.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:g.ObligationRequestNumber,onChange:y,onBlur:b,error:h.ObligationRequestNumber,touched:x.ObligationRequestNumber}),o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",value:g.Remarks,onChange:y,onBlur:b,error:h.Remarks,touched:x.Remarks,required:!0}),o.jsx(I,{type:"text",label:"Payee",name:"Payee",value:g.Payee,onChange:y,onBlur:b,error:h.Payee,touched:x.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"text",label:"DV No",name:"SAI_No",value:g.SAI_No,onChange:y,onBlur:b,error:h.SAI_No,touched:x.SAI_No}),o.jsx(I,{type:"text",label:"Check No",name:"CheckNumber",value:g.CheckNumber,onChange:y,onBlur:b,error:h.CheckNumber,touched:x.CheckNumber}),o.jsx(I,{type:"date",label:"Check Date",name:"CheckDate",value:g.CheckDate,onChange:y,onBlur:b,error:h.CheckDate,touched:x.CheckDate})]}),o.jsx("hr",{}),o.jsx(Gr,{name:"AccountingEntries",render:({remove:v,push:C})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(St,{type:"button",onClick:()=>C({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),g.AccountingEntries.map((j,N)=>{var k,T,E,$,L,M,D,P,F,O,R,B,U,G;const S=parseFloat(j.Debit)>0,A=parseFloat(j.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col sm:flex-wrap gap-2 w-full",children:[o.jsx(I,{className:"flex-1 w-full sm:min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${N}].ResponsibilityCenter`,options:s,value:j.ResponsibilityCenter,onChange:y,onBlur:b,error:(T=(k=h.AccountingEntries)==null?void 0:k[N])==null?void 0:T.ResponsibilityCenter,touched:($=(E=x.AccountingEntries)==null?void 0:E[N])==null?void 0:$.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 sm:min-w-[200px]",children:[o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsx(Hr,{label:"Accounts and Explanation",options:i,className:"focus:!ring-none focus:!border-none focus:bg-red-600",placeholder:"Select an account...",isSearchable:!0,onChange:W=>m.setFieldValue(`AccountingEntries[${N}].AccountExplanation`,(W==null?void 0:W.value)||""),name:`AccountingEntries[${N}].AccountExplanation`,value:i.find(W=>W.value===j.AccountExplanation)||null,onBlur:b,required:!0}),((M=(L=h.AccountingEntries)==null?void 0:L[N])==null?void 0:M.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:h.AccountingEntries[N].AccountExplanation})]}),o.jsx(I,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${N}].Debit`,value:j.Debit,onChange:W=>{W.target.value&&parseFloat(W.target.value)>0&&m.setFieldValue(`AccountingEntries[${N}].Credit`,0),y(W)},onBlur:b,error:(P=(D=h.AccountingEntries)==null?void 0:D[N])==null?void 0:P.Debit,touched:(O=(F=x.AccountingEntries)==null?void 0:F[N])==null?void 0:O.Debit,required:!A}),o.jsx(I,{className:"flex-1 sm:max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${N}].Credit`,value:j.Credit,onChange:W=>{W.target.value&&parseFloat(W.target.value)>0&&m.setFieldValue(`AccountingEntries[${N}].Debit`,0),y(W)},onBlur:b,error:(B=(R=h.AccountingEntries)==null?void 0:R[N])==null?void 0:B.Credit,touched:(G=(U=x.AccountingEntries)==null?void 0:U[N])==null?void 0:G.Credit,required:!S})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(St,{type:"button",onClick:()=>v(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:g.AccountingEntries.length===1,children:o.jsx(Jt,{className:"w-4 h-4"})})})]},N)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[g.AccountingEntries.reduce((j,N)=>j+(parseFloat(N.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[g.AccountingEntries.reduce((j,N)=>j+(parseFloat(N.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:v,push:C})=>{var j;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(St,{type:"button",onClick:()=>C({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(j=g.Attachments)==null?void 0:j.map((N,S)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[N.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${Qve}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:N.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${S}].ID`,value:N.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${S+1}`}),o.jsx("input",{type:"file",name:`Attachments[${S}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:A=>m.setFieldValue(`Attachments[${S}].File`,A.currentTarget.files[0]),onBlur:b,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>v(S),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Jt,{className:"w-4 h-4"})})]},S))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(St,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(St,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const ew="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",tje=[],Pc=q("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ew}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),bb=q("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${ew}/journalentryvoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mI=q("journalEntries/updateJournalEntry",async({journalEntry:t,id:e},r)=>{try{const n=await fetch(`${ew}/journalEntryVoucher/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to update");return a}catch(n){return r.rejectWithValue(n.message)}}),xb=q("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${ew}/journalEntryVoucher/?LinkID=${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rje=ve({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Pc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pc.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(Pc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=tje}).addCase(bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(mI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),nje=rje.reducer;function aje(){var $;const{departments:t}=z(L=>L.departments),{accounts:e}=z(L=>L.chartOfAccounts),{Add:r,Edit:n,Delete:a}=we(57),s=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],i=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],l=ce(),{journalEntries:c,isLoading:u}=z(L=>L.journalEntries),[d,f]=w.useState(!1),[m,p]=w.useState(null),[g,y]=w.useState(!1),[b,h]=w.useState(!1),[x,v]=w.useState(null);w.useEffect(()=>{l(Pc()),l(ir()),l(kr())},[l]);const C=()=>{p(null),f(!0)},j=L=>{v(L),y(!0)},N=async()=>{if(x)try{await l(xb(x.LinkID)).unwrap(),oe.success("Deleted"),l(Pc())}catch(L){console.error("Failed to delete journal entry:",L),oe.error("Failed to delete journal entry")}finally{y(!1),v(null)}},S=async L=>{console.log({values:L});try{m?await l(mI({journalEntry:L,id:m.ID})).unwrap():await l(bb(L)).unwrap(),oe.success("Success"),l(Pc())}catch(M){throw oe.error(M||"Failed"),M}finally{f(!1),p(null)}},A=[{key:"Status",header:"Status",sortable:!0,render:L=>{let M="bg-neutral-100 text-neutral-800";switch(L){case"Requested":M="bg-warning-100 text-warning-800";break;case"Posted":M="bg-primary-100 text-primary-800";break;case"Rejected":M="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M}`,children:L})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}],k=L=>{console.log(L)},T=async(L,M)=>{h(!0);try{console.log(`${M}d:`,response.data),oe.success(`Purchase Request ${M}d successfully`)}catch(D){console.error(`Error ${M}ing Purchase Request:`,D),oe.error(`Error ${M}ing Purchase Request`)}finally{h(!1)}},E=L=>{var D,P;const M=[];return(D=L==null?void 0:L.Status)!=null&&D.toLowerCase().includes("rejected")&&n?(M.push({icon:ke,title:"Edit",onClick:handleEditRequest,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),M.push({icon:Me,title:"Delete",onClick:()=>j(L),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(P=L==null?void 0:L.Status)!=null&&P.toLowerCase().includes("requested")&&M.push({icon:bn,title:"Approve",onClick:()=>T(L,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>T(L,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),M.push({icon:Au,title:"View",onClick:k,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),M};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entry Vouchers"})]}),r&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:A,data:c,actions:E,loading:u||b,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(ie,{size:"xxxl",isOpen:d,onClose:()=>f(!1),title:m?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(eje,{typeOptions:s,fundOptions:i,centerOptions:t.filter(L=>L.Active).map(L=>({label:L.Name,value:L.ID})),accountOptions:e.filter(L=>L.Active).map(L=>({label:L.AccountCode+" "+L.Name,value:L.ID})),initialData:m?{...m,AccountingEntries:(($=m.JournalEntries)==null?void 0:$.map(L=>{const M=e.find(D=>D.AccountCode===L.AccountCode&&D.Name===L.AccountName);return{ResponsibilityCenter:L.ResponsibilityCenter||"",AccountExplanation:(M==null?void 0:M.ID)||"",PR:L.PR||"",Debit:L.Debit||0,Credit:L.Credit||0}}))||[]}:null,onClose:()=>f(!1),onSubmit:S})}),o.jsxs(ie,{isOpen:g,onClose:()=>y(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',x==null?void 0:x.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>y(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:N,className:"btn btn-danger",children:"Delete"})]})]})]})}function sje({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=le({DateStart:_().required("Start Date is required"),DateEnd:_().required("End Date is required"),ChartOfAccountID:_().required("Chart of Accounts is required"),FundID:_().required("Fund is required"),DisbursementType:_().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(m,{setSubmitting:p})=>{const g=i.current;g==="view"?n(m):g==="generate"?a(m):g==="export"&&s(m),p(!1),i.current=null},d=[{value:"%",label:"All Funds"},...(e==null?void 0:e.map(m=>({value:m.ID,label:m.Name})))||[]],f=[{value:"%",label:"All Chart of Accounts"},...(t==null?void 0:t.map(m=>({value:m.ID,label:m.Name})))||[]];return o.jsx(Le,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:m,errors:p,touched:g,handleChange:y,handleBlur:b,isSubmitting:h})=>o.jsxs(Ue,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 sm:gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:y,onBlur:b,error:p.DateStart,touched:g.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:y,onBlur:b,error:p.DateEnd,touched:g.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:f,value:m.ChartOfAccountID,onChange:y,onBlur:b,error:p.ChartOfAccountID,touched:g.ChartOfAccountID,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:d,value:m.FundID,onChange:y,onBlur:b,error:p.FundID,touched:g.FundID,required:!0}),o.jsx(I,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(x=>({value:x.value,label:x.label})),value:m.DisbursementType,onChange:y,onBlur:b,error:p.DisbursementType,touched:g.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const oje="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",ije={disbursementJournals:[],isLoading:!1,error:null},vb=q("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oje}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),A1=q("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),OU=ve({name:"disbursementJournal",initialState:ije,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(A1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(A1.fulfilled,e=>{e.isLoading=!1}).addCase(A1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:lje}=OU.actions,cje=OU.reducer;function uje(){const t="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",e=ce(),{disbursementJournals:r,isLoading:n,error:a}=z(m=>m.disbursementJournal),s=z(m=>{var p;return((p=m.chartOfAccounts)==null?void 0:p.accounts)||[]}),{funds:i}=z(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];w.useEffect(()=>{e(lje()),e(kr()),e(Zt())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{console.log({values:m});try{const p=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({DisbursementType:m.DisbursementType,DateStart:m.DateStart,DateEnd:m.DateEnd,FundID:m.FundID,ChartOfAccountID:m.ChartOfAccountID})});if(console.log(p),!p.ok)throw new Error("Server response was not ok");const g=await p.blob(),y=p.headers.get("Content-Disposition");let b=`Disbursement_Journals_${m.DisbursementType}.xlsx`;y&&y.includes("filename=")&&(b=y.split("filename=")[1].replace(/['"]/g,""));const h=window.URL.createObjectURL(g),x=document.createElement("a");x.href=h,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(h)}catch(p){console.error("Export failed:",p),V.error(p.message||"Failed to export disbursement journal")}},f=m=>{console.log(m),e(vb(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(sje,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:u,data:r,loading:n,pagination:!0})})]})}function dje({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=w.useRef(null),s=le({DateStart:_().required("Start Date is required"),DateEnd:_().required("End Date is required"),FundID:_().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx(Le,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:p})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(I,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(g=>({value:g.ID,label:g.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:p,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:p,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const fje="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",mje={generalJournals:[],isLoading:!1,error:null},jb=q("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fje}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),I1=q("generalJournal/exportGeneralJournals",async t=>!0),_U=ve({name:"generalJournal",initialState:mje,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(jb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(I1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(I1.fulfilled,e=>{e.isLoading=!1}).addCase(I1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:pje}=_U.actions,hje=_U.reducer;function gje(){const t="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",e=ce(),{generalJournals:r,isLoading:n,error:a}=z(d=>d.generalJournal),{funds:s}=z(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{e(pje()),e(Zt())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),p=f.headers.get("Content-Disposition");let g="General_Journal.xlsx";p&&p.includes("filename=")&&(g=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(m),b=document.createElement("a");b.href=y,b.download=g,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(y)}catch(f){console.error("Export failed:",f),V.error(f.message||"Failed to export general journal")}},u=d=>{e(jb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(dje,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:l,data:r,loading:n,pagination:!0})})]})}function yje({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n,Add:a}){const s=le({FiscalYearID:_().required("Fiscal Year is required")}),i={FiscalYearID:""};return o.jsx(Le,{initialValues:i,validationSchema:s,validateOnMount:!0,onSubmit:e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsx(Ue,{children:o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-between sm:gap-4 w-full",children:[o.jsx("div",{className:"flex flex-wrap items-center sm:gap-4 w-full sm:w-auto",children:o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(I,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:l.FiscalYearID,onChange:d,onBlur:f,error:c.FiscalYearID,touched:u.FiscalYearID,required:!0})})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"submit",className:"btn btn-primary w-full sm:w-auto",disabled:m,children:"Search"}),a&&o.jsx("button",{type:"button",className:"btn btn-secondary w-full sm:w-auto",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline w-full sm:w-auto",onClick:n,children:"Transfer"})]})]})})})}const fp="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",bje={beginningBalance:[],isLoading:!1,error:null},$i=q("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fp}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),wb=q("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${fp}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Nb=q("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${fp}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cb=q("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${fp}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Sb=q("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${fp}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$U=ve({name:"beginningBalance",initialState:bje,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase($i.pending,e=>{e.isLoading=!0,e.error=null}).addCase($i.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase($i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(wb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(Nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(Nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(Cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(Cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(Sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(Sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:oR}=$U.actions,xje=$U.reducer;function vje({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=le({FiscalYearID:_().required("Fiscal Year is required"),FundsID:_().required("Funds are required"),BeginningBalance:K().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:_().required("Chart of Accounts is required")}),l=tt({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(I,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(I,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(I,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Hr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function jje({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=le({PreviousFiscalYearID:_().required("Previous Fiscal Year is required"),NextFiscalYearID:_().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=tt({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(I,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function wje(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function Nje(){const t=z(D=>{var P;return((P=D.chartOfAccounts)==null?void 0:P.accounts)||[]}),{funds:e}=z(D=>D.funds),r=ce(),{fiscalYears:n}=z(D=>D.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=z(D=>D.beginningBalance),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(null),[p,g]=w.useState(!1),[y,b]=w.useState(null),[h,x]=w.useState(null),{Add:v,Edit:C,Delete:j}=we(21);w.useEffect(()=>{r(oR()),r(fn()),r(Zt()),r(kr())},[r]);const N=async D=>{try{f?await r(Nb(D)).unwrap():await r(wb(D)).unwrap(),oe.success("Success"),h&&await r($i(h)).unwrap()}catch(P){oe.error(P||"Failed")}finally{c(!1)}},S=async D=>{try{await r(Cb(D)).unwrap(),r(oR()),await r($i({FiscalYearID:D.NextFiscalYearID})).unwrap(),h&&await r($i(h)).unwrap(),oe.success("Success")}catch(P){oe.error(P||"Transfer failed")}finally{d(!1)}},A=()=>{m(null),c(!0)},k=D=>{m(D),c(!0)},T=D=>{b(D),g(!0)},E=async()=>{if(y)try{await r(Sb(y.ID)).unwrap(),g(!1),b(null),oe.success("Deleted")}catch(D){oe.error(D||"Failed")}},$=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],L=[C&&{icon:ke,title:"Edit",onClick:k,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},j&&{icon:Me,title:"Delete",onClick:T,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],M=async(D,{setSubmitting:P})=>{try{x(D),await r($i(D)).unwrap()}catch(F){console.error("Fetch failed:",F)}finally{P(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(yje,{fiscalYears:n.map(D=>({value:D.ID,label:D.Name})),onSubmit:M,onAddClick:A,onTransferClick:()=>d(!0),onClose:()=>{},Add:v})}),o.jsx(ie,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(vje,{onSubmit:N,initialData:f,fiscalYears:n.map(D=>({value:D.ID,label:D.Name})),fundsOptions:e.map(D=>({value:D.ID,label:D.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(D=>({value:D.ID,label:`${D.AccountCode} - ${D.Name} - [${wje(D.Description,50)}]`}))})}),o.jsx(ie,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(jje,{onSubmit:S,fiscalYears:n.map(D=>({value:D.ID,label:D.Name})),onClose:()=>d(!1)})}),o.jsxs(ie,{isOpen:p,onClose:()=>g(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',y==null?void 0:y.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:E,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:$,actions:L,data:a,loading:s,pagination:!0})})]})}const Cje=le().shape({ResponsibilityCenter:_().required("Department is required"),OfficeUnitProject:_().required("Section is required"),ContraAccountID:_().required("Charge Account is required"),InvoiceNumber:_().required("PR Number is required"),SAI_No:_(),ObligationRequestNumber:_(),InvoiceDate:Be().required("PR Date is required"),SAIDate:Be(),ALOBSDate:Be(),Remarks:_().required("Purpose is required"),Items:Vt().of(le({ItemID:_().required("Required"),Quantity:_().required("Required"),Unit:_().required("Required"),Cost:K().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function Sje({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=w.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx(Le,{initialValues:u,validationSchema:Cje,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:g,setFieldValue:y})=>o.jsxs(Ue,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:p,onBlur:g,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:p,onBlur:g,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:p,onBlur:g,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:p,onBlur:g,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(I,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:p,onBlur:g,error:f.SAI_No,touched:m.SAI_No}),o.jsx(I,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:p,onBlur:g,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4",children:[o.jsx(I,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:p,onBlur:g,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:p,onBlur:g,error:f.SAIDate,touched:m.SAIDate}),o.jsx(I,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:p,onBlur:g,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(I,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:p,onBlur:g,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(Gr,{name:"Items",render:({remove:b,push:h})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(St,{type:"button",onClick:()=>h({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((x,v)=>{var C,j,N,S,A,k,T,E,$,L,M,D,P,F;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex max-sm:flex-col flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 w-full sm:min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Hr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:O=>y(`Items[${v}].ItemID`,(O==null?void 0:O.value)||""),name:`Items[${v}].ItemID`,value:s.find(O=>O.value===x.ItemID)||null,onBlur:g,required:!0}),((j=(C=f.Items)==null?void 0:C[v])==null?void 0:j.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[v].ItemID})]}),o.jsx(I,{className:"flex-1 w-full sm:max-w-[180px]",type:"number",label:"Quantity",name:`Items[${v}].Quantity`,value:x.Quantity,onChange:p,onBlur:g,error:(S=(N=f.Items)==null?void 0:N[v])==null?void 0:S.Quantity,touched:(k=(A=m.Items)==null?void 0:A[v])==null?void 0:k.Quantity,required:!0}),o.jsx(I,{className:"flex-1 w-full sm:max-w-[150px]",type:"select",label:"Unit",name:`Items[${v}].Unit`,value:x.Unit,onChange:p,onBlur:g,options:i,error:(E=(T=f.Items)==null?void 0:T[v])==null?void 0:E.Unit,touched:(L=($=m.Items)==null?void 0:$[v])==null?void 0:L.Unit,required:!0}),o.jsx(I,{className:"flex-1 w-full sm:max-w-[200px]",type:"text",label:"Cost",name:`Items[${v}].Cost`,value:x.Cost!==""&&!isNaN(x.Cost)?Number(x.Cost).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:O=>{const R=O.target.value.replace(/\D/g,""),B=R?(parseInt(R,10)/100).toFixed(2):"";p({target:{name:`Items[${v}].Cost`,value:B}})},onBlur:g,error:(D=(M=f.Items)==null?void 0:M[v])==null?void 0:D.Cost,touched:(F=(P=m.Items)==null?void 0:P[v])==null?void 0:F.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(St,{type:"button",onClick:()=>b(v),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(Jt,{className:"w-4 h-4"})})})]},v)}),o.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 sm:gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:" col-span-1 sm:col-span-2 sm:text-right",children:"Total:"}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((x,v)=>x+(parseFloat(v.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-1 sm:col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((x,v)=>x+(parseFloat(v.Cost)||0)*(parseFloat(v.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm max-sm:block font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const tw="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Aje=[],Ije={purchaseRequests:Aje,isLoading:!1,error:null},Ab=q("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tw}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ib=q("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${tw}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kb=q("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${tw}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Tb=q("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${tw}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),kje=ve({name:"purchaseRequests",initialState:Ije,reducers:{},extraReducers:t=>{t.addCase(Ab.pending,e=>{e.isLoading=!0}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ib.pending,e=>{e.isLoading=!0}).addCase(Ib.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(Ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(kb.pending,e=>{e.isLoading=!0}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Tb.pending,e=>{e.isLoading=!0}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),Tje=kje.reducer;function Eje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),{departments:a}=z(M=>M.departments),s=z(M=>{var D;return((D=M.chartOfAccounts)==null?void 0:D.accounts)||[]}),{items:i}=z(M=>M.items),{itemUnits:l}=z(M=>M.itemUnits),{purchaseRequests:c,isLoading:u}=z(M=>M.purchaseRequests),[d,f]=w.useState(!1),[m,p]=w.useState(!1),[g,y]=w.useState(null),{Add:b,Edit:h,Delete:x}=we(69),v=ce();w.useEffect(()=>{v(ir()),v(kr()),v(Ua()),v(xa()),v(Ab())},[]);const C=()=>{n(null),e(!0)},j=M=>{},N=M=>{},S=()=>{e(!1),n(null)},A=async()=>{if(g)try{await v(Tb(g.ID)).unwrap(),f(!1),y(null),oe.success("Deleted")}catch(M){oe.error(M||"Failed")}},k=async M=>{try{const D=M.Items.reduce((O,R)=>O+(parseFloat(R.Cost)||0),0),P=M.Items.reduce((O,R)=>O+(parseFloat(R.Cost)||0)*(parseFloat(R.Quantity)||0),0),F={...M,Total:D.toFixed(2),AmountReceived:P.toFixed(2)};r?await v(kb(F)).unwrap():await v(Ib(F)).unwrap(),oe.success("Success")}catch(D){oe.error(D||"Failed")}finally{e(!1)}},T=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:M=>M?Number(M).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""},{key:"AmountReceived",header:"Estimated Total",sortable:!0,render:M=>M?Number(M).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""}],E=M=>{console.log(M)},$=async(M,D)=>{p(!0);try{console.log(`${D}d:`,response.data),oe.success(`Purchase Request ${D}d successfully`)}catch(P){console.error(`Error ${D}ing Purchase Request:`,P),oe.error(`Error ${D}ing Purchase Request`)}finally{p(!1)}},L=M=>{var P,F;const D=[];return(P=M==null?void 0:M.Status)!=null&&P.toLowerCase().includes("rejected")&&h?(D.push({icon:ke,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),D.push({icon:Me,title:"Delete",onClick:()=>N(),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):(F=M==null?void 0:M.Status)!=null&&F.toLowerCase().includes("requested")&&D.push({icon:bn,title:"Approve",onClick:()=>$(M,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>$(M,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),D.push({icon:Au,title:"View",onClick:E,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),D};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),b&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:T,actions:L,data:c,loading:u||m})}),o.jsx(ie,{isOpen:t,onClose:S,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(Sje,{initialData:r,departmentsOptions:a.map(M=>({value:M.ID,label:M.Name})),chartOfAccountsOptions:s.map(M=>({value:M.ID,label:M.Name})),itemsOptions:i.map(M=>({value:M.ID,label:M.Name})),itemsUnitsOptions:l.map(M=>({value:M.ID,label:M.Name})),onSubmit:k,onClose:S})}),o.jsxs(ie,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',g==null?void 0:g.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:A,className:"btn btn-danger",children:"Delete"})]})]})]})}le({number:_().required("Number is required"),date:Be().required("Date is required"),payee:_().required("Payee is required"),address:_().required("Address is required"),fund:_().required("Fund is required"),fiscalYear:_().required("Fiscal Year is required"),project:_().required("Project is required")});function Pje({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var p;const u=le({ResponsibilityCenter:_().required("Required"),ChargeAccountID:_().required("Required"),ItemID:_().required("Required"),Remarks:_().required("Required"),Price:K().required("Required"),Quantity:K().required("Required"),ItemUnitID:_().required("Required"),TAXCodeID:_().required("Required")}),d=tt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:g=>{const y=i.find(C=>String(C.ID)===String(g.TAXCodeID)),b=s0({price:g.Price,quantity:g.Quantity,taxRate:(y==null?void 0:y.Rate)||0,vatable:g.Vatable,ewtRate:g.withheldEWT}),h=r.find(C=>String(C.value)===String(g.ResponsibilityCenter)),x=l.find(C=>String(C.value)===String(g.ChargeAccountID)),v=n.find(C=>String(C.value)===String(g.ItemID));t({...g,...b,responsibilityCenterName:h?h.label:"",chargeAccountName:x?x.label:"",itemName:v?v.label:""}),e()}}),f=w.useRef({...d.values});w.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(h=>d.values[h]!==f.current[h]))return;f.current={...d.values};const y=i.find(h=>String(h.ID)===String(d.values.TAXCodeID)),b=s0({price:d.values.Price,quantity:d.values.Quantity,taxRate:(y==null?void 0:y.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});b.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",b.subtotal,!1),b.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",b.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((p=i.find(g=>String(g.ID)===String(d.values.TAXCodeID)))==null?void 0:p.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(I,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(I,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(I,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(I,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:()=>d.setFieldValue("Vatable",d.values.Vatable?0:1),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const RU="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Dje={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},df=q("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${RU}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),k1=q("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Eb=q("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${RU}/fundUtilizationRequest/save`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Pb=q("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),MU=ve({name:"fundUtilizations",initialState:Dje,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(df.pending,e=>{e.isLoading=!0}).addCase(df.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(df.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(k1.pending,e=>{e.isLoading=!0}).addCase(k1.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(k1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Eb.pending,e=>{e.isLoading=!0}).addCase(Eb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(Eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Pb.pending,e=>{e.isLoading=!0}).addCase(Pb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(Pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:A8e}=MU.actions,Oje=MU.reducer,_je="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",iR=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],$je=le().shape({obrNo:_().required("No. is required"),obrDate:Be().required("Date is required"),payeeType:_().required("Payee type is required"),payeeId:_().required("Payee selection is required"),fund:_().required("Fund is required"),fiscalYear:_().required("Fiscal Year is required"),project:_().required("Project is required"),accountingEntries:Vt().min(1,"At least one item is required")});function Rje({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:p=[],taxCodeOptions:g=[],budgetOptions:y=[],taxCodeFull:b=[]}){const h=ce(),x=w.useRef(null),[v,C]=w.useState(!1),[j,N]=w.useState(null),[S,A]=w.useState(null),[k,T]=w.useState(!1),[E,$]=w.useState([]),L=(O,R)=>{const B=O.reduce((W,ae)=>W+Number(ae.amount||0),0),U=R.reduce((W,ae)=>W+Number(ae.amount||0),0),G=B-U;return{grossAmount:B,totalTaxes:U,netAmount:G}},M={description:"",amount:"",accountCode:""},D={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[M],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},P=O=>{C(!0),L(O.items,O.taxes);const R=new FormData;O.payeeType==="Employee"?(R.append("EmployeeID",O.payeeId),R.append("VendorID",""),R.append("CustomerID","")):O.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",O.payeeId),R.append("CustomerID","")):O.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",O.payeeId)),R.append("PayeeType",O.payeeType),R.append("Payee",(j==null?void 0:j.Name)||(j==null?void 0:j.FirstName)+" "+(j==null?void 0:j.MiddleName)+" "+(j==null?void 0:j.LastName)||""),R.append("Address",(j==null?void 0:j.StreetAddress)||""),R.append("InvoiceNumber",O.obrNo),R.append("InvoiceDate",O.obrDate);const B=O.accountingEntries.reduce((se,J)=>se+Number(J.subtotal||0),0),U=O.accountingEntries.reduce((se,J)=>se+Number(J.ewt||0),0),G=O.accountingEntries.reduce((se,J)=>se+Number(J.withheld||0),0),W=O.accountingEntries.reduce((se,J)=>se+Number(J.vat||0),0),ae=O.accountingEntries.reduce((se,J)=>se+Number(J.discount||0),0);R.append("Total",B.toFixed(2)),R.append("EWT",U.toFixed(2)),R.append("WithheldAmount",G.toFixed(2)),R.append("Vat_Total",W.toFixed(2)),R.append("Discounts",ae.toFixed(2)),R.append("FundsID",O.fund),R.append("FiscalYearID",O.fiscalYear),R.append("ProjectID",O.project),R.append("TravelID",""),R.append("Items",JSON.stringify(O.accountingEntries)),O.Attachments.forEach((se,J)=>{se.ID?R.append(`Attachments[${J}].ID`,se.ID):R.append(`Attachments[${J}].File`,se.File)});const be=t?Pb({formData:R,id:t.ID}):Eb(R);t?(R.append("IsNew",!1),R.append("LinkID",t.LinkID)):R.append("IsNew",!0),h(be).unwrap().then(()=>{oe.success("Success"),h(df()),e()}).catch(se=>{oe.error((se==null?void 0:se.message)||"Failed to submit"),console.error("Error submitting DV:",se)}).finally(()=>{C(!1)})},F=({type:O})=>{switch(O){case"Employee":return o.jsx(LT,{className:"w-5 h-5"});case"Vendor":return o.jsx(Vk,{className:"w-5 h-5"});case"Individual":return o.jsx(cj,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(Le,{innerRef:x,initialValues:D,validationSchema:$je,onSubmit:P,enableReinitialize:!0,children:({values:O,errors:R,touched:B,handleChange:U,handleBlur:G,setFieldValue:W,isValid:ae})=>{L(O.items,O.taxes);const se=iR.map(re=>({value:re.value,label:re.label})).find(re=>re.value===O.payeeType),J=re=>{N(null),W("payeeType",re),W("payeeName",""),W("payeeId",""),W("payeeAddress",""),W("officeUnitProject",""),W("orsNumber","")},ue=re=>{let X=null;switch(O.payeeType){case"Employee":X=s.find(Y=>Y.ID===re);break;case"Vendor":X=i.find(Y=>Y.ID===re);break;case"Individual":X=l.find(Y=>Y.ID===re);break}N(X),W("payeeName",X==null?void 0:X.Name),W("payeeId",X==null?void 0:X.ID)},Q=re=>{switch(re){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Ue,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:iR.map(re=>o.jsxs("button",{type:"button",onClick:()=>J(re.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${O.payeeType===re.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(F,{type:re.value}),o.jsx("span",{className:"ml-3 font-medium",children:re.label})]},re.value))}),R.payeeType&&B.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),O.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",se==null?void 0:se.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:Q(O.payeeType),value:Q(O.payeeType).find(re=>re.value===O.payeeId)||null,onChange:re=>ue(re.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&B.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),j&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(se==null?void 0:se.label)==="Employee"?`${j.FirstName||""} ${j.MiddleName||""} ${j.LastName||""}`.trim():((se==null?void 0:se.label)==="Vendor"||(se==null?void 0:se.label)==="Individual",j.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((se==null?void 0:se.label)==="Employee"||(se==null?void 0:se.label)==="Vendor"||(se==null?void 0:se.label)==="Individual",j.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(I,{type:"text",label:"No.",name:"obrNo",value:O.obrNo,onChange:U,onBlur:G,error:R.obrNo,touched:B.obrNo,required:!0}),o.jsx(I,{type:"date",label:"Date",name:"obrDate",value:O.obrDate,onChange:U,onBlur:G,error:R.obrDate,touched:B.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:u,value:u.find(re=>re.value===O.fund)||null,onChange:re=>W("fund",re.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:f,value:f.find(re=>re.value===O.fiscalYear)||null,onChange:re=>W("fiscalYear",re.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Hr,{options:d,value:d.find(re=>re.value===O.project)||null,onChange:re=>W("project",re.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(Gr,{name:"accountingEntries",children:({push:re,remove:X})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>T(!0),children:"+ Item"})]}),O.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),O.accountingEntries.map((Y,pe)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:Y.responsibilityCenterName}),o.jsx("span",{children:Y.Remarks}),o.jsx("span",{children:Y.itemName}),o.jsx("span",{children:Y.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(Y.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-1 text-right",children:o.jsx("button",{type:"button",onClick:()=>X(pe),className:"text-red-600 text-xs",children:o.jsx(rfe,{className:"w-4 h-4"})})})]},pe)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:O.accountingEntries.reduce((Y,pe)=>Y+Number(pe.subtotal),0).toFixed(2)})]})]}),o.jsx(ie,{isOpen:k,onClose:()=>T(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(Pje,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:p,taxCodeOptions:g,budgetOptions:y,taxCodeFull:b,onClose:()=>T(!1),onSubmit:Y=>{re(Y),T(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(Gr,{name:"Attachments",render:({remove:re,push:X})=>{var Y;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>X({File:null}),children:"+ Attachment"})]}),(Y=O.Attachments)==null?void 0:Y.map((pe,Ne)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[pe.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${_je}/uploads/${pe.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:pe.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Ne}].ID`,value:pe.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Ne+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Ne}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ee=>W(`Attachments[${Ne}].File`,Ee.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(St,{type:"button",onClick:()=>re(Ne),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(Jt,{className:"w-4 h-4"})})]},Ne))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Mje(){const t=ce(),{fundUtilizations:e,isLoading:r}=z(A=>A.fundUtilizations),{Add:n,Edit:a}=we(47),{employees:s}=z(A=>A.employees),{customers:i}=z(A=>A.customers),{vendorDetails:l}=z(A=>A.vendorDetails),{departments:c}=z(A=>A.departments),{projectDetails:u}=z(A=>A.projectDetails),{funds:d}=z(A=>A.funds),{fiscalYears:f}=z(A=>A.fiscalYears),{items:m}=z(A=>A.items),{taxCodes:p}=z(A=>A.taxCodes),{itemUnits:g}=z(A=>A.itemUnits),{budgets:y}=z(A=>A.budget),[b,h]=w.useState("list"),[x,v]=w.useState(null);w.useEffect(()=>{t(df()),t(dn()),t(mn()),t(Va()),t(ir()),t(za()),t(Zt()),t(fn()),t(Ua()),t(Zn()),t(xa()),t($o())},[t]);const C=()=>{v(null),h("form")},j=A=>{v(A),h("form")},N=()=>{h("list"),v(null)},S=[{key:"Status",header:"Status",sortable:!0,render:A=>{let k="bg-neutral-100 text-neutral-800";switch(A){case"Requested":k="bg-warning-100 text-warning-800";break;case"Pending Approval":k="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":k="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":k="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k}`,children:A})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:A=>new Date(A).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[b==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Utilization Request & Status"}),o.jsx("p",{children:"Manage and track your fund utilization requests."})]}),n&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:S,data:e,actions:A=>{var T;const k=[];return((T=A.Transaction)==null?void 0:T.Status)==="Rejected"&&a&&k.push({icon:ke,title:"Edit",onClick:()=>j(A),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),k},loading:r})})]}),b==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex sm:items-center max-sm:flex-col gap-4",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:x?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Rje,{initialData:x,employeeOptions:s.map(A=>({value:A.ID,label:A.FirstName+" "+A.MiddleName+" "+A.LastName})),vendorOptions:l.map(A=>({value:A.ID,label:A.Name})),individualOptions:i.map(A=>({value:A.ID,label:A.Name||`${A.FirstName} ${A.MiddleName} ${A.LastName}`})),employeeData:s,vendorData:l,individualData:i,departmentOptions:c.map(A=>({value:A.ID,label:A.Name})),fundOptions:d.map(A=>({value:A.ID,label:A.Name})),projectOptions:u.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:f.map(A=>({value:A.ID,label:A.Name})),particularsOptions:m.map(A=>({value:A.ID,label:A.Name})),unitOptions:g.map(A=>({value:A.ID,label:A.Name})),taxCodeOptions:p.map(A=>({value:A.ID,label:A.Name})),budgetOptions:y.map(A=>({value:A.ID,label:A.Name})),taxCodeFull:p,onCancel:N,onSubmitSuccess:N,onClose:N})})]})]})}const pI=()=>{const e=new Date().getMonth();return[0,0,6,8,10,12,14,16,18,20,22,24][e]},Lje=le({Year:K().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:_().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Be().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:K().required("Certificate number is required").typeError("Year must be a number").min(3,"Certificate number must be at least 3 Numbers"),TIN:_().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),LastName:_().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:_().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:_().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:_().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:_().required("Citizenship is required"),ICRNo:_().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:_().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Be().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:_(),Occupation:_().min(2,"Profession must be at least 2 characters"),Gender:_().required("Sex is required"),HeightFeet:K().typeError("Feet must be a number").min(3,"Minimum height is 3 feet").max(8,"Maximum height is 8 feet").integer("Feet must be a whole number"),HeightInches:K().typeError("Inches must be a number").min(0,"Inches cannot be negative").max(11,"Inches must be between 0 and 11").test("total-height",`Total height must be between 3'0" and 8'11"`,function(t){const e=this.parent.HeightFeet;if(!e||t===void 0)return!0;const r=e*12+t;return r>=36&&r<=107}),Weight:K().typeError("Weight must be a number").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:K().typeError("Must be a number").required("Basic tax is required").oneOf([1,5],"Basic tax can only be 1 or 5"),BusinessEarnings:K().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:K().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:K().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:K().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:K().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:K().min(0,"Real property tax cannot be negative").nullable(),Total:K().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:K().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),InterestAmount:K(),AmountReceived:K().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:_().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:_().max(500,"Amount in words cannot exceed 500 characters")}),lR=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1,currentCertificateNumber:s=null})=>{const i=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],l=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],c=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],u=h=>{if(!h)return"";const x=parseFloat(h);return Math.floor(x/12).toString()},d=h=>{if(!h)return"";const x=parseFloat(h);return Math.round(x%12).toString()};console.log("initialData",s);const m=tt({initialValues:(()=>{const h=(e==null?void 0:e.Customer)||t,x=(h==null?void 0:h.Height)||"",v=x?u(x):"",C=x?d(x):"";return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||(s==null?void 0:s.CurrentNumber)||"",TIN:(e==null?void 0:e.TIN)||(h==null?void 0:h.TIN)||"",LastName:(h==null?void 0:h.LastName)||"",FirstName:(h==null?void 0:h.FirstName)||"",MiddleName:(h==null?void 0:h.MiddleName)||"",Address:(h==null?void 0:h.StreetAddress)||"",Citizenship:(h==null?void 0:h.Citizenship)||"",ICRNo:(h==null?void 0:h.ICRNumber)||"",PlaceOfBirth:(h==null?void 0:h.PlaceofBirth)||"",CivilStatus:(h==null?void 0:h.CivilStatus)||"",Occupation:(h==null?void 0:h.Occupation)||"",Gender:(h==null?void 0:h.Gender)||"",HeightFeet:v,HeightInches:C,Weight:(h==null?void 0:h.Weight)||"",BirthDate:(h==null?void 0:h.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||pI(),InterestAmount:(e==null?void 0:e.InterestAmount)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:Lje,onSubmit:h=>{const v=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...p(h)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...p(h)};n(v)}}),p=h=>{const x={...h,Year:String(h.Year),Height:String(h.Height),Weight:String(h.Weight),InputOne:Number(h.BusinessEarnings),InputTwo:Number(h.OccupationEarnings),InputThree:Number(h.IncomeProperty),OutputOne:Number(h.BusinessTaxDue),OutputTwo:Number(h.OccupationTaxDue),OutputThree:Number(h.PropertyTaxDue),Municipality:h.PlaceIssued,AmountPaid:Number(h.AmountReceived),Words:h.AmountinWords,Profession:h.Occupation};return delete x.BusinessEarnings,delete x.OccupationEarnings,delete x.IncomeProperty,delete x.BusinessTaxDue,delete x.OccupationTaxDue,delete x.PropertyTaxDue,delete x.PlaceIssued,delete x.AmountReceived,delete x.AmountinWords,delete x.Occupation,x},g=(h,x)=>{const v=Math.floor(Number(x||0)/1e3),C={BusinessEarnings:"BusinessTaxDue",OccupationEarnings:"OccupationTaxDue",IncomeProperty:"PropertyTaxDue"};m.setFieldValue(C[h],v),setTimeout(()=>b(),0)},y=h=>({name:h,value:m.values[h]||"",onChange:x=>{const{name:v,value:C}=x.target;m.setFieldValue(v,C),["BusinessEarnings","OccupationEarnings","IncomeProperty"].includes(v)&&g(v,C),v==="BasicTax"&&b()},onBlur:m.handleBlur,error:m.touched[h]&&m.errors[h],disabled:a}),b=()=>{const h=Number(m.values.BasicTax||0),x=Number(m.values.BusinessTaxDue||0),v=Number(m.values.OccupationTaxDue||0),C=Number(m.values.PropertyTaxDue||0),j=x+v+C,N=Math.min(j,5e3),S=pI()/100,A=h,k=N*(1+S)+A,T=N*S;m.setFieldValue("InterestAmount",T.toFixed(2)),m.setFieldValue("Total",k.toFixed(2)),m.setFieldValue("AmountReceived",k.toFixed(2))};return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(MT,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Year",...y("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Year&&m.errors.Year,touched:m.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Issue",...y("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.PlaceIssued&&m.errors.PlaceIssued,touched:m.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"Date Issued",...y("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.DateIssued&&m.errors.DateIssued,touched:m.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(I,{label:"OR No.",...y("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.CCNumber&&m.errors.CCNumber,touched:m.touched.CCNumber,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"TIN (if Any)",...y("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:m.touched.TIN&&m.errors.TIN,touched:m.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(cj,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Last Name",...y("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.LastName&&m.errors.LastName,touched:m.touched.LastName})}),o.jsx("div",{children:o.jsx(I,{label:"First Name",...y("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.FirstName&&m.errors.FirstName,touched:m.touched.FirstName})}),o.jsx("div",{children:o.jsx(I,{label:"Middle Name",...y("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.MiddleName&&m.errors.MiddleName,touched:m.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(I,{label:"Address",...y("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Address&&m.errors.Address,touched:m.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(I,{label:"Citizenship",...y("Citizenship"),type:"select",options:i,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Citizenship&&m.errors.Citizenship,touched:m.touched.Citizenship,required:!0}),o.jsx(I,{label:"ICR No.",...y("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.ICRNo&&m.errors.ICRNo,touched:m.touched.ICRNo}),o.jsx(I,{label:"Place of Birth",...y("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.PlaceOfBirth&&m.errors.PlaceOfBirth,touched:m.touched.PlaceOfBirth,required:!0}),o.jsx(I,{label:"Date of Birth",...y("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:m.touched.BirthDate&&m.errors.BirthDate,touched:m.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Civil Status",...y("CivilStatus"),type:"radio",options:l,error:m.touched.CivilStatus&&m.errors.CivilStatus,touched:m.touched.CivilStatus})}),o.jsx("div",{children:o.jsx(I,{label:"Profession/Occupation",...y("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Occupation&&m.errors.Occupation,touched:m.touched.Occupation})}),o.jsx("div",{children:o.jsx(I,{label:"Sex",...y("Gender"),type:"radio",options:c,error:m.touched.Gender&&m.errors.Gender,touched:m.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{children:o.jsx(I,{label:"Height (feet)",...y("HeightFeet"),type:"text",min:"3",max:"8",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.HeightFeet&&m.errors.HeightFeet,touched:m.touched.HeightFeet})}),o.jsx("div",{children:o.jsx(I,{label:"Height (inches)",...y("HeightInches"),type:"text",min:"0",max:"11",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.HeightInches&&m.errors.HeightInches,touched:m.touched.HeightInches})}),o.jsx("div",{children:o.jsx(I,{label:"Weight (kg)",...y("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:m.touched.Weight&&m.errors.Weight,touched:m.touched.Weight})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 sm:p-6 p-3 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(iV,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"sm:p-6 p-3 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...y("BasicTax"),type:"text",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:m.touched.BasicTax&&m.errors.BasicTax,touched:m.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[o.jsx("div",{children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...y("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:m.touched.BusinessEarnings&&m.errors.BusinessEarnings,touched:m.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...y("BusinessTaxDue"),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:m.touched.BusinessTaxDue&&m.errors.BusinessTaxDue,touched:m.touched.BusinessTaxDue,readOnly:!0})})]})]}),o.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...y("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:m.touched.OccupationEarnings&&m.errors.OccupationEarnings,touched:m.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...y("OccupationTaxDue"),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:m.touched.OccupationTaxDue&&m.errors.OccupationTaxDue,touched:m.touched.OccupationTaxDue,readOnly:!0})})]})]}),o.jsxs("div",{className:"flex flex-col gap-4 items-start py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3 ml-auto max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{label:"Taxable Amount:",...y("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:m.touched.IncomeProperty&&m.errors.IncomeProperty,touched:m.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(I,{label:"Community Due Amount:",...y("PropertyTaxDue"),type:"text",className:"w-24 text-right font-mono border-blue-200 bg-gray-100 cursor-not-allowed",placeholder:"Tax",error:m.touched.PropertyTaxDue&&m.errors.PropertyTaxDue,touched:m.touched.PropertyTaxDue,readOnly:!0})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(I,{...y("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:m.touched.Total&&m.errors.Total,touched:m.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(I,{...y("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 cursor-not-allowed border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:m.touched.Interest&&m.errors.Interest,touched:m.touched.Interest,readOnly:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(I,{...y("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:m.touched.AmountReceived&&m.errors.AmountReceived,touched:m.touched.AmountReceived})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest Amount"}),o.jsx(I,{...y("InterestAmount"),type:"text",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:m.touched.InterestAmount&&m.errors.InterestAmount,touched:m.touched.InterestAmount,readOnly:!0})]})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Ro(m.values.AmountReceived)||"-"})]})})]})}),o.jsx(I,{label:"Remarks",...y("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(St,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:m.isSubmitting,children:m.isSubmitting?"Generating...":"Generate Certificate"})]}),m.submitCount>0&&Object.keys(m.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(m.errors).map(([h,x])=>o.jsx("li",{children:x},h))})]})]})})},Eu="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Fje=[],Db=q("communityTax/communityTaxGetCurrentNumber",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/getCurrentNumber`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch current number");return a}catch(r){return e.rejectWithValue(r.message)}}),Dc=q("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),T1=q("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ob=q("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),E1=q("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),_b=q("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Eu}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),LU=ve({name:"communityTax",initialState:{records:[],currentRecord:null,currentNumber:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Db.fulfilled,(e,r)=>{e.isLoading=!1,e.currentNumber=r.payload}).addCase(Db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax current number"}).addCase(Dc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Dc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=Fje}).addCase(T1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(T1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(T1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(Ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ob.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(E1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(E1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(E1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(_b.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(_b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:I8e}=LU.actions,Bje=LU.reducer;function qje(){const t=ce(),{records:e,currentNumber:r,isLoading:n}=z(B=>B.communityTax),{customers:a,isLoading:s}=z(B=>B.customers),{Add:i,Edit:l,Delete:c,Print:u}=we(34),[d,f]=w.useState("list"),[m,p]=w.useState(null),[g,y]=w.useState(""),[b,h]=w.useState(!1),[x,v]=w.useState({});w.useEffect(()=>{t(Dc()),t(mn())},[t]);const C=()=>{p(null),f("form"),t(Db())},j=B=>{p(B),f("details")},N=B=>{p(B),f("form"),console.log("Edit certificate:",B),R(B.CustomerID)},S=B=>{console.log("Print certificate:",B)},A=()=>{f("list"),p(null),v(null)},k=async B=>{try{await t(_b(B.ID)).unwrap(),t(Dc())}catch(U){console.error("Error deleting certificate:",U)}},T=e==null?void 0:e.filter(B=>{var G,W,ae,be;const U=g.toLowerCase();return((G=B==null?void 0:B.LinkID)==null?void 0:G.toLowerCase().includes(U))||((W=B==null?void 0:B.CustomerName)==null?void 0:W.toLowerCase().includes(U))||((be=(ae=B==null?void 0:B.Customer)==null?void 0:ae.StreetAddress)==null?void 0:be.toLowerCase().includes(U))}),E=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:B=>$(B),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:B=>$(B),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:B=>new Date(B).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:B=>L(B)}],$=B=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(B||0),L=B=>{let U="bg-neutral-100 text-neutral-800";switch(B){case"Requested":U="bg-success-100 text-success-800";break;case"Posted":U="bg-warning-100 text-warning-800";break;case"Cancelled":U="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U}`,children:B})},M=async(B,U)=>{setIsLoadingCTCActions(!0);try{console.log(`${U}d:`,response.data),V.success(`Community Tax Individual ${U}d successfully`)}catch(G){console.error(`Error ${U}ing Community Tax Individual:`,G),V.error(`Error ${U}ing Community Tax Individual`)}finally{setIsLoadingCTCActions(!1)}},D=B=>{const U=[];return B.Status.toLowerCase().includes("rejected")&&l?(U.push({icon:ke,title:"Edit",onClick:N,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U.push({icon:TrashIcon,title:"Delete",onClick:k,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):B.Status.toLowerCase().includes("requested")&&U.push({icon:bn,title:"Approve",onClick:()=>M(B,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>M(B,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),U.push({icon:Zo,title:"View",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U},P=()=>{h(!0)},F=()=>{h(!1)},O=async B=>{try{await t(Ob(B)).unwrap(),t(Dc()),V.success("Certificate saved successfully.")}catch(U){console.error("Error saving certificate:",U),V.error("Failed to save certificate. Please try again.")}finally{A()}},R=B=>{const U=a.find(G=>G.ID===B);v(U)};return o.jsxs(o.Fragment,{children:[d==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),i&&o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:E,data:T,actions:D,loading:n||s,onRowClick:j})})]}),d==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:A,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:m?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:m?"Update the certificate details":""})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"w-full sm:w-auto",children:o.jsx(ut,{options:(a==null?void 0:a.map(B=>({label:B.Name||`${B.FirstName} ${B.MiddleName} ${B.LastName}`,value:B.ID})))||[],placeholder:"Choose Citizen",selectedValue:x==null?void 0:x.ID,onSelect:R,label:"Choose Citizen",required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:P,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),u&&o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:x?o.jsx(lR,{selectedCustomer:x,initialData:m,onCancel:A,onSubmitForm:O,currentCertificateNumber:r},x==null?void 0:x.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),d==="details"&&m&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:A,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[l&&o.jsxs("button",{type:"button",onClick:()=>N(m),className:"btn btn-primary flex items-center",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),u&&o.jsxs("button",{type:"button",onClick:()=>S(m),className:"btn btn-outline flex items-center",children:[o.jsx(Wc,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(lR,{initialData:m,onCancel:A,isReadOnly:!0})})]}),o.jsx(ie,{isOpen:b,onClose:F,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const Vje=le().shape({Year:_().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:_().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Be().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:_().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:_().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:_().matches(/^\d{14}$/,"TIN must be exactly 14 digits").nullable(),Address:_().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Be().required("Registration date is required"),KindofOrganization:_().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:_().required("Place of incorporation is required"),NatureOfOrganization:_().required("Business nature is required"),BasicTax:K().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:K().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:K().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:K().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:K().typeError("Must be a number").min(0,"Cannot be negative"),Total:K().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:K().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:K().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:_().max(500,"Remarks must be less than 500 characters"),AmountinWords:_().max(500,"Amount in words cannot exceed 500 characters")}),cR=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=tt({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||(e==null?void 0:e.CustomerName)||"",TIN:(t==null?void 0:t.TIN)||(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||pI(),AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:Vje,onSubmit:u=>{const f=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(u)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(u)};console.log("Submitted values:",f),n(f)}}),c=u=>{const d={...u,InputOne:Number(u.assessedValueRealProperty),InputTwo:Number(u.grossReceipts),OutputOne:Number(u.assessedValueTax),OutputTwo:Number(u.grossReceiptsTax),BasicTax:Number(u.BasicTax),Total:Number(u.Total),AmountPaid:Number(u.AmountPaid),Interest:Number(u.Interest),Words:u.AmountinWords};return delete d.assessedValueRealProperty,delete d.assessedValueTax,delete d.grossReceipts,delete d.grossReceiptsTax,delete d.AmountinWords,d};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(MT,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,onBlur:l.handleBlur,disabled:a,required:!0,error:l.touched.Year&&l.errors.Year,touched:l.touched.Year,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,error:l.touched.PlaceIssued&&l.errors.PlaceIssued,required:!0,touched:l.touched.PlaceIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.DateIssued&&l.errors.DateIssued,touched:l.touched.DateIssued,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:l.touched.CCNumber&&l.errors.CCNumber,touched:l.touched.CCNumber})})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(oV,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,required:!0,error:l.touched.Name&&l.errors.Name,touched:l.touched.Name,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})}),o.jsx("div",{children:o.jsx(I,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,onBlur:l.handleBlur,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.TIN&&l.errors.TIN,touched:l.touched.TIN})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:" Address of Principal Place of Business",name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.Address&&l.errors.Address,touched:l.touched.Address})}),o.jsx("div",{children:o.jsx(I,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.dateOfRegistration&&l.errors.dateOfRegistration,touched:l.touched.dateOfRegistration})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsx(I,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a,error:l.touched.KindofOrganization&&l.errors.KindofOrganization,touched:l.touched.KindofOrganization})}),o.jsx("div",{children:o.jsx(I,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation,touched:l.touched.PlaceofIncorporation})})]}),o.jsx("div",{children:o.jsx(I,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization,touched:l.touched.NatureOfOrganization})})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(iV,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(I,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:l.touched.BasicTax&&l.errors.BasicTax,touched:l.touched.BasicTax})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty,touched:l.touched.assessedValueRealProperty})}),o.jsx("div",{children:o.jsx(I,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.assessedValueTax&&l.errors.assessedValueTax,touched:l.touched.assessedValueTax})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3 max-sm:flex-col",children:[o.jsx("div",{children:o.jsx(I,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:l.touched.grossReceipts&&l.errors.grossReceipts,touched:l.touched.grossReceipts})}),o.jsx("div",{children:o.jsx(I,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax,touched:l.touched.grossReceiptsTax})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(I,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"Total",error:l.touched.Total&&l.errors.Total,touched:l.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(I,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none",placeholder:"%",error:l.touched.Interest&&l.errors.Interest,touched:l.touched.Interest})]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(I,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,error:l.touched.AmountPaid&&l.errors.AmountPaid,touched:l.touched.AmountPaid,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"})]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsx("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:Ro(l.values.AmountPaid)||"-"})]})})]})}),o.jsx("div",{children:o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3,error:l.touched.Remarks&&l.errors.Remarks,touched:l.touched.Remarks})})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(St,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:l.isSubmitting,children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),l.submitCount>0&&Object.keys(l.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(l.errors).map(([u,d])=>o.jsx("li",{children:d},u))})]})]})},mp="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Uje=[],Oc=q("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mp}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),P1=q("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mp}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),$b=q("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mp}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),D1=q("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mp}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),Rb=q("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mp}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),FU=ve({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Oc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Oc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=Uje}).addCase(P1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(P1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(P1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase($b.pending,e=>{e.isLoading=!0,e.error=null}).addCase($b.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase($b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(D1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(D1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(D1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(Rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(Rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:k8e}=FU.actions,zje=FU.reducer;function Wje(){const[t,e]=w.useState("list"),[r,n]=w.useState(null),[a,s]=w.useState(!1),[i,l]=w.useState(null),[c,u]=w.useState(!1),{Add:d,Edit:f,Delete:m,Print:p}=we(35),{records:g,isLoading:y}=z(O=>O.corporateCommunityTax),{vendorDetails:b,isLoading:h}=z(O=>O.vendorDetails),x=ce();w.useEffect(()=>{x(Va()),x(Oc())},[x]);const v=()=>{n(null),e("form")},C=O=>{n(O),e("details")},j=O=>{n(O),console.log("Edit certificate:",O),F(O.CustomerID),e("form")},N=O=>{console.log("Print certificate:",O)},S=()=>{e("list"),n(null),l(null)},A=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:O=>k(O),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:O=>k(O),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:O=>k(O),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:O=>k(O),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:O=>T(O)}],k=O=>O>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(O):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(O),T=O=>{let R="bg-neutral-100 text-neutral-800";switch(O){case"Posted":R="bg-green-100 text-green-800";break;case"Requested":R="bg-yellow-100 text-yellow-800";break;case"Cancelled":R="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${R}`,children:O})},E=async O=>{try{await x(Rb(O.ID)).unwrap(),x(Oc()),console.log("Certificate deleted and data reFetched"),V.success("Certificate deleted successfully.")}catch(R){console.error("Error deleting certificate:",R),V.error("Failed to delete certificate. Please try again.")}finally{S()}},$=async(O,R)=>{u(!0);try{console.log(`${R}d:`,response.data),V.success(`Community Tax Corporation ${R}d successfully`)}catch(B){console.error(`Error ${R}ing Community Tax Corporation:`,B),V.error(`Error ${R}ing Community Tax Corporation`)}finally{u(!1)}},L=O=>{const R=[];return O.Status.toLowerCase().includes("rejected")&&f?(R.push({icon:ke,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),R.push({icon:TrashIcon,title:"Delete",onClick:E,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):O.Status.toLowerCase().includes("requested")&&R.push({icon:bn,title:"Approve",onClick:()=>$(O,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>$(O,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),R.push({icon:Zo,title:"View",onClick:C,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),R},M=()=>{s(!0)},D=()=>{s(!1)},P=async O=>{try{await x($b(O)).unwrap(),x(Oc()),V.success("Certificate saved successfully.")}catch(R){console.error("Error saving certificate:",R),V.error("Failed to save certificate. Please try again.")}finally{S()}},F=O=>{const R=b.find(B=>B.ID===O);l(R),console.log("Selected vendor:",R)};return o.jsxs(o.Fragment,{children:[t==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),d&&o.jsxs("button",{type:"button",onClick:v,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:A,data:g,actions:L,loading:h||y||c,onRowClick:C})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap items-start sm:items-center justify-end gap-2 w-full",children:[o.jsx("div",{className:"sm:w-auto w-full",children:o.jsx(ut,{options:(b==null?void 0:b.map(O=>({label:O.Name,value:O.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:F,required:!0})}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 w-full sm:w-auto",children:[o.jsx("button",{type:"button",onClick:M,className:"btn btn-secondary w-full sm:w-auto",children:"Show List"}),o.jsx("button",{className:"btn btn-primary w-full sm:w-auto",children:"Add Attachments"}),p&&o.jsx("button",{className:"btn btn-outline w-full sm:w-auto",children:"Print"})]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(cR,{selectedVendor:i,initialData:r,onCancel:S,onSubmitSuccess:P,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[f&&o.jsxs("button",{type:"button",onClick:()=>j(r),className:"btn btn-primary flex items-center",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),p&&o.jsxs("button",{type:"button",onClick:()=>N(r),className:"btn btn-outline flex items-center",children:[o.jsx(Wc,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(cR,{initialData:r,readOnly:!0,onBack:S})})]}),o.jsx(ie,{isOpen:a,onClose:D,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function Hje(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:Zo,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:ke,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:p})=>{try{await p$.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(g){console.error("Validation errors:",g.errors)}finally{p(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(ie,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx(Le,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:p$,onSubmit:f,children:({values:m,errors:p,touched:g,handleChange:y,handleBlur:b,isSubmitting:h})=>o.jsxs(Ue,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:y,onBlur:b,error:p.date,touched:g.date}),o.jsx(I,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:y,onBlur:b,error:p.period,touched:g.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:y,onBlur:b,error:p.stallNumber,touched:g.stallNumber}),o.jsx(I,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:y,onBlur:b,error:p.stallType,touched:g.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(I,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:y,onBlur:b,error:p.stallOwner,touched:g.stallOwner}),o.jsx(I,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:y,onBlur:b,error:p.amount,touched:g.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:h,className:"btn btn-primary",children:h?"Saving...":r?"Update":"Save"})]})]})})})]})}const Gje=le().shape({CustomerName:_().required("Name is required"),CustomerID:K(),DeceasedCustomerName:_().required("Deceased name is required"),DeceasedCustomerID:K(),Nationality:_().required("Nationality is required"),NationalityID:K().required("Nationality is required"),Age:K().required("Age is required").min(0,"Age must be positive"),Sex:_().required("Sex is required"),DeathDate:Be().required("Date of death is required"),CauseofDeath:_().required("Cause of death is required"),Cementery:_().required("Cemetery name is required"),BurialType:_().required("Service type is required"),Infectious:Os(),Embalmed:Os(),Disposition:_().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:_().required("Disposition remarks are required")}),InvoiceDate:Be().required("Invoice date is required"),paymentMethod:_().required("Payment method is required"),Total:K().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:_(),Remarks:_()}),Yje="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io";function Kje({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:a}){const[s,i]=w.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(g,y,b)=>{const x=Array.from(g.target.files).map(v=>v);y("Attachments",[...b.Attachments,...x])},u=(g,y,b)=>{const h=[...b.Attachments];h.splice(g,1),y("Attachments",h)},d=(g,y)=>{const b=g.target.value;y("BurialType",b),i(b!=="INTER")},f=async(g,{setSubmitting:y})=>{console.log("Form values:",g);try{await r(g),e()}catch(b){console.error("Submission failed:",b),V.error(b.message||"Submission failed. Please try again.")}finally{y(!1)}},m=a==null?void 0:a.map(g=>({value:g.ID,label:g.Name||`${g.FirstName} ${g.MiddleName} ${g.LastName}`})),p=n==null?void 0:n.map(g=>({value:g.ID,label:g.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(Le,{initialValues:l,validationSchema:Gje,onSubmit:f,enableReinitialize:!0,children:({values:g,errors:y,touched:b,handleChange:h,setFieldValue:x,isSubmitting:v,handleBlur:C,submitCount:j})=>o.jsxs(Ue,{className:"space-y-4  bg-white rounded-lg",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:N=>c(N,x,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),g.Attachments.length>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((N,S)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:N.ID?o.jsx("a",{href:`${Yje}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:N.name||N.DataName}):N.name||N.DataName})]}),o.jsx("button",{type:"button",onClick:()=>u(S,x,g),className:"text-red-500 hover:text-red-700",children:o.jsx(Jt,{className:"h-4 w-4"})})]},S))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx("div",{className:"text-center",children:o.jsx(I,{name:"InvoiceNumber",type:"text",value:g.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx(ut,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:N=>{const S=m.find(A=>A.value===N);x("CustomerName",(S==null?void 0:S.label)||""),x("CustomerID",(S==null?void 0:S.value)||"")},selectedValue:g.CustomerID,error:y.CustomerName,touched:b.CustomerName})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(ut,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:N=>{const S=m.find(A=>A.value===N);x("DeceasedCustomerName",(S==null?void 0:S.label)||""),x("DeceasedCustomerID",(S==null?void 0:S.value)||"")},selectedValue:g.DeceasedCustomerID,error:y.DeceasedCustomerName,touched:b.DeceasedCustomerName}),o.jsx(ut,{label:"Nationality",name:"NationalityID",type:"select",options:p,required:!0,placeholder:"Select Nationality",onSelect:N=>{const S=p.find(A=>A.value===N);x("NationalityID",N||""),x("Nationality",(S==null?void 0:S.label)||"")},className:"w-full",selectedValue:g.NationalityID,error:y.Nationality,touched:b.Nationality}),o.jsx(I,{label:"Age",name:"Age",type:"number",required:!0,value:g.Age,onChange:h,touched:b.Age,error:b.Age&&y.Age}),o.jsx(I,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:g.Sex,onChange:h,touched:b.Sex,required:!0,error:b.sex&&y.sex}),o.jsx(I,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:g.DeathDate,onChange:h,touched:b.DeathDate,error:b.DeathDate&&y.DeathDate}),o.jsx(I,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:g.CauseofDeath,onChange:h,touched:b.CauseofDeath,error:b.CauseofDeath&&y.CauseofDeath}),o.jsx(I,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:g.Cementery,onChange:h,touched:b.Cementery,error:b.Cementery&&y.Cementery})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(N=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"BurialType",value:N,checked:g.BurialType===N,onChange:S=>d(S,x),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:N.toUpperCase()})]},N))}),b.BurialType&&y.BurialType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:y.BurialType})]}),s&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Infectious",value:g.Infectious,checked:g.Infectious,onChange:h,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Embalmed",value:g.Embalmed,checked:g.Embalmed,onChange:h,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(I,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:g.Disposition,onChange:h,onBlur:C,required:g.BurialType!=="INTER",error:b.Disposition&&y.Disposition})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:g.InvoiceDate,onChange:h,onBlur:C,error:b.InvoiceDate&&y.InvoiceDate}),o.jsx(I,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:g.paymentMethod,onChange:h,onBlur:C,touched:b.paymentMethod,error:b.paymentMethod&&y.paymentMethod}),o.jsx(I,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:g.Total,onChange:h,onBlur:C,touched:b.Total,error:b.Total&&y.Total}),o.jsx(I,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:g.ReferenceNumber,onChange:h,onBlur:C,touched:b.ReferenceNumber,error:b.ReferenceNumber&&y.ReferenceNumber})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:g.Remarks,onChange:h,onBlur:C,touched:b.Remarks,error:b.Remarks&&y.Remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:v?"Submitting...":"Submit"})]}),j>0&&Object.keys(y).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(y).map(([N,S])=>o.jsx("li",{children:S},N))})]})]})})]})}const pp="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Jje=[],ff=q("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pp}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),O1=q("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pp}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Mb=q("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pp}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),_1=q("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pp}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Lb=q("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pp}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),BU=ve({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(ff.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ff.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(ff.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=Jje}).addCase(O1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(O1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(O1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(Mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(_1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(_1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(Lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:T8e}=BU.actions,Xje=BU.reducer;function Zje(){const t=ce(),{Add:e,Edit:r,Delete:n}=we(28),{customers:a,isLoading:s}=z(N=>N.customers),{nationalities:i,isLoading:l}=z(N=>N.nationalities),{records:c,isLoading:u}=z(N=>N.burialRecords),[d,f]=w.useState(!1),[m,p]=w.useState(null);w.useEffect(()=>{t(el()),t(ff()),t(mn())},[t]);const g=[{key:"InvoiceNumber",header:"Receipt No",sortable:!0,className:"font-medium text-neutral-900",render:N=>o.jsx("div",{className:"flex items-center gap-1",children:N||""})},{key:"CustomerName",header:"Name",sortable:!0,render:N=>(N==null?void 0:N.trim())||"N/A"},{key:"Municipality",header:"Municipality",sortable:!0,render:N=>N||""},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"DocumentType.Name",header:"Service Type",sortable:!0,render:(N,S)=>{var A;return((A=S.DocumentType)==null?void 0:A.Name)||""},className:"text-gray-500"},{key:"Total",header:"Amount",sortable:!0,render:N=>y(N||"0.00"),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:N=>N||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:N=>({1:"General Fund",2:"Special Education Fund"})[N]||""}],y=N=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(N),b=()=>{p(null),f(!0)},h=N=>{p(N),f(!0)},x=async N=>{console.log("Deleting ticket:",N);try{await t(Lb(N.ID)).unwrap(),V.success("Burial Receipt deleted successfully")}catch(S){V.error(S.message||"Failed to delete Burial Receipt")}},v=()=>{f(!1),p(null)},C=async N=>{const S=new FormData;for(const A in N)if(A!=="Attachments"){const k=typeof N[A]=="object"?JSON.stringify(N[A]):N[A];A==="TransactionItemsAll"?S.append("Items",k):S.append(A,k)}N==null||N.Attachments.forEach((A,k)=>{A.ID?S.append(`Attachments[${k}].ID`,A.ID):S.append(`Attachments[${k}].File`,A)}),m?(S.append("IsNew","false"),S.append("LinkID",m.LinkID),S.append("ID",m.ID)):S.append("IsNew","true");try{await t(Mb(S)).unwrap(),m?V.success("Burial Receipt Updated Successfully"):V.success("Burial Receipt Added Successfully"),t(ff())}catch(A){V.error(A.message||"Something went wrong")}finally{v()}},j=[r&&{icon:Na,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ca,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Burial Service Receipts"})]}),e&&o.jsxs("button",{onClick:b,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:g,data:c,className:"min-w-full divide-y divide-gray-200",actions:j,isLoading:u||l||s})}),o.jsx(ie,{isOpen:d,onClose:v,title:m?"Edit Burial Service Receipt":"New Burial Service Receipt ",children:o.jsx(Kje,{initialData:m,onClose:v,onSubmit:C,nationalities:i,customers:a})})]})}const Qje="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",ewe=le().shape({InvoiceNumber:_().required("Invoice number is required"),CustomerName:_().required("Customer is required"),CustomerAge:K().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:_().required("Remarks are required"),InvoiceDate:Be().required("Invoice date is required"),Cenomar:_().required("CENOMAR is required"),MarrytoID:_().required('"Marry to" is required'),MarrytoName:_().required('"Marry to Name" is required'),MarrytoAge:K().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:_().required("Register number is required"),Total:K().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:K().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:K().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:Vt()});function twe({initialData:t,customers:e,onClose:r,onSubmit:n}){const[a,s]=w.useState(!1),[i,l]=w.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async p=>{s(!0);try{await n(p),r()}catch(g){console.error("Error submitting form:",g),V.error(g.message||"Submission failed. Please try again.")}finally{s(!1)}},d=(p,g,y)=>{const h=Array.from(p.target.files).map(x=>x);g("Attachments",[...y.Attachments,...h])},f=(p,g,y)=>{const b=[...y.Attachments];b.splice(p,1),g("Attachments",b)},m=e==null?void 0:e.map(p=>({value:p.ID,label:p.Name||`${p.FirstName} ${p.MiddleName} ${p.LastName}`}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(Le,{initialValues:c,validationSchema:ewe,onSubmit:u,enableReinitialize:!0,children:({values:p,errors:g,touched:y,handleChange:b,handleBlur:h,setFieldValue:x})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:v=>d(v,x,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(p==null?void 0:p.Attachments.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((v,C)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:v.ID?o.jsx("a",{href:`${Qje}/uploads/${v.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:v.name||v.DataName}):v.name||v.DataName})]}),o.jsx("button",{type:"button",onClick:()=>f(C,x,p),className:"text-red-500 hover:text-red-700",children:o.jsx(Jt,{className:"h-4 w-4"})})]},C))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:p.InvoiceNumber,onChange:b,onBlur:h,error:g.InvoiceNumber,touched:y.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(ut,{label:"Customer",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:v=>{const C=m.find(j=>j.value===v);x("CustomerName",(C==null?void 0:C.label)||""),x("CustomerID",(C==null?void 0:C.value)||"")},selectedValue:p.CustomerID,error:g.CustomerName,touched:y.CustomerName}),o.jsx(I,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:p.CustomerAge,onChange:b,onBlur:h,error:g.CustomerAge,touched:y.CustomerAge,min:"1"})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:p.Remarks,onChange:b,onBlur:h,error:g.Remarks,touched:y.Remarks}),o.jsx(I,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:p.InvoiceDate,onChange:b,onBlur:h,error:g.InvoiceDate,touched:y.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:p.Cenomar,onChange:b,onBlur:h,error:g.Cenomar,touched:y.Cenomar}),o.jsx(ut,{label:"Marry to",name:"MarrytoID",type:"select",options:m,required:!0,placeholder:"Select Marry to",onSelect:v=>{const C=m.find(j=>j.value===v);x("MarrytoName",(C==null?void 0:C.label)||""),x("MarrytoID",(C==null?void 0:C.value)||"")},selectedValue:p.MarrytoID,error:g.MarrytoName,touched:y.MarrytoName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:p.MarrytoAge,onChange:b,onBlur:h,error:g.MarrytoAge,touched:y.MarrytoAge,min:"1"}),o.jsx(I,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:p.RegisterNumber,onChange:b,onBlur:h,error:g.RegisterNumber,touched:y.RegisterNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(I,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:p.Total,onChange:b,onBlur:h,error:g.Total,touched:y.Total,min:"0"}),o.jsx(I,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:p.RemainingBalance,onChange:b,onBlur:h,error:g.RemainingBalance,touched:y.RemainingBalance,min:"0"}),o.jsx(I,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:p.AmountReceived,onChange:b,onBlur:h,error:g.AmountReceived,touched:y.AmountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:a,children:t?"Update":"Create"})]})]})})]})}const hp="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",rwe=[],mf=q("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hp}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),$1=q("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hp}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Fb=q("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hp}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),R1=q("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hp}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Bb=q("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hp}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),qU=ve({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(mf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mf.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(mf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=rwe}).addCase($1.pending,e=>{e.isLoading=!0,e.error=null}).addCase($1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase($1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(Fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(R1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(R1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(R1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(Bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:E8e}=qU.actions,nwe=qU.reducer;function awe(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=ce(),{records:s,isLoading:i}=z(v=>v.marriageRecords),{customers:l,isLoading:c}=z(v=>v.customers),{Add:u,Edit:d,Delete:f}=we(59);w.useEffect(()=>{a(mf()),a(mn())},[a]);const m=async v=>{console.log("Form data to save:",v);const C=new FormData;for(const j in v)if(j!=="Attachments"){const N=typeof v[j]=="object"?JSON.stringify(v[j]):v[j];j==="TransactionItemsAll"?C.append("Items",N):C.append(j,N)}v==null||v.Attachments.forEach((j,N)=>{j.ID?C.append(`Attachments[${N}].ID`,j.ID):C.append(`Attachments[${N}].File`,j)}),r?(C.append("IsNew",!1),C.append("LinkID",r.LinkID),C.append("ID",r.ID)):C.append("IsNew",!0);try{await a(Fb(C)).unwrap(),r?V.success("Marriage Receipt Updated Successfully"):V.success("Marriage Receipt Added Successfully"),a(mf())}catch(j){V.error(j.message||"Something went wrong")}finally{y()}},p=async v=>{console.log("Deleting ticket:",v);try{await a(Bb(v.ID)).unwrap(),V.success("Marriage Receipt deleted successfully")}catch(C){V.error(C.message||"Failed to delete Marriage Receipt")}},g=v=>{n(v),e(!0)},y=()=>{n(null),e(!1)},b=[{key:"Status",header:"Status",sortable:!0,render:v=>o.jsx("span",{className:`px-2 py-1 rounded ${v==="Posted"?"bg-green-100 text-green-800":v==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:v})},{key:"APAR",header:"AP/AR",sortable:!0,render:v=>v||""},{key:"CustomerName",header:"Customer",sortable:!0,render:v=>(v==null?void 0:v.trim())||"N/A"},{key:"Total",header:"Total Amount",sortable:!0,render:v=>h(v),className:"text-right font-medium"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:v=>h(v||"0.00"),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:v=>h(v||"0.00"),className:"text-right"},{key:"Debit",header:"Debit",sortable:!0,render:v=>h(v||"0.00"),className:"text-right"},{key:"EWT",header:"EWT",sortable:!0,render:v=>h(v||"0.00"),className:"text-right"},{key:"WithheldAmount",header:"Withheld Amount",sortable:!0,render:v=>h(v||"0.00"),className:"text-right"},{key:"Vat_Total",header:"Total",sortable:!0,render:v=>h(v||"0.00"),className:"text-right font-medium"},{key:"Discounts",header:"Discount (%)",sortable:!0,render:v=>v?`${v}%`:"0%",className:"text-right"},{key:"AmountDue",header:"Amount Due",sortable:!0,render:v=>h(v||"0.00"),className:"text-right font-medium"}],h=v=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(v||0),x=[d&&{icon:ke,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},f&&{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between sm:items-center mb-6 page-header gap-4 max-sm:flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsx("p",{className:"text-gray-600",children:"Manage Marriage Service Receipts"})]}),u&&o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),o.jsx(ye,{columns:b,data:s,actions:x,className:"bg-white rounded-lg shadow",isLoading:i||c}),o.jsx(ie,{isOpen:t,onClose:y,title:r?"Edit Receipt":"Add Receipt",children:o.jsx(twe,{initialData:r,customers:l,onClose:y,onSubmit:m})})]})}const VU=6048e5,swe=864e5,UU=6e4,zU=36e5,uR=Symbol.for("constructDateFrom");function Rs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&uR in t?t[uR](e):t instanceof Date?new t.constructor(e):new Date(e)}function $n(t,e){return Rs(e||t,t)}let owe={};function rw(){return owe}function cm(t,e){var l,c,u,d;const r=rw(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=$n(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function o0(t,e){return cm(t,{...e,weekStartsOn:1})}function WU(t,e){const r=$n(t,e==null?void 0:e.in),n=r.getFullYear(),a=Rs(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=o0(a),i=Rs(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=o0(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function dR(t){const e=$n(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function iwe(t,...e){const r=Rs.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function fR(t,e){const r=$n(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function lwe(t,e,r){const[n,a]=iwe(r==null?void 0:r.in,t,e),s=fR(n),i=fR(a),l=+s-dR(s),c=+i-dR(i);return Math.round((l-c)/swe)}function cwe(t,e){const r=WU(t,e),n=Rs(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),o0(n)}function uwe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dwe(t){return!(!uwe(t)&&typeof t!="number"||isNaN(+$n(t)))}function fwe(t,e){const r=$n(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const mwe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pwe=(t,e,r)=>{let n;const a=mwe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function M1(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const hwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ywe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bwe={date:M1({formats:hwe,defaultWidth:"full"}),time:M1({formats:gwe,defaultWidth:"full"}),dateTime:M1({formats:ywe,defaultWidth:"full"})},xwe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vwe=(t,e,r,n)=>xwe[t];function dd(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const jwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Swe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Awe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Iwe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kwe={ordinalNumber:Iwe,era:dd({values:jwe,defaultWidth:"wide"}),quarter:dd({values:wwe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dd({values:Nwe,defaultWidth:"wide"}),day:dd({values:Cwe,defaultWidth:"wide"}),dayPeriod:dd({values:Swe,defaultWidth:"wide",formattingValues:Awe,defaultFormattingWidth:"wide"})};function fd(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Ewe(l,f=>f.test(i)):Twe(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function Twe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Ewe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Pwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const Dwe=/^(\d+)(th|st|nd|rd)?/i,Owe=/\d+/i,_we={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$we={any:[/^b/i,/^(a|c)/i]},Rwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mwe={any:[/1/i,/2/i,/3/i,/4/i]},Lwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Uwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zwe={ordinalNumber:Pwe({matchPattern:Dwe,parsePattern:Owe,valueCallback:t=>parseInt(t,10)}),era:fd({matchPatterns:_we,defaultMatchWidth:"wide",parsePatterns:$we,defaultParseWidth:"any"}),quarter:fd({matchPatterns:Rwe,defaultMatchWidth:"wide",parsePatterns:Mwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fd({matchPatterns:Lwe,defaultMatchWidth:"wide",parsePatterns:Fwe,defaultParseWidth:"any"}),day:fd({matchPatterns:Bwe,defaultMatchWidth:"wide",parsePatterns:qwe,defaultParseWidth:"any"}),dayPeriod:fd({matchPatterns:Vwe,defaultMatchWidth:"any",parsePatterns:Uwe,defaultParseWidth:"any"})},Wwe={code:"en-US",formatDistance:pwe,formatLong:bwe,formatRelative:vwe,localize:kwe,match:zwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hwe(t,e){const r=$n(t,e==null?void 0:e.in);return lwe(r,fwe(r))+1}function Gwe(t,e){const r=$n(t,e==null?void 0:e.in),n=+o0(r)-+cwe(r);return Math.round(n/VU)+1}function HU(t,e){var d,f,m,p;const r=$n(t,e==null?void 0:e.in),n=r.getFullYear(),a=rw(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(m=a.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,i=Rs((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=cm(i,e),c=Rs((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=cm(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Ywe(t,e){var l,c,u,d;const r=rw(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=HU(t,e),s=Rs((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),cm(s,e)}function Kwe(t,e){const r=$n(t,e==null?void 0:e.in),n=+cm(r,e)-+Ywe(r,e);return Math.round(n/VU)+1}function dt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Zs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return dt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):dt(r+1,2)},d(t,e){return dt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return dt(t.getHours()%12||12,e.length)},H(t,e){return dt(t.getHours(),e.length)},m(t,e){return dt(t.getMinutes(),e.length)},s(t,e){return dt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return dt(a,e.length)}},Wl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Zs.y(t,e)},Y:function(t,e,r,n){const a=HU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return dt(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):dt(s,e.length)},R:function(t,e){const r=WU(t);return dt(r,e.length)},u:function(t,e){const r=t.getFullYear();return dt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return dt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return dt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Zs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return dt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Kwe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):dt(a,e.length)},I:function(t,e,r){const n=Gwe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):dt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Zs.d(t,e)},D:function(t,e,r){const n=Hwe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):dt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return dt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return dt(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return dt(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Wl.noon:n===0?a=Wl.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Wl.evening:n>=12?a=Wl.afternoon:n>=4?a=Wl.morning:a=Wl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Zs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):dt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):dt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Zs.s(t,e)},S:function(t,e){return Zs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return hR(n);case"XXXX":case"XX":return Ni(n);case"XXXXX":case"XXX":default:return Ni(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return hR(n);case"xxxx":case"xx":return Ni(n);case"xxxxx":case"xxx":default:return Ni(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pR(n,":");case"OOOO":default:return"GMT"+Ni(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pR(n,":");case"zzzz":default:return"GMT"+Ni(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return dt(n,e.length)},T:function(t,e,r){return dt(+t,e.length)}};function pR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+dt(s,2)}function hR(t,e){return t%60===0?(t>0?"-":"+")+dt(Math.abs(t)/60,2):Ni(t,e)}function Ni(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=dt(Math.trunc(n/60),2),s=dt(n%60,2);return r+a+e+s}const gR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},GU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Jwe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return gR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",gR(n,e)).replace("{{time}}",GU(a,e))},Xwe={p:GU,P:Jwe},Zwe=/^D+$/,Qwe=/^Y+$/,eNe=["D","DD","YY","YYYY"];function tNe(t){return Zwe.test(t)}function rNe(t){return Qwe.test(t)}function nNe(t,e,r){const n=aNe(t,e,r);if(console.warn(n),eNe.includes(t))throw new RangeError(n)}function aNe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iNe=/^'([^]*?)'?$/,lNe=/''/g,cNe=/[a-zA-Z]/;function yR(t,e,r){var d,f,m,p;const n=rw(),a=n.locale??Wwe,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,l=$n(t,r==null?void 0:r.in);if(!dwe(l))throw new RangeError("Invalid time value");let c=e.match(oNe).map(g=>{const y=g[0];if(y==="p"||y==="P"){const b=Xwe[y];return b(g,a.formatLong)}return g}).join("").match(sNe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:uNe(g)};if(mR[y])return{isToken:!0,value:g};if(y.match(cNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;(rNe(y)||tNe(y))&&nNe(y,e,String(t));const b=mR[y[0]];return b(l,y,a.localize,u)}).join("")}function uNe(t){const e=t.match(iNe);return e?e[1].replace(lNe,"'"):t}function bR(t,e){const r=()=>Rs(e==null?void 0:e.in,NaN),a=pNe(t);let s;if(a.date){const u=hNe(a.date,2);s=gNe(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=yNe(a.time),isNaN(l)))return r();if(a.timezone){if(c=bNe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=$n(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return $n(i+l+c,e==null?void 0:e.in)}const gh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dNe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fNe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mNe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pNe(t){const e={},r=t.split(gh.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],gh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(gh.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=gh.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function hNe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function gNe(t,e){if(e===null)return new Date(NaN);const r=t.match(dNe);if(!r)return new Date(NaN);const n=!!r[4],a=md(r[1]),s=md(r[2])-1,i=md(r[3]),l=md(r[4]),c=md(r[5])-1;if(n)return NNe(e,l,c)?xNe(e,l,c):new Date(NaN);{const u=new Date(0);return!jNe(e,s,i)||!wNe(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function md(t){return t?parseInt(t):1}function yNe(t){const e=t.match(fNe);if(!e)return NaN;const r=L1(e[1]),n=L1(e[2]),a=L1(e[3]);return CNe(r,n,a)?r*zU+n*UU+a*1e3:NaN}function L1(t){return t&&parseFloat(t.replace(",","."))||0}function bNe(t){if(t==="Z")return 0;const e=t.match(mNe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return SNe(n,a)?r*(n*zU+a*UU):NaN}function xNe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const vNe=[31,null,31,30,31,30,31,31,30,31,30,31];function YU(t){return t%400===0||t%4===0&&t%100!==0}function jNe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(vNe[e]||(YU(t)?29:28))}function wNe(t,e){return e>=1&&e<=(YU(t)?366:365)}function NNe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function CNe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function SNe(t,e){return e>=0&&e<=59}const gp="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",ANe=[],_c=q("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gp}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),F1=q("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gp}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),pf=q("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gp}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),B1=q("publicMarketTicketing/public-market-ticketing",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gp}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),qb=q("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gp}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),KU=ve({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(_c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_c.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(_c.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=ANe}).addCase(F1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(F1.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(F1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(pf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pf.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(pf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(B1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(B1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(B1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(qb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(qb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:P8e}=KU.actions,INe=KU.reducer,kNe=le().shape({items:_().required("Items type is required"),startTime:Be().required("Start time is required"),endTime:Be().required("End time is required").min(bl("startTime"),"End time must be after start time"),issuedBy:_().required("Issued by is required"),dateIssued:Be().required("Date issued is required"),postingPeriod:Be().required("Posting period is required"),amountIssued:K().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:_().required("Remarks are required")}),TNe={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},ENe=({ticket:t,onClose:e})=>{const r=ce(),n=s=>s?(console.log(s),{...s,items:s.Items||"",startTime:s.StartTime?yR(bR(s.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:s.EndTime?yR(bR(s.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:s.IssuedBy||"",dateIssued:s.DateIssued||"",postingPeriod:s.PostingPeriod||"",amountIssued:s.AmountIssued||"",remarks:s.Remarks||""}):TNe,a=async s=>{try{const i={Items:s.items,StartTime:new Date(s.startTime).toISOString(),EndTime:new Date(s.endTime).toISOString(),IssuedBy:s.issuedBy,DateIssued:s.dateIssued,PostingPeriod:s.postingPeriod,AmountIssued:s.amountIssued,Remarks:s.remarks};t?(await r(pf({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...i})).unwrap(),oe.success("Ticket updated successfully"),r(_c())):(await r(pf({IsNew:!0,...i})).unwrap(),oe.success("Ticket added successfully"),r(_c()))}catch(i){oe.error(i.message||"Something went wrong")}finally{e()}};return o.jsx(Le,{initialValues:n(t),validationSchema:kNe,onSubmit:a,enableReinitialize:!0,children:({isSubmitting:s,isValid:i,dirty:l,values:c,errors:u,touched:d,handleChange:f,handleBlur:m})=>o.jsxs(Ue,{className:"space-y-6",children:[o.jsx(I,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:d.items&&u.items,touched:d.items,value:c.items,onChange:f,onBlur:m}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(I,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:d.dateIssued&&u.dateIssued,touched:d.dateIssued,value:c.dateIssued,onChange:f,onBlur:m}),o.jsx(I,{label:"Posting Period:",name:"postingPeriod",type:"date",required:!0,error:d.postingPeriod&&u.postingPeriod,touched:d.postingPeriod,value:c.postingPeriod,onChange:f,onBlur:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(I,{label:"Start Time:",name:"startTime",type:"datetime-local",max:c.postingPeriod,required:!0,error:d.startTime&&u.startTime,touched:d.startTime,value:c.startTime,onChange:f,onBlur:m}),o.jsx(I,{label:"End Time:",name:"endTime",type:"datetime-local",min:c.startTime,max:c.postingPeriod,required:!0,error:d.endTime&&u.endTime,touched:d.endTime,value:c.endTime,onChange:f,onBlur:m})]}),o.jsx(I,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:d.issuedBy&&u.issuedBy,touched:d.issuedBy,value:c.issuedBy,onChange:f,onBlur:m}),o.jsx(I,{label:"Amount Issued:",name:"amountIssued",type:"text",placeholder:"0.00",required:!0,error:d.amountIssued&&u.amountIssued,touched:d.amountIssued,value:c.amountIssued!==""&&!isNaN(c.amountIssued)?Number(c.amountIssued).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:p=>{const g=p.target.value.replace(/\D/g,""),y=g?(parseInt(g,10)/100).toFixed(2):"";f({target:{name:"amountIssued",value:y}})},onBlur:m}),o.jsx(I,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:d.remarks&&u.remarks,touched:d.remarks,value:c.remarks,onChange:f,onBlur:m,rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!i||!l,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},xt=t=>t!=null&&t!==""?Number(t).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",PNe=()=>{const t=ce(),{Add:e,Edit:r,Delete:n}=we(68),[a,s]=w.useState(!1),[i,l]=w.useState(null),{tickets:c,isLoading:u,error:d}=z(b=>b.publicMarketTicketing);w.useEffect(()=>{t(_c())},[t]),w.useEffect(()=>{d&&oe.error(d)},[d]);const f=()=>{l(null),s(!0)},m=async b=>{console.log("Deleting ticket:",b);try{await t(qb(b.ID)).unwrap(),oe.success("Ticket deleted successfully")}catch(h){oe.error(h.message||"Failed to delete ticket")}},p=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:b=>new Date(b).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:b=>new Date(b).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:b=>new Date(b).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:b=>new Date(b).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:xt},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],y=[r&&{icon:Na,title:"Edit",onClick:b=>{console.log("Edit ticket:",b),l(b),s(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},n&&{icon:Ca,title:"Delete",onClick:m,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 page-header max-sm:flex-wrap gap-4",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),e&&o.jsxs(St,{onClick:f,disabled:u,className:"max-sm:w-full",children:[o.jsx(gde,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:p,data:c,isLoading:u,actions:y})}),o.jsx(ie,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Ticket":"Add Ticket",children:o.jsx(ENe,{ticket:i,onClose:()=>s(!1)})})]})};le().shape({budgetName:_().required("Budget Name is required"),fiscalYear:_().required("Fiscal Year is required"),department:_().required("Department is required"),subDepartment:_().required("Sub-Department is required"),chartOfAccounts:_().required("Chart of Accounts is required"),fund:_().required("Fund is required"),project:_().required("Project is required"),january:_().required("January is required"),february:_().required("February is required"),march:_().required("March is required"),april:_().required("April is required"),may:_().required("May is required"),june:_().required("June is required"),july:_().required("July is required"),august:_().required("August is required"),september:_().required("September is required"),october:_().required("October is required"),november:_().required("November is required"),december:_().required("December is required")});const DNe=le().shape({Name:_().required("Budget name is required"),FiscalYearID:K().required("Fiscal year is required"),DepartmentID:K().required("Department is required"),SubDepartmentID:K().required("Sub department is required"),ChartofAccountsID:K().required("Chart of accounts is required"),FundID:K().required("Fund is required"),ProjectID:K().required("Project is required"),Appropriation:K().required("Appropriation is required"),Charges:K().required("Charges is required"),January:K().nullable(),February:K().nullable(),March:K().nullable(),April:K().nullable(),May:K().nullable(),June:K().nullable(),July:K().nullable(),August:K().nullable(),September:K().nullable(),October:K().nullable(),November:K().nullable(),December:K().nullable()}),xR={ID:"",IsNew:!0,Name:"",FiscalYearID:"",DepartmentID:"",SubDepartmentID:"",ChartofAccountsID:"",FundID:"",ProjectID:"",Appropriation:0,Charges:0,January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0};function JU({initialData:t,onSubmit:e,onClose:r,departmentOptions:n,subDepartmentOptions:a,chartOfAccountsOptions:s,fundOptions:i,projectOptions:l,fiscalYearOptions:c}){const[u,d]=w.useState({...xR}),f=(m,{setSubmitting:p})=>{e(m),p(!1),console.log("Form submitted with values:",m)};return w.useEffect(()=>{t!=null&&t.ID?d({ID:t.ID,IsNew:!1,Name:t.Name||"",FiscalYearID:t.FiscalYearID||"",DepartmentID:t.DepartmentID||"",SubDepartmentID:t.SubDepartmentID||"",ChartofAccountsID:t.ChartofAccountsID||"",FundID:t.FundID||"",ProjectID:t.ProjectID||"",Appropriation:t.Appropriation||0,Charges:t.Charges||0,January:t.January||0,February:t.February||0,March:t.March||0,April:t.April||0,May:t.May||0,June:t.June||0,July:t.July||0,August:t.August||0,September:t.September||0,October:t.October||0,November:t.November||0,December:t.December||0}):d(xR)},[t]),o.jsx(Le,{enableReinitialize:!0,onSubmit:f,initialValues:u,validationSchema:DNe,children:({values:m,errors:p,touched:g,handleChange:y,handleBlur:b,isSubmitting:h,submitCount:x,setFieldValue:v})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(I,{label:"Budget Name",name:"Name",value:m.Name,type:"text",onChange:y,onBlur:b,error:p.Name,touched:g.Name,required:!0})}),o.jsx(I,{label:"Fiscal Year",name:"FiscalYearID",type:"select",onChange:y,onBlur:b,value:m.FiscalYearID,error:p.FiscalYearID,touched:g.FiscalYearID,options:c,required:!0}),o.jsx(I,{label:"Department",name:"DepartmentID",type:"select",onChange:y,onBlur:b,value:m.DepartmentID,error:p.DepartmentID,touched:g.DepartmentID,options:n,required:!0}),o.jsx(I,{label:"Sub-Department",name:"SubDepartmentID",type:"select",onChange:y,onBlur:b,value:m.SubDepartmentID,error:p.SubDepartmentID,touched:g.SubDepartmentID,options:a,required:!0}),o.jsx(I,{label:"Chart of Accounts",name:"ChartofAccountsID",type:"select",onChange:y,onBlur:b,value:m.ChartofAccountsID,error:p.ChartofAccountsID,touched:g.ChartofAccountsID,options:s,required:!0}),o.jsx(I,{label:"Fund",name:"FundID",type:"select",onChange:y,onBlur:b,value:m.FundID,error:p.FundID,touched:g.FundID,options:i,required:!0}),o.jsx(I,{label:"Project",name:"ProjectID",type:"select",onChange:y,onBlur:b,value:m.ProjectID,error:p.ProjectID,touched:g.ProjectID,options:l,required:!0}),o.jsx(I,{label:"Appropriation",name:"Appropriation",onChange:y,onBlur:b,value:m.Appropriation!==""&&!isNaN(m.Appropriation)?Number(m.Appropriation).toLocaleString():"",error:p.Appropriation,touched:g.Appropriation,type:"text",required:!0,readOnly:!0,className:"bg-gray-100"}),o.jsx(I,{label:"Charges",name:"Charges",type:"number",onChange:y,onBlur:b,value:m.Charges,error:p.Charges,touched:g.Charges,required:!0,readOnly:!0,className:"bg-gray-100"}),o.jsx(I,{label:"Total Amount",name:"TotalAmount",type:"number",onChange:y,onBlur:b,value:m.TotalAmount,error:p.TotalAmount,touched:g.TotalAmount,readOnly:!0,className:"bg-gray-100"}),o.jsx(I,{label:"Balance",name:"AppropriationBalance",type:"number",onChange:y,onBlur:b,value:m.AppropriationBalance,error:p.AppropriationBalance,touched:g.AppropriationBalance,readOnly:!0,className:"bg-gray-100"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(C=>o.jsx(I,{label:C,name:C,type:"text",onChange:j=>{const N=j.target.value.replace(/,/g,""),S=N===""?"":Number(N);y({target:{name:C,value:S}});const A={...m,[C]:S},T=["January","February","March","April","May","June","July","August","September","October","November","December"].reduce((E,$)=>E+(Number(A[$])||0),0);v("Appropriation",T)},onBlur:b,value:m[C]!==""&&!isNaN(m[C])?Number(m[C]).toLocaleString():"",error:p[C],touched:g[C]},C))}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]}),x>0&&Object.keys(p).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(p).map(([C,j])=>o.jsx("li",{children:j},C))})]})]})})}const ONe=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],_Ne=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],$Ne=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],RNe=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],MNe=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],vR=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],hI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],LNe=le().shape({budgetName:_().required("Required"),fiscalYear:_().required("Required"),department:_().required("Required"),subDepartment:_().required("Required"),chartOfAccount:_().required("Required"),fund:_().required("Required"),project:_().required("Required"),monthlyAmounts:le().shape(hI.reduce((t,e)=>(t[e]=K().min(0,"Must be >= 0").required("Required"),t),{}))});function FNe(){const[t,e]=w.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx(Le,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:hI.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:LNe,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(w.useEffect(()=>{const s=vR.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(Ue,{className:"space-y-4",children:[o.jsx(I,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(I,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:ONe,value:r.fiscalYear,onChange:n}),o.jsx(I,{name:"department",label:"Department",type:"select",required:!0,options:_Ne,value:r.department,onChange:n}),o.jsx(I,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:$Ne,value:r.subDepartment,onChange:n}),o.jsx(I,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:RNe,value:r.chartOfAccount,onChange:n}),o.jsx(I,{name:"fund",label:"Fund",type:"select",required:!0,options:MNe,value:r.fund,onChange:n}),o.jsx(I,{name:"project",label:"Project",type:"select",required:!0,options:vR.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:hI.map(s=>o.jsx(I,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}le().shape({Status:_().oneOf(["Requested"]).required(),APAR:_().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:K().oneOf([21]).required(),RequestedBy:K().required("Requested by (lngUser) is required"),InvoiceDate:Be().required("Invoice date is required"),InvoiceNumber:_().required("Invoice number is required"),Total:K().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Os().required("Active is required"),Remarks:_().nullable(),CreatedBy:_().required("Created by is required"),CreatedDate:Be().required("Created date is required"),ApprovalProgress:K().min(0).required("Approval progress is required"),BudgetID:K().required("Budget id is requeired"),ApprovalVersion:K().required("Approval version is required")});const nw="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",BNe=[],hf=q("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nw}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vb=q("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${nw}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gI=q("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${nw}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ub=q("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${nw}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),qNe=ve({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(hf.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hf.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(hf.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=BNe}).addCase(Vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(Vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(gI.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gI.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(Ub.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ub.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(Ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),VNe=qNe.reducer;function UNe(){ce();const[t,e]=w.useState(!1),[r,n]=w.useState(null),{budgets:a,isLoading:s}=z(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(p){console.error("Error saving record:",p)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Te,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(ye,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(ie,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(JU,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}function zNe({fiscalYears:t=[],accLoading:e=!1,onView:r,onGenerateJournal:n,onExportExcel:a}){const s=w.useRef(null),i=le({fiscalYearID:_().required("Fiscal Year is required")}),l={fiscalYearID:""},c=(u,{setSubmitting:d})=>{const f=s.current;f==="view"?r(u):f==="generate"?n(u):f==="export"&&a(u),d(!1),s.current=null};return o.jsx(Le,{initialValues:l,validationSchema:i,onSubmit:c,validateOnMount:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:p,isSubmitting:g,setFieldValue:y})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:o.jsx(I,{type:"select",label:"Fiscal Year",name:"fiscalYearID",options:t.map(b=>({value:b.ID,label:b.Name})),value:u.fiscalYearID,onChange:m,onBlur:p,error:d.fiscalYearID,touched:f.fiscalYearID,required:!0})}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>s.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>s.current="export",children:"Export to Excel"})]})]})})}const WNe="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",HNe={statementComparisons:[],isLoading:!1,error:null},zb=q("statementComparison/fetchStatementComparisons",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${WNe}/statementOfComparison/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),q1=q("statementComparison/exportStatementComparisons",async t=>!0),XU=ve({name:"statementComparison",initialState:HNe,reducers:{resetStatementComparisonState:t=>{t.statementComparisons=[],t.error=null}},extraReducers:t=>{t.addCase(zb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zb.fulfilled,(e,r)=>{e.isLoading=!1,e.statementComparisons=r.payload}).addCase(zb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(q1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(q1.fulfilled,e=>{e.isLoading=!1}).addCase(q1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetStatementComparisonState:GNe}=XU.actions,YNe=XU.reducer;function KNe(){const t="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",e=ce(),{statementComparisons:r,isLoading:n,error:a}=z(u=>u.statementComparison),{fiscalYears:s}=z(u=>u.fiscalYears);w.useEffect(()=>{e(GNe()),e(fn())},[e]);const i=[{key:"Type",header:"Type",sortable:!0},{key:"SubID",header:"Sub ID",sortable:!0},{key:"Subtype",header:"Subtype",sortable:!0},{key:"Category",header:"Category",sortable:!0},{key:"Chart of Accounts",header:"Chart of Accounts",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Original",header:"Original",sortable:!0,render:xt,className:"text-right"},{key:"Final",header:"Final",sortable:!0,className:"text-right",render:xt},{key:"Difference",header:"Difference",sortable:!0,className:"text-right"},{key:"Actual",header:"Actual",sortable:!0,className:"text-right"},{key:"Difference 2",header:"Difference 2",sortable:!0,className:"text-right"},{key:"Period",header:"Period",sortable:!0},{key:"Original_Sum",header:"Original_Sum",sortable:!0,render:xt},{key:"Final_Sum",header:"Final_Sum",sortable:!0,render:xt},{key:"Difference_Sum",header:"Difference_Sum",sortable:!0,render:xt},{key:"Actual_Sum",header:"Actual_Sum",sortable:!0,render:xt},{key:"Difference2_Sum",header:"Difference2_Sum",sortable:!0,render:xt},{key:"Municipality",header:"Municipality",sortable:!0},{key:"Province",header:"Province",sortable:!0}],l=async u=>{try{const d=await fetch(`${t}/statementOfComparison/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({fiscalYearID:u.fiscalYearID})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let p="Statement_of_Comparison.xlsx";m&&m.includes("filename=")&&(p=m.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(f),y=document.createElement("a");y.href=g,y.download=p,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(g)}catch(d){console.error("Export failed:",d),V.error(d.message||"Failed to export")}},c=u=>{e(zb(u))};return o.jsxs("div",{className:"page-container",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Statement of Comparison"}),o.jsx("p",{children:"Compare original, final, and actual budget amounts by fiscal year"})]})}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(zNe,{fiscalYears:s,onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 rounded-md",children:o.jsx("p",{className:"text-red-800",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:i,data:r,loading:n,pagination:!0})})]})}const JNe=()=>{const t=ce(),[e,r]=w.useState(null),{Edit:n}=we(58);w.useEffect(()=>{t(Oo()),t(Do()),t(Po()),t(Eo()),s()},[t]);const a="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",s=async()=>{try{const N=localStorage.getItem("token"),S=await fetch(`${a}/lgu`,{headers:{Authorization:`Bearer ${N}`}});if(!S.ok)throw new Error("Failed to fetch LGU data");const A=await S.json(),k=i(A);p(k),y(A.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(N){console.error("Error loading LGU data:",N)}},i=N=>{var D,P,F,O;const{BarangayID:S,MunicipalityID:A,ProvinceID:k,RegionID:T}=N,E=(D=c.find(R=>R.ID===S))==null?void 0:D.Name,$=(P=u.find(R=>R.ID===A))==null?void 0:P.Name,L=(F=d.find(R=>R.ID===k))==null?void 0:F.Name,M=(O=f.find(R=>R.ID===T))==null?void 0:O.Name;return N.BarangayName=E,N.MunicipalityName=$,N.ProvinceName=L,N.RegionName=M,N},l=async(N,S)=>{try{const A=localStorage.getItem("token"),k=new FormData;Object.entries(N).forEach(([$,L])=>{k.append($,L)}),S&&k.append("Logo",S);const T=await fetch(`${a}/lgu/${N.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${A}`},body:k});if(!T.ok)throw new Error("Failed to update LGU");const E=await T.json();return p(E),y(E.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(A){return console.error("Update error:",A),!1}},{barangays:c}=z(N=>N.barangays),{municipalities:u}=z(N=>N.municipalities),{provinces:d}=z(N=>N.provinces),{regions:f}=z(N=>N.regions),[m,p]=w.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[g,y]=w.useState("https://placehold.co/150x150?text=LGU+Logo"),[b,h]=w.useState(!1),x=le({Code:_().required("Code is required"),Name:_().required("Name is required"),TIN:_().required("TIN is required").matches(/^\d{14}$/,"TIN must be exactly 14 digits"),RDO:_().required("RDO is required"),StreetAddress:_().required("Street Address is required"),BarangayID:_().required("Barangay is required"),MunicipalityID:_().required("Municipality is required"),ProvinceID:_().required("Province is required"),RegionID:_().required("Region is required"),ZIPCode:_().required("Zip Code is required"),PhoneNumber:K().required("Phone Number is required"),EmailAddress:_().email("Invalid email").required("Email is required"),Website:_().required("Website is required")}),v=tt({initialValues:m,validationSchema:x,enableReinitialize:!0,onSubmit:async(N,{setSubmitting:S})=>{await l(N,e)&&(h(!1),V.success("LGU updated successfully"),s()),S(!1)}}),C=N=>{var A;const S=(A=N.target.files)==null?void 0:A[0];if(S){r(S);const k=new FileReader;k.onloadend=()=>{y(k.result)},k.readAsDataURL(S)}},j=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","17A","17B","018","019","020","21A","21B","21C","022","23A","23B","024","25A","25B","026","027","028","029","030","031","032","033","034","035","036","037","038","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","53A","53B","54A","54B","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","93A","93B","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113A","113B","114","115"].map((N,S)=>({ID:S+1,Name:N}));return o.jsxs("div",{className:"sm:py-6 sm:px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(oV,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),n&&!b&&o.jsx("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:g,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),b&&o.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"mt-2 w-full"})]}),b?o.jsxs("form",{onSubmit:v.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"LGU Code",name:"Code",value:v.values.Code,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.Code,touched:v.touched.Code,required:!0}),o.jsx(I,{label:"LGU Name",name:"Name",value:v.values.Name,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.Name,touched:v.touched.Name,required:!0}),o.jsx(I,{label:"TIN",name:"TIN",value:v.values.TIN,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.TIN,touched:v.touched.TIN,required:!0}),o.jsx(I,{label:"RDO",name:"RDO",type:"select",options:j.map(N=>({value:N.ID,label:N.Name})),value:v.values.RDO,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.RDO,touched:v.touched.RDO,required:!0}),o.jsx(I,{label:"Street Address",name:"StreetAddress",value:v.values.StreetAddress,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.StreetAddress,touched:v.touched.StreetAddress,required:!0}),o.jsx(I,{label:"Barangay",name:"BarangayID",type:"select",value:v.values.BarangayID,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.BarangayID,touched:v.touched.BarangayID,options:c.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Municipality",name:"MunicipalityID",type:"select",value:v.values.MunicipalityID,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.MunicipalityID,touched:v.touched.MunicipalityID,options:u.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Province",name:"ProvinceID",type:"select",value:v.values.ProvinceID,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.ProvinceID,touched:v.touched.ProvinceID,options:d.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Region",name:"RegionID",type:"select",value:v.values.RegionID,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.RegionID,touched:v.touched.RegionID,options:f.map(N=>({value:N.ID,label:N.Name})),required:!0}),o.jsx(I,{label:"Zip Code",name:"ZIPCode",value:v.values.ZIPCode,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.ZIPCode,touched:v.touched.ZIPCode,required:!0}),o.jsx(I,{label:"Mobile Number",name:"PhoneNumber",value:v.values.PhoneNumber,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.PhoneNumber,touched:v.touched.PhoneNumber,required:!0}),o.jsx(I,{label:"Email",name:"EmailAddress",type:"email",value:v.values.EmailAddress,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.EmailAddress,touched:v.touched.EmailAddress,required:!0}),o.jsx(I,{label:"Website",name:"Website",value:v.values.Website,onChange:v.handleChange,onBlur:v.handleBlur,error:v.errors.Website,touched:v.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{v.resetForm(),h(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:v.isSubmitting,children:v.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([N,S])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:S}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m[N]})]},N))})]})]})]})},XNe=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(I,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(I,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(I,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(I,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(I,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(I,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(I,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(I,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(I,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(I,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(I,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(I,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(I,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(I,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(I,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(I,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(I,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(I,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(I,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(I,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(I,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(I,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(I,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(I,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(I,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(I,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(I,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(I,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(I,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(I,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(I,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(I,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(I,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(I,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(I,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(I,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(I,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function ZNe(){const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a,s]=w.useState(""),{Add:i,Edit:l,Delete:c}=we(29),u=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[d,f]=w.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),m=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:j=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:j})}],p=[{icon:Au,title:"View",onClick:j=>b(j)},l&&{icon:Na,title:"Edit",onClick:j=>h(j)},c&&{icon:Ca,title:"Delete",onClick:j=>x(j)}],g=(j,N)=>{f(S=>({...S,[j]:N}))},y=()=>{n(null),f({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},b=j=>{n(j),e(!0)},h=j=>{n(j),e(!0)},x=j=>{console.log("Deleting permit:",j)},v=()=>{console.log("Saving form data:",d),e(!1)},C=u.filter(j=>j.businessName.toLowerCase().includes(a.toLowerCase())||j.ownerName.toLowerCase().includes(a.toLowerCase())||j.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),i&&o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary max-sm:w-full ",children:[o.jsx(nm,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:j=>s(j.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(ye,{columns:m,data:C,actions:p,pagination:!0})]})}),o.jsx(ie,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(XNe,{formData:d,handleInputChange:g,handleSave:v,onCancel:()=>e(!1),isEdit:!!r})})]})}const QNe="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",e1e=le().shape({payee:_().required("Payee is required"),amount:K().required("Amount is required").positive("Amount must be positive"),date:Be().required("Date is required"),bank:_().required("Bank is required"),accountNumber:_().required("Account number is required"),accountName:_().required("Account name is required"),chequeType:_().required("Cheque type is required"),checkNumber:_().required("Check number is required"),brstn:_().required("BRSTN is required"),dv:_().required("DV is required"),signatory1:_().required("Signatory 1 is required"),signatory2:_().required("Signatory 2 is required").notOneOf([bl("signatory1")],"Signatories must be different"),Attachments:Vt()});function t1e(){var L,M,D;const[t,e]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState([]),[i,l]=w.useState(!1),c=ce(),{banks:u,isLoading:d}=z(P=>P.banks),{employees:f,isLoading:m}=z(P=>P.employees),{Add:p,Edit:g,Delete:y,Print:b}=we(33),h=tt({initialValues:{status:"Pending",payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",accountName:"",chequeType:"Single",particulars:"",checkNumber:"",brstn:"",dv:"",additionalInformation:"",signatory1:"",signatory2:"",Attachments:[]},validationSchema:e1e,onSubmit:async P=>{await j(P)}});w.useEffect(()=>{c(tl()),c(dn()),x()},[]);const x=async()=>{try{const P=await qe("/chequeGenerator/checkList");s(P.data)}catch(P){throw console.error("Error fetching cheque list:",P),P}},v=(P,F,O)=>{const B=Array.from(P.target.files).map(U=>U);console.log(B,O),F("Attachments",[...O.Attachments,...B])},C=(P,F,O)=>{const R=[...O.Attachments];R.splice(P,1),F("Attachments",R)},j=async P=>{try{const F=new FormData;F.append("IsNew",r?"false":"true"),F.append("ID",(r==null?void 0:r.ID)||""),F.append("AddCondition","true"),F.append("DisbursementID",P.dv),F.append("BankID",P.bank),F.append("SignatoryType",P.chequeType),F.append("AccountNumber",P.accountNumber),F.append("AccountName",P.accountName),F.append("CheckNumber",P.checkNumber),F.append("BRSTN",P.brstn),F.append("CheckDate",P.date),F.append("Payee",P.payee),F.append("Amount",P.amount),F.append("Words",Ro(P.amount)),F.append("SignatoryOneID",P.signatory1),F.append("SignatoryTwoID",P.signatory2),F.append("Remarks",P.additionalInformation),F.append("OBR",P.obr||""),t.length>0?t.forEach((B,U)=>{B.ID?F.append(`Attachments[${U}].ID`,B.ID):F.append(`Attachments[${U}].File`,B)}):F.append("Attachments","[]");const O={headers:{"Content-Type":"multipart/form-data"}},R=await qe.post("/chequeGenerator/save",F,O);if(R.data.error&&R.status!==200){V.error(R.data.error);return}V.success("Cheque saved successfully"),x(),S()}catch(F){throw console.error("Error saving cheque:",F),V.error("Failed to save cheque"),F}},N=P=>{n(P),h.setValues({status:P.Status,payee:P.Payee,amount:P.Amount,date:P.CheckDate,bank:P.BankID.toString(),accountNumber:P.AccountNumber,accountName:P.AccountName,chequeType:P.SignatoryType,particulars:P.Particulars||"",checkNumber:P.CheckNumber,brstn:P.BRSTN,dv:P.DisbursementID,additionalInformation:P.Remarks,obr:P.OBR||"",signatory1:P.SignatoryOneID.toString(),signatory2:P.SignatoryTwoID.toString(),Attachments:P.Attachments||[]})},S=()=>{n(null),h.resetForm(),e([])},A=[{key:"Status",header:"Status",sortable:!0,render:P=>o.jsx("span",{className:`px-2 py-1 text-xs rounded font-medium ${P==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:P})},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"Payee",header:"Payee",sortable:!0},{key:"Amount",header:"Amount",sortable:!0,render:P=>o.jsxs("span",{className:"font-medium",children:[" ",P?Number(P).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""]})},{key:"ApprovalProgress",header:"Approval Progress",sortable:!0},{key:"ApprovalVersion",header:"Approval Version",sortable:!0}],k=P=>{console.log("Delete",P)},T=P=>{console.log("View",P)},E=async(P,F)=>{l(!0);try{console.log(`${F}d:`,response.data),V.success(`Budget Allotment ${F}d successfully`)}catch(O){console.error(`Error ${F}ing Budget Allotment:`,O),V.error(`Error ${F}ing Budget Allotment`)}finally{l(!1)}},$=P=>{const F=[];return P.Status.toLowerCase().includes("rejected")&&g?(F.push({icon:Na,title:"Edit",onClick:N,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),F.push({icon:Ca,title:"Delete",onClick:()=>k(P),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):P.Status.toLowerCase().includes("requested")&&F.push({icon:bn,title:"Approve",onClick:()=>E(P,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>E(P,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),F.push({icon:Au,title:"View",onClick:T,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),F};return o.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Cheque Generator"}),o.jsx("p",{children:"Generate and print cheques"})]}),o.jsxs("div",{className:"flex gap-2 max-sm:w-full",children:[!r&&p&&o.jsxs("button",{type:"submit",onClick:h.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:h.isSubmitting,children:[o.jsx(pfe,{className:"h-5 w-5 mr-2"}),"Save"]}),r&&g&&o.jsxs("button",{type:"submit",onClick:h.handleSubmit,className:"btn btn-primary max-sm:w-full",disabled:h.isSubmitting,children:[o.jsx(gfe,{className:"h-5 w-5 mr-2"}),"Edit"]}),r&&b&&o.jsxs("button",{type:"button",onClick:()=>{console.log("Print")},className:"btn btn-primary max-sm:w-full",disabled:h.isSubmitting,children:[o.jsx(am,{className:"h-5 w-5 mr-2"}),"Print"]}),r&&o.jsx("button",{type:"button",onClick:()=>{console.log("Attachment")},className:"btn btn-primary max-sm:w-full",disabled:h.isSubmitting,children:"Attachment"}),r&&o.jsx("button",{type:"button",onClick:S,className:"btn btn-outline mr-2",children:"Cancel Edit"})]})]})}),o.jsx("form",{onSubmit:h.handleSubmit,children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(ut,{options:u.map(P=>({value:P.ID.toString(),label:P.Name})),label:"Bank",placeholder:"Select Bank",name:"bank",selectedValue:h.values.bank,onSelect:P=>h.setFieldValue("bank",P),error:h.touched.bank&&h.errors.bank,touched:h.touched.bank,required:!0})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:h.values.chequeType==="Single",onChange:h.handleChange,className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:h.values.chequeType==="Double",onChange:h.handleChange,className:"mr-2"}),"Double"]})]}),h.touched.chequeType&&h.errors.chequeType&&o.jsx("div",{className:"text-red-500 text-sm",children:h.errors.chequeType})]}),o.jsx(I,{type:"text",label:"DV",value:h.values.dv,onChange:h.handleChange,name:"dv",error:h.touched.dv&&h.errors.dv,touched:h.touched.dv})]}),o.jsxs("div",{className:"my-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:P=>v(P,h.setFieldValue,h.values),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`},h.values.Attachments.length)]}),((M=(L=h==null?void 0:h.values)==null?void 0:L.Attachments)==null?void 0:M.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.values.Attachments.map((P,F)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:P.ID?o.jsx("a",{href:`${QNe}/uploads/${P.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:P.name||P.DataName}):P.name||P.DataName})]}),o.jsx("button",{type:"button",onClick:()=>C(F,h.setFieldValue,h.values),className:"text-red-500 hover:text-red-700",children:o.jsx(Jt,{className:"h-4 w-4"})})]},F))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:["Status: ",h.values.status]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Account Number",name:"accountNumber",value:h.values.accountNumber,onChange:h.handleChange,error:h.touched.accountNumber&&h.errors.accountNumber,touched:h.touched.accountNumber})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Account Name",name:"accountName",value:h.values.accountName,onChange:h.handleChange,error:h.touched.accountName&&h.errors.accountName,touched:h.touched.accountName})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(I,{type:"text",label:"Check Number",name:"checkNumber",value:h.values.checkNumber,onChange:h.handleChange,error:h.touched.checkNumber&&h.errors.checkNumber,touched:h.touched.checkNumber})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"BRSTN",name:"brstn",value:h.values.brstn,onChange:h.handleChange,error:h.touched.brstn&&h.errors.brstn,touched:h.touched.brstn})})]}),o.jsx("div",{children:o.jsx(I,{type:"date",label:"Date",name:"date",value:h.values.date,onChange:h.handleChange,error:h.touched.date&&h.errors.date,touched:h.touched.date})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Pay to the order of:",name:"payee",value:h.values.payee,onChange:h.handleChange,error:h.touched.payee&&h.errors.payee,touched:h.touched.payee})}),o.jsx("div",{children:o.jsx(I,{type:"text",label:"Amount",name:"amount",value:h.values.amount!==""&&!isNaN(h.values.amount)?Number(h.values.amount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",onChange:P=>{const F=P.target.value.replace(/\D/g,""),O=F?(parseInt(F,10)/100).toFixed(2):"";h.setFieldValue("amount",O)},step:"0.01",error:h.touched.amount&&h.errors.amount,touched:h.touched.amount})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx(I,{type:"text",value:Ro(h.values.amount),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(ut,{options:f==null?void 0:f.map(P=>({value:P.ID.toString(),label:`${P.FirstName} ${P.LastName}`})),label:"Signatory 1",placeholder:"Select signatory",name:"signatory1",selectedValue:h.values.signatory1,onSelect:P=>{if(P===h.values.signatory2){V.error("Signatory 1 cannot be the same as Signatory 2");return}h.setFieldValue("signatory1",P)},error:h.touched.signatory1&&h.errors.signatory1,touched:h.touched.signatory1,required:!0})}),o.jsx("div",{children:o.jsx(ut,{options:f==null?void 0:f.map(P=>({value:P.ID.toString(),label:`${P.FirstName} ${P.LastName}`})),label:"Signatory 2",placeholder:"Select signatory",name:"signatory2",selectedValue:h.values.signatory2,onSelect:P=>{if(P===h.values.signatory1){V.error("Signatory 2 cannot be the same as Signatory 1");return}h.setFieldValue("signatory2",P)},error:h.touched.signatory2&&h.errors.signatory2,touched:h.touched.signatory2,required:!0})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{value:h.values.additionalInformation,name:"additionalInformation",onChange:h.handleChange,placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"})}),o.jsx(ye,{columns:A,data:a,actions:$,loading:d||m||i,pagination:!0})]}),o.jsxs("div",{className:"mt-6 bg-white p-3 sm:p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((D=u.find(P=>P.ID.toString()===h.values.bank))==null?void 0:D.Name)||"Select a bank"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:h.values.date?new Date(h.values.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:h.values.payee||"Enter payee name"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:h.values.amount?Ro(h.values.amount):"Enter amount"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:h.values.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(h.values.amount):"0.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function r1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=le({ChartofAccountsID:_().required("Chart of Accounts is required"),CutOffDate:_().required("Cut Off Date is required"),FundID:_().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Le,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:g,isSubmitting:y,setFieldValue:b})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 sm:gap-4 gap-1",children:[o.jsx(ut,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:h=>b("ChartofAccountsID",h),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID,className:"w-full mb-3"}),o.jsx(I,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:p,onBlur:g,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(h=>({value:h.ID,label:h.Name})),value:d.FundID,onChange:p,onBlur:g,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const n1e="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",a1e={generalLedgers:[],isLoading:!1,error:null},Wb=q("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${n1e}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),V1=q("generalLedger/exportGeneralLedgers",async t=>!0),ZU=ve({name:"generalLedger",initialState:a1e,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Wb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(Wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(V1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(V1.fulfilled,e=>{e.isLoading=!1}).addCase(V1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:s1e}=ZU.actions,o1e=ZU.reducer,i1e="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io";function l1e(){const t=ce(),{generalLedgers:e,isLoading:r,error:n}=z(d=>d.generalLedger),{funds:a}=z(d=>d.funds),{accounts:s}=z(d=>d.chartOfAccounts),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);w.useEffect(()=>{t(s1e()),t(Zt()),t(kr())},[t]);const l=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:d=>i(d),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],c=async d=>{try{const f=await fetch(`${i1e}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(d)});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),p=f.headers.get("Content-Disposition");let g="General_Ledger.xlsx";p&&p.includes("filename=")&&(g=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(m),b=document.createElement("a");b.href=y,b.download=g,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(y)}catch(f){console.error("Export failed:",f),V.error(f.message||"Failed to export general ledger")}},u=d=>{t(Wb(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(r1e,{funds:a,accountOptions:s.map(d=>({value:d.ID,label:`${d.AccountCode} - ${d.Name}`})),onExportExcel:c,onView:u,onClose:()=>{}})}),n&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:n})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:l,data:e,loading:r,pagination:!0})})]})}function c1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=le({ChartofAccountsID:_().required("Chart of Accounts is required"),CutOffDate:_().required("Cut Off Date is required"),FundID:_().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Le,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:g,isSubmitting:y,setFieldValue:b})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1 sm:gap-4",children:[o.jsx(ut,{label:"Chart of Account",name:"ChartofAccountsID",placeholder:"Select a chart of account...",type:"select",required:!0,selectedValue:d.ChartofAccountsID,onSelect:h=>b("ChartofAccountsID",h),options:e,error:f.ChartofAccountsID,touched:m.ChartofAccountsID}),o.jsx(I,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:p,onBlur:g,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"FundID",options:t.map(h=>({value:h.ID,label:h.Name})),value:d.FundID,onChange:p,onBlur:g,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 max-sm:flex-col pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const u1e="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",d1e={subsidiaryLedgers:[],isLoading:!1,error:null},Hb=q("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${u1e}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),U1=q("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),QU=ve({name:"subsidiaryLedger",initialState:d1e,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Hb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hb.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(U1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(U1.fulfilled,e=>{e.isLoading=!1}).addCase(U1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:f1e}=QU.actions,m1e=QU.reducer;function p1e(){const t="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",e=ce(),{subsidiaryLedgers:r,isLoading:n,error:a}=z(f=>f.subsidiaryLedger),{funds:s}=z(f=>f.funds),{accounts:i}=z(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(f1e()),e(Zt()),e(kr())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),p=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify(f)});if(!p.ok)throw new Error("Server response was not ok");const g=await p.blob(),y=p.headers.get("Content-Disposition");let b="Subsidiary_Ledger.xlsx";y&&y.includes("filename=")&&(b=y.split("filename=")[1].replace(/['"]/g,""));const h=window.URL.createObjectURL(g),x=document.createElement("a");x.href=h,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(h)}catch(m){console.error("Export failed:",m),V.error(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Hb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(c1e,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:c,data:r,loading:n,pagination:!0})})]})}function h1e({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=w.useRef(null),a=le({year:_().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx(Le,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:p})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(I,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 max-sm:flex-col  gap-4",children:[o.jsx("button",{type:"submit",className:"btn btn-primary ",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary text-center",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const g1e="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",y1e={financialStatements:[],isLoading:!1,error:null},Gb=q("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${g1e}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),z1=q("financialStatement/exportFinancialStatements",async t=>!0),e7=ve({name:"financialStatement",initialState:y1e,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(Gb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gb.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(Gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(z1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(z1.fulfilled,e=>{e.isLoading=!1}).addCase(z1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:b1e}=e7.actions,x1e=e7.reducer;function v1e(){const t="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",e=ce(),{financialStatements:r,isLoading:n,error:a}=z(u=>u.financialStatementsReports);w.useEffect(()=>{e(b1e())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=localStorage.getItem("token"),f=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({year:u.year})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),p=f.headers.get("Content-Disposition");let g="Consolidated_Statement_of_Financial_Position.xlsx";p&&p.includes("filename=")&&(g=p.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(m),b=document.createElement("a");b.href=y,b.download=g,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(y)}catch(d){console.error("Export failed:",d),V.error(d.message||"Failed to export")}},c=u=>{e(Gb(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate consolidated comparison reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(h1e,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:i,data:r,loading:n,pagination:!0})})]})}const jR="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io";function wR(){const[t,e]=w.useState(""),[r,n]=w.useState(""),[a,s]=w.useState(""),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState([]),[m,p]=w.useState(!1),g=ce(),{funds:y}=z(A=>A.funds),{departments:b}=z(A=>A.departments),{fiscalYears:h}=z(A=>A.fiscalYears);w.useEffect(()=>{g(Zt()),g(ir()),g(fn())},[g]);const x=[{key:"Name",header:"Name",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Appropriated",header:"Appropriation",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Adjustments",header:"Adjustments",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Allotments",header:"Allotments",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Obligations",header:"Obligations",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Appropriation Balance",header:"Appropriation Balance",sortable:!0,render:A=>v(A),className:"text-right"},{key:"Allotment Balance",header:"Allotment Balance",sortable:!0,render:A=>v(A),className:"text-right"}],v=A=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(A),C=()=>({startDate:t,endDate:r,fiscalYearID:a,fundsID:i,departmentID:c}),j=async()=>{if(!N()){V.error("Please select all filters");return}try{p(!0);const A=await Qe.post(`${jR}/budgetReport/view`,C(),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});f(A.data||[])}catch{V.error("Failed to fetch data")}finally{p(!1)}},N=()=>t&&r&&a&&i&&c,S=async()=>{if(!N()){V.error("Please select all filters");return}try{const A=await Qe.post(`${jR}/budgetReport/exportExcel`,C(),{responseType:"blob",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),k=new Blob([A.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),T=window.URL.createObjectURL(k),E=document.createElement("a");E.href=T,E.download="Budget_Report.xlsx",document.body.appendChild(E),E.click(),document.body.removeChild(E)}catch{V.error("Export failed")}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:o.jsxs("button",{onClick:S,className:"btn btn-outline  max-sm:w-full ",children:[o.jsx(g3,{className:"h-5 w-5 mr-2"})," Export"]})})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Start Date",name:"startDate",type:"date",value:t,required:!0,onChange:A=>e(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"End Date",name:"endDate",type:"date",value:r,required:!0,onChange:A=>n(A.target.value)})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:a,required:!0,onChange:A=>s(A.target.value),options:h.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Fund",name:"fundsID",type:"select",value:i,required:!0,onChange:A=>l(A.target.value),options:[{label:"All Funds",value:"%"},...y.map(A=>({label:A.Name,value:A.ID}))]})}),o.jsx("div",{className:"w-full sm:w-44",children:o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:c,required:!0,onChange:A=>u(A.target.value),options:[{label:"All Departments",value:"%"},...b.map(A=>({label:A.Name,value:A.ID}))]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:j,children:"View"})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(ye,{columns:x,data:d,pagination:!0,loading:m})})]})}function j1e(){const[t,e]=w.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),{Print:r}=we(16),n=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],a=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],s=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d),i=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],l=[{key:"date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:d=>s(d),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:d=>`${(d*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:d=>s(d),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:d=>s(d),className:"text-right"}],u=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(a.find(f=>f.value===t.vendor)||a[0]).label,address:"Employee Address, City",zipCode:"1000"};{const d=n.find(f=>f.value===t.vendor)||n[0];return{tin:"123-456-789-000",name:d.label,address:`${d.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(g3,{className:"h-5 w-5 mr-2"}),"Export"]}),r&&o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(Wc,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(I,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:d=>e({...t,startDate:d.target.value})}),o.jsx(I,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:d=>e({...t,endDate:d.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:d=>e({...t,payeeType:d.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(I,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:d=>e({...t,vendor:d.target.value}),options:t.payeeType==="employee"?a:n})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",u.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",u.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",u.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",u.zipCode]})]})]})]}),o.jsx(ye,{columns:l,data:i,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((d,f)=>d+f.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const NR="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",W1={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function w1e(){const t=ce(),{userroles:e,isLoading:r,error:n}=z(y=>y.userroles),{Add:a}=we(83),s=z(y=>y.modules.modules),[i,l]=w.useState(null),[c,u]=w.useState({});w.useEffect(()=>{t(To()),t(Zi())},[t]),w.useEffect(()=>{e.length>0&&!i&&l(e[0])},[e]);const d=async()=>{try{const y=await fetch(`${NR}/moduleAccess/${i.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await y.json();if(!y.ok)throw new Error(b.message||"Failed to fetch access");const h={};b.forEach(v=>{h[v.ModuleID]={id:v.ID,view:!!v.View,add:!!v.Add,edit:!!v.Edit,delete:!!v.Delete,print:!!v.Print,mayor:!!v.Mayor}});const x={};s.forEach(v=>{x[v.ID]=h[v.ID]||{...W1}}),u(x)}catch(y){console.error("Error loading module access:",y.message)}};w.useEffect(()=>{!(i!=null&&i.ID)||s.length===0||d()},[i,s]);const f=(y,b)=>{u(h=>({...h,[y]:{...h[y],[b]:!h[y][b]}}))},m=y=>{const b={};s.forEach(h=>{b[h.ID]={...c[h.ID]||W1,view:y,add:y,edit:y,delete:y,print:y,mayor:y}}),u(b)},p=(y,b)=>{const h={...c};s.forEach(x=>{h[x.ID]={...h[x.ID]||W1,[y]:b}}),u(h)},g=async()=>{if(!(i!=null&&i.ID))return;const y=Object.entries(c).map(([b,h])=>({id:h.id||null,ModuleID:parseInt(b),View:h.view?1:0,Add:h.add?1:0,Edit:h.edit?1:0,Delete:h.delete?1:0,Print:h.print?1:0,Mayor:h.mayor?1:0}));try{const b=await fetch(`${NR}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:i.ID,modules:y})});if(!b.ok){const h=await b.json();throw new Error(h.message||"Failed to save permissions")}V.success("Permissions saved successfully!")}catch(b){console.error("Save failed:",b.message),V.error("Error saving permissions.")}};return o.jsxs("div",{className:"sm:p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),a&&o.jsx("button",{className:"btn btn-primary flex items-center",onClick:g,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(y=>o.jsx("li",{onClick:()=>l(y),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(i==null?void 0:i.ID)===y.ID?"bg-blue-200 font-semibold":""}`,children:y.Description},y.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(i==null?void 0:i.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(y=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:y})})},y))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(y=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:s.every(b=>{var h;return(h=c[b.ID])==null?void 0:h[y]}),onChange:b=>p(y,b.target.checked),className:"accent-blue-600"})},`select-all-${y}`))]}),s.map(y=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:y.Description}),["view","add","edit","delete","print","mayor"].map(b=>{var h;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((h=c[y.ID])==null?void 0:h[b])||!1,onChange:()=>f(y.ID,b),className:"accent-blue-600"})},b)})]},y.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>m(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>m(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const N1e=()=>{const t=Km(),[e,r]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""});ce();const[n,a]=w.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){V.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){V.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),V.success("Password updated successfully!"),t("/dashboard")}catch(d){V.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(sfe,{size:18}):o.jsx(Au,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(efe,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})};var C1e=Array.isArray,xn=C1e,S1e=typeof Cp=="object"&&Cp&&Cp.Object===Object&&Cp,t7=S1e,A1e=t7,I1e=typeof self=="object"&&self&&self.Object===Object&&self,k1e=A1e||I1e||Function("return this")(),Za=k1e,T1e=Za,E1e=T1e.Symbol,yp=E1e,CR=yp,r7=Object.prototype,P1e=r7.hasOwnProperty,D1e=r7.toString,pd=CR?CR.toStringTag:void 0;function O1e(t){var e=P1e.call(t,pd),r=t[pd];try{t[pd]=void 0;var n=!0}catch{}var a=D1e.call(t);return n&&(e?t[pd]=r:delete t[pd]),a}var _1e=O1e,$1e=Object.prototype,R1e=$1e.toString;function M1e(t){return R1e.call(t)}var L1e=M1e,SR=yp,F1e=_1e,B1e=L1e,q1e="[object Null]",V1e="[object Undefined]",AR=SR?SR.toStringTag:void 0;function U1e(t){return t==null?t===void 0?V1e:q1e:AR&&AR in Object(t)?F1e(t):B1e(t)}var Ws=U1e;function z1e(t){return t!=null&&typeof t=="object"}var Hs=z1e,W1e=Ws,H1e=Hs,G1e="[object Symbol]";function Y1e(t){return typeof t=="symbol"||H1e(t)&&W1e(t)==G1e}var Pu=Y1e,K1e=xn,J1e=Pu,X1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z1e=/^\w*$/;function Q1e(t,e){if(K1e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||J1e(t)?!0:Z1e.test(t)||!X1e.test(t)||e!=null&&t in Object(e)}var rE=Q1e;function eCe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ni=eCe;const Du=it(ni);var tCe=Ws,rCe=ni,nCe="[object AsyncFunction]",aCe="[object Function]",sCe="[object GeneratorFunction]",oCe="[object Proxy]";function iCe(t){if(!rCe(t))return!1;var e=tCe(t);return e==aCe||e==sCe||e==nCe||e==oCe}var nE=iCe;const Ye=it(nE);var lCe=Za,cCe=lCe["__core-js_shared__"],uCe=cCe,H1=uCe,IR=function(){var t=/[^.]+$/.exec(H1&&H1.keys&&H1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function dCe(t){return!!IR&&IR in t}var fCe=dCe,mCe=Function.prototype,pCe=mCe.toString;function hCe(t){if(t!=null){try{return pCe.call(t)}catch{}try{return t+""}catch{}}return""}var n7=hCe,gCe=nE,yCe=fCe,bCe=ni,xCe=n7,vCe=/[\\^$.*+?()[\]{}|]/g,jCe=/^\[object .+?Constructor\]$/,wCe=Function.prototype,NCe=Object.prototype,CCe=wCe.toString,SCe=NCe.hasOwnProperty,ACe=RegExp("^"+CCe.call(SCe).replace(vCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ICe(t){if(!bCe(t)||yCe(t))return!1;var e=gCe(t)?ACe:jCe;return e.test(xCe(t))}var kCe=ICe;function TCe(t,e){return t==null?void 0:t[e]}var ECe=TCe,PCe=kCe,DCe=ECe;function OCe(t,e){var r=DCe(t,e);return PCe(r)?r:void 0}var Ol=OCe,_Ce=Ol,$Ce=_Ce(Object,"create"),aw=$Ce,kR=aw;function RCe(){this.__data__=kR?kR(null):{},this.size=0}var MCe=RCe;function LCe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var FCe=LCe,BCe=aw,qCe="__lodash_hash_undefined__",VCe=Object.prototype,UCe=VCe.hasOwnProperty;function zCe(t){var e=this.__data__;if(BCe){var r=e[t];return r===qCe?void 0:r}return UCe.call(e,t)?e[t]:void 0}var WCe=zCe,HCe=aw,GCe=Object.prototype,YCe=GCe.hasOwnProperty;function KCe(t){var e=this.__data__;return HCe?e[t]!==void 0:YCe.call(e,t)}var JCe=KCe,XCe=aw,ZCe="__lodash_hash_undefined__";function QCe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=XCe&&e===void 0?ZCe:e,this}var eSe=QCe,tSe=MCe,rSe=FCe,nSe=WCe,aSe=JCe,sSe=eSe;function Ou(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ou.prototype.clear=tSe;Ou.prototype.delete=rSe;Ou.prototype.get=nSe;Ou.prototype.has=aSe;Ou.prototype.set=sSe;var oSe=Ou;function iSe(){this.__data__=[],this.size=0}var lSe=iSe;function cSe(t,e){return t===e||t!==t&&e!==e}var aE=cSe,uSe=aE;function dSe(t,e){for(var r=t.length;r--;)if(uSe(t[r][0],e))return r;return-1}var sw=dSe,fSe=sw,mSe=Array.prototype,pSe=mSe.splice;function hSe(t){var e=this.__data__,r=fSe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():pSe.call(e,r,1),--this.size,!0}var gSe=hSe,ySe=sw;function bSe(t){var e=this.__data__,r=ySe(e,t);return r<0?void 0:e[r][1]}var xSe=bSe,vSe=sw;function jSe(t){return vSe(this.__data__,t)>-1}var wSe=jSe,NSe=sw;function CSe(t,e){var r=this.__data__,n=NSe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var SSe=CSe,ASe=lSe,ISe=gSe,kSe=xSe,TSe=wSe,ESe=SSe;function _u(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}_u.prototype.clear=ASe;_u.prototype.delete=ISe;_u.prototype.get=kSe;_u.prototype.has=TSe;_u.prototype.set=ESe;var ow=_u,PSe=Ol,DSe=Za,OSe=PSe(DSe,"Map"),sE=OSe,TR=oSe,_Se=ow,$Se=sE;function RSe(){this.size=0,this.__data__={hash:new TR,map:new($Se||_Se),string:new TR}}var MSe=RSe;function LSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var FSe=LSe,BSe=FSe;function qSe(t,e){var r=t.__data__;return BSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var iw=qSe,VSe=iw;function USe(t){var e=VSe(this,t).delete(t);return this.size-=e?1:0,e}var zSe=USe,WSe=iw;function HSe(t){return WSe(this,t).get(t)}var GSe=HSe,YSe=iw;function KSe(t){return YSe(this,t).has(t)}var JSe=KSe,XSe=iw;function ZSe(t,e){var r=XSe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var QSe=ZSe,eAe=MSe,tAe=zSe,rAe=GSe,nAe=JSe,aAe=QSe;function $u(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$u.prototype.clear=eAe;$u.prototype.delete=tAe;$u.prototype.get=rAe;$u.prototype.has=nAe;$u.prototype.set=aAe;var oE=$u,a7=oE,sAe="Expected a function";function iE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(sAe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(iE.Cache||a7),r}iE.Cache=a7;var s7=iE;const oAe=it(s7);var iAe=s7,lAe=500;function cAe(t){var e=iAe(t,function(n){return r.size===lAe&&r.clear(),n}),r=e.cache;return e}var uAe=cAe,dAe=uAe,fAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,mAe=/\\(\\)?/g,pAe=dAe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(fAe,function(r,n,a,s){e.push(a?s.replace(mAe,"$1"):n||r)}),e}),hAe=pAe;function gAe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var lE=gAe,ER=yp,yAe=lE,bAe=xn,xAe=Pu,PR=ER?ER.prototype:void 0,DR=PR?PR.toString:void 0;function o7(t){if(typeof t=="string")return t;if(bAe(t))return yAe(t,o7)+"";if(xAe(t))return DR?DR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var vAe=o7,jAe=vAe;function wAe(t){return t==null?"":jAe(t)}var i7=wAe,NAe=xn,CAe=rE,SAe=hAe,AAe=i7;function IAe(t,e){return NAe(t)?t:CAe(t,e)?[t]:SAe(AAe(t))}var l7=IAe,kAe=Pu;function TAe(t){if(typeof t=="string"||kAe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var lw=TAe,EAe=l7,PAe=lw;function DAe(t,e){e=EAe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[PAe(e[r++])];return r&&r==n?t:void 0}var cE=DAe,OAe=cE;function _Ae(t,e,r){var n=t==null?void 0:OAe(t,e);return n===void 0?r:n}var c7=_Ae;const va=it(c7);function $Ae(t){return t==null}var RAe=$Ae;const Ze=it(RAe);var MAe=Ws,LAe=xn,FAe=Hs,BAe="[object String]";function qAe(t){return typeof t=="string"||!LAe(t)&&FAe(t)&&MAe(t)==BAe}var VAe=qAe;const bp=it(VAe);var u7={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE=Symbol.for("react.element"),dE=Symbol.for("react.portal"),cw=Symbol.for("react.fragment"),uw=Symbol.for("react.strict_mode"),dw=Symbol.for("react.profiler"),fw=Symbol.for("react.provider"),mw=Symbol.for("react.context"),UAe=Symbol.for("react.server_context"),pw=Symbol.for("react.forward_ref"),hw=Symbol.for("react.suspense"),gw=Symbol.for("react.suspense_list"),yw=Symbol.for("react.memo"),bw=Symbol.for("react.lazy"),zAe=Symbol.for("react.offscreen"),d7;d7=Symbol.for("react.module.reference");function ra(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uE:switch(t=t.type,t){case cw:case dw:case uw:case hw:case gw:return t;default:switch(t=t&&t.$$typeof,t){case UAe:case mw:case pw:case bw:case yw:case fw:return t;default:return e}}case dE:return e}}}gt.ContextConsumer=mw;gt.ContextProvider=fw;gt.Element=uE;gt.ForwardRef=pw;gt.Fragment=cw;gt.Lazy=bw;gt.Memo=yw;gt.Portal=dE;gt.Profiler=dw;gt.StrictMode=uw;gt.Suspense=hw;gt.SuspenseList=gw;gt.isAsyncMode=function(){return!1};gt.isConcurrentMode=function(){return!1};gt.isContextConsumer=function(t){return ra(t)===mw};gt.isContextProvider=function(t){return ra(t)===fw};gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uE};gt.isForwardRef=function(t){return ra(t)===pw};gt.isFragment=function(t){return ra(t)===cw};gt.isLazy=function(t){return ra(t)===bw};gt.isMemo=function(t){return ra(t)===yw};gt.isPortal=function(t){return ra(t)===dE};gt.isProfiler=function(t){return ra(t)===dw};gt.isStrictMode=function(t){return ra(t)===uw};gt.isSuspense=function(t){return ra(t)===hw};gt.isSuspenseList=function(t){return ra(t)===gw};gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cw||t===dw||t===uw||t===hw||t===gw||t===zAe||typeof t=="object"&&t!==null&&(t.$$typeof===bw||t.$$typeof===yw||t.$$typeof===fw||t.$$typeof===mw||t.$$typeof===pw||t.$$typeof===d7||t.getModuleId!==void 0)};gt.typeOf=ra;u7.exports=gt;var WAe=u7.exports,HAe=Ws,GAe=Hs,YAe="[object Number]";function KAe(t){return typeof t=="number"||GAe(t)&&HAe(t)==YAe}var f7=KAe;const JAe=it(f7);var XAe=f7;function ZAe(t){return XAe(t)&&t!=+t}var QAe=ZAe;const xp=it(QAe);var Kn=function(e){return e===0?0:e>0?1:-1},Ri=function(e){return bp(e)&&e.indexOf("%")===e.length-1},je=function(e){return JAe(e)&&!xp(e)},pr=function(e){return je(e)||bp(e)},eIe=0,xw=function(e){var r=++eIe;return"".concat(e||"").concat(r)},sn=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!bp(e))return n;var s;if(Ri(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return xp(s)&&(s=n),a&&s>r&&(s=r),s},Yl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},tIe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},OR=function(e,r){return je(e)&&je(r)?function(n){return e+n*(r-e)}:function(){return r}};function yI(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):va(n,e))===r})}function bI(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function xI(t){"@babel/helpers - typeof";return xI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xI(t)}var rIe=["viewBox","children"],nIe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_R=["points","pathLength"],G1={svg:rIe,polygon:_R,polyline:_R},fE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],i0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!Du(n))return null;var a={};return Object.keys(n).forEach(function(s){fE.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},aIe=function(e,r,n){return function(a){return e(r,n,a),null}},vw=function(e,r,n){if(!Du(e)||xI(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];fE.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=aIe(i,r,n))}),a},sIe=["children"],oIe=["children"];function $R(t,e){if(t==null)return{};var r=iIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var RR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Cs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},MR=null,Y1=null,mE=function t(e){if(e===MR&&Array.isArray(Y1))return Y1;var r=[];return w.Children.forEach(e,function(n){Ze(n)||(WAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Y1=r,MR=e,r};function Ha(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Cs(a)}):n=[Cs(e)],mE(t).forEach(function(a){var s=va(a,"type.displayName")||va(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function zn(t,e){var r=Ha(t,e);return r&&r[0]}var LR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!je(n)||n<=0||!je(a)||a<=0)},lIe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cIe=function(e){return e&&e.type&&bp(e.type)&&lIe.indexOf(e.type)>=0},uIe=function(e,r,n,a){var s,i=(s=G1==null?void 0:G1[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ye(e)&&(a&&i.includes(r)||nIe.includes(r))||n&&fE.includes(r)},Ge=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),!Du(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;uIe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},vI=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return FR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!FR(s,i))return!1}return!0},FR=function(e,r){if(Ze(e)&&Ze(r))return!0;if(!Ze(e)&&!Ze(r)){var n=e.props||{},a=n.children,s=$R(n,sIe),i=r.props||{},l=i.children,c=$R(i,oIe);return a&&l?bI(s,c)&&vI(a,l):!a&&!l?bI(s,c):!1}return!1},BR=function(e,r){var n=[],a={};return mE(e).forEach(function(s,i){if(cIe(s))n.push(s);else if(s){var l=Cs(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},dIe=function(e){var r=e&&e.type;return r&&RR[r]?RR[r]:null},fIe=function(e,r){return mE(r).indexOf(e)},mIe=["children","width","height","viewBox","className","style","title","desc"];function jI(){return jI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jI.apply(this,arguments)}function pIe(t,e){if(t==null)return{};var r=hIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wI(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=pIe(t,mIe),d=a||{width:r,height:n,x:0,y:0},f=Re("recharts-surface",s);return H.createElement("svg",jI({},Ge(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),H.createElement("title",null,l),H.createElement("desc",null,c),e)}var gIe=["children","className"];function NI(){return NI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NI.apply(this,arguments)}function yIe(t,e){if(t==null)return{};var r=bIe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Yt=H.forwardRef(function(t,e){var r=t.children,n=t.className,a=yIe(t,gIe),s=Re("recharts-layer",n);return H.createElement("g",NI({className:s},Ge(a,!0),{ref:e}),r)}),Ss=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function xIe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var vIe=xIe,jIe=vIe;function wIe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:jIe(t,e,r)}var NIe=wIe,CIe="\\ud800-\\udfff",SIe="\\u0300-\\u036f",AIe="\\ufe20-\\ufe2f",IIe="\\u20d0-\\u20ff",kIe=SIe+AIe+IIe,TIe="\\ufe0e\\ufe0f",EIe="\\u200d",PIe=RegExp("["+EIe+CIe+kIe+TIe+"]");function DIe(t){return PIe.test(t)}var m7=DIe;function OIe(t){return t.split("")}var _Ie=OIe,p7="\\ud800-\\udfff",$Ie="\\u0300-\\u036f",RIe="\\ufe20-\\ufe2f",MIe="\\u20d0-\\u20ff",LIe=$Ie+RIe+MIe,FIe="\\ufe0e\\ufe0f",BIe="["+p7+"]",CI="["+LIe+"]",SI="\\ud83c[\\udffb-\\udfff]",qIe="(?:"+CI+"|"+SI+")",h7="[^"+p7+"]",g7="(?:\\ud83c[\\udde6-\\uddff]){2}",y7="[\\ud800-\\udbff][\\udc00-\\udfff]",VIe="\\u200d",b7=qIe+"?",x7="["+FIe+"]?",UIe="(?:"+VIe+"(?:"+[h7,g7,y7].join("|")+")"+x7+b7+")*",zIe=x7+b7+UIe,WIe="(?:"+[h7+CI+"?",CI,g7,y7,BIe].join("|")+")",HIe=RegExp(SI+"(?="+SI+")|"+WIe+zIe,"g");function GIe(t){return t.match(HIe)||[]}var YIe=GIe,KIe=_Ie,JIe=m7,XIe=YIe;function ZIe(t){return JIe(t)?XIe(t):KIe(t)}var QIe=ZIe,e2e=NIe,t2e=m7,r2e=QIe,n2e=i7;function a2e(t){return function(e){e=n2e(e);var r=t2e(e)?r2e(e):void 0,n=r?r[0]:e.charAt(0),a=r?e2e(r,1).join(""):e.slice(1);return n[t]()+a}}var s2e=a2e,o2e=s2e,i2e=o2e("toUpperCase"),l2e=i2e;const jw=it(l2e);function Ct(t){return function(){return t}}const v7=Math.cos,l0=Math.sin,Aa=Math.sqrt,c0=Math.PI,ww=2*c0,AI=Math.PI,II=2*AI,Ci=1e-6,c2e=II-Ci;function j7(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function u2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return j7;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class d2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?j7:u2e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>Ci)if(!(Math.abs(f*c-u*d)>Ci)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-i,g=a-l,y=c*c+u*u,b=p*p+g*g,h=Math.sqrt(y),x=Math.sqrt(m),v=s*Math.tan((AI-Math.acos((y+m-b)/(2*h*x)))/2),C=v/x,j=v/h;Math.abs(C-1)>Ci&&this._append`L${e+C*d},${r+C*f}`,this._append`A${s},${s},0,0,${+(f*p>d*g)},${this._x1=e+j*c},${this._y1=r+j*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ci||Math.abs(this._y1-d)>Ci)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%II+II),m>c2e?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Ci&&this._append`A${n},${n},0,${+(m>=AI)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function pE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new d2e(e)}function hE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function w7(t){this._context=t}w7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nw(t){return new w7(t)}function N7(t){return t[0]}function C7(t){return t[1]}function S7(t,e){var r=Ct(!0),n=null,a=Nw,s=null,i=pE(l);t=typeof t=="function"?t:t===void 0?N7:Ct(t),e=typeof e=="function"?e:e===void 0?C7:Ct(e);function l(c){var u,d=(c=hE(c)).length,f,m=!1,p;for(n==null&&(s=a(p=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function yh(t,e,r){var n=null,a=Ct(!0),s=null,i=Nw,l=null,c=pE(u);t=typeof t=="function"?t:t===void 0?N7:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?C7:Ct(+r);function u(f){var m,p,g,y=(f=hE(f)).length,b,h=!1,x,v=new Array(y),C=new Array(y);for(s==null&&(l=i(x=c())),m=0;m<=y;++m){if(!(m<y&&a(b=f[m],m,f))===h)if(h=!h)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=p;--g)l.point(v[g],C[g]);l.lineEnd(),l.areaEnd()}h&&(v[m]=+t(b,m,f),C[m]=+e(b,m,f),l.point(n?+n(b,m,f):v[m],r?+r(b,m,f):C[m]))}if(x)return l=null,x+""||null}function d(){return S7().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ct(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ct(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ct(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class A7{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function f2e(t){return new A7(t,!0)}function m2e(t){return new A7(t,!1)}const gE={draw(t,e){const r=Aa(e/c0);t.moveTo(r,0),t.arc(0,0,r,0,ww)}},p2e={draw(t,e){const r=Aa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},I7=Aa(1/3),h2e=I7*2,g2e={draw(t,e){const r=Aa(e/h2e),n=r*I7;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},y2e={draw(t,e){const r=Aa(e),n=-r/2;t.rect(n,n,r,r)}},b2e=.8908130915292852,k7=l0(c0/10)/l0(7*c0/10),x2e=l0(ww/10)*k7,v2e=-v7(ww/10)*k7,j2e={draw(t,e){const r=Aa(e*b2e),n=x2e*r,a=v2e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=ww*s/5,l=v7(i),c=l0(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},K1=Aa(3),w2e={draw(t,e){const r=-Aa(e/(K1*3));t.moveTo(0,r*2),t.lineTo(-K1*r,-r),t.lineTo(K1*r,-r),t.closePath()}},qn=-.5,Vn=Aa(3)/2,kI=1/Aa(12),N2e=(kI/2+1)*3,C2e={draw(t,e){const r=Aa(e/N2e),n=r/2,a=r*kI,s=n,i=r*kI+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(qn*n-Vn*a,Vn*n+qn*a),t.lineTo(qn*s-Vn*i,Vn*s+qn*i),t.lineTo(qn*l-Vn*c,Vn*l+qn*c),t.lineTo(qn*n+Vn*a,qn*a-Vn*n),t.lineTo(qn*s+Vn*i,qn*i-Vn*s),t.lineTo(qn*l+Vn*c,qn*c-Vn*l),t.closePath()}};function S2e(t,e){let r=null,n=pE(a);t=typeof t=="function"?t:Ct(t||gE),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function u0(){}function d0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function T7(t){this._context=t}T7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:d0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:d0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function A2e(t){return new T7(t)}function E7(t){this._context=t}E7.prototype={areaStart:u0,areaEnd:u0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:d0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function I2e(t){return new E7(t)}function P7(t){this._context=t}P7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:d0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function k2e(t){return new P7(t)}function D7(t){this._context=t}D7.prototype={areaStart:u0,areaEnd:u0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function T2e(t){return new D7(t)}function qR(t){return t<0?-1:1}function VR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(qR(s)+qR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function UR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function J1(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function f0(t){this._context=t}f0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:J1(this,this._t0,UR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,J1(this,UR(this,r=VR(this,t,e)),r);break;default:J1(this,this._t0,r=VR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function O7(t){this._context=new _7(t)}(O7.prototype=Object.create(f0.prototype)).point=function(t,e){f0.prototype.point.call(this,e,t)};function _7(t){this._context=t}_7.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function E2e(t){return new f0(t)}function P2e(t){return new O7(t)}function $7(t){this._context=t}$7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=zR(t),a=zR(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zR(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function D2e(t){return new $7(t)}function Cw(t,e){this._context=t,this._t=e}Cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function O2e(t){return new Cw(t,.5)}function _2e(t){return new Cw(t,0)}function $2e(t){return new Cw(t,1)}function Xc(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function TI(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function R2e(t,e){return t[e]}function M2e(t){const e=[];return e.key=t,e}function L2e(){var t=Ct([]),e=TI,r=Xc,n=R2e;function a(s){var i=Array.from(t.apply(this,arguments),M2e),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=hE(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ct(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?TI:typeof s=="function"?s:Ct(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Xc,a):r},a}function F2e(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}Xc(t,e)}}function B2e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Xc(t,e)}}function q2e(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,g=0;g<l;++g){var y=t[e[g]],b=y[n][1]||0,h=y[n-1][1]||0;p+=b-h}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Xc(t,e)}}function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}var V2e=["type","size","sizeType"];function EI(){return EI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EI.apply(this,arguments)}function WR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(r),!0).forEach(function(n){U2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U2e(t,e,r){return e=z2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z2e(t){var e=W2e(t,"string");return um(e)=="symbol"?e:e+""}function W2e(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H2e(t,e){if(t==null)return{};var r=G2e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var R7={symbolCircle:gE,symbolCross:p2e,symbolDiamond:g2e,symbolSquare:y2e,symbolStar:j2e,symbolTriangle:w2e,symbolWye:C2e},Y2e=Math.PI/180,K2e=function(e){var r="symbol".concat(jw(e));return R7[r]||gE},J2e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Y2e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},X2e=function(e,r){R7["symbol".concat(jw(e))]=r},yE=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=H2e(e,V2e),u=HR(HR({},c),{},{type:n,size:s,sizeType:l}),d=function(){var b=K2e(n),h=S2e().type(b).size(J2e(s,l,n));return h()},f=u.className,m=u.cx,p=u.cy,g=Ge(u,!0);return m===+m&&p===+p&&s===+s?H.createElement("path",EI({},g,{className:Re("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};yE.registerSymbol=X2e;function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function PI(){return PI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PI.apply(this,arguments)}function GR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Z2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(r),!0).forEach(function(n){dm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L7(n.key),n)}}function tke(t,e,r){return e&&eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rke(t,e,r){return e=m0(e),nke(t,M7()?Reflect.construct(e,r||[],m0(t).constructor):e.apply(t,r))}function nke(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ake(t)}function ake(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M7=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m0(t)}function ske(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DI(t,e)}function DI(t,e){return DI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DI(t,e)}function dm(t,e,r){return e=L7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L7(t){var e=oke(t,"string");return Zc(e)=="symbol"?e:e+""}function oke(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Un=32,bE=function(t){function e(){return Q2e(this,e),rke(this,e,arguments)}return ske(e,t),tke(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Un/2,i=Un/6,l=Un/3,c=n.inactive?a:n.color;if(n.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Un,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Un,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return H.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Un/8,"h").concat(Un,"v").concat(Un*3/4,"h").concat(-Un,"z"),className:"recharts-legend-icon"});if(H.isValidElement(n.legendIcon)){var u=Z2e({},n);return delete u.legendIcon,H.cloneElement(n.legendIcon,u)}return H.createElement(yE,{fill:c,cx:s,cy:s,size:Un,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Un,height:Un},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var y=p.formatter||c,b=Re(dm(dm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var h=Ye(p.value)?null:p.value;Ss(!Ye(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return H.createElement("li",PI({className:b,style:f,key:"legend-item-".concat(g)},vw(n.props,p,g)),H.createElement(wI,{width:i,height:i,viewBox:d,style:m},n.renderIcon(p)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(h,p,g):h))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);dm(bE,"displayName","Legend");dm(bE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ike=ow;function lke(){this.__data__=new ike,this.size=0}var cke=lke;function uke(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var dke=uke;function fke(t){return this.__data__.get(t)}var mke=fke;function pke(t){return this.__data__.has(t)}var hke=pke,gke=ow,yke=sE,bke=oE,xke=200;function vke(t,e){var r=this.__data__;if(r instanceof gke){var n=r.__data__;if(!yke||n.length<xke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new bke(n)}return r.set(t,e),this.size=r.size,this}var jke=vke,wke=ow,Nke=cke,Cke=dke,Ske=mke,Ake=hke,Ike=jke;function Ru(t){var e=this.__data__=new wke(t);this.size=e.size}Ru.prototype.clear=Nke;Ru.prototype.delete=Cke;Ru.prototype.get=Ske;Ru.prototype.has=Ake;Ru.prototype.set=Ike;var F7=Ru,kke="__lodash_hash_undefined__";function Tke(t){return this.__data__.set(t,kke),this}var Eke=Tke;function Pke(t){return this.__data__.has(t)}var Dke=Pke,Oke=oE,_ke=Eke,$ke=Dke;function p0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Oke;++e<r;)this.add(t[e])}p0.prototype.add=p0.prototype.push=_ke;p0.prototype.has=$ke;var B7=p0;function Rke(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var q7=Rke;function Mke(t,e){return t.has(e)}var V7=Mke,Lke=B7,Fke=q7,Bke=V7,qke=1,Vke=2;function Uke(t,e,r,n,a,s){var i=r&qke,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,p=r&Vke?new Lke:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var g=t[f],y=e[f];if(n)var b=i?n(y,g,f,e,t,s):n(g,y,f,t,e,s);if(b!==void 0){if(b)continue;m=!1;break}if(p){if(!Fke(e,function(h,x){if(!Bke(p,x)&&(g===h||a(g,h,r,n,s)))return p.push(x)})){m=!1;break}}else if(!(g===y||a(g,y,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var U7=Uke,zke=Za,Wke=zke.Uint8Array,Hke=Wke;function Gke(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var Yke=Gke;function Kke(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var xE=Kke,YR=yp,KR=Hke,Jke=aE,Xke=U7,Zke=Yke,Qke=xE,eTe=1,tTe=2,rTe="[object Boolean]",nTe="[object Date]",aTe="[object Error]",sTe="[object Map]",oTe="[object Number]",iTe="[object RegExp]",lTe="[object Set]",cTe="[object String]",uTe="[object Symbol]",dTe="[object ArrayBuffer]",fTe="[object DataView]",JR=YR?YR.prototype:void 0,X1=JR?JR.valueOf:void 0;function mTe(t,e,r,n,a,s,i){switch(r){case fTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case dTe:return!(t.byteLength!=e.byteLength||!s(new KR(t),new KR(e)));case rTe:case nTe:case oTe:return Jke(+t,+e);case aTe:return t.name==e.name&&t.message==e.message;case iTe:case cTe:return t==e+"";case sTe:var l=Zke;case lTe:var c=n&eTe;if(l||(l=Qke),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=tTe,i.set(t,e);var d=Xke(l(t),l(e),n,a,s,i);return i.delete(t),d;case uTe:if(X1)return X1.call(t)==X1.call(e)}return!1}var pTe=mTe;function hTe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var z7=hTe,gTe=z7,yTe=xn;function bTe(t,e,r){var n=e(t);return yTe(t)?n:gTe(n,r(t))}var xTe=bTe;function vTe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var jTe=vTe;function wTe(){return[]}var NTe=wTe,CTe=jTe,STe=NTe,ATe=Object.prototype,ITe=ATe.propertyIsEnumerable,XR=Object.getOwnPropertySymbols,kTe=XR?function(t){return t==null?[]:(t=Object(t),CTe(XR(t),function(e){return ITe.call(t,e)}))}:STe,TTe=kTe;function ETe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var PTe=ETe,DTe=Ws,OTe=Hs,_Te="[object Arguments]";function $Te(t){return OTe(t)&&DTe(t)==_Te}var RTe=$Te,ZR=RTe,MTe=Hs,W7=Object.prototype,LTe=W7.hasOwnProperty,FTe=W7.propertyIsEnumerable,BTe=ZR(function(){return arguments}())?ZR:function(t){return MTe(t)&&LTe.call(t,"callee")&&!FTe.call(t,"callee")},vE=BTe,h0={exports:{}};function qTe(){return!1}var VTe=qTe;h0.exports;(function(t,e){var r=Za,n=VTe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(h0,h0.exports);var H7=h0.exports,UTe=9007199254740991,zTe=/^(?:0|[1-9]\d*)$/;function WTe(t,e){var r=typeof t;return e=e??UTe,!!e&&(r=="number"||r!="symbol"&&zTe.test(t))&&t>-1&&t%1==0&&t<e}var jE=WTe,HTe=9007199254740991;function GTe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=HTe}var wE=GTe,YTe=Ws,KTe=wE,JTe=Hs,XTe="[object Arguments]",ZTe="[object Array]",QTe="[object Boolean]",eEe="[object Date]",tEe="[object Error]",rEe="[object Function]",nEe="[object Map]",aEe="[object Number]",sEe="[object Object]",oEe="[object RegExp]",iEe="[object Set]",lEe="[object String]",cEe="[object WeakMap]",uEe="[object ArrayBuffer]",dEe="[object DataView]",fEe="[object Float32Array]",mEe="[object Float64Array]",pEe="[object Int8Array]",hEe="[object Int16Array]",gEe="[object Int32Array]",yEe="[object Uint8Array]",bEe="[object Uint8ClampedArray]",xEe="[object Uint16Array]",vEe="[object Uint32Array]",Et={};Et[fEe]=Et[mEe]=Et[pEe]=Et[hEe]=Et[gEe]=Et[yEe]=Et[bEe]=Et[xEe]=Et[vEe]=!0;Et[XTe]=Et[ZTe]=Et[uEe]=Et[QTe]=Et[dEe]=Et[eEe]=Et[tEe]=Et[rEe]=Et[nEe]=Et[aEe]=Et[sEe]=Et[oEe]=Et[iEe]=Et[lEe]=Et[cEe]=!1;function jEe(t){return JTe(t)&&KTe(t.length)&&!!Et[YTe(t)]}var wEe=jEe;function NEe(t){return function(e){return t(e)}}var G7=NEe,g0={exports:{}};g0.exports;(function(t,e){var r=t7,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(g0,g0.exports);var CEe=g0.exports,SEe=wEe,AEe=G7,QR=CEe,eM=QR&&QR.isTypedArray,IEe=eM?AEe(eM):SEe,Y7=IEe,kEe=PTe,TEe=vE,EEe=xn,PEe=H7,DEe=jE,OEe=Y7,_Ee=Object.prototype,$Ee=_Ee.hasOwnProperty;function REe(t,e){var r=EEe(t),n=!r&&TEe(t),a=!r&&!n&&PEe(t),s=!r&&!n&&!a&&OEe(t),i=r||n||a||s,l=i?kEe(t.length,String):[],c=l.length;for(var u in t)(e||$Ee.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||DEe(u,c)))&&l.push(u);return l}var MEe=REe,LEe=Object.prototype;function FEe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||LEe;return t===r}var BEe=FEe;function qEe(t,e){return function(r){return t(e(r))}}var K7=qEe,VEe=K7,UEe=VEe(Object.keys,Object),zEe=UEe,WEe=BEe,HEe=zEe,GEe=Object.prototype,YEe=GEe.hasOwnProperty;function KEe(t){if(!WEe(t))return HEe(t);var e=[];for(var r in Object(t))YEe.call(t,r)&&r!="constructor"&&e.push(r);return e}var JEe=KEe,XEe=nE,ZEe=wE;function QEe(t){return t!=null&&ZEe(t.length)&&!XEe(t)}var Sw=QEe,ePe=MEe,tPe=JEe,rPe=Sw;function nPe(t){return rPe(t)?ePe(t):tPe(t)}var NE=nPe,aPe=xTe,sPe=TTe,oPe=NE;function iPe(t){return aPe(t,oPe,sPe)}var lPe=iPe,tM=lPe,cPe=1,uPe=Object.prototype,dPe=uPe.hasOwnProperty;function fPe(t,e,r,n,a,s){var i=r&cPe,l=tM(t),c=l.length,u=tM(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:dPe.call(e,m)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var y=!0;s.set(t,e),s.set(e,t);for(var b=i;++f<c;){m=l[f];var h=t[m],x=e[m];if(n)var v=i?n(x,h,m,e,t,s):n(h,x,m,t,e,s);if(!(v===void 0?h===x||a(h,x,r,n,s):v)){y=!1;break}b||(b=m=="constructor")}if(y&&!b){var C=t.constructor,j=e.constructor;C!=j&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof j=="function"&&j instanceof j)&&(y=!1)}return s.delete(t),s.delete(e),y}var mPe=fPe,pPe=Ol,hPe=Za,gPe=pPe(hPe,"DataView"),yPe=gPe,bPe=Ol,xPe=Za,vPe=bPe(xPe,"Promise"),jPe=vPe,wPe=Ol,NPe=Za,CPe=wPe(NPe,"Set"),J7=CPe,SPe=Ol,APe=Za,IPe=SPe(APe,"WeakMap"),kPe=IPe,OI=yPe,_I=sE,$I=jPe,RI=J7,MI=kPe,X7=Ws,Mu=n7,rM="[object Map]",TPe="[object Object]",nM="[object Promise]",aM="[object Set]",sM="[object WeakMap]",oM="[object DataView]",EPe=Mu(OI),PPe=Mu(_I),DPe=Mu($I),OPe=Mu(RI),_Pe=Mu(MI),Si=X7;(OI&&Si(new OI(new ArrayBuffer(1)))!=oM||_I&&Si(new _I)!=rM||$I&&Si($I.resolve())!=nM||RI&&Si(new RI)!=aM||MI&&Si(new MI)!=sM)&&(Si=function(t){var e=X7(t),r=e==TPe?t.constructor:void 0,n=r?Mu(r):"";if(n)switch(n){case EPe:return oM;case PPe:return rM;case DPe:return nM;case OPe:return aM;case _Pe:return sM}return e});var $Pe=Si,Z1=F7,RPe=U7,MPe=pTe,LPe=mPe,iM=$Pe,lM=xn,cM=H7,FPe=Y7,BPe=1,uM="[object Arguments]",dM="[object Array]",bh="[object Object]",qPe=Object.prototype,fM=qPe.hasOwnProperty;function VPe(t,e,r,n,a,s){var i=lM(t),l=lM(e),c=i?dM:iM(t),u=l?dM:iM(e);c=c==uM?bh:c,u=u==uM?bh:u;var d=c==bh,f=u==bh,m=c==u;if(m&&cM(t)){if(!cM(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new Z1),i||FPe(t)?RPe(t,e,r,n,a,s):MPe(t,e,c,r,n,a,s);if(!(r&BPe)){var p=d&&fM.call(t,"__wrapped__"),g=f&&fM.call(e,"__wrapped__");if(p||g){var y=p?t.value():t,b=g?e.value():e;return s||(s=new Z1),a(y,b,r,n,s)}}return m?(s||(s=new Z1),LPe(t,e,r,n,a,s)):!1}var UPe=VPe,zPe=UPe,mM=Hs;function Z7(t,e,r,n,a){return t===e?!0:t==null||e==null||!mM(t)&&!mM(e)?t!==t&&e!==e:zPe(t,e,r,n,Z7,a)}var CE=Z7,WPe=F7,HPe=CE,GPe=1,YPe=2;function KPe(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new WPe;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?HPe(d,u,GPe|YPe,n,f):m))return!1}}return!0}var JPe=KPe,XPe=ni;function ZPe(t){return t===t&&!XPe(t)}var Q7=ZPe,QPe=Q7,eDe=NE;function tDe(t){for(var e=eDe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,QPe(a)]}return e}var rDe=tDe;function nDe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var ez=nDe,aDe=JPe,sDe=rDe,oDe=ez;function iDe(t){var e=sDe(t);return e.length==1&&e[0][2]?oDe(e[0][0],e[0][1]):function(r){return r===t||aDe(r,t,e)}}var lDe=iDe;function cDe(t,e){return t!=null&&e in Object(t)}var uDe=cDe,dDe=l7,fDe=vE,mDe=xn,pDe=jE,hDe=wE,gDe=lw;function yDe(t,e,r){e=dDe(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=gDe(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&hDe(a)&&pDe(i,a)&&(mDe(t)||fDe(t)))}var bDe=yDe,xDe=uDe,vDe=bDe;function jDe(t,e){return t!=null&&vDe(t,e,xDe)}var wDe=jDe,NDe=CE,CDe=c7,SDe=wDe,ADe=rE,IDe=Q7,kDe=ez,TDe=lw,EDe=1,PDe=2;function DDe(t,e){return ADe(t)&&IDe(e)?kDe(TDe(t),e):function(r){var n=CDe(r,t);return n===void 0&&n===e?SDe(r,t):NDe(e,n,EDe|PDe)}}var ODe=DDe;function _De(t){return t}var Lu=_De;function $De(t){return function(e){return e==null?void 0:e[t]}}var RDe=$De,MDe=cE;function LDe(t){return function(e){return MDe(e,t)}}var FDe=LDe,BDe=RDe,qDe=FDe,VDe=rE,UDe=lw;function zDe(t){return VDe(t)?BDe(UDe(t)):qDe(t)}var WDe=zDe,HDe=lDe,GDe=ODe,YDe=Lu,KDe=xn,JDe=WDe;function XDe(t){return typeof t=="function"?t:t==null?YDe:typeof t=="object"?KDe(t)?GDe(t[0],t[1]):HDe(t):JDe(t)}var ai=XDe;function ZDe(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var QDe=ZDe;function eOe(t){return t!==t}var tOe=eOe;function rOe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var nOe=rOe,aOe=QDe,sOe=tOe,oOe=nOe;function iOe(t,e,r){return e===e?oOe(t,e,r):aOe(t,sOe,r)}var lOe=iOe,cOe=lOe;function uOe(t,e){var r=t==null?0:t.length;return!!r&&cOe(t,e,0)>-1}var dOe=uOe;function fOe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var mOe=fOe;function pOe(){}var hOe=pOe,Q1=J7,gOe=hOe,yOe=xE,bOe=1/0,xOe=Q1&&1/yOe(new Q1([,-0]))[1]==bOe?function(t){return new Q1(t)}:gOe,vOe=xOe,jOe=B7,wOe=dOe,NOe=mOe,COe=V7,SOe=vOe,AOe=xE,IOe=200;function kOe(t,e,r){var n=-1,a=wOe,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=NOe;else if(s>=IOe){var u=e?null:SOe(t);if(u)return AOe(u);i=!1,a=COe,c=new jOe}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var TOe=kOe,EOe=ai,POe=TOe;function DOe(t,e){return t&&t.length?POe(t,EOe(e)):[]}var OOe=DOe;const pM=it(OOe);function tz(t,e,r){return e===!0?pM(t,r):Ye(e)?pM(t,e):t}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var _Oe=["ref"];function hM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(r),!0).forEach(function(n){Aw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nz(n.key),n)}}function ROe(t,e,r){return e&&gM(t.prototype,e),r&&gM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MOe(t,e,r){return e=y0(e),LOe(t,rz()?Reflect.construct(e,r||[],y0(t).constructor):e.apply(t,r))}function LOe(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FOe(t)}function FOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!t})()}function y0(t){return y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y0(t)}function BOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LI(t,e)}function LI(t,e){return LI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LI(t,e)}function Aw(t,e,r){return e=nz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nz(t){var e=qOe(t,"string");return Qc(e)=="symbol"?e:e+""}function qOe(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VOe(t,e){if(t==null)return{};var r=UOe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zOe(t){return t.value}function WOe(t,e){if(H.isValidElement(t))return H.cloneElement(t,e);if(typeof t=="function")return H.createElement(t,e);e.ref;var r=VOe(e,_Oe);return H.createElement(bE,r)}var yM=1,Ga=function(t){function e(){var r;$Oe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=MOe(this,e,[].concat(a)),Aw(r,"lastBoundingBox",{width:-1,height:-1}),r}return BOe(e,t),ROe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>yM||Math.abs(a.height-this.lastBoundingBox.height)>yM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();m={top:((d||0)-g.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return rs(rs({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=rs(rs({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return H.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},WOe(s,rs(rs({},this.props),{},{payload:tz(d,u,zOe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=rs(rs({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&je(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(w.PureComponent);Aw(Ga,"displayName","Legend");Aw(Ga,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var bM=yp,HOe=vE,GOe=xn,xM=bM?bM.isConcatSpreadable:void 0;function YOe(t){return GOe(t)||HOe(t)||!!(xM&&t&&t[xM])}var KOe=YOe,JOe=z7,XOe=KOe;function az(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=XOe),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?az(l,e-1,r,n,a):JOe(a,l):n||(a[a.length]=l)}return a}var sz=az;function ZOe(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var QOe=ZOe,e_e=QOe,t_e=e_e(),r_e=t_e,n_e=r_e,a_e=NE;function s_e(t,e){return t&&n_e(t,e,a_e)}var oz=s_e,o_e=Sw;function i_e(t,e){return function(r,n){if(r==null)return r;if(!o_e(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var l_e=i_e,c_e=oz,u_e=l_e,d_e=u_e(c_e),SE=d_e,f_e=SE,m_e=Sw;function p_e(t,e){var r=-1,n=m_e(t)?Array(t.length):[];return f_e(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var iz=p_e;function h_e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var g_e=h_e,vM=Pu;function y_e(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=vM(t),i=e!==void 0,l=e===null,c=e===e,u=vM(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var b_e=y_e,x_e=b_e;function v_e(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=x_e(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var j_e=v_e,eC=lE,w_e=cE,N_e=ai,C_e=iz,S_e=g_e,A_e=G7,I_e=j_e,k_e=Lu,T_e=xn;function E_e(t,e,r){e.length?e=eC(e,function(s){return T_e(s)?function(i){return w_e(i,s.length===1?s[0]:s)}:s}):e=[k_e];var n=-1;e=eC(e,A_e(N_e));var a=C_e(t,function(s,i,l){var c=eC(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return S_e(a,function(s,i){return I_e(s,i,r)})}var P_e=E_e;function D_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var O_e=D_e,__e=O_e,jM=Math.max;function $_e(t,e,r){return e=jM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=jM(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),__e(t,this,l)}}var R_e=$_e;function M_e(t){return function(){return t}}var L_e=M_e,F_e=Ol,B_e=function(){try{var t=F_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),lz=B_e,q_e=L_e,wM=lz,V_e=Lu,U_e=wM?function(t,e){return wM(t,"toString",{configurable:!0,enumerable:!1,value:q_e(e),writable:!0})}:V_e,z_e=U_e,W_e=800,H_e=16,G_e=Date.now;function Y_e(t){var e=0,r=0;return function(){var n=G_e(),a=H_e-(n-r);if(r=n,a>0){if(++e>=W_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var K_e=Y_e,J_e=z_e,X_e=K_e,Z_e=X_e(J_e),Q_e=Z_e,e$e=Lu,t$e=R_e,r$e=Q_e;function n$e(t,e){return r$e(t$e(t,e,e$e),t+"")}var a$e=n$e,s$e=aE,o$e=Sw,i$e=jE,l$e=ni;function c$e(t,e,r){if(!l$e(r))return!1;var n=typeof e;return(n=="number"?o$e(r)&&i$e(e,r.length):n=="string"&&e in r)?s$e(r[e],t):!1}var Iw=c$e,u$e=sz,d$e=P_e,f$e=a$e,NM=Iw,m$e=f$e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&NM(t,e[0],e[1])?e=[]:r>2&&NM(e[0],e[1],e[2])&&(e=[e[0]]),d$e(t,u$e(e,1),[])}),p$e=m$e;const AE=it(p$e);function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function FI(){return FI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FI.apply(this,arguments)}function h$e(t,e){return x$e(t)||b$e(t,e)||y$e(t,e)||g$e()}function g$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$e(t,e){if(t){if(typeof t=="string")return CM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CM(t,e)}}function CM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function x$e(t){if(Array.isArray(t))return t}function SM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(r),!0).forEach(function(n){v$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v$e(t,e,r){return e=j$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j$e(t){var e=w$e(t,"string");return fm(e)=="symbol"?e:e+""}function w$e(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N$e(t){return Array.isArray(t)&&pr(t[0])&&pr(t[1])?t.join(" ~ "):t}var C$e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,y=e.label,b=e.labelFormatter,h=e.accessibilityLayer,x=h===void 0?!1:h,v=function(){if(d&&d.length){var $={padding:0,margin:0},L=(m?AE(d,m):d).map(function(M,D){if(M.type==="none")return null;var P=tC({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),F=M.formatter||f||N$e,O=M.value,R=M.name,B=O,U=R;if(F&&B!=null&&U!=null){var G=F(O,R,M,D,d);if(Array.isArray(G)){var W=h$e(G,2);B=W[0],U=W[1]}else B=G}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:P},pr(U)?H.createElement("span",{className:"recharts-tooltip-item-name"},U):null,pr(U)?H.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,H.createElement("span",{className:"recharts-tooltip-item-value"},B),H.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},C=tC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=tC({margin:0},u),N=!Ze(y),S=N?y:"",A=Re("recharts-default-tooltip",p),k=Re("recharts-tooltip-label",g);N&&b&&d!==void 0&&d!==null&&(S=b(y,d));var T=x?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",FI({className:A,style:C},T),H.createElement("p",{className:k,style:j},H.isValidElement(S)?S:"".concat(S)),v())};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function xh(t,e,r){return e=S$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S$e(t){var e=A$e(t,"string");return mm(e)=="symbol"?e:e+""}function A$e(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hd="recharts-tooltip-wrapper",I$e={visibility:"hidden"};function k$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Re(hd,xh(xh(xh(xh({},"".concat(hd,"-right"),je(r)&&e&&je(e.x)&&r>=e.x),"".concat(hd,"-left"),je(r)&&e&&je(e.x)&&r<e.x),"".concat(hd,"-bottom"),je(n)&&e&&je(e.y)&&n>=e.y),"".concat(hd,"-top"),je(n)&&e&&je(e.y)&&n<e.y))}function AM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&je(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,p=c[n];return m<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,y=c[n]+u;return g>y?Math.max(d,c[n]):Math.max(f,c[n])}function T$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function E$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=AM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=AM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=T$e({translateX:d,translateY:f,useTranslate3d:l})):u=I$e,{cssProperties:u,cssClasses:k$e({translateX:d,translateY:f,coordinate:r})}}function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function IM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(r),!0).forEach(function(n){qI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uz(n.key),n)}}function O$e(t,e,r){return e&&D$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _$e(t,e,r){return e=b0(e),$$e(t,cz()?Reflect.construct(e,r||[],b0(t).constructor):e.apply(t,r))}function $$e(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R$e(t)}function R$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cz=function(){return!!t})()}function b0(t){return b0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b0(t)}function M$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BI(t,e)}function BI(t,e){return BI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BI(t,e)}function qI(t,e,r){return e=uz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uz(t){var e=L$e(t,"string");return eu(e)=="symbol"?e:e+""}function L$e(t,e){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TM=1,F$e=function(t){function e(){var r;P$e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=_$e(this,e,[].concat(a)),qI(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qI(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return M$e(e,t),O$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>TM||Math.abs(n.height-this.state.lastBoundingBox.height)>TM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,p=a.offset,g=a.position,y=a.reverseDirection,b=a.useTranslate3d,h=a.viewBox,x=a.wrapperStyle,v=E$e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:h}),C=v.cssClasses,j=v.cssProperties,N=kM(kM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return H.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(A){n.wrapperNode=A}},u)}}])}(w.PureComponent),B$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},kw={isSsr:B$e()};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function EM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(r),!0).forEach(function(n){IE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fz(n.key),n)}}function U$e(t,e,r){return e&&V$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z$e(t,e,r){return e=x0(e),W$e(t,dz()?Reflect.construct(e,r||[],x0(t).constructor):e.apply(t,r))}function W$e(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H$e(t)}function H$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dz=function(){return!!t})()}function x0(t){return x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x0(t)}function G$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VI(t,e)}function VI(t,e){return VI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VI(t,e)}function IE(t,e,r){return e=fz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fz(t){var e=Y$e(t,"string");return tu(e)=="symbol"?e:e+""}function Y$e(t,e){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K$e(t){return t.dataKey}function J$e(t,e){return H.isValidElement(t)?H.cloneElement(t,e):typeof t=="function"?H.createElement(t,e):H.createElement(C$e,e)}var os=function(t){function e(){return q$e(this,e),z$e(this,e,arguments)}return G$e(e,t),U$e(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,p=a.offset,g=a.payload,y=a.payloadUniqBy,b=a.position,h=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,C=a.wrapperStyle,j=g??[];f&&j.length&&(j=tz(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,K$e));var N=j.length>0;return H.createElement(F$e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:N,offset:p,position:b,reverseDirection:h,useTranslate3d:x,viewBox:v,wrapperStyle:C},J$e(u,PM(PM({},this.props),{},{payload:j})))}}])}(w.PureComponent);IE(os,"displayName","Tooltip");IE(os,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!kw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var X$e=Za,Z$e=function(){return X$e.Date.now()},Q$e=Z$e,eRe=/\s/;function tRe(t){for(var e=t.length;e--&&eRe.test(t.charAt(e)););return e}var rRe=tRe,nRe=rRe,aRe=/^\s+/;function sRe(t){return t&&t.slice(0,nRe(t)+1).replace(aRe,"")}var oRe=sRe,iRe=oRe,DM=ni,lRe=Pu,OM=NaN,cRe=/^[-+]0x[0-9a-f]+$/i,uRe=/^0b[01]+$/i,dRe=/^0o[0-7]+$/i,fRe=parseInt;function mRe(t){if(typeof t=="number")return t;if(lRe(t))return OM;if(DM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=DM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=iRe(t);var r=uRe.test(t);return r||dRe.test(t)?fRe(t.slice(2),r?2:8):cRe.test(t)?OM:+t}var mz=mRe,pRe=ni,rC=Q$e,_M=mz,hRe="Expected a function",gRe=Math.max,yRe=Math.min;function bRe(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(hRe);e=_M(e)||0,pRe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?gRe(_M(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function p(N){var S=n,A=a;return n=a=void 0,u=N,i=t.apply(A,S),i}function g(N){return u=N,l=setTimeout(h,e),d?p(N):i}function y(N){var S=N-c,A=N-u,k=e-S;return f?yRe(k,s-A):k}function b(N){var S=N-c,A=N-u;return c===void 0||S>=e||S<0||f&&A>=s}function h(){var N=rC();if(b(N))return x(N);l=setTimeout(h,y(N))}function x(N){return l=void 0,m&&n?p(N):(n=a=void 0,i)}function v(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function C(){return l===void 0?i:x(rC())}function j(){var N=rC(),S=b(N);if(n=arguments,a=this,c=N,S){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(h,e),p(c)}return l===void 0&&(l=setTimeout(h,e)),i}return j.cancel=v,j.flush=C,j}var xRe=bRe,vRe=xRe,jRe=ni,wRe="Expected a function";function NRe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(wRe);return jRe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),vRe(t,e,{leading:n,maxWait:e,trailing:a})}var CRe=NRe;const pz=it(CRe);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function $M(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(r),!0).forEach(function(n){SRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SRe(t,e,r){return e=ARe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ARe(t){var e=IRe(t,"string");return pm(e)=="symbol"?e:e+""}function IRe(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kRe(t,e){return DRe(t)||PRe(t,e)||ERe(t,e)||TRe()}function TRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ERe(t,e){if(t){if(typeof t=="string")return RM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RM(t,e)}}function RM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function DRe(t){if(Array.isArray(t))return t}var Tw=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,p=t.children,g=t.debounce,y=g===void 0?0:g,b=t.id,h=t.className,x=t.onResize,v=t.style,C=v===void 0?{}:v,j=w.useRef(null),N=w.useRef();N.current=x,w.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=w.useState({containerWidth:a.width,containerHeight:a.height}),A=kRe(S,2),k=A[0],T=A[1],E=w.useCallback(function(L,M){T(function(D){var P=Math.round(L),F=Math.round(M);return D.containerWidth===P&&D.containerHeight===F?D:{containerWidth:P,containerHeight:F}})},[]);w.useEffect(function(){var L=function(R){var B,U=R[0].contentRect,G=U.width,W=U.height;E(G,W),(B=N.current)===null||B===void 0||B.call(N,G,W)};y>0&&(L=pz(L,y,{trailing:!0,leading:!1}));var M=new ResizeObserver(L),D=j.current.getBoundingClientRect(),P=D.width,F=D.height;return E(P,F),M.observe(j.current),function(){M.disconnect()}},[E,y]);var $=w.useMemo(function(){var L=k.containerWidth,M=k.containerHeight;if(L<0||M<0)return null;Ss(Ri(i)||Ri(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Ss(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=Ri(i)?L:i,P=Ri(c)?M:c;r&&r>0&&(D?P=D/r:P&&(D=P*r),m&&P>m&&(P=m)),Ss(D>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,P,i,c,d,f,r);var F=!Array.isArray(p)&&Cs(p.type).endsWith("Chart");return H.Children.map(p,function(O){return H.isValidElement(O)?w.cloneElement(O,vh({width:D,height:P},F?{style:vh({height:"100%",width:"100%",maxHeight:P,maxWidth:D},O.props.style)}:{})):O})},[r,p,c,m,f,d,k,i]);return H.createElement("div",{id:b?"".concat(b):void 0,className:Re("recharts-responsive-container",h),style:vh(vh({},C),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:j},$)}),Fu=function(e){return null};Fu.displayName="Cell";function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function MM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(r),!0).forEach(function(n){ORe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ORe(t,e,r){return e=_Re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Re(t){var e=$Re(t,"string");return hm(e)=="symbol"?e:e+""}function $Re(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hl={widthCache:{},cacheCount:0},RRe=2e3,MRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LM="recharts_measurement_span";function LRe(t){var e=UI({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var FM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||kw.isSsr)return{width:0,height:0};var n=LRe(r),a=JSON.stringify({text:e,copyStyle:n});if(Hl.widthCache[a])return Hl.widthCache[a];try{var s=document.getElementById(LM);s||(s=document.createElement("span"),s.setAttribute("id",LM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=UI(UI({},MRe),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Hl.widthCache[a]=c,++Hl.cacheCount>RRe&&(Hl.cacheCount=0,Hl.widthCache={}),c}catch{return{width:0,height:0}}},FRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function v0(t,e){return URe(t)||VRe(t,e)||qRe(t,e)||BRe()}function BRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qRe(t,e){if(t){if(typeof t=="string")return BM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BM(t,e)}}function BM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function URe(t){if(Array.isArray(t))return t}function zRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HRe(n.key),n)}}function WRe(t,e,r){return e&&qM(t.prototype,e),r&&qM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HRe(t){var e=GRe(t,"string");return gm(e)=="symbol"?e:e+""}function GRe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JRe=Object.keys(hz),lc="NaN";function XRe(t,e){return t*hz[e]}var jh=function(){function t(e,r){zRe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!YRe.test(r)&&(this.num=NaN,this.unit=""),JRe.includes(r)&&(this.num=XRe(e,r),this.unit="px")}return WRe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=KRe.exec(r))!==null&&n!==void 0?n:[],s=v0(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function gz(t){if(t.includes(lc))return lc;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=VM.exec(e))!==null&&r!==void 0?r:[],a=v0(n,4),s=a[1],i=a[2],l=a[3],c=jh.parse(s??""),u=jh.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return lc;e=e.replace(VM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=UM.exec(e))!==null&&f!==void 0?f:[],p=v0(m,4),g=p[1],y=p[2],b=p[3],h=jh.parse(g??""),x=jh.parse(b??""),v=y==="+"?h.add(x):h.subtract(x);if(v.isNaN())return lc;e=e.replace(UM,v.toString())}return e}var zM=/\(([^()]*)\)/;function ZRe(t){for(var e=t;e.includes("(");){var r=zM.exec(e),n=v0(r,2),a=n[1];e=e.replace(zM,gz(a))}return e}function QRe(t){var e=t.replace(/\s+/g,"");return e=ZRe(e),e=gz(e),e}function eMe(t){try{return QRe(t)}catch{return lc}}function nC(t){var e=eMe(t.slice(5,-1));return e===lc?"":e}var tMe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rMe=["dx","dy","angle","className","breakAll"];function zI(){return zI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zI.apply(this,arguments)}function WM(t,e){if(t==null)return{};var r=nMe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HM(t,e){return iMe(t)||oMe(t,e)||sMe(t,e)||aMe()}function aMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sMe(t,e){if(t){if(typeof t=="string")return GM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GM(t,e)}}function GM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function iMe(t){if(Array.isArray(t))return t}var yz=/[ \f\n\r\t\v\u2028\u2029]+/,bz=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Ze(r)||(n?s=r.toString().split(""):s=r.toString().split(yz));var i=s.map(function(c){return{word:c,width:FM(c,a).width}}),l=n?0:FM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},lMe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=je(i),f=l,m=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(P,F){var O=F.word,R=F.width,B=P[P.length-1];if(B&&(a==null||s||B.width+R+n<Number(a)))B.words.push(O),B.width+=R+n;else{var U={words:[O],width:R};P.push(U)}return P},[])},p=m(r),g=function(D){return D.reduce(function(P,F){return P.width>F.width?P:F})};if(!d)return p;for(var y="",b=function(D){var P=f.slice(0,D),F=bz({breakAll:u,style:c,children:P+y}).wordsWithComputedWidth,O=m(F),R=O.length>i||g(O).width>Number(a);return[R,O]},h=0,x=f.length-1,v=0,C;h<=x&&v<=f.length-1;){var j=Math.floor((h+x)/2),N=j-1,S=b(N),A=HM(S,2),k=A[0],T=A[1],E=b(j),$=HM(E,1),L=$[0];if(!k&&!L&&(h=j+1),k&&L&&(x=j-1),!k&&L){C=T;break}v++}return C||p},YM=function(e){var r=Ze(e)?[]:e.toString().split(yz);return[{words:r}]},cMe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!kw.isSsr){var c,u,d=bz({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return YM(a);return lMe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return YM(a)},KM="#808080",ru=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,p=m===void 0?"start":m,g=e.verticalAnchor,y=g===void 0?"end":g,b=e.fill,h=b===void 0?KM:b,x=WM(e,tMe),v=w.useMemo(function(){return cMe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),C=x.dx,j=x.dy,N=x.angle,S=x.className,A=x.breakAll,k=WM(x,rMe);if(!pr(n)||!pr(s))return null;var T=n+(je(C)?C:0),E=s+(je(j)?j:0),$;switch(y){case"start":$=nC("calc(".concat(u,")"));break;case"middle":$=nC("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:$=nC("calc(".concat(v.length-1," * -").concat(l,")"));break}var L=[];if(f){var M=v[0].width,D=x.width;L.push("scale(".concat((je(D)?D/M:1)/M,")"))}return N&&L.push("rotate(".concat(N,", ").concat(T,", ").concat(E,")")),L.length&&(k.transform=L.join(" ")),H.createElement("text",zI({},Ge(k,!0),{x:T,y:E,className:Re("recharts-text",S),textAnchor:p,fill:h.includes("url")?KM:h}),v.map(function(P,F){var O=P.words.join(A?"":" ");return H.createElement("tspan",{x:T,dy:F===0?$:l,key:"".concat(O,"-").concat(F)},O)}))};function Mo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kE(t){let e,r,n;t.length!==2?(e=Mo,r=(l,c)=>Mo(t(l),c),n=(l,c)=>t(l)-c):(e=t===Mo||t===uMe?t:dMe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function dMe(){return 0}function xz(t){return t===null?NaN:+t}function*fMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const mMe=kE(Mo),vp=mMe.right;kE(xz).center;class JM extends Map{constructor(e,r=gMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(XM(this,e))}has(e){return super.has(XM(this,e))}set(e,r){return super.set(pMe(this,e),r)}delete(e){return super.delete(hMe(this,e))}}function XM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function pMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function hMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function gMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yMe(t=Mo){if(t===Mo)return vz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function vz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bMe=Math.sqrt(50),xMe=Math.sqrt(10),vMe=Math.sqrt(2);function j0(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=bMe?10:s>=xMe?5:s>=vMe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?j0(t,e,r*2):[l,c,u]}function WI(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?j0(e,t,r):j0(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function HI(t,e,r){return e=+e,t=+t,r=+r,j0(t,e,r)[2]}function GI(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?HI(e,t,r):HI(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function ZM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function QM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jz(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?vz:yMe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/c+m)),g=Math.min(n,Math.floor(e+(c-u)*f/c+m));jz(t,e,p,g,a)}const s=t[e];let i=r,l=n;for(gd(t,r,e),a(t[n],s)>0&&gd(t,r,n);i<l;){for(gd(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?gd(t,r,l):(++l,gd(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function gd(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function jMe(t,e,r){if(t=Float64Array.from(fMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return QM(t);if(e>=1)return ZM(t);var n,a=(n-1)*e,s=Math.floor(a),i=ZM(jz(t,s).subarray(0,s+1)),l=QM(t.subarray(s+1));return i+(l-i)*(a-s)}}function wMe(t,e,r=xz){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function NMe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function na(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const YI=Symbol("implicit");function TE(){var t=new JM,e=[],r=[],n=YI;function a(s){let i=t.get(s);if(i===void 0){if(n!==YI)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new JM;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return TE(e,r).unknown(n)},na.apply(a,arguments),a}function ym(){var t=TE().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,p=a<n,g=p?a:n,y=p?n:a;s=(y-g)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),g+=(y-g-s*(m-c))*d,i=s*(1-c),l&&(g=Math.round(g),i=Math.round(i));var b=NMe(m).map(function(h){return g+s*h});return r(p?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return ym(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},na.apply(f(),arguments)}function wz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wz(e())},t}function gf(){return wz(ym.apply(null,arguments).paddingInner(1))}function EE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Nz(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function jp(){}var bm=.7,w0=1/bm,$c="\\s*([+-]?\\d+)\\s*",xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ya="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CMe=/^#([0-9a-f]{3,8})$/,SMe=new RegExp(`^rgb\\(${$c},${$c},${$c}\\)$`),AMe=new RegExp(`^rgb\\(${Ya},${Ya},${Ya}\\)$`),IMe=new RegExp(`^rgba\\(${$c},${$c},${$c},${xm}\\)$`),kMe=new RegExp(`^rgba\\(${Ya},${Ya},${Ya},${xm}\\)$`),TMe=new RegExp(`^hsl\\(${xm},${Ya},${Ya}\\)$`),EMe=new RegExp(`^hsla\\(${xm},${Ya},${Ya},${xm}\\)$`),eL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};EE(jp,vm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tL,formatHex:tL,formatHex8:PMe,formatHsl:DMe,formatRgb:rL,toString:rL});function tL(){return this.rgb().formatHex()}function PMe(){return this.rgb().formatHex8()}function DMe(){return Cz(this).formatHsl()}function rL(){return this.rgb().formatRgb()}function vm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=CMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?nL(e):r===3?new on(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?wh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?wh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=SMe.exec(t))?new on(e[1],e[2],e[3],1):(e=AMe.exec(t))?new on(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=IMe.exec(t))?wh(e[1],e[2],e[3],e[4]):(e=kMe.exec(t))?wh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TMe.exec(t))?oL(e[1],e[2]/100,e[3]/100,1):(e=EMe.exec(t))?oL(e[1],e[2]/100,e[3]/100,e[4]):eL.hasOwnProperty(t)?nL(eL[t]):t==="transparent"?new on(NaN,NaN,NaN,0):null}function nL(t){return new on(t>>16&255,t>>8&255,t&255,1)}function wh(t,e,r,n){return n<=0&&(t=e=r=NaN),new on(t,e,r,n)}function OMe(t){return t instanceof jp||(t=vm(t)),t?(t=t.rgb(),new on(t.r,t.g,t.b,t.opacity)):new on}function KI(t,e,r,n){return arguments.length===1?OMe(t):new on(t,e,r,n??1)}function on(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}EE(on,KI,Nz(jp,{brighter(t){return t=t==null?w0:Math.pow(w0,t),new on(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new on(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new on(al(this.r),al(this.g),al(this.b),N0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aL,formatHex:aL,formatHex8:_Me,formatRgb:sL,toString:sL}));function aL(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}`}function _Me(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}${Mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function sL(){const t=N0(this.opacity);return`${t===1?"rgb(":"rgba("}${al(this.r)}, ${al(this.g)}, ${al(this.b)}${t===1?")":`, ${t})`}`}function N0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function al(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mi(t){return t=al(t),(t<16?"0":"")+t.toString(16)}function oL(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new fa(t,e,r,n)}function Cz(t){if(t instanceof fa)return new fa(t.h,t.s,t.l,t.opacity);if(t instanceof jp||(t=vm(t)),!t)return new fa;if(t instanceof fa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new fa(i,l,c,t.opacity)}function $Me(t,e,r,n){return arguments.length===1?Cz(t):new fa(t,e,r,n??1)}function fa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}EE(fa,$Me,Nz(jp,{brighter(t){return t=t==null?w0:Math.pow(w0,t),new fa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bm:Math.pow(bm,t),new fa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new on(aC(t>=240?t-240:t+120,a,n),aC(t,a,n),aC(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new fa(iL(this.h),Nh(this.s),Nh(this.l),N0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=N0(this.opacity);return`${t===1?"hsl(":"hsla("}${iL(this.h)}, ${Nh(this.s)*100}%, ${Nh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iL(t){return t=(t||0)%360,t<0?t+360:t}function Nh(t){return Math.max(0,Math.min(1,t||0))}function aC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const PE=t=>()=>t;function RMe(t,e){return function(r){return t+r*e}}function MMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function LMe(t){return(t=+t)==1?Sz:function(e,r){return r-e?MMe(e,r,t):PE(isNaN(e)?r:e)}}function Sz(t,e){var r=e-t;return r?RMe(t,r):PE(isNaN(t)?e:t)}const lL=function t(e){var r=LMe(e);function n(a,s){var i=r((a=KI(a)).r,(s=KI(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=Sz(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function FMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function BMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Bu(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function VMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function C0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function UMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Bu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var JI=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sC=new RegExp(JI.source,"g");function zMe(t){return function(){return t}}function WMe(t){return function(e){return t(e)+""}}function HMe(t,e){var r=JI.lastIndex=sC.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=JI.exec(t))&&(a=sC.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:C0(n,a)})),r=sC.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?WMe(c[0].x):zMe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Bu(t,e){var r=typeof e,n;return e==null||r==="boolean"?PE(e):(r==="number"?C0:r==="string"?(n=vm(e))?(e=n,lL):HMe:e instanceof vm?lL:e instanceof Date?VMe:BMe(e)?FMe:Array.isArray(e)?qMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?UMe:C0)(t,e)}function DE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function GMe(t,e){e===void 0&&(e=t,t=Bu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function YMe(t){return function(){return t}}function S0(t){return+t}var cL=[0,1];function Yr(t){return t}function XI(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:YMe(isNaN(e)?NaN:.5)}function KMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function JMe(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=XI(a,n),s=r(i,s)):(n=XI(n,a),s=r(s,i)),function(l){return s(n(l))}}function XMe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=XI(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=vp(t,l,1,n)-1;return s[c](a[c](l))}}function wp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ew(){var t=cL,e=cL,r=Bu,n,a,s,i=Yr,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==Yr&&(i=KMe(t[0],t[m-1])),l=m>2?XMe:JMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),C0)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,S0),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=DE,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Yr,d()):i!==Yr},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,p){return n=m,a=p,d()}}function OE(){return Ew()(Yr,Yr)}function ZMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function A0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function nu(t){return t=A0(Math.abs(t)),t?t[1]:NaN}function QMe(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function eLe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var tLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jm(t){if(!(e=tLe.exec(t)))throw new Error("invalid format: "+t);var e;return new _E({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jm.prototype=_E.prototype;function _E(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_E.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rLe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Az;function nLe(t,e){var r=A0(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(Az=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+A0(t,Math.max(0,e+s-1))[0]}function uL(t,e){var r=A0(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const dL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ZMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uL(t*100,e),r:uL,s:nLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fL(t){return t}var mL=Array.prototype.map,pL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function aLe(t){var e=t.grouping===void 0||t.thousands===void 0?fL:QMe(mL.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?fL:eLe(mL.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=jm(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,b=f.zero,h=f.width,x=f.comma,v=f.precision,C=f.trim,j=f.type;j==="n"?(x=!0,j="g"):dL[j]||(v===void 0&&(v=12),C=!0,j="g"),(b||m==="0"&&p==="=")&&(b=!0,m="0",p="=");var N=y==="$"?r:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=y==="$"?n:/[%p]/.test(j)?i:"",A=dL[j],k=/[defgprs%]/.test(j);v=v===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function T(E){var $=N,L=S,M,D,P;if(j==="c")L=A(E)+L,E="";else{E=+E;var F=E<0||1/E<0;if(E=isNaN(E)?c:A(Math.abs(E),v),C&&(E=rLe(E)),F&&+E==0&&g!=="+"&&(F=!1),$=(F?g==="("?g:l:g==="-"||g==="("?"":g)+$,L=(j==="s"?pL[8+Az/3]:"")+L+(F&&g==="("?")":""),k){for(M=-1,D=E.length;++M<D;)if(P=E.charCodeAt(M),48>P||P>57){L=(P===46?a+E.slice(M+1):E.slice(M))+L,E=E.slice(0,M);break}}}x&&!b&&(E=e(E,1/0));var O=$.length+E.length+L.length,R=O<h?new Array(h-O+1).join(m):"";switch(x&&b&&(E=e(R+E,R.length?h-L.length:1/0),R=""),p){case"<":E=$+E+L+R;break;case"=":E=$+R+E+L;break;case"^":E=R.slice(0,O=R.length>>1)+$+E+L+R.slice(O);break;default:E=R+$+E+L;break}return s(E)}return T.toString=function(){return f+""},T}function d(f,m){var p=u((f=jm(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(nu(m)/3)))*3,y=Math.pow(10,-g),b=pL[8+g/3];return function(h){return p(y*h)+b}}return{format:u,formatPrefix:d}}var Ch,$E,Iz;sLe({thousands:",",grouping:[3],currency:["$",""]});function sLe(t){return Ch=aLe(t),$E=Ch.format,Iz=Ch.formatPrefix,Ch}function oLe(t){return Math.max(0,-nu(Math.abs(t)))}function iLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nu(e)/3)))*3-nu(Math.abs(t)))}function lLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nu(e)-nu(t))+1}function kz(t,e,r,n){var a=GI(t,e,r),s;switch(n=jm(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=iLe(a,i))&&(n.precision=s),Iz(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=lLe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=oLe(a))&&(n.precision=s-(n.type==="%")*2);break}}return $E(n)}function si(t){var e=t.domain;return t.ticks=function(r){var n=e();return WI(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return kz(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=HI(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function I0(){var t=OE();return t.copy=function(){return wp(t,I0())},na.apply(t,arguments),si(t)}function Tz(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,S0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Tz(t).unknown(e)},t=arguments.length?Array.from(t,S0):[0,1],si(r)}function Ez(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function hL(t){return Math.log(t)}function gL(t){return Math.exp(t)}function cLe(t){return-Math.log(-t)}function uLe(t){return-Math.exp(-t)}function dLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function fLe(t){return t===10?dLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function mLe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function yL(t){return(e,r)=>-t(-e,r)}function RE(t){const e=t(hL,gL),r=e.domain;let n=10,a,s;function i(){return a=mLe(n),s=fLe(n),r()[0]<0?(a=yL(a),s=yL(s),t(cLe,uLe)):t(hL,gL),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),p=a(d),g,y;const b=l==null?10:+l;let h=[];if(!(n%1)&&p-m<b){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(g=1;g<n;++g)if(y=m<0?g/s(-m):g*s(m),!(y<u)){if(y>d)break;h.push(y)}}else for(;m<=p;++m)for(g=n-1;g>=1;--g)if(y=m>0?g/s(-m):g*s(m),!(y<u)){if(y>d)break;h.push(y)}h.length*2<b&&(h=WI(u,d,b))}else h=WI(m,p,Math.min(p-m,b)).map(s);return f?h.reverse():h},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=jm(c)).precision==null&&(c.trim=!0),c=$E(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(Ez(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function Pz(){const t=RE(Ew()).domain([1,10]);return t.copy=()=>wp(t,Pz()).base(t.base()),na.apply(t,arguments),t}function bL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ME(t){var e=1,r=t(bL(e),xL(e));return r.constant=function(n){return arguments.length?t(bL(e=+n),xL(e)):e},si(r)}function Dz(){var t=ME(Ew());return t.copy=function(){return wp(t,Dz()).constant(t.constant())},na.apply(t,arguments)}function vL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function pLe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hLe(t){return t<0?-t*t:t*t}function LE(t){var e=t(Yr,Yr),r=1;function n(){return r===1?t(Yr,Yr):r===.5?t(pLe,hLe):t(vL(r),vL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},si(e)}function FE(){var t=LE(Ew());return t.copy=function(){return wp(t,FE()).exponent(t.exponent())},na.apply(t,arguments),t}function gLe(){return FE.apply(null,arguments).exponent(.5)}function jL(t){return Math.sign(t)*t*t}function yLe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Oz(){var t=OE(),e=[0,1],r=!1,n;function a(s){var i=yLe(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(jL(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,S0)).map(jL)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Oz(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},na.apply(a,arguments),si(a)}function _z(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=wMe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[vp(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Mo),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return _z().domain(t).range(e).unknown(n)},na.apply(s,arguments)}function $z(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[vp(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return $z().domain([t,e]).range(a).unknown(s)},na.apply(si(i),arguments)}function Rz(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[vp(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Rz().domain(t).range(e).unknown(r)},na.apply(a,arguments)}const oC=new Date,iC=new Date;function hr(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>hr(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(oC.setTime(+s),iC.setTime(+i),t(oC),t(iC),Math.floor(r(oC,iC))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const k0=hr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);k0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):k0);k0.range;const ys=1e3,Jn=ys*60,bs=Jn*60,Ms=bs*24,BE=Ms*7,wL=Ms*30,lC=Ms*365,Li=hr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ys)},(t,e)=>(e-t)/ys,t=>t.getUTCSeconds());Li.range;const qE=hr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getMinutes());qE.range;const VE=hr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jn)},(t,e)=>(e-t)/Jn,t=>t.getUTCMinutes());VE.range;const UE=hr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ys-t.getMinutes()*Jn)},(t,e)=>{t.setTime(+t+e*bs)},(t,e)=>(e-t)/bs,t=>t.getHours());UE.range;const zE=hr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bs)},(t,e)=>(e-t)/bs,t=>t.getUTCHours());zE.range;const Np=hr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jn)/Ms,t=>t.getDate()-1);Np.range;const Pw=hr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>t.getUTCDate()-1);Pw.range;const Mz=hr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ms,t=>Math.floor(t/Ms));Mz.range;function _l(t){return hr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Jn)/BE)}const Dw=_l(0),T0=_l(1),bLe=_l(2),xLe=_l(3),au=_l(4),vLe=_l(5),jLe=_l(6);Dw.range;T0.range;bLe.range;xLe.range;au.range;vLe.range;jLe.range;function $l(t){return hr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/BE)}const Ow=$l(0),E0=$l(1),wLe=$l(2),NLe=$l(3),su=$l(4),CLe=$l(5),SLe=$l(6);Ow.range;E0.range;wLe.range;NLe.range;su.range;CLe.range;SLe.range;const WE=hr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());WE.range;const HE=hr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());HE.range;const Ls=hr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ls.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ls.range;const Fs=hr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Fs.range;function Lz(t,e,r,n,a,s){const i=[[Li,1,ys],[Li,5,5*ys],[Li,15,15*ys],[Li,30,30*ys],[s,1,Jn],[s,5,5*Jn],[s,15,15*Jn],[s,30,30*Jn],[a,1,bs],[a,3,3*bs],[a,6,6*bs],[a,12,12*bs],[n,1,Ms],[n,2,2*Ms],[r,1,BE],[e,1,wL],[e,3,3*wL],[t,1,lC]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,f){const m=Math.abs(d-u)/f,p=kE(([,,b])=>b).right(i,m);if(p===i.length)return t.every(GI(u/lC,d/lC,f));if(p===0)return k0.every(Math.max(GI(u,d,f),1));const[g,y]=i[m/i[p-1][2]<i[p][2]/m?p-1:p];return g.every(y)}return[l,c]}const[ALe,ILe]=Lz(Fs,HE,Ow,Mz,zE,VE),[kLe,TLe]=Lz(Ls,WE,Dw,Np,UE,qE);function cC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function yd(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function ELe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=bd(a),d=xd(a),f=bd(s),m=xd(s),p=bd(i),g=xd(i),y=bd(l),b=xd(l),h=bd(c),x=xd(c),v={a:F,A:O,b:R,B,c:null,d:kL,e:kL,f:QLe,g:cFe,G:dFe,H:JLe,I:XLe,j:ZLe,L:Fz,m:eFe,M:tFe,p:U,q:G,Q:PL,s:DL,S:rFe,u:nFe,U:aFe,V:sFe,w:oFe,W:iFe,x:null,X:null,y:lFe,Y:uFe,Z:fFe,"%":EL},C={a:W,A:ae,b:be,B:se,c:null,d:TL,e:TL,f:gFe,g:AFe,G:kFe,H:mFe,I:pFe,j:hFe,L:qz,m:yFe,M:bFe,p:J,q:ue,Q:PL,s:DL,S:xFe,u:vFe,U:jFe,V:wFe,w:NFe,W:CFe,x:null,X:null,y:SFe,Y:IFe,Z:TFe,"%":EL},j={a:T,A:E,b:$,B:L,c:M,d:AL,e:AL,f:HLe,g:SL,G:CL,H:IL,I:IL,j:VLe,L:WLe,m:qLe,M:ULe,p:k,q:BLe,Q:YLe,s:KLe,S:zLe,u:$Le,U:RLe,V:MLe,w:_Le,W:LLe,x:D,X:P,y:SL,Y:CL,Z:FLe,"%":GLe};v.x=N(r,v),v.X=N(n,v),v.c=N(e,v),C.x=N(r,C),C.X=N(n,C),C.c=N(e,C);function N(Q,re){return function(X){var Y=[],pe=-1,Ne=0,Ee=Q.length,He,ze,Vr;for(X instanceof Date||(X=new Date(+X));++pe<Ee;)Q.charCodeAt(pe)===37&&(Y.push(Q.slice(Ne,pe)),(ze=NL[He=Q.charAt(++pe)])!=null?He=Q.charAt(++pe):ze=He==="e"?" ":"0",(Vr=re[He])&&(He=Vr(X,ze)),Y.push(He),Ne=pe+1);return Y.push(Q.slice(Ne,pe)),Y.join("")}}function S(Q,re){return function(X){var Y=yd(1900,void 0,1),pe=A(Y,Q,X+="",0),Ne,Ee;if(pe!=X.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(re&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ne=uC(yd(Y.y,0,1)),Ee=Ne.getUTCDay(),Ne=Ee>4||Ee===0?E0.ceil(Ne):E0(Ne),Ne=Pw.offset(Ne,(Y.V-1)*7),Y.y=Ne.getUTCFullYear(),Y.m=Ne.getUTCMonth(),Y.d=Ne.getUTCDate()+(Y.w+6)%7):(Ne=cC(yd(Y.y,0,1)),Ee=Ne.getDay(),Ne=Ee>4||Ee===0?T0.ceil(Ne):T0(Ne),Ne=Np.offset(Ne,(Y.V-1)*7),Y.y=Ne.getFullYear(),Y.m=Ne.getMonth(),Y.d=Ne.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Ee="Z"in Y?uC(yd(Y.y,0,1)).getUTCDay():cC(yd(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Ee+5)%7:Y.w+Y.U*7-(Ee+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,uC(Y)):cC(Y)}}function A(Q,re,X,Y){for(var pe=0,Ne=re.length,Ee=X.length,He,ze;pe<Ne;){if(Y>=Ee)return-1;if(He=re.charCodeAt(pe++),He===37){if(He=re.charAt(pe++),ze=j[He in NL?re.charAt(pe++):He],!ze||(Y=ze(Q,X,Y))<0)return-1}else if(He!=X.charCodeAt(Y++))return-1}return Y}function k(Q,re,X){var Y=u.exec(re.slice(X));return Y?(Q.p=d.get(Y[0].toLowerCase()),X+Y[0].length):-1}function T(Q,re,X){var Y=p.exec(re.slice(X));return Y?(Q.w=g.get(Y[0].toLowerCase()),X+Y[0].length):-1}function E(Q,re,X){var Y=f.exec(re.slice(X));return Y?(Q.w=m.get(Y[0].toLowerCase()),X+Y[0].length):-1}function $(Q,re,X){var Y=h.exec(re.slice(X));return Y?(Q.m=x.get(Y[0].toLowerCase()),X+Y[0].length):-1}function L(Q,re,X){var Y=y.exec(re.slice(X));return Y?(Q.m=b.get(Y[0].toLowerCase()),X+Y[0].length):-1}function M(Q,re,X){return A(Q,e,re,X)}function D(Q,re,X){return A(Q,r,re,X)}function P(Q,re,X){return A(Q,n,re,X)}function F(Q){return i[Q.getDay()]}function O(Q){return s[Q.getDay()]}function R(Q){return c[Q.getMonth()]}function B(Q){return l[Q.getMonth()]}function U(Q){return a[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function W(Q){return i[Q.getUTCDay()]}function ae(Q){return s[Q.getUTCDay()]}function be(Q){return c[Q.getUTCMonth()]}function se(Q){return l[Q.getUTCMonth()]}function J(Q){return a[+(Q.getUTCHours()>=12)]}function ue(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var re=N(Q+="",v);return re.toString=function(){return Q},re},parse:function(Q){var re=S(Q+="",!1);return re.toString=function(){return Q},re},utcFormat:function(Q){var re=N(Q+="",C);return re.toString=function(){return Q},re},utcParse:function(Q){var re=S(Q+="",!0);return re.toString=function(){return Q},re}}}var NL={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,PLe=/^%/,DLe=/[\\^$*+?|[\]().{}]/g;function at(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function OLe(t){return t.replace(DLe,"\\$&")}function bd(t){return new RegExp("^(?:"+t.map(OLe).join("|")+")","i")}function xd(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function _Le(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function $Le(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function RLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function MLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function LLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function CL(t,e,r){var n=jr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function SL(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FLe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function BLe(t,e,r){var n=jr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function qLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function AL(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function VLe(t,e,r){var n=jr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function IL(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ULe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function zLe(t,e,r){var n=jr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function WLe(t,e,r){var n=jr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function HLe(t,e,r){var n=jr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function GLe(t,e,r){var n=PLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function YLe(t,e,r){var n=jr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function KLe(t,e,r){var n=jr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function kL(t,e){return at(t.getDate(),e,2)}function JLe(t,e){return at(t.getHours(),e,2)}function XLe(t,e){return at(t.getHours()%12||12,e,2)}function ZLe(t,e){return at(1+Np.count(Ls(t),t),e,3)}function Fz(t,e){return at(t.getMilliseconds(),e,3)}function QLe(t,e){return Fz(t,e)+"000"}function eFe(t,e){return at(t.getMonth()+1,e,2)}function tFe(t,e){return at(t.getMinutes(),e,2)}function rFe(t,e){return at(t.getSeconds(),e,2)}function nFe(t){var e=t.getDay();return e===0?7:e}function aFe(t,e){return at(Dw.count(Ls(t)-1,t),e,2)}function Bz(t){var e=t.getDay();return e>=4||e===0?au(t):au.ceil(t)}function sFe(t,e){return t=Bz(t),at(au.count(Ls(t),t)+(Ls(t).getDay()===4),e,2)}function oFe(t){return t.getDay()}function iFe(t,e){return at(T0.count(Ls(t)-1,t),e,2)}function lFe(t,e){return at(t.getFullYear()%100,e,2)}function cFe(t,e){return t=Bz(t),at(t.getFullYear()%100,e,2)}function uFe(t,e){return at(t.getFullYear()%1e4,e,4)}function dFe(t,e){var r=t.getDay();return t=r>=4||r===0?au(t):au.ceil(t),at(t.getFullYear()%1e4,e,4)}function fFe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function TL(t,e){return at(t.getUTCDate(),e,2)}function mFe(t,e){return at(t.getUTCHours(),e,2)}function pFe(t,e){return at(t.getUTCHours()%12||12,e,2)}function hFe(t,e){return at(1+Pw.count(Fs(t),t),e,3)}function qz(t,e){return at(t.getUTCMilliseconds(),e,3)}function gFe(t,e){return qz(t,e)+"000"}function yFe(t,e){return at(t.getUTCMonth()+1,e,2)}function bFe(t,e){return at(t.getUTCMinutes(),e,2)}function xFe(t,e){return at(t.getUTCSeconds(),e,2)}function vFe(t){var e=t.getUTCDay();return e===0?7:e}function jFe(t,e){return at(Ow.count(Fs(t)-1,t),e,2)}function Vz(t){var e=t.getUTCDay();return e>=4||e===0?su(t):su.ceil(t)}function wFe(t,e){return t=Vz(t),at(su.count(Fs(t),t)+(Fs(t).getUTCDay()===4),e,2)}function NFe(t){return t.getUTCDay()}function CFe(t,e){return at(E0.count(Fs(t)-1,t),e,2)}function SFe(t,e){return at(t.getUTCFullYear()%100,e,2)}function AFe(t,e){return t=Vz(t),at(t.getUTCFullYear()%100,e,2)}function IFe(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function kFe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?su(t):su.ceil(t),at(t.getUTCFullYear()%1e4,e,4)}function TFe(){return"+0000"}function EL(){return"%"}function PL(t){return+t}function DL(t){return Math.floor(+t/1e3)}var Gl,Uz,zz;EFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function EFe(t){return Gl=ELe(t),Uz=Gl.format,Gl.parse,zz=Gl.utcFormat,Gl.utcParse,Gl}function PFe(t){return new Date(t)}function DFe(t){return t instanceof Date?+t:+new Date(+t)}function GE(t,e,r,n,a,s,i,l,c,u){var d=OE(),f=d.invert,m=d.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),h=u("%a %d"),x=u("%b %d"),v=u("%B"),C=u("%Y");function j(N){return(c(N)<N?p:l(N)<N?g:i(N)<N?y:s(N)<N?b:n(N)<N?a(N)<N?h:x:r(N)<N?v:C)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?m(Array.from(N,DFe)):m().map(PFe)},d.ticks=function(N){var S=m();return t(S[0],S[S.length-1],N??10)},d.tickFormat=function(N,S){return S==null?j:u(S)},d.nice=function(N){var S=m();return(!N||typeof N.range!="function")&&(N=e(S[0],S[S.length-1],N??10)),N?m(Ez(S,N)):d},d.copy=function(){return wp(d,GE(t,e,r,n,a,s,i,l,c,u))},d}function OFe(){return na.apply(GE(kLe,TLe,Ls,WE,Dw,Np,UE,qE,Li,Uz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _Fe(){return na.apply(GE(ALe,ILe,Fs,HE,Ow,Pw,zE,VE,Li,zz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _w(){var t=0,e=1,r,n,a,s,i=Yr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var p,g;return arguments.length?([p,g]=m,i=f(p,g),u):[i(0),i(1)]}}return u.range=d(Bu),u.rangeRound=d(DE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function oi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Wz(){var t=si(_w()(Yr));return t.copy=function(){return oi(t,Wz())},Gs.apply(t,arguments)}function Hz(){var t=RE(_w()).domain([1,10]);return t.copy=function(){return oi(t,Hz()).base(t.base())},Gs.apply(t,arguments)}function Gz(){var t=ME(_w());return t.copy=function(){return oi(t,Gz()).constant(t.constant())},Gs.apply(t,arguments)}function YE(){var t=LE(_w());return t.copy=function(){return oi(t,YE()).exponent(t.exponent())},Gs.apply(t,arguments)}function $Fe(){return YE.apply(null,arguments).exponent(.5)}function Yz(){var t=[],e=Yr;function r(n){if(n!=null&&!isNaN(n=+n))return e((vp(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Mo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>jMe(t,s/n))},r.copy=function(){return Yz(e).domain(t)},Gs.apply(r,arguments)}function $w(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=Yr,d,f=!1,m;function p(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(b){var h,x,v;return arguments.length?([h,x,v]=b,u=GMe(y,[h,x,v]),p):[u(0),u(.5),u(1)]}}return p.range=g(Bu),p.rangeRound=g(DE),p.unknown=function(y){return arguments.length?(m=y,p):m},function(y){return d=y,a=y(t),s=y(e),i=y(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function Kz(){var t=si($w()(Yr));return t.copy=function(){return oi(t,Kz())},Gs.apply(t,arguments)}function Jz(){var t=RE($w()).domain([.1,1,10]);return t.copy=function(){return oi(t,Jz()).base(t.base())},Gs.apply(t,arguments)}function Xz(){var t=ME($w());return t.copy=function(){return oi(t,Xz()).constant(t.constant())},Gs.apply(t,arguments)}function KE(){var t=LE($w());return t.copy=function(){return oi(t,KE()).exponent(t.exponent())},Gs.apply(t,arguments)}function RFe(){return KE.apply(null,arguments).exponent(.5)}const OL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ym,scaleDiverging:Kz,scaleDivergingLog:Jz,scaleDivergingPow:KE,scaleDivergingSqrt:RFe,scaleDivergingSymlog:Xz,scaleIdentity:Tz,scaleImplicit:YI,scaleLinear:I0,scaleLog:Pz,scaleOrdinal:TE,scalePoint:gf,scalePow:FE,scaleQuantile:_z,scaleQuantize:$z,scaleRadial:Oz,scaleSequential:Wz,scaleSequentialLog:Hz,scaleSequentialPow:YE,scaleSequentialQuantile:Yz,scaleSequentialSqrt:$Fe,scaleSequentialSymlog:Gz,scaleSqrt:gLe,scaleSymlog:Dz,scaleThreshold:Rz,scaleTime:OFe,scaleUtc:_Fe,tickFormat:kz},Symbol.toStringTag,{value:"Module"}));var MFe=Pu;function LFe(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!MFe(i):r(i,l)))var l=i,c=s}return c}var Rw=LFe;function FFe(t,e){return t>e}var Zz=FFe,BFe=Rw,qFe=Zz,VFe=Lu;function UFe(t){return t&&t.length?BFe(t,VFe,qFe):void 0}var zFe=UFe;const Mw=it(zFe);function WFe(t,e){return t<e}var Qz=WFe,HFe=Rw,GFe=Qz,YFe=Lu;function KFe(t){return t&&t.length?HFe(t,YFe,GFe):void 0}var JFe=KFe;const Lw=it(JFe);var XFe=lE,ZFe=ai,QFe=iz,e5e=xn;function t5e(t,e){var r=e5e(t)?XFe:QFe;return r(t,ZFe(e))}var r5e=t5e,n5e=sz,a5e=r5e;function s5e(t,e){return n5e(a5e(t,e),1)}var o5e=s5e;const i5e=it(o5e);var l5e=CE;function c5e(t,e){return l5e(t,e)}var u5e=c5e;const JE=it(u5e);var qu=1e9,d5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZE,Ft=!0,ta="[DecimalError] ",sl=ta+"Invalid argument: ",XE=ta+"Exponent out of range: ",Vu=Math.floor,Ai=Math.pow,f5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nn,gr=1e7,Pt=7,e9=9007199254740991,P0=Vu(e9/Pt),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Pt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(t){return As(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,r=e.constructor;return vt(As(e,new r(t),0,1),r.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return lr(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Nn))throw Error(ta+"NaN");if(r.s<1)throw Error(ta+(r.s?"NaN":"-Infinity"));return r.eq(Nn)?new n(0):(Ft=!1,e=As(wm(r,s),wm(t,s),s),Ft=!0,vt(e,a))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?n9(e,t):t9(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ta+"NaN");return r.s?(Ft=!1,e=As(r,t,0,1).times(t),Ft=!0,r.minus(e)):vt(new n(r),a)};Se.naturalExponential=Se.exp=function(){return r9(this)};Se.naturalLogarithm=Se.ln=function(){return wm(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?t9(e,t):n9(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sl+t);if(e=lr(a)+1,n=a.d.length-1,r=n*Pt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Se.squareRoot=Se.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ta+"NaN")}for(t=lr(l),Ft=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Ma(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Vu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(As(l,s,i+2)).times(.5),Ma(s.d).slice(0,i)===(e=Ma(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(vt(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Ft=!0,vt(n,r)};Se.times=Se.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+p[n]*m[a-n-1]+e,s[a--]=l%gr|0,e=l/gr|0;s[a]=(s[a]+e)%gr|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Ft?vt(t,f.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ja(t,0,qu),e===void 0?e=n.rounding:Ja(e,0,8),vt(r,t+lr(r)+1,e))};Se.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=jl(n,!0):(Ja(t,0,qu),e===void 0?e=a.rounding:Ja(e,0,8),n=vt(new a(n),t+1,e),r=jl(n,!0,t+1)),r};Se.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?jl(a):(Ja(t,0,qu),e===void 0?e=s.rounding:Ja(e,0,8),n=vt(new s(a),t+lr(a)+1,e),r=jl(n.abs(),!1,t+lr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return vt(new e(t),lr(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Nn);if(l=new c(l),!l.s){if(t.s<1)throw Error(ta+"Infinity");return l}if(l.eq(Nn))return l;if(n=c.precision,t.eq(Nn))return vt(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=e9){for(a=new c(Nn),e=Math.ceil(n/Pt+4),Ft=!1;r%2&&(a=a.times(l),$L(a.d,e)),r=Vu(r/2),r!==0;)l=l.times(l),$L(l.d,e);return Ft=!0,t.s<0?new c(Nn).div(a):vt(a,n)}}else if(s<0)throw Error(ta+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Ft=!1,a=t.times(wm(l,n+u)),Ft=!0,a=r9(a),a.s=s,a};Se.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=lr(a),n=jl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ja(t,1,qu),e===void 0?e=s.rounding:Ja(e,0,8),a=vt(new s(a),t,e),r=lr(a),n=jl(a,t<=r||r<=s.toExpNeg,t)),n};Se.toSignificantDigits=Se.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ja(t,1,qu),e===void 0?e=n.rounding:Ja(e,0,8)),vt(new n(r),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=lr(t),r=t.constructor;return jl(t,e<=r.toExpNeg||e>=r.toExpPos)};function t9(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ft?vt(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Pt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/gr|0,c[s]%=gr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Ft?vt(e,f):e}function Ja(t,e,r){if(t!==~~t||t<e||t>r)throw Error(sl+t)}function Ma(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=Pt-n.length,r&&(s+=ao(r)),s+=n;i=t[e],n=i+"",r=Pt-n.length,r&&(s+=ao(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var As=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%gr|0,i=s/gr|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*gr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,p,g,y,b,h,x,v,C,j,N,S,A,k=n.constructor,T=n.s==a.s?1:-1,E=n.d,$=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(ta+"Division by zero");for(c=n.e-a.e,S=$.length,j=E.length,p=new k(T),g=p.d=[],u=0;$[u]==(E[u]||0);)++u;if($[u]>(E[u]||0)&&--c,s==null?x=s=k.precision:i?x=s+(lr(n)-lr(a))+1:x=s,x<0)return new k(0);if(x=x/Pt+2|0,u=0,S==1)for(d=0,$=$[0],x++;(u<j||d)&&x--;u++)v=d*gr+(E[u]||0),g[u]=v/$|0,d=v%$|0;else{for(d=gr/($[0]+1)|0,d>1&&($=t($,d),E=t(E,d),S=$.length,j=E.length),C=S,y=E.slice(0,S),b=y.length;b<S;)y[b++]=0;A=$.slice(),A.unshift(0),N=$[0],$[1]>=gr/2&&++N;do d=0,l=e($,y,S,b),l<0?(h=y[0],S!=b&&(h=h*gr+(y[1]||0)),d=h/N|0,d>1?(d>=gr&&(d=gr-1),f=t($,d),m=f.length,b=y.length,l=e(f,y,m,b),l==1&&(d--,r(f,S<m?A:$,m))):(d==0&&(l=d=1),f=$.slice()),m=f.length,m<b&&f.unshift(0),r(y,f,b),l==-1&&(b=y.length,l=e($,y,S,b),l<1&&(d++,r(y,S<b?A:$,b))),b=y.length):l===0&&(d++,y=[0]),g[u++]=d,l&&y[0]?y[b++]=E[C]||0:(y=[E[C]],b=1);while((C++<j||y[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=c,vt(p,i?s+lr(p)+1:s)}}();function r9(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(lr(t)>16)throw Error(XE+lr(t));if(!t.s)return new d(Nn);for(Ft=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(Ai(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Nn),d.precision=l;;){if(a=vt(a.times(t),l),r=r.times(++c),i=s.plus(As(a,r,l)),Ma(i.d).slice(0,l)===Ma(s.d).slice(0,l)){for(;u--;)s=vt(s.times(s),l);return d.precision=f,e==null?(Ft=!0,vt(s,f)):s}s=i}}function lr(t){for(var e=t.e*Pt,r=t.d[0];r>=10;r/=10)e++;return e}function dC(t,e,r){if(e>t.LN10.sd())throw Ft=!0,r&&(t.precision=r),Error(ta+"LN10 precision limit exceeded");return vt(new t(t.LN10),e)}function ao(t){for(var e="";t--;)e+="0";return e}function wm(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,p=t,g=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(ta+(p.s?"NaN":"-Infinity"));if(p.eq(Nn))return new y(0);if(e==null?(Ft=!1,u=b):u=e,p.eq(10))return e==null&&(Ft=!0),dC(y,u);if(u+=m,y.precision=u,r=Ma(g),n=r.charAt(0),s=lr(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Ma(p.d),n=r.charAt(0),f++;s=lr(p),n>1?(p=new y("0."+r),s++):p=new y(n+"."+r.slice(1))}else return c=dC(y,u+2,b).times(s+""),p=wm(new y(n+"."+r.slice(1)),u-m).plus(c),y.precision=b,e==null?(Ft=!0,vt(p,b)):p;for(l=i=p=As(p.minus(Nn),p.plus(Nn),u),d=vt(p.times(p),u),a=3;;){if(i=vt(i.times(d),u),c=l.plus(As(i,new y(a),u)),Ma(c.d).slice(0,u)===Ma(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(dC(y,u+2,b).times(s+""))),l=As(l,new y(f),u),y.precision=b,e==null?(Ft=!0,vt(l,b)):l;l=c,a+=2}}function _L(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Vu(r/Pt),t.d=[],n=(r+1)%Pt,r<0&&(n+=Pt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Pt;n<a;)t.d.push(+e.slice(n,n+=Pt));e=e.slice(n),n=Pt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Ft&&(t.e>P0||t.e<-P0))throw Error(XE+r)}else t.s=0,t.e=0,t.d=[0];return t}function vt(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=Pt,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Pt),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Pt,a=n-Pt+i}if(r!==void 0&&(s=Ai(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ai(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=lr(t),f.length=1,e=e-s-1,f[0]=Ai(10,(Pt-e%Pt)%Pt),t.e=Vu(-e/Pt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Ai(10,Pt-n),f[d]=a>0?(u/Ai(10,i-a)%Ai(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==gr&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=gr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ft&&(t.e>P0||t.e<-P0))throw Error(XE+lr(t));return t}function n9(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Ft?vt(e,p):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Pt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=gr-1;--c[s],c[a]+=gr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ft?vt(e,p):e):new m(0)}function jl(t,e,r){var n,a=lr(t),s=Ma(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+ao(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ao(-a-1)+s,r&&(n=r-i)>0&&(s+=ao(n))):a>=i?(s+=ao(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+ao(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=ao(n))),t.s<0?"-"+s:s}function $L(t,e){if(t.length>e)return t.length=e,!0}function a9(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(sl+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return _L(i,s.toString())}else if(typeof s!="string")throw Error(sl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,f5e.test(s))_L(i,s);else throw Error(sl+s)}if(a.prototype=Se,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=a9,a.config=a.set=m5e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function m5e(t){if(!t||typeof t!="object")throw Error(ta+"Object expected");var e,r,n,a=["precision",1,qu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Vu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(sl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(sl+r+": "+n);return this}var ZE=a9(d5e);Nn=new ZE(1);const yt=ZE;function p5e(t){return b5e(t)||y5e(t)||g5e(t)||h5e()}function h5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g5e(t,e){if(t){if(typeof t=="string")return ZI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZI(t,e)}}function y5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function b5e(t){if(Array.isArray(t))return ZI(t)}function ZI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var x5e=function(e){return e},s9={},o9=function(e){return e===s9},RL=function(e){return function r(){return arguments.length===0||arguments.length===1&&o9(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},v5e=function t(e,r){return e===1?r:RL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==s9}).length;return i>=e?r.apply(void 0,a):t(e-i,RL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return o9(f)?c.shift():f});return r.apply(void 0,p5e(d).concat(c))}))})},Fw=function(e){return v5e(e.length,e)},QI=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},j5e=Fw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),w5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return x5e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},e2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},i9=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function N5e(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function C5e(t,e,r){for(var n=new yt(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var S5e=Fw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),A5e=Fw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),I5e=Fw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Bw={rangeStep:C5e,getDigitCount:N5e,interpolateNumber:S5e,uninterpolateNumber:A5e,uninterpolateTruncation:I5e};function t2(t){return E5e(t)||T5e(t)||l9(t)||k5e()}function k5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function E5e(t){if(Array.isArray(t))return r2(t)}function Nm(t,e){return O5e(t)||D5e(t,e)||l9(t,e)||P5e()}function P5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l9(t,e){if(t){if(typeof t=="string")return r2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r2(t,e)}}function r2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function O5e(t){if(Array.isArray(t))return t}function c9(t){var e=Nm(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function u9(t,e,r){if(t.lte(0))return new yt(0);var n=Bw.getDigitCount(t.toNumber()),a=new yt(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new yt(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new yt(Math.ceil(c))}function _5e(t,e,r){var n=1,a=new yt(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new yt(10).pow(Bw.getDigitCount(t)-1),a=new yt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new yt(Math.floor(t)))}else t===0?a=new yt(Math.floor((e-1)/2)):r||(a=new yt(Math.floor(t)));var i=Math.floor((e-1)/2),l=w5e(j5e(function(c){return a.add(new yt(c-i).mul(n)).toNumber()}),QI);return l(0,e)}function d9(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var s=u9(new yt(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new yt(0):(i=new yt(t).add(e).div(2),i=i.sub(new yt(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new yt(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?d9(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new yt(l).mul(s)),tickMax:i.add(new yt(c).mul(s))})}function $5e(t){var e=Nm(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=c9([r,n]),c=Nm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(t2(QI(0,a-1).map(function(){return 1/0}))):[].concat(t2(QI(0,a-1).map(function(){return-1/0})),[d]);return r>n?e2(f):f}if(u===d)return _5e(u,a,s);var m=d9(u,d,i,s),p=m.step,g=m.tickMin,y=m.tickMax,b=Bw.rangeStep(g,y.add(new yt(.1).mul(p)),p);return r>n?e2(b):b}function R5e(t,e){var r=Nm(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=c9([n,a]),l=Nm(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=u9(new yt(u).sub(c).div(d-1),s,0),m=[].concat(t2(Bw.rangeStep(new yt(c),new yt(u).sub(new yt(.99).mul(f)),f)),[u]);return n>a?e2(m):m}var M5e=i9($5e),L5e=i9(R5e),F5e="Invariant failed";function ou(t,e){throw new Error(F5e)}var B5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(this,arguments)}function q5e(t,e){return W5e(t)||z5e(t,e)||U5e(t,e)||V5e()}function V5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U5e(t,e){if(t){if(typeof t=="string")return ML(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ML(t,e)}}function ML(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function W5e(t){if(Array.isArray(t))return t}function H5e(t,e){if(t==null)return{};var r=G5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Y5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p9(n.key),n)}}function J5e(t,e,r){return e&&K5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X5e(t,e,r){return e=O0(e),Z5e(t,f9()?Reflect.construct(e,r||[],O0(t).constructor):e.apply(t,r))}function Z5e(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q5e(t)}function Q5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O0(t)}function e4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n2(t,e)}function n2(t,e){return n2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n2(t,e)}function m9(t,e,r){return e=p9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p9(t){var e=t4e(t,"string");return iu(e)=="symbol"?e:e+""}function t4e(t,e){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QE=function(t){function e(){return Y5e(this,e),X5e(this,e,arguments)}return e4e(e,t),J5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=H5e(n,B5e),p=Ge(m,!1);this.props.direction==="x"&&d.type!=="number"&&ou();var g=c.map(function(y){var b=u(y,l),h=b.x,x=b.y,v=b.value,C=b.errorVal;if(!C)return null;var j=[],N,S;if(Array.isArray(C)){var A=q5e(C,2);N=A[0],S=A[1]}else N=S=C;if(s==="vertical"){var k=d.scale,T=x+a,E=T+i,$=T-i,L=k(v-N),M=k(v+S);j.push({x1:M,y1:E,x2:M,y2:$}),j.push({x1:L,y1:T,x2:M,y2:T}),j.push({x1:L,y1:E,x2:L,y2:$})}else if(s==="horizontal"){var D=f.scale,P=h+a,F=P-i,O=P+i,R=D(v-N),B=D(v+S);j.push({x1:F,y1:B,x2:O,y2:B}),j.push({x1:P,y1:R,x2:P,y2:B}),j.push({x1:F,y1:R,x2:O,y2:R})}return H.createElement(Yt,D0({className:"recharts-errorBar",key:"bar-".concat(j.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},p),j.map(function(U){return H.createElement("line",D0({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return H.createElement(Yt,{className:"recharts-errorBars"},g)}}])}(H.Component);m9(QE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});m9(QE,"displayName","ErrorBar");function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){r4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r4e(t,e,r){return e=n4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n4e(t){var e=a4e(t,"string");return Cm(e)=="symbol"?e:e+""}function a4e(t,e){if(Cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h9=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=zn(r,Ga);if(!i)return null;var l=Ga.defaultProps,c=l!==void 0?hi(hi({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(y){return{type:i.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?hi(hi({},m),f.props):{},g=p.dataKey,y=p.name,b=p.legendType,h=p.hide;return{inactive:h,dataKey:g,type:c.iconType||b||"square",color:eP(f),value:y||g,payload:p}}),hi(hi(hi({},c),Ga.getWithHeight(i,a)),{},{payload:u,item:i})};function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function FL(t){return l4e(t)||i4e(t)||o4e(t)||s4e()}function s4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4e(t,e){if(t){if(typeof t=="string")return a2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(t,e)}}function i4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l4e(t){if(Array.isArray(t))return a2(t)}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(r),!0).forEach(function(n){Rc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rc(t,e,r){return e=c4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c4e(t){var e=u4e(t,"string");return Sm(e)=="symbol"?e:e+""}function u4e(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cn(t,e,r){return Ze(t)||Ze(e)?r:pr(e)?va(t,e,r):Ye(e)?e(t):r}function yf(t,e,r,n){var a=i5e(t,function(l){return Cn(l,e)});if(r==="number"){var s=a.filter(function(l){return je(l)||parseFloat(l)});return s.length?[Lw(s),Mw(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Ze(l)}):a;return i.map(function(l){return pr(l)||l instanceof Date?l:""})}var d4e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Kn(f-d)!==Kn(m-f)){var g=[];if(Kn(m-f)===Kn(c[1]-c[0])){p=m;var y=f+c[1]-c[0];g[0]=Math.min(y,(y+d)/2),g[1]=Math.max(y,(y+d)/2)}else{p=d;var b=m+c[1]-c[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var h=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>h[0]&&e<=h[1]||e>=g[0]&&e<=g[1]){i=a[u].index;break}}else{var x=Math.min(d,m),v=Math.max(d,m);if(e>(x+f)/2&&e<=(v+f)/2){i=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){i=n[C].index;break}return i},eP=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Gt(Gt({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},f4e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var g=d[f[m]],y=g.items,b=g.cateAxisId,h=y.filter(function(S){return Cs(S.type).indexOf("Bar")>=0});if(h&&h.length){var x=h[0].type.defaultProps,v=x!==void 0?Gt(Gt({},x),h[0].props):h[0].props,C=v.barSize,j=v[b];i[j]||(i[j]=[]);var N=Ze(C)?r:C;i[j].push({item:h[0],stackList:h.slice(1),barSize:Ze(N)?void 0:sn(N,n,0)})}}return i},m4e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=sn(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,p=a/c,g=i.reduce(function(C,j){return C+j.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(m=!0,p*=.9,g=c*p);var y=(a-g)/2>>0,b={offset:y-u,size:0};d=i.reduce(function(C,j){var N={item:j.item,position:{offset:b.offset+b.size+u,size:m?p:j.barSize}},S=[].concat(FL(C),[N]);return b=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(A){S.push({item:A,position:b})}),S},f)}else{var h=sn(n,a,0,!0);a-2*h-(c-1)*u<=0&&(u=0);var x=(a-2*h-(c-1)*u)/c;x>1&&(x>>=0);var v=l===+l?Math.min(x,l):x;d=i.reduce(function(C,j,N){var S=[].concat(FL(C),[{item:j.item,position:{offset:h+(x+u)*N+(x-v)/2,size:v}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(A){S.push({item:A,position:S[S.length-1].position})}),S},f)}return d},p4e=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=h9({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,p=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&p!=="center"&&je(e[p]))return Gt(Gt({},e),{},Rc({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&g!=="middle"&&je(e[g]))return Gt(Gt({},e),{},Rc({},g,e[g]+(m||0)))}return e},h4e=function(e,r,n){return Ze(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},g9=function(e,r,n,a,s){var i=r.props.children,l=Ha(i,QE).filter(function(u){return h4e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Cn(d,n);if(Ze(f))return u;var m=Array.isArray(f)?[Lw(f),Mw(f)]:[f,f],p=c.reduce(function(g,y){var b=Cn(d,y,0),h=m[0]-Math.abs(Array.isArray(b)?b[0]:b),x=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(h,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},g4e=function(e,r,n,a,s){var i=r.map(function(l){return g9(e,l,n,s,a)}).filter(function(l){return!Ze(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},y9=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&g9(e,c,u,a)||yf(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},b9=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Md=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Kn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!xp(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},fC=new WeakMap,Sh=function(e,r){if(typeof r!="function")return e;fC.has(e)||fC.set(e,new WeakMap);var n=fC.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},y4e=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:ym(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:I0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:gf(),realScaleType:"point"}:s==="category"?{scale:ym(),realScaleType:"band"}:{scale:I0(),realScaleType:"linear"};if(bp(a)){var c="scale".concat(jw(a));return{scale:(OL[c]||gf)(),realScaleType:OL[c]?c:"point"}}return Ye(a)?{scale:a}:{scale:gf(),realScaleType:"point"}},qL=1e-4,b4e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-qL,i=Math.max(a[0],a[1])+qL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},x4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=xp(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},v4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=xp(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},j4e={sign:x4e,expand:F2e,none:Xc,silhouette:B2e,wiggle:q2e,positive:v4e},w4e=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=j4e[n],i=L2e().keys(a).value(function(l,c){return+Cn(l,c,0)}).order(TI).offset(s);return i(e)},N4e=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var p,g=(p=m.type)!==null&&p!==void 0&&p.defaultProps?Gt(Gt({},m.type.defaultProps),m.props):m.props,y=g.stackId,b=g.hide;if(b)return f;var h=g[n],x=f[h]||{hasStack:!1,stackGroups:{}};if(pr(y)){var v=x.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(m),x.hasStack=!0,x.stackGroups[y]=v}else x.stackGroups[xw("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Gt(Gt({},f),{},Rc({},h,x))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,b){var h=p.stackGroups[b];return Gt(Gt({},y),{},Rc({},b,{numericAxisId:n,cateAxisId:a,items:h.items,stackedData:w4e(e,h.items,s)}))},g)}return Gt(Gt({},f),{},Rc({},m,p))},d)},C4e=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=M5e(u,s,l);return e.domain([Lw(d),Mw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=L5e(f,s,l);return{niceTicks:m}}return null},S4e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Gt(Gt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(pr(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},A4e=function(e){return e.reduce(function(r,n){return[Lw(n.concat([r[0]]).filter(je)),Mw(n.concat([r[1]]).filter(je))]},[1/0,-1/0])},x9=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=A4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},VL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s2=function(e,r,n){if(Ye(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(je(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(VL.test(e[0])){var s=+VL.exec(e[0])[1];a[0]=r[0]-s}else Ye(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(je(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(UL.test(e[1])){var i=+UL.exec(e[1])[1];a[1]=r[1]+i}else Ye(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},o2=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=AE(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},zL=function(e,r,n){return!e||!e.length||JE(e,va(n,"type.defaultProps.domain"))?r:e},I4e=function(e,r){var n=e.type.defaultProps?Gt(Gt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Gt(Gt({},Ge(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:eP(e),value:Cn(r,a),type:c,payload:r,chartType:u,hide:d})};function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function WL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function is(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(r),!0).forEach(function(n){v9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v9(t,e,r){return e=k4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k4e(t){var e=T4e(t,"string");return Am(e)=="symbol"?e:e+""}function T4e(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E4e(t,e){return _4e(t)||O4e(t,e)||D4e(t,e)||P4e()}function P4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D4e(t,e){if(t){if(typeof t=="string")return HL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HL(t,e)}}function HL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function _4e(t){if(Array.isArray(t))return t}var _0=Math.PI/180,$4e=function(e){return e*180/Math.PI},It=function(e,r,n,a){return{x:e+Math.cos(-_0*a)*n,y:r+Math.sin(-_0*a)*n}},j9=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},R4e=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=sn(e.cx,i,i/2),f=sn(e.cy,l,l/2),m=j9(i,l,n),p=sn(e.innerRadius,m,0),g=sn(e.outerRadius,m,m*.8),y=Object.keys(r);return y.reduce(function(b,h){var x=r[h],v=x.domain,C=x.reversed,j;if(Ze(x.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[p,g]),C&&(j=[j[1],j[0]]);else{j=x.range;var N=j,S=E4e(N,2);c=S[0],u=S[1]}var A=y4e(x,s),k=A.realScaleType,T=A.scale;T.domain(v).range(j),b4e(T);var E=C4e(T,is(is({},x),{},{realScaleType:k})),$=is(is(is({},x),E),{},{range:j,radius:g,realScaleType:k,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return is(is({},b),{},v9({},h,$))},{})},M4e=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},L4e=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=M4e({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:$4e(u),angleInRadian:u}},F4e=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},B4e=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},GL=function(e,r){var n=e.x,a=e.y,s=L4e({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=F4e(r),f=d.startAngle,m=d.endAngle,p=l,g;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;g=p>=m&&p<=f}return g?is(is({},r),{},{radius:i,angle:B4e(p,r)}):null},w9=function(e){return!w.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}var q4e=["offset"];function V4e(t){return H4e(t)||W4e(t)||z4e(t)||U4e()}function U4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z4e(t,e){if(t){if(typeof t=="string")return i2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i2(t,e)}}function W4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function H4e(t){if(Array.isArray(t))return i2(t)}function i2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G4e(t,e){if(t==null)return{};var r=Y4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(r),!0).forEach(function(n){K4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K4e(t,e,r){return e=J4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J4e(t){var e=X4e(t,"string");return Im(e)=="symbol"?e:e+""}function X4e(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},km.apply(this,arguments)}var Z4e=function(e){var r=e.value,n=e.formatter,a=Ze(e.children)?r:e.children;return Ye(n)?n(a):a},Q4e=function(e,r){var n=Kn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},eBe=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,g=c.endAngle,y=c.clockWise,b=(f+m)/2,h=Q4e(p,g),x=h>=0?1:-1,v,C;a==="insideStart"?(v=p+x*i,C=y):a==="insideEnd"?(v=g-x*i,C=!y):a==="end"&&(v=g+x*i,C=y),C=h<=0?C:!C;var j=It(u,d,b,v),N=It(u,d,b,v+(C?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),A=Ze(e.id)?xw("recharts-radial-line-"):e.id;return H.createElement("text",km({},n,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",l)}),H.createElement("defs",null,H.createElement("path",{id:A,d:S})),H.createElement("textPath",{xlinkHref:"#".concat(A)},r))},tBe=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var p=It(i,l,u+n,m),g=p.x,y=p.y;return{x:g,y,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,h=It(i,l,b,m),x=h.x,v=h.y;return{x,y:v,textAnchor:"middle",verticalAnchor:"middle"}},rBe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,p=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,b=y*a,h=y>0?"end":"start",x=y>0?"start":"end";if(s==="top"){var v={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return ur(ur({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:g};return ur(ur({},C),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-b,y:c+d/2,textAnchor:h,verticalAnchor:"middle"};return ur(ur({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return ur(ur({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?ur({x:l+b,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},S):s==="insideRight"?ur({x:l+u-b,y:c+d/2,textAnchor:h,verticalAnchor:"middle"},S):s==="insideTop"?ur({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:g},S):s==="insideBottom"?ur({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},S):s==="insideTopLeft"?ur({x:l+b,y:c+m,textAnchor:x,verticalAnchor:g},S):s==="insideTopRight"?ur({x:l+u-b,y:c+m,textAnchor:h,verticalAnchor:g},S):s==="insideBottomLeft"?ur({x:l+b,y:c+d-m,textAnchor:x,verticalAnchor:p},S):s==="insideBottomRight"?ur({x:l+u-b,y:c+d-m,textAnchor:h,verticalAnchor:p},S):Du(s)&&(je(s.x)||Ri(s.x))&&(je(s.y)||Ri(s.y))?ur({x:l+sn(s.x,u),y:c+sn(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):ur({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},nBe=function(e){return"cx"in e&&je(e.cx)};function Ar(t){var e=t.offset,r=e===void 0?5:e,n=G4e(t,q4e),a=ur({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Ze(l)&&Ze(c)&&!w.isValidElement(u)&&!Ye(u))return null;if(w.isValidElement(u))return w.cloneElement(u,a);var p;if(Ye(u)){if(p=w.createElement(u,a),w.isValidElement(p))return p}else p=Z4e(a);var g=nBe(s),y=Ge(a,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return eBe(a,p,y);var b=g?tBe(a):rBe(a);return H.createElement(ru,km({className:Re("recharts-label",f)},y,b,{breakAll:m}),p)}Ar.displayName="Label";var N9=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,p=e.top,g=e.left,y=e.width,b=e.height,h=e.clockWise,x=e.labelViewBox;if(x)return x;if(je(y)&&je(b)){if(je(f)&&je(m))return{x:f,y:m,width:y,height:b};if(je(p)&&je(g))return{x:p,y:g,width:y,height:b}}return je(f)&&je(m)?{x:f,y:m,width:0,height:0}:je(r)&&je(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:h}:e.viewBox?e.viewBox:{}},aBe=function(e,r){return e?e===!0?H.createElement(Ar,{key:"label-implicit",viewBox:r}):pr(e)?H.createElement(Ar,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===Ar?w.cloneElement(e,{key:"label-implicit",viewBox:r}):H.createElement(Ar,{key:"label-implicit",content:e,viewBox:r}):Ye(e)?H.createElement(Ar,{key:"label-implicit",content:e,viewBox:r}):Du(e)?H.createElement(Ar,km({viewBox:r},e,{key:"label-implicit"})):null:null},sBe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=N9(e),i=Ha(a,Ar).map(function(c,u){return w.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=aBe(e.label,r||s);return[l].concat(V4e(i))};Ar.parseViewBox=N9;Ar.renderCallByParent=sBe;function oBe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var iBe=oBe;const lBe=it(iBe);function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}var cBe=["valueAccessor"],uBe=["data","dataKey","clockWise","id","textBreakAll"];function dBe(t){return hBe(t)||pBe(t)||mBe(t)||fBe()}function fBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mBe(t,e){if(t){if(typeof t=="string")return l2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l2(t,e)}}function pBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hBe(t){if(Array.isArray(t))return l2(t)}function l2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$0.apply(this,arguments)}function KL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(r),!0).forEach(function(n){gBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gBe(t,e,r){return e=yBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yBe(t){var e=bBe(t,"string");return Tm(e)=="symbol"?e:e+""}function bBe(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XL(t,e){if(t==null)return{};var r=xBe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vBe=function(e){return Array.isArray(e.value)?lBe(e.value):e.value};function ol(t){var e=t.valueAccessor,r=e===void 0?vBe:e,n=XL(t,cBe),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=XL(n,uBe);return!a||!a.length?null:H.createElement(Yt,{className:"recharts-label-list"},a.map(function(d,f){var m=Ze(s)?r(d,f):Cn(d&&d.payload,s),p=Ze(l)?{}:{id:"".concat(l,"-").concat(f)};return H.createElement(Ar,$0({},Ge(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Ar.parseViewBox(Ze(i)?d:JL(JL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}ol.displayName="LabelList";function jBe(t,e){return t?t===!0?H.createElement(ol,{key:"labelList-implicit",data:e}):H.isValidElement(t)||Ye(t)?H.createElement(ol,{key:"labelList-implicit",data:e,content:t}):Du(t)?H.createElement(ol,$0({data:e},t,{key:"labelList-implicit"})):null:null}function wBe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ha(n,ol).map(function(i,l){return w.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=jBe(t.label,e);return[s].concat(dBe(a))}ol.renderCallByParent=wBe;function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c2.apply(this,arguments)}function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){NBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NBe(t,e,r){return e=CBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CBe(t){var e=SBe(t,"string");return Em(e)=="symbol"?e:e+""}function SBe(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ABe=function(e,r){var n=Kn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Ah=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/_0,m=u?s:s+i*f,p=It(r,n,d,m),g=It(r,n,a,m),y=u?s-i*f:s,b=It(r,n,d*Math.cos(f*_0),y);return{center:p,circleTangency:g,lineTangency:b,theta:f}},C9=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=ABe(i,l),u=i+c,d=It(r,n,s,i),f=It(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=It(r,n,a,i),g=It(r,n,a,u);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},IBe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Kn(d-u),m=Ah({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),p=m.circleTangency,g=m.lineTangency,y=m.theta,b=Ah({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),h=b.circleTangency,x=b.lineTangency,v=b.theta,C=c?Math.abs(u-d):Math.abs(u-d)-y-v;if(C<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):C9({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var N=Ah({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),S=N.circleTangency,A=N.lineTangency,k=N.theta,T=Ah({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),E=T.circleTangency,$=T.lineTangency,L=T.theta,M=c?Math.abs(u-d):Math.abs(u-d)-k-L;if(M<0&&i===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},kBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},S9=function(e){var r=QL(QL({},kBe),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var p=Re("recharts-sector",m),g=i-s,y=sn(l,g,0,!0),b;return y>0&&Math.abs(d-f)<360?b=IBe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):b=C9({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),H.createElement("path",c2({},Ge(r,!0),{className:p,d:b,role:"img"}))};function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function u2(){return u2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u2.apply(this,arguments)}function eF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(r),!0).forEach(function(n){TBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TBe(t,e,r){return e=EBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EBe(t){var e=PBe(t,"string");return Pm(e)=="symbol"?e:e+""}function PBe(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rF={curveBasisClosed:I2e,curveBasisOpen:k2e,curveBasis:A2e,curveBumpX:f2e,curveBumpY:m2e,curveLinearClosed:T2e,curveLinear:Nw,curveMonotoneX:E2e,curveMonotoneY:P2e,curveNatural:D2e,curveStep:O2e,curveStepAfter:$2e,curveStepBefore:_2e},Ih=function(e){return e.x===+e.x&&e.y===+e.y},vd=function(e){return e.x},jd=function(e){return e.y},DBe=function(e,r){if(Ye(e))return e;var n="curve".concat(jw(e));return(n==="curveMonotone"||n==="curveBump")&&r?rF["".concat(n).concat(r==="vertical"?"Y":"X")]:rF[n]||Nw},OBe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=DBe(n,l),f=u?s.filter(function(y){return Ih(y)}):s,m;if(Array.isArray(i)){var p=u?i.filter(function(y){return Ih(y)}):i,g=f.map(function(y,b){return tF(tF({},y),{},{base:p[b]})});return l==="vertical"?m=yh().y(jd).x1(vd).x0(function(y){return y.base.x}):m=yh().x(vd).y1(jd).y0(function(y){return y.base.y}),m.defined(Ih).curve(d),m(g)}return l==="vertical"&&je(i)?m=yh().y(jd).x1(vd).x0(i):je(i)?m=yh().x(vd).y1(jd).y0(i):m=S7().x(vd).y(jd),m.defined(Ih).curve(d),m(f)},d2=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?OBe(e):a;return w.createElement("path",u2({},Ge(e,!1),i0(e),{className:Re("recharts-curve",r),d:i,ref:s}))},A9={exports:{}},_Be="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$Be=_Be,RBe=$Be;function I9(){}function k9(){}k9.resetWarningCache=I9;var MBe=function(){function t(n,a,s,i,l,c){if(c!==RBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:k9,resetWarningCache:I9};return r.PropTypes=r,r};A9.exports=MBe();var LBe=A9.exports;const lt=it(LBe);var FBe=Object.getOwnPropertyNames,BBe=Object.getOwnPropertySymbols,qBe=Object.prototype.hasOwnProperty;function nF(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function kh(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function aF(t){return FBe(t).concat(BBe(t))}var VBe=Object.hasOwn||function(t,e){return qBe.call(t,e)};function Rl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var UBe="__v",zBe="__o",WBe="_owner",sF=Object.getOwnPropertyDescriptor,oF=Object.keys;function HBe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function GBe(t,e){return Rl(t.getTime(),e.getTime())}function YBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function KBe(t,e){return t===e}function iF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,p=l.value;if(r.equals(m[0],p[0],c,f,t,e,r)&&r.equals(m[1],p[1],m[0],p[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var JBe=Rl;function XBe(t,e,r){var n=oF(t),a=n.length;if(oF(e).length!==a)return!1;for(;a-- >0;)if(!T9(t,e,r,n[a]))return!1;return!0}function wd(t,e,r){var n=aF(t),a=n.length;if(aF(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!T9(t,e,r,s)||(i=sF(t,s),l=sF(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function ZBe(t,e){return Rl(t.valueOf(),e.valueOf())}function QBe(t,e){return t.source===e.source&&t.flags===e.flags}function lF(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function e3e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function t3e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function T9(t,e,r,n){return(n===WBe||n===zBe||n===UBe)&&(t.$$typeof||e.$$typeof)?!0:VBe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var r3e="[object Arguments]",n3e="[object Boolean]",a3e="[object Date]",s3e="[object Error]",o3e="[object Map]",i3e="[object Number]",l3e="[object Object]",c3e="[object RegExp]",u3e="[object Set]",d3e="[object String]",f3e="[object URL]",m3e=Array.isArray,cF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,uF=Object.assign,p3e=Object.prototype.toString.call.bind(Object.prototype.toString);function h3e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(g,y,b){if(g===y)return!0;if(g==null||y==null)return!1;var h=typeof g;if(h!==typeof y)return!1;if(h!=="object")return h==="number"?i(g,y,b):h==="function"?a(g,y,b):!1;var x=g.constructor;if(x!==y.constructor)return!1;if(x===Object)return l(g,y,b);if(m3e(g))return e(g,y,b);if(cF!=null&&cF(g))return f(g,y,b);if(x===Date)return r(g,y,b);if(x===RegExp)return u(g,y,b);if(x===Map)return s(g,y,b);if(x===Set)return d(g,y,b);var v=p3e(g);return v===a3e?r(g,y,b):v===c3e?u(g,y,b):v===o3e?s(g,y,b):v===u3e?d(g,y,b):v===l3e?typeof g.then!="function"&&typeof y.then!="function"&&l(g,y,b):v===f3e?m(g,y,b):v===s3e?n(g,y,b):v===r3e?l(g,y,b):v===n3e||v===i3e||v===d3e?c(g,y,b):!1}}function g3e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?wd:HBe,areDatesEqual:GBe,areErrorsEqual:YBe,areFunctionsEqual:KBe,areMapsEqual:n?nF(iF,wd):iF,areNumbersEqual:JBe,areObjectsEqual:n?wd:XBe,arePrimitiveWrappersEqual:ZBe,areRegExpsEqual:QBe,areSetsEqual:n?nF(lF,wd):lF,areTypedArraysEqual:n?wd:e3e,areUrlsEqual:t3e};if(r&&(a=uF({},a,r(a))),e){var s=kh(a.areArraysEqual),i=kh(a.areMapsEqual),l=kh(a.areObjectsEqual),c=kh(a.areSetsEqual);a=uF({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function y3e(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function b3e(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:m,equals:a,meta:p,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var x3e=ii();ii({strict:!0});ii({circular:!0});ii({circular:!0,strict:!0});ii({createInternalComparator:function(){return Rl}});ii({strict:!0,createInternalComparator:function(){return Rl}});ii({circular:!0,createInternalComparator:function(){return Rl}});ii({circular:!0,createInternalComparator:function(){return Rl},strict:!0});function ii(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=g3e(t),c=h3e(l),u=n?n(c):y3e(c);return b3e({circular:r,comparator:c,createState:a,equals:u,strict:i})}function v3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function dF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):v3e(a)};requestAnimationFrame(n)}function f2(t){"@babel/helpers - typeof";return f2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f2(t)}function j3e(t){return S3e(t)||C3e(t)||N3e(t)||w3e()}function w3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3e(t,e){if(t){if(typeof t=="string")return fF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fF(t,e)}}function fF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S3e(t){if(Array.isArray(t))return t}function A3e(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=j3e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){dF(a.bind(null,u),c);return}a(c),dF(a.bind(null,u));return}f2(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Dm(t){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(t)}function mF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mF(Object(r),!0).forEach(function(n){E9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E9(t,e,r){return e=I3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I3e(t){var e=k3e(t,"string");return Dm(e)==="symbol"?e:String(e)}function k3e(t,e){if(Dm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},E3e=function(e){return e},P3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},bf=function(e,r){return Object.keys(r).reduce(function(n,a){return pF(pF({},n),{},E9({},a,e(a,r[a])))},{})},hF=function(e,r,n){return e.map(function(a){return"".concat(P3e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function D3e(t,e){return $3e(t)||_3e(t,e)||P9(t,e)||O3e()}function O3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function $3e(t){if(Array.isArray(t))return t}function R3e(t){return F3e(t)||L3e(t)||P9(t)||M3e()}function M3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P9(t,e){if(t){if(typeof t=="string")return m2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m2(t,e)}}function L3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F3e(t){if(Array.isArray(t))return m2(t)}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var R0=1e-4,D9=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},O9=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},gF=function(e,r){return function(n){var a=D9(e,r);return O9(a,n)}},B3e=function(e,r){return function(n){var a=D9(e,r),s=[].concat(R3e(a.map(function(i,l){return i*l}).slice(1)),[0]);return O9(s,n)}},yF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=D3e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=gF(a,i),m=gF(s,l),p=B3e(a,i),g=function(h){return h>1?1:h<0?0:h},y=function(h){for(var x=h>1?1:h,v=x,C=0;C<8;++C){var j=f(v)-x,N=p(v);if(Math.abs(j-x)<R0||N<R0)return m(v);v=g(v-j/N)}return m(v)};return y.isStepper=!1,y},q3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var p=-(d-f)*n,g=m*s,y=m+(p-g)*l/1e3,b=m*l/1e3+d;return Math.abs(b-f)<R0&&Math.abs(y)<R0?[f,0]:[b,y]};return c.isStepper=!0,c.dt=l,c},V3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yF(a);case"spring":return q3e();default:if(a.split("(")[0]==="cubic-bezier")return yF(a)}return typeof a=="function"?a:null};function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function bF(t){return W3e(t)||z3e(t)||_9(t)||U3e()}function U3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function W3e(t){if(Array.isArray(t))return h2(t)}function xF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(r),!0).forEach(function(n){p2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p2(t,e,r){return e=H3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H3e(t){var e=G3e(t,"string");return Om(e)==="symbol"?e:String(e)}function G3e(t,e){if(Om(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y3e(t,e){return X3e(t)||J3e(t,e)||_9(t,e)||K3e()}function K3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9(t,e){if(t){if(typeof t=="string")return h2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h2(t,e)}}function h2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function J3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function X3e(t){if(Array.isArray(t))return t}var M0=function(e,r,n){return e+(r-e)*n},g2=function(e){var r=e.from,n=e.to;return r!==n},Z3e=function t(e,r,n){var a=bf(function(s,i){if(g2(i)){var l=e(i.from,i.to,i.velocity),c=Y3e(l,2),u=c[0],d=c[1];return Nr(Nr({},i),{},{from:u,velocity:d})}return i},r);return n<1?bf(function(s,i){return g2(i)?Nr(Nr({},i),{},{velocity:M0(i.velocity,a[s].velocity,n),from:M0(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const Q3e=function(t,e,r,n,a){var s=T3e(t,e),i=s.reduce(function(b,h){return Nr(Nr({},b),{},p2({},h,[t[h],e[h]]))},{}),l=s.reduce(function(b,h){return Nr(Nr({},b),{},p2({},h,{from:t[h],velocity:0,to:e[h]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return bf(function(h,x){return x.from},l)},p=function(){return!Object.values(l).filter(g2).length},g=function(h){u||(u=h);var x=h-u,v=x/r.dt;l=Z3e(r,l,v),a(Nr(Nr(Nr({},t),e),m())),u=h,p()||(c=requestAnimationFrame(f))},y=function(h){d||(d=h);var x=(h-d)/n,v=bf(function(j,N){return M0.apply(void 0,bF(N).concat([r(x)]))},i);if(a(Nr(Nr(Nr({},t),e),v)),x<1)c=requestAnimationFrame(f);else{var C=bf(function(j,N){return M0.apply(void 0,bF(N).concat([r(1)]))},i);a(Nr(Nr(Nr({},t),e),C))}};return f=r.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}var eqe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tqe(t,e){if(t==null)return{};var r=rqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rqe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function mC(t){return oqe(t)||sqe(t)||aqe(t)||nqe()}function nqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aqe(t,e){if(t){if(typeof t=="string")return y2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(t,e)}}function sqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oqe(t){if(Array.isArray(t))return y2(t)}function y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(r),!0).forEach(function(n){Ld(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ld(t,e,r){return e=$9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$9(n.key),n)}}function cqe(t,e,r){return e&&lqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $9(t){var e=uqe(t,"string");return lu(e)==="symbol"?e:String(e)}function uqe(t,e){if(lu(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b2(t,e)}function b2(t,e){return b2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b2(t,e)}function fqe(t){var e=mqe();return function(){var n=L0(t),a;if(e){var s=L0(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return x2(this,a)}}function x2(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v2(t)}function v2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L0(t){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L0(t)}var Wo=function(t){dqe(r,t);var e=fqe(r);function r(n,a){var s;iqe(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,p=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(v2(s)),s.changeStyle=s.changeStyle.bind(v2(s)),!l||p<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),x2(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},x2(s);s.state={style:c?Ld({},c,u):u}}else s.state={style:{}};return s}return cqe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var p={style:c?Ld({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(x3e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:a.to;if(this.state&&m){var b={style:c?Ld({},c,y):y};(c&&m[c]!==y||!c&&m!==y)&&this.setState(b)}this.runAnimation(ia(ia({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,p=Q3e(i,l,V3e(u),c,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([m,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(y,b,h){if(h===0)return y;var x=b.duration,v=b.easing,C=v===void 0?"ease":v,j=b.style,N=b.properties,S=b.onAnimationEnd,A=h>0?i[h-1]:b,k=N||Object.keys(j);if(typeof C=="function"||C==="spring")return[].concat(mC(y),[s.runJSAnimation.bind(s,{from:A.style,to:j,duration:x,easing:C}),x]);var T=hF(k,x,C),E=ia(ia(ia({},A.style),j),{},{transition:T});return[].concat(mC(y),[E,x,S]).filter(E3e)};return this.manager.start([c].concat(mC(i.reduce(p,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=A3e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var y=l?Ld({},l,c):c,b=hF(Object.keys(y),i,u);g.start([d,s,ia(ia({},y),{},{transition:b}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=tqe(a,eqe),u=w.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(p){var g=p.props,y=g.style,b=y===void 0?{}:y,h=g.className,x=w.cloneElement(p,ia(ia({},c),{},{style:ia(ia({},b),d),className:h}));return x};return u===1?f(w.Children.only(s)):H.createElement("div",null,w.Children.map(s,function(m){return f(m)}))}}]),r}(w.PureComponent);Wo.displayName="Animate";Wo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wo.propTypes={from:lt.oneOfType([lt.object,lt.string]),to:lt.oneOfType([lt.object,lt.string]),attributeName:lt.string,duration:lt.number,begin:lt.number,easing:lt.oneOfType([lt.string,lt.func]),steps:lt.arrayOf(lt.shape({duration:lt.number.isRequired,style:lt.object.isRequired,easing:lt.oneOfType([lt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lt.func]),properties:lt.arrayOf("string"),onAnimationEnd:lt.func})),children:lt.oneOfType([lt.node,lt.func]),isActive:lt.bool,canBegin:lt.bool,onAnimationEnd:lt.func,shouldReAnimate:lt.bool,onAnimationStart:lt.func,onAnimationReStart:lt.func};function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F0.apply(this,arguments)}function pqe(t,e){return bqe(t)||yqe(t,e)||gqe(t,e)||hqe()}function hqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gqe(t,e){if(t){if(typeof t=="string")return jF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jF(t,e)}}function jF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function bqe(t){if(Array.isArray(t))return t}function wF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function NF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(r),!0).forEach(function(n){xqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xqe(t,e,r){return e=vqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vqe(t){var e=jqe(t,"string");return _m(e)=="symbol"?e:e+""}function jqe(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CF=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var g=Math.min(i,s);d="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},wqe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},Nqe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tP=function(e){var r=NF(NF({},Nqe),e),n=w.useRef(),a=w.useState(-1),s=pqe(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,p=r.className,g=r.animationEasing,y=r.animationDuration,b=r.animationBegin,h=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var v=Re("recharts-rectangle",p);return x?H.createElement(Wo,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:g,isActive:x},function(C){var j=C.width,N=C.height,S=C.x,A=C.y;return H.createElement(Wo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:h,easing:g},H.createElement("path",F0({},Ge(r,!0),{className:v,d:CF(S,A,j,N,m),ref:n})))}):H.createElement("path",F0({},Ge(r,!0),{className:v,d:CF(c,u,d,f,m)}))},Cqe=["points","className","baseLinePoints","connectNulls"];function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cc.apply(this,arguments)}function Sqe(t,e){if(t==null)return{};var r=Aqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Aqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SF(t){return Eqe(t)||Tqe(t)||kqe(t)||Iqe()}function Iqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kqe(t,e){if(t){if(typeof t=="string")return j2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j2(t,e)}}function Tqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eqe(t){if(Array.isArray(t))return j2(t)}function j2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var AF=function(e){return e&&e.x===+e.x&&e.y===+e.y},Pqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){AF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),AF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xf=function(e,r){var n=Pqe(e);r&&(n=[n.reduce(function(s,i){return[].concat(SF(s),SF(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Dqe=function(e,r,n){var a=xf(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(xf(r.reverse(),n).slice(1))},Oqe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=Sqe(e,Cqe);if(!r||!r.length)return null;var l=Re("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=Dqe(r,a,s);return H.createElement("g",{className:l},H.createElement("path",cc({},Ge(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?H.createElement("path",cc({},Ge(i,!0),{fill:"none",d:xf(r,s)})):null,c?H.createElement("path",cc({},Ge(i,!0),{fill:"none",d:xf(a,s)})):null)}var d=xf(r,s);return H.createElement("path",cc({},Ge(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w2.apply(this,arguments)}var rP=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=Re("recharts-dot",s);return r===+r&&n===+n&&a===+a?w.createElement("circle",w2({},Ge(e,!1),i0(e),{className:i,cx:r,cy:n,r:a})):null};function $m(t){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$m(t)}var _qe=["x","y","top","left","width","height","className"];function N2(){return N2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N2.apply(this,arguments)}function IF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(r),!0).forEach(function(n){Rqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rqe(t,e,r){return e=Mqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mqe(t){var e=Lqe(t,"string");return $m(e)=="symbol"?e:e+""}function Lqe(t,e){if($m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fqe(t,e){if(t==null)return{};var r=Bqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qqe=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},Vqe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,p=m===void 0?0:m,g=e.className,y=Fqe(e,_qe),b=$qe({x:n,y:s,top:l,left:u,width:f,height:p},y);return!je(n)||!je(s)||!je(f)||!je(p)||!je(l)||!je(u)?null:H.createElement("path",N2({},Ge(b,!0),{className:Re("recharts-cross",g),d:qqe(n,s,f,p,l,u)}))},Uqe=Rw,zqe=Zz,Wqe=ai;function Hqe(t,e){return t&&t.length?Uqe(t,Wqe(e),zqe):void 0}var Gqe=Hqe;const Yqe=it(Gqe);var Kqe=Rw,Jqe=ai,Xqe=Qz;function Zqe(t,e){return t&&t.length?Kqe(t,Jqe(e),Xqe):void 0}var Qqe=Zqe;const e6e=it(Qqe);var t6e=["cx","cy","angle","ticks","axisLine"],r6e=["ticks","tick","angle","tickFormatter","stroke"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){qw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TF(t,e){if(t==null)return{};var r=n6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function n6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M9(n.key),n)}}function s6e(t,e,r){return e&&EF(t.prototype,e),r&&EF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o6e(t,e,r){return e=B0(e),i6e(t,R9()?Reflect.construct(e,r||[],B0(t).constructor):e.apply(t,r))}function i6e(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l6e(t)}function l6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R9=function(){return!!t})()}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B0(t)}function c6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C2(t,e)}function C2(t,e){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C2(t,e)}function qw(t,e,r){return e=M9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M9(t){var e=u6e(t,"string");return cu(e)=="symbol"?e:e+""}function u6e(t,e){if(cu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vw=function(t){function e(){return a6e(this,e),o6e(this,e,arguments)}return c6e(e,t),s6e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return It(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=Yqe(l,function(d){return d.coordinate||0}),u=e6e(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=TF(n,t6e),d=l.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),f=It(a,s,d[0],i),m=It(a,s,d[1],i),p=gi(gi(gi({},Ge(u,!1)),{},{fill:"none"},Ge(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return H.createElement("line",vf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=TF(a,r6e),f=this.getTickTextAnchor(),m=Ge(d,!1),p=Ge(i,!1),g=s.map(function(y,b){var h=n.getTickValueCoord(y),x=gi(gi(gi(gi({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(h.x,", ").concat(h.y,")")},m),{},{stroke:"none",fill:u},p),{},{index:b},h),{},{payload:y});return H.createElement(Yt,vf({className:Re("recharts-polar-radius-axis-tick",w9(i)),key:"tick-".concat(y.coordinate)},vw(n.props,y,b)),e.renderTickItem(i,x,c?c(y.value,b):y.value))});return H.createElement(Yt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:H.createElement(Yt,{className:Re("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Ar.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return H.isValidElement(n)?i=H.cloneElement(n,a):Ye(n)?i=n(a):i=H.createElement(ru,vf({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(w.PureComponent);qw(Vw,"displayName","PolarRadiusAxis");qw(Vw,"axisType","radiusAxis");qw(Vw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function Ii(){return Ii=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ii.apply(this,arguments)}function PF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(r),!0).forEach(function(n){Uw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,F9(n.key),n)}}function f6e(t,e,r){return e&&DF(t.prototype,e),r&&DF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m6e(t,e,r){return e=q0(e),p6e(t,L9()?Reflect.construct(e,r||[],q0(t).constructor):e.apply(t,r))}function p6e(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h6e(t)}function h6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q0(t)}function g6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S2(t,e)}function S2(t,e){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},S2(t,e)}function Uw(t,e,r){return e=F9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F9(t){var e=y6e(t,"string");return uu(e)=="symbol"?e:e+""}function y6e(t,e){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b6e=Math.PI/180,OF=1e-5,zw=function(t){function e(){return d6e(this,e),m6e(this,e,arguments)}return g6e(e,t),f6e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=It(s,i,l,n.coordinate),m=It(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*b6e),i;return s>OF?i=a==="outer"?"start":"end":s<-OF?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=yi(yi({},Ge(this.props,!1)),{},{fill:"none"},Ge(l,!1));if(c==="circle")return H.createElement(rP,Ii({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return It(a,s,i,m.coordinate)});return H.createElement(Oqe,Ii({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ge(this.props,!1),f=Ge(i,!1),m=yi(yi({},d),{},{fill:"none"},Ge(l,!1)),p=s.map(function(g,y){var b=n.getTickLineCoord(g),h=n.getTickTextAnchor(g),x=yi(yi(yi({textAnchor:h},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:g,x:b.x2,y:b.y2});return H.createElement(Yt,Ii({className:Re("recharts-polar-angle-axis-tick",w9(i)),key:"tick-".concat(g.coordinate)},vw(n.props,g,y)),l&&H.createElement("line",Ii({className:"recharts-polar-angle-axis-tick-line"},m,b)),i&&e.renderTickItem(i,x,c?c(g.value,y):g.value))});return H.createElement(Yt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:H.createElement(Yt,{className:Re("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return H.isValidElement(n)?i=H.cloneElement(n,a):Ye(n)?i=n(a):i=H.createElement(ru,Ii({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(w.PureComponent);Uw(zw,"displayName","PolarAngleAxis");Uw(zw,"axisType","angleAxis");Uw(zw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var x6e=K7,v6e=x6e(Object.getPrototypeOf,Object),j6e=v6e,w6e=Ws,N6e=j6e,C6e=Hs,S6e="[object Object]",A6e=Function.prototype,I6e=Object.prototype,B9=A6e.toString,k6e=I6e.hasOwnProperty,T6e=B9.call(Object);function E6e(t){if(!C6e(t)||w6e(t)!=S6e)return!1;var e=N6e(t);if(e===null)return!0;var r=k6e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&B9.call(r)==T6e}var P6e=E6e;const D6e=it(P6e);var O6e=Ws,_6e=Hs,$6e="[object Boolean]";function R6e(t){return t===!0||t===!1||_6e(t)&&O6e(t)==$6e}var M6e=R6e;const L6e=it(M6e);function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V0.apply(this,arguments)}function F6e(t,e){return U6e(t)||V6e(t,e)||q6e(t,e)||B6e()}function B6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q6e(t,e){if(t){if(typeof t=="string")return _F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _F(t,e)}}function _F(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function U6e(t){if(Array.isArray(t))return t}function $F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(r),!0).forEach(function(n){z6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z6e(t,e,r){return e=W6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W6e(t){var e=H6e(t,"string");return Rm(e)=="symbol"?e:e+""}function H6e(t,e){if(Rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MF=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},G6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Y6e=function(e){var r=RF(RF({},G6e),e),n=w.useRef(),a=w.useState(-1),s=F6e(a,2),i=s[0],l=s[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,p=r.className,g=r.animationEasing,y=r.animationDuration,b=r.animationBegin,h=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var x=Re("recharts-trapezoid",p);return h?H.createElement(Wo,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:y,animationEasing:g,isActive:h},function(v){var C=v.upperWidth,j=v.lowerWidth,N=v.height,S=v.x,A=v.y;return H.createElement(Wo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:g},H.createElement("path",V0({},Ge(r,!0),{className:x,d:MF(S,A,C,j,N),ref:n})))}):H.createElement("g",null,H.createElement("path",V0({},Ge(r,!0),{className:x,d:MF(c,u,d,f,m)})))},K6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function J6e(t,e){if(t==null)return{};var r=X6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){Z6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z6e(t,e,r){return e=Q6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q6e(t){var e=eVe(t,"string");return Mm(e)=="symbol"?e:e+""}function eVe(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tVe(t,e){return U0(U0({},e),t)}function rVe(t,e){return t==="symbols"}function FF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return H.createElement(tP,r);case"trapezoid":return H.createElement(Y6e,r);case"sector":return H.createElement(S9,r);case"symbols":if(rVe(e))return H.createElement(yE,r);break;default:return null}}function nVe(t){return w.isValidElement(t)?t.props:t}function aVe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?tVe:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=J6e(t,K6e),u;if(w.isValidElement(e))u=w.cloneElement(e,U0(U0({},c),nVe(e)));else if(Ye(e))u=e(c);else if(D6e(e)&&!L6e(e)){var d=a(e,c);u=H.createElement(FF,{shapeType:r,elementProps:d})}else{var f=c;u=H.createElement(FF,{shapeType:r,elementProps:f})}return l?H.createElement(Yt,{className:i},u):u}function Ww(t,e){return e!=null&&"trapezoids"in t.props}function Hw(t,e){return e!=null&&"sectors"in t.props}function Lm(t,e){return e!=null&&"points"in t.props}function sVe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function oVe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function iVe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function lVe(t,e){var r;return Ww(t,e)?r=sVe:Hw(t,e)?r=oVe:Lm(t,e)&&(r=iVe),r}function cVe(t,e){var r;return Ww(t,e)?r="trapezoids":Hw(t,e)?r="sectors":Lm(t,e)&&(r="points"),r}function uVe(t,e){if(Ww(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Hw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Lm(t,e)?e.payload:{}}function dVe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=cVe(r,e),s=uVe(r,e),i=n.filter(function(c,u){var d=JE(s,c),f=r.props[a].filter(function(g){var y=lVe(r,e);return y(g,e)}),m=r.props[a].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=n.indexOf(i[i.length-1]);return l}var Yb;function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uc.apply(this,arguments)}function BF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(r),!0).forEach(function(n){Gn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,V9(n.key),n)}}function mVe(t,e,r){return e&&qF(t.prototype,e),r&&qF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pVe(t,e,r){return e=z0(e),hVe(t,q9()?Reflect.construct(e,r||[],z0(t).constructor):e.apply(t,r))}function hVe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gVe(t)}function gVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q9=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z0(t)}function yVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A2(t,e)}function A2(t,e){return A2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A2(t,e)}function Gn(t,e,r){return e=V9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V9(t){var e=bVe(t,"string");return du(e)=="symbol"?e:e+""}function bVe(t,e){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aa=function(t){function e(r){var n;return fVe(this,e),n=pVe(this,e,[r]),Gn(n,"pieRef",null),Gn(n,"sectorRefs",[]),Gn(n,"id",xw("recharts-pie-")),Gn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(a)&&a()}),Gn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yVe(e,t),mVe(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Ge(this.props,!1),f=Ge(i,!1),m=Ge(l,!1),p=i&&i.offsetRadius||20,g=n.map(function(y,b){var h=(y.startAngle+y.endAngle)/2,x=It(y.cx,y.cy,y.outerRadius+p,h),v=wt(wt(wt(wt({},d),y),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(x.x,y.cx)},x),C=wt(wt(wt(wt({},d),y),{},{fill:"none",stroke:y.fill},m),{},{index:b,points:[It(y.cx,y.cy,y.outerRadius,h),x]}),j=c;return Ze(c)&&Ze(u)?j="value":Ze(c)&&(j=u),H.createElement(Yt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(i,v,Cn(y,j)))});return H.createElement(Yt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,p=f?i:m,g=wt(wt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return H.createElement(Yt,uc({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},vw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),H.createElement(aVe,uc({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,p=f.prevIsAnimationActive;return H.createElement(Wo,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,b=[],h=s&&s[0],x=h.startAngle;return s.forEach(function(v,C){var j=m&&m[C],N=C>0?va(v,"paddingAngle",0):0;if(j){var S=OR(j.endAngle-j.startAngle,v.endAngle-v.startAngle),A=wt(wt({},v),{},{startAngle:x+N,endAngle:x+S(y)+N});b.push(A),x=A.endAngle}else{var k=v.endAngle,T=v.startAngle,E=OR(0,k-T),$=E(y),L=wt(wt({},v),{},{startAngle:x+N,endAngle:x+$+N});b.push(L),x=L.endAngle}}),H.createElement(Yt,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!JE(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!i||!i.length||!je(u)||!je(d)||!je(f)||!je(m))return null;var y=Re("recharts-pie",l);return H.createElement(Yt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(h){n.pieRef=h}},this.renderSectors(),c&&this.renderLabels(i),Ar.renderCallByParent(this.props,null,!1),(!p||g)&&ol.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(H.isValidElement(n))return H.cloneElement(n,a);if(Ye(n))return n(a);var i=Re("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return H.createElement(d2,uc({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(H.isValidElement(n))return H.cloneElement(n,a);var i=s;if(Ye(n)&&(i=n(a),H.isValidElement(i)))return i;var l=Re("recharts-pie-label-text",typeof n!="boolean"&&!Ye(n)?n.className:"");return H.createElement(ru,uc({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(w.PureComponent);Yb=aa;Gn(aa,"displayName","Pie");Gn(aa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!kw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Gn(aa,"parseDeltaAngle",function(t,e){var r=Kn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Gn(aa,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ge(t,!1),a=Ha(r,Fu);return e&&e.length?e.map(function(s,i){return wt(wt(wt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return wt(wt({},n),s.props)}):[]});Gn(aa,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=j9(a,s),l=n+sn(t.cx,a,a/2),c=r+sn(t.cy,s,s/2),u=sn(t.innerRadius,i,0),d=sn(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Gn(aa,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?wt(wt({},e.type.defaultProps),e.props):e.props,a=Yb.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,p=Math.abs(n.minAngle),g=Yb.parseCoordinateOfPie(n,r),y=Yb.parseDeltaAngle(i,l),b=Math.abs(y),h=u;Ze(u)&&Ze(f)?(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),h="value"):Ze(u)&&(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),h=f);var x=a.filter(function(A){return Cn(A,h,0)!==0}).length,v=(b>=360?x:x-1)*c,C=b-x*p-v,j=a.reduce(function(A,k){var T=Cn(k,h,0);return A+(je(T)?T:0)},0),N;if(j>0){var S;N=a.map(function(A,k){var T=Cn(A,h,0),E=Cn(A,d,k),$=(je(T)?T:0)/j,L;k?L=S.endAngle+Kn(y)*c*(T!==0?1:0):L=i;var M=L+Kn(y)*((T!==0?p:0)+$*C),D=(L+M)/2,P=(g.innerRadius+g.outerRadius)/2,F=[{name:E,value:T,payload:A,dataKey:h,type:m}],O=It(g.cx,g.cy,P,D);return S=wt(wt(wt({percent:$,cornerRadius:s,name:E,tooltipPayload:F,midAngle:D,middleRadius:P,tooltipPosition:O},A),g),{},{value:Cn(A,h),startAngle:L,endAngle:M,payload:A,paddingAngle:Kn(y)*c}),S})}return wt(wt({},g),{},{sectors:N,data:a})});var xVe=Math.ceil,vVe=Math.max;function jVe(t,e,r,n){for(var a=-1,s=vVe(xVe((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var wVe=jVe,NVe=mz,VF=1/0,CVe=17976931348623157e292;function SVe(t){if(!t)return t===0?t:0;if(t=NVe(t),t===VF||t===-VF){var e=t<0?-1:1;return e*CVe}return t===t?t:0}var AVe=SVe,IVe=wVe,kVe=Iw,pC=AVe;function TVe(t){return function(e,r,n){return n&&typeof n!="number"&&kVe(e,r,n)&&(r=n=void 0),e=pC(e),r===void 0?(r=e,e=0):r=pC(r),n=n===void 0?e<r?1:-1:pC(n),IVe(e,r,n,t)}}var EVe=TVe,PVe=EVe,DVe=PVe(),OVe=DVe;const W0=it(OVe);function Fm(t){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fm(t)}function UF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UF(Object(r),!0).forEach(function(n){U9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U9(t,e,r){return e=_Ve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ve(t){var e=$Ve(t,"string");return Fm(e)=="symbol"?e:e+""}function $Ve(t,e){if(Fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RVe=["Webkit","Moz","O","ms"],MVe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=RVe.reduce(function(s,i){return zF(zF({},s),{},U9({},i+n,r))},{});return a[e]=r,a};function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){jn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W9(n.key),n)}}function FVe(t,e,r){return e&&HF(t.prototype,e),r&&HF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BVe(t,e,r){return e=G0(e),qVe(t,z9()?Reflect.construct(e,r||[],G0(t).constructor):e.apply(t,r))}function qVe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VVe(t)}function VVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G0(t)}function UVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I2(t,e)}function I2(t,e){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I2(t,e)}function jn(t,e,r){return e=W9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W9(t){var e=zVe(t,"string");return fu(e)=="symbol"?e:e+""}function zVe(t,e){if(fu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WVe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=gf().domain(W0(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},GF=function(e){return e.changedTouches&&!!e.changedTouches.length},mu=function(t){function e(r){var n;return LVe(this,e),n=BVe(this,e,[r]),jn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),jn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),jn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),jn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jn(n,"handleSlideDragStart",function(a){var s=GF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return UVe(e,t),FVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),p=e.getIndexInRange(i,f),g=e.getIndexInRange(i,m);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=Cn(s[n],l,n);return Ye(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,g=c.onChange,y=n.pageX-s;y>0?y=Math.min(y,u+d-f-l,u+d-f-i):y<0&&(y=Math.max(y,u-i,u-l));var b=this.getIndex({startX:i+y,endX:l+y});(b.startIndex!==m||b.endIndex!==p)&&g&&g(b),this.setState({startX:i+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=GF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,g=d.onChange,y=d.gap,b=d.data,h={startX:this.state.startX,endX:this.state.endX},x=n.pageX-s;x>0?x=Math.min(x,f+m-p-u):x<0&&(x=Math.max(x,f-u)),h[i]=u+x;var v=this.getIndex(h),C=v.startIndex,j=v.endIndex,N=function(){var A=b.length-1;return i==="startX"&&(l>c?C%y===0:j%y===0)||l<c&&j===A||i==="endX"&&(l>c?j%y===0:C%y===0)||l>c&&j===A};this.setState(jn(jn({},i,u+x),"brushMoveStartX",n.pageX),function(){g&&N()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var p=l[m];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(jn({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return H.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?H.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,g=c.data,y=c.startIndex,b=c.endIndex,h=Math.max(n,this.props.x),x=hC(hC({},Ge(this.props,!1)),{},{x:h,y:u,width:d,height:f}),v=p||"Min value: ".concat((s=g[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=g[b])===null||i===void 0?void 0:i.name);return H.createElement(Yt,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,x))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,p=5,g={pointerEvents:"none",fill:u};return H.createElement(Yt,{className:"recharts-brush-texts"},H.createElement(ru,H0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:i+l/2},g),this.getTextOfTick(a)),H.createElement(ru,H0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:i+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,p=m.startX,g=m.endX,y=m.isTextActive,b=m.isSlideMoving,h=m.isTravellerMoving,x=m.isTravellerFocused;if(!a||!a.length||!je(l)||!je(c)||!je(u)||!je(d)||u<=0||d<=0)return null;var v=Re("recharts-brush",s),C=H.Children.count(i)===1,j=MVe("userSelect","none");return H.createElement(Yt,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(y||b||h||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),H.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return H.isValidElement(n)?s=H.cloneElement(n,a):Ye(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return hC({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?WVe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(w.PureComponent);jn(mu,"displayName","Brush");jn(mu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HVe=SE;function GVe(t,e){var r;return HVe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var YVe=GVe,KVe=q7,JVe=ai,XVe=YVe,ZVe=xn,QVe=Iw;function eUe(t,e,r){var n=ZVe(t)?KVe:XVe;return r&&QVe(t,e,r)&&(e=void 0),n(t,JVe(e))}var tUe=eUe;const rUe=it(tUe);var Ka=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},YF=lz;function nUe(t,e,r){e=="__proto__"&&YF?YF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var aUe=nUe,sUe=aUe,oUe=oz,iUe=ai;function lUe(t,e){var r={};return e=iUe(e),oUe(t,function(n,a,s){sUe(r,a,e(n,a,s))}),r}var cUe=lUe;const uUe=it(cUe);function dUe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var fUe=dUe,mUe=SE;function pUe(t,e){var r=!0;return mUe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var hUe=pUe,gUe=fUe,yUe=hUe,bUe=ai,xUe=xn,vUe=Iw;function jUe(t,e,r){var n=xUe(t)?gUe:yUe;return r&&vUe(t,e,r)&&(e=void 0),n(t,bUe(e))}var wUe=jUe;const NUe=it(wUe);function Bm(t){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bm(t)}function CUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H9(n.key),n)}}function SUe(t,e,r){return e&&KF(t.prototype,e),r&&KF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Th(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JF(Object(r),!0).forEach(function(n){nP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nP(t,e,r){return e=H9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H9(t){var e=AUe(t,"string");return Bm(e)=="symbol"?e:e+""}function AUe(t,e){if(Bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G9=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},IUe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return G9({x:r,y:n},{x:a,y:s})},Y9=function(){function t(e){CUe(this,t),this.scale=e}return SUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();nP(Y9,"EPS",1e-4);var aP=function(e){var r=Object.keys(e).reduce(function(n,a){return Th(Th({},n),{},nP({},a,Y9.create(e[a])))},{});return Th(Th({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return uUe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return NUe(a,function(s,i){return r[i].isInRange(s)})}})},kUe=oAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),K9=w.createContext(void 0),J9=w.createContext(void 0),X9=w.createContext(void 0),TUe=w.createContext({}),Z9=w.createContext(void 0),EUe=w.createContext(0),PUe=w.createContext(0),XF=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=kUe(s);return H.createElement(K9.Provider,{value:n},H.createElement(J9.Provider,{value:a},H.createElement(TUe.Provider,{value:s},H.createElement(X9.Provider,{value:d},H.createElement(Z9.Provider,{value:i},H.createElement(EUe.Provider,{value:u},H.createElement(PUe.Provider,{value:c},l)))))))},DUe=function(){return w.useContext(Z9)},OUe=function(e){var r=w.useContext(K9);r==null&&ou();var n=r[e];return n==null&&ou(),n},_Ue=function(e){var r=w.useContext(J9);r==null&&ou();var n=r[e];return n==null&&ou(),n},$Ue=function(){var e=w.useContext(X9);return e};function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function RUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e8(n.key),n)}}function LUe(t,e,r){return e&&MUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FUe(t,e,r){return e=Y0(e),BUe(t,Q9()?Reflect.construct(e,r||[],Y0(t).constructor):e.apply(t,r))}function BUe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qUe(t)}function qUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q9=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y0(t)}function VUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k2(t,e)}function k2(t,e){return k2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k2(t,e)}function ZF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(r),!0).forEach(function(n){sP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sP(t,e,r){return e=e8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e8(t){var e=UUe(t,"string");return pu(e)=="symbol"?e:e+""}function UUe(t,e){if(pu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zUe(t,e){return YUe(t)||GUe(t,e)||HUe(t,e)||WUe()}function WUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HUe(t,e){if(t){if(typeof t=="string")return e5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e5(t,e)}}function e5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function YUe(t){if(Array.isArray(t))return t}function T2(){return T2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T2.apply(this,arguments)}var KUe=function(e,r){var n;return H.isValidElement(e)?n=H.cloneElement(e,r):Ye(e)?n=e(r):n=H.createElement("line",T2({},r,{className:"recharts-reference-line-line"})),n},JUe=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,p=s.height;if(n){var g=u.y,y=e.y.apply(g,{position:i});if(Ka(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+m,y},{x:d,y}];return c==="left"?b.reverse():b}if(r){var h=u.x,x=e.x.apply(h,{position:i});if(Ka(u,"discard")&&!e.x.isInRange(x))return null;var v=[{x,y:f+p},{x,y:f}];return l==="top"?v.reverse():v}if(a){var C=u.segment,j=C.map(function(N){return e.apply(N,{position:i})});return Ka(u,"discard")&&rUe(j,function(N){return!e.isInRange(N)})?null:j}return null};function XUe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=DUe(),d=OUe(a),f=_Ue(s),m=$Ue();if(!u||!m)return null;Ss(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=aP({x:d.scale,y:f.scale}),g=pr(e),y=pr(r),b=n&&n.length===2,h=JUe(p,g,y,b,m,t.position,d.orientation,f.orientation,t);if(!h)return null;var x=zUe(h,2),v=x[0],C=v.x,j=v.y,N=x[1],S=N.x,A=N.y,k=Ka(t,"hidden")?"url(#".concat(u,")"):void 0,T=QF(QF({clipPath:k},Ge(t,!0)),{},{x1:C,y1:j,x2:S,y2:A});return H.createElement(Yt,{className:Re("recharts-reference-line",l)},KUe(i,T),Ar.renderCallByParent(t,IUe({x1:C,y1:j,x2:S,y2:A})))}var oP=function(t){function e(){return RUe(this,e),FUe(this,e,arguments)}return VUe(e,t),LUe(e,[{key:"render",value:function(){return H.createElement(XUe,this.props)}}])}(H.Component);sP(oP,"displayName","ReferenceLine");sP(oP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E2.apply(this,arguments)}function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function t5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function r5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(r),!0).forEach(function(n){Gw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r8(n.key),n)}}function e7e(t,e,r){return e&&QUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t7e(t,e,r){return e=K0(e),r7e(t,t8()?Reflect.construct(e,r||[],K0(t).constructor):e.apply(t,r))}function r7e(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n7e(t)}function n7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K0(t)}function a7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P2(t,e)}function P2(t,e){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P2(t,e)}function Gw(t,e,r){return e=r8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r8(t){var e=s7e(t,"string");return hu(e)=="symbol"?e:e+""}function s7e(t,e){if(hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o7e=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=aP({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Ka(e,"discard")&&!i.isInRange(l)?null:l},Yw=function(t){function e(){return ZUe(this,e),t7e(this,e,arguments)}return a7e(e,t),e7e(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=pr(a),d=pr(s);if(Ss(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=o7e(this.props);if(!f)return null;var m=f.x,p=f.y,g=this.props,y=g.shape,b=g.className,h=Ka(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=r5(r5({clipPath:h},Ge(this.props,!0)),{},{cx:m,cy:p});return H.createElement(Yt,{className:Re("recharts-reference-dot",b)},e.renderDot(y,x),Ar.renderCallByParent(this.props,{x:m-i,y:p-i,width:2*i,height:2*i}))}}])}(H.Component);Gw(Yw,"displayName","ReferenceDot");Gw(Yw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gw(Yw,"renderDot",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):Ye(t)?r=t(e):r=H.createElement(rP,E2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D2.apply(this,arguments)}function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function n5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n5(Object(r),!0).forEach(function(n){Kw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a8(n.key),n)}}function c7e(t,e,r){return e&&l7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function u7e(t,e,r){return e=J0(e),d7e(t,n8()?Reflect.construct(e,r||[],J0(t).constructor):e.apply(t,r))}function d7e(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f7e(t)}function f7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n8=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J0(t)}function m7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O2(t,e)}function O2(t,e){return O2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O2(t,e)}function Kw(t,e,r){return e=a8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a8(t){var e=p7e(t,"string");return gu(e)=="symbol"?e:e+""}function p7e(t,e){if(gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var h7e=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=aP({x:d.scale,y:f.scale}),p={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},g={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Ka(s,"discard")&&(!m.isInRange(p)||!m.isInRange(g))?null:G9(p,g)},Jw=function(t){function e(){return i7e(this,e),u7e(this,e,arguments)}return m7e(e,t),c7e(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ss(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=pr(a),m=pr(s),p=pr(i),g=pr(l),y=this.props.shape;if(!f&&!m&&!p&&!g&&!y)return null;var b=h7e(f,m,p,g,this.props);if(!b&&!y)return null;var h=Ka(this.props,"hidden")?"url(#".concat(d,")"):void 0;return H.createElement(Yt,{className:Re("recharts-reference-area",c)},e.renderRect(y,a5(a5({clipPath:h},Ge(this.props,!0)),b)),Ar.renderCallByParent(this.props,b))}}])}(H.Component);Kw(Jw,"displayName","ReferenceArea");Kw(Jw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Kw(Jw,"renderRect",function(t,e){var r;return H.isValidElement(t)?r=H.cloneElement(t,e):Ye(t)?r=t(e):r=H.createElement(tP,D2({},e,{className:"recharts-reference-area-rect"})),r});function s5(t){return x7e(t)||b7e(t)||y7e(t)||g7e()}function g7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y7e(t,e){if(t){if(typeof t=="string")return _2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _2(t,e)}}function b7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x7e(t){if(Array.isArray(t))return _2(t)}function _2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $2=function(e,r,n,a,s){var i=Ha(e,oP),l=Ha(e,Yw),c=[].concat(s5(i),s5(l)),u=Ha(e,Jw),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(y,b){if(b.props[d]===n&&Ka(b.props,"extendDomain")&&je(b.props[f])){var h=b.props[f];return[Math.min(y[0],h),Math.max(y[1],h)]}return y},m)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");m=u.reduce(function(y,b){if(b.props[d]===n&&Ka(b.props,"extendDomain")&&je(b.props[p])&&je(b.props[g])){var h=b.props[p],x=b.props[g];return[Math.min(y[0],h,x),Math.max(y[1],h,x)]}return y},m)}return s&&s.length&&(m=s.reduce(function(y,b){return je(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},m)),m},s8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,m),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,g=new Array(p);m<p;m++)g[m]=f[m].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,g){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],h=arguments.length,x,v;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),h){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,m),!0;case 5:return b.fn.call(b.context,d,f,m,p),!0;case 6:return b.fn.call(b.context,d,f,m,p,g),!0}for(v=1,x=new Array(h-1);v<h;v++)x[v-1]=arguments[v];b.fn.apply(b.context,x)}else{var C=b.length,j;for(v=0;v<C;v++)switch(b[v].once&&this.removeListener(u,b[v].fn,void 0,!0),h){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,d);break;case 3:b[v].fn.call(b[v].context,d,f);break;case 4:b[v].fn.call(b[v].context,d,f,m);break;default:if(!x)for(j=1,x=new Array(h-1);j<h;j++)x[j-1]=arguments[j];b[v].fn.apply(b[v].context,x)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&i(this,p);else{for(var y=0,b=[],h=g.length;y<h;y++)(g[y].fn!==d||m&&!g[y].once||f&&g[y].context!==f)&&b.push(g[y]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(s8);var v7e=s8.exports;const j7e=it(v7e);var gC=new j7e,yC="recharts.syncMouseEvents";function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function w7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o8(n.key),n)}}function C7e(t,e,r){return e&&N7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bC(t,e,r){return e=o8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o8(t){var e=S7e(t,"string");return qm(e)=="symbol"?e:e+""}function S7e(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A7e=function(){function t(){w7e(this,t),bC(this,"activeIndex",0),bC(this,"coordinateList",[]),bC(this,"layout","horizontal")}return C7e(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function I7e(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&je(n)&&je(a))return!0}return!1}function k7e(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function i8(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=It(e,r,n,a),l=It(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function T7e(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=It(l,c,u,f),p=It(l,c,d,f);n=m.x,a=m.y,s=p.x,i=p.y}else return i8(e);return[{x:n,y:a},{x:s,y:i}]}function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function o5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Eh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(r),!0).forEach(function(n){E7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E7e(t,e,r){return e=P7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P7e(t){var e=D7e(t,"string");return Vm(e)=="symbol"?e:e+""}function D7e(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O7e(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var g,y=d2;if(m==="ScatterChart")g=i,y=Vqe;else if(m==="BarChart")g=k7e(f,i,c,d),y=tP;else if(f==="radial"){var b=i8(i),h=b.cx,x=b.cy,v=b.radius,C=b.startAngle,j=b.endAngle;g={cx:h,cy:x,startAngle:C,endAngle:j,innerRadius:v,outerRadius:v},y=S9}else g={points:T7e(f,i,c)},y=d2;var N=Eh(Eh(Eh(Eh({stroke:"#ccc",pointerEvents:"none"},c),g),Ge(p,!1)),{},{payload:l,payloadIndex:u,className:Re("recharts-tooltip-cursor",p.className)});return w.isValidElement(p)?w.cloneElement(p,N):w.createElement(y,N)}var _7e=["item"],$7e=["children","className","width","height","style","compact","title","desc"];function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dc.apply(this,arguments)}function i5(t,e){return L7e(t)||M7e(t,e)||c8(t,e)||R7e()}function R7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function L7e(t){if(Array.isArray(t))return t}function l5(t,e){if(t==null)return{};var r=F7e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q7e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u8(n.key),n)}}function V7e(t,e,r){return e&&q7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function U7e(t,e,r){return e=X0(e),z7e(t,l8()?Reflect.construct(e,r||[],X0(t).constructor):e.apply(t,r))}function z7e(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W7e(t)}function W7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l8=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X0(t)}function H7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R2(t,e)}function R2(t,e){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R2(t,e)}function bu(t){return K7e(t)||Y7e(t)||c8(t)||G7e()}function G7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c8(t,e){if(t){if(typeof t=="string")return M2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M2(t,e)}}function Y7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K7e(t){if(Array.isArray(t))return M2(t)}function M2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c5(Object(r),!0).forEach(function(n){Oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oe(t,e,r){return e=u8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u8(t){var e=J7e(t,"string");return yu(e)=="symbol"?e:e+""}function J7e(t,e){if(yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X7e={xAxis:["bottom","top"],yAxis:["left","right"]},Z7e={width:"100%",height:"100%"},d8={x:0,y:0};function Ph(t){return t}var Q7e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},eze=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return ne(ne(ne({},a),It(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return ne(ne(ne({},a),It(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return d8},Xw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(bu(l),bu(u)):l},[]);return i.length>0?i:e&&e.length&&je(a)&&je(s)?e.slice(a,s+1):[]};function f8(t){return t==="number"?[0,"auto"]:void 0}var L2=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Xw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?l:f;m=yI(p,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(bu(c),[I4e(u,m)]):c},[])},u5=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=Q7e(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=d4e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=L2(e,r,d,f),p=eze(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},tze=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,p=b9(d,s);return n.reduce(function(g,y){var b,h=y.type.defaultProps!==void 0?ne(ne({},y.type.defaultProps),y.props):y.props,x=h.type,v=h.dataKey,C=h.allowDataOverflow,j=h.allowDuplicatedCategory,N=h.scale,S=h.ticks,A=h.includeHidden,k=h[i];if(g[k])return g;var T=Xw(e.data,{graphicalItems:a.filter(function(G){var W,ae=i in G.props?G.props[i]:(W=G.type.defaultProps)===null||W===void 0?void 0:W[i];return ae===k}),dataStartIndex:c,dataEndIndex:u}),E=T.length,$,L,M;I7e(h.domain,C,x)&&($=s2(h.domain,null,C),p&&(x==="number"||N!=="auto")&&(M=yf(T,v,"category")));var D=f8(x);if(!$||$.length===0){var P,F=(P=h.domain)!==null&&P!==void 0?P:D;if(v){if($=yf(T,v,x),x==="category"&&p){var O=tIe($);j&&O?(L=$,$=W0(0,E)):j||($=zL(F,$,y).reduce(function(G,W){return G.indexOf(W)>=0?G:[].concat(bu(G),[W])},[]))}else if(x==="category")j?$=$.filter(function(G){return G!==""&&!Ze(G)}):$=zL(F,$,y).reduce(function(G,W){return G.indexOf(W)>=0||W===""||Ze(W)?G:[].concat(bu(G),[W])},[]);else if(x==="number"){var R=g4e(T,a.filter(function(G){var W,ae,be=i in G.props?G.props[i]:(W=G.type.defaultProps)===null||W===void 0?void 0:W[i],se="hide"in G.props?G.props.hide:(ae=G.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return be===k&&(A||!se)}),v,s,d);R&&($=R)}p&&(x==="number"||N!=="auto")&&(M=yf(T,v,"category"))}else p?$=W0(0,E):l&&l[k]&&l[k].hasStack&&x==="number"?$=m==="expand"?[0,1]:x9(l[k].stackGroups,c,u):$=y9(T,a.filter(function(G){var W=i in G.props?G.props[i]:G.type.defaultProps[i],ae="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return W===k&&(A||!ae)}),x,d,!0);if(x==="number")$=$2(f,$,k,s,S),F&&($=s2(F,$,C));else if(x==="category"&&F){var B=F,U=$.every(function(G){return B.indexOf(G)>=0});U&&($=B)}}return ne(ne({},g),{},Oe({},k,ne(ne({},h),{},{axisType:s,domain:$,categoricalDomain:M,duplicateDomain:L,originalDomain:(b=h.domain)!==null&&b!==void 0?b:D,isCategorical:p,layout:d})))},{})},rze=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Xw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,g=b9(d,s),y=-1;return n.reduce(function(b,h){var x=h.type.defaultProps!==void 0?ne(ne({},h.type.defaultProps),h.props):h.props,v=x[i],C=f8("number");if(!b[v]){y++;var j;return g?j=W0(0,p):l&&l[v]&&l[v].hasStack?(j=x9(l[v].stackGroups,c,u),j=$2(f,j,v,s)):(j=s2(C,y9(m,n.filter(function(N){var S,A,k=i in N.props?N.props[i]:(S=N.type.defaultProps)===null||S===void 0?void 0:S[i],T="hide"in N.props?N.props.hide:(A=N.type.defaultProps)===null||A===void 0?void 0:A.hide;return k===v&&!T}),"number",d),a.defaultProps.allowDataOverflow),j=$2(f,j,v,s)),ne(ne({},b),{},Oe({},v,ne(ne({axisType:s},a.defaultProps),{},{hide:!0,orientation:va(X7e,"".concat(s,".").concat(y%2),null),domain:j,originalDomain:C,isCategorical:g,layout:d})))}return b},{})},nze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=Ha(d,s),p={};return m&&m.length?p=tze(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(p=rze(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},aze=function(e){var r=Yl(e),n=Md(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:AE(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:o2(r,n)}},d5=function(e){var r=e.children,n=e.defaultShowTooltip,a=zn(r,mu),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},sze=function(e){return!e||!e.length?!1:e.some(function(r){var n=Cs(r&&r.type);return n&&n.indexOf("Bar")>=0})},f5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},oze=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},p=zn(f,mu),g=zn(f,Ga),y=Object.keys(c).reduce(function(j,N){var S=c[N],A=S.orientation;return!S.mirror&&!S.hide?ne(ne({},j),{},Oe({},A,j[A]+S.width)):j},{left:m.left||0,right:m.right||0}),b=Object.keys(i).reduce(function(j,N){var S=i[N],A=S.orientation;return!S.mirror&&!S.hide?ne(ne({},j),{},Oe({},A,va(j,"".concat(A))+S.height)):j},{top:m.top||0,bottom:m.bottom||0}),h=ne(ne({},b),y),x=h.bottom;p&&(h.bottom+=p.props.height||mu.defaultProps.height),g&&r&&(h=p4e(h,a,n,r));var v=u-h.left-h.right,C=d-h.top-h.bottom;return ne(ne({brushBottom:x},h),{},{width:Math.max(v,0),height:Math.max(C,0)})},ize=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},lze=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(h,x){var v=x.graphicalItems,C=x.stackGroups,j=x.offset,N=x.updateId,S=x.dataStartIndex,A=x.dataEndIndex,k=h.barSize,T=h.layout,E=h.barGap,$=h.barCategoryGap,L=h.maxBarSize,M=f5(T),D=M.numericAxisName,P=M.cateAxisName,F=sze(v),O=[];return v.forEach(function(R,B){var U=Xw(h.data,{graphicalItems:[R],dataStartIndex:S,dataEndIndex:A}),G=R.type.defaultProps!==void 0?ne(ne({},R.type.defaultProps),R.props):R.props,W=G.dataKey,ae=G.maxBarSize,be=G["".concat(D,"Id")],se=G["".concat(P,"Id")],J={},ue=c.reduce(function(Qr,Z){var xe=x["".concat(Z.axisType,"Map")],ee=G["".concat(Z.axisType,"Id")];xe&&xe[ee]||Z.axisType==="zAxis"||ou();var me=xe[ee];return ne(ne({},Qr),{},Oe(Oe({},Z.axisType,me),"".concat(Z.axisType,"Ticks"),Md(me)))},J),Q=ue[P],re=ue["".concat(P,"Ticks")],X=C&&C[be]&&C[be].hasStack&&S4e(R,C[be].stackGroups),Y=Cs(R.type).indexOf("Bar")>=0,pe=o2(Q,re),Ne=[],Ee=F&&f4e({barSize:k,stackGroups:C,totalSize:ize(ue,P)});if(Y){var He,ze,Vr=Ze(ae)?L:ae,Ur=(He=(ze=o2(Q,re,!0))!==null&&ze!==void 0?ze:Vr)!==null&&He!==void 0?He:0;Ne=m4e({barGap:E,barCategoryGap:$,bandSize:Ur!==pe?Ur:pe,sizeList:Ee[se],maxBarSize:Vr}),Ur!==pe&&(Ne=Ne.map(function(Qr){return ne(ne({},Qr),{},{position:ne(ne({},Qr.position),{},{offset:Qr.position.offset-Ur/2})})}))}var sa=R&&R.type&&R.type.getComposedData;sa&&O.push({props:ne(ne({},sa(ne(ne({},ue),{},{displayedData:U,props:h,dataKey:W,item:R,bandSize:pe,barPosition:Ne,offset:j,stackedData:X,layout:T,dataStartIndex:S,dataEndIndex:A}))),{},Oe(Oe(Oe({key:R.key||"item-".concat(B)},D,ue[D]),P,ue[P]),"animationId",N)),childIndex:fIe(R,h.children),item:R})}),O},p=function(h,x){var v=h.props,C=h.dataStartIndex,j=h.dataEndIndex,N=h.updateId;if(!LR({props:v}))return null;var S=v.children,A=v.layout,k=v.stackOffset,T=v.data,E=v.reverseStackOrder,$=f5(A),L=$.numericAxisName,M=$.cateAxisName,D=Ha(S,n),P=N4e(T,D,"".concat(L,"Id"),"".concat(M,"Id"),k,E),F=c.reduce(function(G,W){var ae="".concat(W.axisType,"Map");return ne(ne({},G),{},Oe({},ae,nze(v,ne(ne({},W),{},{graphicalItems:D,stackGroups:W.axisType===L&&P,dataStartIndex:C,dataEndIndex:j}))))},{}),O=oze(ne(ne({},F),{},{props:v,graphicalItems:D}),x==null?void 0:x.legendBBox);Object.keys(F).forEach(function(G){F[G]=d(v,F[G],O,G.replace("Map",""),r)});var R=F["".concat(M,"Map")],B=aze(R),U=m(v,ne(ne({},F),{},{dataStartIndex:C,dataEndIndex:j,updateId:N,graphicalItems:D,stackGroups:P,offset:O}));return ne(ne({formattedGraphicalItems:U,graphicalItems:D,offset:O,stackGroups:P},B),F)},g=function(b){function h(x){var v,C,j;return B7e(this,h),j=U7e(this,h,[x]),Oe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(j,"accessibilityManager",new A7e),Oe(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,A=S.dataStartIndex,k=S.dataEndIndex,T=S.updateId;j.setState(ne({legendBBox:N},p({props:j.props,dataStartIndex:A,dataEndIndex:k,updateId:T},ne(ne({},j.state),{},{legendBBox:N}))))}}),Oe(j,"handleReceiveSyncEvent",function(N,S,A){if(j.props.syncId===N){if(A===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),Oe(j,"handleBrushChange",function(N){var S=N.startIndex,A=N.endIndex;if(S!==j.state.dataStartIndex||A!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return ne({dataStartIndex:S,dataEndIndex:A},p({props:j.props,dataStartIndex:S,dataEndIndex:A,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:A})}}),Oe(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var A=ne(ne({},S),{},{isTooltipActive:!0});j.setState(A),j.triggerSyncEvent(A);var k=j.props.onMouseEnter;Ye(k)&&k(A,N)}}),Oe(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),A=S?ne(ne({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(A),j.triggerSyncEvent(A);var k=j.props.onMouseMove;Ye(k)&&k(A,N)}),Oe(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Oe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Oe(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Oe(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var A=j.props.onMouseLeave;Ye(A)&&A(S,N)}),Oe(j,"handleOuterEvent",function(N){var S=dIe(N),A=va(j.props,"".concat(S));if(S&&Ye(A)){var k,T;/.*touch.*/i.test(S)?T=j.getMouseInfo(N.changedTouches[0]):T=j.getMouseInfo(N),A((k=T)!==null&&k!==void 0?k:{},N)}}),Oe(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var A=ne(ne({},S),{},{isTooltipActive:!0});j.setState(A),j.triggerSyncEvent(A);var k=j.props.onClick;Ye(k)&&k(A,N)}}),Oe(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if(Ye(S)){var A=j.getMouseInfo(N);S(A,N)}}),Oe(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if(Ye(S)){var A=j.getMouseInfo(N);S(A,N)}}),Oe(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Oe(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Oe(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Oe(j,"handleDoubleClick",function(N){var S=j.props.onDoubleClick;if(Ye(S)){var A=j.getMouseInfo(N);S(A,N)}}),Oe(j,"handleContextMenu",function(N){var S=j.props.onContextMenu;if(Ye(S)){var A=j.getMouseInfo(N);S(A,N)}}),Oe(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&gC.emit(yC,j.props.syncId,N,j.eventEmitterSymbol)}),Oe(j,"applySyncEvent",function(N){var S=j.props,A=S.layout,k=S.syncMethod,T=j.state.updateId,E=N.dataStartIndex,$=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(ne({dataStartIndex:E,dataEndIndex:$},p({props:j.props,dataStartIndex:E,dataEndIndex:$,updateId:T},j.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,M=N.chartY,D=N.activeTooltipIndex,P=j.state,F=P.offset,O=P.tooltipTicks;if(!F)return;if(typeof k=="function")D=k(O,N);else if(k==="value"){D=-1;for(var R=0;R<O.length;R++)if(O[R].value===N.activeLabel){D=R;break}}var B=ne(ne({},F),{},{x:F.left,y:F.top}),U=Math.min(L,B.x+B.width),G=Math.min(M,B.y+B.height),W=O[D]&&O[D].value,ae=L2(j.state,j.props.data,D),be=O[D]?{x:A==="horizontal"?O[D].coordinate:U,y:A==="horizontal"?G:O[D].coordinate}:d8;j.setState(ne(ne({},N),{},{activeLabel:W,activeCoordinate:be,activePayload:ae,activeTooltipIndex:D}))}else j.setState(N)}),Oe(j,"renderCursor",function(N){var S,A=j.state,k=A.isTooltipActive,T=A.activeCoordinate,E=A.activePayload,$=A.offset,L=A.activeTooltipIndex,M=A.tooltipAxisBandSize,D=j.getTooltipEventType(),P=(S=N.props.active)!==null&&S!==void 0?S:k,F=j.props.layout,O=N.key||"_recharts-cursor";return H.createElement(O7e,{key:O,activeCoordinate:T,activePayload:E,activeTooltipIndex:L,chartName:r,element:N,isActive:P,layout:F,offset:$,tooltipAxisBandSize:M,tooltipEventType:D})}),Oe(j,"renderPolarAxis",function(N,S,A){var k=va(N,"type.axisType"),T=va(j.state,"".concat(k,"Map")),E=N.type.defaultProps,$=E!==void 0?ne(ne({},E),N.props):N.props,L=T&&T[$["".concat(k,"Id")]];return w.cloneElement(N,ne(ne({},L),{},{className:Re(k,L.className),key:N.key||"".concat(S,"-").concat(A),ticks:Md(L,!0)}))}),Oe(j,"renderPolarGrid",function(N){var S=N.props,A=S.radialLines,k=S.polarAngles,T=S.polarRadius,E=j.state,$=E.radiusAxisMap,L=E.angleAxisMap,M=Yl($),D=Yl(L),P=D.cx,F=D.cy,O=D.innerRadius,R=D.outerRadius;return w.cloneElement(N,{polarAngles:Array.isArray(k)?k:Md(D,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(T)?T:Md(M,!0).map(function(B){return B.coordinate}),cx:P,cy:F,innerRadius:O,outerRadius:R,key:N.key||"polar-grid",radialLines:A})}),Oe(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,A=S.children,k=S.width,T=S.height,E=j.props.margin||{},$=k-(E.left||0)-(E.right||0),L=h9({children:A,formattedGraphicalItems:N,legendWidth:$,legendContent:u});if(!L)return null;var M=L.item,D=l5(L,_7e);return w.cloneElement(M,ne(ne({},D),{},{chartWidth:k,chartHeight:T,margin:E,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Oe(j,"renderTooltip",function(){var N,S=j.props,A=S.children,k=S.accessibilityLayer,T=zn(A,os);if(!T)return null;var E=j.state,$=E.isTooltipActive,L=E.activeCoordinate,M=E.activePayload,D=E.activeLabel,P=E.offset,F=(N=T.props.active)!==null&&N!==void 0?N:$;return w.cloneElement(T,{viewBox:ne(ne({},P),{},{x:P.left,y:P.top}),active:F,label:D,payload:F?M:[],coordinate:L,accessibilityLayer:k})}),Oe(j,"renderBrush",function(N){var S=j.props,A=S.margin,k=S.data,T=j.state,E=T.offset,$=T.dataStartIndex,L=T.dataEndIndex,M=T.updateId;return w.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Sh(j.handleBrushChange,N.props.onChange),data:k,x:je(N.props.x)?N.props.x:E.left,y:je(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(A.bottom||0),width:je(N.props.width)?N.props.width:E.width,startIndex:$,endIndex:L,updateId:"brush-".concat(M)})}),Oe(j,"renderReferenceElement",function(N,S,A){if(!N)return null;var k=j,T=k.clipPathId,E=j.state,$=E.xAxisMap,L=E.yAxisMap,M=E.offset,D=N.type.defaultProps||{},P=N.props,F=P.xAxisId,O=F===void 0?D.xAxisId:F,R=P.yAxisId,B=R===void 0?D.yAxisId:R;return w.cloneElement(N,{key:N.key||"".concat(S,"-").concat(A),xAxis:$[O],yAxis:L[B],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:T})}),Oe(j,"renderActivePoints",function(N){var S=N.item,A=N.activePoint,k=N.basePoint,T=N.childIndex,E=N.isRange,$=[],L=S.props.key,M=S.item.type.defaultProps!==void 0?ne(ne({},S.item.type.defaultProps),S.item.props):S.item.props,D=M.activeDot,P=M.dataKey,F=ne(ne({index:T,dataKey:P,cx:A.x,cy:A.y,r:4,fill:eP(S.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ge(D,!1)),i0(D));return $.push(h.renderActiveDot(D,F,"".concat(L,"-activePoint-").concat(T))),k?$.push(h.renderActiveDot(D,ne(ne({},F),{},{cx:k.x,cy:k.y}),"".concat(L,"-basePoint-").concat(T))):E&&$.push(null),$}),Oe(j,"renderGraphicChild",function(N,S,A){var k=j.filterFormatItem(N,S,A);if(!k)return null;var T=j.getTooltipEventType(),E=j.state,$=E.isTooltipActive,L=E.tooltipAxis,M=E.activeTooltipIndex,D=E.activeLabel,P=j.props.children,F=zn(P,os),O=k.props,R=O.points,B=O.isRange,U=O.baseLine,G=k.item.type.defaultProps!==void 0?ne(ne({},k.item.type.defaultProps),k.item.props):k.item.props,W=G.activeDot,ae=G.hide,be=G.activeBar,se=G.activeShape,J=!!(!ae&&$&&F&&(W||be||se)),ue={};T!=="axis"&&F&&F.props.trigger==="click"?ue={onClick:Sh(j.handleItemMouseEnter,N.props.onClick)}:T!=="axis"&&(ue={onMouseLeave:Sh(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Sh(j.handleItemMouseEnter,N.props.onMouseEnter)});var Q=w.cloneElement(N,ne(ne({},k.props),ue));function re(Z){return typeof L.dataKey=="function"?L.dataKey(Z.payload):null}if(J)if(M>=0){var X,Y;if(L.dataKey&&!L.allowDuplicatedCategory){var pe=typeof L.dataKey=="function"?re:"payload.".concat(L.dataKey.toString());X=yI(R,pe,D),Y=B&&U&&yI(U,pe,D)}else X=R==null?void 0:R[M],Y=B&&U&&U[M];if(se||be){var Ne=N.props.activeIndex!==void 0?N.props.activeIndex:M;return[w.cloneElement(N,ne(ne(ne({},k.props),ue),{},{activeIndex:Ne})),null,null]}if(!Ze(X))return[Q].concat(bu(j.renderActivePoints({item:k,activePoint:X,basePoint:Y,childIndex:M,isRange:B})))}else{var Ee,He=(Ee=j.getItemByXY(j.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:Q},ze=He.graphicalItem,Vr=ze.item,Ur=Vr===void 0?N:Vr,sa=ze.childIndex,Qr=ne(ne(ne({},k.props),ue),{},{activeIndex:sa});return[w.cloneElement(Ur,Qr),null,null]}return B?[Q,null,null]:[Q,null]}),Oe(j,"renderCustomized",function(N,S,A){return w.cloneElement(N,ne(ne({key:"recharts-customized-".concat(A)},j.props),j.state))}),Oe(j,"renderMap",{CartesianGrid:{handler:Ph,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Ph},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Ph},YAxis:{handler:Ph},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((v=x.id)!==null&&v!==void 0?v:xw("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=pz(j.triggeredAfterMouseMove,(C=x.throttleDelay)!==null&&C!==void 0?C:1e3/60),j.state={},j}return H7e(h,b),V7e(h,[{key:"componentDidMount",value:function(){var v,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,C=v.children,j=v.data,N=v.height,S=v.layout,A=zn(C,os);if(A){var k=A.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,E=L2(this.state,j,k,T),$=this.state.tooltipTicks[k].coordinate,L=(this.state.offset.top+N)/2,M=S==="horizontal",D=M?{x:$,y:L}:{y:$,x:L},P=this.state.formattedGraphicalItems.find(function(O){var R=O.item;return R.type.name==="Scatter"});P&&(D=ne(ne({},D),P.props.points[k].tooltipPosition),E=P.props.points[k].tooltipPayload);var F={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:T,activePayload:E,activeCoordinate:D};this.setState(F),this.renderCursor(A),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(v){vI([zn(v.children,os)],[zn(this.props.children,os)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=zn(this.props.children,os);if(v&&typeof v.props.shared=="boolean"){var C=v.props.shared?"axis":"item";return l.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var C=this.container,j=C.getBoundingClientRect(),N=FRe(j),S={chartX:Math.round(v.pageX-N.left),chartY:Math.round(v.pageY-N.top)},A=j.width/C.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,A);if(!k)return null;var T=this.state,E=T.xAxisMap,$=T.yAxisMap,L=this.getTooltipEventType(),M=u5(this.state,this.props.data,this.props.layout,k);if(L!=="axis"&&E&&$){var D=Yl(E).scale,P=Yl($).scale,F=D&&D.invert?D.invert(S.chartX):null,O=P&&P.invert?P.invert(S.chartY):null;return ne(ne({},S),{},{xValue:F,yValue:O},M)}return M?ne(ne({},S),M):null}},{key:"inRange",value:function(v,C){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=v/j,A=C/j;if(N==="horizontal"||N==="vertical"){var k=this.state.offset,T=S>=k.left&&S<=k.left+k.width&&A>=k.top&&A<=k.top+k.height;return T?{x:S,y:A}:null}var E=this.state,$=E.angleAxisMap,L=E.radiusAxisMap;if($&&L){var M=Yl($);return GL({x:S,y:A},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,C=this.getTooltipEventType(),j=zn(v,os),N={};j&&C==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=i0(this.props,this.handleOuterEvent);return ne(ne({},S),N)}},{key:"addListener",value:function(){gC.on(yC,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gC.removeListener(yC,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,C,j){for(var N=this.state.formattedGraphicalItems,S=0,A=N.length;S<A;S++){var k=N[S];if(k.item===v||k.props.key===v.key||C===Cs(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,C=this.state.offset,j=C.left,N=C.top,S=C.height,A=C.width;return H.createElement("defs",null,H.createElement("clipPath",{id:v},H.createElement("rect",{x:j,y:N,height:S,width:A})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(C,j){var N=i5(j,2),S=N[0],A=N[1];return ne(ne({},C),{},Oe({},S,A.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(C,j){var N=i5(j,2),S=N[0],A=N[1];return ne(ne({},C),{},Oe({},S,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[v])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(v){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[v])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(v){var C=this.state,j=C.formattedGraphicalItems,N=C.activeItem;if(j&&j.length)for(var S=0,A=j.length;S<A;S++){var k=j[S],T=k.props,E=k.item,$=E.type.defaultProps!==void 0?ne(ne({},E.type.defaultProps),E.props):E.props,L=Cs(E.type);if(L==="Bar"){var M=(T.data||[]).find(function(O){return wqe(v,O)});if(M)return{graphicalItem:k,payload:M}}else if(L==="RadialBar"){var D=(T.data||[]).find(function(O){return GL(v,O)});if(D)return{graphicalItem:k,payload:D}}else if(Ww(k,N)||Hw(k,N)||Lm(k,N)){var P=dVe({graphicalItem:k,activeTooltipItem:N,itemData:$.data}),F=$.activeIndex===void 0?P:$.activeIndex;return{graphicalItem:ne(ne({},k),{},{childIndex:F}),payload:Lm(k,N)?$.data[P]:k.props.data[P]}}}return null}},{key:"render",value:function(){var v=this;if(!LR(this))return null;var C=this.props,j=C.children,N=C.className,S=C.width,A=C.height,k=C.style,T=C.compact,E=C.title,$=C.desc,L=l5(C,$7e),M=Ge(L,!1);if(T)return H.createElement(XF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(wI,dc({},M,{width:S,height:A,title:E,desc:$}),this.renderClipPath(),BR(j,this.renderMap)));if(this.props.accessibilityLayer){var D,P;M.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,M.role=(P=this.props.role)!==null&&P!==void 0?P:"application",M.onKeyDown=function(O){v.accessibilityManager.keyboardEvent(O)},M.onFocus=function(){v.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return H.createElement(XF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",dc({className:Re("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:S,height:A},k)},F,{ref:function(R){v.container=R}}),H.createElement(wI,dc({},M,{width:S,height:A,title:E,desc:$,style:Z7e}),this.renderClipPath(),BR(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);Oe(g,"displayName",r),Oe(g,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Oe(g,"getDerivedStateFromProps",function(b,h){var x=b.dataKey,v=b.data,C=b.children,j=b.width,N=b.height,S=b.layout,A=b.stackOffset,k=b.margin,T=h.dataStartIndex,E=h.dataEndIndex;if(h.updateId===void 0){var $=d5(b);return ne(ne(ne({},$),{},{updateId:0},p(ne(ne({props:b},$),{},{updateId:0}),h)),{},{prevDataKey:x,prevData:v,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:k,prevChildren:C})}if(x!==h.prevDataKey||v!==h.prevData||j!==h.prevWidth||N!==h.prevHeight||S!==h.prevLayout||A!==h.prevStackOffset||!bI(k,h.prevMargin)){var L=d5(b),M={chartX:h.chartX,chartY:h.chartY,isTooltipActive:h.isTooltipActive},D=ne(ne({},u5(h,v,S)),{},{updateId:h.updateId+1}),P=ne(ne(ne({},L),M),D);return ne(ne(ne({},P),p(ne({props:b},P),h)),{},{prevDataKey:x,prevData:v,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:A,prevMargin:k,prevChildren:C})}if(!vI(C,h.prevChildren)){var F,O,R,B,U=zn(C,mu),G=U&&(F=(O=U.props)===null||O===void 0?void 0:O.startIndex)!==null&&F!==void 0?F:T,W=U&&(R=(B=U.props)===null||B===void 0?void 0:B.endIndex)!==null&&R!==void 0?R:E,ae=G!==T||W!==E,be=!Ze(v),se=be&&!ae?h.updateId:h.updateId+1;return ne(ne({updateId:se},p(ne(ne({props:b},h),{},{updateId:se,dataStartIndex:G,dataEndIndex:W}),h)),{},{prevChildren:C,dataStartIndex:G,dataEndIndex:W})}return null}),Oe(g,"renderActiveDot",function(b,h,x){var v;return w.isValidElement(b)?v=w.cloneElement(b,h):Ye(b)?v=b(h):v=H.createElement(rP,h),H.createElement(Yt,{className:"recharts-active-dot",key:x},v)});var y=w.forwardRef(function(h,x){return H.createElement(g,dc({},h,{ref:x}))});return y.displayName=g.displayName,y},Zw=lze({chartName:"PieChart",GraphicalChild:aa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:zw},{axisType:"radiusAxis",AxisComp:Vw}],formatAxisMap:R4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const m5=["#0088FE","#FF8042"];function cze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(Tw,{width:"100%",height:"100%",children:o.jsxs(Zw,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(aa,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(Fu,{fill:m5[r%m5.length]},`cell-${r}`))}),o.jsx(Ga,{})]})})]})]})}const p5=["#0088FE","#FF8042","#00C49F"];function uze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(Tw,{width:"100%",height:"100%",children:o.jsxs(Zw,{children:[o.jsx(aa,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(Fu,{fill:p5[r%p5.length]},`cell-${r}`))}),o.jsx(Ga,{})]})})]})]})}function dze(){const t=ce(),[e,r]=w.useState(""),[n,a]=w.useState([]),[s,i]=w.useState(""),[l,c]=w.useState({chart1:[],chart2:[],table:[]}),[u,d]=w.useState(!1),{departments:f,isLoading:m}=z(y=>y.departments);w.useEffect(()=>{t(ir())},[]),w.useEffect(()=>{e?(d(!0),Tve(e==="All"?"":e).then(y=>{const b=(y==null?void 0:y.data)||[];a(b.map(h=>({value:h.ID,label:h.Name,...h})))}).finally(()=>d(!1))):a([]),i(""),c({chart1:[],chart2:[],table:[]})},[e]);const p=y=>{const b=n.find(T=>T.value===Number(y));if(!b)return;const h=parseFloat(b.Appropriation||0),x=parseFloat(b.Supplemental||0),v=parseFloat(b.Transfer||0),C=parseFloat(b.Charges||0),j=parseFloat(b.PreEncumbrance||0),N=parseFloat(b.Encumbrance||0),A=[{name:"Budget Amount",value:h+x+v-C},{name:"Charges",value:C}],k=[{name:"PreEncumbrance",value:j},{name:"Encumbrance",value:N},{name:"Charges",value:C}];c(T=>({...T,chart1:A,chart2:k})),d(!0),Eve(y).then(T=>{const E=(T==null?void 0:T.data)||[];c($=>({...$,table:E}))}).finally(()=>d(!1))},g=[{key:"APAR",header:"APAR",sortable:!1},{key:"Total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Department",name:"Department",type:"select",value:e,onChange:y=>{const b=y.target.value==="All Departments"?"All":y.target.value;r(b),i(""),c({chart1:[],chart2:[],table:[]})},options:[...f==null?void 0:f.map(y=>({value:y.ID,label:y.Name})),{value:"All Departments",label:"All Departments"}],required:!0}),o.jsx(I,{label:"Sub-Department",name:"SubDepartment",type:"select",value:s,onChange:y=>{console.log("e.target.value",y.target.value),i(y.target.value),p(y.target.value)},options:n,className:"disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(cze,{data:l==null?void 0:l.chart1,loading:u}),o.jsx(uze,{data:l==null?void 0:l.chart2,loading:u})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:g,data:(l==null?void 0:l.table)||[],loading:u||m,emptyMessage:"No budget data found for selected sub-department."})})]})}const h5=["#0088FE","#00C49F","#FF8042"],g5=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}];function fze(){const[t,e]=w.useState("year"),[r,n]=w.useState(""),[a,s]=w.useState("year"),[i,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[m,p]=w.useState({disbursement:[],obligation:[],travel:[]}),g=ce(),{departments:y}=z(b=>b.departments);return w.useEffect(()=>{g(ir())},[]),w.useEffect(()=>{(async()=>{var h,x;try{const[v,C]=await Promise.all([aR(t,"Obligation Request",r==="All"?"":r),aR(t,"Disbursement Voucher",r==="All"?"":r)]);f(`PHP ${parseFloat(((h=v==null?void 0:v.data)==null?void 0:h.total)||0).toLocaleString()}`),u(`PHP ${parseFloat(((x=C==null?void 0:C.data)==null?void 0:x.total)||0).toLocaleString()}`)}catch(v){console.error("Error loading disbursement amounts:",v),V.error("Failed to load disbursement amounts")}})()},[t,r]),w.useEffect(()=>{(async()=>{try{const h=i==="All"?"":i,[x,v,C]=await Promise.all([Pve(a,h),Dve(a,h),Ove(a,h)]);p({obligation:(x==null?void 0:x.data)||[],travel:(v==null?void 0:v.data)||[],disbursement:(C==null?void 0:C.data)||[]})}catch(h){console.error("Error loading chart data:",h),V.error("Failed to load chart data")}})()},[a,i]),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{label:"Timeframe",type:"select",value:t,onChange:b=>e(b.target.value),options:g5}),o.jsx(I,{label:"Department",name:"Department",type:"select",value:r,onChange:b=>{const h=b.target.value==="All Departments"?"All":b.target.value;n(h)},options:[...y==null?void 0:y.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",d]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Timeframe",type:"select",value:a,onChange:b=>s(b.target.value),options:g5}),o.jsx(I,{label:"Department",name:"Department",type:"select",value:r,onChange:b=>{const h=b.target.value==="All Departments"?"All":b.target.value;l(h)},options:[...y==null?void 0:y.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[xC("Disbursement",[m==null?void 0:m.disbursement]),xC("Obligation",[m==null?void 0:m.obligation]),xC("Travel",[m==null?void 0:m.travel])]})]})}const xC=(t,e)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(Tw,{width:"100%",height:"100%",children:o.jsxs(Zw,{children:[o.jsx(aa,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e==null?void 0:e.map((r,n)=>o.jsx(Fu,{fill:h5[n%h5.length]},n))}),o.jsx(Ga,{})]})})})]}),y5=["#0088FE","#FF8042","#00C49F"];function Dh({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(Tw,{width:"100%",height:"100%",children:o.jsxs(Zw,{children:[o.jsx(aa,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(Fu,{fill:y5[n%y5.length]},n))}),o.jsx(Ga,{})]})})})]})}function mze(){const[t,e]=w.useState("day"),[r,n]=w.useState({general:0,marriage:0,burial:0,cedula:0}),[a,s]=w.useState([]),[i,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]);w.useEffect(()=>{(async()=>{try{const[g,y,b,h,x]=await Promise.all([_ve(t),$ve(),Rve(),Mve(),Lve()]),v=(g==null?void 0:g.data)||{};n({general:parseFloat(v.General||0),marriage:parseFloat(v.Marriage||0),burial:parseFloat(v.Burial||0),cedula:parseFloat(v.Cedula||0)}),s(m(y.data)),l(m(b.data)),u(m(h.data)),f(m(x.data))}catch(g){console.error(g),V.error("Failed to load collection data")}})()},[t]);const m=(p=[])=>p.map(g=>({name:g.date||"Unknown",value:parseFloat(g.total||0)}));return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"}),o.jsx(Dh,{title:"Cedula",data:d})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(I,{label:"Select View",type:"select",value:t,onChange:p=>e(p.target.value),options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-4 mt-6",children:[o.jsx(Dh,{title:"General Service Invoice",data:a}),o.jsx(Dh,{title:"Marriage Service Invoice",data:i}),o.jsx(Dh,{title:"Burial Service Invoice",data:c})]})]})}const Uu="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",pze=[],Fi=q("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Qe.get(`${Uu}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),vC=q("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Qe.get(`${Uu}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Kb=q("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Qe.post(`${Uu}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),jC=q("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await Qe.put(`${Uu}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),Jb=q("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await Qe.delete(`${Uu}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Xb=q("generalServiceReceipts/getGeneralServiceReceiptCurrentNumber",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Qe.get(`${Uu}/generalservicerecipt/getCurrentNumber`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),m8=ve({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,currentNumber:null,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(Fi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fi.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(Fi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=pze}).addCase(vC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(vC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(Kb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(Kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(jC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(jC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(Jb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(Jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)}).addCase(Xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xb.fulfilled,(e,r)=>{e.isLoading=!1,e.currentNumber=r.payload}).addCase(Xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt current number"})}}),{clearError:D8e,clearCurrentReceipt:O8e}=m8.actions,hze=m8.reducer,gze="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",yze=le().shape({Status:_().required("Status is required"),InvoiceNumber:_().required("Invoice number is required"),InvoiceDate:Be().required("Date is required"),FundsID:K().required("Fund is required"),Agency:_().required("Agency is required"),PaymentMethodID:K().required("Payment method is required"),Total:K().required("Total amount is required"),CustomerID:K().required("Customer is required"),CustomerName:_().required("Customer name is required"),Remarks:_(),TransactionItemsAll:Vt().of(le().shape({ItemID:K().required("Item ID is required"),ChargeAccountID:K().required("Charges account is required"),Quantity:K().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:K().required("Price is required").min(0,"Price cannot be negative"),Vatable:Os()})).min(1,"At least one item is required")});function bze({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n,Print:a,currentNumber:s}){const[i,l]=w.useState("Individual"),[c,u]=w.useState(!1),{customers:d}=z(k=>k.customers),{vendorDetails:f}=z(k=>k.vendorDetails),{funds:m}=z(k=>k.funds),{items:p}=z(k=>k.items),{budgets:g}=z(k=>k.budget),y=ce();w.useEffect(()=>{y(mn()),y(Va()),y(Zt()),y(Ua()),y($o())},[y]);const b=f==null?void 0:f.map(k=>({value:k.ID,label:k.Name})),h=d==null?void 0:d.map(k=>({value:k.ID,label:k.Name||`${k.FirstName} ${k.MiddleName} ${k.LastName}`})),x=m==null?void 0:m.map(k=>({value:k.ID,label:k.Name})),v=p==null?void 0:p.map(k=>({value:k.ID,label:k.Name})),C=g==null?void 0:g.map(k=>({value:k.ID,label:k.Name})),j={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||(s==null?void 0:s.CurrentNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[{ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}]};console.log("initialValues",j);const N=(k,T,E)=>{const L=Array.from(k.target.files).map(M=>M);T("Attachments",[...E.Attachments,...L])},S=(k,T,E)=>{const $=[...E.Attachments];$.splice(k,1),T("Attachments",$)},A=async(k,{setSubmitting:T})=>{const E=new FormData;for(const $ in k)if($!=="Attachments"){const L=typeof k[$]=="object"?JSON.stringify(k[$]):k[$];$==="TransactionItemsAll"?E.append("Items",L):E.append($,L)}k==null||k.Attachments.forEach(($,L)=>{$.ID?E.append(`Attachments[${L}].ID`,$.ID):E.append(`Attachments[${L}].File`,$)}),r?(E.append("IsNew","false"),E.append("LinkID",r.LinkID),E.append("ID",r.ID)):E.append("IsNew","true"),console.log("Form Data:",k);try{await n(E),console.log("Form submitted with values:",E)}catch($){console.error("Error submitting form:",$)}finally{e(),T(!1)}};return o.jsxs(ie,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center max-sm:flex-col",children:[o.jsx("button",{type:"button",className:"btn btn-secondary max-sm:w-full",children:"Show List"}),o.jsx("button",{className:"btn btn-primary max-sm:w-full",onClick:()=>u(!0),children:"Add Attachments"}),a&&o.jsx("button",{className:"btn btn-outline max-sm:w-full",children:"Print"})]}),o.jsx(Le,{initialValues:j,validationSchema:yze,onSubmit:A,enableReinitialize:!0,children:({values:k,setFieldValue:T,handleChange:E,handleBlur:$,isSubmitting:L,errors:M,touched:D,submitCount:P,isValid:F})=>o.jsxs(Ue,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),k.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:k.Attachments.map((O,R)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:O.ID?o.jsx("a",{href:`${gze}/uploads/${O.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:O.name||O.DataName}):O.name||O.DataName})]}),o.jsx("button",{type:"button",onClick:()=>S(R,T,k),className:"text-red-500 hover:text-red-700",children:o.jsx(Jt,{className:"h-4 w-4"})})]},R))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:k==null?void 0:k.Status.toUpperCase()})]}),o.jsx(I,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:E,value:k.InvoiceNumber,error:M.InvoiceNumber&&D.InvoiceNumber,touched:D.InvoiceNumber})]}),o.jsx(I,{label:"Date",name:"InvoiceDate",type:"date",onChange:E,value:k.InvoiceDate,required:!0,error:M.InvoiceDate&&D.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:E,value:k.Agency,error:M.Agency,touched:D.Agency}),o.jsx(I,{label:"Fund",name:"FundsID",type:"select",options:x,required:!0,onChange:E,value:k.FundsID,error:D.FundsID&&M.FundsID,touched:D.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{l("Individual"),T("PayorType","Individual"),T("PayorName","")},className:`px-4 py-2 rounded-md ${i==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{l("Corporation"),T("PayorType","Corporation"),T("PayorName","")},className:`px-4 py-2 rounded-md ${i==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx(ut,{label:"Payor",name:"CustomerName",type:"select",options:i==="Individual"?h:b,required:!0,placeholder:"Select Payor",onSelect:O=>{const R=i==="Individual"?h.find(B=>B.value===O):b.find(B=>B.value===O);T("CustomerName",(R==null?void 0:R.label)||""),T("CustomerID",(R==null?void 0:R.value)||"")},selectedValue:k.CustomerID,error:M.CustomerName,touched:D.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(Gr,{name:"TransactionItemsAll",children:({push:O,remove:R})=>o.jsxs("div",{className:"space-y-4",children:[k.TransactionItemsAll.map((B,U)=>{var G,W,ae,be,se,J,ue,Q,re,X,Y,pe,Ne,Ee,He,ze,Vr,Ur,sa,Qr,Z,xe,ee,me;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[o.jsx(I,{label:"Item ID",name:`TransactionItemsAll.${U}.ItemID`,type:"select",options:v,required:!0,value:B.ItemID,onChange:E,onBlur:$,error:((W=(G=D.TransactionItemsAll)==null?void 0:G[U])==null?void 0:W.ItemID)&&((be=(ae=M.TransactionItemsAll)==null?void 0:ae[U])==null?void 0:be.ItemID),touched:(J=(se=D.TransactionItemsAll)==null?void 0:se[U])==null?void 0:J.ItemID}),o.jsx(I,{label:"Account",name:`TransactionItemsAll.${U}.ChargeAccountID`,type:"select",options:C,required:!0,value:B.ChargeAccountID,onChange:E,onBlur:$,error:((Q=(ue=D.TransactionItemsAll)==null?void 0:ue[U])==null?void 0:Q.ChargeAccountID)&&((X=(re=M.TransactionItemsAll)==null?void 0:re[U])==null?void 0:X.ChargeAccountID),touched:(pe=(Y=D.TransactionItemsAll)==null?void 0:Y[U])==null?void 0:pe.ChargeAccountID}),o.jsx(I,{label:"Qty",name:`TransactionItemsAll.${U}.Quantity`,type:"number",required:!0,min:"1",value:B.Quantity,onChange:E,onBlur:$,error:((Ee=(Ne=D.TransactionItemsAll)==null?void 0:Ne[U])==null?void 0:Ee.Quantity)&&((ze=(He=M.TransactionItemsAll)==null?void 0:He[U])==null?void 0:ze.Quantity),touched:(Ur=(Vr=D.TransactionItemsAll)==null?void 0:Vr[U])==null?void 0:Ur.Quantity}),o.jsx(I,{label:"Price",name:`TransactionItemsAll.${U}.Price`,type:"number",required:!0,min:"0",value:B.Price,onChange:E,onBlur:$,error:((Qr=(sa=D.TransactionItemsAll)==null?void 0:sa[U])==null?void 0:Qr.Price)&&((xe=(Z=M.TransactionItemsAll)==null?void 0:Z[U])==null?void 0:xe.Price),touched:(me=(ee=D.TransactionItemsAll)==null?void 0:ee[U])==null?void 0:me.Price}),o.jsx(I,{label:"Vatable",type:"checkbox",id:`TransactionItemsAll.${U}.Vatable`,name:`TransactionItemsAll.${U}.Vatable`,checked:B.Vatable,onChange:E}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(B.Quantity*B.Price).toFixed(2)]}),U>0&&o.jsx("button",{type:"button",onClick:()=>R(U),className:"text-red-500 hover:text-red-700",children:o.jsx(Zr,{})})]})]},U)}),o.jsx("button",{type:"button",onClick:()=>O({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0,Vatable:!1}),className:"btn btn-primary",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:k.TransactionItemsAll.reduce((O,R)=>O+R.Quantity*R.Price,0).toFixed(2)})]}),o.jsx(I,{label:"Amount in Words",name:"amountInWords",type:"text",value:Ro(k.TransactionItemsAll.reduce((O,R)=>O+R.Quantity*R.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 sm:p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map((O,R)=>o.jsx("button",{type:"button",onClick:()=>T("PaymentMethodID",O.value),className:`px-2 py-1 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium border ${k.PaymentMethodID===O.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${R===0?"rounded-l-md":R===3?"rounded-r-md":"border-l-0"}`,children:O.label},O.value))})]}),k.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Check Number",name:"CheckNumber",type:"text",value:k.CheckNumber,onChange:E,error:M.CheckNumber&&D.CheckNumber}),o.jsx(I,{label:"Bank",name:"PayeeBank",type:"text",value:k.PayeeBank,onChange:E}),o.jsx(I,{label:"Check Date",name:"CheckDate",type:"date",value:k.CheckDate,onChange:E,error:M.CheckDate&&D.CheckDate})]}),k.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(I,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:k.MoneyOrder,onChange:E,error:M.MoneyOrder&&D.MoneyOrder}),o.jsx(I,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:k.MoneyOrderDate,onChange:E,error:M.MoneyOrderDate&&D.MoneyOrderDate})]}),o.jsx(I,{label:"Remarks",name:"Remarks",type:"textarea",value:k.Remarks,onChange:E,rows:2,error:M.Remarks&&D.Remarks})]}),c&&o.jsx(ie,{isOpen:c,onClose:()=>u(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg sm:p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(_s,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:O=>{N(O,T,k),u(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:L||!F,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:L?"Saving...":"Save"})]})]})})]})}function xze(){const t=ce(),{receipts:e,isLoading:r,currentNumber:n}=z(L=>L.generalReceipts),{Add:a,Edit:s,Delete:i,Print:l}=we(52),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,p]=w.useState(!1),[g,y]=w.useState(null),[b,h]=w.useState(!1);w.useEffect(()=>{t(Fi())},[t]),console.log("generalReceipts",e);const x=()=>{y(null),p(!0),t(Xb())},v=L=>{y(L),f(!0)},C=L=>{y(L),p(!0)},j=()=>{f(!1),y(null)},N=()=>{p(!1),y(null)},S=L=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(L),A=async L=>{try{await t(Jb(L.ID)).unwrap(),t(Fi()),V.success("Receipt deleted successfully.")}catch(M){console.error("Error deleting receipt:",M),V.error("Failed to delete receipt.")}},k=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:L=>o.jsx("div",{className:"flex items-center gap-1",children:L})},{key:"Status",header:"Status",sortable:!0,render:L=>o.jsx("span",{className:`px-2 py-1 rounded ${L==="Posted"?"bg-green-100 text-green-800":L==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:L=>(L==null?void 0:L.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:L=>S(L),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:L=>L||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:L=>({1:"General Fund",2:"Special Education Fund"})[L]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:L=>L||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:L=>L||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:L=>L||""}],T=async(L,M)=>{h(!0);try{const D=await axiosInstance.post(`/disbursementVoucher/${M}`,{ID:L.ID});console.log(`${M}d:`,D.data),t(Fi()),V.success(`General Receipt ${M}d successfully`)}catch(D){console.error(`Error ${M}ing General Receipt:`,D),V.error(`Error ${M}ing General Receipt`)}finally{h(!1)}},E=L=>{const M=[];return L.Status.toLowerCase().includes("rejected")&&s?(M.push({icon:ke,title:"Edit",onClick:()=>handleEditOR(L),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),M.push({icon:Ca,title:"Delete",onClick:()=>A(L),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):L.Status==="Requested"&&M.push({icon:bn,title:"Approve",onClick:()=>T(L,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>T(L,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),M.push({icon:Zo,title:"View",onClick:()=>v(L),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),M},$=async L=>{if(L)try{const M=await t(Kb(L)).unwrap();console.log("Operation successful:",M,L),t(Fi()),V.success("Receipt saved successfully.")}catch(M){console.error("Submission failed:",M),V.error(M.message||"Failed to save receipt")}finally{N()}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between sm:items-center max-sm:flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:a&&o.jsxs("button",{type:"button",onClick:x,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:k,data:e,actions:E,loading:r||b})}),o.jsx(bze,{isOpen:m,onClose:N,selectedReceipt:g,onSubmit:$,Print:l,currentNumber:n}),o.jsx(o.Fragment,{children:o.jsx(ie,{isOpen:d,onClose:j,title:"General Receipt Details",size:"lg",children:g&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g.InvoiceNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g.InvoiceDate?new Date(g.InvoiceDate).toLocaleDateString():"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g.FundsID===1?"General Fund":g.FundsID===2?"Special Education Fund":g.FundsID||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g.ModeofPayment||(g.CheckNumber?"Check":g.MoneyOrder?"Money Order":"Cash")})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Status"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${g.Status==="Posted"?"bg-green-100 text-green-800":g.Status==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:g.Status})})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g.CustomerName||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g.BillingAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Due Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g.BillingDueDate?new Date(g.BillingDueDate).toLocaleDateString():"N/A"})]}),g.CheckNumber&&o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Check Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g.CheckNumber})]}),g.MoneyOrder&&o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Money Order"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:g.MoneyOrder})]})]})]})]}),g.TransactionItemsAll&&g.TransactionItemsAll.length>0&&o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"Transaction Items"}),o.jsx("div",{className:"space-y-2",children:g.TransactionItemsAll.map((L,M)=>o.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-sm font-medium",children:["Item ID: ",L.ItemID]}),o.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Qty: ",L.Quantity]})]}),o.jsx("span",{className:"text-sm font-medium",children:S(parseFloat(L.Price||0))})]},L.ID||M))})]}),o.jsxs("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:S(parseFloat(g.Total||0))})]}),g.RemainingBalance&&parseFloat(g.RemainingBalance)>0&&o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Remaining Balance"}),o.jsx("span",{className:"text-lg font-bold text-orange-700",children:S(parseFloat(g.RemainingBalance))})]})]}),g.Remarks&&o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),o.jsx("p",{className:"text-sm text-gray-600",children:g.Remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:j,className:"btn btn-outline",children:"Close"}),s&&o.jsx("button",{type:"button",onClick:()=>C(g),className:"btn btn-primary",children:"Edit"})]})]})})})]})}const vze=le().shape({ownerId:K().required("Owner ID is required"),basicGeneralYearID:K().required("Basic general year is required"),T_D_No:_().required("Tax declaration number is required"),IsNew:Os().required(),LinkID:K().nullable(),CustomerName:_().required("Customer name is required"),Municipality:_().required("Municipality is required"),AmountinWords:_().required("Amount in words is required"),AmountReceived:K().min(0).required("Amount received is required"),RemainingBalance:K().min(0).required("Remaining balance is required"),CheckNumber:K().required("Check number is required"),AdvancedYear:K().min(1900).max(2100).required("Advanced year is required"),AdvanceFunds:K().min(0).required("Advance funds is required"),FundsID:K().required("Funds ID is required"),ReceivedFrom:_().required("Received from is required"),Location:_().required("Location is required"),Lot:_().required("Lot is required"),Block:_().required("Block is required"),PreviousPaymentList:Vt().of(le().shape({LandPrice:K().min(0).required("Land price is required"),ImprovementPrice:K().min(0).required("Improvement price is required"),TotalAssessedValue:K().min(0).required("Total assessed value is required"),TaxDue:K().min(0).required("Tax due is required"),InstallmentPayment:K().min(0).required("Installment payment is required"),FullPayment:K().min(0).required("Full payment is required"),Penalty:K().min(0).required("Penalty is required"),Total:K().min(0).required("Total is required")})).min(0,"At least one previous payment entry is required"),PresentPaymentList:Vt().of(le().shape({LandPrice:K().min(0).required("Land price is required"),ImprovementPrice:K().min(0).required("Improvement price is required"),TotalAssessedValue:K().min(0).required("Total assessed value is required"),TaxDue:K().min(0).required("Tax due is required"),InstallmentPayment:K().min(0).required("Installment payment is required"),FullPayment:K().min(0).required("Full payment is required"),Penalty:K().min(0).required("Penalty is required"),Discount:K().min(0).required("Discount is required"),Total:K().min(0).required("Total is required"),RemainingBalance:K().min(0).required("Remaining balance is required")})).min(0,"At least one present payment entry is required")}),b5=({onCreateOrEdit:t,onBack:e,individualOptions:r,generalRevisionsOptions:n})=>{const a=ce(),{tdNumber:s,addButtonResult:i,isLoading:l}=z(F=>F.realPropertyTax),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,p]=w.useState({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",TaxDue:"",InstallmentPayment:"",FullPayment:"",Penalty:"",dueDateYear:"",payment:""}),[g,y]=w.useState({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",Discount:"",Penalty:"",TaxDue:"",InstallmentPayment:!1,FullPayment:!1,dueDateYear:"",payment:""}),b=tt({initialValues:{IsNew:!0,LinkID:null,ownerId:"",CustomerName:"",basicGeneralYearID:"",T_D_No:"",Municipality:"MAKATI",AmountinWords:"",AmountReceived:0,RemainingBalance:0,CheckNumber:0,AdvancedYear:"",AdvanceFunds:0,FundsID:0,ReceivedFrom:"CEDRIC",Location:"",Lot:"",Block:"",PreviousPaymentList:[],PresentPaymentList:[]},validationSchema:vze,onSubmit:F=>{t(F)}}),{values:h,errors:x,touched:v,handleChange:C,handleBlur:j,setFieldValue:N,handleSubmit:S}=b;w.useEffect(()=>{const F=h.ownerId&&h.basicGeneralYearID&&h.T_D_No&&i;u(F)},[h.ownerId,h.basicGeneralYearID,h.T_D_No,i]),w.useEffect(()=>{var F;if(h.ownerId&&h.basicGeneralYearID){const O=(F=n==null?void 0:n.find(R=>R.value===Number(h.basicGeneralYearID)))==null?void 0:F.label;a(FV({ownerId:h.ownerId,generalRevision:O})),N("AdvancedYear",O)}},[h.ownerId,h.basicGeneralYearID,a,N]);const A=s?s.map(F=>({value:F.T_D_No,label:F.T_D_No})):[],k=async()=>{try{await a(BV(h.T_D_No)).unwrap()}catch(F){console.error("Failed to add tax declaration:",F)}},T=F=>{const{name:O,value:R}=F.target;p(B=>({...B,[O]:R}))},E=F=>{const{name:O,value:R}=F.target;y(B=>({...B,[O]:R}))},$=()=>{const F={LandPrice:Number(m.LandPrice)||0,ImprovementPrice:Number(m.ImprovementPrice)||0,TotalAssessedValue:Number(m.TotalAssessedValue)||0,TaxDue:Number(m.TaxDue)||0,InstallmentPayment:Number(m.InstallmentPayment)||0,FullPayment:Number(m.FullPayment)||0,Penalty:Number(m.Penalty)||0,Total:Number(m.Total)||0};N("PreviousPaymentList",[...h.PreviousPaymentList,F]),p({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",TaxDue:"",InstallmentPayment:"",FullPayment:"",Penalty:""})},L=F=>{const O=h.PreviousPaymentList.filter((R,B)=>B!==F);N("PreviousPaymentList",O)},M=()=>{const F={LandPrice:Number(g.LandPrice)||0,ImprovementPrice:Number(g.ImprovementPrice)||0,TotalAssessedValue:Number(g.TotalAssessedValue)||0,TaxDue:Number(g.TaxDue)||0,InstallmentPayment:g.InstallmentPayment?1:0,FullPayment:g.FullPayment?1:0,Penalty:Number(g.Penalty)||0,Discount:Number(g.Discount)||0,Total:Number(g.Total)||0,RemainingBalance:0};N("PresentPaymentList",[...h.PresentPaymentList,F]),y({LandPrice:"",ImprovementPrice:"",TotalAssessedValue:"",Total:"",Discount:"",Penalty:"",TaxDue:"",InstallmentPayment:!1,FullPayment:!1})},D=F=>{const O=h.PresentPaymentList.filter((R,B)=>B!==F);N("PresentPaymentList",O)},P=({entries:F,title:O,removeEntry:R})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsx("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between sm:items-center gap-4 max-sm:flex-col",children:o.jsx("h3",{className:"text-lg font-semibold",children:O})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full table-fixed border-collapse border border-gray-300 text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"w-16 border border-gray-300 p-2 font-medium",children:"#"}),o.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Land"}),o.jsx("th",{className:"w-32 border border-gray-300 p-2 font-medium",children:"Improvement"}),o.jsx("th",{className:"w-32 border border-gray-300 p-2 font-medium",children:"Total Assessed"}),o.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Tax Due"}),o.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Installment Payment"}),o.jsx("th",{className:"w-28 border border-gray-300 p-2 font-medium",children:"Full Payment"}),o.jsx("th",{className:"w-20 border border-gray-300 p-2 font-medium",children:"Penalty"}),o.jsx("th",{className:"w-20 border border-gray-300 p-2 font-medium",children:"Total"}),O.includes("Present")&&o.jsx("th",{className:"w-20 border border-gray-300 p-2 font-medium",children:"Discount"}),o.jsx("th",{className:"w-16 border border-gray-300 p-2 font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:F.map((B,U)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:U+1}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:B.LandPrice.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:B.ImprovementPrice.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:B.TotalAssessedValue.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:B.TaxDue.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:B.InstallmentPayment?"Yes":"No"}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:B.FullPayment?"Yes":"No"}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:B.Penalty.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:B.Total.toFixed(2)}),O.includes("Present")&&o.jsx("td",{className:"border border-gray-300 p-1 text-right",children:B.Discount.toFixed(2)}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>R(U),className:"text-red-500 hover:text-red-700",children:o.jsx(Jt,{size:16})})})]},U))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(lfe,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 items-center border-b ",children:[o.jsx(ut,{label:"Owner",name:"CustomerName",options:r,value:h.CustomerName,onSelect:F=>{const O=r.find(R=>R.value===F);N("CustomerName",(O==null?void 0:O.label)||""),N("ownerId",(O==null?void 0:O.value)||"")},className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",selectedValue:h.ownerId,error:x.CustomerName,required:!0,touched:v.CustomerName}),o.jsx(I,{label:"General Revision (Year)",name:"basicGeneralYearID",type:"select",options:n,value:h.basicGeneralYearID,onChange:C,required:!0,onBlur:j,error:x.basicGeneralYearID,touched:v.basicGeneralYearID,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Tax Declaration Number",name:"T_D_No",type:"select",options:A,value:h.T_D_No,disabled:!A.length||l,onChange:C,onBlur:j,error:x.T_D_No,required:!0,touched:v.T_D_No,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx("button",{className:"btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",disabled:!A.length||l||!h.T_D_No,onClick:k,children:"Add"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[o.jsx(I,{label:"Check Number",name:"CheckNumber",value:h.CheckNumber,onChange:C,required:!0,onBlur:j,error:x.CheckNumber,touched:v.CheckNumber,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Received From",name:"ReceivedFrom",value:h.ReceivedFrom,onChange:C,required:!0,onBlur:j,error:x.ReceivedFrom,touched:v.ReceivedFrom,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Municipality",name:"Municipality",value:h.Municipality,onChange:C,onBlur:j,required:!0,error:x.Municipality,touched:v.Municipality,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Address",name:"Location",value:h.Location,onChange:C,required:!0,onBlur:j,error:x.Location,touched:v.Location,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Block",name:"Block",value:h.Block,onChange:C,onBlur:j,required:!0,error:x.Block,touched:v.Block,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Lot",name:"Lot",value:h.Lot,onChange:C,onBlur:j,required:!0,error:x.Lot,touched:v.Lot,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"})]})]})]}),o.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${c?"":"opacity-50 pointer-events-none"}`,children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"sm:p-6 p-3",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Land Values",name:"LandPrice",value:m.LandPrice,onChange:T,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Improvement",name:"ImprovementPrice",value:m.ImprovementPrice,onChange:T,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Total Assessed Value",name:"TotalAssessedValue",value:m.TotalAssessedValue,onChange:T,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Tax Due",name:"TaxDue",value:m.TaxDue,onChange:T,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Installment Payment",name:"InstallmentPayment",value:m.InstallmentPayment,onChange:T,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Full Payment",name:"FullPayment",value:m.FullPayment,onChange:T,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Penalty",name:"Penalty",value:m.Penalty,onChange:T,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Total",name:"Total",value:m.Total,onChange:T,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{type:"button",className:"btn btn-primary",disabled:!c,onClick:$,children:[o.jsx(nm,{size:16})," Add"]})})]})})]}),v.PreviousPaymentList&&x.PreviousPaymentList&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:x.PreviousPaymentList}),o.jsx(P,{entries:h.PreviousPaymentList,title:"Previous Year Balance - Detailed Property List",removeEntry:L}),o.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${c?"":"opacity-50 pointer-events-none"}`,children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(I,{label:"Land Values",name:"LandPrice",value:g.LandPrice,onChange:E,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Improvement",name:"ImprovementPrice",value:g.ImprovementPrice,onChange:E,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Total Assessed Value",name:"TotalAssessedValue",value:g.TotalAssessedValue,onChange:E,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Tax Due",name:"TaxDue",value:g.TaxDue,onChange:E,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Discount Rate",name:"Discount",value:g.Discount,onChange:E,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Penalty Rate",name:"Penalty",value:g.Penalty,onChange:E,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx(I,{label:"Total",name:"Total",value:g.Total,onChange:E,disabled:!c,className:"border-gray-200 focus:border-blue-500 focus:ring-blue-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4 flex-col",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:g.InstallmentPayment,onChange:()=>y({...g,InstallmentPayment:!0,FullPayment:!1}),disabled:!c,className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:g.FullPayment,onChange:()=>y({...g,FullPayment:!0,InstallmentPayment:!1}),disabled:!c,className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{type:"button",className:"btn btn-primary",disabled:!c,onClick:M,children:[o.jsx(nm,{size:16})," Add"]})})]})]})]}),v.PresentPaymentList&&x.PresentPaymentList&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:x.PresentPaymentList}),o.jsx(P,{entries:h.PresentPaymentList,title:"Present Year Balance - Detailed Property List",removeEntry:D}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white sm:p-6 p-3 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(MT,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"sm:p-6 p-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(I,{label:"Amount Received",name:"AmountReceived",value:h.AmountReceived,onChange:F=>{N("AmountReceived",F.target.value);const O=Ro(F.target.value);N("AmountinWords",O)},onBlur:j,required:!0,error:x.AmountReceived,touched:v.AmountReceived,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 text-right font-mono"}),o.jsx(I,{label:"Remaining Balance",name:"RemainingBalance",value:h.RemainingBalance,onChange:C,onBlur:j,required:!0,error:x.RemainingBalance,touched:v.RemainingBalance,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(I,{label:"Received From",name:"ReceivedFrom",value:h.ReceivedFrom,onChange:C,required:!0,onBlur:j,error:x.ReceivedFrom,touched:v.ReceivedFrom,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-start gap-2",children:[o.jsx(I,{type:"checkbox",name:"advancePayment",checked:d,onChange:F=>f(F.target.checked),className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm font-medium ",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(I,{label:"Funds",name:"AdvanceFunds",value:h.AdvanceFunds,onChange:C,onBlur:j,required:!0,error:x.AdvanceFunds,touched:v.AdvanceFunds,disabled:!d,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 w-20 disabled:bg-gray-100 disabled:cursor-not-allowed"}),o.jsx("span",{className:"text-sm text-gray-900",children:"Until"}),o.jsx(I,{label:"Year",name:"AdvancedYear",value:h.AdvancedYear,onChange:C,onBlur:j,required:!0,error:x.AdvancedYear,touched:v.AdvancedYear,disabled:!d,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 w-20 disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Fund Type ",o.jsx("span",{className:"text-red-600",children:"*"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"FundsID",checked:h.FundsID===1,onChange:()=>N("FundsID",1),onBlur:j,className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"FundsID",checked:h.FundsID===2,onChange:()=>N("FundsID",2),onBlur:j,className:"text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(I,{label:"Amount In Words",name:"AmountinWords",type:"textarea",value:h.AmountinWords,onChange:C,onBlur:j,error:x.AmountinWords,touched:v.AmountinWords,required:!0,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx(St,{variant:"outline",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx(St,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",onClick:S,children:"Save Draft"})]})]})})};function jze(){const t=ce(),{realPropertyTaxes:e,isLoading:r}=z(E=>E.realPropertyTax),{generalRevisions:n,isLoading:a}=z(E=>E.generalRevisions),{customers:s,isLoading:i}=z(E=>E.customers),{Add:l,Edit:c,Print:u}=we(70),[d,f]=w.useState("list"),[m,p]=w.useState(null),[g,y]=w.useState(!1);w.useEffect(()=>{t(nl()),t(_o()),t(mn())},[]);const b=()=>{p(null),f("form")},h=E=>{p(E),f("form")},x=E=>{console.log("Print property:",E)},v=()=>{f("list"),p(null)},C=[{key:"Status",header:"Status",sortable:!0,render:E=>j(E)},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"T_D_No",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"LinkID",header:"Link ID",sortable:!0}],j=E=>{let $="bg-neutral-100 text-neutral-800";switch(E){case"Active":$="bg-success-100 text-success-800";break;case"Requested":$="bg-warning-100 text-warning-800";break;case"Rejected":$="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$}`,children:E})},N=async(E,$)=>{var D,P;const M={approve:{endpoint:"postTransaction",payload:{id:E.id,linkID:E.LinkID,approvalLinkID:E.approvalLinkID,approvalProgress:E.approvalProgress,amountReceived:E.amountReceived,ApprovalOrder:E.ApprovalOrder,transactionApprovalVersion:E.transactionApprovalVersion},successMsg:"Real Property approved successfully",errorMsg:"Error approving Real Property"},reject:{endpoint:"rejectTransaction",payload:{id:E.id,approvalLinkID:E.approvalLinkID,reasonForRejection:E.reasonForRejection},successMsg:"Real Property rejected successfully",errorMsg:"Error rejecting Real Property"}}[$];if(!M){console.error("Invalid action:",$);return}y(!0);try{const{data:F}=await axiosInstance.post(`/real-property-tax/${M.endpoint}`,M.payload);console.log(`${$} response:`,F),t(nl()),V.success(M.successMsg)}catch(F){const O=((P=(D=F.response)==null?void 0:D.data)==null?void 0:P.message)||M.errorMsg;console.error(O,F),V.error(O)}finally{y(!1)}},S=E=>{const $=[];return E.Status.toLowerCase().includes("rejected")&&c?$.push({icon:ke,title:"Edit",onClick:()=>h(E),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):E.Status==="Requested"&&$.push({icon:bn,title:"Post",onClick:()=>N(E,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>N(E,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),$.push({icon:Zo,title:"View",onClick:()=>{},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),$},A=async E=>{try{await t(eb(E)).unwrap(),t(nl()),v(),V.success("Property saved successfully")}catch($){console.error("Error saving property:",$),V.error("Failed to save property. Please try again.")}},k=s==null?void 0:s.map(E=>({value:E.ID,label:E.Name||`${E.FirstName} ${E.MiddleName} ${E.LastName}`})),T=n==null?void 0:n.map(E=>({value:E.ID,label:E.General_Revision_Date_Year}));return o.jsxs(o.Fragment,{children:[d==="list"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4 mb-6 page-header",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),l&&o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),o.jsx(ye,{columns:C,data:e,actions:S,loading:r||a||i||g,selectedRow:m})]}),d==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between max-sm:flex-col gap-4 sm:items-center mb-6",children:[o.jsxs("div",{className:"flex sm:items-center gap-4 max-sm:flex-col",children:[o.jsx("button",{onClick:v,className:"mr-4 p-1 rounded-full hover:bg-neutral-100 w-fit",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:m?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:m?"Update the property details":"Fill out the form to create a new property record"})]})]}),u&&o.jsxs("button",{onClick:()=>{console.log("Print")},className:"btn btn-primary",children:[o.jsx(Wc,{className:"h-5 w-5 mr-2","aria-hidden":"true"})," ","Print"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(b5,{initialData:m,onBack:v,onCreateOrEdit:A,individualOptions:k,generalRevisionsOptions:T})})]}),d==="details"&&m&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:v,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(wa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>h(m),className:"btn btn-primary flex items-center",children:[o.jsx(ke,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>x(m),className:"btn btn-outline flex items-center",children:[o.jsx(Wc,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(b5,{initialData:m,readOnly:!0,onBack:v})})]})]})}function wze({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=w.useRef(null),l=le({endDate:_().required("Date End is required"),fundID:_().required("Fund is required"),approverID:_().required("Approver is required"),ledger:_().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(Le,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:p,handleBlur:g,isSubmitting:y,setFieldValue:b})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(I,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:p,onBlur:g,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(I,{type:"select",label:"Fund",name:"fundID",options:t.map(h=>({value:h.ID,label:h.Name})),value:d.fundID,onChange:p,onBlur:g,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(I,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:p,onBlur:g,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(I,{label:"Approver",name:"approverID",type:"select",options:e.map(h=>{var x;return{value:h.ID,label:h.FirstName+" "+h.MiddleName+" "+h.LastName+" - "+((x=h==null?void 0:h.Department)==null?void 0:x.Name)}}),value:d.approverID,onChange:p,onBlur:g,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-neutral-200 max-sm:flex-col",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const Nze="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Cze={trialBalances:[],isLoading:!1,error:null},Zb=q("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Nze}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),wC=q("trialBalance/exportTrialBalances",async t=>!0),p8=ve({name:"trialBalance",initialState:Cze,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(Zb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zb.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(Zb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(wC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wC.fulfilled,e=>{e.isLoading=!1}).addCase(wC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:Sze}=p8.actions,Aze=p8.reducer;function Ize(){const t="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",e=ce(),{trialBalances:r,isLoading:n,error:a}=z(f=>f.trialBalance),{funds:s}=z(f=>f.funds),{employees:i}=z(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);w.useEffect(()=>{e(Sze()),e(Zt()),e(dn())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=localStorage.getItem("token"),p=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!p.ok)throw new Error("Server response was not ok");const g=await p.blob(),y=p.headers.get("Content-Disposition");let b="Trial_Balance.xlsx";y&&y.includes("filename=")&&(b=y.split("filename=")[1].replace(/['"]/g,""));const h=window.URL.createObjectURL(g),x=document.createElement("a");x.href=h,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(h)}catch(m){console.error("Export failed:",m),V.error(m.message||"Failed to export trial balance")}},d=f=>{e(Zb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-3 sm:p-6 bg-white rounded-md shadow",children:o.jsx(wze,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:c,data:r,loading:n,pagination:!0})})]})}const kze="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Tze=le().shape({BudgetID:_().required("Budget is required"),budgetName:_(),fiscalYearID:_(),departmentID:_(),subDepartmentID:_(),chartOfAccountsID:_(),fundID:_(),projectID:_(),allotment:K().integer().required("Allotment is required"),remarks:_(),appropriation:K().integer(),balance:K().integer(),releasedAllotments:K().integer(),releasedBalance:K().integer(),Attachments:Vt()}),x5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",allotment:0,charges:0,totalAmount:0,balance:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[],Status:"Requested"};function Eze({isView:t,initialData:e,onSubmit:r,onClose:n,allotmentList:a,departmentOptions:s,subDepartmentOptions:i,chartOfAccountsOptions:l,fundOptions:c,projectOptions:u,fiscalYearOptions:d}){const[f,m]=w.useState({...x5});w.useEffect(()=>{if(e!=null&&e.ID){const{Budget:h}=e;m({BudgetID:h==null?void 0:h.ID,budgetName:(h==null?void 0:h.Name)||"",fiscalYearID:(h==null?void 0:h.FiscalYearID)||"",departmentID:(h==null?void 0:h.DepartmentID)||"",subDepartmentID:(h==null?void 0:h.SubDepartmentID)||"",chartOfAccountsID:(h==null?void 0:h.ChartofAccountsID)||"",fundID:(h==null?void 0:h.FundID)||"",projectID:(h==null?void 0:h.ProjectID)||"",allotment:(h==null?void 0:h.Allotment)||0,charges:(h==null?void 0:h.Charges)||0,totalAmount:(h==null?void 0:h.TotalAmount)||0,balance:(h==null?void 0:h.AppropriationBalance)||0,remarks:(e==null?void 0:e.Remarks)||"",appropriation:(h==null?void 0:h.Appropriation)||0,releasedAllotments:(h==null?void 0:h.ReleasedAllotments)||0,releasedBalance:(h==null?void 0:h.ReleasedBalance)||0,Attachments:(h==null?void 0:h.Attachments)||[],Status:(e==null?void 0:e.Status)||"Requested"})}else m(x5)},[e]);const p=async(h,{setSubmitting:x})=>{try{const v=new FormData;h==null||h.Attachments.forEach((j,N)=>{j.ID?v.append(`Attachments[${N}].ID`,j.ID):v.append(`Attachments[${N}].File`,j)}),(h==null?void 0:h.Attachments.length)===0&&v.append("Attachments","[]");const C={BudgetID:h.BudgetID,Remarks:h.remarks,Allotment:h.allotment};Object.entries(C).forEach(([j,N])=>{v.append(j,JSON.stringify(N))}),e?(v.append("LinkID",JSON.stringify(e.LinkID)),v.append("IsNew",JSON.stringify(!1))):v.append("IsNew",JSON.stringify(!0)),await r(v)}catch(v){console.error("Submission error:",v)}finally{x(!1)}},g=h=>{const x=a==null?void 0:a.find(v=>v.ID===parseInt(h));x&&m({...f,BudgetID:x.ID,budgetName:x.Name||"",fiscalYearID:x.FiscalYearID||"",departmentID:x.DepartmentID||"",subDepartmentID:x.SubDepartmentID||"",chartOfAccountsID:x.ChartofAccountsID||"",fundID:x.FundID||"",projectID:x.ProjectID||"",appropriation:parseFloat(x.Appropriation)||0,balance:parseFloat(x.AppropriationBalance)||0,charges:parseFloat(x.Charges||0)})},y=(h,x,v)=>{const j=Array.from(h.target.files).map(N=>N);x("Attachments",[...v.Attachments,...j])},b=(h,x,v)=>{const C=[...v.Attachments];C.splice(h,1),x("Attachments",C)};return o.jsx(Le,{enableReinitialize:!0,initialValues:f,validationSchema:Tze,onSubmit:p,children:({values:h,errors:x,touched:v,handleChange:C,handleBlur:j,isSubmitting:N,setFieldValue:S})=>{var A,k;return o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2 pt-4",children:o.jsx(ut,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:f.BudgetID,onSelect:g,options:a.map(T=>({label:T.Name,value:T.ID})),error:x.BudgetID,touched:v.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:T=>y(T,S,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((A=h==null?void 0:h.Attachments)==null?void 0:A.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((T,E)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:o.jsx("a",{href:T!=null&&T.ID?`${kze}/uploads/${T==null?void 0:T.DataImage}`:URL.createObjectURL(T),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(T==null?void 0:T.name)||(T==null?void 0:T.DataName)})}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:T==null?void 0:T.type})]}),o.jsx("button",{type:"button",onClick:()=>b(E,S,h),className:"text-red-500 hover:text-red-700",children:o.jsx(Jt,{className:"h-4 w-4"})})]},E))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:((k=h==null?void 0:h.Status)==null?void 0:k.toUpperCase())||"Requested"})]}),o.jsx(I,{label:"Budget Name",name:"budgetName",type:"text",value:h.budgetName,onChange:C,onBlur:j,error:x.budgetName,touched:v.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:h.fiscalYearID,onChange:C,onBlur:j,error:x.fiscalYearID,touched:v.fiscalYearID,options:d,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:h.departmentID,onChange:C,onBlur:j,error:x.departmentID,touched:v.departmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:h.subDepartmentID,onChange:C,onBlur:j,error:x.subDepartmentID,touched:v.subDepartmentID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:h.chartOfAccountsID,onChange:C,onBlur:j,error:x.chartOfAccountsID,touched:v.chartOfAccountsID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fundID",type:"select",value:h.fundID,onChange:C,onBlur:j,error:x.fundID,touched:v.fundID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Project",name:"projectID",type:"select",value:h.projectID,onChange:C,onBlur:j,error:x.projectID,touched:v.projectID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"appropriation",type:"number",value:h.appropriation,onChange:C,onBlur:j,error:x.appropriation,touched:v.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Balance",name:"balance",type:"number",value:h.balance,onChange:C,onBlur:j,error:x.balance,touched:v.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:h.releasedAllotments,onChange:C,onBlur:j,error:x.releasedAllotments,touched:v.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Balance",name:"releasedBalance",type:"number",value:h.releasedBalance,onChange:C,onBlur:j,error:x.releasedBalance,touched:v.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(I,{label:"Allotment",name:"allotment",type:"number",value:h.allotment,onChange:C,onBlur:j,error:x.allotment,touched:v.allotment,required:!0}),o.jsx(I,{label:"Remarks",name:"remarks",type:"textarea",value:h.remarks,onChange:C,onBlur:j,error:x.remarks,touched:v.remarks})]}),!t&&o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:N,className:"btn btn-primary",children:e?"Update":"Save"})]})]})}})}const Pze=()=>{const t=ce(),{user:e}=z(B=>B.auth),{Add:r,Edit:n,Print:a}=we(23),{departments:s}=z(B=>B.departments),{subdepartments:i}=z(B=>B.subdepartments),l=z(B=>{var U;return((U=B.chartOfAccounts)==null?void 0:U.accounts)||[]}),{fiscalYears:c}=z(B=>B.fiscalYears),{funds:u}=z(B=>B.funds),{projectDetails:d}=z(B=>B.projectDetails),[f,m]=w.useState([]),[p,g]=w.useState([]),[y,b]=w.useState(!1),[h,x]=w.useState(!1),[v,C]=w.useState(null),[j,N]=w.useState(!1),[S,A]=w.useState({department:"",subDepartment:"",chartOfAccounts:""});w.useEffect(()=>{t(ir()),t(ko()),t(kr()),k(),T()},[]);const k=async()=>{try{const B=await qe("/budgetAllotment/list");m(B.data)}catch(B){oe.error("Failed to load data"),oe.error(B.message)}},T=async()=>{try{const B=await qe("/budgetSupplemental/budgetList");g(B==null?void 0:B.data)}catch(B){oe.error("Failed to load data"),oe.error(B.message)}},E=B=>{const{name:U,value:G}=B.target;A(W=>({...W,[U]:G}))},$=async B=>{try{(await qe.post("budgetAllotment",B,{headers:{"Content-Type":"multipart/form-data"}})).data?(oe.success(v?"Allotment updated successfully":"New Allotment added"),k()):oe.error("Failed to save supplemental")}catch(U){console.error("Error submitting supplemental:",U),oe.error(U.message||"Failed to save supplemental")}finally{b(!1)}},L=B=>{C(B),b(!0)},M=B=>{C(B),b(!0),x(!0)},D=[{key:"Status",header:"Status",render:B=>o.jsx("span",{children:B})},{key:"InvoiceNumber",header:"Invoice Number",render:(B,U)=>o.jsx("span",{children:U.InvoiceNumber})},{key:"Budget",header:"Budget",render:(B,U)=>{var G;return o.jsx("span",{children:(G=U.Budget)==null?void 0:G.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(B,U)=>{const G=new Date(U.InvoiceDate);return o.jsx("span",{children:G.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(B,U)=>{var G;return o.jsx("span",{children:parseFloat(((G=U==null?void 0:U.Budget)==null?void 0:G.TotalAmount)||B||0).toLocaleString("en-US",{minimumFractionDigits:2})})}}],P=async(B,U)=>{N(!0);try{console.log(`${U}d:`,response.data),oe.success(`Budget Allotment ${U}d successfully`)}catch(G){console.error(`Error ${U}ing Budget Allotment:`,G),oe.error(`Error ${U}ing Budget Allotment`)}finally{N(!1)}},F=B=>{const U=[];return B.Status.toLowerCase().includes("rejected")&&n?(U.push({icon:Na,title:"Edit",onClick:L,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U.push({icon:Ca,title:"Delete",onClick:()=>O(B),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):B.Status.toLowerCase().includes("requested")&&U.push({icon:bn,title:"Approve",onClick:()=>P(B,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>P(B,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),U.push({icon:Au,title:"View",onClick:M,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),U},O=async B=>{console.log("Delete row",B)},R=f==null?void 0:f.filter(B=>{const{Budget:U}=B;return(!S.department||(U==null?void 0:U.DepartmentID)==S.department)&&(!S.subDepartment||(U==null?void 0:U.SubDepartmentID)==S.subDepartment)&&(!S.chartOfAccounts||(U==null?void 0:U.ChartofAccountsID)==S.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Allotment"}),o.jsx("p",{children:"Manage budget allotments here"})]}),o.jsxs("div",{className:"flex gap-4",children:[r&&o.jsxs("button",{onClick:()=>L(null),className:"btn btn-primary flex items-center",children:[o.jsx(Uue,{className:"h-5 w-5 mr-2"}),"Add Allotment"]}),a&&o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(am,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:S.department,onChange:E,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),s==null?void 0:s.map(B=>o.jsx("option",{value:B.ID,children:B.Name},B.ID))]}),o.jsxs("select",{name:"subDepartment",value:S.subDepartment,onChange:E,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),i==null?void 0:i.map(B=>o.jsx("option",{value:B.ID,children:B.Name},B.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:S.chartOfAccounts,onChange:E,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),l==null?void 0:l.map(B=>o.jsx("option",{value:B.ID,children:B.Name},B.ID))]})]}),o.jsx(ye,{columns:D,data:R,actions:F,loading:j,onRowClick:B=>{C(B)},selectedRow:v,pagination:!0}),o.jsx(ie,{size:"md",isOpen:y,onClose:()=>{b(!1),C(null),x(!1)},title:h?"View Allotment":v?"Edit Allotment":"Add Allotment",children:o.jsx(Eze,{isView:h,allotmentList:p,departmentOptions:s.map(B=>({value:B.ID,label:B.Name})),subDepartmentOptions:i.map(B=>({value:B.ID,label:B.Name})),chartOfAccountsOptions:l.map(B=>({value:B.ID,label:B.Name})),fundOptions:u.map(B=>({value:B.ID,label:B.Name})),projectOptions:d.map(B=>({value:B.ID,label:B.Title})),fiscalYearOptions:c.map(B=>({value:B.ID,label:B.Name})),onSubmit:$,initialData:v,onClose:()=>b(!1)})})]})},Oh="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",v5=t=>({IsNew:!(t!=null&&t.ID),ID:(t==null?void 0:t.ID)||"",Name:t.Name,FiscalYearID:Number(t.FiscalYearID),DepartmentID:Number(t.DepartmentID),SubDepartmentID:Number(t.SubDepartmentID),ChartOfAccountsID:Number(t.ChartofAccountsID),FundID:Number(t.FundID),ProjectID:Number(t.ProjectID),Appropriation:Number(t.Appropriation),Charges:Number(t.Charges),January:Number(t.January),February:Number(t.February),March:Number(t.March),April:Number(t.April),May:Number(t.May),June:Number(t.June),July:Number(t.July),August:Number(t.August),September:Number(t.September),October:Number(t.October),November:Number(t.November),December:Number(t.December)}),Dze=()=>{const t=ce(),{departments:e}=z(E=>E.departments),{subdepartments:r}=z(E=>E.subdepartments),n=z(E=>{var $;return(($=E.chartOfAccounts)==null?void 0:$.accounts)||[]}),{fiscalYears:a}=z(E=>E.fiscalYears),{funds:s}=z(E=>E.funds),{projectDetails:i}=z(E=>E.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState(!1),[f,m]=w.useState(null),[p,g]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),{Add:y,Edit:b,Delete:h}=we(22);w.useEffect(()=>{t(ir()),t(ko()),t(kr()),t(fn()),t(Zt()),t(za()),x()},[]);const x=async()=>{try{const $=await(await fetch(`${Oh}/budget`)).json();$!=null&&$.status?c(($==null?void 0:$.items)||[]):oe.error("Failed to fetch budget details")}catch(E){oe.error(E.message)}},v=E=>{const{name:$,value:L}=E.target;g(M=>({...M,[$]:L}))},C=E=>{f?N(E):j(E)},j=async E=>{try{await(await fetch(`${Oh}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(v5(E))})).json()&&(x(),d(!1),oe.success("Budget added successfully"))}catch($){oe.error($.message)}},N=async E=>{try{await(await fetch(`${Oh}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(v5(E))})).json()&&(x(),d(!1),oe.success("Budget updated successfully"))}catch($){oe.error($.message)}},S=async E=>{try{await(await fetch(`${Oh}/budget/${E}`,{method:"DELETE"})).json()&&(x(),oe.success("Budget deleted"))}catch($){oe.error($.message)}},A=[{key:"Name",header:"Name"},{key:"FiscalYearID",header:"Fiscal Year",render:(E,$)=>{var L;return o.jsx("span",{children:((L=$==null?void 0:$.FiscalYear)==null?void 0:L.Name)||"N/A"})}},{key:"DepartmentID",header:"Department",render:(E,$)=>{var L;return o.jsx("span",{children:((L=$==null?void 0:$.Department)==null?void 0:L.Name)||"N/A"})}},{key:"SubDepartmentID",header:"Sub Department",render:(E,$)=>{var L;return o.jsx("span",{children:((L=$==null?void 0:$.SubDepartment)==null?void 0:L.Name)||"N/A"})}},{key:"ChartofAccountsID",header:"Chart of Accounts",render:(E,$)=>{var L;return o.jsx("span",{children:((L=$==null?void 0:$.ChartofAccounts)==null?void 0:L.Name)||"N/A"})}},{key:"FundID",header:"Fund",render:(E,$)=>{var L;return o.jsx("span",{children:((L=$==null?void 0:$.Funds)==null?void 0:L.Name)||"N/A"})}},{key:"ProjectID",header:"Project",render:(E,$)=>{var L;return o.jsx("span",{children:((L=$==null?void 0:$.Project)==null?void 0:L.Title)||"N/A"})}},{key:"Appropriation",header:"Appropriation",render:xt},{key:"AppropriationBalance",header:"Appropriation Balance",render:xt},{key:"TotalAmount",header:"Total Amount",render:xt},{key:"AllotmentBalance",header:"Allotment Balance",render:xt},{key:"ChargedAllotment",header:"Charges",render:xt},{key:"PreEncumbrance",header:"Pre Encumbrance",render:xt},{key:"Encumbrance",header:"Encumbrance",render:xt},{key:"January",header:"January",render:xt},{key:"February",header:"February",render:xt},{key:"March",header:"March",render:xt},{key:"April",header:"April",render:xt},{key:"May",header:"May",render:xt},{key:"June",header:"June",render:xt},{key:"July",header:"July",render:xt},{key:"August",header:"August",render:xt},{key:"September",header:"September",render:xt},{key:"October",header:"October",render:xt},{key:"November",header:"November",render:xt},{key:"December",header:"December",render:xt}],k=[b&&{icon:Na,title:"Edit",onClick:E=>{m(E),d(!0)},className:"text-primary-600 hover:text-primary-900 p-1"},h&&{icon:Ca,title:"Delete",onClick:E=>S(E==null?void 0:E.ID),className:"text-red-600 hover:text-red-800 p-1"}],T=l.filter(E=>{var $,L,M;return(!p.department||(($=E.Department)==null?void 0:$.ID)==p.department)&&(!p.subDepartment||((L=E.SubDepartment)==null?void 0:L.ID)==p.subDepartment)&&(!p.chartOfAccounts||((M=E.ChartofAccounts)==null?void 0:M.ID)==p.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Details"}),o.jsx("p",{children:"View and manage detailed budget entries"})]}),y&&o.jsxs("button",{onClick:()=>{m(null),d(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(nm,{className:"h-5 w-5 mr-2"}),"Add Budget"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 my-4",children:[o.jsxs("select",{name:"department",value:p.department,onChange:v,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]}),o.jsxs("select",{name:"subDepartment",value:p.subDepartment,onChange:v,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:p.chartOfAccounts,onChange:v,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(E=>o.jsx("option",{value:E.ID,children:E.Name},E.ID))]})]}),o.jsx(ye,{columns:A,data:T,actions:k,pagination:!0}),o.jsx(ie,{size:"lg",isOpen:u,onClose:()=>d(!1),title:f?"Edit Budget":"Add Budget",children:o.jsx(JU,{departmentOptions:e.map(E=>({value:E.ID,label:E.Name})),subDepartmentOptions:r.map(E=>({value:E.ID,label:E.Name})),chartOfAccountsOptions:n.map(E=>({value:E.ID,label:E.Name})),fundOptions:s.map(E=>({value:E.ID,label:E.Name})),projectOptions:i.map(E=>({value:E.ID,label:E.Title})),fiscalYearOptions:a.map(E=>({value:E.ID,label:E.Name})),onSubmit:C,initialData:f,onClose:()=>d(!1)})})]})},Oze=()=>{const t=ce(),{departments:e,isLoading:r}=z(j=>j.departments),{subdepartments:n,isLoading:a}=z(j=>j.subdepartments),s=z(j=>{var N;return((N=j.chartOfAccounts)==null?void 0:N.accounts)||[]}),[i,l]=w.useState([]),[c,u]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,f]=w.useState(!1),[m,p]=w.useState(null),[g,y]=w.useState(!0);w.useEffect(()=>{t(ir()),t(ko()),t(kr()),b()},[]);const b=async()=>{try{y(!0);const j=await qe("/budgetSummary");l(j.data||[])}catch(j){console.error("Error fetching budget summaries:",j)}finally{y(!1)}},h=j=>{const{name:N,value:S}=j.target;u(A=>({...A,[N]:S}))},x=i.filter(j=>{var N,S;return(!c.department||((N=j.Department)==null?void 0:N.Name)===c.department)&&(!c.subDepartment||((S=j.SubDepartment)==null?void 0:S.Name)===c.subDepartment)&&(!c.chartOfAccounts||j.ChartOfAccounts===c.chartOfAccounts)}),v=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0,render:(j,N)=>N==null?void 0:N.FiscalYear.Name},{key:"DepartmentID",header:"Department",sortable:!0,render:(j,N)=>{var S;return(S=N==null?void 0:N.Department)==null?void 0:S.Name}},{key:"SubDepartmentID",header:"Sub Department",sortable:!0,render:(j,N)=>{var S;return(S=N==null?void 0:N.SubDepartment)==null?void 0:S.Name}},{key:"ChartofAccountsID",header:"Chart of Accounts",sortable:!0,render:(j,N)=>{var S;return(S=N==null?void 0:N.ChartofAccounts)==null?void 0:S.Name}},{key:"FundsID",header:"Fund",sortable:!0,render:(j,N)=>{var S;return(S=N==null?void 0:N.Funds)==null?void 0:S.Name}},{key:"ProjectID",header:"Project",sortable:!0,render:(j,N)=>{var S;return(S=N==null?void 0:N.Project)==null?void 0:S.Title}},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"ChargedAllotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0},{key:"Change",header:"Change",sortable:!0},{key:"Supplemental",header:"Supplemental",sortable:!0},{key:"Released",header:"Released",sortable:!0},{key:"Charges",header:"Charges",sortable:!0},{key:"PreEncumbrance",header:"Pre Encumbr.",sortable:!0},{key:"Encumbrance",header:"Encumbrance",sortable:!0},{key:"January",header:"January",sortable:!0},{key:"February",header:"February",sortable:!0},{key:"March",header:"March",sortable:!0},{key:"April",header:"April",sortable:!0},{key:"May",header:"May",sortable:!0},{key:"June",header:"June",sortable:!0},{key:"July",header:"July",sortable:!0},{key:"August",header:"August",sortable:!0},{key:"September",header:"September",sortable:!0},{key:"October",header:"October",sortable:!0},{key:"November",header:"November",sortable:!0},{key:"December",header:"December",sortable:!0}],C=j=>{p(j),f(!0)};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Summary"}),o.jsx("p",{children:"Review the budget performance across months and categories."})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:c.department,onChange:h,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),e==null?void 0:e.map(j=>o.jsx("option",{value:j.Name,children:j.Name},j.ID))]}),o.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:h,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(j=>o.jsx("option",{value:j.Name,children:j.Name},j.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:h,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),s==null?void 0:s.map(j=>o.jsx("option",{value:j.Name,children:j.Name},j.ID))]})]}),o.jsx(ye,{columns:v,data:x,loading:g||r||a,pagination:!0,onRowClick:C}),o.jsx(ie,{isOpen:d,onClose:()=>f(!1),title:"Budget Summary Details",size:"5xl",children:o.jsx(_ze,{data:m})})]})},_ze=({data:t})=>{var r,n,a,s,i,l;if(!t)return null;const e=c=>c||"";return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Budget Name:"})," ",e(t.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fiscal Year:"})," ",e((r=t.FiscalYear)==null?void 0:r.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Department:"})," ",e((n=t.Department)==null?void 0:n.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"SubDepartment:"})," ",e((a=t.SubDepartment)==null?void 0:a.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Chart of Accounts:"})," ",e((s=t.ChartofAccounts)==null?void 0:s.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Fund:"})," ",e((i=t.Funds)==null?void 0:i.Name)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Project:"})," ",e((l=t.Project)==null?void 0:l.Title)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Original):"})," ",e(t.Appropriation)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation Balance:"})," ",e(t.AppropriationBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation (Adjusted):"})," ",e(t.RevisedAmount)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Adjustments:"})," ",e(t.Change)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Allotment:"})," ",e(t.ChargedAllotment)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Allotment Balance:"})," ",e(t.AllotmentBalance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Pre Encumbrance:"})," ",e(t.PreEncumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Encumbrance:"})," ",e(t.Encumbrance)]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",e(t.Charges)]})]}),o.jsxs("div",{className:"space-y-2",children:[["January","February","March","April","May","June","July","August","September","October","November","December"].map(c=>o.jsxs("div",{children:[o.jsxs("strong",{children:[c,":"]})," ",e(t[c])]},c)),o.jsxs("div",{className:"font-semibold pt-2 border-t",children:[o.jsx("strong",{children:"Total Amount:"})," ",e(t.TotalAmount)]})]})]})},$ze="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Rze=le().shape({BudgetID:_().required("Budget is required"),budgetName:_(),fiscalYearID:_(),departmentID:_(),subDepartmentID:_(),chartOfAccountsID:_(),fundID:_(),projectID:_(),supplemental:K().integer().required("Supplemental is required"),remarks:_(),appropriation:K().integer(),balance:K().integer(),releasedAllotments:K().integer(),releasedBalance:K().integer(),Attachments:Vt()}),j5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function Mze({initialData:t,onSubmit:e,onClose:r,budgetList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=w.useState({...j5});w.useEffect(()=>{if(t!=null&&t.ID){const{Budget:b}=t;f({BudgetID:b==null?void 0:b.ID,budgetName:(b==null?void 0:b.Name)||"",fiscalYearID:(b==null?void 0:b.FiscalYearID)||"",departmentID:(b==null?void 0:b.DepartmentID)||"",subDepartmentID:(b==null?void 0:b.SubDepartmentID)||"",chartOfAccountsID:(b==null?void 0:b.ChartofAccountsID)||"",fundID:(b==null?void 0:b.FundID)||"",projectID:(b==null?void 0:b.ProjectID)||"",supplemental:(b==null?void 0:b.Supplemental)||0,charges:(b==null?void 0:b.Charges)||0,totalAmount:(b==null?void 0:b.TotalAmount)||0,balance:(b==null?void 0:b.AppropriationBalance)||0,remarks:(t==null?void 0:t.Remarks)||"",appropriation:(b==null?void 0:b.Appropriation)||0,releasedAllotments:(b==null?void 0:b.ReleasedAllotments)||0,releasedBalance:(b==null?void 0:b.ReleasedBalance)||0,Attachments:(b==null?void 0:b.Attachments)||[]})}else f(j5)},[t]);const m=async(b,{setSubmitting:h})=>{try{const x=new FormData;b==null||b.Attachments.forEach((C,j)=>{C.ID?x.append(`Attachments[${j}].ID`,C.ID):x.append(`Attachments[${j}].File`,C)}),(b==null?void 0:b.Attachments.length)===0&&x.append("Attachments","[]"),console.log({values:b});const v={BudgetID:b.BudgetID,Remarks:b.remarks,Supplemental:b.supplemental};Object.entries(v).forEach(([C,j])=>{x.append(C,JSON.stringify(j))}),t?(x.append("LinkID",JSON.stringify(t.LinkID)),x.append("IsNew",JSON.stringify(!1))):x.append("IsNew",JSON.stringify(!0)),await e(x)}catch(x){console.error("Submission error:",x)}finally{h(!1)}},p=b=>{const h=n==null?void 0:n.find(x=>x.ID===parseInt(b));h&&f({...d,BudgetID:h.ID,budgetName:h.Name||"",fiscalYearID:h.FiscalYearID||"",departmentID:h.DepartmentID||"",subDepartmentID:h.SubDepartmentID||"",chartOfAccountsID:h.ChartofAccountsID||"",fundID:h.FundID||"",projectID:h.ProjectID||"",appropriation:parseFloat(h.Appropriation)||0,balance:parseFloat(h.AppropriationBalance)||0,charges:parseFloat(h.Charges||0)})},g=(b,h,x)=>{const C=Array.from(b.target.files).map(j=>j);h("Attachments",[...x.Attachments,...C])},y=(b,h,x)=>{const v=[...x.Attachments];v.splice(b,1),h("Attachments",v)};return o.jsx(Le,{enableReinitialize:!0,initialValues:d,validationSchema:Rze,onSubmit:m,children:({values:b,errors:h,touched:x,handleChange:v,handleBlur:C,isSubmitting:j,setFieldValue:N})=>{var S;return o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2  pt-4",children:o.jsx(ut,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:p,options:n.map(A=>({label:A.Name,value:A.ID})),error:h.BudgetID,touched:x.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>g(A,N,b),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((S=b==null?void 0:b.Attachments)==null?void 0:S.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:b.Attachments.map((A,k)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(_s,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:o.jsx("a",{href:A!=null&&A.ID?`${$ze}/uploads/${A==null?void 0:A.DataImage}`:URL.createObjectURL(A),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(A==null?void 0:A.name)||(A==null?void 0:A.DataName)})}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:A==null?void 0:A.type})]}),o.jsx("button",{type:"button",onClick:()=>y(k,N,b),className:"text-red-500 hover:text-red-700",children:o.jsx(Jt,{className:"h-4 w-4"})})]},k))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(I,{label:"Budget Name",name:"budgetName",type:"text",value:b.budgetName,onChange:v,onBlur:C,error:h.budgetName,touched:x.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:b.fiscalYearID,onChange:v,onBlur:C,error:h.fiscalYearID,touched:x.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Department",name:"departmentID",type:"select",value:b.departmentID,onChange:v,onBlur:C,error:h.departmentID,touched:x.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:b.subDepartmentID,onChange:v,onBlur:C,error:h.subDepartmentID,touched:x.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:b.chartOfAccountsID,onChange:v,onBlur:C,error:h.chartOfAccountsID,touched:x.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fundID",type:"select",value:b.fundID,onChange:v,onBlur:C,error:h.fundID,touched:x.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Project",name:"projectID",type:"select",value:b.projectID,onChange:v,onBlur:C,error:h.projectID,touched:x.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"appropriation",type:"number",value:b.appropriation,onChange:v,onBlur:C,error:h.appropriation,touched:x.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Balance",name:"balance",type:"number",value:b.balance,onChange:v,onBlur:C,error:h.balance,touched:x.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:b.releasedAllotments,onChange:v,onBlur:C,error:h.releasedAllotments,touched:x.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(I,{label:"Released Balance",name:"releasedBalance",type:"number",value:b.releasedBalance,onChange:v,onBlur:C,error:h.releasedBalance,touched:x.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(I,{label:"Supplemental",name:"supplemental",type:"number",value:b.supplemental,onChange:v,onBlur:C,error:h.supplemental,touched:x.supplemental,required:!0}),o.jsx(I,{label:"Remarks",name:"remarks",type:"textarea",value:b.remarks,onChange:v,onBlur:C,error:h.remarks,touched:x.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:j,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const Lze=()=>{const t=ce(),{departments:e}=z(F=>F.departments),{subdepartments:r}=z(F=>F.subdepartments),n=z(F=>{var O;return((O=F.chartOfAccounts)==null?void 0:O.accounts)||[]}),{fiscalYears:a}=z(F=>F.fiscalYears),{funds:s}=z(F=>F.funds),{projectDetails:i}=z(F=>F.projectDetails),[l,c]=w.useState([]),[u,d]=w.useState([]),[f,m]=w.useState(""),{Add:p,Edit:g,Delete:y,Print:b}=we(26);w.useEffect(()=>{t(fn()),t(Zt()),t(za()),t(ir()),t(ko()),t(kr()),h(),x()},[]);const h=async()=>{try{const F=await qe("/budgetSupplemental/list");c(F==null?void 0:F.data)}catch(F){oe.error("Failed to load data"),oe.error(F.message)}},x=async()=>{try{const F=await qe("/budgetSupplemental/budgetList");d(F==null?void 0:F.data)}catch(F){oe.error("Failed to load data"),oe.error(F.message)}},[v,C]=w.useState(!1),[j,N]=w.useState(null),[S,A]=w.useState({department:"",subDepartment:"",chartOfAccounts:""}),k=F=>{N(F),C(!0)},T=async F=>{},E=async F=>{try{(await qe.post("budgetSupplemental/save",F,{headers:{"Content-Type":"multipart/form-data"}})).data?(oe.success(j?"Supplemental updated successfully":"New supplemental added"),h()):oe.error("Failed to save supplemental")}catch(O){console.error("Error submitting supplemental:",O),oe.error(O.message||"Failed to save supplemental")}finally{C(!1)}},$=F=>{const{name:O,value:R}=F.target;A(B=>({...B,[O]:R}))},L=[{key:"Status",header:"Status",render:F=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${F==="Requested"?"bg-warning-100 text-warning-800":F==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:F})},{key:"InvoiceNumber",header:"Invoice Number",render:(F,O)=>o.jsx("span",{children:O.InvoiceNumber})},{key:"Budget",header:"Budget",render:(F,O)=>{var R;return o.jsx("span",{children:(R=O.Budget)==null?void 0:R.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(F,O)=>{const R=new Date(O.InvoiceDate);return o.jsx("span",{children:R.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(F,O)=>o.jsx("span",{children:parseFloat(O.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],M=async(F,O)=>{m(!0);try{const R=await qe.post(`/budgetSupplemental/${O}`,{ID:F.ID,LinkID:F.LinkID,Reason:"This is the reason"});console.log(`${O}d:`,R.data),h(),oe.success(`Budget Supplemental ${O}d successfully`)}catch(R){console.error(`Error ${O}ing Budget Supplemental:`,R),oe.error(`Error ${O}ing Budget Supplemental`)}finally{m(!1)}},D=F=>{const O=[];return F.Status.toLowerCase().includes("rejected")&&g?(O.push({icon:Na,title:"Edit",onClick:k,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),O.push({icon:Ca,title:"Delete",onClick:T,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"})):F.Status==="Requested"&&O.push({icon:bn,title:"Approve",onClick:()=>M(F,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>M(F,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),O},P=l.filter(F=>{console.log(S,F);const{Budget:O}=F;return(!S.department||(O==null?void 0:O.DepartmentID)==S.department)&&(!S.subDepartment||(O==null?void 0:O.SubDepartmentID)==S.subDepartment)&&(!S.chartOfAccounts||(O==null?void 0:O.ChartofAccountsID)==S.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Supplemental"}),o.jsx("p",{children:"Manage your supplemental budgets here"})]}),o.jsxs("div",{className:"flex gap-4",children:[p&&o.jsxs("button",{onClick:()=>k(null),className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Supplemental"]}),b&&o.jsxs("button",{onClick:()=>{},className:"btn btn-outline flex items-center",children:[o.jsx(am,{className:"h-5 w-5 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:S.department,onChange:$,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(F=>o.jsx("option",{value:F.ID,children:F.Name},F.ID))]}),o.jsxs("select",{name:"subDepartment",value:S.subDepartment,onChange:$,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(F=>o.jsx("option",{value:F.ID,children:F.Name},F.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:S.chartOfAccounts,onChange:$,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(F=>o.jsx("option",{value:F.ID,children:F.Name},F.ID))]})]}),o.jsx(ye,{columns:L,data:P,loading:f,actions:D,pagination:!0}),o.jsx(ie,{size:"md",isOpen:v,onClose:()=>C(!1),title:j?"Edit Supplemental":"Add New Supplemental",children:o.jsx(Mze,{budgetList:u,departmentOptions:e.map(F=>({value:F.ID,label:F.Name})),subDepartmentOptions:r.map(F=>({value:F.ID,label:F.Name})),chartOfAccountsOptions:n.map(F=>({value:F.ID,label:F.Name})),fundOptions:s.map(F=>({value:F.ID,label:F.Name})),projectOptions:i.map(F=>({value:F.ID,label:F.Title})),fiscalYearOptions:a.map(F=>({value:F.ID,label:F.Name})),onSubmit:E,initialData:j,onClose:()=>C(!1)})})]})},Fze="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Bze=le({fromBudgetId:_().required("Source budget is required"),toBudgetId:_().required("Target budget is required"),transferAmount:K().required("Amount is required").min(.01,"Amount must be positive"),remarks:_().required("Remarks are required"),Attachments:Vt()}),F2={fromBudgetId:"",toBudgetId:"",transferAmount:0,remarks:"",fromBudget:null,toBudget:null,Attachments:[],currentStatus:"Requested"};console.log("Initial Values:",F2);function qze({initialData:t,onSubmit:e,onClose:r,budgetOptions:n}){const[a,s]=w.useState({...F2}),i=async(u,{setSubmitting:d})=>{var y;if(u.fromBudgetId===u.toBudgetId){V.error("Source and target budgets cannot be the same"),d(!1);return}const f=n.find(b=>b.ID.toString()===u.fromBudgetId),m=parseFloat((f==null?void 0:f.AppropriationBalance)||0),p=parseFloat(u.transferAmount||0);if(p<=0){V.error("Transfer amount must be positive"),d(!1);return}if(p>m){V.error(`Transfer amount (${p}) exceeds available balance (${m})`),d(!1);return}const g=new FormData;g.append("BudgetID",u.fromBudgetId),g.append("TargetID",u.toBudgetId),g.append("Transfer",u.transferAmount),g.append("Remarks",u.remarks),((y=u.Attachments)==null?void 0:y.length)>0?u.Attachments.forEach((b,h)=>{b.ID?g.append(`Attachments[${h}].ID`,b.ID):g.append(`Attachments[${h}].File`,b)}):g.append("Attachments","[]"),t!=null&&t.LinkID?(g.append("LinkID",t==null?void 0:t.LinkID),g.append("IsNew",!1)):g.append("IsNew",!0);try{await e(g)}catch(b){console.error(b)}finally{d(!1)}},l=(u,d,f)=>{const m=Array.from(u.target.files);d("Attachments",[...f.Attachments,...m])},c=(u,d,f)=>{const m=[...f.Attachments];m.splice(u,1),d("Attachments",m)};return w.useEffect(()=>{var u,d;s(t?{fromBudgetId:((u=t==null?void 0:t.BudgetID)==null?void 0:u.toString())||"",toBudgetId:((d=t==null?void 0:t.TargetID)==null?void 0:d.toString())||"",transferAmount:parseFloat(t==null?void 0:t.Total)||0,remarks:(t==null?void 0:t.Remarks)||"",fromBudget:n.find(f=>f.ID===(t==null?void 0:t.BudgetID))||null,toBudget:n.find(f=>f.ID===(t==null?void 0:t.TargetID))||null,Attachments:t.Attachments||[],currentStatus:(t==null?void 0:t.Status)||""}:F2)},[t,n]),o.jsx(Le,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:Bze,children:({values:u,errors:d,touched:f,setFieldValue:m,handleChange:p,handleBlur:g,isSubmitting:y})=>{var b,h,x,v,C,j,N,S,A,k,T,E,$,L,M;return o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 w-fit px-3 py-2 bg-gray-100 font-semibold text-blue-500 rounded-md",children:(b=u==null?void 0:u.currentStatus)==null?void 0:b.toUpperCase()})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From Budget"}),o.jsx(ut,{label:"Select Budget",name:"fromBudgetId",required:!0,selectedValue:u.fromBudgetId,onSelect:D=>{const P=n.find(F=>F.ID.toString()===D);m("fromBudgetId",D),m("fromBudget",P)},options:n.map(D=>{var P;return{label:`${D.Name} (${(P=D.FiscalYear)==null?void 0:P.Name})`,value:D.ID.toString()}}),error:f.fromBudgetId&&d.fromBudgetId}),u.fromBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(I,{label:"Budget Name",name:"fromBudgetName",type:"text",value:u.fromBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"fromFiscalYear",type:"text",value:(h=u.fromBudget.FiscalYear)==null?void 0:h.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Department",name:"fromDepartment",type:"text",value:((x=u.fromBudget.Department)==null?void 0:x.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Appropriation Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Sub Department",name:"fromSubDepartment",type:"text",value:((v=u.fromBudget.SubDepartment)==null?void 0:v.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"fromChartOfAccounts",type:"text",value:((C=u.fromBudget.ChartofAccounts)==null?void 0:C.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fund",name:"fromFund",type:"text",value:((j=u.fromBudget.Funds)==null?void 0:j.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Project",name:"fromProject",type:"text",value:((N=u.fromBudget.Project)==null?void 0:N.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"fromAppropriation",type:"text",value:u.fromBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"fromReleasedAllotments",type:"text",value:u.fromBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Allotment Balance",name:"fromAllotmentBalance",type:"text",value:u.fromBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})," ",o.jsx(I,{label:"Balance",name:"fromBalance",type:"text",value:u.fromBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To Budget"}),o.jsx(ut,{label:"Select Budget",name:"toBudgetId",required:!0,selectedValue:u.toBudgetId,onSelect:D=>{const P=n.find(F=>F.ID.toString()===D);m("toBudgetId",D),m("toBudget",P)},options:n.map(D=>{var P;return{label:`${D.Name} (${(P=D.FiscalYear)==null?void 0:P.Name})`,value:D.ID.toString()}}),error:f.toBudgetId&&d.toBudgetId}),u.toBudget&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(I,{label:"Budget Name",name:"toBudgetName",type:"text",value:u.toBudget.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fiscal Year",name:"toFiscalYear",type:"text",value:(S=u.toBudget.FiscalYear)==null?void 0:S.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Department",name:"toDepartment",type:"text",value:((A=u.toBudget.Department)==null?void 0:A.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Appropriation Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Sub Department",name:"toSubDepartment",type:"text",value:((k=u.toBudget.SubDepartment)==null?void 0:k.Name)||"No Subdepartments",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Chart of Accounts",name:"toChartOfAccounts",type:"text",value:((T=u.toBudget.ChartofAccounts)==null?void 0:T.Name)||"N/A",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fund",name:"toFund",type:"text",value:((E=u.toBudget.Funds)==null?void 0:E.Name)||"General Fund",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Project",name:"toProject",type:"text",value:(($=u.toBudget.Project)==null?void 0:$.Name)||"No Project",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Appropriation",name:"toAppropriation",type:"text",value:u.toBudget.Appropriation||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Released Allotments",name:"toReleasedAllotments",type:"text",value:u.toBudget.Released||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Allotment Balance",name:"toAllotmentBalance",type:"text",value:u.toBudget.AllotmentBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Balance",name:"toBalance",type:"text",value:u.toBudget.AppropriationBalance||"0.00",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{name:"remarks",type:"textarea",label:"Remarks",onChange:p,onBlur:g,value:u.remarks,error:d.remarks,touched:f.remarks,required:!0}),o.jsx(I,{label:"Transfer Amount",name:"transferAmount",type:"number",onChange:p,onBlur:g,value:u.transferAmount,error:d.transferAmount,touched:f.transferAmount,required:!0,min:"0.01",step:"0.01"})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:D=>l(D,m,u),className:"hidden",id:"file-upload"},((L=u.Attachments)==null?void 0:L.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(lV,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((M=u==null?void 0:u.Attachments)==null?void 0:M.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:u.Attachments.map((D,P)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx(_s,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:o.jsx("a",{href:D!=null&&D.ID?`${Fze}/uploads/${D==null?void 0:D.DataImage}`:URL.createObjectURL(D),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:(D==null?void 0:D.name)||(D==null?void 0:D.DataName)})})]}),o.jsx("button",{type:"button",onClick:()=>c(P,m,u),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(Jt,{className:"h-4 w-4"})})]},D.ID||P))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const Qb=q("budgetTransfer/fetchBudgetOptions",async()=>(await qe.get("/budgetTransfer/budgetList")).data),Bi=q("budgetTransfer/fetchBudgetTransfers",async()=>(await qe.get("/budgetTransfer/list")).data),jf=q("budgetTransfer/createBudgetTransfer",async(t,{rejectWithValue:e})=>{var r,n;try{return(await qe.post("/budgetTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){return console.error("Error creating budget transfer:",(r=a.response)==null?void 0:r.data),e(((n=a.response)==null?void 0:n.data)||"Something went wrong")}}),NC=q("budgetTransfer/deleteBudgetTransfer",async t=>(await qe.delete(`/budgetTransfer/${t}`),oe.success("Budget transfer deleted successfully"),t)),Vze=ve({name:"budgetTransfer",initialState:{budgetOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Qb.pending,e=>{e.loading=!0,e.error=null}).addCase(Qb.fulfilled,(e,r)=>{e.loading=!1,e.budgetOptions=r.payload||[]}).addCase(Qb.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to fetch budget options")}).addCase(Bi.pending,e=>{e.loading=!0,e.error=null}).addCase(Bi.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(Bi.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to fetch budget transfers")}).addCase(jf.pending,e=>{e.loading=!0,e.error=null}).addCase(jf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(jf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to create budget transfer")}).addCase(NC.pending,e=>{e.loading=!0,e.error=null}).addCase(NC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(NC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to delete budget transfer")})}}),Uze=Vze.reducer,zze=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),[a,s]=w.useState(!1),i=ce(),{Add:l,Edit:c}=we(27),{transfers:u,budgetOptions:d,loading:f,error:m}=z(x=>x.budgetTransfer);console.log(u,d,f,m),w.useEffect(()=>{i(Qb()),i(Bi())},[]);const p=x=>{n(x),e(!0)},g=async x=>{try{r?(await i(jf(x)).unwrap(),await i(Bi()).unwrap(),oe.success("Transfer updated successfully")):(await i(jf(x)).unwrap(),await i(Bi()).unwrap(),oe.success("Transfer created successfully")),e(!1)}catch(v){console.error("Error:",v),oe.error("Error: "+(v==null?void 0:v.error))}},y=[{key:"InvoiceNumber",header:"Invoice #",sortable:!0},{key:"BudgetID",header:"Budget",sortable:!0,render:(x,v)=>{var C;return((C=v==null?void 0:v.Budget)==null?void 0:C.Name)||x||""}},{key:"Status",header:"Status",sortable:!0,render:x=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${x==="Requested"?"bg-warning-100 text-warning-800":x==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:x})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,numeric:!0},{key:"Remarks",header:"Remarks",sortable:!1}],b=async(x,v)=>{s(!0);try{const C=await qe.post(`/budgetTransfer/${v}`,{ID:x.ID,LinkID:x.LinkID,Reason:"This is the reason"});console.log(`${v}d:`,C.data),i(Bi()),oe.success(`Budget Transfer ${v}d successfully`)}catch(C){console.error(`Error ${v}ing Budget Transfer:`,C),oe.error(`Error ${v}ing Budget Transfer`)}finally{s(!1)}},h=x=>{var C;const v=[];return(C=x==null?void 0:x.Status)!=null&&C.toLowerCase().includes("rejected")&&c?v.push({icon:Na,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):x.Status==="Requested"&&v.push({icon:bn,title:"Approve",onClick:()=>b(x,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>b(x,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),v};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center gap-4 flex-wrap ",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Transfer"}),o.jsx("p",{children:"Manage your budget transfers here"})]}),l&&o.jsxs("button",{onClick:()=>p(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Transfer"]})]}),o.jsx(ye,{columns:y,data:u,actions:h,pagination:!0,loading:a}),o.jsx(ie,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(qze,{onSubmit:g,initialData:r,onClose:()=>e(!1),budgetOptions:d})})]})},Wze=le({Code:_().required("Code is required"),Name:_().required("Name is required"),Description:_().required("Description is required"),Amount:K().required("Amount is required").min(0,"Amount must be positive")}),w5={Code:"",Name:"",Description:"",Amount:0};function Hze({initialData:t,onSubmit:e,onClose:r}){const[n,a]=w.useState({...w5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return w.useEffect(()=>{t!=null&&t.ID?a({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.OriginalAmount)||""}):a(w5)},[t]),o.jsx(Le,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:Wze,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(I,{label:"Code",name:"Code",type:"text",onChange:u,onBlur:d,value:i.Code,error:l.Code,touched:c.Code,placeholder:"e.g., 100,200,300",required:!0}),o.jsx(I,{label:"Name",name:"Name",type:"text",onChange:u,onBlur:d,value:i.Name,error:l.Name,touched:c.Name,placeholder:"Enter Name ",required:!0}),o.jsx(I,{label:"Amount",name:"Amount",type:"text",onChange:m=>{const p=m.target.value.replace(/\D/g,""),g=p?(parseInt(p,10)/100).toFixed(2):"";u({target:{name:"Amount",value:g}})},onBlur:d,value:i.Amount!==""&&!isNaN(i.Amount)?Number(i.Amount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",error:l.Amount,touched:c.Amount,placeholder:"Enter Amount",required:!0}),o.jsx(I,{name:"Description",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.Description,error:l.Description,touched:c.Description,placeholder:"Enter Description",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const Gze=()=>{const t=ce(),{funds:e,loading:r}=z(h=>h.funds),[n,a]=w.useState(!1),[s,i]=w.useState(null),{Add:l,Edit:c,Delete:u}=we(48),d=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:h=>h||""},{key:"Name",header:"Name",sortable:!0,render:h=>o.jsx("span",{className:"font-medium",children:h||""})},{key:"Description",header:"Description",sortable:!0,render:h=>o.jsx("span",{className:"text-gray-600",children:h||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,render:h=>o.jsx("span",{className:"font-medium",children:h?f(h):""})}],f=h=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(h),g=[c&&{icon:Na,title:"Edit",onClick:h=>{i(h),a(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},u&&{icon:Ca,title:"Delete",onClick:async h=>{await t(fb(h.ID)).unwrap(),t(Zt())},className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],y=async h=>{s?await t(db(h)).unwrap():await t(ub(h)).unwrap(),t(Zt()),a(!1),i(null)},b=h=>{console.log("View row:",h)};return w.useEffect(()=>{t(Zt())},[t]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Funds"}),o.jsx("p",{children:"Manage budget funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2  max-sm:w-full ",children:l&&o.jsxs("button",{type:"button",onClick:()=>{i(null),a(!0)},className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:d,data:e,actions:g,loading:r,onRowClick:b})}),o.jsx(ie,{size:"sm",isOpen:n,onClose:()=>{a(!1),i(null)},title:s?"Edit Budget Fund":"Add New Budget Fund",children:o.jsx(Hze,{onSubmit:y,initialData:s,onClose:()=>{a(!1),i(null)}})})]})},Yze="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",Kze=()=>{const t=ce(),{fiscalYears:e}=z(T=>T.fiscalYears),{funds:r}=z(T=>T.funds),{departments:n}=z(T=>T.departments),[a,s]=w.useState("appropriations"),[i,l]=w.useState([]),[c,u]=w.useState(!1),[d,f]=w.useState(""),[m,p]=w.useState(""),[g,y]=w.useState(""),[b,h]=w.useState(""),[x,v]=w.useState("");w.useEffect(()=>{t(fn()),t(Zt()),t(ir())},[t]);const C=()=>({startDate:d,endDate:m,fiscalYearID:g,fundsID:b,departmentID:x}),j=()=>d&&m&&g&&b&&x,N=async T=>{if(!j()){oe.error("Please select all filters");return}u(!0);try{s(T);const E=T==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",$=await qe.post(E,C());l($.data)}catch{oe.error("Failed to fetch data")}finally{u(!1)}},S=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],A=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],k=async()=>{if(!j()){oe.error("Please select all filters");return}try{const T=await fetch(`${Yze}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(C())});if(!T.ok)throw new Error("Server response was not ok");const E=await T.blob(),$=T.headers.get("Content-Disposition");let L="StatementOfAppropriations.xlsx";$&&$.includes("filename=")&&(L=$.split("filename=")[1].replace(/['"]/g,""));const M=window.URL.createObjectURL(E),D=document.createElement("a");D.href=M,D.download=L,document.body.appendChild(D),D.click(),document.body.removeChild(D),window.URL.revokeObjectURL(M)}catch(T){console.error("Export failed:",T),oe.error(T.message||"Failed to export file")}};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage budget allocations and balances"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Start Date"}),o.jsx("input",{type:"date",className:"form-input",value:d,onChange:T=>f(T.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"End Date"}),o.jsx("input",{type:"date",className:"form-input",value:m,onChange:T=>p(T.target.value)})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fiscal Year"}),o.jsxs("select",{className:"form-select",value:g,onChange:T=>y(T.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),e.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Fund"}),o.jsxs("select",{className:"form-select",value:b,onChange:T=>h(T.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]})]}),o.jsxs("div",{className:"w-full sm:w-44",children:[o.jsx("label",{children:"Department"}),o.jsxs("select",{className:"form-select",value:x,onChange:T=>v(T.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),n.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 w-full  sm:grid-cols-3 gap-2 sm:w-max mb-4",children:[o.jsx("button",{onClick:()=>N("appropriations"),className:"btn btn-primary",children:"View"}),o.jsx("button",{onClick:()=>N("viewSAO"),className:"btn btn-primary",children:"View SAO"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAAOB"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAO"}),o.jsx("button",{className:"btn btn-outline",onClick:k,children:"Export to Excel"})]}),o.jsx(ye,{columns:a==="appropriations"?S:A,data:i,loading:c})]})},Jze=le({fund:_().required("Fund is required"),code:_().required("Code is required"),name:_().required("Name is required"),desc:_().required("Description is required"),amount:K().required("Amount is required").min(0,"Amount must be positive")}),N5={code:"",name:"",fund:"",desc:"",amount:0};function Xze({initialData:t,onSubmit:e,onClose:r,funds:n}){const[a,s]=w.useState({...N5}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return w.useEffect(()=>{t!=null&&t.ID?s({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):s(N5)},[t]),o.jsx(Le,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:Jze,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(I,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:f,value:l.code,error:c.code,touched:u.code,required:!0}),o.jsx(I,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:f,value:l.name,error:c.name,touched:u.name,required:!0}),o.jsx(I,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:f,value:l.amount,error:c.amount,touched:u.amount,required:!0}),o.jsx(I,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:f,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),o.jsx(I,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:f,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const Zze=()=>{const t=ce(),{subFunds:e,isLoading:r}=z(C=>C.subFunds),{funds:n,loading:a}=z(C=>C.funds),[s,i]=w.useState(!1),[l,c]=w.useState(null),{Add:u,Edit:d,Delete:f}=we(97),m=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:C=>C||""},{key:"Code",header:"Code",sortable:!0,render:C=>o.jsx("span",{className:"font-medium",children:C||""})},{key:"Name",header:"Name",sortable:!0,render:C=>o.jsx("span",{className:"font-medium",children:C||""})},{key:"Description",header:"Description",sortable:!0,render:C=>o.jsx("span",{className:"text-gray-600",children:C||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:C=>o.jsx("span",{className:"font-medium",children:C?g(C):""})}],p=[d&&{icon:Na,title:"Edit",onClick:C=>h(C),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},f&&{icon:Ca,title:"Delete",onClick:C=>y(C),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],g=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),y=async C=>{try{await t(Ub(C.ID)).unwrap(),oe.success("Sub fund deleted successfully")}catch(j){oe.error(j.payload||"Failed to delete sub fund"),console.error(j)}},b=async C=>{try{if(l){const j={IsNew:!1,ID:l.ID,FundsID:C.fund,Code:C.code,Name:C.name,Description:C.desc,Amount:C.amount};await t(gI(j)).unwrap(),oe.success("Sub fund updated successfully")}else{const j={IsNew:!0,FundsID:C.fund,Code:C.code,Name:C.name,Description:C.desc,Amount:C.amount};await t(Vb(j)).unwrap(),oe.success("Sub fund added successfully")}t(hf()),i(!1),c(null)}catch(j){oe.error(j.payload||"Failed to save sub fund"),console.error(j)}},h=C=>{c(C),i(!0)},x=C=>{console.log("View row:",C)};w.useEffect(()=>{t(hf()),t(Zt())},[t]);const v=n==null?void 0:n.map(C=>({value:C.ID,label:C.Name}));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Sub Funds"}),o.jsx("p",{children:"Manage budget sub funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:u&&o.jsxs("button",{type:"button",onClick:()=>h(null),className:"btn btn-primary max-sm:w-full ",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:m,data:e,actions:p,loading:r||a,onRowClick:x})}),o.jsx(ie,{size:"sm",isOpen:s,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:o.jsx(Xze,{onSubmit:b,initialData:l,funds:v,onClose:()=>i(!1)})})]})},Qze="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",e9e=le({fromFundId:_().required("Source fund is required"),toFundId:_().required("Target fund is required"),transferAmount:K().required("Amount is required").min(.01,"Amount must be positive"),remarks:_().required("Remarks are required"),Attachments:Vt()}),CC={fromFundId:"",toFundId:"",transferAmount:0,remarks:"",fromFund:null,toFund:null,Attachments:[]};function t9e({initialData:t,onSubmit:e,onClose:r,fundOptions:n}){const[a,s]=w.useState({...CC});w.useEffect(()=>{s(t?i(t):CC)},[t]);const i=f=>f?{fromFundId:f.FundsID||"",toFundId:f.TargetID||"",transferAmount:parseFloat(f.Total)||0,remarks:f.Remarks||"",fromFund:f.Funds||null,toFund:f.targetFunds||null,Attachments:f.Attachments||[]}:CC,l=async(f,{setSubmitting:m})=>{if(f.fromFundId===f.toFundId){V.error("Source and target funds cannot be the same"),m(!1);return}const p=n.find(h=>h.ID===f.fromFundId);if(!p){V.error("Source fund not found"),m(!1);return}const g=parseFloat(p.Balance||0),y=parseFloat(f.transferAmount||0);if(y<=0){V.error("Transfer amount must be positive"),m(!1);return}if(y>g){V.error(`Transfer amount (${y}) exceeds available balance (${g})`),m(!1);return}const b=new FormData;b.append("FundsID",f.fromFundId),b.append("TargetID",f.toFundId),b.append("Transfer",y),b.append("Remarks",f.remarks),f.Attachments&&f.Attachments.length>0?f.Attachments.forEach((h,x)=>{h.ID?b.append(`Attachments[${x}].ID`,h.ID):b.append(`Attachments[${x}].File`,h)}):b.append("Attachments","[]"),t!=null&&t.LinkID?(b.append("LinkID",t==null?void 0:t.LinkID),b.append("IsNew",!1)):b.append("IsNew",!0);try{await e(b)}catch(h){V.error("Submission failed: "+h.message)}finally{m(!1)}},c=(f,m)=>{const p=n.find(g=>g.ID===m);return{[`${f}Id`]:m,[f]:p}},u=(f,m,p)=>{const y=Array.from(f.target.files).map(b=>b);console.log(y,p),m("Attachments",[...p.Attachments,...y])},d=(f,m,p)=>{const g=[...p.Attachments];g.splice(f,1),m("Attachments",g)};return o.jsx(Le,{enableReinitialize:!0,onSubmit:l,initialValues:a,validationSchema:e9e,children:({values:f,errors:m,touched:p,setFieldValue:g,handleChange:y,handleBlur:b,isSubmitting:h})=>{var x,v;return o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"From"}),o.jsx(ut,{label:"Select Fund",name:"fromFundId",required:!0,selectedValue:f.fromFundId,onSelect:C=>{const j=c("fromFund",C);g("fromFundId",j.fromFundId),g("fromFund",j.fromFund)},options:n.map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:p.fromFundId&&m.fromFundId}),f.fromFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(I,{label:"Fund Code",name:"fromCode",type:"text",value:f.fromFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fund Name",name:"fromName",type:"text",value:f.fromFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Available Balance",name:"fromBalance",type:"text",value:f.fromFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium text-lg",children:"To"}),o.jsx(ut,{label:"Select Fund",name:"toFundId",required:!0,selectedValue:f.toFundId,onSelect:C=>{const j=c("toFund",C);g("toFundId",j.toFundId),g("toFund",j.toFund)},options:n.map(C=>({label:`${C.Code} - ${C.Name}`,value:C.ID})),error:p.toFundId&&m.toFundId}),f.toFund&&o.jsxs("div",{className:"space-y-3 mt-4",children:[o.jsx(I,{label:"Fund Code",name:"toCode",type:"text",value:f.toFund.Code,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Fund Name",name:"toName",type:"text",value:f.toFund.Name,className:"bg-gray-200 cursor-not-allowed",readOnly:!0}),o.jsx(I,{label:"Available Balance",name:"toBalance",type:"text",value:f.toFund.Balance||"0",className:"bg-gray-200 cursor-not-allowed",readOnly:!0})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(I,{name:"remarks",type:"textarea",label:"Remarks",onChange:y,onBlur:b,value:f.remarks,error:m.remarks,touched:p.remarks,required:!0}),o.jsx(I,{label:"Transfer Amount",name:"transferAmount",type:"text",onChange:C=>{const j=C.target.value.replace(/\D/g,""),N=j?(parseInt(j,10)/100).toFixed(2):"";y({target:{name:"transferAmount",value:N}})},onBlur:b,value:f.transferAmount!==""&&!isNaN(f.transferAmount)?Number(f.transferAmount).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):"",error:m.transferAmount,touched:p.transferAmount,required:!0})]}),o.jsx("div",{className:"my-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold text-lg",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:C=>u(C,g,f),className:"hidden",id:"file-upload"},((x=f.Attachments)==null?void 0:x.length)||0),o.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer transition-colors duration-150",children:[o.jsx(lV,{className:"h-4 w-4 mr-2"}),"Upload Files"]}),((v=f==null?void 0:f.Attachments)==null?void 0:v.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:f.Attachments.map((C,j)=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors duration-150",children:[o.jsxs("div",{className:"flex items-center min-w-0",children:[o.jsx(_s,{className:"h-4 w-4 text-gray-500 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-sm truncate",children:C.ID?o.jsx("a",{href:`${Qze}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",title:C.name||C.DataName,children:C.name||C.DataName}):o.jsx("span",{title:C.name||C.DataName,children:C.name||C.DataName})})]}),o.jsx("button",{type:"button",onClick:()=>d(j,g,f),className:"text-red-500 hover:text-red-700 ml-2 p-1 rounded-full hover:bg-red-50 transition-colors duration-150","aria-label":"Remove file",children:o.jsx(Jt,{className:"h-4 w-4"})})]},C.ID||j))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update Transfer":"Create Transfer"})]})]})}})}const ex=q("fundTransfer/fetchFundOptions",async()=>(await qe.get("/fundTransfer/fundList")).data),qi=q("fundTransfer/fetchFundTransfers",async()=>(await qe.get("/fundTransfer/list")).data),wf=q("fundTransfer/createFundTransfer",async t=>{const e=await qe.post("/fundTransfer/save",t,{headers:{"Content-Type":"multipart/form-data"}});return oe.success("Fund transfer created successfully"),e.data}),SC=q("fundTransfer/deleteFundTransfer",async t=>(await qe.delete(`/fundTransfer/${t}`),oe.success("Fund transfer deleted successfully"),t)),r9e=ve({name:"fundTransfer",initialState:{fundOptions:[],transfers:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ex.pending,e=>{e.loading=!0,e.error=null}).addCase(ex.fulfilled,(e,r)=>{e.loading=!1,e.fundOptions=r.payload||[]}).addCase(ex.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to fetch fund options")}).addCase(qi.pending,e=>{e.loading=!0,e.error=null}).addCase(qi.fulfilled,(e,r)=>{e.loading=!1,e.transfers=r.payload||[]}).addCase(qi.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to fetch fund transfers")}).addCase(wf.pending,e=>{e.loading=!0,e.error=null}).addCase(wf.fulfilled,(e,r)=>{e.loading=!1,e.transfers=[...e.transfers,r.payload]}).addCase(wf.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to create fund transfer")}).addCase(SC.pending,e=>{e.loading=!0,e.error=null}).addCase(SC.fulfilled,(e,r)=>{e.loading=!1,e.transfers=e.transfers.filter(n=>n.id!==r.payload)}).addCase(SC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,oe.error("Failed to delete fund transfer")})}}),n9e=r9e.reducer,a9e=()=>{const[t,e]=w.useState(!1),[r,n]=w.useState(null),a=ce(),[s,i]=w.useState(!1),{Add:l,Edit:c}=we(46),{transfers:u,fundOptions:d,loading:f,error:m}=z(v=>v.fundTransfer);w.useEffect(()=>{a(ex()),a(qi())},[]);const p=[{key:"InvoiceNumber",header:"Invoice Number",sortable:!0,className:"font-medium text-neutral-900",render:v=>v||""},{key:"FundsID",header:"Fund Source",sortable:!0,render:(v,C)=>{var j;return o.jsx("span",{className:"text-gray-600",children:((j=C==null?void 0:C.Funds)==null?void 0:j.Name)||v||""})}},{key:"TargetID",header:"Fund Target",sortable:!0,render:(v,C)=>{var j;return o.jsx("span",{className:"text-gray-600",children:((j=C==null?void 0:C.targetFunds)==null?void 0:j.Name)||v||""})}},{key:"Status",header:"Status",sortable:!0,render:v=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v==="Requested"?"bg-warning-100 text-warning-800":v==="Approved"?"bg-success-100 text-success-800":"bg-error-100 text-error-800"}`,children:v})},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:v=>o.jsx("span",{className:"font-medium",children:v||""})},{key:"Total",header:"Total",sortable:!0,render:v=>o.jsxs("span",{className:"font-medium",children:[" ",v?Number(v).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):""]})},{key:"Remarks",header:"Remarks",sortable:!0,render:v=>o.jsx("span",{className:"font-medium",children:v||""})}],g=async(v,C)=>{i(!0);try{const j=await qe.post(`/fundTransfer/${C}`,{ID:v.ID,LinkID:v.LinkID,Reason:"This is the reason"});console.log(`${C}d:`,j.data),a(qi()),V.success(`Budget Fund Transfer ${C}d successfully`)}catch(j){console.error(`Error ${C}ing Budget Fund Transfer:`,j),V.error(`Error ${C}ing Budget Fund Transfer`)}finally{i(!1)}},y=v=>{var j;const C=[];return(j=v==null?void 0:v.Status)!=null&&j.toLowerCase().includes("rejected")&&c?C.push({icon:Na,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}):(v==null?void 0:v.Status)==="Requested"&&C.push({icon:bn,title:"Approve",onClick:()=>g(v,"approve"),className:"text-green-600 hover:text-green-900 p-1 rounded-full hover:bg-green-50"},{icon:Zr,title:"Reject",onClick:()=>g(v,"reject"),className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}),C},b=async v=>{try{r?(await a(wf(v)).unwrap(),await a(qi()).unwrap(),V.success("Transfer updated successfully")):(await a(wf(v)).unwrap(),await a(qi()).unwrap(),V.success("Transfer created successfully")),e(!1)}catch(C){console.error("Error:",C),V.error("An error occurred")}},h=v=>{n(v),e(!0)},x=v=>{console.log("View transfer:",v)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center max-sm:flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Transfer"}),o.jsx("p",{children:"Manage fund transfers between accounts"})]}),o.jsx("div",{className:"flex space-x-2 max-sm:w-full",children:l&&o.jsxs("button",{type:"button",onClick:()=>h(null),className:"btn btn-primary max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Transfer"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:p,data:u,actions:y,loading:s,onRowClick:x})}),o.jsx(ie,{size:"xl",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(t9e,{onSubmit:b,initialData:r,onClose:()=>e(!1),fundOptions:d})})]})},s9e=le().shape({reportType:_().required("Report type is required"),date:Be().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:_().required("Action is required"),month:K().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:K().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:K().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Be().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Be().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(bl("fromDate"),"To date must be after from date")}),notedBy:_().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function o9e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!0,marriageCert:!0,burialCert:!0,generalService:!0,propertyTax:!0,marketTicketing:!0}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,p)=>{switch(e){case"daily":return o.jsx(I,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:p,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:p,required:!0,error:d.month,touched:f.month}),o.jsx(I,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:p,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:p,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(I,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:p,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(I,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:p,error:d.fromDate,touched:f.fromDate}),o.jsx(I,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:p,error:d.toDate,touched:f.toDate})]}),o.jsx(I,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:p,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const p={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let g={};switch(d.reportType){case"daily":g={date:d.date};break;case"monthly":g={month:d.month,year:d.year};break;case"quarterly":g={quarter:d.quarter,year:d.year};break;case"flexible":g={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const y={...p,...g};t({...d,action:d.action,params:y})}catch(p){console.error("Error submitting form:",p),m({submit:p.message})}finally{f(!1)}};return o.jsx(Le,{initialValues:n,validationSchema:s9e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:p,handleSubmit:g,handleChange:y,setErrors:b,isSubmitting:h})=>o.jsxs(Ue,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(x=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===x.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(x.value),p("reportType",x.value)},children:x.label},x.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,y)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(x=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${x.name}`,name:`documentTypes.${x.name}`,checked:d.documentTypes[x.name],onChange:v=>{p(`documentTypes.${x.name}`,v.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${x.name}`,className:"ml-2 block text-sm text-gray-700",children:x.label})]},x.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{p("action","view"),g(),b({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{p("action","generate"),g()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{p("action","export"),g()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const h8="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",i9e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${h8}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},l9e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${h8}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const p=await i.json();throw new Error(p.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}};function c9e(){const[t,e]=w.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=w.useState("daily"),[a,s]=w.useState(!1),i=async c=>{s(!0),console.log("Form data:",c);try{switch(c.action){case"view":const u=await i9e(c.reportType,c.params);e(d=>({...d,[c.reportType]:u})),n(c.reportType),console.log(u);break;case"generate":setCollectionData([]);case"export":await l9e(c.reportType,c.params);break;default:break}}catch(u){console.error("Error handling collection report action:",u),V.error("Failed to handle collection report action.")}finally{s(!1)}},l={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:c=>c||"-"},{key:"FundsID",header:"Funds ID",render:c=>c||"-"},{key:"Name",header:"Name",render:c=>c||"-"},{key:"Account",header:"Account",render:c=>c||"-"},{key:"SubTotal",header:"Sub-Total",render:c=>c.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:c=>new Date(c).toLocaleDateString()},{key:"FullName",header:"Full Name",render:c=>c||"-"},{key:"Position",header:"Position",render:c=>c||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.Date1} to ${u.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(c,u)=>`Q1: ${u.First} | Q2: ${u.Second} | Q3: ${u.Third}`},{key:"Total",header:"Total",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.StartDate} to ${u.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(c,u)=>`${u.Prepare} (${u.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(c,u)=>`${u.Poster} (${u.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(o9e,{onSubmitCollectionReport:i,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:l[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})})]})}const u9e=le().shape({StartDate:Be().required("From Date is required").max(bl("EndDate"),"From Date must be before or equal to To Date"),EndDate:Be().required("To Date is required").min(bl("StartDate"),"To Date must be after or equal to From Date"),fund:_().required("Fund is required")});function d9e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=z(i=>i.funds),n=ce();w.useEffect(()=>{n(Zt())},[n]);const a=[{value:"all",label:"All Funds"},...(r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})))||[]],s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund==="all"?"%":i.fund};delete c.fund,t(c),l(!1)};return o.jsx(Le,{initialValues:e,validationSchema:u9e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(Ue,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 sm:gap-4",children:[o.jsx(I,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(I,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate}),o.jsx(I,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a})]}),o.jsxs("div",{className:"flex justify-end  max-sm:flex-col gap-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const g8="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",f9e=async t=>{try{const e=localStorage.getItem("token"),r=`${g8}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},m9e=async t=>{try{const e=localStorage.getItem("token"),r=`${g8}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}};function p9e(){const[t,e]=w.useState([]),[r,n]=w.useState(!1),a=async i=>{n(!0);const{action:l,...c}=i;try{switch(l){case"view":const u=await f9e(c);e(u);break;case"generate":break;case"export":await m9e(c);break;default:break}}catch(u){console.error("Error handling cashbook action:",u)}finally{n(!1)}},s=[{key:"Year",header:"Year",render:i=>i||"-"},{key:"Officer",header:"Officer",render:i=>i||"-"},{key:"Fund",header:"Fund",render:i=>i||"-"},{key:"InvoiceDate",header:"Invoice Date",render:i=>i?new Date(i).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:i=>i||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:i=>i||"-"},{key:"Debit",header:"Debit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-between items-center mb-6 page-header",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-3 sm:p-6 mb-6",children:o.jsx(d9e,{onSubmit:a})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:s,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}function h9e(){const{isAuthenticated:t,isLoading:e}=z(a=>a.auth),r=ce(),n=Jo();return w.useEffect(()=>{const a=localStorage.getItem("token");a&&r(Yh(a))},[r]),w.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(cJ,{position:"top-right"}),o.jsxs(dY,{children:[o.jsxs(de,{element:o.jsx(GQ,{}),children:[o.jsx(de,{path:"/login",element:t?o.jsx(Qu,{to:"/",replace:!0}):o.jsx(Nae,{})}),o.jsx(de,{path:"/register",element:t?o.jsx(Qu,{to:"/",replace:!0}):o.jsx(Cae,{})}),o.jsx(de,{path:"/forgot-password",element:t?o.jsx(Qu,{to:"/",replace:!0}):o.jsx(Sae,{})}),o.jsx(de,{path:"/reset-password",element:t?o.jsx(Qu,{to:"/",replace:!0}):o.jsx(Aae,{})})]}),o.jsxs(de,{element:o.jsx(HQ,{}),children:[o.jsx(de,{path:"/dashboard",element:o.jsx(Rce,{})}),o.jsx(de,{path:"/profile",element:o.jsx(Fve,{})}),o.jsx(de,{path:"/budget-dashboard",element:o.jsx(dze,{})}),o.jsx(de,{path:"/disbursement-dashboard",element:o.jsx(fze,{})}),o.jsx(de,{path:"/collection-dashboard",element:o.jsx(mze,{})}),o.jsx(de,{path:"/settings/departments",element:o.jsx(Que,{})}),o.jsx(de,{path:"/settings/customer",element:o.jsx(Ehe,{})}),o.jsx(de,{path:"/settings/lgu-maintenance",element:o.jsx(JNe,{})}),o.jsx(de,{path:"/settings/subdepartments",element:o.jsx(bde,{})}),o.jsx(de,{path:"/settings/modules",element:o.jsx(xme,{})}),o.jsx(de,{path:"/settings/users",element:o.jsx(Tde,{})}),o.jsx(de,{path:"/settings/user-roles",element:o.jsx(Mme,{})}),o.jsx(de,{path:"/settings/user-access",element:o.jsx(w1e,{})}),o.jsx(de,{path:"/settings/chart-of-accounts",element:o.jsx(Nfe,{})}),o.jsx(de,{path:"/settings/account-group",element:o.jsx(Sfe,{})}),o.jsx(de,{path:"/settings/major-account-group",element:o.jsx(Ife,{})}),o.jsx(de,{path:"/settings/sub-major-account-group",element:o.jsx(Tfe,{})}),o.jsx(de,{path:"/settings/vendors",element:o.jsx(ime,{})}),o.jsx(de,{path:"/settings/vendor-customer-type",element:o.jsx(fme,{})}),o.jsx(de,{path:"/settings/vendor-type",element:o.jsx(pme,{})}),o.jsx(de,{path:"/settings/employees",element:o.jsx(Pme,{})}),o.jsx(de,{path:"/settings/employmentStatus",element:o.jsx(Ome,{})}),o.jsx(de,{path:"/settings/positions",element:o.jsx($me,{})}),o.jsx(de,{path:"/settings/nationalities",element:o.jsx(Fme,{})}),o.jsx(de,{path:"/settings/locations",element:o.jsx(Ume,{})}),o.jsx(de,{path:"/settings/ppe",element:o.jsx(ape,{})}),o.jsx(de,{path:"/settings/ppe-categories",element:o.jsx(ope,{})}),o.jsx(de,{path:"/settings/ppe-suppliers",element:o.jsx(lpe,{})}),o.jsx(de,{path:"/settings/approval-matrix",element:o.jsx(bpe,{})}),o.jsx(de,{path:"/settings/bank",element:o.jsx(Cpe,{})}),o.jsx(de,{path:"/settings/currency",element:o.jsx(ade,{})}),o.jsx(de,{path:"/settings/document-details",element:o.jsx(Epe,{})}),o.jsx(de,{path:"/settings/document-type-categories",element:o.jsx(Dpe,{})}),o.jsx(de,{path:"/settings/items",element:o.jsx(Bpe,{})}),o.jsx(de,{path:"/settings/items/units",element:o.jsx(Ype,{})}),o.jsx(de,{path:"/settings/project-type",element:o.jsx(Qpe,{})}),o.jsx(de,{path:"/settings/financial-statement",element:o.jsx(che,{})}),o.jsx(de,{path:"/settings/fiscal-year",element:o.jsx(phe,{})}),o.jsx(de,{path:"/settings/tax-code",element:o.jsx(yhe,{})}),o.jsx(de,{path:"/settings/mode-of-payment",element:o.jsx(xhe,{})}),o.jsx(de,{path:"/settings/payment-terms",element:o.jsx(jhe,{})}),o.jsx(de,{path:"/settings/industry",element:o.jsx(Nhe,{})}),o.jsx(de,{path:"/settings/project-details",element:o.jsx(ahe,{})}),o.jsx(de,{path:"/settings/tax-declaration",element:o.jsx(Bhe,{})}),o.jsx(de,{path:"/settings/base-unit-value",element:o.jsx(kye,{})}),o.jsx(de,{path:"/settings/general-revision",element:o.jsx(Vhe,{})}),o.jsx(de,{path:"/disbursement/obligation-requests",element:o.jsx(Bve,{})}),o.jsx(de,{path:"/disbursement/vouchers",element:o.jsx(Hve,{})}),o.jsx(de,{path:"/disbursement/travel-orders",element:o.jsx(Zve,{})}),o.jsx(de,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(aje,{})}),o.jsx(de,{path:"/disbursement/disbursement-journals",element:o.jsx(uje,{})}),o.jsx(de,{path:"/disbursement/general-journals",element:o.jsx(gje,{})}),o.jsx(de,{path:"/disbursement/beginning-balance",element:o.jsx(Nje,{})}),o.jsx(de,{path:"/disbursement/purchase-requests",element:o.jsx(Eje,{})}),o.jsx(de,{path:"/disbursement/fund-utilization-requests",element:o.jsx(Mje,{})}),o.jsx(de,{path:"/collections/community-tax",element:o.jsx(qje,{})}),o.jsx(de,{path:"/collections/community-tax-corporation",element:o.jsx(Wje,{})}),o.jsx(de,{path:"/collections/real-property-tax",element:o.jsx(jze,{})}),o.jsx(de,{path:"/collections/market",element:o.jsx(Hje,{})}),o.jsx(de,{path:"/collections/general-service-receipts",element:o.jsx(xze,{})}),o.jsx(de,{path:"/collections/burial-service-receipts",element:o.jsx(Zje,{})}),o.jsx(de,{path:"/collections/marriage-service-receipts",element:o.jsx(awe,{})}),o.jsx(de,{path:"/collections/cashbook",element:o.jsx(p9e,{})}),o.jsx(de,{path:"/collections/reports",element:o.jsx(c9e,{})}),o.jsx(de,{path:"/collections/public-market-tickets",element:o.jsx(PNe,{})}),o.jsx(de,{path:"/budget",element:o.jsx(UNe,{})}),o.jsx(de,{path:"/budget/allotment",element:o.jsx(Pze,{})}),o.jsx(de,{path:"/budget/details",element:o.jsx(Dze,{})}),o.jsx(de,{path:"/budget/new",element:o.jsx(FNe,{})}),o.jsx(de,{path:"/budget/summary",element:o.jsx(Oze,{})}),o.jsx(de,{path:"/budget/supplemental",element:o.jsx(Lze,{})}),o.jsx(de,{path:"/budget/transfer",element:o.jsx(zze,{})}),o.jsx(de,{path:"/budget/report",element:o.jsx(wR,{})}),o.jsx(de,{path:"/budget/funds",element:o.jsx(Gze,{})}),o.jsx(de,{path:"/budget/sub-funds",element:o.jsx(Zze,{})}),o.jsx(de,{path:"/budget/fund-transfer",element:o.jsx(a9e,{})}),o.jsx(de,{path:"/budget/statement-comparison",element:o.jsx(KNe,{})}),o.jsx(de,{path:"/budget/statement-appropriation",element:o.jsx(Kze,{})}),o.jsx(de,{path:"/applications/business-permits",element:o.jsx(ZNe,{})}),o.jsx(de,{path:"/applications/cheque-generator",element:o.jsx(t1e,{})}),o.jsx(de,{path:"/reports/general-ledger",element:o.jsx(l1e,{})}),o.jsx(de,{path:"/reports/subsidiary-ledger",element:o.jsx(p1e,{})}),o.jsx(de,{path:"/reports/financial-statements",element:o.jsx(v1e,{})}),o.jsx(de,{path:"/reports/budget",element:o.jsx(wR,{})}),o.jsx(de,{path:"/reports/bir",element:o.jsx(j1e,{})}),o.jsx(de,{path:"/reports/trial-balance",element:o.jsx(Ize,{})}),o.jsx(de,{path:"/change-password",element:o.jsx(N1e,{})})]}),o.jsx(de,{path:"/",element:o.jsx(Qu,{to:"/dashboard\\",replace:!0})}),o.jsx(de,{path:"*",element:o.jsx(Mce,{})})]})]})}const y8=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],g9e={vendors:y8,vendor:null,isLoading:!1,error:null},AC=q("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(y8)},500)})}catch(r){return e.rejectWithValue(r.message)}}),IC=q("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),kC=q("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),b8=ve({name:"vendors",initialState:g9e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(AC.pending,e=>{e.isLoading=!0}).addCase(AC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(AC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(IC.pending,e=>{e.isLoading=!0}).addCase(IC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(IC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(kC.pending,e=>{e.isLoading=!0}).addCase(kC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(kC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:_8e,resetVendorState:$8e}=b8.actions,y9e=b8.reducer,b9e="https://app-30cde629-8a53-4966-a72d-2af0ec4d01b0.cleverapps.io",x9e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},TC=q("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${b9e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),v9e=ve({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(TC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(TC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=x9e})}}),j9e=v9e.reducer,EC=q("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await Qe.get("/api/general-service-receipts")).data),PC=q("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await Qe.post("/api/general-service-receipts",t)).data),DC=q("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await Qe.put(`/api/general-service-receipts/${t}`,e)).data),OC=q("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await Qe.delete(`/api/general-service-receipts/${t}`),t)),_C=q("generalServiceReceipts/getGeneralServiceReceiptCurrentNumber",async()=>(await Qe.get("/api/general-service-receipts/getCurrentNumber")).data),w9e={receipts:[],currentNumber:null,loading:!1,error:null},x8=ve({name:"generalServiceReceipts",initialState:w9e,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(EC.pending,e=>{e.loading=!0,e.error=null}).addCase(EC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(EC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(PC.pending,e=>{e.loading=!0,e.error=null}).addCase(PC.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(PC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(DC.pending,e=>{e.loading=!0,e.error=null}).addCase(DC.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(DC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(OC.pending,e=>{e.loading=!0,e.error=null}).addCase(OC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(OC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(_C.pending,e=>{e.loading=!0,e.error=null}).addCase(_C.fulfilled,(e,r)=>{e.loading=!1,e.currentNumber=r.payload}).addCase(_C.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:R8e}=x8.actions,N9e=x8.reducer,C9e=GY({reducer:{auth:xK,departments:Zue,currencies:rde,subdepartments:ide,users:jde,chartOfAccounts:Dde,accountGroups:$de,majorAccountGroups:Lde,subMajorAccountGroups:qde,vendors:y9e,employees:Cde,obligationRequests:bve,fundUtilizations:Oje,disbursementVouchers:Vve,travelOrders:Xve,ppes:epe,ppeCategories:Hme,ppeSuppliers:Kme,approvalMatrix:ype,banks:jpe,documentDetails:dpe,documentTypeCategories:Tpe,items:$pe,invoiceChargeAccounts:Hpe,itemUnits:Lpe,projectDetails:nhe,projectTypes:Zpe,financialStatements:lhe,fiscalYears:mhe,taxCodes:eme,modeOfPayments:ome,paymentTerms:nme,industries:Xfe,employmentStatuses:Sme,positions:wme,userroles:Ide,nationalities:kme,vendorCustomerTypes:dme,vendorTypes:Yfe,journalEntries:nje,purchaseRequests:Tje,taxDeclarations:Rhe,baseUnits:Iye,regions:Rfe,provinces:Ffe,municipalities:Vfe,barangays:Wfe,generalRevisions:Fhe,modules:bme,generalServiceReceipts:N9e,disbursementJournal:cje,beginningBalance:xje,generalJournal:hje,generalLedger:o1e,trialBalance:Aze,statementComparison:YNe,subsidiaryLedger:m1e,financialStatementsReports:x1e,fundTransfer:n9e,budgetTransfer:Uze,budget:Ave,subFunds:VNe,funds:Nve,budgetDashboard:j9e,vendorDetails:Ofe,burialRecords:Xje,marriageRecords:nwe,publicMarketTicketing:INe,communityTax:Bje,corporateCommunityTax:zje,generalReceipts:hze,realPropertyTax:jye,customers:The},middleware:t=>t({serializableCheck:!1})});RC.createRoot(document.getElementById("root")).render(o.jsx(H.StrictMode,{children:o.jsx(pG,{store:C9e,children:o.jsx(bY,{children:o.jsx(h9e,{})})})}))});export default S9e();
