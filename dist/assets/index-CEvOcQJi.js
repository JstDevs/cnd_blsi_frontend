var o9=Object.defineProperty;var i9=(t,e,r)=>e in t?o9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l9=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var he=(t,e,r)=>i9(t,typeof e!="symbol"?e+"":e,r);var c8e=l9((yn,bn)=>{function c9(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c5={exports:{}},$v={},u5={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=Symbol.for("react.element"),u9=Symbol.for("react.portal"),d9=Symbol.for("react.fragment"),f9=Symbol.for("react.strict_mode"),m9=Symbol.for("react.profiler"),h9=Symbol.for("react.provider"),p9=Symbol.for("react.context"),g9=Symbol.for("react.forward_ref"),y9=Symbol.for("react.suspense"),b9=Symbol.for("react.memo"),x9=Symbol.for("react.lazy"),YO=Symbol.iterator;function v9(t){return t===null||typeof t!="object"?null:(t=YO&&t[YO]||t["@@iterator"],typeof t=="function"?t:null)}var d5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f5=Object.assign,m5={};function tu(t,e,r){this.props=t,this.context=e,this.refs=m5,this.updater=r||d5}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h5(){}h5.prototype=tu.prototype;function Ck(t,e,r){this.props=t,this.context=e,this.refs=m5,this.updater=r||d5}var Nk=Ck.prototype=new h5;Nk.constructor=Ck;f5(Nk,tu.prototype);Nk.isPureReactComponent=!0;var KO=Array.isArray,p5=Object.prototype.hasOwnProperty,Sk={current:null},g5={key:!0,ref:!0,__self:!0,__source:!0};function y5(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)p5.call(e,n)&&!g5.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Nm,type:t,key:s,ref:i,props:a,_owner:Sk.current}}function j9(t,e){return{$$typeof:Nm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ak(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nm}function w9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var JO=/\/+/g;function Bw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w9(""+t.key):e.toString(36)}function gp(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Nm:case u9:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+Bw(i,0):n,KO(a)?(r="",t!=null&&(r=t.replace(JO,"$&/")+"/"),gp(a,e,r,"",function(u){return u})):a!=null&&(Ak(a)&&(a=j9(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(JO,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",KO(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+Bw(s,l);i+=gp(s,e,r,c,a)}else if(c=v9(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+Bw(s,l++),i+=gp(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function ih(t,e,r){if(t==null)return t;var n=[],a=0;return gp(t,n,"","",function(s){return e.call(r,s,a++)}),n}function C9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vr={current:null},yp={transition:null},N9={ReactCurrentDispatcher:Vr,ReactCurrentBatchConfig:yp,ReactCurrentOwner:Sk};function b5(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:ih,forEach:function(t,e,r){ih(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ih(t,function(){e++}),e},toArray:function(t){return ih(t,function(e){return e})||[]},only:function(t){if(!Ak(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=tu;He.Fragment=d9;He.Profiler=m9;He.PureComponent=Ck;He.StrictMode=f9;He.Suspense=y9;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N9;He.act=b5;He.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=f5({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Sk.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)p5.call(e,c)&&!g5.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Nm,type:t.type,key:a,ref:s,props:n,_owner:i}};He.createContext=function(t){return t={$$typeof:p9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:h9,_context:t},t.Consumer=t};He.createElement=y5;He.createFactory=function(t){var e=y5.bind(null,t);return e.type=t,e};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:g9,render:t}};He.isValidElement=Ak;He.lazy=function(t){return{$$typeof:x9,_payload:{_status:-1,_result:t},_init:C9}};He.memo=function(t,e){return{$$typeof:b9,type:t,compare:e===void 0?null:e}};He.startTransition=function(t){var e=yp.transition;yp.transition={};try{t()}finally{yp.transition=e}};He.unstable_act=b5;He.useCallback=function(t,e){return Vr.current.useCallback(t,e)};He.useContext=function(t){return Vr.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return Vr.current.useDeferredValue(t)};He.useEffect=function(t,e){return Vr.current.useEffect(t,e)};He.useId=function(){return Vr.current.useId()};He.useImperativeHandle=function(t,e,r){return Vr.current.useImperativeHandle(t,e,r)};He.useInsertionEffect=function(t,e){return Vr.current.useInsertionEffect(t,e)};He.useLayoutEffect=function(t,e){return Vr.current.useLayoutEffect(t,e)};He.useMemo=function(t,e){return Vr.current.useMemo(t,e)};He.useReducer=function(t,e,r){return Vr.current.useReducer(t,e,r)};He.useRef=function(t){return Vr.current.useRef(t)};He.useState=function(t){return Vr.current.useState(t)};He.useSyncExternalStore=function(t,e,r){return Vr.current.useSyncExternalStore(t,e,r)};He.useTransition=function(){return Vr.current.useTransition()};He.version="18.3.1";u5.exports=He;var v=u5.exports;const V=rt(v),Oo=c9({__proto__:null,default:V},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S9=v,A9=Symbol.for("react.element"),T9=Symbol.for("react.fragment"),k9=Object.prototype.hasOwnProperty,I9=S9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E9={key:!0,ref:!0,__self:!0,__source:!0};function x5(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)k9.call(e,n)&&!E9.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:A9,type:t,key:s,ref:i,props:a,_owner:I9.current}}$v.Fragment=T9;$v.jsx=x5;$v.jsxs=x5;c5.exports=$v;var o=c5.exports,vN={},v5={exports:{}},kn={},j5={exports:{}},w5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,R){var F=D.length;D.push(R);e:for(;0<F;){var H=F-1>>>1,W=D[H];if(0<a(W,R))D[H]=R,D[F]=W,F=H;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var R=D[0],F=D.pop();if(F!==R){D[0]=F;e:for(var H=0,W=D.length,ee=W>>>1;H<ee;){var fe=2*(H+1)-1,Te=D[fe],ne=fe+1,J=D[ne];if(0>a(Te,F))ne<W&&0>a(J,Te)?(D[H]=J,D[ne]=F,H=ne):(D[H]=Te,D[fe]=F,H=fe);else if(ne<W&&0>a(J,F))D[H]=J,D[ne]=F,H=ne;else break e}}return R}function a(D,R){var F=D.sortIndex-R.sortIndex;return F!==0?F:D.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,g=!1,b=!1,p=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=D)n(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(u)}}function S(D){if(b=!1,w(D),!g)if(r(c)!==null)g=!0,B(C);else{var R=r(u);R!==null&&U(S,R.startTime-D)}}function C(D,R){g=!1,b&&(b=!1,x(A),A=-1),h=!0;var F=m;try{for(w(R),f=r(c);f!==null&&(!(f.expirationTime>R)||D&&!I());){var H=f.callback;if(typeof H=="function"){f.callback=null,m=f.priorityLevel;var W=H(f.expirationTime<=R);R=t.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),w(R)}else n(c);f=r(c)}if(f!==null)var ee=!0;else{var fe=r(u);fe!==null&&U(S,fe.startTime-R),ee=!1}return ee}finally{f=null,m=F,h=!1}}var j=!1,N=null,A=-1,E=5,T=-1;function I(){return!(t.unstable_now()-T<E)}function P(){if(N!==null){var D=t.unstable_now();T=D;var R=!0;try{R=N(!0,D)}finally{R?M():(j=!1,N=null)}}else j=!1}var M;if(typeof y=="function")M=function(){y(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,_=$.port2;$.port1.onmessage=P,M=function(){_.postMessage(null)}}else M=function(){p(P,0)};function B(D){N=D,j||(j=!0,M())}function U(D,R){A=p(function(){D(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,B(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var F=m;m=R;try{return D()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=m;m=D;try{return R()}finally{m=F}},t.unstable_scheduleCallback=function(D,R,F){var H=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?H+F:H):F=H,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,D={id:d++,callback:R,priorityLevel:D,startTime:F,expirationTime:W,sortIndex:-1},F>H?(D.sortIndex=F,e(u,D),r(c)===null&&D===r(u)&&(b?(x(A),A=-1):b=!0,U(S,F-H))):(D.sortIndex=W,e(c,D),g||h||(g=!0,B(C))),D},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(D){var R=m;return function(){var F=m;m=R;try{return D.apply(this,arguments)}finally{m=F}}}})(w5);j5.exports=w5;var O9=j5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P9=v,wn=O9;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C5=new Set,af={};function al(t,e){xc(t,e),xc(t+"Capture",e)}function xc(t,e){for(af[t]=e,t=0;t<e.length;t++)C5.add(e[t])}var Ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jN=Object.prototype.hasOwnProperty,D9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,XO={},ZO={};function _9(t){return jN.call(ZO,t)?!0:jN.call(XO,t)?!1:D9.test(t)?ZO[t]=!0:(XO[t]=!0,!1)}function $9(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R9(t,e,r,n){if(e===null||typeof e>"u"||$9(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ur(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ir[t]=new Ur(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ir[e]=new Ur(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ir[t]=new Ur(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ir[t]=new Ur(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ir[t]=new Ur(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ir[t]=new Ur(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ir[t]=new Ur(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ir[t]=new Ur(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ir[t]=new Ur(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tk=/[\-:]([a-z])/g;function kk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tk,kk);Ir[e]=new Ur(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tk,kk);Ir[e]=new Ur(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tk,kk);Ir[e]=new Ur(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ir[t]=new Ur(t,1,!1,t.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ir[t]=new Ur(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ik(t,e,r,n){var a=Ir.hasOwnProperty(e)?Ir[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R9(e,r,a,n)&&(r=null),n||a===null?_9(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $s=P9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lh=Symbol.for("react.element"),Pl=Symbol.for("react.portal"),Dl=Symbol.for("react.fragment"),Ek=Symbol.for("react.strict_mode"),wN=Symbol.for("react.profiler"),N5=Symbol.for("react.provider"),S5=Symbol.for("react.context"),Ok=Symbol.for("react.forward_ref"),CN=Symbol.for("react.suspense"),NN=Symbol.for("react.suspense_list"),Pk=Symbol.for("react.memo"),Js=Symbol.for("react.lazy"),A5=Symbol.for("react.offscreen"),QO=Symbol.iterator;function Cu(t){return t===null||typeof t!="object"?null:(t=QO&&t[QO]||t["@@iterator"],typeof t=="function"?t:null)}var Mt=Object.assign,qw;function td(t){if(qw===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);qw=e&&e[1]||""}return`
`+qw+t}var Vw=!1;function Uw(t,e){if(!t||Vw)return"";Vw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Vw=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?td(t):""}function M9(t){switch(t.tag){case 5:return td(t.type);case 16:return td("Lazy");case 13:return td("Suspense");case 19:return td("SuspenseList");case 0:case 2:case 15:return t=Uw(t.type,!1),t;case 11:return t=Uw(t.type.render,!1),t;case 1:return t=Uw(t.type,!0),t;default:return""}}function SN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dl:return"Fragment";case Pl:return"Portal";case wN:return"Profiler";case Ek:return"StrictMode";case CN:return"Suspense";case NN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S5:return(t.displayName||"Context")+".Consumer";case N5:return(t._context.displayName||"Context")+".Provider";case Ok:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pk:return e=t.displayName||null,e!==null?e:SN(t.type)||"Memo";case Js:e=t._payload,t=t._init;try{return SN(t(e))}catch{}}return null}function L9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return SN(e);case 8:return e===Ek?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Po(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function T5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function F9(t){var e=T5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ch(t){t._valueTracker||(t._valueTracker=F9(t))}function k5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=T5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function AN(t,e){var r=e.checked;return Mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function e2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Po(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function I5(t,e){e=e.checked,e!=null&&Ik(t,"checked",e,!1)}function TN(t,e){I5(t,e);var r=Po(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kN(t,e.type,r):e.hasOwnProperty("defaultValue")&&kN(t,e.type,Po(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function t2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function kN(t,e,r){(e!=="number"||Bb(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var rd=Array.isArray;function Kl(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Po(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function IN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ce(92));if(rd(r)){if(1<r.length)throw Error(ce(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Po(r)}}function E5(t,e){var r=Po(e.value),n=Po(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function n2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function O5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?O5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uh,P5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uh=uh||document.createElement("div"),uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var yd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B9=["Webkit","ms","Moz","O"];Object.keys(yd).forEach(function(t){B9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yd[e]=yd[t]})});function D5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||yd.hasOwnProperty(t)&&yd[t]?(""+e).trim():e+"px"}function _5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=D5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var q9=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ON(t,e){if(e){if(q9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function PN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DN=null;function Dk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _N=null,Jl=null,Xl=null;function a2(t){if(t=Tm(t)){if(typeof _N!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Bv(e),_N(t.stateNode,t.type,e))}}function $5(t){Jl?Xl?Xl.push(t):Xl=[t]:Jl=t}function R5(){if(Jl){var t=Jl,e=Xl;if(Xl=Jl=null,a2(t),e)for(t=0;t<e.length;t++)a2(e[t])}}function M5(t,e){return t(e)}function L5(){}var zw=!1;function F5(t,e,r){if(zw)return t(e,r);zw=!0;try{return M5(t,e,r)}finally{zw=!1,(Jl!==null||Xl!==null)&&(L5(),R5())}}function of(t,e){var r=t.stateNode;if(r===null)return null;var n=Bv(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ce(231,e,typeof r));return r}var $N=!1;if(Ns)try{var Nu={};Object.defineProperty(Nu,"passive",{get:function(){$N=!0}}),window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{$N=!1}function V9(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var bd=!1,qb=null,Vb=!1,RN=null,U9={onError:function(t){bd=!0,qb=t}};function z9(t,e,r,n,a,s,i,l,c){bd=!1,qb=null,V9.apply(U9,arguments)}function W9(t,e,r,n,a,s,i,l,c){if(z9.apply(this,arguments),bd){if(bd){var u=qb;bd=!1,qb=null}else throw Error(ce(198));Vb||(Vb=!0,RN=u)}}function sl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function B5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function s2(t){if(sl(t)!==t)throw Error(ce(188))}function H9(t){var e=t.alternate;if(!e){if(e=sl(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return s2(a),t;if(s===n)return s2(a),e;s=s.sibling}throw Error(ce(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?t:e}function q5(t){return t=H9(t),t!==null?V5(t):null}function V5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V5(t);if(e!==null)return e;t=t.sibling}return null}var U5=wn.unstable_scheduleCallback,o2=wn.unstable_cancelCallback,G9=wn.unstable_shouldYield,Y9=wn.unstable_requestPaint,Yt=wn.unstable_now,K9=wn.unstable_getCurrentPriorityLevel,_k=wn.unstable_ImmediatePriority,z5=wn.unstable_UserBlockingPriority,Ub=wn.unstable_NormalPriority,J9=wn.unstable_LowPriority,W5=wn.unstable_IdlePriority,Rv=null,Pa=null;function X9(t){if(Pa&&typeof Pa.onCommitFiberRoot=="function")try{Pa.onCommitFiberRoot(Rv,t,void 0,(t.current.flags&128)===128)}catch{}}var ua=Math.clz32?Math.clz32:eW,Z9=Math.log,Q9=Math.LN2;function eW(t){return t>>>=0,t===0?32:31-(Z9(t)/Q9|0)|0}var dh=64,fh=4194304;function nd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zb(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=nd(l):(s&=i,s!==0&&(n=nd(s)))}else i=r&~a,i!==0?n=nd(i):s!==0&&(n=nd(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ua(e),a=1<<r,n|=t[r],e&=~a;return n}function tW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rW(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-ua(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=tW(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function MN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H5(){var t=dh;return dh<<=1,!(dh&4194240)&&(dh=64),t}function Ww(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Sm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ua(e),t[e]=r}function nW(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-ua(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function $k(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ua(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var lt=0;function G5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y5,Rk,K5,J5,X5,LN=!1,mh=[],mo=null,ho=null,po=null,lf=new Map,cf=new Map,to=[],aW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function i2(t,e){switch(t){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":lf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cf.delete(e.pointerId)}}function Su(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=Tm(e),e!==null&&Rk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function sW(t,e,r,n,a){switch(e){case"focusin":return mo=Su(mo,t,e,r,n,a),!0;case"dragenter":return ho=Su(ho,t,e,r,n,a),!0;case"mouseover":return po=Su(po,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return lf.set(s,Su(lf.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,cf.set(s,Su(cf.get(s)||null,t,e,r,n,a)),!0}return!1}function Z5(t){var e=ji(t.target);if(e!==null){var r=sl(e);if(r!==null){if(e=r.tag,e===13){if(e=B5(r),e!==null){t.blockedOn=e,X5(t.priority,function(){K5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=FN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);DN=n,r.target.dispatchEvent(n),DN=null}else return e=Tm(r),e!==null&&Rk(e),t.blockedOn=r,!1;e.shift()}return!0}function l2(t,e,r){bp(t)&&r.delete(e)}function oW(){LN=!1,mo!==null&&bp(mo)&&(mo=null),ho!==null&&bp(ho)&&(ho=null),po!==null&&bp(po)&&(po=null),lf.forEach(l2),cf.forEach(l2)}function Au(t,e){t.blockedOn===e&&(t.blockedOn=null,LN||(LN=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,oW)))}function uf(t){function e(a){return Au(a,t)}if(0<mh.length){Au(mh[0],t);for(var r=1;r<mh.length;r++){var n=mh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(mo!==null&&Au(mo,t),ho!==null&&Au(ho,t),po!==null&&Au(po,t),lf.forEach(e),cf.forEach(e),r=0;r<to.length;r++)n=to[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<to.length&&(r=to[0],r.blockedOn===null);)Z5(r),r.blockedOn===null&&to.shift()}var Zl=$s.ReactCurrentBatchConfig,Wb=!0;function iW(t,e,r,n){var a=lt,s=Zl.transition;Zl.transition=null;try{lt=1,Mk(t,e,r,n)}finally{lt=a,Zl.transition=s}}function lW(t,e,r,n){var a=lt,s=Zl.transition;Zl.transition=null;try{lt=4,Mk(t,e,r,n)}finally{lt=a,Zl.transition=s}}function Mk(t,e,r,n){if(Wb){var a=FN(t,e,r,n);if(a===null)t1(t,e,n,Hb,r),i2(t,n);else if(sW(a,t,e,r,n))n.stopPropagation();else if(i2(t,n),e&4&&-1<aW.indexOf(t)){for(;a!==null;){var s=Tm(a);if(s!==null&&Y5(s),s=FN(t,e,r,n),s===null&&t1(t,e,n,Hb,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else t1(t,e,n,null,r)}}var Hb=null;function FN(t,e,r,n){if(Hb=null,t=Dk(n),t=ji(t),t!==null)if(e=sl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=B5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hb=t,null}function Q5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K9()){case _k:return 1;case z5:return 4;case Ub:case J9:return 16;case W5:return 536870912;default:return 16}default:return 16}}var ao=null,Lk=null,xp=null;function e4(){if(xp)return xp;var t,e=Lk,r=e.length,n,a="value"in ao?ao.value:ao.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return xp=a.slice(t,1<n?1-n:void 0)}function vp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hh(){return!0}function c2(){return!1}function In(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hh:c2,this.isPropagationStopped=c2,this}return Mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=hh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=hh)},persist:function(){},isPersistent:hh}),e}var ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fk=In(ru),Am=Mt({},ru,{view:0,detail:0}),cW=In(Am),Hw,Gw,Tu,Mv=Mt({},Am,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Tu&&(Tu&&t.type==="mousemove"?(Hw=t.screenX-Tu.screenX,Gw=t.screenY-Tu.screenY):Gw=Hw=0,Tu=t),Hw)},movementY:function(t){return"movementY"in t?t.movementY:Gw}}),u2=In(Mv),uW=Mt({},Mv,{dataTransfer:0}),dW=In(uW),fW=Mt({},Am,{relatedTarget:0}),Yw=In(fW),mW=Mt({},ru,{animationName:0,elapsedTime:0,pseudoElement:0}),hW=In(mW),pW=Mt({},ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gW=In(pW),yW=Mt({},ru,{data:0}),d2=In(yW),bW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vW[t])?!!e[t]:!1}function Bk(){return jW}var wW=Mt({},Am,{key:function(t){if(t.key){var e=bW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bk,charCode:function(t){return t.type==="keypress"?vp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CW=In(wW),NW=Mt({},Mv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f2=In(NW),SW=Mt({},Am,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bk}),AW=In(SW),TW=Mt({},ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),kW=In(TW),IW=Mt({},Mv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EW=In(IW),OW=[9,13,27,32],qk=Ns&&"CompositionEvent"in window,xd=null;Ns&&"documentMode"in document&&(xd=document.documentMode);var PW=Ns&&"TextEvent"in window&&!xd,t4=Ns&&(!qk||xd&&8<xd&&11>=xd),m2=" ",h2=!1;function r4(t,e){switch(t){case"keyup":return OW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _l=!1;function DW(t,e){switch(t){case"compositionend":return n4(e);case"keypress":return e.which!==32?null:(h2=!0,m2);case"textInput":return t=e.data,t===m2&&h2?null:t;default:return null}}function _W(t,e){if(_l)return t==="compositionend"||!qk&&r4(t,e)?(t=e4(),xp=Lk=ao=null,_l=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t4&&e.locale!=="ko"?null:e.data;default:return null}}var $W={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$W[t.type]:e==="textarea"}function a4(t,e,r,n){$5(n),e=Gb(e,"onChange"),0<e.length&&(r=new Fk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vd=null,df=null;function RW(t){p4(t,0)}function Lv(t){var e=Ml(t);if(k5(e))return t}function MW(t,e){if(t==="change")return e}var s4=!1;if(Ns){var Kw;if(Ns){var Jw="oninput"in document;if(!Jw){var g2=document.createElement("div");g2.setAttribute("oninput","return;"),Jw=typeof g2.oninput=="function"}Kw=Jw}else Kw=!1;s4=Kw&&(!document.documentMode||9<document.documentMode)}function y2(){vd&&(vd.detachEvent("onpropertychange",o4),df=vd=null)}function o4(t){if(t.propertyName==="value"&&Lv(df)){var e=[];a4(e,df,t,Dk(t)),F5(RW,e)}}function LW(t,e,r){t==="focusin"?(y2(),vd=e,df=r,vd.attachEvent("onpropertychange",o4)):t==="focusout"&&y2()}function FW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lv(df)}function BW(t,e){if(t==="click")return Lv(e)}function qW(t,e){if(t==="input"||t==="change")return Lv(e)}function VW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ga=typeof Object.is=="function"?Object.is:VW;function ff(t,e){if(ga(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!jN.call(e,a)||!ga(t[a],e[a]))return!1}return!0}function b2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x2(t,e){var r=b2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=b2(r)}}function i4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?i4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function l4(){for(var t=window,e=Bb();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bb(t.document)}return e}function Vk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UW(t){var e=l4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&i4(r.ownerDocument.documentElement,r)){if(n!==null&&Vk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=x2(r,s);var i=x2(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zW=Ns&&"documentMode"in document&&11>=document.documentMode,$l=null,BN=null,jd=null,qN=!1;function v2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qN||$l==null||$l!==Bb(n)||(n=$l,"selectionStart"in n&&Vk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jd&&ff(jd,n)||(jd=n,n=Gb(BN,"onSelect"),0<n.length&&(e=new Fk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=$l)))}function ph(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Rl={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},Xw={},c4={};Ns&&(c4=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function Fv(t){if(Xw[t])return Xw[t];if(!Rl[t])return t;var e=Rl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in c4)return Xw[t]=e[r];return t}var u4=Fv("animationend"),d4=Fv("animationiteration"),f4=Fv("animationstart"),m4=Fv("transitionend"),h4=new Map,j2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(t,e){h4.set(t,e),al(e,[t])}for(var Zw=0;Zw<j2.length;Zw++){var Qw=j2[Zw],WW=Qw.toLowerCase(),HW=Qw[0].toUpperCase()+Qw.slice(1);Bo(WW,"on"+HW)}Bo(u4,"onAnimationEnd");Bo(d4,"onAnimationIteration");Bo(f4,"onAnimationStart");Bo("dblclick","onDoubleClick");Bo("focusin","onFocus");Bo("focusout","onBlur");Bo(m4,"onTransitionEnd");xc("onMouseEnter",["mouseout","mouseover"]);xc("onMouseLeave",["mouseout","mouseover"]);xc("onPointerEnter",["pointerout","pointerover"]);xc("onPointerLeave",["pointerout","pointerover"]);al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));al("onBeforeInput",["compositionend","keypress","textInput","paste"]);al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GW=new Set("cancel close invalid load scroll toggle".split(" ").concat(ad));function w2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,W9(n,e,void 0,t),t.currentTarget=null}function p4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;w2(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;w2(a,l,u),s=c}}}if(Vb)throw t=RN,Vb=!1,RN=null,t}function jt(t,e){var r=e[HN];r===void 0&&(r=e[HN]=new Set);var n=t+"__bubble";r.has(n)||(g4(e,t,2,!1),r.add(n))}function e1(t,e,r){var n=0;e&&(n|=4),g4(r,t,n,e)}var gh="_reactListening"+Math.random().toString(36).slice(2);function mf(t){if(!t[gh]){t[gh]=!0,C5.forEach(function(r){r!=="selectionchange"&&(GW.has(r)||e1(r,!1,t),e1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gh]||(e[gh]=!0,e1("selectionchange",!1,e))}}function g4(t,e,r,n){switch(Q5(e)){case 1:var a=iW;break;case 4:a=lW;break;default:a=Mk}r=a.bind(null,e,r,t),a=void 0,!$N||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function t1(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=ji(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}F5(function(){var u=s,d=Dk(r),f=[];e:{var m=h4.get(t);if(m!==void 0){var h=Fk,g=t;switch(t){case"keypress":if(vp(r)===0)break e;case"keydown":case"keyup":h=CW;break;case"focusin":g="focus",h=Yw;break;case"focusout":g="blur",h=Yw;break;case"beforeblur":case"afterblur":h=Yw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=u2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=dW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=AW;break;case u4:case d4:case f4:h=hW;break;case m4:h=kW;break;case"scroll":h=cW;break;case"wheel":h=EW;break;case"copy":case"cut":case"paste":h=gW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=f2}var b=(e&4)!==0,p=!b&&t==="scroll",x=b?m!==null?m+"Capture":null:m;b=[];for(var y=u,w;y!==null;){w=y;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=of(y,x),S!=null&&b.push(hf(y,S,w)))),p)break;y=y.return}0<b.length&&(m=new h(m,g,null,r,d),f.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==DN&&(g=r.relatedTarget||r.fromElement)&&(ji(g)||g[Ss]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=u,g=g?ji(g):null,g!==null&&(p=sl(g),g!==p||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(b=u2,S="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=f2,S="onPointerLeave",x="onPointerEnter",y="pointer"),p=h==null?m:Ml(h),w=g==null?m:Ml(g),m=new b(S,y+"leave",h,r,d),m.target=p,m.relatedTarget=w,S=null,ji(d)===u&&(b=new b(x,y+"enter",g,r,d),b.target=w,b.relatedTarget=p,S=b),p=S,h&&g)t:{for(b=h,x=g,y=0,w=b;w;w=vl(w))y++;for(w=0,S=x;S;S=vl(S))w++;for(;0<y-w;)b=vl(b),y--;for(;0<w-y;)x=vl(x),w--;for(;y--;){if(b===x||x!==null&&b===x.alternate)break t;b=vl(b),x=vl(x)}b=null}else b=null;h!==null&&C2(f,m,h,b,!1),g!==null&&p!==null&&C2(f,p,g,b,!0)}}e:{if(m=u?Ml(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var C=MW;else if(p2(m))if(s4)C=qW;else{C=FW;var j=LW}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=BW);if(C&&(C=C(t,u))){a4(f,C,r,d);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&kN(m,"number",m.value)}switch(j=u?Ml(u):window,t){case"focusin":(p2(j)||j.contentEditable==="true")&&($l=j,BN=u,jd=null);break;case"focusout":jd=BN=$l=null;break;case"mousedown":qN=!0;break;case"contextmenu":case"mouseup":case"dragend":qN=!1,v2(f,r,d);break;case"selectionchange":if(zW)break;case"keydown":case"keyup":v2(f,r,d)}var N;if(qk)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else _l?r4(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(t4&&r.locale!=="ko"&&(_l||A!=="onCompositionStart"?A==="onCompositionEnd"&&_l&&(N=e4()):(ao=d,Lk="value"in ao?ao.value:ao.textContent,_l=!0)),j=Gb(u,A),0<j.length&&(A=new d2(A,t,null,r,d),f.push({event:A,listeners:j}),N?A.data=N:(N=n4(r),N!==null&&(A.data=N)))),(N=PW?DW(t,r):_W(t,r))&&(u=Gb(u,"onBeforeInput"),0<u.length&&(d=new d2("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}p4(f,e)})}function hf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Gb(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=of(t,r),s!=null&&n.unshift(hf(t,s,a)),s=of(t,e),s!=null&&n.push(hf(t,s,a))),t=t.return}return n}function vl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function C2(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=of(r,s),c!=null&&i.unshift(hf(r,c,l))):a||(c=of(r,s),c!=null&&i.push(hf(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var YW=/\r\n?/g,KW=/\u0000|\uFFFD/g;function N2(t){return(typeof t=="string"?t:""+t).replace(YW,`
`).replace(KW,"")}function yh(t,e,r){if(e=N2(e),N2(t)!==e&&r)throw Error(ce(425))}function Yb(){}var VN=null,UN=null;function zN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var WN=typeof setTimeout=="function"?setTimeout:void 0,JW=typeof clearTimeout=="function"?clearTimeout:void 0,S2=typeof Promise=="function"?Promise:void 0,XW=typeof queueMicrotask=="function"?queueMicrotask:typeof S2<"u"?function(t){return S2.resolve(null).then(t).catch(ZW)}:WN;function ZW(t){setTimeout(function(){throw t})}function r1(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),uf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);uf(e)}function go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var nu=Math.random().toString(36).slice(2),Ia="__reactFiber$"+nu,pf="__reactProps$"+nu,Ss="__reactContainer$"+nu,HN="__reactEvents$"+nu,QW="__reactListeners$"+nu,eH="__reactHandles$"+nu;function ji(t){var e=t[Ia];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ss]||r[Ia]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=A2(t);t!==null;){if(r=t[Ia])return r;t=A2(t)}return e}t=r,r=t.parentNode}return null}function Tm(t){return t=t[Ia]||t[Ss],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ml(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Bv(t){return t[pf]||null}var GN=[],Ll=-1;function qo(t){return{current:t}}function At(t){0>Ll||(t.current=GN[Ll],GN[Ll]=null,Ll--)}function xt(t,e){Ll++,GN[Ll]=t.current,t.current=e}var Do={},Mr=qo(Do),en=qo(!1),Vi=Do;function vc(t,e){var r=t.type.contextTypes;if(!r)return Do;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function tn(t){return t=t.childContextTypes,t!=null}function Kb(){At(en),At(Mr)}function T2(t,e,r){if(Mr.current!==Do)throw Error(ce(168));xt(Mr,e),xt(en,r)}function y4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(ce(108,L9(t)||"Unknown",a));return Mt({},r,n)}function Jb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Do,Vi=Mr.current,xt(Mr,t),xt(en,en.current),!0}function k2(t,e,r){var n=t.stateNode;if(!n)throw Error(ce(169));r?(t=y4(t,e,Vi),n.__reactInternalMemoizedMergedChildContext=t,At(en),At(Mr),xt(Mr,t)):At(en),xt(en,r)}var rs=null,qv=!1,n1=!1;function b4(t){rs===null?rs=[t]:rs.push(t)}function tH(t){qv=!0,b4(t)}function Vo(){if(!n1&&rs!==null){n1=!0;var t=0,e=lt;try{var r=rs;for(lt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}rs=null,qv=!1}catch(a){throw rs!==null&&(rs=rs.slice(t+1)),U5(_k,Vo),a}finally{lt=e,n1=!1}}return null}var Fl=[],Bl=0,Xb=null,Zb=0,Fn=[],Bn=0,Ui=null,os=1,is="";function di(t,e){Fl[Bl++]=Zb,Fl[Bl++]=Xb,Xb=t,Zb=e}function x4(t,e,r){Fn[Bn++]=os,Fn[Bn++]=is,Fn[Bn++]=Ui,Ui=t;var n=os;t=is;var a=32-ua(n)-1;n&=~(1<<a),r+=1;var s=32-ua(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,os=1<<32-ua(e)+a|r<<a|n,is=s+t}else os=1<<s|r<<a|n,is=t}function Uk(t){t.return!==null&&(di(t,1),x4(t,1,0))}function zk(t){for(;t===Xb;)Xb=Fl[--Bl],Fl[Bl]=null,Zb=Fl[--Bl],Fl[Bl]=null;for(;t===Ui;)Ui=Fn[--Bn],Fn[Bn]=null,is=Fn[--Bn],Fn[Bn]=null,os=Fn[--Bn],Fn[Bn]=null}var xn=null,gn=null,It=!1,sa=null;function v4(t,e){var r=Vn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function I2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,gn=go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,gn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ui!==null?{id:os,overflow:is}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Vn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,xn=t,gn=null,!0):!1;default:return!1}}function YN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function KN(t){if(It){var e=gn;if(e){var r=e;if(!I2(t,e)){if(YN(t))throw Error(ce(418));e=go(r.nextSibling);var n=xn;e&&I2(t,e)?v4(n,r):(t.flags=t.flags&-4097|2,It=!1,xn=t)}}else{if(YN(t))throw Error(ce(418));t.flags=t.flags&-4097|2,It=!1,xn=t}}}function E2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function bh(t){if(t!==xn)return!1;if(!It)return E2(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zN(t.type,t.memoizedProps)),e&&(e=gn)){if(YN(t))throw j4(),Error(ce(418));for(;e;)v4(t,e),e=go(e.nextSibling)}if(E2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){gn=go(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}gn=null}}else gn=xn?go(t.stateNode.nextSibling):null;return!0}function j4(){for(var t=gn;t;)t=go(t.nextSibling)}function jc(){gn=xn=null,It=!1}function Wk(t){sa===null?sa=[t]:sa.push(t)}var rH=$s.ReactCurrentBatchConfig;function ku(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,t))}return t}function xh(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function O2(t){var e=t._init;return e(t._payload)}function w4(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=vo(x,y),x.index=0,x.sibling=null,x}function s(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,S){return y===null||y.tag!==6?(y=u1(w,x.mode,S),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,S){var C=w.type;return C===Dl?d(x,y,w.props.children,S,w.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Js&&O2(C)===y.type)?(S=a(y,w.props),S.ref=ku(x,y,w),S.return=x,S):(S=Tp(w.type,w.key,w.props,null,x.mode,S),S.ref=ku(x,y,w),S.return=x,S)}function u(x,y,w,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=d1(w,x.mode,S),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function d(x,y,w,S,C){return y===null||y.tag!==7?(y=Di(w,x.mode,S,C),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=u1(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lh:return w=Tp(y.type,y.key,y.props,null,x.mode,w),w.ref=ku(x,null,y),w.return=x,w;case Pl:return y=d1(y,x.mode,w),y.return=x,y;case Js:var S=y._init;return f(x,S(y._payload),w)}if(rd(y)||Cu(y))return y=Di(y,x.mode,w,null),y.return=x,y;xh(x,y)}return null}function m(x,y,w,S){var C=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:l(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lh:return w.key===C?c(x,y,w,S):null;case Pl:return w.key===C?u(x,y,w,S):null;case Js:return C=w._init,m(x,y,C(w._payload),S)}if(rd(w)||Cu(w))return C!==null?null:d(x,y,w,S,null);xh(x,w)}return null}function h(x,y,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(y,x,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case lh:return x=x.get(S.key===null?w:S.key)||null,c(y,x,S,C);case Pl:return x=x.get(S.key===null?w:S.key)||null,u(y,x,S,C);case Js:var j=S._init;return h(x,y,w,j(S._payload),C)}if(rd(S)||Cu(S))return x=x.get(w)||null,d(y,x,S,C,null);xh(y,S)}return null}function g(x,y,w,S){for(var C=null,j=null,N=y,A=y=0,E=null;N!==null&&A<w.length;A++){N.index>A?(E=N,N=null):E=N.sibling;var T=m(x,N,w[A],S);if(T===null){N===null&&(N=E);break}t&&N&&T.alternate===null&&e(x,N),y=s(T,y,A),j===null?C=T:j.sibling=T,j=T,N=E}if(A===w.length)return r(x,N),It&&di(x,A),C;if(N===null){for(;A<w.length;A++)N=f(x,w[A],S),N!==null&&(y=s(N,y,A),j===null?C=N:j.sibling=N,j=N);return It&&di(x,A),C}for(N=n(x,N);A<w.length;A++)E=h(N,x,A,w[A],S),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?A:E.key),y=s(E,y,A),j===null?C=E:j.sibling=E,j=E);return t&&N.forEach(function(I){return e(x,I)}),It&&di(x,A),C}function b(x,y,w,S){var C=Cu(w);if(typeof C!="function")throw Error(ce(150));if(w=C.call(w),w==null)throw Error(ce(151));for(var j=C=null,N=y,A=y=0,E=null,T=w.next();N!==null&&!T.done;A++,T=w.next()){N.index>A?(E=N,N=null):E=N.sibling;var I=m(x,N,T.value,S);if(I===null){N===null&&(N=E);break}t&&N&&I.alternate===null&&e(x,N),y=s(I,y,A),j===null?C=I:j.sibling=I,j=I,N=E}if(T.done)return r(x,N),It&&di(x,A),C;if(N===null){for(;!T.done;A++,T=w.next())T=f(x,T.value,S),T!==null&&(y=s(T,y,A),j===null?C=T:j.sibling=T,j=T);return It&&di(x,A),C}for(N=n(x,N);!T.done;A++,T=w.next())T=h(N,x,A,T.value,S),T!==null&&(t&&T.alternate!==null&&N.delete(T.key===null?A:T.key),y=s(T,y,A),j===null?C=T:j.sibling=T,j=T);return t&&N.forEach(function(P){return e(x,P)}),It&&di(x,A),C}function p(x,y,w,S){if(typeof w=="object"&&w!==null&&w.type===Dl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case lh:e:{for(var C=w.key,j=y;j!==null;){if(j.key===C){if(C=w.type,C===Dl){if(j.tag===7){r(x,j.sibling),y=a(j,w.props.children),y.return=x,x=y;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Js&&O2(C)===j.type){r(x,j.sibling),y=a(j,w.props),y.ref=ku(x,j,w),y.return=x,x=y;break e}r(x,j);break}else e(x,j);j=j.sibling}w.type===Dl?(y=Di(w.props.children,x.mode,S,w.key),y.return=x,x=y):(S=Tp(w.type,w.key,w.props,null,x.mode,S),S.ref=ku(x,y,w),S.return=x,x=S)}return i(x);case Pl:e:{for(j=w.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=d1(w,x.mode,S),y.return=x,x=y}return i(x);case Js:return j=w._init,p(x,y,j(w._payload),S)}if(rd(w))return g(x,y,w,S);if(Cu(w))return b(x,y,w,S);xh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,w),y.return=x,x=y):(r(x,y),y=u1(w,x.mode,S),y.return=x,x=y),i(x)):r(x,y)}return p}var wc=w4(!0),C4=w4(!1),Qb=qo(null),ex=null,ql=null,Hk=null;function Gk(){Hk=ql=ex=null}function Yk(t){var e=Qb.current;At(Qb),t._currentValue=e}function JN(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ql(t,e){ex=t,Hk=ql=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jr=!0),t.firstContext=null)}function Gn(t){var e=t._currentValue;if(Hk!==t)if(t={context:t,memoizedValue:e,next:null},ql===null){if(ex===null)throw Error(ce(308));ql=t,ex.dependencies={lanes:0,firstContext:t}}else ql=ql.next=t;return e}var wi=null;function Kk(t){wi===null?wi=[t]:wi.push(t)}function N4(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Kk(e)):(r.next=a.next,a.next=r),e.interleaved=r,As(t,n)}function As(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Xs=!1;function Jk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,As(t,r)}return a=n.interleaved,a===null?(e.next=e,Kk(n)):(e.next=a.next,a.next=e),n.interleaved=e,As(t,r)}function jp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$k(t,r)}}function P2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function tx(t,e,r,n){var a=t.updateQueue;Xs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,b=l;switch(m=e,h=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){f=g.call(h,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,m=typeof g=="function"?g.call(h,f,m):g,m==null)break e;f=Mt({},f,m);break e;case 2:Xs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);Wi|=i,t.lanes=i,t.memoizedState=f}}function D2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ce(191,a));a.call(n)}}}var km={},Da=qo(km),gf=qo(km),yf=qo(km);function Ci(t){if(t===km)throw Error(ce(174));return t}function Xk(t,e){switch(xt(yf,e),xt(gf,t),xt(Da,km),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:EN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=EN(e,t)}At(Da),xt(Da,e)}function Cc(){At(Da),At(gf),At(yf)}function A4(t){Ci(yf.current);var e=Ci(Da.current),r=EN(e,t.type);e!==r&&(xt(gf,t),xt(Da,r))}function Zk(t){gf.current===t&&(At(Da),At(gf))}var _t=qo(0);function rx(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var a1=[];function Qk(){for(var t=0;t<a1.length;t++)a1[t]._workInProgressVersionPrimary=null;a1.length=0}var wp=$s.ReactCurrentDispatcher,s1=$s.ReactCurrentBatchConfig,zi=0,$t=null,sr=null,hr=null,nx=!1,wd=!1,bf=0,nH=0;function Er(){throw Error(ce(321))}function eI(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ga(t[r],e[r]))return!1;return!0}function tI(t,e,r,n,a,s){if(zi=s,$t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wp.current=t===null||t.memoizedState===null?iH:lH,t=r(n,a),wd){s=0;do{if(wd=!1,bf=0,25<=s)throw Error(ce(301));s+=1,hr=sr=null,e.updateQueue=null,wp.current=cH,t=r(n,a)}while(wd)}if(wp.current=ax,e=sr!==null&&sr.next!==null,zi=0,hr=sr=$t=null,nx=!1,e)throw Error(ce(300));return t}function rI(){var t=bf!==0;return bf=0,t}function Na(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?$t.memoizedState=hr=t:hr=hr.next=t,hr}function Yn(){if(sr===null){var t=$t.alternate;t=t!==null?t.memoizedState:null}else t=sr.next;var e=hr===null?$t.memoizedState:hr.next;if(e!==null)hr=e,sr=t;else{if(t===null)throw Error(ce(310));sr=t,t={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},hr===null?$t.memoizedState=hr=t:hr=hr.next=t}return hr}function xf(t,e){return typeof e=="function"?e(t):e}function o1(t){var e=Yn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=sr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((zi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,$t.lanes|=d,Wi|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,ga(n,e.memoizedState)||(Jr=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,$t.lanes|=s,Wi|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function i1(t){var e=Yn(),r=e.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);ga(s,e.memoizedState)||(Jr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function T4(){}function k4(t,e){var r=$t,n=Yn(),a=e(),s=!ga(n.memoizedState,a);if(s&&(n.memoizedState=a,Jr=!0),n=n.queue,nI(O4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||hr!==null&&hr.memoizedState.tag&1){if(r.flags|=2048,vf(9,E4.bind(null,r,n,a,e),void 0,null),yr===null)throw Error(ce(349));zi&30||I4(r,e,a)}return a}function I4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function E4(t,e,r,n){e.value=r,e.getSnapshot=n,P4(e)&&D4(t)}function O4(t,e,r){return r(function(){P4(e)&&D4(t)})}function P4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ga(t,r)}catch{return!0}}function D4(t){var e=As(t,1);e!==null&&da(e,t,1,-1)}function _2(t){var e=Na();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:t},e.queue=t,t=t.dispatch=oH.bind(null,$t,t),[e.memoizedState,t]}function vf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=$t.updateQueue,e===null?(e={lastEffect:null,stores:null},$t.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _4(){return Yn().memoizedState}function Cp(t,e,r,n){var a=Na();$t.flags|=t,a.memoizedState=vf(1|e,r,void 0,n===void 0?null:n)}function Vv(t,e,r,n){var a=Yn();n=n===void 0?null:n;var s=void 0;if(sr!==null){var i=sr.memoizedState;if(s=i.destroy,n!==null&&eI(n,i.deps)){a.memoizedState=vf(e,r,s,n);return}}$t.flags|=t,a.memoizedState=vf(1|e,r,s,n)}function $2(t,e){return Cp(8390656,8,t,e)}function nI(t,e){return Vv(2048,8,t,e)}function $4(t,e){return Vv(4,2,t,e)}function R4(t,e){return Vv(4,4,t,e)}function M4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function L4(t,e,r){return r=r!=null?r.concat([t]):null,Vv(4,4,M4.bind(null,e,t),r)}function aI(){}function F4(t,e){var r=Yn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&eI(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function B4(t,e){var r=Yn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&eI(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function q4(t,e,r){return zi&21?(ga(r,e)||(r=H5(),$t.lanes|=r,Wi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jr=!0),t.memoizedState=r)}function aH(t,e){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var n=s1.transition;s1.transition={};try{t(!1),e()}finally{lt=r,s1.transition=n}}function V4(){return Yn().memoizedState}function sH(t,e,r){var n=xo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},U4(t))z4(e,r);else if(r=N4(t,e,r,n),r!==null){var a=qr();da(r,t,n,a),W4(r,e,n)}}function oH(t,e,r){var n=xo(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(U4(t))z4(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,ga(l,i)){var c=e.interleaved;c===null?(a.next=a,Kk(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=N4(t,e,a,n),r!==null&&(a=qr(),da(r,t,n,a),W4(r,e,n))}}function U4(t){var e=t.alternate;return t===$t||e!==null&&e===$t}function z4(t,e){wd=nx=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function W4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$k(t,r)}}var ax={readContext:Gn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},iH={readContext:Gn,useCallback:function(t,e){return Na().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:$2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Cp(4194308,4,M4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Cp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Cp(4,2,t,e)},useMemo:function(t,e){var r=Na();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Na();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=sH.bind(null,$t,t),[n.memoizedState,t]},useRef:function(t){var e=Na();return t={current:t},e.memoizedState=t},useState:_2,useDebugValue:aI,useDeferredValue:function(t){return Na().memoizedState=t},useTransition:function(){var t=_2(!1),e=t[0];return t=aH.bind(null,t[1]),Na().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=$t,a=Na();if(It){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=e(),yr===null)throw Error(ce(349));zi&30||I4(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,$2(O4.bind(null,n,s,t),[t]),n.flags|=2048,vf(9,E4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Na(),e=yr.identifierPrefix;if(It){var r=is,n=os;r=(n&~(1<<32-ua(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=bf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=nH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lH={readContext:Gn,useCallback:F4,useContext:Gn,useEffect:nI,useImperativeHandle:L4,useInsertionEffect:$4,useLayoutEffect:R4,useMemo:B4,useReducer:o1,useRef:_4,useState:function(){return o1(xf)},useDebugValue:aI,useDeferredValue:function(t){var e=Yn();return q4(e,sr.memoizedState,t)},useTransition:function(){var t=o1(xf)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:T4,useSyncExternalStore:k4,useId:V4,unstable_isNewReconciler:!1},cH={readContext:Gn,useCallback:F4,useContext:Gn,useEffect:nI,useImperativeHandle:L4,useInsertionEffect:$4,useLayoutEffect:R4,useMemo:B4,useReducer:i1,useRef:_4,useState:function(){return i1(xf)},useDebugValue:aI,useDeferredValue:function(t){var e=Yn();return sr===null?e.memoizedState=t:q4(e,sr.memoizedState,t)},useTransition:function(){var t=i1(xf)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:T4,useSyncExternalStore:k4,useId:V4,unstable_isNewReconciler:!1};function na(t,e){if(t&&t.defaultProps){e=Mt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function XN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Mt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uv={isMounted:function(t){return(t=t._reactInternals)?sl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=qr(),a=xo(t),s=ms(n,a);s.payload=e,r!=null&&(s.callback=r),e=yo(t,s,a),e!==null&&(da(e,t,a,n),jp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=qr(),a=xo(t),s=ms(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=yo(t,s,a),e!==null&&(da(e,t,a,n),jp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=qr(),n=xo(t),a=ms(r,n);a.tag=2,e!=null&&(a.callback=e),e=yo(t,a,n),e!==null&&(da(e,t,n,r),jp(e,t,n))}};function R2(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!ff(r,n)||!ff(a,s):!0}function H4(t,e,r){var n=!1,a=Do,s=e.contextType;return typeof s=="object"&&s!==null?s=Gn(s):(a=tn(e)?Vi:Mr.current,n=e.contextTypes,s=(n=n!=null)?vc(t,a):Do),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uv,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function M2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Uv.enqueueReplaceState(e,e.state,null)}function ZN(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Jk(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=Gn(s):(s=tn(e)?Vi:Mr.current,a.context=vc(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(XN(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Uv.enqueueReplaceState(a,a.state,null),tx(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Nc(t,e){try{var r="",n=e;do r+=M9(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function l1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function QN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var uH=typeof WeakMap=="function"?WeakMap:Map;function G4(t,e,r){r=ms(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ox||(ox=!0,cS=n),QN(t,e)},r}function Y4(t,e,r){r=ms(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){QN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){QN(t,e),typeof n!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function L2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new uH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=NH.bind(null,t,e,r),e.then(t,t))}function F2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B2(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ms(-1,1),e.tag=2,yo(r,e,1))),r.lanes|=1),t)}var dH=$s.ReactCurrentOwner,Jr=!1;function Fr(t,e,r,n){e.child=t===null?C4(e,null,r,n):wc(e,t.child,r,n)}function q2(t,e,r,n,a){r=r.render;var s=e.ref;return Ql(e,a),n=tI(t,e,r,n,s,a),r=rI(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ts(t,e,a)):(It&&r&&Uk(e),e.flags|=1,Fr(t,e,n,a),e.child)}function V2(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!fI(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,K4(t,e,s,n,a)):(t=Tp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:ff,r(i,n)&&t.ref===e.ref)return Ts(t,e,a)}return e.flags|=1,t=vo(s,n),t.ref=e.ref,t.return=e,e.child=t}function K4(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(ff(s,n)&&t.ref===e.ref)if(Jr=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(Jr=!0);else return e.lanes=t.lanes,Ts(t,e,a)}return eS(t,e,r,n,a)}function J4(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Ul,fn),fn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Ul,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xt(Ul,fn),fn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,xt(Ul,fn),fn|=n;return Fr(t,e,a,r),e.child}function X4(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function eS(t,e,r,n,a){var s=tn(r)?Vi:Mr.current;return s=vc(e,s),Ql(e,a),r=tI(t,e,r,n,s,a),n=rI(),t!==null&&!Jr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ts(t,e,a)):(It&&n&&Uk(e),e.flags|=1,Fr(t,e,r,a),e.child)}function U2(t,e,r,n,a){if(tn(r)){var s=!0;Jb(e)}else s=!1;if(Ql(e,a),e.stateNode===null)Np(t,e),H4(e,r,n),ZN(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Gn(u):(u=tn(r)?Vi:Mr.current,u=vc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&M2(e,i,n,u),Xs=!1;var m=e.memoizedState;i.state=m,tx(e,n,i,a),c=e.memoizedState,l!==n||m!==c||en.current||Xs?(typeof d=="function"&&(XN(e,r,d,n),c=e.memoizedState),(l=Xs||R2(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,S4(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:na(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Gn(c):(c=tn(r)?Vi:Mr.current,c=vc(e,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&M2(e,i,n,c),Xs=!1,m=e.memoizedState,i.state=m,tx(e,n,i,a);var g=e.memoizedState;l!==f||m!==g||en.current||Xs?(typeof h=="function"&&(XN(e,r,h,n),g=e.memoizedState),(u=Xs||R2(e,r,u,n,m,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return tS(t,e,r,n,s,a)}function tS(t,e,r,n,a,s){X4(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&k2(e,r,!1),Ts(t,e,s);n=e.stateNode,dH.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=wc(e,t.child,null,s),e.child=wc(e,null,l,s)):Fr(t,e,l,s),e.memoizedState=n.state,a&&k2(e,r,!0),e.child}function Z4(t){var e=t.stateNode;e.pendingContext?T2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&T2(t,e.context,!1),Xk(t,e.containerInfo)}function z2(t,e,r,n,a){return jc(),Wk(a),e.flags|=256,Fr(t,e,r,n),e.child}var rS={dehydrated:null,treeContext:null,retryLane:0};function nS(t){return{baseLanes:t,cachePool:null,transitions:null}}function Q4(t,e,r){var n=e.pendingProps,a=_t.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),xt(_t,a&1),t===null)return KN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Hv(i,n,0,null),t=Di(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=nS(r),e.memoizedState=rS,t):sI(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return fH(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=vo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=vo(l,s):(s=Di(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?nS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=rS,n}return s=t.child,t=s.sibling,n=vo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function sI(t,e){return e=Hv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vh(t,e,r,n){return n!==null&&Wk(n),wc(e,t.child,null,r),t=sI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fH(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=l1(Error(ce(422))),vh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=Hv({mode:"visible",children:n.children},a,0,null),s=Di(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&wc(e,t.child,null,i),e.child.memoizedState=nS(i),e.memoizedState=rS,s);if(!(e.mode&1))return vh(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ce(419)),n=l1(s,n,void 0),vh(t,e,i,n)}if(l=(i&t.childLanes)!==0,Jr||l){if(n=yr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,As(t,a),da(n,t,a,-1))}return dI(),n=l1(Error(ce(421))),vh(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=SH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,gn=go(a.nextSibling),xn=e,It=!0,sa=null,t!==null&&(Fn[Bn++]=os,Fn[Bn++]=is,Fn[Bn++]=Ui,os=t.id,is=t.overflow,Ui=e),e=sI(e,n.children),e.flags|=4096,e)}function W2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),JN(t.return,e,r)}function c1(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function eB(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(Fr(t,e,n.children,r),n=_t.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W2(t,r,e);else if(t.tag===19)W2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xt(_t,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&rx(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),c1(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&rx(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}c1(e,!0,r,null,s);break;case"together":c1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Np(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ts(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,r=vo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=vo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function mH(t,e,r){switch(e.tag){case 3:Z4(e),jc();break;case 5:A4(e);break;case 1:tn(e.type)&&Jb(e);break;case 4:Xk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;xt(Qb,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xt(_t,_t.current&1),e.flags|=128,null):r&e.child.childLanes?Q4(t,e,r):(xt(_t,_t.current&1),t=Ts(t,e,r),t!==null?t.sibling:null);xt(_t,_t.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return eB(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xt(_t,_t.current),n)break;return null;case 22:case 23:return e.lanes=0,J4(t,e,r)}return Ts(t,e,r)}var tB,aS,rB,nB;tB=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};aS=function(){};rB=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ci(Da.current);var s=null;switch(r){case"input":a=AN(t,a),n=AN(t,n),s=[];break;case"select":a=Mt({},a,{value:void 0}),n=Mt({},n,{value:void 0}),s=[];break;case"textarea":a=IN(t,a),n=IN(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Yb)}ON(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(af.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(af.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};nB=function(t,e,r,n){r!==n&&(e.flags|=4)};function Iu(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Or(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function hH(t,e,r){var n=e.pendingProps;switch(zk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(e),null;case 1:return tn(e.type)&&Kb(),Or(e),null;case 3:return n=e.stateNode,Cc(),At(en),At(Mr),Qk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sa!==null&&(fS(sa),sa=null))),aS(t,e),Or(e),null;case 5:Zk(e);var a=Ci(yf.current);if(r=e.type,t!==null&&e.stateNode!=null)rB(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ce(166));return Or(e),null}if(t=Ci(Da.current),bh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ia]=e,n[pf]=s,t=(e.mode&1)!==0,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(a=0;a<ad.length;a++)jt(ad[a],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":e2(n,s),jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},jt("invalid",n);break;case"textarea":r2(n,s),jt("invalid",n)}ON(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&yh(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&yh(n.textContent,l,t),a=["children",""+l]):af.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&jt("scroll",n)}switch(r){case"input":ch(n),t2(n,s,!0);break;case"textarea":ch(n),n2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Yb)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=O5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Ia]=e,t[pf]=n,tB(t,e,!1,!1),e.stateNode=t;e:{switch(i=PN(r,n),r){case"dialog":jt("cancel",t),jt("close",t),a=n;break;case"iframe":case"object":case"embed":jt("load",t),a=n;break;case"video":case"audio":for(a=0;a<ad.length;a++)jt(ad[a],t);a=n;break;case"source":jt("error",t),a=n;break;case"img":case"image":case"link":jt("error",t),jt("load",t),a=n;break;case"details":jt("toggle",t),a=n;break;case"input":e2(t,n),a=AN(t,n),jt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Mt({},n,{value:void 0}),jt("invalid",t);break;case"textarea":r2(t,n),a=IN(t,n),jt("invalid",t);break;default:a=n}ON(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?_5(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&P5(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&sf(t,c):typeof c=="number"&&sf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(af.hasOwnProperty(s)?c!=null&&s==="onScroll"&&jt("scroll",t):c!=null&&Ik(t,s,c,i))}switch(r){case"input":ch(t),t2(t,n,!1);break;case"textarea":ch(t),n2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Po(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Kl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Kl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Yb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Or(e),null;case 6:if(t&&e.stateNode!=null)nB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ce(166));if(r=Ci(yf.current),Ci(Da.current),bh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ia]=e,(s=n.nodeValue!==r)&&(t=xn,t!==null))switch(t.tag){case 3:yh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ia]=e,e.stateNode=n}return Or(e),null;case 13:if(At(_t),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&gn!==null&&e.mode&1&&!(e.flags&128))j4(),jc(),e.flags|=98560,s=!1;else if(s=bh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[Ia]=e}else jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Or(e),s=!1}else sa!==null&&(fS(sa),sa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?or===0&&(or=3):dI())),e.updateQueue!==null&&(e.flags|=4),Or(e),null);case 4:return Cc(),aS(t,e),t===null&&mf(e.stateNode.containerInfo),Or(e),null;case 10:return Yk(e.type._context),Or(e),null;case 17:return tn(e.type)&&Kb(),Or(e),null;case 19:if(At(_t),s=e.memoizedState,s===null)return Or(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Iu(s,!1);else{if(or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=rx(t),i!==null){for(e.flags|=128,Iu(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xt(_t,_t.current&1|2),e.child}t=t.sibling}s.tail!==null&&Yt()>Sc&&(e.flags|=128,n=!0,Iu(s,!1),e.lanes=4194304)}else{if(!n)if(t=rx(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Iu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!It)return Or(e),null}else 2*Yt()-s.renderingStartTime>Sc&&r!==1073741824&&(e.flags|=128,n=!0,Iu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yt(),e.sibling=null,r=_t.current,xt(_t,n?r&1|2:r&1),e):(Or(e),null);case 22:case 23:return uI(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?fn&1073741824&&(Or(e),e.subtreeFlags&6&&(e.flags|=8192)):Or(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function pH(t,e){switch(zk(e),e.tag){case 1:return tn(e.type)&&Kb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cc(),At(en),At(Mr),Qk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zk(e),null;case 13:if(At(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));jc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(_t),null;case 4:return Cc(),null;case 10:return Yk(e.type._context),null;case 22:case 23:return uI(),null;case 24:return null;default:return null}}var jh=!1,_r=!1,gH=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Vl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){qt(t,e,n)}else r.current=null}function sS(t,e,r){try{r()}catch(n){qt(t,e,n)}}var H2=!1;function yH(t,e){if(VN=Wb,t=l4(),Vk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(UN={focusedElem:t,selectionRange:r},Wb=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,p=g.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:na(e.type,b),p);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(S){qt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return g=H2,H2=!1,g}function Cd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&sS(e,r,s)}a=a.next}while(a!==n)}}function zv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function oS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function aB(t){var e=t.alternate;e!==null&&(t.alternate=null,aB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ia],delete e[pf],delete e[HN],delete e[QW],delete e[eH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sB(t){return t.tag===5||t.tag===3||t.tag===4}function G2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Yb));else if(n!==4&&(t=t.child,t!==null))for(iS(t,e,r),t=t.sibling;t!==null;)iS(t,e,r),t=t.sibling}function lS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(lS(t,e,r),t=t.sibling;t!==null;)lS(t,e,r),t=t.sibling}var wr=null,aa=!1;function Hs(t,e,r){for(r=r.child;r!==null;)oB(t,e,r),r=r.sibling}function oB(t,e,r){if(Pa&&typeof Pa.onCommitFiberUnmount=="function")try{Pa.onCommitFiberUnmount(Rv,r)}catch{}switch(r.tag){case 5:_r||Vl(r,e);case 6:var n=wr,a=aa;wr=null,Hs(t,e,r),wr=n,aa=a,wr!==null&&(aa?(t=wr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):wr.removeChild(r.stateNode));break;case 18:wr!==null&&(aa?(t=wr,r=r.stateNode,t.nodeType===8?r1(t.parentNode,r):t.nodeType===1&&r1(t,r),uf(t)):r1(wr,r.stateNode));break;case 4:n=wr,a=aa,wr=r.stateNode.containerInfo,aa=!0,Hs(t,e,r),wr=n,aa=a;break;case 0:case 11:case 14:case 15:if(!_r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&sS(r,e,i),a=a.next}while(a!==n)}Hs(t,e,r);break;case 1:if(!_r&&(Vl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){qt(r,e,l)}Hs(t,e,r);break;case 21:Hs(t,e,r);break;case 22:r.mode&1?(_r=(n=_r)||r.memoizedState!==null,Hs(t,e,r),_r=n):Hs(t,e,r);break;default:Hs(t,e,r)}}function Y2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new gH),e.forEach(function(n){var a=AH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ea(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:wr=l.stateNode,aa=!1;break e;case 3:wr=l.stateNode.containerInfo,aa=!0;break e;case 4:wr=l.stateNode.containerInfo,aa=!0;break e}l=l.return}if(wr===null)throw Error(ce(160));oB(s,i,a),wr=null,aa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){qt(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iB(e,t),e=e.sibling}function iB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ea(e,t),ja(t),n&4){try{Cd(3,t,t.return),zv(3,t)}catch(b){qt(t,t.return,b)}try{Cd(5,t,t.return)}catch(b){qt(t,t.return,b)}}break;case 1:ea(e,t),ja(t),n&512&&r!==null&&Vl(r,r.return);break;case 5:if(ea(e,t),ja(t),n&512&&r!==null&&Vl(r,r.return),t.flags&32){var a=t.stateNode;try{sf(a,"")}catch(b){qt(t,t.return,b)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&I5(a,s),PN(l,i);var u=PN(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?_5(a,f):d==="dangerouslySetInnerHTML"?P5(a,f):d==="children"?sf(a,f):Ik(a,d,f,u)}switch(l){case"input":TN(a,s);break;case"textarea":E5(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Kl(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?Kl(a,!!s.multiple,s.defaultValue,!0):Kl(a,!!s.multiple,s.multiple?[]:"",!1))}a[pf]=s}catch(b){qt(t,t.return,b)}}break;case 6:if(ea(e,t),ja(t),n&4){if(t.stateNode===null)throw Error(ce(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(b){qt(t,t.return,b)}}break;case 3:if(ea(e,t),ja(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{uf(e.containerInfo)}catch(b){qt(t,t.return,b)}break;case 4:ea(e,t),ja(t);break;case 13:ea(e,t),ja(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(lI=Yt())),n&4&&Y2(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(_r=(u=_r)||d,ea(e,t),_r=u):ea(e,t),ja(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(xe=t,d=t.child;d!==null;){for(f=xe=d;xe!==null;){switch(m=xe,h=m.child,m.tag){case 0:case 11:case 14:case 15:Cd(4,m,m.return);break;case 1:Vl(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(b){qt(n,r,b)}}break;case 5:Vl(m,m.return);break;case 22:if(m.memoizedState!==null){J2(f);continue}}h!==null?(h.return=m,xe=h):J2(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=D5("display",i))}catch(b){qt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){qt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ea(e,t),ja(t),n&4&&Y2(t);break;case 21:break;default:ea(e,t),ja(t)}}function ja(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(sB(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(sf(a,""),n.flags&=-33);var s=G2(t);lS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=G2(t);iS(t,l,i);break;default:throw Error(ce(161))}}catch(c){qt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bH(t,e,r){xe=t,lB(t)}function lB(t,e,r){for(var n=(t.mode&1)!==0;xe!==null;){var a=xe,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||jh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||_r;l=jh;var u=_r;if(jh=i,(_r=c)&&!u)for(xe=a;xe!==null;)i=xe,c=i.child,i.tag===22&&i.memoizedState!==null?X2(a):c!==null?(c.return=i,xe=c):X2(a);for(;s!==null;)xe=s,lB(s),s=s.sibling;xe=a,jh=l,_r=u}K2(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,xe=s):K2(t)}}function K2(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_r||zv(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_r)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:na(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&D2(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}D2(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&uf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}_r||e.flags&512&&oS(e)}catch(m){qt(e,e.return,m)}}if(e===t){xe=null;break}if(r=e.sibling,r!==null){r.return=e.return,xe=r;break}xe=e.return}}function J2(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,xe=r;break}xe=e.return}}function X2(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{zv(4,e)}catch(c){qt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){qt(e,a,c)}}var s=e.return;try{oS(e)}catch(c){qt(e,s,c)}break;case 5:var i=e.return;try{oS(e)}catch(c){qt(e,i,c)}}}catch(c){qt(e,e.return,c)}if(e===t){xe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xe=l;break}xe=e.return}}var xH=Math.ceil,sx=$s.ReactCurrentDispatcher,oI=$s.ReactCurrentOwner,Wn=$s.ReactCurrentBatchConfig,Ke=0,yr=null,er=null,Ar=0,fn=0,Ul=qo(0),or=0,jf=null,Wi=0,Wv=0,iI=0,Nd=null,Gr=null,lI=0,Sc=1/0,Qa=null,ox=!1,cS=null,bo=null,wh=!1,so=null,ix=0,Sd=0,uS=null,Sp=-1,Ap=0;function qr(){return Ke&6?Yt():Sp!==-1?Sp:Sp=Yt()}function xo(t){return t.mode&1?Ke&2&&Ar!==0?Ar&-Ar:rH.transition!==null?(Ap===0&&(Ap=H5()),Ap):(t=lt,t!==0||(t=window.event,t=t===void 0?16:Q5(t.type)),t):1}function da(t,e,r,n){if(50<Sd)throw Sd=0,uS=null,Error(ce(185));Sm(t,r,n),(!(Ke&2)||t!==yr)&&(t===yr&&(!(Ke&2)&&(Wv|=r),or===4&&ro(t,Ar)),rn(t,n),r===1&&Ke===0&&!(e.mode&1)&&(Sc=Yt()+500,qv&&Vo()))}function rn(t,e){var r=t.callbackNode;rW(t,e);var n=zb(t,t===yr?Ar:0);if(n===0)r!==null&&o2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&o2(r),e===1)t.tag===0?tH(Z2.bind(null,t)):b4(Z2.bind(null,t)),XW(function(){!(Ke&6)&&Vo()}),r=null;else{switch(G5(n)){case 1:r=_k;break;case 4:r=z5;break;case 16:r=Ub;break;case 536870912:r=W5;break;default:r=Ub}r=gB(r,cB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function cB(t,e){if(Sp=-1,Ap=0,Ke&6)throw Error(ce(327));var r=t.callbackNode;if(ec()&&t.callbackNode!==r)return null;var n=zb(t,t===yr?Ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=lx(t,n);else{e=n;var a=Ke;Ke|=2;var s=dB();(yr!==t||Ar!==e)&&(Qa=null,Sc=Yt()+500,Pi(t,e));do try{wH();break}catch(l){uB(t,l)}while(!0);Gk(),sx.current=s,Ke=a,er!==null?e=0:(yr=null,Ar=0,e=or)}if(e!==0){if(e===2&&(a=MN(t),a!==0&&(n=a,e=dS(t,a))),e===1)throw r=jf,Pi(t,0),ro(t,n),rn(t,Yt()),r;if(e===6)ro(t,n);else{if(a=t.current.alternate,!(n&30)&&!vH(a)&&(e=lx(t,n),e===2&&(s=MN(t),s!==0&&(n=s,e=dS(t,s))),e===1))throw r=jf,Pi(t,0),ro(t,n),rn(t,Yt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(ce(345));case 2:fi(t,Gr,Qa);break;case 3:if(ro(t,n),(n&130023424)===n&&(e=lI+500-Yt(),10<e)){if(zb(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){qr(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=WN(fi.bind(null,t,Gr,Qa),e);break}fi(t,Gr,Qa);break;case 4:if(ro(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-ua(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=Yt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xH(n/1960))-n,10<n){t.timeoutHandle=WN(fi.bind(null,t,Gr,Qa),n);break}fi(t,Gr,Qa);break;case 5:fi(t,Gr,Qa);break;default:throw Error(ce(329))}}}return rn(t,Yt()),t.callbackNode===r?cB.bind(null,t):null}function dS(t,e){var r=Nd;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=lx(t,e),t!==2&&(e=Gr,Gr=r,e!==null&&fS(e)),t}function fS(t){Gr===null?Gr=t:Gr.push.apply(Gr,t)}function vH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ga(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ro(t,e){for(e&=~iI,e&=~Wv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ua(e),n=1<<r;t[r]=-1,e&=~n}}function Z2(t){if(Ke&6)throw Error(ce(327));ec();var e=zb(t,0);if(!(e&1))return rn(t,Yt()),null;var r=lx(t,e);if(t.tag!==0&&r===2){var n=MN(t);n!==0&&(e=n,r=dS(t,n))}if(r===1)throw r=jf,Pi(t,0),ro(t,e),rn(t,Yt()),r;if(r===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fi(t,Gr,Qa),rn(t,Yt()),null}function cI(t,e){var r=Ke;Ke|=1;try{return t(e)}finally{Ke=r,Ke===0&&(Sc=Yt()+500,qv&&Vo())}}function Hi(t){so!==null&&so.tag===0&&!(Ke&6)&&ec();var e=Ke;Ke|=1;var r=Wn.transition,n=lt;try{if(Wn.transition=null,lt=1,t)return t()}finally{lt=n,Wn.transition=r,Ke=e,!(Ke&6)&&Vo()}}function uI(){fn=Ul.current,At(Ul)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,JW(r)),er!==null)for(r=er.return;r!==null;){var n=r;switch(zk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Kb();break;case 3:Cc(),At(en),At(Mr),Qk();break;case 5:Zk(n);break;case 4:Cc();break;case 13:At(_t);break;case 19:At(_t);break;case 10:Yk(n.type._context);break;case 22:case 23:uI()}r=r.return}if(yr=t,er=t=vo(t.current,null),Ar=fn=e,or=0,jf=null,iI=Wv=Wi=0,Gr=Nd=null,wi!==null){for(e=0;e<wi.length;e++)if(r=wi[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}wi=null}return t}function uB(t,e){do{var r=er;try{if(Gk(),wp.current=ax,nx){for(var n=$t.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}nx=!1}if(zi=0,hr=sr=$t=null,wd=!1,bf=0,oI.current=null,r===null||r.return===null){or=1,jf=e,er=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=Ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=F2(i);if(h!==null){h.flags&=-257,B2(h,i,l,s,e),h.mode&1&&L2(s,u,e),e=h,c=u;var g=e.updateQueue;if(g===null){var b=new Set;b.add(c),e.updateQueue=b}else g.add(c);break e}else{if(!(e&1)){L2(s,u,e),dI();break e}c=Error(ce(426))}}else if(It&&l.mode&1){var p=F2(i);if(p!==null){!(p.flags&65536)&&(p.flags|=256),B2(p,i,l,s,e),Wk(Nc(c,l));break e}}s=c=Nc(c,l),or!==4&&(or=2),Nd===null?Nd=[s]:Nd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=G4(s,c,e);P2(s,x);break e;case 1:l=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bo===null||!bo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Y4(s,l,e);P2(s,S);break e}}s=s.return}while(s!==null)}mB(r)}catch(C){e=C,er===r&&r!==null&&(er=r=r.return);continue}break}while(!0)}function dB(){var t=sx.current;return sx.current=ax,t===null?ax:t}function dI(){(or===0||or===3||or===2)&&(or=4),yr===null||!(Wi&268435455)&&!(Wv&268435455)||ro(yr,Ar)}function lx(t,e){var r=Ke;Ke|=2;var n=dB();(yr!==t||Ar!==e)&&(Qa=null,Pi(t,e));do try{jH();break}catch(a){uB(t,a)}while(!0);if(Gk(),Ke=r,sx.current=n,er!==null)throw Error(ce(261));return yr=null,Ar=0,or}function jH(){for(;er!==null;)fB(er)}function wH(){for(;er!==null&&!G9();)fB(er)}function fB(t){var e=pB(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?mB(t):er=e,oI.current=null}function mB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=pH(r,e),r!==null){r.flags&=32767,er=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{or=6,er=null;return}}else if(r=hH(r,e,fn),r!==null){er=r;return}if(e=e.sibling,e!==null){er=e;return}er=e=t}while(e!==null);or===0&&(or=5)}function fi(t,e,r){var n=lt,a=Wn.transition;try{Wn.transition=null,lt=1,CH(t,e,r,n)}finally{Wn.transition=a,lt=n}return null}function CH(t,e,r,n){do ec();while(so!==null);if(Ke&6)throw Error(ce(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(nW(t,s),t===yr&&(er=yr=null,Ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wh||(wh=!0,gB(Ub,function(){return ec(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Wn.transition,Wn.transition=null;var i=lt;lt=1;var l=Ke;Ke|=4,oI.current=null,yH(t,r),iB(r,t),UW(UN),Wb=!!VN,UN=VN=null,t.current=r,bH(r),Y9(),Ke=l,lt=i,Wn.transition=s}else t.current=r;if(wh&&(wh=!1,so=t,ix=a),s=t.pendingLanes,s===0&&(bo=null),X9(r.stateNode),rn(t,Yt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ox)throw ox=!1,t=cS,cS=null,t;return ix&1&&t.tag!==0&&ec(),s=t.pendingLanes,s&1?t===uS?Sd++:(Sd=0,uS=t):Sd=0,Vo(),null}function ec(){if(so!==null){var t=G5(ix),e=Wn.transition,r=lt;try{if(Wn.transition=null,lt=16>t?16:t,so===null)var n=!1;else{if(t=so,so=null,ix=0,Ke&6)throw Error(ce(331));var a=Ke;for(Ke|=4,xe=t.current;xe!==null;){var s=xe,i=s.child;if(xe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(xe=u;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:Cd(8,d,s)}var f=d.child;if(f!==null)f.return=d,xe=f;else for(;xe!==null;){d=xe;var m=d.sibling,h=d.return;if(aB(d),d===u){xe=null;break}if(m!==null){m.return=h,xe=m;break}xe=h}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var p=b.sibling;b.sibling=null,b=p}while(b!==null)}}xe=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,xe=i;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cd(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,xe=x;break e}xe=s.return}}var y=t.current;for(xe=y;xe!==null;){i=xe;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,xe=w;else e:for(i=y;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zv(9,l)}}catch(C){qt(l,l.return,C)}if(l===i){xe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,xe=S;break e}xe=l.return}}if(Ke=a,Vo(),Pa&&typeof Pa.onPostCommitFiberRoot=="function")try{Pa.onPostCommitFiberRoot(Rv,t)}catch{}n=!0}return n}finally{lt=r,Wn.transition=e}}return!1}function Q2(t,e,r){e=Nc(r,e),e=G4(t,e,1),t=yo(t,e,1),e=qr(),t!==null&&(Sm(t,1,e),rn(t,e))}function qt(t,e,r){if(t.tag===3)Q2(t,t,r);else for(;e!==null;){if(e.tag===3){Q2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bo===null||!bo.has(n))){t=Nc(r,t),t=Y4(e,t,1),e=yo(e,t,1),t=qr(),e!==null&&(Sm(e,1,t),rn(e,t));break}}e=e.return}}function NH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=qr(),t.pingedLanes|=t.suspendedLanes&r,yr===t&&(Ar&r)===r&&(or===4||or===3&&(Ar&130023424)===Ar&&500>Yt()-lI?Pi(t,0):iI|=r),rn(t,e)}function hB(t,e){e===0&&(t.mode&1?(e=fh,fh<<=1,!(fh&130023424)&&(fh=4194304)):e=1);var r=qr();t=As(t,e),t!==null&&(Sm(t,e,r),rn(t,r))}function SH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hB(t,r)}function AH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(e),hB(t,r)}var pB;pB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Jr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Jr=!1,mH(t,e,r);Jr=!!(t.flags&131072)}else Jr=!1,It&&e.flags&1048576&&x4(e,Zb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Np(t,e),t=e.pendingProps;var a=vc(e,Mr.current);Ql(e,r),a=tI(null,e,n,t,a,r);var s=rI();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(n)?(s=!0,Jb(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Jk(e),a.updater=Uv,e.stateNode=a,a._reactInternals=e,ZN(e,n,t,r),e=tS(null,e,n,!0,s,r)):(e.tag=0,It&&s&&Uk(e),Fr(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Np(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=kH(n),t=na(n,t),a){case 0:e=eS(null,e,n,t,r);break e;case 1:e=U2(null,e,n,t,r);break e;case 11:e=q2(null,e,n,t,r);break e;case 14:e=V2(null,e,n,na(n.type,t),r);break e}throw Error(ce(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:na(n,a),eS(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:na(n,a),U2(t,e,n,a,r);case 3:e:{if(Z4(e),t===null)throw Error(ce(387));n=e.pendingProps,s=e.memoizedState,a=s.element,S4(t,e),tx(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=Nc(Error(ce(423)),e),e=z2(t,e,n,r,a);break e}else if(n!==a){a=Nc(Error(ce(424)),e),e=z2(t,e,n,r,a);break e}else for(gn=go(e.stateNode.containerInfo.firstChild),xn=e,It=!0,sa=null,r=C4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jc(),n===a){e=Ts(t,e,r);break e}Fr(t,e,n,r)}e=e.child}return e;case 5:return A4(e),t===null&&KN(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,zN(n,a)?i=null:s!==null&&zN(n,s)&&(e.flags|=32),X4(t,e),Fr(t,e,i,r),e.child;case 6:return t===null&&KN(e),null;case 13:return Q4(t,e,r);case 4:return Xk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wc(e,null,n,r):Fr(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:na(n,a),q2(t,e,n,a,r);case 7:return Fr(t,e,e.pendingProps,r),e.child;case 8:return Fr(t,e,e.pendingProps.children,r),e.child;case 12:return Fr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,xt(Qb,n._currentValue),n._currentValue=i,s!==null)if(ga(s.value,i)){if(s.children===a.children&&!en.current){e=Ts(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=ms(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),JN(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(ce(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),JN(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Fr(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Ql(e,r),a=Gn(a),n=n(a),e.flags|=1,Fr(t,e,n,r),e.child;case 14:return n=e.type,a=na(n,e.pendingProps),a=na(n.type,a),V2(t,e,n,a,r);case 15:return K4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:na(n,a),Np(t,e),e.tag=1,tn(n)?(t=!0,Jb(e)):t=!1,Ql(e,r),H4(e,n,a),ZN(e,n,a,r),tS(null,e,n,!0,t,r);case 19:return eB(t,e,r);case 22:return J4(t,e,r)}throw Error(ce(156,e.tag))};function gB(t,e){return U5(t,e)}function TH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,r,n){return new TH(t,e,r,n)}function fI(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kH(t){if(typeof t=="function")return fI(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ok)return 11;if(t===Pk)return 14}return 2}function vo(t,e){var r=t.alternate;return r===null?(r=Vn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Tp(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")fI(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Dl:return Di(r.children,a,s,e);case Ek:i=8,a|=8;break;case wN:return t=Vn(12,r,e,a|2),t.elementType=wN,t.lanes=s,t;case CN:return t=Vn(13,r,e,a),t.elementType=CN,t.lanes=s,t;case NN:return t=Vn(19,r,e,a),t.elementType=NN,t.lanes=s,t;case A5:return Hv(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N5:i=10;break e;case S5:i=9;break e;case Ok:i=11;break e;case Pk:i=14;break e;case Js:i=16,n=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Vn(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function Di(t,e,r,n){return t=Vn(7,t,n,e),t.lanes=r,t}function Hv(t,e,r,n){return t=Vn(22,t,n,e),t.elementType=A5,t.lanes=r,t.stateNode={isHidden:!1},t}function u1(t,e,r){return t=Vn(6,t,null,e),t.lanes=r,t}function d1(t,e,r){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ww(0),this.expirationTimes=Ww(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ww(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mI(t,e,r,n,a,s,i,l,c){return t=new IH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jk(s),t}function EH(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function yB(t){if(!t)return Do;t=t._reactInternals;e:{if(sl(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var r=t.type;if(tn(r))return y4(t,r,e)}return e}function bB(t,e,r,n,a,s,i,l,c){return t=mI(r,n,!0,t,a,s,i,l,c),t.context=yB(null),r=t.current,n=qr(),a=xo(r),s=ms(n,a),s.callback=e??null,yo(r,s,a),t.current.lanes=a,Sm(t,a,n),rn(t,n),t}function Gv(t,e,r,n){var a=e.current,s=qr(),i=xo(a);return r=yB(r),e.context===null?e.context=r:e.pendingContext=r,e=ms(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=yo(a,e,i),t!==null&&(da(t,a,i,s),jp(t,a,i)),i}function cx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function hI(t,e){eP(t,e),(t=t.alternate)&&eP(t,e)}function OH(){return null}var xB=typeof reportError=="function"?reportError:function(t){console.error(t)};function pI(t){this._internalRoot=t}Yv.prototype.render=pI.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Gv(t,e,null,null)};Yv.prototype.unmount=pI.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hi(function(){Gv(null,t,null,null)}),e[Ss]=null}};function Yv(t){this._internalRoot=t}Yv.prototype.unstable_scheduleHydration=function(t){if(t){var e=J5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<to.length&&e!==0&&e<to[r].priority;r++);to.splice(r,0,t),r===0&&Z5(t)}};function gI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tP(){}function PH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=cx(i);s.call(u)}}var i=bB(e,n,t,0,null,!1,!1,"",tP);return t._reactRootContainer=i,t[Ss]=i.current,mf(t.nodeType===8?t.parentNode:t),Hi(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=cx(c);l.call(u)}}var c=mI(t,0,!1,null,null,!1,!1,"",tP);return t._reactRootContainer=c,t[Ss]=c.current,mf(t.nodeType===8?t.parentNode:t),Hi(function(){Gv(e,c,r,n)}),c}function Jv(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=cx(i);l.call(c)}}Gv(e,i,t,a)}else i=PH(r,e,t,a,n);return cx(i)}Y5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=nd(e.pendingLanes);r!==0&&($k(e,r|1),rn(e,Yt()),!(Ke&6)&&(Sc=Yt()+500,Vo()))}break;case 13:Hi(function(){var n=As(t,1);if(n!==null){var a=qr();da(n,t,1,a)}}),hI(t,1)}};Rk=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var r=qr();da(e,t,134217728,r)}hI(t,134217728)}};K5=function(t){if(t.tag===13){var e=xo(t),r=As(t,e);if(r!==null){var n=qr();da(r,t,e,n)}hI(t,e)}};J5=function(){return lt};X5=function(t,e){var r=lt;try{return lt=t,e()}finally{lt=r}};_N=function(t,e,r){switch(e){case"input":if(TN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Bv(n);if(!a)throw Error(ce(90));k5(n),TN(n,a)}}}break;case"textarea":E5(t,r);break;case"select":e=r.value,e!=null&&Kl(t,!!r.multiple,e,!1)}};M5=cI;L5=Hi;var DH={usingClientEntryPoint:!1,Events:[Tm,Ml,Bv,$5,R5,cI]},Eu={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_H={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q5(t),t===null?null:t.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||OH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Rv=Ch.inject(_H),Pa=Ch}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DH;kn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gI(e))throw Error(ce(200));return EH(t,e,null,r)};kn.createRoot=function(t,e){if(!gI(t))throw Error(ce(299));var r=!1,n="",a=xB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=mI(t,1,!1,null,null,r,!1,n,a),t[Ss]=e.current,mf(t.nodeType===8?t.parentNode:t),new pI(e)};kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=q5(e),t=t===null?null:t.stateNode,t};kn.flushSync=function(t){return Hi(t)};kn.hydrate=function(t,e,r){if(!Kv(e))throw Error(ce(200));return Jv(null,t,e,!0,r)};kn.hydrateRoot=function(t,e,r){if(!gI(t))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=xB;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=bB(e,null,t,1,r??null,a,!1,s,i),t[Ss]=e.current,mf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Yv(e)};kn.render=function(t,e,r){if(!Kv(e))throw Error(ce(200));return Jv(null,t,e,!1,r)};kn.unmountComponentAtNode=function(t){if(!Kv(t))throw Error(ce(40));return t._reactRootContainer?(Hi(function(){Jv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ss]=null})}),!0):!1};kn.unstable_batchedUpdates=cI;kn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Kv(r))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Jv(t,e,r,!1,n)};kn.version="18.3.1-next-f1338f8080-20240426";function vB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vB)}catch(t){console.error(t)}}vB(),v5.exports=kn;var Xv=v5.exports,rP=Xv;vN.createRoot=rP.createRoot,vN.hydrateRoot=rP.hydrateRoot;var jB={exports:{}},wB={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=v;function $H(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RH=typeof Object.is=="function"?Object.is:$H,MH=Im.useSyncExternalStore,LH=Im.useRef,FH=Im.useEffect,BH=Im.useMemo,qH=Im.useDebugValue;wB.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=LH(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=BH(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var g=i.value;if(a(g,h))return f=g}return f=h}if(g=f,RH(d,h))return g;var b=n(h);return a!==void 0&&a(g,b)?(d=h,g):(d=h,f=b)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=MH(t,s[0],s[1]);return FH(function(){i.hasValue=!0,i.value=l},[l]),qH(l),l};jB.exports=wB;var VH=jB.exports;function UH(t){t()}function zH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){UH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var nP={notify(){},get:()=>[]};function WH(t,e){let r,n=nP,a=0,s=!1;function i(b){d();const p=n.subscribe(b);let x=!1;return()=>{x||(x=!0,p(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=zH())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=nP)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const g={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return g}var HH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GH=HH(),YH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",KH=YH(),JH=()=>GH||KH?v.useLayoutEffect:v.useEffect,XH=JH(),f1=Symbol.for("react-redux-context"),m1=typeof globalThis<"u"?globalThis:{};function ZH(){if(!v.createContext)return{};const t=m1[f1]??(m1[f1]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var _o=ZH();function QH(t){const{children:e,context:r,serverState:n,store:a}=t,s=v.useMemo(()=>{const c=WH(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=v.useMemo(()=>a.getState(),[a]);XH(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||_o;return v.createElement(l.Provider,{value:s},e)}var eG=QH;function yI(t=_o){return function(){return v.useContext(t)}}var CB=yI();function NB(t=_o){const e=t===_o?CB:yI(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var tG=NB();function rG(t=_o){const e=t===_o?tG:NB(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var se=rG(),nG=(t,e)=>t===e;function aG(t=_o){const e=t===_o?CB:yI(t),r=(n,a={})=>{const{equalityFn:s=nG}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;v.useRef(!0);const d=v.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=VH.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return v.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var q=aG();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}var oo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(oo||(oo={}));const aP="popstate";function sG(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return mS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ux(a)}return iG(e,r,null,t)}function Zt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oG(){return Math.random().toString(36).substr(2,8)}function sP(t,e){return{usr:t.state,key:t.key,idx:e}}function mS(t,e,r,n){return r===void 0&&(r=null),wf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?au(e):e,{state:r,key:e&&e.key||n||oG()})}function ux(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function au(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function iG(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=oo.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(wf({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=oo.Pop;let p=d(),x=p==null?null:p-u;u=p,c&&c({action:l,location:b.location,delta:x})}function m(p,x){l=oo.Push;let y=mS(b.location,p,x);u=d()+1;let w=sP(y,u),S=b.createHref(y);try{i.pushState(w,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}s&&c&&c({action:l,location:b.location,delta:1})}function h(p,x){l=oo.Replace;let y=mS(b.location,p,x);u=d();let w=sP(y,u),S=b.createHref(y);i.replaceState(w,"",S),s&&c&&c({action:l,location:b.location,delta:0})}function g(p){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof p=="string"?p:ux(p);return y=y.replace(/ $/,"%20"),Zt(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let b={get action(){return l},get location(){return t(a,i)},listen(p){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(aP,f),c=p,()=>{a.removeEventListener(aP,f),c=null}},createHref(p){return e(a,p)},createURL:g,encodeLocation(p){let x=g(p);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:h,go(p){return i.go(p)}};return b}var oP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oP||(oP={}));function lG(t,e,r){return r===void 0&&(r="/"),cG(t,e,r)}function cG(t,e,r,n){let a=typeof e=="string"?au(e):e,s=bI(a.pathname||"/",r);if(s==null)return null;let i=AB(t);uG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=wG(s);l=xG(i[c],u)}return l}function AB(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Zt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=jo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Zt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),AB(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:yG(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of TB(s.path))a(s,i,c)}),e}function TB(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=TB(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function uG(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:bG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dG=/^:[\w-]+$/,fG=3,mG=2,hG=1,pG=10,gG=-2,iP=t=>t==="*";function yG(t,e){let r=t.split("/"),n=r.length;return r.some(iP)&&(n+=gG),e&&(n+=mG),r.filter(a=>!iP(a)).reduce((a,s)=>a+(dG.test(s)?fG:s===""?hG:pG),n)}function bG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function xG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=vG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:jo([s,f.pathname]),pathnameBase:AG(jo([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=jo([s,f.pathnameBase]))}return i}function vG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=jG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let b=l[f]||"";i=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[f];return h&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function jG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),SB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function wG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return SB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function bI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function CG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?au(t):t;return{pathname:r?r.startsWith("/")?r:NG(r,e):e,search:TG(n),hash:kG(a)}}function NG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function h1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function xI(t,e){let r=SG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function vI(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=au(t):(a=wf({},t),Zt(!a.pathname||!a.pathname.includes("?"),h1("?","pathname","search",a)),Zt(!a.pathname||!a.pathname.includes("#"),h1("#","pathname","hash",a)),Zt(!a.search||!a.search.includes("#"),h1("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=CG(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const jo=t=>t.join("/").replace(/\/\/+/g,"/"),AG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kB=["post","put","patch","delete"];new Set(kB);const EG=["get",...kB];new Set(EG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cf(){return Cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cf.apply(this,arguments)}const jI=v.createContext(null),OG=v.createContext(null),Uo=v.createContext(null),Zv=v.createContext(null),Rs=v.createContext({outlet:null,matches:[],isDataRoute:!1}),IB=v.createContext(null);function PG(t,e){let{relative:r}=e===void 0?{}:e;su()||Zt(!1);let{basename:n,navigator:a}=v.useContext(Uo),{hash:s,pathname:i,search:l}=OB(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:jo([n,i])),a.createHref({pathname:c,search:l,hash:s})}function su(){return v.useContext(Zv)!=null}function zo(){return su()||Zt(!1),v.useContext(Zv).location}function EB(t){v.useContext(Uo).static||v.useLayoutEffect(t)}function Em(){let{isDataRoute:t}=v.useContext(Rs);return t?GG():DG()}function DG(){su()||Zt(!1);let t=v.useContext(jI),{basename:e,future:r,navigator:n}=v.useContext(Uo),{matches:a}=v.useContext(Rs),{pathname:s}=zo(),i=JSON.stringify(xI(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return EB(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=vI(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:jo([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const _G=v.createContext(null);function $G(t){let e=v.useContext(Rs).outlet;return e&&v.createElement(_G.Provider,{value:t},e)}function OB(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(Uo),{matches:a}=v.useContext(Rs),{pathname:s}=zo(),i=JSON.stringify(xI(a,n.v7_relativeSplatPath));return v.useMemo(()=>vI(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function RG(t,e){return MG(t,e)}function MG(t,e,r,n){su()||Zt(!1);let{navigator:a}=v.useContext(Uo),{matches:s}=v.useContext(Rs),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=zo(),d;if(e){var f;let p=typeof e=="string"?au(e):e;c==="/"||(f=p.pathname)!=null&&f.startsWith(c)||Zt(!1),d=p}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let p=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=lG(t,{pathname:h}),b=VG(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},l,p.params),pathname:jo([c,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:jo([c,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n);return e&&b?v.createElement(Zv.Provider,{value:{location:Cf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:oo.Pop}},b):b}function LG(){let t=HG(),e=IG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,null)}const FG=v.createElement(LG,null);class BG extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(Rs.Provider,{value:this.props.routeContext},v.createElement(IB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qG(t){let{routeContext:e,match:r,children:n}=t,a=v.useContext(jI);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Rs.Provider,{value:e},n)}function VG(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Zt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,g=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let h,g=!1,b=null,p=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||FG,c&&(u<0&&m===0?(YG("route-fallback"),g=!0,p=null):u===m&&(g=!0,p=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,m+1)),y=()=>{let w;return h?w=b:g?w=p:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,v.createElement(qG,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(BG,{location:r.location,revalidation:r.revalidation,component:b,error:h,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var PB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PB||{}),DB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DB||{});function UG(t){let e=v.useContext(jI);return e||Zt(!1),e}function zG(t){let e=v.useContext(OG);return e||Zt(!1),e}function WG(t){let e=v.useContext(Rs);return e||Zt(!1),e}function _B(t){let e=WG(),r=e.matches[e.matches.length-1];return r.route.id||Zt(!1),r.route.id}function HG(){var t;let e=v.useContext(IB),r=zG(),n=_B();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function GG(){let{router:t}=UG(PB.UseNavigateStable),e=_B(DB.UseNavigateStable),r=v.useRef(!1);return EB(()=>{r.current=!0}),v.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Cf({fromRouteId:e},s)))},[t,e])}const lP={};function YG(t,e,r){lP[t]||(lP[t]=!0)}function KG(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ou(t){let{to:e,replace:r,state:n,relative:a}=t;su()||Zt(!1);let{future:s,static:i}=v.useContext(Uo),{matches:l}=v.useContext(Rs),{pathname:c}=zo(),u=Em(),d=vI(e,xI(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function $B(t){return $G(t.context)}function oe(t){Zt(!1)}function JG(t){let{basename:e="/",children:r=null,location:n,navigationType:a=oo.Pop,navigator:s,static:i=!1,future:l}=t;su()&&Zt(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:i,future:Cf({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=au(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:g="default"}=n,b=v.useMemo(()=>{let p=bI(d,c);return p==null?null:{location:{pathname:p,search:f,hash:m,state:h,key:g},navigationType:a}},[c,d,f,m,h,g,a]);return b==null?null:v.createElement(Uo.Provider,{value:u},v.createElement(Zv.Provider,{children:r,value:b}))}function XG(t){let{children:e,location:r}=t;return RG(hS(e),r)}new Promise(()=>{});function hS(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let s=[...e,a];if(n.type===v.Fragment){r.push.apply(r,hS(n.props.children,s));return}n.type!==oe&&Zt(!1),!n.props.index||!n.props.children||Zt(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=hS(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pS.apply(this,arguments)}function ZG(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function QG(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eY(t,e){return t.button===0&&(!e||e==="_self")&&!QG(t)}const tY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rY="6";try{window.__reactRouterVersion=rY}catch{}const nY="startTransition",cP=Oo[nY];function aY(t){let{basename:e,children:r,future:n,window:a}=t,s=v.useRef();s.current==null&&(s.current=sG({window:a,v5Compat:!0}));let i=s.current,[l,c]=v.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=v.useCallback(f=>{u&&cP?cP(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.useEffect(()=>KG(n),[n]),v.createElement(JG,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const sY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tc=v.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=ZG(e,tY),{basename:h}=v.useContext(Uo),g,b=!1;if(typeof u=="string"&&oY.test(u)&&(g=u,sY))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),C=bI(S.pathname,h);S.origin===w.origin&&C!=null?u=C+S.search+S.hash:b=!0}catch{}let p=PG(u,{relative:a}),x=iY(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||x(w)}return v.createElement("a",pS({},m,{href:g||p,onClick:b||s?n:y,ref:r,target:c}))});var uP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(uP||(uP={}));var dP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dP||(dP={}));function iY(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=Em(),u=zo(),d=OB(t,{relative:i});return v.useCallback(f=>{if(eY(f,r)){f.preventDefault();let m=n!==void 0?n:ux(u)===ux(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function vr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lY=typeof Symbol=="function"&&Symbol.observable||"@@observable",fP=lY,p1=()=>Math.random().toString(36).substring(7).split("").join("."),cY={INIT:`@@redux/INIT${p1()}`,REPLACE:`@@redux/REPLACE${p1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${p1()}`},dx=cY;function wI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function RB(t,e,r){if(typeof t!="function")throw new Error(vr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(vr(1));return r(RB)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((p,x)=>{i.set(x,p)}))}function d(){if(c)throw new Error(vr(3));return a}function f(p){if(typeof p!="function")throw new Error(vr(4));if(c)throw new Error(vr(5));let x=!0;u();const y=l++;return i.set(y,p),function(){if(x){if(c)throw new Error(vr(6));x=!1,u(),i.delete(y),s=null}}}function m(p){if(!wI(p))throw new Error(vr(7));if(typeof p.type>"u")throw new Error(vr(8));if(typeof p.type!="string")throw new Error(vr(17));if(c)throw new Error(vr(9));try{c=!0,a=n(a,p)}finally{c=!1}return(s=i).forEach(y=>{y()}),p}function h(p){if(typeof p!="function")throw new Error(vr(10));n=p,m({type:dx.REPLACE})}function g(){const p=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(vr(11));function y(){const S=x;S.next&&S.next(d())}return y(),{unsubscribe:p(y)}},[fP](){return this}}}return m({type:dx.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[fP]:g}}function uY(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:dx.INIT})>"u")throw new Error(vr(12));if(typeof r(void 0,{type:dx.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(vr(13))})}function dY(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{uY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=i[f],g=m(h,l);if(typeof g>"u")throw l&&l.type,new Error(vr(14));u[f]=g,c=c||g!==h}return c=c||n.length!==Object.keys(i).length,c?u:i}}function fx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function fY(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(vr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=fx(...l)(a.dispatch),{...a,dispatch:s}}}function mY(t){return wI(t)&&"type"in t&&typeof t.type=="string"}var MB=Symbol.for("immer-nothing"),mP=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function oa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ac=Object.getPrototypeOf;function Gi(t){return!!t&&!!t[Cn]}function ks(t){var e;return t?LB(t)||Array.isArray(t)||!!t[mP]||!!((e=t.constructor)!=null&&e[mP])||e0(t)||t0(t):!1}var hY=Object.prototype.constructor.toString();function LB(t){if(!t||typeof t!="object")return!1;const e=Ac(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===hY}function mx(t,e){Qv(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Qv(t){const e=t[Cn];return e?e.type_:Array.isArray(t)?1:e0(t)?2:t0(t)?3:0}function gS(t,e){return Qv(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function FB(t,e,r){const n=Qv(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function pY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function e0(t){return t instanceof Map}function t0(t){return t instanceof Set}function mi(t){return t.copy_||t.base_}function yS(t,e){if(e0(t))return new Map(t);if(t0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=LB(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Cn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(Ac(t),n)}else{const n=Ac(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function CI(t,e=!1){return r0(t)||Gi(t)||!ks(t)||(Qv(t)>1&&(t.set=t.add=t.clear=t.delete=gY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>CI(n,!0))),t}function gY(){oa(2)}function r0(t){return Object.isFrozen(t)}var yY={};function Yi(t){const e=yY[t];return e||oa(0,t),e}var Nf;function BB(){return Nf}function bY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hP(t,e){e&&(Yi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function bS(t){xS(t),t.drafts_.forEach(xY),t.drafts_=null}function xS(t){t===Nf&&(Nf=t.parent_)}function pP(t){return Nf=bY(Nf,t)}function xY(t){const e=t[Cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Cn].modified_&&(bS(e),oa(4)),ks(t)&&(t=hx(e,t),e.parent_||px(e,t)),e.patches_&&Yi("Patches").generateReplacementPatches_(r[Cn].base_,t,e.patches_,e.inversePatches_)):t=hx(e,r,[]),bS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==MB?t:void 0}function hx(t,e,r){if(r0(e))return e;const n=e[Cn];if(!n)return mx(e,(a,s)=>yP(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return px(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),mx(s,(l,c)=>yP(t,n,a,l,c,r,i)),px(t,a,!1),r&&t.patches_&&Yi("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function yP(t,e,r,n,a,s,i){if(Gi(a)){const l=s&&e&&e.type_!==3&&!gS(e.assigned_,n)?s.concat(n):void 0,c=hx(t,a,l);if(FB(r,n,c),Gi(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(ks(a)&&!r0(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;hx(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&px(t,a)}}function px(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CI(e,r)}function vY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:BB(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=NI;r&&(a=[n],s=Sf);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var NI={get(t,e){if(e===Cn)return t;const r=mi(t);if(!gS(r,e))return jY(t,r,e);const n=r[e];return t.finalized_||!ks(n)?n:n===g1(t.base_,e)?(y1(t),t.copy_[e]=jS(n,t)):n},has(t,e){return e in mi(t)},ownKeys(t){return Reflect.ownKeys(mi(t))},set(t,e,r){const n=qB(mi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=g1(mi(t),e),s=a==null?void 0:a[Cn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(pY(r,a)&&(r!==void 0||gS(t.base_,e)))return!0;y1(t),vS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return g1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,y1(t),vS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=mi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){oa(11)},getPrototypeOf(t){return Ac(t.base_)},setPrototypeOf(){oa(12)}},Sf={};mx(NI,(t,e)=>{Sf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Sf.deleteProperty=function(t,e){return Sf.set.call(this,t,e,void 0)};Sf.set=function(t,e,r){return NI.set.call(this,t[0],e,r,t[0])};function g1(t,e){const r=t[Cn];return(r?mi(r):t)[e]}function jY(t,e,r){var a;const n=qB(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function qB(t,e){if(!(e in t))return;let r=Ac(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Ac(r)}}function vS(t){t.modified_||(t.modified_=!0,t.parent_&&vS(t.parent_))}function y1(t){t.copy_||(t.copy_=yS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var wY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&oa(6),n!==void 0&&typeof n!="function"&&oa(7);let a;if(ks(e)){const s=pP(this),i=jS(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?bS(s):xS(s)}return hP(s,n),gP(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===MB&&(a=void 0),this.autoFreeze_&&CI(a,!0),n){const s=[],i=[];Yi("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else oa(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ks(t)||oa(8),Gi(t)&&(t=CY(t));const e=pP(this),r=jS(t,void 0);return r[Cn].isManual_=!0,xS(e),r}finishDraft(t,e){const r=t&&t[Cn];(!r||!r.isManual_)&&oa(9);const{scope_:n}=r;return hP(n,e),gP(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=Yi("Patches").applyPatches_;return Gi(t)?n(t,e):this.produce(t,a=>n(a,e))}};function jS(t,e){const r=e0(t)?Yi("MapSet").proxyMap_(t,e):t0(t)?Yi("MapSet").proxySet_(t,e):vY(t,e);return(e?e.scope_:BB()).drafts_.push(r),r}function CY(t){return Gi(t)||oa(10,t),VB(t)}function VB(t){if(!ks(t)||r0(t))return t;const e=t[Cn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=yS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=yS(t,!0);return mx(r,(n,a)=>{FB(r,n,VB(a))}),e&&(e.finalized_=!1),r}var Nn=new wY,UB=Nn.produce;Nn.produceWithPatches.bind(Nn);Nn.setAutoFreeze.bind(Nn);Nn.setUseStrictShallowCopy.bind(Nn);Nn.applyPatches.bind(Nn);Nn.createDraft.bind(Nn);Nn.finishDraft.bind(Nn);function zB(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var NY=zB(),SY=zB,AY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fx:fx.apply(null,arguments)},TY=t=>t&&typeof t.match=="function";function Ad(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(hs(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>mY(n)&&n.type===t,r}var WB=class sd extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,sd.prototype)}static get[Symbol.species](){return sd}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new sd(...e[0].concat(this)):new sd(...e.concat(this))}};function bP(t){return ks(t)?UB(t,()=>{}):t}function Nh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function kY(t){return typeof t=="boolean"}var IY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new WB;return r&&(kY(r)?i.push(NY):i.push(SY(r.extraArgument))),i},EY="RTK_autoBatch",xP=t=>e=>{setTimeout(e,t)},OY=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xP(10):t.type==="callback"?t.queueNotification:xP(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[EY]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},PY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new WB(t);return n&&a.push(OY(typeof n=="object"?n:void 0)),a};function DY(t){const e=IY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(wI(r))l=dY(r);else throw new Error(hs(1));let c;typeof n=="function"?c=n(e):c=e();let u=fx;a&&(u=AY({trace:!1,...typeof a=="object"&&a}));const d=fY(...c),f=PY(d);let m=typeof i=="function"?i(f):f();const h=u(...m);return RB(l,s,h)}function HB(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(hs(28));if(l in e)throw new Error(hs(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function _Y(t){return typeof t=="function"}function $Y(t,e){let[r,n,a]=HB(e),s;if(_Y(t))s=()=>bP(t());else{const l=bP(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Gi(d)){const h=f(d,c);return h===void 0?d:h}else{if(ks(d))return UB(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var RY=(t,e)=>TY(t)?t.match(e):t(e);function MY(...t){return e=>t.some(r=>RY(r,e))}var LY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",FY=(t=21)=>{let e="",r=t;for(;r--;)e+=LY[Math.random()*64|0];return e},BY=["name","message","stack","code"],b1=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},vP=class{constructor(t,e){he(this,"_type");this.payload=t,this.meta=e}},qY=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of BY)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},jP="External signal was aborted",L=(()=>{function t(e,r,n){const a=Ad(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=Ad(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=Ad(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||qY)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const h=n!=null&&n.idGenerator?n.idGenerator(c):FY(),g=new AbortController;let b,p;function x(w){p=w,g.abort()}u&&(u.aborted?x(jP):u.addEventListener("abort",()=>x(jP),{once:!0}));const y=async function(){var C,j;let w;try{let N=(C=n==null?void 0:n.condition)==null?void 0:C.call(n,c,{getState:f,extra:m});if(UY(N)&&(N=await N),N===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const A=new Promise((E,T)=>{b=()=>{T({name:"AbortError",message:p||"Aborted"})},g.signal.addEventListener("abort",b)});d(s(h,c,(j=n==null?void 0:n.getPendingMeta)==null?void 0:j.call(n,{requestId:h,arg:c},{getState:f,extra:m}))),w=await Promise.race([A,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:h,signal:g.signal,abort:x,rejectWithValue:(E,T)=>new b1(E,T),fulfillWithValue:(E,T)=>new vP(E,T)})).then(E=>{if(E instanceof b1)throw E;return E instanceof vP?a(E.payload,h,c,E.meta):a(E,h,c)})])}catch(N){w=N instanceof b1?i(null,h,c,N.payload,N.meta):i(N,h,c)}finally{b&&g.signal.removeEventListener("abort",b)}return n&&!n.dispatchConditionRejection&&i.match(w)&&w.meta.condition||d(w),w}();return Object.assign(y,{abort:x,requestId:h,arg:c,unwrap(){return y.then(VY)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:MY(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function VY(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function UY(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var zY=Symbol.for("rtk-slice-createasyncthunk");function WY(t,e){return`${t}/${e}`}function HY({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[zY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(hs(11));const l=(typeof a.reducers=="function"?a.reducers(YY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,C){const j=typeof S=="string"?S:S.type;if(!j)throw new Error(hs(12));if(j in u.sliceCaseReducersByType)throw new Error(hs(13));return u.sliceCaseReducersByType[j]=C,d},addMatcher(S,C){return u.sliceMatchers.push({matcher:S,reducer:C}),d},exposeAction(S,C){return u.actionCreators[S]=C,d},exposeCaseReducer(S,C){return u.sliceCaseReducersByName[S]=C,d}};c.forEach(S=>{const C=l[S],j={reducerName:S,type:WY(s,S),createNotation:typeof a.reducers=="function"};JY(C)?ZY(j,C,d,e):KY(j,C,d)});function f(){const[S={},C=[],j=void 0]=typeof a.extraReducers=="function"?HB(a.extraReducers):[a.extraReducers],N={...S,...u.sliceCaseReducersByType};return $Y(a.initialState,A=>{for(let E in N)A.addCase(E,N[E]);for(let E of u.sliceMatchers)A.addMatcher(E.matcher,E.reducer);for(let E of C)A.addMatcher(E.matcher,E.reducer);j&&A.addDefaultCase(j)})}const m=S=>S,h=new Map,g=new WeakMap;let b;function p(S,C){return b||(b=f()),b(S,C)}function x(){return b||(b=f()),b.getInitialState()}function y(S,C=!1){function j(A){let E=A[S];return typeof E>"u"&&C&&(E=Nh(g,j,x)),E}function N(A=m){const E=Nh(h,C,()=>new WeakMap);return Nh(E,A,()=>{const T={};for(const[I,P]of Object.entries(a.selectors??{}))T[I]=GY(P,A,()=>Nh(g,A,x),C);return T})}return{reducerPath:S,getSelectors:N,get selectors(){return N(j)},selectSlice:j}}const w={name:s,reducer:p,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...y(i),injectInto(S,{reducerPath:C,...j}={}){const N=C??i;return S.inject({reducerPath:N,reducer:p},j),{...w,...y(N,!0)}}};return w}}function GY(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var ye=HY();function YY(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function KY({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!XY(n))throw new Error(hs(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?Ad(t,i):Ad(t))}function JY(t){return t._reducerDefinitionType==="asyncThunk"}function XY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ZY({type:t,reducerName:e},r,n,a){if(!a)throw new Error(hs(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||Sh,pending:l||Sh,rejected:c||Sh,settled:u||Sh})}function Sh(){}function hs(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const QY="https://staging-engine.testthelink.online",eK=async(t,e)=>{var r;try{const n=await fetch(`${QY}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),a=await n.json();if(!n.ok||!a.token)throw new Error(a.message||((r=a.errors)==null?void 0:r.general)||"Login failed");return localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),a.user}catch(n){throw new Error(n.message)}},tK=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),null),rK=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),nK=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),n0={login:eK,logout:tK,fetchUserProfile:rK,changePassword:nK},aK={user:null,isAuthenticated:!1,isLoading:!1,error:null},kp=L("auth/login",async({username:t,password:e},r)=>{try{return await n0.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),GB=L("auth/logout",async(t,e)=>{try{return await n0.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),x1=L("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await n0.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),Ip=L("auth/fetchUserProfile",async(t,e)=>{try{return await n0.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),YB=ye({name:"auth",initialState:aK,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(kp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kp.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(kp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(GB.fulfilled,e=>{e.user=null,e.isAuthenticated=!1}).addCase(Ip.pending,e=>{e.isLoading=!0}).addCase(Ip.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(Ip.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(x1.pending,e=>{e.isLoading=!0}).addCase(x1.fulfilled,e=>{e.isLoading=!1}).addCase(x1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetAuthState:d8e}=YB.actions,sK=YB.reducer;let oK={data:""},iK=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||oK,lK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cK=/\/\*[^]*?\*\/|  +/g,wP=/\n+/g,no=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?no(i,s):s+"{"+no(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=no(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=no.p?no.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Ga={},KB=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+KB(t[r]);return e}return t},uK=(t,e,r,n,a)=>{let s=KB(t),i=Ga[s]||(Ga[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Ga[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=lK.exec(u.replace(cK,""));)d[4]?m.shift():d[3]?(f=d[3].replace(wP," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(wP," ").trim();return m[0]})(t);Ga[i]=no(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Ga.g?Ga.g:null;return r&&(Ga.g=Ga[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Ga[i],e,n,l),i},dK=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":no(l,""):l===!1?"":l}return n+a+(i??"")},"");function a0(t){let e=this||{},r=t.call?t(e.p):t;return uK(r.unshift?r.raw?dK(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,iK(e.target),e.g,e.o,e.k)}let JB,wS,CS;a0.bind({g:1});let Is=a0.bind({k:1});function fK(t,e,r,n){no.p=e,JB=t,wS=r,CS=n}function Wo(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:wS&&wS()},l),r.o=/ *go\d+/.test(c),l.className=a0.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),CS&&u[0]&&CS(l),JB(u,l)}return a}}var mK=t=>typeof t=="function",gx=(t,e)=>mK(t)?t(e):t,hK=(()=>{let t=0;return()=>(++t).toString()})(),XB=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),pK=20,ZB=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,pK)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return ZB(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Ep=[],Ni={toasts:[],pausedAt:void 0},ol=t=>{Ni=ZB(Ni,t),Ep.forEach(e=>{e(Ni)})},gK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},yK=(t={})=>{let[e,r]=v.useState(Ni),n=v.useRef(Ni);v.useEffect(()=>(n.current!==Ni&&r(Ni),Ep.push(r),()=>{let s=Ep.indexOf(r);s>-1&&Ep.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||gK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},bK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||hK()}),Om=t=>(e,r)=>{let n=bK(e,t,r);return ol({type:2,toast:n}),n.id},pe=(t,e)=>Om("blank")(t,e);pe.error=Om("error");pe.success=Om("success");pe.loading=Om("loading");pe.custom=Om("custom");pe.dismiss=t=>{ol({type:3,toastId:t})};pe.remove=t=>ol({type:4,toastId:t});pe.promise=(t,e,r)=>{let n=pe.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?gx(e.success,a):void 0;return s?pe.success(s,{id:n,...r,...r==null?void 0:r.success}):pe.dismiss(n),a}).catch(a=>{let s=e.error?gx(e.error,a):void 0;s?pe.error(s,{id:n,...r,...r==null?void 0:r.error}):pe.dismiss(n)}),t};var xK=(t,e)=>{ol({type:1,toast:{id:t,height:e}})},vK=()=>{ol({type:5,time:Date.now()})},Td=new Map,jK=1e3,wK=(t,e=jK)=>{if(Td.has(t))return;let r=setTimeout(()=>{Td.delete(t),ol({type:4,toastId:t})},e);Td.set(t,r)},CK=t=>{let{toasts:e,pausedAt:r}=yK(t);v.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&pe.dismiss(l.id);return}return setTimeout(()=>pe.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=v.useCallback(()=>{r&&ol({type:6,time:Date.now()})},[r]),a=v.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(h=>(h.position||u)===(s.position||u)&&h.height),f=d.findIndex(h=>h.id===s.id),m=d.filter((h,g)=>g<f&&h.visible).length;return d.filter(h=>h.visible).slice(...l?[m+1]:[0,m]).reduce((h,g)=>h+(g.height||0)+c,0)},[e]);return v.useEffect(()=>{e.forEach(s=>{if(s.dismissed)wK(s.id,s.removeDelay);else{let i=Td.get(s.id);i&&(clearTimeout(i),Td.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:xK,startPause:vK,endPause:n,calculateOffset:a}}},NK=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,SK=Is`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AK=Is`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,TK=Wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${SK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,kK=Is`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,IK=Wo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${kK} 1s linear infinite;
`,EK=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OK=Is`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,PK=Wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OK} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,DK=Wo("div")`
  position: absolute;
`,_K=Wo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$K=Is`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RK=Wo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$K} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,MK=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?v.createElement(RK,null,e):e:r==="blank"?null:v.createElement(_K,null,v.createElement(IK,{...n}),r!=="loading"&&v.createElement(DK,null,r==="error"?v.createElement(TK,{...n}):v.createElement(PK,{...n})))},LK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,FK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,BK="0%{opacity:0;} 100%{opacity:1;}",qK="0%{opacity:1;} 100%{opacity:0;}",VK=Wo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,UK=Wo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zK=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=XB()?[BK,qK]:[LK(r),FK(r)];return{animation:e?`${Is(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Is(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},WK=v.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?zK(t.position||e||"top-center",t.visible):{opacity:0},s=v.createElement(MK,{toast:t}),i=v.createElement(UK,{...t.ariaProps},gx(t.message,t));return v.createElement(VK,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):v.createElement(v.Fragment,null,s,i))});fK(v.createElement);var HK=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=v.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return v.createElement("div",{ref:s,className:e,style:r},a)},GK=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:XB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},YK=a0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ah=16,KK=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=CK(r);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ah,left:Ah,right:Ah,bottom:Ah,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=GK(d,f);return v.createElement(HK,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?YK:"",style:m},u.type==="custom"?gx(u.message,u):a?a(u):v.createElement(WK,{toast:u,position:d}))}))},qe=pe;function QB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=QB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function $e(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=QB(t))&&(n&&(n+=" "),n+=e);return n}function JK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const e3=v.forwardRef(JK);function XK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const ya=v.forwardRef(XK);function ZK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const t3=v.forwardRef(ZK);function QK({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const eJ=v.forwardRef(QK);function tJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const rJ=v.forwardRef(tJ);function nJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const aJ=v.forwardRef(nJ);function sJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const SI=v.forwardRef(sJ);function oJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const NS=v.forwardRef(oJ);function iJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const r3=v.forwardRef(iJ);function lJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const CP=v.forwardRef(lJ);function cJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const n3=v.forwardRef(cJ);function uJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const dJ=v.forwardRef(uJ);function fJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const mJ=v.forwardRef(fJ);function hJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const a3=v.forwardRef(hJ);function pJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const gJ=v.forwardRef(pJ);function yJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const s0=v.forwardRef(yJ);function bJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const xJ=v.forwardRef(bJ);function vJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const jJ=v.forwardRef(vJ);function wJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const CJ=v.forwardRef(wJ);function NJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ae=v.forwardRef(NJ);function SJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Se=v.forwardRef(SJ);function AJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const il=v.forwardRef(AJ);function TJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const kJ=v.forwardRef(TJ);function IJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Me=v.forwardRef(IJ);function EJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const OJ=v.forwardRef(EJ);function PJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const s3=v.forwardRef(PJ);function DJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const o3=v.forwardRef(DJ),_J=[{name:"Dashboard",href:"/dashboard",icon:jJ},{name:"Settings",icon:n3,submenu:[{name:"Departments",href:"/settings/departments"},{name:"Subdepartments",href:"/settings/subdepartments"},{name:"Modules",href:"/settings/modules"},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix"},{name:"User Access",href:"/settings/user-access"},{name:"User Roles",href:"/settings/user-roles"},{name:"User",href:"/settings/users"}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration"},{name:"Base Unit Value",href:"/settings/base-unit-value"},{name:"General Revision",href:"/settings/general-revision"}]},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank"},{name:"Currency",href:"/settings/currency"}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details"},{name:"Document Type Category",href:"/settings/document-type-categories"}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items"},{name:"Item Units",href:"/settings/items/units"},{name:"Invoice Charge Accounts",href:"/settings/items/invoice-charge-accounts"}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details"},{name:"Project Type",href:"/settings/project-type"}]},{name:"Financial Statement",href:"/settings/financial-statement"},{name:"Fiscal Year",href:"/settings/fiscal-year"},{name:"Tax Code",href:"/settings/tax-code"},{name:"Mode of Payment",href:"/settings/mode-of-payment"},{name:"Payment Terms",href:"/settings/payment-terms"},{name:"Industry",href:"/settings/industry"}]},{name:"Locations",href:"/settings/locations"},{name:"Individual/Citizen",href:"/settings/customer"},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts"},{name:"Account Group",href:"/settings/account-group"},{name:"Major Account Group",href:"/settings/major-account-group"},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group"}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors"},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type"},{name:"Vendor Type",href:"/settings/vendor-type"}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees"},{name:"Employment Status",href:"/settings/employmentStatus"},{name:"Positions",href:"/settings/positions"},{name:"Nationalities",href:"/settings/nationalities"}]},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe"},{name:"PPE Categories",href:"/settings/ppe-categories"},{name:"PPE Suppliers",href:"/settings/ppe-suppliers"}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance"}]},{name:"Disbursement",icon:dJ,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests"},{name:"Disbursement Voucher",href:"/disbursement/vouchers"},{name:"Travel Order",href:"/disbursement/travel-orders"},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers"},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals"},{name:"General Journals",href:"/disbursement/general-journals"},{name:"Beginning Balance",href:"/disbursement/beginning-balance"},{name:"Purchase Request",href:"/disbursement/purchase-requests"},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests"}]},{name:"Collections",icon:kJ,submenu:[{name:"Community Tax",href:"/collections/community-tax"},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation"},{name:"General Service Receipt",href:"/collections/general-service-receipts"},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts"},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts"},{name:"Real Property Tax",href:"/collections/real-property-tax"},{name:"Cashbook",href:"/collections/cashbook"},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets"}]},{name:"Applications",icon:a3,submenu:[{name:"Business Permits",href:"/applications/business-permits"},{name:"Cheque Generator",href:"/applications/cheque-generator"}]},{name:"Budget",icon:mJ,submenu:[{name:"Budget Details",href:"/budget/details"},{name:"Budget Allotment",href:"/budget/allotment"},{name:"Budget Summary",href:"/budget/summary"},{name:"Budget Supplemental",href:"/budget/supplemental"},{name:"Budget Transfer",href:"/budget/transfer"},{name:"Budget Report",href:"/budget/report"},{name:"Funds",href:"/budget/funds"},{name:"Sub-funds",href:"/budget/sub-funds"},{name:"Fund Transfer",href:"/budget/fund-transfer"},{name:"Statement of Comparison",href:"/budget/statement-comparison"},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation"}]},{name:"Reports",icon:NS,submenu:[{name:"General Ledger",href:"/reports/general-ledger"},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger"},{name:"Trial Balance",href:"/reports/trial-balance"},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:NS}];function i3({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i=""}){return o.jsx("div",{className:$e("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(l=>{const c=i?`${i}.${l.name}`:l.name,u=e[c],d=a(l.submenu||[]);return o.jsx("div",{className:"relative",children:l.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:f=>{f.preventDefault(),r(c)},className:$e("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",d?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",u&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[l.icon&&o.jsx(l.icon,{className:$e("mr-3 h-5 w-5 flex-shrink-0",d?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:$e("h-5 w-5 transform transition-transform flex-shrink-0",u?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(i3,{items:l.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:c})]})]}):o.jsxs(tc,{to:l.href,className:$e("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(l.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[l.icon&&o.jsx(l.icon,{className:$e("mr-3 h-5 w-5 flex-shrink-0",n(l.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]})},c)})})}function $J(){var l,c;const t=zo(),{user:e}=q(u=>u.auth),[r,n]=v.useState({}),a=u=>{n(d=>({...d,[u]:!d[u]}))},s=u=>t.pathname===u,i=u=>u.some(d=>d.href?t.pathname===d.href:d.children&&i(d.children));return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(i3,{items:_J,expandedMenus:r,toggleMenu:a,isActive:s,isSubMenuActive:i})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((l=e.firstName)==null?void 0:l.charAt(0))||"",((c=e.lastName)==null?void 0:c.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function jl(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((g,b)=>n[b]!==g)))return a;n=f;let h;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(h=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const g=Math.round((Date.now()-d)*100)/100,b=Math.round((Date.now()-h)*100)/100,p=b/16,x=(y,w)=>{for(y=String(y);y.length<w;)y=" "+y;return y};console.info(`%c ${x(b,5)} /${x(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function NP(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const RJ=(t,e)=>Math.abs(t-e)<=1,MJ=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},SP=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},LJ=t=>t,FJ=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},BJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(SP(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(SP(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},AP={passive:!0},TP=typeof window>"u"?!0:"onscrollend"in window,qJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&TP?()=>{}:MJ(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,AP);const u=t.options.useScrollendEvent&&TP;return u&&r.addEventListener("scrollend",c,AP),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},VJ=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},UJ=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class zJ{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:LJ,rangeExtractor:FJ,onChange:()=>{},measureElement:VJ,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=jl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=jl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=jl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=m?m.end+this.options.gap:n+a,g=l.get(f),b=typeof g=="number"?g:this.options.estimateSize(d),p=h+b,x=m?m.lane:d%this.options.lanes;u[d]={index:d,start:h,size:b,end:p,key:f,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=jl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?WJ({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=jl(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=jl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return NP(n[l3(0,n.length-1,a=>NP(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(r,n);if(!s)return;const[i,l]=s;this._scrollToOffset(i,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const u=this.getOffsetForIndex(r,l);if(!u)return;const[d]=u,f=this.getScrollOffset();RJ(d,f)||this.scrollToIndex(r,{align:l,behavior:a})}else this.scrollToIndex(r,{align:l,behavior:a})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const l3=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function WJ({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=l3(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const kP=typeof document<"u"?v.useLayoutEffect:v.useEffect;function HJ(t){const e=v.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?Xv.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=v.useState(()=>new zJ(r));return n.setOptions(r),kP(()=>n._didMount(),[]),kP(()=>n._willUpdate()),n}function GJ(t){return HJ({observeElementRect:BJ,observeElementOffset:qJ,scrollToFn:UJ,...t})}var YJ=Object.defineProperty,KJ=(t,e,r)=>e in t?YJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,v1=(t,e,r)=>(KJ(t,typeof e!="symbol"?e+"":e,r),r);let JJ=class{constructor(){v1(this,"current",this.detect()),v1(this,"handoffState","pending"),v1(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ps=new JJ,mt=(t,e)=>{ps.isServer?v.useEffect(t,e):v.useLayoutEffect(t,e)};function fa(t){let e=v.useRef(t);return mt(()=>{e.current=t},[t]),e}function AI(t,e){let[r,n]=v.useState(t),a=fa(t);return mt(()=>n(a.current),[a,n,...e]),r}let je=function(t){let e=fa(t);return V.useCallback((...r)=>e.current(...r),[e])};function XJ(t,e,r){let[n,a]=v.useState(r),s=t!==void 0,i=v.useRef(s),l=v.useRef(!1),c=v.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,je(u=>(s||a(u),e==null?void 0:e(u)))]}function o0(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Sn(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return o0(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Sn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function Ho(){let[t]=v.useState(Sn);return v.useEffect(()=>()=>t.dispose(),[t]),t}function ZJ(){let t=typeof document>"u";return"useSyncExternalStore"in Oo?(e=>e.useSyncExternalStore)(Oo)(()=>()=>{},()=>!1,()=>!t):!1}function ou(){let t=ZJ(),[e,r]=v.useState(ps.isHandoffComplete);return e&&ps.isHandoffComplete===!1&&r(!1),v.useEffect(()=>{e!==!0&&r(!0)},[e]),v.useEffect(()=>ps.handoff(),[]),t?!1:e}var IP;let ln=(IP=V.useId)!=null?IP:function(){let t=ou(),[e,r]=V.useState(t?()=>ps.nextId():null);return mt(()=>{e===null&&r(ps.nextId())},[e]),e!=null?""+e:void 0};function Ot(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ot),n}function i0(t){return ps.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let SS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ss=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ss||{}),c3=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(c3||{}),QJ=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(QJ||{});function u3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(SS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var TI=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(TI||{});function kI(t,e=0){var r;return t===((r=i0(t))==null?void 0:r.body)?!1:Ot(e,{0(){return t.matches(SS)},1(){let n=t;for(;n!==null;){if(n.matches(SS))return!0;n=n.parentElement}return!1}})}function d3(t){let e=i0(t);Sn().nextFrame(()=>{e&&!kI(e.activeElement,0)&&wo(t)})}var eX=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(eX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function wo(t){t==null||t.focus({preventScroll:!0})}let tX=["textarea","input"].join(",");function rX(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,tX))!=null?r:!1}function II(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function nX(t,e){return kd(u3(),e,{relativeTo:t})}function kd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?II(t):t:u3(t);a.length>0&&i.length>1&&(i=i.filter(h=>!a.includes(h))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(e&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}m=i[h],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&rX(m)&&m.select(),2}function f3(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function aX(){return/Android/gi.test(window.navigator.userAgent)}function m3(){return f3()||aX()}function Th(t,e,r){let n=fa(e);v.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function h3(t,e,r){let n=fa(e);v.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function EI(t,e,r=!0){let n=v.useRef(!1);v.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!kI(c,TI.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=v.useRef(null);Th("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Th("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),Th("click",i=>{m3()||s.current&&(a(i,()=>s.current),s.current=null)},!0),Th("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),h3("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ll(...t){return v.useMemo(()=>i0(...t),[...t])}function EP(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function p3(t,e){let[r,n]=v.useState(()=>EP(t));return mt(()=>{n(EP(t))},[t.type,t.as]),mt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let g3=Symbol();function sX(t,e=!0){return Object.assign(t,{[g3]:e})}function nr(...t){let e=v.useRef(t);v.useEffect(()=>{e.current=t},[t]);let r=je(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[g3]))?void 0:r}function OP(t){return[t.screenX,t.screenY]}function y3(){let t=v.useRef([-1,-1]);return{wasMoved(e){let r=OP(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=OP(e)}}}function b3({container:t,accept:e,walk:r,enabled:n=!0}){let a=v.useRef(e),s=v.useRef(r);v.useEffect(()=>{a.current=e,s.current=r},[e,r]),mt(()=>{if(!t||!n)return;let i=i0(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function Af(t,e){let r=v.useRef([]),n=je(t);v.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function yx(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var $o=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))($o||{}),io=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(io||{});function Gt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??oX;let c=x3(e,t);if(s)return kh(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return kh(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return Ot(d?0:1,{0(){return null},1(){return kh({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return kh(c,r,n,i,l)}function kh(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=j1(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,h=[];for(let[g,b]of Object.entries(e))typeof b=="boolean"&&(m=!0),b===!0&&h.push(g);m&&(f["data-headlessui-state"]=h.join(" "))}if(s===v.Fragment&&Object.keys(AS(c)).length>0){if(!v.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let m=d.props,h=typeof(m==null?void 0:m.className)=="function"?(...b)=>yx(m==null?void 0:m.className(...b),c.className):yx(m==null?void 0:m.className,c.className),g=h?{className:h}:{};return v.cloneElement(d,Object.assign({},x3(d.props,AS(j1(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},g))}return v.createElement(s,Object.assign({},j1(c,["ref"]),s!==v.Fragment&&u,s!==v.Fragment&&f),d)}function oX(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function x3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function Lt(t){var e;return Object.assign(v.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function AS(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function j1(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let iX="div";var Tf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Tf||{});function lX(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Gt({ourProps:s,theirProps:a,slot:{},defaultTag:iX,name:"Hidden"})}let bx=Lt(lX),OI=v.createContext(null);OI.displayName="OpenClosedContext";var Kt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Kt||{});function Pm(){return v.useContext(OI)}function PI({value:t,children:e}){return V.createElement(OI.Provider,{value:t},e)}function cX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ea=[];cX(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ea[0]!==e.target&&(Ea.unshift(e.target),Ea=Ea.filter(r=>r!=null&&r.isConnected),Ea.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function DI(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&uX(r)?!1:n}function uX(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function dX(t){throw new Error("Unexpected object: "+t)}var it=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(it||{});function TS(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:dX(t)}}function v3(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))w3(r,j3(e,n),a);return r}function j3(t,e){return t?t+"["+e+"]":e}function w3(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())w3(t,j3(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):v3(r,e,t)}var at=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(at||{}),fX={},mX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(mX||{}),hX=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(hX||{}),pX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(pX||{}),gX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(gX||{});function w1(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):II(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let yX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===it.Specific?e.idx:TS(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,h;return(h=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(g=>!t.virtual.disabled(g)))!=null?h:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=w1(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===it.Specific?e.idx:TS(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=w1(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=w1(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},_I=v.createContext(null);_I.displayName="ComboboxActionsContext";function Dm(t){let e=v.useContext(_I);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Dm),r}return e}let C3=v.createContext(null);function bX(t){var e;let r=cl("VirtualProvider"),[n,a]=v.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=GJ({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=v.useState(0);return mt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),V.createElement(C3.Provider,{value:s},V.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&fX.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return V.createElement(v.Fragment,{key:c.key},V.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let $I=v.createContext(null);$I.displayName="ComboboxDataContext";function cl(t){let e=v.useContext($I);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,cl),r}return e}function xX(t,e){return Ot(e.type,yX,t,e)}let vX=v.Fragment;function jX(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:h=null,...g}=t,b=!1,p=null,[x=f?[]:void 0,y]=XJ(r,a,n),[w,S]=v.useReducer(xX,{dataRef:v.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),C=v.useRef(!1),j=v.useRef({static:!1,hold:!1}),N=v.useRef(null),A=v.useRef(null),E=v.useRef(null),T=v.useRef(null),I=je(typeof l=="string"?(Z,te)=>{let G=l;return(Z==null?void 0:Z[G])===(te==null?void 0:te[G])}:l??((Z,te)=>Z===te)),P=je(Z=>w.options.findIndex(te=>I(te.dataRef.current.value,Z))),M=v.useCallback(Z=>Ot(_.mode,{1:()=>x.some(te=>I(te,Z)),0:()=>I(x,Z)}),[x]),$=je(Z=>w.activeOptionIndex===P(Z)),_=v.useMemo(()=>({...w,immediate:b,optionsPropsRef:j,labelRef:N,inputRef:A,buttonRef:E,optionsRef:T,value:x,defaultValue:n,disabled:c,mode:f?1:0,virtual:w.virtual,get activeOptionIndex(){if(C.current&&w.activeOptionIndex===null&&w.options.length>0){let Z=w.options.findIndex(te=>!te.dataRef.current.disabled);if(Z!==-1)return Z}return w.activeOptionIndex},calculateIndex:P,compare:I,isSelected:M,isActive:$,nullable:d,__demoMode:u}),[x,n,c,f,d,u,w,p]);mt(()=>{},[p,void 0]),mt(()=>{w.dataRef.current=_},[_]),EI([_.buttonRef,_.inputRef,_.optionsRef],()=>Te.closeCombobox(),_.comboboxState===0);let B=v.useMemo(()=>{var Z,te,G;return{open:_.comboboxState===0,disabled:c,activeIndex:_.activeOptionIndex,activeOption:_.activeOptionIndex===null?null:_.virtual?_.virtual.options[(Z=_.activeOptionIndex)!=null?Z:0]:(G=(te=_.options[_.activeOptionIndex])==null?void 0:te.dataRef.current.value)!=null?G:null,value:x}},[_,c,x]),U=je(()=>{if(_.activeOptionIndex!==null){if(_.virtual)ee(_.virtual.options[_.activeOptionIndex]);else{let{dataRef:Z}=_.options[_.activeOptionIndex];ee(Z.current.value)}Te.goToOption(it.Specific,_.activeOptionIndex)}}),D=je(()=>{S({type:0}),C.current=!0}),R=je(()=>{S({type:1}),C.current=!1}),F=je((Z,te,G)=>(C.current=!1,Z===it.Specific?S({type:2,focus:it.Specific,idx:te,trigger:G}):S({type:2,focus:Z,trigger:G}))),H=je((Z,te)=>(S({type:3,payload:{id:Z,dataRef:te}}),()=>{_.isActive(te.current.value)&&(C.current=!0),S({type:4,id:Z})})),W=je(Z=>(S({type:5,id:Z}),()=>S({type:5,id:null}))),ee=je(Z=>Ot(_.mode,{0(){return y==null?void 0:y(Z)},1(){let te=_.value.slice(),G=te.findIndex(z=>I(z,Z));return G===-1?te.push(Z):te.splice(G,1),y==null?void 0:y(te)}})),fe=je(Z=>{S({type:6,trigger:Z})}),Te=v.useMemo(()=>({onChange:ee,registerOption:H,registerLabel:W,goToOption:F,closeCombobox:R,openCombobox:D,setActivationTrigger:fe,selectActiveOption:U}),[]),ne=e===null?{}:{ref:e},J=v.useRef(null),le=Ho();return v.useEffect(()=>{J.current&&n!==void 0&&le.addEventListener(J.current,"reset",()=>{y==null||y(n)})},[J,y]),V.createElement(_I.Provider,{value:Te},V.createElement($I.Provider,{value:_},V.createElement(PI,{value:Ot(_.comboboxState,{0:Kt.Open,1:Kt.Closed})},i!=null&&x!=null&&v3({[i]:x}).map(([Z,te],G)=>V.createElement(bx,{features:Tf.Hidden,ref:G===0?z=>{var me;J.current=(me=z==null?void 0:z.closest("form"))!=null?me:null}:void 0,...AS({key:Z,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:Z,value:te})})),Gt({ourProps:ne,theirProps:g,slot:B,defaultTag:vX,name:"Combobox"}))))}let wX="input";function CX(t,e){var r,n,a,s,i;let l=ln(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,h=cl("Combobox.Input"),g=Dm("Combobox.Input"),b=nr(h.inputRef,e),p=ll(h.inputRef),x=v.useRef(!1),y=Ho(),w=je(()=>{g.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),g.goToOption(it.Nothing)}),S=function(){var _;return typeof d=="function"&&h.value!==void 0?(_=d(h.value))!=null?_:"":typeof h.value=="string"?h.value:""}();Af(([_,B],[U,D])=>{if(x.current)return;let R=h.inputRef.current;R&&((D===0&&B===1||_!==U)&&(R.value=_),requestAnimationFrame(()=>{if(x.current||!R||(p==null?void 0:p.activeElement)!==R)return;let{selectionStart:F,selectionEnd:H}=R;Math.abs((H??0)-(F??0))===0&&F===0&&R.setSelectionRange(R.value.length,R.value.length)}))},[S,h.comboboxState,p]),Af(([_],[B])=>{if(_===0&&B===1){if(x.current)return;let U=h.inputRef.current;if(!U)return;let D=U.value,{selectionStart:R,selectionEnd:F,selectionDirection:H}=U;U.value="",U.value=D,H!==null?U.setSelectionRange(R,F,H):U.setSelectionRange(R,F)}},[h.comboboxState]);let C=v.useRef(!1),j=je(()=>{C.current=!0}),N=je(()=>{y.nextFrame(()=>{C.current=!1})}),A=je(_=>{switch(x.current=!0,_.key){case at.Enter:if(x.current=!1,h.comboboxState!==0||C.current)return;if(_.preventDefault(),_.stopPropagation(),h.activeOptionIndex===null){g.closeCombobox();return}g.selectActiveOption(),h.mode===0&&g.closeCombobox();break;case at.ArrowDown:return x.current=!1,_.preventDefault(),_.stopPropagation(),Ot(h.comboboxState,{0:()=>g.goToOption(it.Next),1:()=>g.openCombobox()});case at.ArrowUp:return x.current=!1,_.preventDefault(),_.stopPropagation(),Ot(h.comboboxState,{0:()=>g.goToOption(it.Previous),1:()=>{g.openCombobox(),y.nextFrame(()=>{h.value||g.goToOption(it.Last)})}});case at.Home:if(_.shiftKey)break;return x.current=!1,_.preventDefault(),_.stopPropagation(),g.goToOption(it.First);case at.PageUp:return x.current=!1,_.preventDefault(),_.stopPropagation(),g.goToOption(it.First);case at.End:if(_.shiftKey)break;return x.current=!1,_.preventDefault(),_.stopPropagation(),g.goToOption(it.Last);case at.PageDown:return x.current=!1,_.preventDefault(),_.stopPropagation(),g.goToOption(it.Last);case at.Escape:return x.current=!1,h.comboboxState!==0?void 0:(_.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&_.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&w(),g.closeCombobox());case at.Tab:if(x.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&g.selectActiveOption(),g.closeCombobox();break}}),E=je(_=>{u==null||u(_),h.nullable&&h.mode===0&&_.target.value===""&&w(),g.openCombobox()}),T=je(_=>{var B,U,D;let R=(B=_.relatedTarget)!=null?B:Ea.find(F=>F!==_.currentTarget);if(x.current=!1,!((U=h.optionsRef.current)!=null&&U.contains(R))&&!((D=h.buttonRef.current)!=null&&D.contains(R))&&h.comboboxState===0)return _.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?w():h.activationTrigger!==1&&g.selectActiveOption()),g.closeCombobox()}),I=je(_=>{var B,U,D;let R=(B=_.relatedTarget)!=null?B:Ea.find(F=>F!==_.currentTarget);(U=h.buttonRef.current)!=null&&U.contains(R)||(D=h.optionsRef.current)!=null&&D.contains(R)||h.disabled||h.immediate&&h.comboboxState!==0&&(g.openCombobox(),y.nextFrame(()=>{g.setActivationTrigger(1)}))}),P=AI(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),M=v.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),$={ref:b,id:c,role:"combobox",type:f,"aria-controls":(r=h.optionsRef.current)==null?void 0:r.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(n=h.options.find(_=>{var B;return!((B=h.virtual)!=null&&B.disabled(_.dataRef.current.value))&&h.compare(_.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:n.id:(a=h.options[h.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":P,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?i:h.defaultValue,disabled:h.disabled,onCompositionStart:j,onCompositionEnd:N,onKeyDown:A,onChange:E,onFocus:I,onBlur:T};return Gt({ourProps:$,theirProps:m,slot:M,defaultTag:wX,name:"Combobox.Input"})}let NX="button";function SX(t,e){var r;let n=cl("Combobox.Button"),a=Dm("Combobox.Button"),s=nr(n.buttonRef,e),i=ln(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=Ho(),d=je(b=>{switch(b.key){case at.ArrowDown:return b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var p;return(p=n.inputRef.current)==null?void 0:p.focus({preventScroll:!0})});case at.ArrowUp:return b.preventDefault(),b.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(it.Last)})),u.nextFrame(()=>{var p;return(p=n.inputRef.current)==null?void 0:p.focus({preventScroll:!0})});case at.Escape:return n.comboboxState!==0?void 0:(b.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&b.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var p;return(p=n.inputRef.current)==null?void 0:p.focus({preventScroll:!0})}));default:return}}),f=je(b=>{if(DI(b.currentTarget))return b.preventDefault();n.comboboxState===0?a.closeCombobox():(b.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var p;return(p=n.inputRef.current)==null?void 0:p.focus({preventScroll:!0})})}),m=AI(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),h=v.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),g={ref:s,id:l,type:p3(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return Gt({ourProps:g,theirProps:c,slot:h,defaultTag:NX,name:"Combobox.Button"})}let AX="label";function TX(t,e){let r=ln(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=cl("Combobox.Label"),i=Dm("Combobox.Label"),l=nr(s.labelRef,e);mt(()=>i.registerLabel(n),[n]);let c=je(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=v.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return Gt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:AX,name:"Combobox.Label"})}let kX="ul",IX=$o.RenderStrategy|$o.Static;function EX(t,e){let r=ln(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=cl("Combobox.Options"),l=nr(i.optionsRef,e),c=Pm(),u=c!==null?(c&Kt.Open)===Kt.Open:i.comboboxState===0;mt(()=>{var h;i.optionsPropsRef.current.static=(h=t.static)!=null?h:!1},[i.optionsPropsRef,t.static]),mt(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),b3({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=AI(()=>{var h,g;return(g=i.labelId)!=null?g:(h=i.buttonRef.current)==null?void 0:h.id},[i.labelId,i.buttonRef.current]),f=v.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:V.createElement(bX,null,s.children)}),Gt({ourProps:m,theirProps:s,slot:f,defaultTag:kX,features:IX,visible:u,name:"Combobox.Options"})}let OX="li";function PX(t,e){var r;let n=ln(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=cl("Combobox.Option"),d=Dm("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),h=v.useRef(null),g=fa({disabled:s,value:i,domRef:h,order:l}),b=v.useContext(C3),p=nr(e,h,b?b.measureElement:null),x=je(()=>d.onChange(i));mt(()=>d.registerOption(a,g),[g,a]);let y=v.useRef(!(u.virtual||u.__demoMode));mt(()=>{if(!u.virtual||!u.__demoMode)return;let T=Sn();return T.requestAnimationFrame(()=>{y.current=!0}),T.dispose},[u.virtual,u.__demoMode]),mt(()=>{if(!y.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let T=Sn();return T.requestAnimationFrame(()=>{var I,P;(P=(I=h.current)==null?void 0:I.scrollIntoView)==null||P.call(I,{block:"nearest"})}),T.dispose},[h,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let w=je(T=>{var I;if(s||(I=u.virtual)!=null&&I.disabled(i))return T.preventDefault();x(),m3()||requestAnimationFrame(()=>{var P;return(P=u.inputRef.current)==null?void 0:P.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),S=je(()=>{var T;if(s||(T=u.virtual)!=null&&T.disabled(i))return d.goToOption(it.Nothing);let I=u.calculateIndex(i);d.goToOption(it.Specific,I)}),C=y3(),j=je(T=>C.update(T)),N=je(T=>{var I;if(!C.wasMoved(T)||s||(I=u.virtual)!=null&&I.disabled(i)||f)return;let P=u.calculateIndex(i);d.goToOption(it.Specific,P,0)}),A=je(T=>{var I;C.wasMoved(T)&&(s||(I=u.virtual)!=null&&I.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(it.Nothing)))}),E=v.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return Gt({ourProps:{id:a,ref:p,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:w,onFocus:S,onPointerEnter:j,onMouseEnter:j,onPointerMove:N,onMouseMove:N,onPointerLeave:A,onMouseLeave:A},theirProps:c,slot:E,defaultTag:OX,name:"Combobox.Option"})}let DX=Lt(jX),_X=Lt(SX),$X=Lt(CX),RX=Lt(TX),MX=Lt(EX),LX=Lt(PX),wl=Object.assign(DX,{Input:$X,Button:_X,Label:RX,Options:MX,Option:LX});function N3(t,e,r,n){let a=fa(r);v.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function _m(){let t=v.useRef(!1);return mt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function S3(t){let e=je(t),r=v.useRef(!1);v.useEffect(()=>(r.current=!1,()=>{r.current=!0,o0(()=>{r.current&&e()})}),[e])}var od=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(od||{});function FX(){let t=v.useRef(0);return h3("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function A3(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let BX="div";var T3=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(T3||{});function qX(t,e){let r=v.useRef(null),n=nr(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;ou()||(i=1);let c=ll(r);zX({ownerDocument:c},!!(i&16));let u=WX({ownerDocument:c,container:r,initialFocus:a},!!(i&2));HX({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=FX(),f=je(b=>{let p=r.current;p&&(x=>x())(()=>{Ot(d.current,{[od.Forwards]:()=>{kd(p,ss.First,{skipElements:[b.relatedTarget]})},[od.Backwards]:()=>{kd(p,ss.Last,{skipElements:[b.relatedTarget]})}})})}),m=Ho(),h=v.useRef(!1),g={ref:n,onKeyDown(b){b.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(b){let p=A3(s);r.current instanceof HTMLElement&&p.add(r.current);let x=b.relatedTarget;x instanceof HTMLElement&&x.dataset.headlessuiFocusGuard!=="true"&&(k3(p,x)||(h.current?kd(r.current,Ot(d.current,{[od.Forwards]:()=>ss.Next,[od.Backwards]:()=>ss.Previous})|ss.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&wo(b.target)))}};return V.createElement(V.Fragment,null,!!(i&4)&&V.createElement(bx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Tf.Focusable}),Gt({ourProps:g,theirProps:l,defaultTag:BX,name:"FocusTrap"}),!!(i&4)&&V.createElement(bx,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Tf.Focusable}))}let VX=Lt(qX),Pu=Object.assign(VX,{features:T3});function UX(t=!0){let e=v.useRef(Ea.slice());return Af(([r],[n])=>{n===!0&&r===!1&&o0(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Ea.slice())},[t,Ea,e]),je(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function zX({ownerDocument:t},e){let r=UX(e);Af(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&wo(r())},[e]),S3(()=>{e&&wo(r())})}function WX({ownerDocument:t,container:e,initialFocus:r},n){let a=v.useRef(null),s=_m();return Af(()=>{if(!n)return;let i=e.current;i&&o0(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?wo(r.current):kd(i,ss.First)===c3.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function HX({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=_m();N3(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=A3(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?k3(l,u)?(n.current=u,wo(u)):(i.preventDefault(),i.stopPropagation(),wo(c)):wo(n.current)},!0)}function k3(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let I3=v.createContext(!1);function GX(){return v.useContext(I3)}function kS(t){return V.createElement(I3.Provider,{value:t.force},t.children)}function YX(t){let e=GX(),r=v.useContext(E3),n=ll(t),[a,s]=v.useState(()=>{if(!e&&r!==null||ps.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return v.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),v.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let KX=v.Fragment;function JX(t,e){let r=t,n=v.useRef(null),a=nr(sX(d=>{n.current=d}),e),s=ll(n),i=YX(n),[l]=v.useState(()=>{var d;return ps.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=v.useContext(IS),u=ou();return mt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),mt(()=>{if(l&&c)return c.register(l)},[c,l]),S3(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:Xv.createPortal(Gt({ourProps:{ref:a},theirProps:r,defaultTag:KX,name:"Portal"}),l):null}let XX=v.Fragment,E3=v.createContext(null);function ZX(t,e){let{target:r,...n}=t,a={ref:nr(e)};return V.createElement(E3.Provider,{value:r},Gt({ourProps:a,theirProps:n,defaultTag:XX,name:"Popover.Group"}))}let IS=v.createContext(null);function QX(){let t=v.useContext(IS),e=v.useRef([]),r=je(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=je(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=v.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,v.useMemo(()=>function({children:s}){return V.createElement(IS.Provider,{value:a},s)},[a])]}let eZ=Lt(JX),tZ=Lt(ZX),ES=Object.assign(eZ,{Group:tZ});function rZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const nZ=typeof Object.is=="function"?Object.is:rZ,{useState:aZ,useEffect:sZ,useLayoutEffect:oZ,useDebugValue:iZ}=Oo;function lZ(t,e,r){const n=e(),[{inst:a},s]=aZ({inst:{value:n,getSnapshot:e}});return oZ(()=>{a.value=n,a.getSnapshot=e,C1(a)&&s({inst:a})},[t,n,e]),sZ(()=>(C1(a)&&s({inst:a}),t(()=>{C1(a)&&s({inst:a})})),[t]),iZ(n),n}function C1(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!nZ(r,n)}catch{return!0}}function cZ(t,e,r){return e()}const uZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dZ=!uZ,fZ=dZ?cZ:lZ,mZ="useSyncExternalStore"in Oo?(t=>t.useSyncExternalStore)(Oo):fZ;function hZ(t){return mZ(t.subscribe,t.getSnapshot,t.getSnapshot)}function pZ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function gZ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function yZ(){return f3()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=Sn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function bZ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function xZ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Si=pZ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Sn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:xZ(r)},a=[yZ(),gZ(),bZ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Si.subscribe(()=>{let t=Si.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Si.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Si.dispatch("TEARDOWN",r)}});function vZ(t,e,r){let n=hZ(Si),a=t?n.get(t):void 0,s=a?a.count>0:!1;return mt(()=>{if(!(!t||!e))return Si.dispatch("PUSH",t,r),()=>Si.dispatch("POP",t,r)},[e,t]),s}let N1=new Map,Du=new Map;function PP(t,e=!0){mt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=Du.get(n))!=null?i:1;if(l===1?Du.delete(n):Du.set(n,l-1),l!==1)return;let c=N1.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,N1.delete(n))}let s=(r=Du.get(n))!=null?r:0;return Du.set(n,s+1),s!==0||(N1.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function jZ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=v.useRef((n=r==null?void 0:r.current)!=null?n:null),s=ll(a),i=je(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:je(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:v.useMemo(()=>function(){return r!=null?null:V.createElement(bx,{features:Tf.Hidden,ref:a})},[a,r])}}let RI=v.createContext(()=>{});RI.displayName="StackContext";var OS=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(OS||{});function wZ(){return v.useContext(RI)}function CZ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=wZ(),i=je((...l)=>{e==null||e(...l),s(...l)});return mt(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),V.createElement(RI.Provider,{value:i},t)}let O3=v.createContext(null);function P3(){let t=v.useContext(O3);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,P3),e}return t}function NZ(){let[t,e]=v.useState([]);return[t.length>0?t.join(" "):void 0,v.useMemo(()=>function(r){let n=je(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=v.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return V.createElement(O3.Provider,{value:a},r.children)},[e])]}let SZ="p";function AZ(t,e){let r=ln(),{id:n=`headlessui-description-${r}`,...a}=t,s=P3(),i=nr(e);mt(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return Gt({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:SZ,name:s.name||"Description"})}let TZ=Lt(AZ),kZ=Object.assign(TZ,{});var IZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(IZ||{}),EZ=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(EZ||{});let OZ={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},xx=v.createContext(null);xx.displayName="DialogContext";function $m(t){let e=v.useContext(xx);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$m),r}return e}function PZ(t,e,r=()=>[document.body]){vZ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function DZ(t,e){return Ot(e.type,OZ,t,e)}let _Z="div",$Z=$o.RenderStrategy|$o.Static;function RZ(t,e){let r=ln(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=v.useState(0),m=v.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=Pm();a===void 0&&h!==null&&(a=(h&Kt.Open)===Kt.Open);let g=v.useRef(null),b=nr(g,e),p=ll(g),x=t.hasOwnProperty("open")||h!==null,y=t.hasOwnProperty("onClose");if(!x&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let w=a?0:1,[S,C]=v.useReducer(DZ,{titleId:null,descriptionId:null,panelRef:v.createRef()}),j=je(()=>s(!1)),N=je(G=>C({type:0,id:G})),A=ou()?c?!1:w===0:!1,E=d>1,T=v.useContext(xx)!==null,[I,P]=QX(),M={get current(){var G;return(G=S.panelRef.current)!=null?G:g.current}},{resolveContainers:$,mainTreeNodeRef:_,MainTreeNode:B}=jZ({portals:I,defaultContainers:[M]}),U=E?"parent":"leaf",D=h!==null?(h&Kt.Closing)===Kt.Closing:!1,R=T||D?!1:A,F=v.useCallback(()=>{var G,z;return(z=Array.from((G=p==null?void 0:p.querySelectorAll("body > *"))!=null?G:[]).find(me=>me.id==="headlessui-portal-root"?!1:me.contains(_.current)&&me instanceof HTMLElement))!=null?z:null},[_]);PP(F,R);let H=E?!0:A,W=v.useCallback(()=>{var G,z;return(z=Array.from((G=p==null?void 0:p.querySelectorAll("[data-headlessui-portal]"))!=null?G:[]).find(me=>me.contains(_.current)&&me instanceof HTMLElement))!=null?z:null},[_]);PP(W,H),EI($,G=>{G.preventDefault(),j()},!(!A||E));let fe=!(E||w!==0);N3(p==null?void 0:p.defaultView,"keydown",G=>{fe&&(G.defaultPrevented||G.key===at.Escape&&(G.preventDefault(),G.stopPropagation(),j()))}),PZ(p,!(D||w!==0||T),$),v.useEffect(()=>{if(w!==0||!g.current)return;let G=new ResizeObserver(z=>{for(let me of z){let we=me.target.getBoundingClientRect();we.x===0&&we.y===0&&we.width===0&&we.height===0&&j()}});return G.observe(g.current),()=>G.disconnect()},[w,g,j]);let[ne,J]=NZ(),le=v.useMemo(()=>[{dialogState:w,close:j,setTitleId:N},S],[w,S,j,N]),Z=v.useMemo(()=>({open:w===0}),[w]),te={ref:b,id:n,role:l,"aria-modal":w===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":ne};return V.createElement(CZ,{type:"Dialog",enabled:w===0,element:g,onUpdate:je((G,z)=>{z==="Dialog"&&Ot(G,{[OS.Add]:()=>f(me=>me+1),[OS.Remove]:()=>f(me=>me-1)})})},V.createElement(kS,{force:!0},V.createElement(ES,null,V.createElement(xx.Provider,{value:le},V.createElement(ES.Group,{target:g},V.createElement(kS,{force:!1},V.createElement(J,{slot:Z,name:"Dialog.Description"},V.createElement(Pu,{initialFocus:i,containers:$,features:A?Ot(U,{parent:Pu.features.RestoreFocus,leaf:Pu.features.All&~Pu.features.FocusLock}):Pu.features.None},V.createElement(P,null,Gt({ourProps:te,theirProps:u,slot:Z,defaultTag:_Z,features:$Z,visible:w===0,name:"Dialog"}))))))))),V.createElement(B,null))}let MZ="div";function LZ(t,e){let r=ln(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=$m("Dialog.Overlay"),l=nr(e),c=je(d=>{if(d.target===d.currentTarget){if(DI(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=v.useMemo(()=>({open:s===0}),[s]);return Gt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:MZ,name:"Dialog.Overlay"})}let FZ="div";function BZ(t,e){let r=ln(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=$m("Dialog.Backdrop"),l=nr(e);v.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=v.useMemo(()=>({open:s===0}),[s]);return V.createElement(kS,{force:!0},V.createElement(ES,null,Gt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:FZ,name:"Dialog.Backdrop"})))}let qZ="div";function VZ(t,e){let r=ln(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=$m("Dialog.Panel"),l=nr(e,i.panelRef),c=v.useMemo(()=>({open:s===0}),[s]),u=je(d=>{d.stopPropagation()});return Gt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:qZ,name:"Dialog.Panel"})}let UZ="h2";function zZ(t,e){let r=ln(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=$m("Dialog.Title"),l=nr(e);v.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=v.useMemo(()=>({open:s===0}),[s]);return Gt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:UZ,name:"Dialog.Title"})}let WZ=Lt(RZ),HZ=Lt(BZ),GZ=Lt(VZ),YZ=Lt(LZ),KZ=Lt(zZ),S1=Object.assign(WZ,{Backdrop:HZ,Panel:GZ,Overlay:YZ,Title:KZ,Description:kZ}),DP=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function _P(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return DP.test(i)&&(i=i.replace(DP,"")),i}function JZ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():_P(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return _P(t).trim()}function XZ(t){let e=v.useRef(""),r=v.useRef("");return je(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=JZ(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var ZZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(ZZ||{}),QZ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(QZ||{}),eQ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(eQ||{});function A1(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=II(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let tQ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=A1(t),a=TS(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=A1(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=A1(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},MI=v.createContext(null);MI.displayName="MenuContext";function l0(t){let e=v.useContext(MI);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,l0),r}return e}function rQ(t,e){return Ot(e.type,tQ,t,e)}let nQ=v.Fragment;function aQ(t,e){let{__demoMode:r=!1,...n}=t,a=v.useReducer(rQ,{__demoMode:r,menuState:r?0:1,buttonRef:v.createRef(),itemsRef:v.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=nr(e);EI([l,i],(h,g)=>{var b;c({type:1}),kI(g,TI.Loose)||(h.preventDefault(),(b=l.current)==null||b.focus())},s===0);let d=je(()=>{c({type:1})}),f=v.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return V.createElement(MI.Provider,{value:a},V.createElement(PI,{value:Ot(s,{0:Kt.Open,1:Kt.Closed})},Gt({ourProps:m,theirProps:n,slot:f,defaultTag:nQ,name:"Menu"})))}let sQ="button";function oQ(t,e){var r;let n=ln(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=l0("Menu.Button"),c=nr(i.buttonRef,e),u=Ho(),d=je(b=>{switch(b.key){case at.Space:case at.Enter:case at.ArrowDown:b.preventDefault(),b.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:it.First}));break;case at.ArrowUp:b.preventDefault(),b.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:it.Last}));break}}),f=je(b=>{switch(b.key){case at.Space:b.preventDefault();break}}),m=je(b=>{if(DI(b.currentTarget))return b.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var p;return(p=i.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})})):(b.preventDefault(),l({type:0})))}),h=v.useMemo(()=>({open:i.menuState===0}),[i]),g={ref:c,id:a,type:p3(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return Gt({ourProps:g,theirProps:s,slot:h,defaultTag:sQ,name:"Menu.Button"})}let iQ="div",lQ=$o.RenderStrategy|$o.Static;function cQ(t,e){var r,n;let a=ln(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=l0("Menu.Items"),u=nr(l.itemsRef,e),d=ll(l.itemsRef),f=Ho(),m=Pm(),h=m!==null?(m&Kt.Open)===Kt.Open:l.menuState===0;v.useEffect(()=>{let y=l.itemsRef.current;y&&l.menuState===0&&y!==(d==null?void 0:d.activeElement)&&y.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),b3({container:l.itemsRef.current,enabled:l.menuState===0,accept(y){return y.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:y.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(y){y.setAttribute("role","none")}});let g=je(y=>{var w,S;switch(f.dispose(),y.key){case at.Space:if(l.searchQuery!=="")return y.preventDefault(),y.stopPropagation(),c({type:3,value:y.key});case at.Enter:if(y.preventDefault(),y.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:C}=l.items[l.activeItemIndex];(S=(w=C.current)==null?void 0:w.domRef.current)==null||S.click()}d3(l.buttonRef.current);break;case at.ArrowDown:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:it.Next});case at.ArrowUp:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:it.Previous});case at.Home:case at.PageUp:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:it.First});case at.End:case at.PageDown:return y.preventDefault(),y.stopPropagation(),c({type:2,focus:it.Last});case at.Escape:y.preventDefault(),y.stopPropagation(),c({type:1}),Sn().nextFrame(()=>{var C;return(C=l.buttonRef.current)==null?void 0:C.focus({preventScroll:!0})});break;case at.Tab:y.preventDefault(),y.stopPropagation(),c({type:1}),Sn().nextFrame(()=>{nX(l.buttonRef.current,y.shiftKey?ss.Previous:ss.Next)});break;default:y.key.length===1&&(c({type:3,value:y.key}),f.setTimeout(()=>c({type:4}),350));break}}),b=je(y=>{switch(y.key){case at.Space:y.preventDefault();break}}),p=v.useMemo(()=>({open:l.menuState===0}),[l]),x={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:g,onKeyUp:b,role:"menu",tabIndex:0,ref:u};return Gt({ourProps:x,theirProps:i,slot:p,defaultTag:iQ,features:lQ,visible:h,name:"Menu.Items"})}let uQ=v.Fragment;function dQ(t,e){let r=ln(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=l0("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=v.useRef(null),d=nr(e,u);mt(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let C=Sn();return C.requestAnimationFrame(()=>{var j,N;(N=(j=u.current)==null?void 0:j.scrollIntoView)==null||N.call(j,{block:"nearest"})}),C.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=XZ(u),m=v.useRef({disabled:a,domRef:u,get textValue(){return f()}});mt(()=>{m.current.disabled=a},[m,a]),mt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let h=je(()=>{l({type:1})}),g=je(C=>{if(a)return C.preventDefault();l({type:1}),d3(i.buttonRef.current)}),b=je(()=>{if(a)return l({type:2,focus:it.Nothing});l({type:2,focus:it.Specific,id:n})}),p=y3(),x=je(C=>p.update(C)),y=je(C=>{p.wasMoved(C)&&(a||c||l({type:2,focus:it.Specific,id:n,trigger:0}))}),w=je(C=>{p.wasMoved(C)&&(a||c&&l({type:2,focus:it.Nothing}))}),S=v.useMemo(()=>({active:c,disabled:a,close:h}),[c,a,h]);return Gt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:g,onFocus:b,onPointerEnter:x,onMouseEnter:x,onPointerMove:y,onMouseMove:y,onPointerLeave:w,onMouseLeave:w},theirProps:s,slot:S,defaultTag:uQ,name:"Menu.Item"})}let fQ=Lt(aQ),mQ=Lt(oQ),hQ=Lt(cQ),pQ=Lt(dQ),Cl=Object.assign(fQ,{Button:mQ,Items:hQ,Item:pQ});function gQ(t=0){let[e,r]=v.useState(t),n=_m(),a=v.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=v.useCallback(c=>!!(e&c),[e]),i=v.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=v.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function yQ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function T1(t,...e){t&&e.length>0&&t.classList.add(...e)}function k1(t,...e){t&&e.length>0&&t.classList.remove(...e)}function bQ(t,e){let r=Sn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function xQ(t,e,r,n){let a=r?"enter":"leave",s=Sn(),i=n!==void 0?yQ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Ot(a,{enter:()=>e.enter,leave:()=>e.leave}),c=Ot(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Ot(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return k1(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),T1(t,...e.base,...l,...u),s.nextFrame(()=>{k1(t,...e.base,...l,...u),T1(t,...e.base,...l,...c),bQ(t,()=>(k1(t,...e.base,...l),T1(t,...e.base,...e.entered),i()))}),s.dispose}function vQ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=_m(),l=Ho(),c=fa(r);mt(()=>{t&&(c.current="enter")},[t]),mt(()=>{let u=Sn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(xQ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Gs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let c0=v.createContext(null);c0.displayName="TransitionContext";var jQ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(jQ||{});function wQ(){let t=v.useContext(c0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function CQ(){let t=v.useContext(u0);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let u0=v.createContext(null);u0.displayName="NestingContext";function d0(t){return"children"in t?d0(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function D3(t,e){let r=fa(t),n=v.useRef([]),a=_m(),s=Ho(),i=je((h,g=io.Hidden)=>{let b=n.current.findIndex(({el:p})=>p===h);b!==-1&&(Ot(g,{[io.Unmount](){n.current.splice(b,1)},[io.Hidden](){n.current[b].state="hidden"}}),s.microTask(()=>{var p;!d0(n)&&a.current&&((p=r.current)==null||p.call(r))}))}),l=je(h=>{let g=n.current.find(({el:b})=>b===h);return g?g.state!=="visible"&&(g.state="visible"):n.current.push({el:h,state:"visible"}),()=>i(h,io.Unmount)}),c=v.useRef([]),u=v.useRef(Promise.resolve()),d=v.useRef({enter:[],leave:[],idle:[]}),f=je((h,g,b)=>{c.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([p])=>p!==h)),e==null||e.chains.current[g].push([h,new Promise(p=>{c.current.push(p)})]),e==null||e.chains.current[g].push([h,new Promise(p=>{Promise.all(d.current[g].map(([x,y])=>y)).then(()=>p())})]),g==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>b(g)):b(g)}),m=je((h,g,b)=>{Promise.all(d.current[g].splice(0).map(([p,x])=>x)).then(()=>{var p;(p=c.current.shift())==null||p()}).then(()=>b(g))});return v.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function NQ(){}let SQ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function $P(t){var e;let r={};for(let n of SQ)r[n]=(e=t[n])!=null?e:NQ;return r}function AQ(t){let e=v.useRef($P(t));return v.useEffect(()=>{e.current=$P(t)},[t]),e}let TQ="div",_3=$o.RenderStrategy;function kQ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:h,leaveTo:g,...b}=t,p=v.useRef(null),x=nr(p,e),y=(r=b.unmount)==null||r?io.Unmount:io.Hidden,{show:w,appear:S,initial:C}=wQ(),[j,N]=v.useState(w?"visible":"hidden"),A=CQ(),{register:E,unregister:T}=A;v.useEffect(()=>E(p),[E,p]),v.useEffect(()=>{if(y===io.Hidden&&p.current){if(w&&j!=="visible"){N("visible");return}return Ot(j,{hidden:()=>T(p),visible:()=>E(p)})}},[j,p,E,T,w,y]);let I=fa({base:Gs(b.className),enter:Gs(c),enterFrom:Gs(u),enterTo:Gs(d),entered:Gs(f),leave:Gs(m),leaveFrom:Gs(h),leaveTo:Gs(g)}),P=AQ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),M=ou();v.useEffect(()=>{if(M&&j==="visible"&&p.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[p,j,M]);let $=C&&!S,_=S&&w&&C,B=!M||$?"idle":w?"enter":"leave",U=gQ(0),D=je(fe=>Ot(fe,{enter:()=>{U.addFlag(Kt.Opening),P.current.beforeEnter()},leave:()=>{U.addFlag(Kt.Closing),P.current.beforeLeave()},idle:()=>{}})),R=je(fe=>Ot(fe,{enter:()=>{U.removeFlag(Kt.Opening),P.current.afterEnter()},leave:()=>{U.removeFlag(Kt.Closing),P.current.afterLeave()},idle:()=>{}})),F=D3(()=>{N("hidden"),T(p)},A),H=v.useRef(!1);vQ({immediate:_,container:p,classes:I,direction:B,onStart:fa(fe=>{H.current=!0,F.onStart(p,fe,D)}),onStop:fa(fe=>{H.current=!1,F.onStop(p,fe,R),fe==="leave"&&!d0(F)&&(N("hidden"),T(p))})});let W=b,ee={ref:x};return _?W={...W,className:yx(b.className,...I.current.enter,...I.current.enterFrom)}:H.current&&(W.className=yx(b.className,(n=p.current)==null?void 0:n.className),W.className===""&&delete W.className),V.createElement(u0.Provider,{value:F},V.createElement(PI,{value:Ot(j,{visible:Kt.Open,hidden:Kt.Closed})|U.flags},Gt({ourProps:ee,theirProps:W,defaultTag:TQ,features:_3,visible:j==="visible",name:"Transition.Child"})))}function IQ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=v.useRef(null),l=nr(i,e);ou();let c=Pm();if(r===void 0&&c!==null&&(r=(c&Kt.Open)===Kt.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=v.useState(r?"visible":"hidden"),f=D3(()=>{d("hidden")}),[m,h]=v.useState(!0),g=v.useRef([r]);mt(()=>{m!==!1&&g.current[g.current.length-1]!==r&&(g.current.push(r),h(!1))},[g,r]);let b=v.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);v.useEffect(()=>{if(r)d("visible");else if(!d0(f))d("hidden");else{let w=i.current;if(!w)return;let S=w.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&d("hidden")}},[r,f]);let p={unmount:a},x=je(()=>{var w;m&&h(!1),(w=t.beforeEnter)==null||w.call(t)}),y=je(()=>{var w;m&&h(!1),(w=t.beforeLeave)==null||w.call(t)});return V.createElement(u0.Provider,{value:f},V.createElement(c0.Provider,{value:b},Gt({ourProps:{...p,as:v.Fragment,children:V.createElement($3,{ref:l,...p,...s,beforeEnter:x,beforeLeave:y})},theirProps:{},defaultTag:v.Fragment,features:_3,visible:u==="visible",name:"Transition"})))}function EQ(t,e){let r=v.useContext(c0)!==null,n=Pm()!==null;return V.createElement(V.Fragment,null,!r&&n?V.createElement(PS,{ref:e,...t}):V.createElement($3,{ref:e,...t}))}let PS=Lt(IQ),$3=Lt(kQ),OQ=Lt(EQ),Op=Object.assign(PS,{Child:OQ,Root:PS});function PQ({toggleSidebar:t,isSidebarOpen:e}){var u;const r=se(),{user:n}=q(d=>d.auth),[a,s]=v.useState(!1),i=v.useRef(null),l=Em();v.useEffect(()=>{if(!a)return;function d(f){i.current&&!i.current.contains(f.target)&&s(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[a]);const c=()=>{r(GB())};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(o3,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(aJ,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"ml-3 relative",children:o.jsxs(Cl,{as:"div",className:"relative",children:[o.jsxs(Cl.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((u=n==null?void 0:n.UserName)==null?void 0:u.charAt(0))||"U"})]}),o.jsx(Op,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(Cl.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(Cl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/profile"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(OJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Cl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/change-password"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(CJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(Cl.Item,{children:({active:d})=>o.jsxs("button",{onClick:c,className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(eJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})})]})}),a&&o.jsxs("div",{ref:i,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx(DQ,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(_Q,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function DQ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function _Q(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function $Q(){const t=Em(),e=zo(),r=localStorage.getItem("token"),[n,a]=v.useState(!0);v.useEffect(()=>{const i=()=>{window.innerWidth<1024?a(!1):a(!0)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),v.useEffect(()=>{window.innerWidth<1024&&a(!1)},[e.pathname]);const s=()=>{a(!n)};return r||t("/login"),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[n&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>a(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${n?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx($J,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(PQ,{toggleSidebar:s,isSidebarOpen:n}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx($B,{})})})]})]})}const RQ=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx($B,{})})});function MQ(){const[t,e]=v.useState(""),[r,n]=v.useState(""),a=se(),{isLoading:s,error:i}=q(c=>c.auth),l=c=>{c.preventDefault(),a(kp({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-neutral-700",children:"Username"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:t,onChange:c=>e(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"admin"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700",children:"Password"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:c=>n(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"*********"})})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(gJ,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const LQ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),FQ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),BQ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Rm(t){return t+.5|0}const lo=(t,e,r)=>Math.max(Math.min(t,r),e);function id(t){return lo(Rm(t*2.55),0,255)}function Co(t){return lo(Rm(t*255),0,255)}function ns(t){return lo(Rm(t/2.55)/100,0,1)}function RP(t){return lo(Rm(t*100),0,100)}const _n={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},DS=[..."0123456789ABCDEF"],qQ=t=>DS[t&15],VQ=t=>DS[(t&240)>>4]+DS[t&15],Ih=t=>(t&240)>>4===(t&15),UQ=t=>Ih(t.r)&&Ih(t.g)&&Ih(t.b)&&Ih(t.a);function zQ(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&_n[t[1]]*17,g:255&_n[t[2]]*17,b:255&_n[t[3]]*17,a:e===5?_n[t[4]]*17:255}:(e===7||e===9)&&(r={r:_n[t[1]]<<4|_n[t[2]],g:_n[t[3]]<<4|_n[t[4]],b:_n[t[5]]<<4|_n[t[6]],a:e===9?_n[t[7]]<<4|_n[t[8]]:255})),r}const WQ=(t,e)=>t<255?e(t):"";function HQ(t){var e=UQ(t)?qQ:VQ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+WQ(t.a,e):void 0}const GQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R3(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function YQ(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function KQ(t,e,r){const n=R3(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function JQ(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function LI(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=JQ(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function FI(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Co)}function BI(t,e,r){return FI(R3,t,e,r)}function XQ(t,e,r){return FI(KQ,t,e,r)}function ZQ(t,e,r){return FI(YQ,t,e,r)}function M3(t){return(t%360+360)%360}function QQ(t){const e=GQ.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?id(+e[5]):Co(+e[5]));const a=M3(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=XQ(a,s,i):e[1]==="hsv"?n=ZQ(a,s,i):n=BI(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function eee(t,e){var r=LI(t);r[0]=M3(r[0]+e),r=BI(r),t.r=r[0],t.g=r[1],t.b=r[2]}function tee(t){if(!t)return;const e=LI(t),r=e[0],n=RP(e[1]),a=RP(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${ns(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const MP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},LP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ree(){const t={},e=Object.keys(LP),r=Object.keys(MP);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,MP[s]);s=parseInt(LP[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Eh;function nee(t){Eh||(Eh=ree(),Eh.transparent=[0,0,0,0]);const e=Eh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const aee=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function see(t){const e=aee.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?id(i):lo(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?id(n):lo(n,0,255)),a=255&(e[4]?id(a):lo(a,0,255)),s=255&(e[6]?id(s):lo(s,0,255)),{r:n,g:a,b:s,a:r}}}function oee(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ns(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const I1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Nl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function iee(t,e,r){const n=Nl(ns(t.r)),a=Nl(ns(t.g)),s=Nl(ns(t.b));return{r:Co(I1(n+r*(Nl(ns(e.r))-n))),g:Co(I1(a+r*(Nl(ns(e.g))-a))),b:Co(I1(s+r*(Nl(ns(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Oh(t,e,r){if(t){let n=LI(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=BI(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function L3(t,e){return t&&Object.assign(e||{},t)}function FP(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Co(t[3]))):(e=L3(t,{r:0,g:0,b:0,a:1}),e.a=Co(e.a)),e}function lee(t){return t.charAt(0)==="r"?see(t):QQ(t)}let F3=class _S{constructor(e){if(e instanceof _S)return e;const r=typeof e;let n;r==="object"?n=FP(e):r==="string"&&(n=zQ(e)||nee(e)||lee(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=L3(this._rgb);return e&&(e.a=ns(e.a)),e}set rgb(e){this._rgb=FP(e)}rgbString(){return this._valid?oee(this._rgb):void 0}hexString(){return this._valid?HQ(this._rgb):void 0}hslString(){return this._valid?tee(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=iee(this._rgb,e._rgb,r)),this}clone(){return new _S(this.rgb)}alpha(e){return this._rgb.a=Co(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Rm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Oh(this._rgb,2,e),this}darken(e){return Oh(this._rgb,2,-e),this}saturate(e){return Oh(this._rgb,1,e),this}desaturate(e){return Oh(this._rgb,1,-e),this}rotate(e){return eee(this._rgb,e),this}};/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ya(){}const cee=(()=>{let t=0;return()=>t++})();function We(t){return t==null}function Et(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ge(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function un(t,e){return zt(t)?t:e}function Be(t,e){return typeof t>"u"?e:t}const uee=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,B3=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function yt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function ot(t,e,r,n){let a,s,i;if(Et(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(Ge(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function vx(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function jx(t){if(Et(t))return t.map(jx);if(Ge(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=jx(t[r[a]]);return e}return t}function q3(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dee(t,e,r,n){if(!q3(t))return;const a=e[t],s=r[t];Ge(a)&&Ge(s)?kf(a,s,n):e[t]=jx(s)}function kf(t,e,r){const n=Et(e)?e:[e],a=n.length;if(!Ge(t))return t;r=r||{};const s=r.merger||dee;let i;for(let l=0;l<a;++l){if(i=n[l],!Ge(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function Id(t,e){return kf(t,e,{merger:fee})}function fee(t,e,r){if(!q3(t))return;const n=e[t],a=r[t];Ge(n)&&Ge(a)?Id(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=jx(a))}const BP={"":t=>t,x:t=>t.x,y:t=>t.y};function mee(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function hee(t){const e=mee(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Ro(t,e){return(BP[e]||(BP[e]=hee(e)))(t)}function qI(t){return t.charAt(0).toUpperCase()+t.slice(1)}const If=t=>typeof t<"u",Mo=t=>typeof t=="function",qP=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function pee(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const kt=Math.PI,Tt=2*kt,gee=Tt+kt,wx=Number.POSITIVE_INFINITY,yee=kt/180,Jt=kt/2,ni=kt/4,VP=kt*2/3,co=Math.log10,_a=Math.sign;function Ed(t,e,r){return Math.abs(t-e)<r}function UP(t){const e=Math.round(t);t=Ed(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(co(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function bee(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function xee(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Tc(t){return!xee(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function vee(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function V3(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function la(t){return t*(kt/180)}function VI(t){return t*(180/kt)}function zP(t){if(!zt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function U3(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*kt&&(s+=Tt),{angle:s,distance:a}}function $S(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function jee(t,e){return(t-e+gee)%Tt-kt}function mn(t){return(t%Tt+Tt)%Tt}function Ef(t,e,r,n){const a=mn(t),s=mn(e),i=mn(r),l=mn(s-a),c=mn(i-a),u=mn(a-s),d=mn(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function pr(t,e,r){return Math.max(e,Math.min(r,t))}function wee(t){return pr(t,-32768,32767)}function ls(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function UI(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const cs=(t,e,r,n)=>UI(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),Cee=(t,e,r)=>UI(t,r,n=>t[n][e]>=r);function Nee(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const z3=["push","pop","shift","splice","unshift"];function See(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),z3.forEach(r=>{const n="_onData"+qI(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function WP(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(z3.forEach(s=>{delete t[s]}),delete t._chartjs)}function W3(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const H3=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function G3(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,H3.call(window,()=>{n=!1,t.apply(e,r)}))}}function Aee(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const zI=t=>t==="start"?"left":t==="end"?"right":"center",Dr=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Tee=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function Y3(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:h,maxDefined:g}=i.getUserBounds();if(h){if(a=Math.min(cs(c,d,f).lo,r?n:cs(e,d,i.getPixelForValue(f)).lo),u){const b=c.slice(0,a+1).reverse().findIndex(p=>!We(p[l.axis]));a-=Math.max(0,b)}a=pr(a,0,n-1)}if(g){let b=Math.max(cs(c,i.axis,m,!0).hi+1,r?0:cs(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const p=c.slice(b-1).findIndex(x=>!We(x[l.axis]));b+=Math.max(0,p)}s=pr(b,a,n)-a}else s=n-a}return{start:a,count:s}}function K3(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const Ph=t=>t===0||t===1,HP=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Tt/r)),GP=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Tt/r)+1,Od={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Jt)+1,easeOutSine:t=>Math.sin(t*Jt),easeInOutSine:t=>-.5*(Math.cos(kt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ph(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ph(t)?t:HP(t,.075,.3),easeOutElastic:t=>Ph(t)?t:GP(t,.075,.3),easeInOutElastic(t){return Ph(t)?t:t<.5?.5*HP(t*2,.1125,.45):.5+.5*GP(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Od.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Od.easeInBounce(t*2)*.5:Od.easeOutBounce(t*2-1)*.5+.5};function WI(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function YP(t){return WI(t)?t:new F3(t)}function E1(t){return WI(t)?t:new F3(t).saturate(.5).darken(.1).hexString()}const kee=["x","y","borderWidth","radius","tension"],Iee=["color","borderColor","backgroundColor"];function Eee(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Iee},numbers:{type:"number",properties:kee}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Oee(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const KP=new Map;function Pee(t,e){e=e||{};const r=t+JSON.stringify(e);let n=KP.get(r);return n||(n=new Intl.NumberFormat(t,e),KP.set(r,n)),n}function Mm(t,e,r){return Pee(e,r).format(t)}const J3={values(t){return Et(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=Dee(t,r)}const i=co(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Mm(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(co(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?J3.numeric.call(this,t,e,r):""}};function Dee(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var f0={formatters:J3};function _ee(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:f0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ki=Object.create(null),RS=Object.create(null);function Pd(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function O1(t,e,r){return typeof e=="string"?kf(Pd(t,e),r):kf(Pd(t,""),e)}class $ee{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>E1(a.backgroundColor),this.hoverBorderColor=(n,a)=>E1(a.borderColor),this.hoverColor=(n,a)=>E1(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return O1(this,e,r)}get(e){return Pd(this,e)}describe(e,r){return O1(RS,e,r)}override(e,r){return O1(Ki,e,r)}route(e,r,n,a){const s=Pd(this,e),i=Pd(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return Ge(c)?Object.assign({},u,c):Be(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var Pt=new $ee({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Eee,Oee,_ee]);function Ree(t){return!t||We(t.size)||We(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Cx(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function Mee(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!Et(f))i=Cx(t,a,s,i,f);else if(Et(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!Et(m)&&(i=Cx(t,a,s,i,m));t.restore();const h=s.length/2;if(h>r.length){for(c=0;c<h;c++)delete a[s[c]];s.splice(0,h)}return i}function ai(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function JP(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function MS(t,e,r,n){X3(t,e,r,n,null)}function X3(t,e,r,n,a){let s,i,l,c,u,d,f,m;const h=e.pointStyle,g=e.rotation,b=e.radius;let p=(g||0)*yee;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(p),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),h){default:a?t.ellipse(r,n,a/2,b,0,0,Tt):t.arc(r,n,b,0,Tt),t.closePath();break;case"triangle":d=a?a/2:b,t.moveTo(r+Math.sin(p)*d,n-Math.cos(p)*b),p+=VP,t.lineTo(r+Math.sin(p)*d,n-Math.cos(p)*b),p+=VP,t.lineTo(r+Math.sin(p)*d,n-Math.cos(p)*b),t.closePath();break;case"rectRounded":u=b*.516,c=b-u,i=Math.cos(p+ni)*c,f=Math.cos(p+ni)*(a?a/2-u:c),l=Math.sin(p+ni)*c,m=Math.sin(p+ni)*(a?a/2-u:c),t.arc(r-f,n-l,u,p-kt,p-Jt),t.arc(r+m,n-i,u,p-Jt,p),t.arc(r+f,n+l,u,p,p+Jt),t.arc(r-m,n+i,u,p+Jt,p+kt),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*b,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}p+=ni;case"rectRot":f=Math.cos(p)*(a?a/2:b),i=Math.cos(p)*b,l=Math.sin(p)*b,m=Math.sin(p)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":p+=ni;case"cross":f=Math.cos(p)*(a?a/2:b),i=Math.cos(p)*b,l=Math.sin(p)*b,m=Math.sin(p)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(p)*(a?a/2:b),i=Math.cos(p)*b,l=Math.sin(p)*b,m=Math.sin(p)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),p+=ni,f=Math.cos(p)*(a?a/2:b),i=Math.cos(p)*b,l=Math.sin(p)*b,m=Math.sin(p)*(a?a/2:b),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(p)*b,l=Math.sin(p)*b,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(p)*(a?a/2:b),n+Math.sin(p)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function us(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function m0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function h0(t){t.restore()}function Lee(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Fee(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Bee(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),We(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function qee(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function Vee(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Ji(t,e,r,n,a,s={}){const i=Et(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,Bee(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&Vee(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),We(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),qee(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function Of(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*kt,kt,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,kt,Jt,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,Jt,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-Jt,!0),t.lineTo(r+i.topLeft,n)}const Uee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,zee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Wee(t,e){const r=(""+t).match(Uee);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Hee=t=>+t||0;function HI(t,e){const r={},n=Ge(e),a=n?Object.keys(e):e,s=Ge(t)?n?i=>Be(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=Hee(s(i));return r}function Z3(t){return HI(t,{top:"y",right:"x",bottom:"y",left:"x"})}function _i(t){return HI(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Lr(t){const e=Z3(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ir(t,e){t=t||{},e=e||Pt.font;let r=Be(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Be(t.style,e.style);n&&!(""+n).match(zee)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Be(t.family,e.family),lineHeight:Wee(Be(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Be(t.weight,e.weight),string:""};return a.string=Ree(a),a}function ld(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function Gee(t,e,r){const{min:n,max:a}=t,s=B3(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function Go(t,e){return Object.assign(Object.create(t),e)}function GI(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=rq("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>GI([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return eq(l,c,()=>tte(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return ZP(l).includes(c)},ownKeys(l){return ZP(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function kc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Q3(t,n),setContext:s=>kc(t,s,r,n),override:s=>kc(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return eq(s,i,()=>Kee(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function Q3(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Mo(r)?r:()=>r,isIndexable:Mo(n)?n:()=>n}}const Yee=(t,e)=>t?t+qI(e):e,YI=(t,e)=>Ge(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function eq(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Kee(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return Mo(l)&&i.isScriptable(e)&&(l=Jee(e,l,t,r)),Et(l)&&l.length&&(l=Xee(e,l,t,i.isIndexable)),YI(e,l)&&(l=kc(l,a,s&&s[e],i)),l}function Jee(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),YI(t,c)&&(c=KI(a._scopes,a,t,c)),c}function Xee(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(Ge(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=KI(u,a,t,d);e.push(kc(f,s,i&&i[t],l))}}return e}function tq(t,e,r){return Mo(t)?t(e,r):t}const Zee=(t,e)=>t===!0?e:typeof t=="string"?Ro(e,t):void 0;function Qee(t,e,r,n,a){for(const s of e){const i=Zee(r,s);if(i){t.add(i);const l=tq(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function KI(t,e,r,n){const a=e._rootScopes,s=tq(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=XP(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=XP(l,i,s,c,n),c===null)?!1:GI(Array.from(l),[""],a,s,()=>ete(e,r,n))}function XP(t,e,r,n,a){for(;r;)r=Qee(t,e,r,n,a);return r}function ete(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Et(a)&&Ge(r)?r:a||{}}function tte(t,e,r,n){let a;for(const s of e)if(a=rq(Yee(s,t),r),typeof a<"u")return YI(t,a)?KI(r,n,t,a):a}function rq(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function ZP(t){let e=t._keys;return e||(e=t._keys=rte(t._scopes)),e}function rte(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function nq(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse(Ro(d,s),u)};return i}const nte=Number.EPSILON||1e-14,Ic=(t,e)=>e<t.length&&!t[e].skip&&t[e],aq=t=>t==="x"?"y":"x";function ate(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=$S(s,a),c=$S(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function ste(t,e,r){const n=t.length;let a,s,i,l,c,u=Ic(t,0);for(let d=0;d<n-1;++d)if(c=u,u=Ic(t,d+1),!(!c||!u)){if(Ed(e[d],0,nte)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function ote(t,e,r="x"){const n=aq(r),a=t.length;let s,i,l,c=Ic(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=Ic(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function ite(t,e="x"){const r=aq(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=Ic(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=Ic(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?_a(a[i-1])!==_a(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}ste(t,a,s),ote(t,s,e)}function Dh(t,e,r){return Math.max(Math.min(t,r),e)}function lte(t,e){let r,n,a,s,i,l=us(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&us(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=Dh(a.cp1x,e.left,e.right),a.cp1y=Dh(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Dh(a.cp2x,e.left,e.right),a.cp2y=Dh(a.cp2y,e.top,e.bottom)))}function cte(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")ite(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=ate(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&lte(t,r)}function JI(){return typeof window<"u"&&typeof document<"u"}function XI(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Nx(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const p0=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ute(t,e){return p0(t).getPropertyValue(e)}const dte=["top","right","bottom","left"];function $i(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=dte[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const fte=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function mte(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(fte(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function hi(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=p0(r),s=a.boxSizing==="border-box",i=$i(a,"padding"),l=$i(a,"border","width"),{x:c,y:u,box:d}=mte(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:h,height:g}=e;return s&&(h-=i.width+l.width,g-=i.height+l.height),{x:Math.round((c-f)/h*r.width/n),y:Math.round((u-m)/g*r.height/n)}}function hte(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&XI(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=p0(s),c=$i(l,"border","width"),u=$i(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=Nx(l.maxWidth,s,"clientWidth"),a=Nx(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||wx,maxHeight:a||wx}}const _h=t=>Math.round(t*10)/10;function pte(t,e,r,n){const a=p0(t),s=$i(a,"margin"),i=Nx(a.maxWidth,t,"clientWidth")||wx,l=Nx(a.maxHeight,t,"clientHeight")||wx,c=hte(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=$i(a,"border","width"),h=$i(a,"padding");u-=h.width+m.width,d-=h.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=_h(Math.min(u,i,c.maxWidth)),d=_h(Math.min(d,l,c.maxHeight)),u&&!d&&(d=_h(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=_h(Math.floor(d*n))),{width:u,height:d}}function QP(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const gte=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};JI()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function eD(t,e){const r=ute(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function pi(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function yte(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function bte(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=pi(t,a,r),l=pi(a,s,r),c=pi(s,e,r),u=pi(i,l,r),d=pi(l,c,r);return pi(u,d,r)}const xte=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},vte=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function rc(t,e,r){return t?xte(e,r):vte()}function sq(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function oq(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function iq(t){return t==="angle"?{between:Ef,compare:jee,normalize:mn}:{between:ls,compare:(e,r)=>e-r,normalize:e=>e}}function tD({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function jte(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=iq(n),c=e.length;let{start:u,end:d,loop:f}=t,m,h;if(f){for(u+=c,d+=c,m=0,h=c;m<h&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function lq(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=iq(n),{start:d,end:f,loop:m,style:h}=jte(t,e,r),g=[];let b=!1,p=null,x,y,w;const S=()=>c(a,w,x)&&l(a,w)!==0,C=()=>l(s,x)===0||c(s,w,x),j=()=>b||S(),N=()=>!b||C();for(let A=d,E=d;A<=f;++A)y=e[A%i],!y.skip&&(x=u(y[n]),x!==w&&(b=c(x,a,s),p===null&&j()&&(p=l(x,a)===0?A:E),p!==null&&N()&&(g.push(tD({start:p,end:A,loop:m,count:i,style:h})),p=null),E=A,w=x));return p!==null&&g.push(tD({start:p,end:f,loop:m,count:i,style:h})),g}function cq(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=lq(n[a],t.points,e);s.length&&r.push(...s)}return r}function wte(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function Cte(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function Nte(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=wte(r,a,s,n);if(n===!0)return rD(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return rD(t,Cte(r,i,c,u),r,e)}function rD(t,e,r,n){return!n||!n.setContext||!r?e:Ste(t,e,r,n)}function Ste(t,e,r,n){const a=t._chart.getContext(),s=nD(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function h(g,b,p,x){const y=l?-1:1;if(g!==b){for(g+=c;r[g%c].skip;)g-=y;for(;r[b%c].skip;)b+=y;g%c!==b%c&&(u.push({start:g%c,end:b%c,loop:p,style:x}),d=x,f=b%c)}}for(const g of e){f=l?f:g.start;let b=r[f%c],p;for(m=f+1;m<=g.end;m++){const x=r[m%c];p=nD(n.setContext(Go(a,{type:"segment",p0:b,p1:x,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),Ate(p,d)&&h(f,m-1,g.loop,d),b=x,d=p}f<m-1&&h(f,m-1,g.loop,d)}return u}function nD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ate(t,e){if(!e)return!1;const r=[],n=function(a,s){return WI(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function $h(t,e,r){return t.options.clip?t[r]:e[r]}function Tte(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:$h(r,e,"left"),right:$h(r,e,"right"),top:$h(n,e,"top"),bottom:$h(n,e,"bottom")}:e}function uq(t,e){const r=e._clip;if(r.disabled)return!1;const n=Tte(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class kte{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=H3.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Xa=new kte;const aD="transparent",Ite={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=YP(t||aD),a=n.valid&&YP(e||aD);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Ete{constructor(e,r,n,a){const s=r[n];a=ld([e.to,a,s,e.from]);const i=ld([e.from,s,a]);this._active=!0,this._fn=e.fn||Ite[e.type||typeof i],this._easing=Od[e.easing]||Od.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ld([e.to,r,a,e.from]),this._from=ld([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class dq{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Ge(e))return;const r=Object.keys(Pt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!Ge(s))return;const i={};for(const l of r)i[l]=s[l];(Et(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=Pte(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&Ote(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new Ete(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Xa.add(this._chart,n),!0}}function Ote(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function Pte(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function sD(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function Dte(t,e,r){if(r===!1)return!1;const n=sD(t,r),a=sD(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function _te(t){let e,r,n,a;return Ge(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function fq(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function oD(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],zt(u)&&(s||e===0||_a(e)===_a(u))&&(e+=u)}return!d&&!n.all?0:e}function $te(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function P1(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function Rte(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Mte(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Lte(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function iD(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function lD(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=Rte(s,i,n),f=e.length;let m;for(let h=0;h<f;++h){const g=e[h],{[c]:b,[u]:p}=g,x=g._stacks||(g._stacks={});m=x[u]=Lte(a,d,b),m[l]=p,m._top=iD(m,i,!0,n.type),m._bottom=iD(m,i,!1,n.type);const y=m._visualValues||(m._visualValues={});y[l]=p}}function D1(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Fte(t,e){return Go(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Bte(t,e,r){return Go(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function _u(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const _1=t=>t==="reset"||t==="none",cD=(t,e)=>e?t:Object.assign({},t),qte=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:fq(r,!0),values:null};class ma{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=P1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_u(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,h,g)=>f==="x"?m:f==="r"?g:h,s=r.xAxisID=Be(n.xAxisID,D1(e,"x")),i=r.yAxisID=Be(n.yAxisID,D1(e,"y")),l=r.rAxisID=Be(n.rAxisID,D1(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&WP(this._data,this),e._stacked&&_u(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(Ge(r)){const a=this._cachedMeta;this._data=$te(r,a)}else if(n!==r){if(n){WP(n,this);const a=this._cachedMeta;_u(a),a._parsed=[]}r&&Object.isExtensible(r)&&See(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=P1(r.vScale,r),r.stack!==n.stack&&(a=!0,_u(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(lD(this,r._parsed),r._stacked=P1(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Et(a[e])?m=this.parseArrayData(n,a,e,r):Ge(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const h=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(h()&&(c=!1),u=f);n._sorted=c}i&&lD(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,h,g;for(m=0,h=a;m<h;++m)g=m+n,f[m]={[l]:d||s.parse(u[g],g),[c]:i.parse(r[g],g)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,h;for(d=0,f=a;d<f;++d)m=d+n,h=r[m],u[d]={x:s.parse(Ro(h,l),m),y:i.parse(Ro(h,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:fq(a,!0),values:r._stacks[e.axis]._visualValues};return oD(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=oD(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=qte(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Mte(l);let m,h;function g(){h=a[m];const b=h[l.axis];return!zt(h[e.axis])||d>b||f<b}for(m=0;m<i&&!(!g()&&(this.updateRangeFromParsed(u,e,h,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!g()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],zt(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=_te(Be(this.options.clip,Dte(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=Bte(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Fte(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&If(n);if(l)return cD(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),h=Object.keys(Pt.elements[e]),g=()=>this.getContext(n,a,r),b=u.resolveNamedOptions(m,h,g,f);return b.$shared&&(b.$shared=c,s[i]=Object.freeze(cD(b,c))),b}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new dq(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||_1(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){_1(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!_1(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&_u(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}he(ma,"defaults",{}),he(ma,"datasetElementType",null),he(ma,"dataElementType",null);function Vte(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=W3(n.sort((a,s)=>a-s))}return t._cache.$bar}function Ute(t){const e=t.iScale,r=Vte(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(If(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function zte(t,e,r,n){const a=r.barThickness;let s,i;return We(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function Wte(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function Hte(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function mq(t,e,r,n){return Et(t)?Hte(t,e,r,n):e[r.axis]=r.parse(t,n),e}function uD(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(mq(m,f,s,u));return c}function $1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Gte(t,e,r){return t!==0?_a(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Yte(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function Kte(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=Yte(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[dD(d,i,l,c)]=!0,a=u)),s[dD(a,i,l,c)]=!0,t.borderSkipped=s}function dD(t,e,r,n){return n?(t=Jte(t,e,r),t=fD(t,r,e)):t=fD(t,e,r),t}function Jte(t,e,r){return t===e?r:t===r?e:t}function fD(t,e,r){return t==="start"?e:t==="end"?r:t}function Xte(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Pp extends ma{parsePrimitiveData(e,r,n,a){return uD(e,r,n,a)}parseArrayData(e,r,n,a){return uD(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,h,g,b;for(m=n,h=n+a;m<h;++m)b=r[m],g={},g[s.axis]=s.parse(Ro(b,u),m),f.push(mq(Ro(b,d),g,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=$1(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let h=r;h<r+n;h++){const g=this.getParsed(h),b=s||We(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,d),x=(g._stacks||{})[l.axis],y={horizontal:u,base:b.base,enableBorderRadius:!x||$1(g._custom)||i===x._top||i===x._bottom,x:u?b.head:p.center,y:u?p.center:b.head,height:u?p.size:Math.abs(b.size),width:u?Math.abs(b.size):p.size};m&&(y.options=f||this.resolveDataElementOptions(h,e[h].active?"active":a));const w=y.options||e[h].options;Kte(y,w,x,i),Xte(y,w,d.ratio),this.updateElement(e[h],h,y,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(h=>h[n.axis]===c),m=f&&f[d.vScale.axis];if(We(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||Ute(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=$1(u);let f=c[r.axis],m=0,h=n?this.applyStack(r,c,n):f,g,b;h!==f&&(m=h-f,h=f),d&&(f=u.barStart,h=u.barEnd-u.barStart,f!==0&&_a(f)!==_a(u.barEnd)&&(m=0),m+=f);const p=!We(s)&&!d?s:m;let x=r.getPixelForValue(p);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(m+h):g=x,b=g-x,Math.abs(b)<i){b=Gte(b,r,l)*i,f===l&&(x-=b/2);const y=r.getPixelForDecimal(0),w=r.getPixelForDecimal(1),S=Math.min(y,w),C=Math.max(y,w);x=Math.max(Math.min(x,C),S),g=x+b,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(g)-r.getValueForPixel(x))}if(x===r.getPixelForValue(l)){const y=_a(b)*r.getLineWidthForValue(l)/2;x+=y,b-=y}return{size:b,base:x,head:g,center:g+b/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=Be(a.maxBarThickness,1/0);let l,c;if(r.grouped){const u=s?this._getStackCount(e):r.stackCount,d=a.barThickness==="flex"?Wte(e,r,a,u):zte(e,r,a,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=d.start+d.chunk*f+d.chunk/2,c=Math.min(i,d.chunk*d.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}he(Pp,"id","bar"),he(Pp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),he(Pp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Dp extends ma{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Be(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Be(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const h=e[m],g=!s&&this.getParsed(m),b={},p=b[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(g[d]),x=b[f]=s?l.getBasePixel():l.getPixelForValue(g[f]);b.skip=isNaN(p)||isNaN(x),u&&(b.options=c||this.resolveDataElementOptions(m,h.active?"active":a),s&&(b.options.radius=0)),this.updateElement(h,m,b,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Be(n&&n._custom,s),a}}he(Dp,"id","bubble"),he(Dp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),he(Dp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Zte(t,e,r){let n=1,a=1,s=0,i=0;if(e<Tt){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),h=(w,S,C)=>Ef(w,l,c,!0)?1:Math.max(S,S*r,C,C*r),g=(w,S,C)=>Ef(w,l,c,!0)?-1:Math.min(S,S*r,C,C*r),b=h(0,u,f),p=h(Jt,d,m),x=g(kt,u,f),y=g(kt+Jt,d,m);n=(b-x)/2,a=(p-y)/2,s=-(b+x)/2,i=-(p+y)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class Ai extends ma{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(Ge(n[e])){const{key:c="value"}=this._parsing;s=u=>+Ro(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return la(this.options.rotation-90)}_getCircumference(){return la(this.options.circumference)}_getRotationExtents(){let e=Tt,r=-Tt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(uee(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:g,offsetY:b}=Zte(f,d,c),p=(n.width-i)/m,x=(n.height-i)/h,y=Math.max(Math.min(p,x)/2,0),w=B3(this.options.radius,y),S=Math.max(w*c,0),C=(w-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=b*w,a.total=this.calculateTotal(),this.outerRadius=w-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/Tt)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,h=m?0:this.innerRadius,g=m?0:this.outerRadius,{sharedOptions:b,includeOptions:p}=this._getSharedOptions(r,a);let x=this._getRotation(),y;for(y=0;y<r;++y)x+=this._circumference(y,s);for(y=r;y<r+n;++y){const w=this._circumference(y,s),S=e[y],C={x:d+this.offsetX,y:f+this.offsetY,startAngle:x,endAngle:x+w,circumference:w,outerRadius:g,innerRadius:h};p&&(C.options=b||this.resolveDataElementOptions(y,S.active?"active":a)),x+=w,this.updateElement(S,y,C,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Tt*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Mm(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Be(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}he(Ai,"id","doughnut"),he(Ai,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),he(Ai,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),he(Ai,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class _p extends ma{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=Y3(r,a,i);this._drawStart=l,this._drawCount=c,K3(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,h=l.axis,{spanGaps:g,segment:b}=this.options,p=Tc(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||a==="none",y=r+n,w=e.length;let S=r>0&&this.getParsed(r-1);for(let C=0;C<w;++C){const j=e[C],N=x?j:{};if(C<r||C>=y){N.skip=!0;continue}const A=this.getParsed(C),E=We(A[h]),T=N[m]=i.getPixelForValue(A[m],C),I=N[h]=s||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[h],C);N.skip=isNaN(T)||isNaN(I)||E,N.stop=C>0&&Math.abs(A[m]-S[m])>p,b&&(N.parsed=A,N.raw=u.data[C]),f&&(N.options=d||this.resolveDataElementOptions(C,j.active?"active":a)),x||this.updateElement(j,C,N,a),S=A}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}he(_p,"id","line"),he(_p,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),he(_p,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Dd extends ma{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Mm(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return nq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*kt;let h=m,g;const b=360/this.countVisibleElements();for(g=0;g<r;++g)h+=this._computeAngle(g,a,b);for(g=r;g<r+n;g++){const p=e[g];let x=h,y=h+this._computeAngle(g,a,b),w=i.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;h=y,s&&(c.animateScale&&(w=0),c.animateRotate&&(x=y=m));const S={x:d,y:f,innerRadius:0,outerRadius:w,startAngle:x,endAngle:y,options:this.resolveDataElementOptions(g,p.active?"active":a)};this.updateElement(p,g,S,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?la(this.resolveDataElementOptions(e,r).angle||n):0}}he(Dd,"id","polarArea"),he(Dd,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),he(Dd,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class LS extends Ai{}he(LS,"id","pie"),he(LS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class $p extends ma{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return nq.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,h={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,h,a)}}}he($p,"id","radar"),he($p,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),he($p,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Rp extends ma{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=Y3(r,n,a);if(this._drawStart=s,this._drawCount=i,K3(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),h=i.axis,g=l.axis,{spanGaps:b,segment:p}=this.options,x=Tc(b)?b:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||a==="none";let w=r>0&&this.getParsed(r-1);for(let S=r;S<r+n;++S){const C=e[S],j=this.getParsed(S),N=y?C:{},A=We(j[g]),E=N[h]=i.getPixelForValue(j[h],S),T=N[g]=s||A?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,j,c):j[g],S);N.skip=isNaN(E)||isNaN(T)||A,N.stop=S>0&&Math.abs(j[h]-w[h])>x,p&&(N.parsed=j,N.raw=u.data[S]),m&&(N.options=f||this.resolveDataElementOptions(S,C.active?"active":a)),y||this.updateElement(C,S,N,a),w=j}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}he(Rp,"id","scatter"),he(Rp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),he(Rp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Qte=Object.freeze({__proto__:null,BarController:Pp,BubbleController:Dp,DoughnutController:Ai,LineController:_p,PieController:LS,PolarAreaController:Dd,RadarController:$p,ScatterController:Rp});function si(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ZI{constructor(e){he(this,"options");this.options=e||{}}static override(e){Object.assign(ZI.prototype,e)}init(){}formats(){return si()}parse(){return si()}format(){return si()}add(){return si()}diff(){return si()}startOf(){return si()}endOf(){return si()}}var ere={_date:ZI};function tre(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?Cee:cs;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),h=u(s,e,r+f);return{lo:m.lo,hi:h.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,h=m.slice(0,d.lo+1).reverse().findIndex(b=>!We(b[f.axis]));d.lo-=Math.max(0,h);const g=m.slice(d.hi).findIndex(b=>!We(b[f.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:s.length-1}}function g0(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=tre(s[l],e,i,a);for(let h=f;h<=m;++h){const g=d[h];g.skip||n(g,u,h)}}}function rre(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function R1(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||g0(t,r,e,function(l,c,u){!a&&!us(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function nre(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=U3(i,{x:e.x,y:e.y});Ef(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return g0(t,r,e,s),a}function are(t,e,r,n,a,s){let i=[];const l=rre(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const h=d.inRange(e.x,e.y,a);if(n&&!h)return;const g=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(g))&&!h)return;const p=l(e,g);p<c?(i=[{element:d,datasetIndex:f,index:m}],c=p):p===c&&i.push({element:d,datasetIndex:f,index:m})}return g0(t,r,e,u),i}function M1(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?nre(t,e,r,a):are(t,e,r,n,a,s)}function mD(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return g0(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var sre={modes:{index(t,e,r,n){const a=hi(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?R1(t,a,s,n,i):M1(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=hi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?R1(t,a,s,n,i):M1(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=hi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return R1(t,a,s,n,i)},nearest(t,e,r,n){const a=hi(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return M1(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=hi(e,t);return mD(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=hi(e,t);return mD(t,a,"y",r.intersect,n)}}};const hq=["left","top","right","bottom"];function $u(t,e){return t.filter(r=>r.pos===e)}function hD(t,e){return t.filter(r=>hq.indexOf(r.pos)===-1&&r.box.axis===e)}function Ru(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function ore(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function ire(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!hq.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function lre(t,e){const r=ire(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function cre(t){const e=ore(t),r=Ru(e.filter(u=>u.box.fullSize),!0),n=Ru($u(e,"left"),!0),a=Ru($u(e,"right")),s=Ru($u(e,"top"),!0),i=Ru($u(e,"bottom")),l=hD(e,"x"),c=hD(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:$u(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function pD(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function pq(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ure(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!Ge(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&pq(i,s.getPadding());const l=Math.max(0,e.outerWidth-pD(i,t,"left","right")),c=Math.max(0,e.outerHeight-pD(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function dre(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function fre(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function cd(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,fre(l.horizontal,e));const{same:f,other:m}=ure(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&cd(a,e,r,n)||d}function Rh(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function gD(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;If(u.start)&&(i=u.start),c.fullSize?Rh(c,a.left,i,r.outerWidth-a.right-a.left,m):Rh(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;If(u.start)&&(s=u.start),c.fullSize?Rh(c,s,a.top,m,r.outerHeight-a.bottom-a.top):Rh(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var Rr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Lr(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=cre(t.boxes),c=l.vertical,u=l.horizontal;ot(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const d=c.reduce((b,p)=>p.box.options&&p.box.options.display===!1?b:b+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);pq(m,Lr(n));const h=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),g=lre(c.concat(u),f);cd(l.fullSize,h,f,g),cd(c,h,f,g),cd(u,h,f,g)&&cd(c,h,f,g),dre(h),gD(l.leftAndTop,h,f,g),h.x+=h.w,h.y+=h.h,gD(l.rightAndBottom,h,f,g),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},ot(l.chartArea,b=>{const p=b.box;Object.assign(p,t.chartArea),p.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class gq{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class mre extends gq{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mp="$chartjs",hre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yD=t=>t===null||t==="";function pre(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Mp]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",yD(a)){const s=eD(t,"width");s!==void 0&&(t.width=s)}if(yD(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=eD(t,"height");s!==void 0&&(t.height=s)}return t}const yq=gte?{passive:!0}:!1;function gre(t,e,r){t&&t.addEventListener(e,r,yq)}function yre(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,yq)}function bre(t,e){const r=hre[t.type]||t.type,{x:n,y:a}=hi(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Sx(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function xre(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Sx(l.addedNodes,n),i=i&&!Sx(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function vre(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||Sx(l.removedNodes,n),i=i&&!Sx(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Pf=new Map;let bD=0;function bq(){const t=window.devicePixelRatio;t!==bD&&(bD=t,Pf.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function jre(t,e){Pf.size||window.addEventListener("resize",bq),Pf.set(t,e)}function wre(t){Pf.delete(t),Pf.size||window.removeEventListener("resize",bq)}function Cre(t,e,r){const n=t.canvas,a=n&&XI(n);if(!a)return;const s=G3((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),jre(t,s),i}function L1(t,e,r){r&&r.disconnect(),e==="resize"&&wre(t)}function Nre(t,e,r){const n=t.canvas,a=G3(s=>{t.ctx!==null&&r(bre(s,t))},t);return gre(n,e,a),a}class Sre extends gq{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(pre(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Mp])return!1;const n=r[Mp].initial;["height","width"].forEach(s=>{const i=n[s];We(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[Mp],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:xre,detach:vre,resize:Cre}[r]||Nre;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:L1,detach:L1,resize:L1}[r]||yre)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return pte(e,r,n,a)}isAttached(e){const r=e&&XI(e);return!!(r&&r.isConnected)}}function Are(t){return!JI()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?mre:Sre}var pp;let Ms=(pp=class{constructor(){he(this,"x");he(this,"y");he(this,"active",!1);he(this,"options");he(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return Tc(this.x)&&Tc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},he(pp,"defaults",{}),he(pp,"defaultRoutes"),pp);function Tre(t,e){const r=t.options.ticks,n=kre(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?Ere(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return Ore(e,u,s,i/a),u;const d=Ire(s,e,a);if(i>0){let f,m;const h=i>1?Math.round((c-l)/(i-1)):null;for(Mh(e,u,d,We(h)?0:l-h,l),f=0,m=i-1;f<m;f++)Mh(e,u,d,s[f],s[f+1]);return Mh(e,u,d,c,We(h)?e.length:c+h),u}return Mh(e,u,d),u}function kre(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function Ire(t,e,r){const n=Pre(t),a=e.length/r;if(!n)return Math.max(a,1);const s=bee(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function Ere(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function Ore(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function Mh(t,e,r,n,a){const s=Be(n,0),i=Math.min(Be(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function Pre(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Dre=t=>t==="left"?"right":t==="right"?"left":t,xD=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,vD=(t,e)=>Math.min(e||t,t);function jD(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function _re(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function $re(t,e){ot(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function Mu(t){return t.drawTicks?t.tickLength:0}function wD(t,e){if(!t.display)return 0;const r=ir(t.font,e),n=Lr(t.padding);return(Et(t.text)?t.text.length:1)*r.lineHeight+n.height}function Rre(t,e){return Go(t,{scale:e,type:"scale"})}function Mre(t,e,r){return Go(t,{tick:r,index:e,type:"tick"})}function Lre(t,e,r){let n=zI(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Dre(n)),n}function Fre(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,h,g;const b=i-a,p=l-s;if(t.isHorizontal()){if(h=Dr(n,s,l),Ge(r)){const x=Object.keys(r)[0],y=r[x];g=d[x].getPixelForValue(y)+b-e}else r==="center"?g=(u.bottom+u.top)/2+b-e:g=xD(t,r,e);m=l-s}else{if(Ge(r)){const x=Object.keys(r)[0],y=r[x];h=d[x].getPixelForValue(y)-p+e}else r==="center"?h=(u.left+u.right)/2-p+e:h=xD(t,r,e);g=Dr(n,i,a),f=r==="left"?-Jt:Jt}return{titleX:h,titleY:g,maxWidth:m,rotation:f}}class ul extends Ms{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=un(e,Number.POSITIVE_INFINITY),r=un(r,Number.NEGATIVE_INFINITY),n=un(n,Number.POSITIVE_INFINITY),a=un(a,Number.NEGATIVE_INFINITY),{min:un(e,n),max:un(r,a),minDefined:zt(e),maxDefined:zt(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:un(r,un(n,r)),max:un(n,un(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Gee(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?jD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=Tre(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yt(this.options.afterUpdate,[this])}beforeSetDimensions(){yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=yt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=vD(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,h=pr(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:h/(n-1),f+6>l&&(l=h/(n-(e.offset?.5:1)),c=this.maxHeight-Mu(e.grid)-r.padding-wD(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=VI(Math.min(Math.asin(pr((d.highest.height+6)/l,-1,1)),Math.asin(pr(c/u,-1,1))-Math.asin(pr(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=wD(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Mu(s)+c):(e.height=this.maxHeight,e.width=Mu(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),h=n.padding*2,g=la(this.labelRotation),b=Math.cos(g),p=Math.sin(g);if(l){const x=n.mirror?0:p*f.width+b*m.height;e.height=Math.min(this.maxHeight,e.height+x+h)}else{const x=n.mirror?0:b*f.width+p*m.height;e.width=Math.min(this.maxWidth,e.width+x+h)}this._calculatePadding(u,d,p,b)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?u?(m=a*e.width,h=n*r.height):(m=n*e.height,h=a*r.width):s==="start"?h=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,h=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)We(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=jD(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/vD(r,n));let u=0,d=0,f,m,h,g,b,p,x,y,w,S,C;for(f=0;f<r;f+=c){if(g=e[f].label,b=this._resolveTickFontOptions(f),a.font=p=b.string,x=s[p]=s[p]||{data:{},gc:[]},y=b.lineHeight,w=S=0,!We(g)&&!Et(g))w=Cx(a,x.data,x.gc,w,g),S=y;else if(Et(g))for(m=0,h=g.length;m<h;++m)C=g[m],!We(C)&&!Et(C)&&(w=Cx(a,x.data,x.gc,w,C),S+=y);i.push(w),l.push(S),u=Math.max(w,u),d=Math.max(S,d)}$re(s,r);const j=i.indexOf(u),N=l.indexOf(d),A=E=>({width:i[E]||0,height:l[E]||0});return{first:A(0),last:A(r-1),widest:A(j),highest:A(N),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return wee(this._alignToPixels?ai(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=Mre(this.getContext(),e,n))}return this.$context||(this.$context=Rre(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=la(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Mu(s),h=[],g=l.setContext(this.getContext()),b=g.display?g.width:0,p=b/2,x=function(B){return ai(n,B,b)};let y,w,S,C,j,N,A,E,T,I,P,M;if(i==="top")y=x(this.bottom),N=this.bottom-m,E=y-p,I=x(e.top)+p,M=e.bottom;else if(i==="bottom")y=x(this.top),I=e.top,M=x(e.bottom)-p,N=y+p,E=this.top+m;else if(i==="left")y=x(this.right),j=this.right-m,A=y-p,T=x(e.left)+p,P=e.right;else if(i==="right")y=x(this.left),T=e.left,P=x(e.right)-p,j=y+p,A=this.left+m;else if(r==="x"){if(i==="center")y=x((e.top+e.bottom)/2+.5);else if(Ge(i)){const B=Object.keys(i)[0],U=i[B];y=x(this.chart.scales[B].getPixelForValue(U))}I=e.top,M=e.bottom,N=y+p,E=N+m}else if(r==="y"){if(i==="center")y=x((e.left+e.right)/2);else if(Ge(i)){const B=Object.keys(i)[0],U=i[B];y=x(this.chart.scales[B].getPixelForValue(U))}j=y-p,A=j-m,T=e.left,P=e.right}const $=Be(a.ticks.maxTicksLimit,f),_=Math.max(1,Math.ceil(f/$));for(w=0;w<f;w+=_){const B=this.getContext(w),U=s.setContext(B),D=l.setContext(B),R=U.lineWidth,F=U.color,H=D.dash||[],W=D.dashOffset,ee=U.tickWidth,fe=U.tickColor,Te=U.tickBorderDash||[],ne=U.tickBorderDashOffset;S=_re(this,w,c),S!==void 0&&(C=ai(n,S,R),u?j=A=T=P=C:N=E=I=M=C,h.push({tx1:j,ty1:N,tx2:A,ty2:E,x1:T,y1:I,x2:P,y2:M,width:R,color:F,borderDash:H,borderDashOffset:W,tickWidth:ee,tickColor:fe,tickBorderDash:Te,tickBorderDashOffset:ne}))}return this._ticksLength=f,this._borderValue=y,h}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=Mu(n.grid),h=m+d,g=f?-d:h,b=-la(this.labelRotation),p=[];let x,y,w,S,C,j,N,A,E,T,I,P,M="middle";if(a==="top")j=this.bottom-g,N=this._getXAxisLabelAlignment();else if(a==="bottom")j=this.top+g,N=this._getXAxisLabelAlignment();else if(a==="left"){const _=this._getYAxisLabelAlignment(m);N=_.textAlign,C=_.x}else if(a==="right"){const _=this._getYAxisLabelAlignment(m);N=_.textAlign,C=_.x}else if(r==="x"){if(a==="center")j=(e.top+e.bottom)/2+h;else if(Ge(a)){const _=Object.keys(a)[0],B=a[_];j=this.chart.scales[_].getPixelForValue(B)+h}N=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(e.left+e.right)/2-h;else if(Ge(a)){const _=Object.keys(a)[0],B=a[_];C=this.chart.scales[_].getPixelForValue(B)}N=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?M="top":c==="end"&&(M="bottom"));const $=this._getLabelSizes();for(x=0,y=l.length;x<y;++x){w=l[x],S=w.label;const _=s.setContext(this.getContext(x));A=this.getPixelForTick(x)+s.labelOffset,E=this._resolveTickFontOptions(x),T=E.lineHeight,I=Et(S)?S.length:1;const B=I/2,U=_.color,D=_.textStrokeColor,R=_.textStrokeWidth;let F=N;i?(C=A,N==="inner"&&(x===y-1?F=this.options.reverse?"left":"right":x===0?F=this.options.reverse?"right":"left":F="center"),a==="top"?u==="near"||b!==0?P=-I*T+T/2:u==="center"?P=-$.highest.height/2-B*T+T:P=-$.highest.height+T/2:u==="near"||b!==0?P=T/2:u==="center"?P=$.highest.height/2-B*T:P=$.highest.height-I*T,f&&(P*=-1),b!==0&&!_.showLabelBackdrop&&(C+=T/2*Math.sin(b))):(j=A,P=(1-I)*T/2);let H;if(_.showLabelBackdrop){const W=Lr(_.backdropPadding),ee=$.heights[x],fe=$.widths[x];let Te=P-W.top,ne=0-W.left;switch(M){case"middle":Te-=ee/2;break;case"bottom":Te-=ee;break}switch(N){case"center":ne-=fe/2;break;case"right":ne-=fe;break;case"inner":x===y-1?ne-=fe:x>0&&(ne-=fe/2);break}H={left:ne,top:Te,width:fe+W.width,height:ee+W.height,color:_.backdropColor}}p.push({label:S,font:E,textOffset:P,options:{rotation:b,color:U,strokeColor:D,strokeWidth:R,textAlign:F,textBaseline:M,translation:[C,j],backdrop:H}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-la(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=ai(e,this.left,i)-i/2,d=ai(e,this.right,l)+l/2,f=m=c):(f=ai(e,this.top,i)-i/2,m=ai(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&m0(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;Ji(n,u,0,d,c,l)}a&&h0(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=ir(n.font),i=Lr(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||Ge(r)?(c+=i.bottom,Et(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=Fre(this,c,r,l);Ji(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:Lre(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Be(e.grid&&e.grid.z,-1),a=Be(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ul.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return ir(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Lh{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;Vre(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,Bre(e,i,n),this.override&&Pt.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in Pt[a]&&(delete Pt[a][n],this.override&&delete Ki[n])}}function Bre(t,e,r){const n=kf(Object.create(null),[r?Pt.get(r):{},Pt.get(e),t.defaults]);Pt.set(e,n),t.defaultRoutes&&qre(e,t.defaultRoutes),t.descriptors&&Pt.describe(e,t.descriptors)}function qre(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");Pt.route(s,a,c,l)})}function Vre(t){return"id"in t&&"defaults"in t}class Ure{constructor(){this.controllers=new Lh(ma,"datasets",!0),this.elements=new Lh(Ms,"elements"),this.plugins=new Lh(Object,"plugins"),this.scales=new Lh(ul,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):ot(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=qI(e);yt(n["before"+a],[],n),r[e](n),yt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Sa=new Ure;class zre{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(yt(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Be(n.options&&n.options.plugins,{}),s=Wre(n);return a===!1&&!r?[]:Gre(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function Wre(t){const e={},r=[],n=Object.keys(Sa.plugins.items);for(let s=0;s<n.length;s++)r.push(Sa.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function Hre(t,e){return!e&&t===!1?null:t===!0?{}:t}function Gre(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=Hre(n[c],a);u!==null&&s.push({plugin:l,options:Yre(t.config,{plugin:l,local:r[c]},u,i)})}return s}function Yre(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function FS(t,e){const r=Pt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Kre(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function Jre(t,e){return t===e?"_index_":"_value_"}function CD(t){if(t==="x"||t==="y"||t==="r")return t}function Xre(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function BS(t,...e){if(CD(t))return t;for(const r of e){const n=r.axis||Xre(r.position)||t.length>1&&CD(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ND(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Zre(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return ND(t,"x",r[0])||ND(t,"y",r[0])}return{}}function Qre(t,e){const r=Ki[t.type]||{scales:{}},n=e.scales||{},a=FS(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!Ge(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=BS(i,l,Zre(i,t),Pt.scales[l.type]),u=Jre(c,a),d=r.scales||{};s[i]=Id(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||FS(l,e),d=(Ki[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=Kre(f,c),h=i[m+"AxisID"]||m;s[h]=s[h]||Object.create(null),Id(s[h],[{axis:m},n[h],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];Id(l,[Pt.scales[l.type],Pt.scale])}),s}function xq(t){const e=t.options||(t.options={});e.plugins=Be(e.plugins,{}),e.scales=Qre(t,e)}function vq(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ene(t){return t=t||{},t.data=vq(t.data),xq(t),t}const SD=new Map,jq=new Set;function Fh(t,e){let r=SD.get(t);return r||(r=e(),SD.set(t,r),jq.add(r)),r}const Lu=(t,e,r)=>{const n=Ro(e,r);n!==void 0&&t.add(n)};class tne{constructor(e){this._config=ene(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=vq(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),xq(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Fh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Fh(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Fh(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Fh(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>Lu(c,e,f))),d.forEach(f=>Lu(c,a,f)),d.forEach(f=>Lu(c,Ki[s]||{},f)),d.forEach(f=>Lu(c,Pt,f)),d.forEach(f=>Lu(c,RS,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),jq.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,Ki[r]||{},Pt.datasets[r]||{},{type:r},Pt,RS]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=AD(this._resolverCache,e,a);let c=i;if(nne(i,r)){s.$shared=!1,n=Mo(n)?n():n;const u=this.createResolver(e,n,l);c=kc(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=AD(this._resolverCache,e,n);return Ge(r)?kc(s,r,void 0,a):s}}function AD(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:GI(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const rne=t=>Ge(t)&&Object.getOwnPropertyNames(t).some(e=>Mo(t[e]));function nne(t,e){const{isScriptable:r,isIndexable:n}=Q3(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&(Mo(l)||rne(l))||i&&Et(l))return!0}return!1}var ane="4.4.9";const sne=["top","bottom","left","right","chartArea"];function TD(t,e){return t==="top"||t==="bottom"||sne.indexOf(t)===-1&&e==="x"}function kD(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function ID(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),yt(r&&r.onComplete,[t],e)}function one(t){const e=t.chart,r=e.options.animation;yt(r&&r.onProgress,[t],e)}function wq(t){return JI()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Lp={},ED=t=>{const e=wq(t);return Object.values(Lp).filter(r=>r.canvas===e).pop()};function ine(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function lne(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class Zs{static register(...e){Sa.add(...e),OD()}static unregister(...e){Sa.remove(...e),OD()}constructor(e,r){const n=this.config=new tne(r),a=wq(e),s=ED(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Are(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=cee(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zre,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Aee(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],Lp[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Xa.listen(this,"complete",ID),Xa.listen(this,"progress",one),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return We(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Sa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():QP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return JP(this.canvas,this.ctx),this}stop(){return Xa.stop(this),this}resize(e,r){Xa.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,QP(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),yt(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};ot(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=BS(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ot(s,i=>{const l=i.options,c=l.id,u=BS(c,l),d=Be(l.type,i.dtype);(l.position===void 0||TD(l.position,u)!==TD(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=Sa.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),ot(a,(i,l)=>{i||delete n[l]}),ot(n,i=>{Rr.configure(this,i,i.options),Rr.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(kD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||FS(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=Sa.getController(l),{datasetElementType:u,dataElementType:d}=Pt.datasets[l];Object.assign(c,{dataElementType:Sa.getElement(d),datasetElementType:u&&Sa.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){ot(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||ot(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ot(this.scales,e=>{Rr.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!qP(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;ine(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!qP(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rr.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],ot(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Mo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Xa.has(this)?this.attached&&!Xa.running(this)&&Xa.start(this):(this.draw(),ID({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=uq(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&m0(r,a),e.controller.draw(),a&&h0(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return us(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=sre.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Go(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);If(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Xa.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),JP(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Lp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};ot(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){ot(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},ot(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!vx(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=pee(e),u=lne(e,this._lastEvent,n,c);n&&(this._lastEvent=null,yt(s.onHover,[e,l,this],this),c&&yt(s.onClick,[e,l,this],this));const d=!vx(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}he(Zs,"defaults",Pt),he(Zs,"instances",Lp),he(Zs,"overrides",Ki),he(Zs,"registry",Sa),he(Zs,"version",ane),he(Zs,"getChart",ED);function OD(){return ot(Zs.instances,t=>t._plugins.invalidate())}function cne(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+Jt,n-Jt),t.closePath(),t.clip()}function une(t){return HI(t,["outerStart","outerEnd","innerStart","innerEnd"])}function dne(t,e,r,n){const a=une(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return pr(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:pr(a.innerStart,0,i),innerEnd:pr(a.innerEnd,0,i)}}function Sl(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function Ax(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let h=0;const g=a-c;if(n){const _=d>0?d-n:0,B=f>0?f-n:0,U=(_+B)/2,D=U!==0?g*U/(U+n):g;h=(g-D)/2}const b=Math.max(.001,g*f-r/kt)/f,p=(g-b)/2,x=c+p+h,y=a-p-h,{outerStart:w,outerEnd:S,innerStart:C,innerEnd:j}=dne(e,m,f,y-x),N=f-w,A=f-S,E=x+w/N,T=y-S/A,I=m+C,P=m+j,M=x+C/I,$=y-j/P;if(t.beginPath(),s){const _=(E+T)/2;if(t.arc(i,l,f,E,_),t.arc(i,l,f,_,T),S>0){const R=Sl(A,T,i,l);t.arc(R.x,R.y,S,T,y+Jt)}const B=Sl(P,y,i,l);if(t.lineTo(B.x,B.y),j>0){const R=Sl(P,$,i,l);t.arc(R.x,R.y,j,y+Jt,$+Math.PI)}const U=(y-j/m+(x+C/m))/2;if(t.arc(i,l,m,y-j/m,U,!0),t.arc(i,l,m,U,x+C/m,!0),C>0){const R=Sl(I,M,i,l);t.arc(R.x,R.y,C,M+Math.PI,x-Jt)}const D=Sl(N,x,i,l);if(t.lineTo(D.x,D.y),w>0){const R=Sl(N,E,i,l);t.arc(R.x,R.y,w,x-Jt,E)}}else{t.moveTo(i,l);const _=Math.cos(E)*f+i,B=Math.sin(E)*f+l;t.lineTo(_,B);const U=Math.cos(T)*f+i,D=Math.sin(T)*f+l;t.lineTo(U,D)}t.closePath()}function fne(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){Ax(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%Tt||Tt))}return Ax(t,e,r,n,c,a),t.fill(),c}function mne(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m}=c,h=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,h?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let g=e.endAngle;if(s){Ax(t,e,r,n,g,a);for(let b=0;b<s;++b)t.stroke();isNaN(l)||(g=i+(l%Tt||Tt))}h&&cne(t,e,g),s||(Ax(t,e,r,n,g,a),t.stroke())}class ud extends Ms{constructor(r){super();he(this,"circumference");he(this,"endAngle");he(this,"fullCircles");he(this,"innerRadius");he(this,"outerRadius");he(this,"pixelMargin");he(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=U3(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,g=Be(m,u-c),b=Ef(i,c,u)&&c!==u,p=g>=Tt||b,x=ls(l,d+h,f+h);return p&&x}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Tt?Math.floor(a/Tt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(kt,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,fne(r,this,d,i,l),mne(r,this,d,i,l),r.restore()}}he(ud,"id","arc"),he(ud,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),he(ud,"defaultRoutes",{backgroundColor:"backgroundColor"}),he(ud,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function Cq(t,e,r=e){t.lineCap=Be(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Be(r.borderDash,e.borderDash)),t.lineDashOffset=Be(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Be(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Be(r.borderWidth,e.borderWidth),t.strokeStyle=Be(r.borderColor,e.borderColor)}function hne(t,e,r){t.lineTo(r.x,r.y)}function pne(t){return t.stepped?Lee:t.tension||t.cubicInterpolationMode==="monotone"?Fee:hne}function Nq(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function gne(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=Nq(a,r,n),d=pne(s);let{move:f=!0,reverse:m}=n||{},h,g,b;for(h=0;h<=u;++h)g=a[(l+(m?u-h:h))%i],!g.skip&&(f?(t.moveTo(g.x,g.y),f=!1):d(t,b,g,m,s.stepped),b=g);return c&&(g=a[(l+(m?u:0))%i],d(t,b,g,m,s.stepped)),!!c}function yne(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=Nq(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,h,g,b,p,x;const y=S=>(i+(u?l-S:S))%s,w=()=>{b!==p&&(t.lineTo(d,p),t.lineTo(d,b),t.lineTo(d,x))};for(c&&(h=a[y(0)],t.moveTo(h.x,h.y)),m=0;m<=l;++m){if(h=a[y(m)],h.skip)continue;const S=h.x,C=h.y,j=S|0;j===g?(C<b?b=C:C>p&&(p=C),d=(f*d+S)/++f):(w(),t.lineTo(S,C),g=j,f=0,b=p=C),x=C}w()}function qS(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?yne:gne}function bne(t){return t.stepped?yte:t.tension||t.cubicInterpolationMode==="monotone"?bte:pi}function xne(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),Cq(t,e.options),t.stroke(a)}function vne(t,e,r,n){const{segments:a,options:s}=e,i=qS(e);for(const l of a)Cq(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const jne=typeof Path2D=="function";function wne(t,e,r,n){jne&&!e.options.segment?xne(t,e,r,n):vne(t,e,r,n)}class uo extends Ms{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;cte(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Nte(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=cq(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=bne(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],h=s[f],g=s[m];if(h===g){l.push(h);continue}const b=Math.abs((a-h[r])/(g[r]-h[r])),p=c(h,g,b,n.stepped);p[r]=e[r],l.push(p)}return l.length===1?l[0]:l}pathSegment(e,r,n){return qS(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=qS(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),wne(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}he(uo,"id","line"),he(uo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),he(uo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),he(uo,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function PD(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class Fp extends Ms{constructor(r){super();he(this,"parsed");he(this,"skip");he(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return PD(this,r,"x",n)}inYRange(r,n){return PD(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!us(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,MS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}he(Fp,"id","point"),he(Fp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),he(Fp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Sq(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function fo(t,e,r,n){return t?0:pr(e,r,n)}function Cne(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=Z3(n);return{t:fo(a.top,s.top,0,r),r:fo(a.right,s.right,0,e),b:fo(a.bottom,s.bottom,0,r),l:fo(a.left,s.left,0,e)}}function Nne(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=_i(a),i=Math.min(e,r),l=t.borderSkipped,c=n||Ge(a);return{topLeft:fo(!c||l.top||l.left,s.topLeft,0,i),topRight:fo(!c||l.top||l.right,s.topRight,0,i),bottomLeft:fo(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:fo(!c||l.bottom||l.right,s.bottomRight,0,i)}}function Sne(t){const e=Sq(t),r=e.right-e.left,n=e.bottom-e.top,a=Cne(t,r/2,n/2),s=Nne(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function F1(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&Sq(t,n);return l&&(a||ls(e,l.left,l.right))&&(s||ls(r,l.top,l.bottom))}function Ane(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Tne(t,e){t.rect(e.x,e.y,e.w,e.h)}function B1(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class Bp extends Ms{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=Sne(this),l=Ane(i.radius)?Of:Tne;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,B1(i,r,s)),e.clip(),l(e,B1(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,B1(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return F1(this,e,r,n)}inXRange(e,r){return F1(this,e,null,r)}inYRange(e,r){return F1(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}he(Bp,"id","bar"),he(Bp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),he(Bp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var kne=Object.freeze({__proto__:null,ArcElement:ud,BarElement:Bp,LineElement:uo,PointElement:Fp});const VS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],DD=VS.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Aq(t){return VS[t%VS.length]}function Tq(t){return DD[t%DD.length]}function Ine(t,e){return t.borderColor=Aq(e),t.backgroundColor=Tq(e),++e}function Ene(t,e){return t.backgroundColor=t.data.map(()=>Aq(e++)),e}function One(t,e){return t.backgroundColor=t.data.map(()=>Tq(e++)),e}function Pne(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof Ai?e=Ene(r,e):a instanceof Dd?e=One(r,e):a&&(e=Ine(r,e))}}function _D(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Dne(t){return t&&(t.borderColor||t.backgroundColor)}function _ne(){return Pt.borderColor!=="rgba(0,0,0,0.1)"||Pt.backgroundColor!=="rgba(0,0,0,0.1)"}var $ne={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=_D(n)||Dne(a)||s&&_D(s)||_ne();if(!r.forceOverride&&i)return;const l=Pne(t);n.forEach(l)}};function Rne(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,h,g,b;for(i[c++]=t[d],f=0;f<s-2;f++){let p=0,x=0,y;const w=Math.floor((f+1)*l)+1+e,S=Math.min(Math.floor((f+2)*l)+1,r)+e,C=S-w;for(y=w;y<S;y++)p+=t[y].x,x+=t[y].y;p/=C,x/=C;const j=Math.floor(f*l)+1+e,N=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:A,y:E}=t[d];for(h=g=-1,y=j;y<N;y++)g=.5*Math.abs((A-p)*(t[y].y-E)-(A-t[y].x)*(x-E)),g>h&&(h=g,m=t[y],b=y);i[c++]=m,d=b}return i[c++]=t[u],i}function Mne(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,h,g,b;const p=[],x=e+r-1,y=t[e].x,S=t[x].x-y;for(i=e;i<e+r;++i){l=t[i],c=(l.x-y)/S*n,u=l.y;const C=c|0;if(C===d)u<g?(g=u,f=i):u>b&&(b=u,m=i),a=(s*a+l.x)/++s;else{const j=i-1;if(!We(f)&&!We(m)){const N=Math.min(f,m),A=Math.max(f,m);N!==h&&N!==j&&p.push({...t[N],x:a}),A!==h&&A!==j&&p.push({...t[A],x:a})}i>0&&j!==h&&p.push(t[j]),p.push(l),d=C,s=0,g=b=u,f=m=h=i}}return p}function kq(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function $D(t){t.data.datasets.forEach(e=>{kq(e)})}function Lne(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=pr(cs(e,s.axis,i).lo,0,r-1)),u?a=pr(cs(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var Fne={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){$D(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(ld([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=Lne(c,u);const h=r.threshold||4*n;if(m<=h){kq(a);return}We(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(b){this._data=b}}));let g;switch(r.algorithm){case"lttb":g=Rne(u,f,m,n,r);break;case"min-max":g=Mne(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=g})},destroy(t){$D(t)}};function Bne(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=QI(c,u,a);const d=US(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=cq(e,d);for(const m of f){const h=US(r,s[m.start],s[m.end],m.loop),g=lq(l,a,h);for(const b of g)i.push({source:b,target:m,start:{[r]:RD(d,h,"start",Math.max)},end:{[r]:RD(d,h,"end",Math.min)}})}}return i}function US(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=mn(a),s=mn(s)),{property:t,start:a,end:s}}function qne(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=QI(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function QI(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function RD(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function Iq(t,e){let r=[],n=!1;return Et(t)?(n=!0,r=t):r=qne(t,e),r.length?new uo({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function MD(t){return t&&t.fill!==!1}function Vne(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!zt(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function Une(t,e,r){const n=Gne(t);if(Ge(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return zt(a)&&Math.floor(a)===a?zne(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function zne(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function Wne(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Ge(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Hne(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:Ge(t)?n=t.value:n=e.getBaseValue(),n}function Gne(t){const e=t.options,r=e.fill;let n=Be(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Yne(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=Kne(e,r);l.push(Iq({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)Jne(a,i[d],l)}return new uo({points:a,options:{}})}function Kne(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function Jne(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=Xne(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function Xne(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(ls(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class Eq{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:Tt},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function Zne(t){const{chart:e,fill:r,line:n}=t;if(zt(r))return Qne(e,r);if(r==="stack")return Yne(t);if(r==="shape")return!0;const a=eae(t);return a instanceof Eq?a:Iq(a,n)}function Qne(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function eae(t){return(t.scale||{}).getPointPositionForValue?rae(t):tae(t)}function tae(t){const{scale:e={},fill:r}=t,n=Wne(r,e);if(zt(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function rae(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=Hne(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new Eq({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function q1(t,e,r){const n=Zne(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:h=f}=d||{},g=a.getDatasetMeta(s),b=uq(a,g);n&&i.points.length&&(m0(t,r),nae(t,{line:i,target:n,above:m,below:h,area:r,scale:l,axis:c,clip:b}),h0(t))}function nae(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save(),u==="x"&&s!==a&&(LD(t,n,i.top),FD(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),LD(t,n,i.bottom)),FD(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore()}function LD(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[QI(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function FD(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=Bne(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:h=s}={}}=u,g=n!==!0;t.save(),t.fillStyle=h,aae(t,i,l,g&&US(a,f,m)),t.beginPath();const b=!!r.pathSegment(t,u);let p;if(g){b?t.closePath():BD(t,n,m,a);const x=!!n.pathSegment(t,d,{move:b,reverse:!0});p=b&&x,p||BD(t,n,f,a)}t.closePath(),t.fill(p?"evenodd":"nonzero"),t.restore()}}function aae(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function BD(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var sae={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof uo&&(c={visible:t.isDatasetVisible(i),index:i,fill:Une(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=Vne(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&q1(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;MD(s)&&q1(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!MD(n)||r.drawTime!=="beforeDatasetDraw"||q1(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qD=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},oae=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let VD=class extends Ms{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=yt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=ir(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=qD(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,h=-d;return this.legendItems.forEach((g,b)=>{const p=n+r/2+s.measureText(g.text).width;(b===0||u[u.length-1]+p+2*l>i)&&(f+=d,u[u.length-(b>0?0:1)]=0,h+=d,m++),c[b]={left:0,top:h,row:m,width:p,height:a},u[u.length-1]+=p+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,h=0,g=0,b=0;return this.legendItems.forEach((p,x)=>{const{itemWidth:y,itemHeight:w}=iae(n,r,s,p,a);x>0&&h+w+2*l>d&&(f+=m+l,u.push({width:m,height:h}),g+=m+l,b++,m=h=0),c[x]={left:g,top:h,col:b,width:y,height:w},m=Math.max(m,y),h+=w+l}),f+=m,u.push({width:m,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=rc(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=Dr(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Dr(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=Dr(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Dr(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;m0(e,this),this._draw(),h0(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=Pt.color,c=rc(e.rtl,this.left,this.width),u=ir(i.font),{padding:d}=i,f=u.size,m=f/2;let h;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:g,boxHeight:b,itemHeight:p}=qD(i,f),x=function(j,N,A){if(isNaN(g)||g<=0||isNaN(b)||b<0)return;a.save();const E=Be(A.lineWidth,1);if(a.fillStyle=Be(A.fillStyle,l),a.lineCap=Be(A.lineCap,"butt"),a.lineDashOffset=Be(A.lineDashOffset,0),a.lineJoin=Be(A.lineJoin,"miter"),a.lineWidth=E,a.strokeStyle=Be(A.strokeStyle,l),a.setLineDash(Be(A.lineDash,[])),i.usePointStyle){const T={radius:b*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:E},I=c.xPlus(j,g/2),P=N+m;X3(a,T,I,P,i.pointStyleWidth&&g)}else{const T=N+Math.max((f-b)/2,0),I=c.leftForLtr(j,g),P=_i(A.borderRadius);a.beginPath(),Object.values(P).some(M=>M!==0)?Of(a,{x:I,y:T,w:g,h:b,radius:P}):a.rect(I,T,g,b),a.fill(),E!==0&&a.stroke()}a.restore()},y=function(j,N,A){Ji(a,A.text,j,N+p/2,u,{strikethrough:A.hidden,textAlign:c.textAlign(A.textAlign)})},w=this.isHorizontal(),S=this._computeTitleHeight();w?h={x:Dr(s,this.left+d,this.right-n[0]),y:this.top+d+S,line:0}:h={x:this.left+d,y:Dr(s,this.top+S+d,this.bottom-r[0].height),line:0},sq(this.ctx,e.textDirection);const C=p+d;this.legendItems.forEach((j,N)=>{a.strokeStyle=j.fontColor,a.fillStyle=j.fontColor;const A=a.measureText(j.text).width,E=c.textAlign(j.textAlign||(j.textAlign=i.textAlign)),T=g+m+A;let I=h.x,P=h.y;c.setWidth(this.width),w?N>0&&I+T+d>this.right&&(P=h.y+=C,h.line++,I=h.x=Dr(s,this.left+d,this.right-n[h.line])):N>0&&P+C>this.bottom&&(I=h.x=I+r[h.line].width+d,h.line++,P=h.y=Dr(s,this.top+S+d,this.bottom-r[h.line].height));const M=c.x(I);if(x(M,P,j),I=Tee(E,I+g+m,w?I+T:this.right,e.rtl),y(c.x(I),P,j),w)h.x+=T+d;else if(typeof j.text!="string"){const $=u.lineHeight;h.y+=Oq(j,$)+d}else h.y+=C}),oq(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=ir(r.font),a=Lr(r.padding);if(!r.display)return;const s=rc(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=Dr(e.align,f,this.right-m);else{const g=this.columnSizes.reduce((b,p)=>Math.max(b,p.height),0);d=u+Dr(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const h=Dr(l,f,f+m);i.textAlign=s.textAlign(zI(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,Ji(i,r.text,h,d,n)}_computeTitleHeight(){const e=this.options.title,r=ir(e.font),n=Lr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(ls(e,this.left,this.right)&&ls(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],ls(e,a.left,a.left+a.width)&&ls(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!uae(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=oae(a,n);a&&!s&&yt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&yt(r.onHover,[e,n,this],this)}else n&&yt(r.onClick,[e,n,this],this)}};function iae(t,e,r,n,a){const s=lae(n,t,e,r),i=cae(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function lae(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function cae(t,e,r){let n=t;return typeof e.text!="string"&&(n=Oq(e,r)),n}function Oq(t,e){const r=t.text?t.text.length:0;return e*r}function uae(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var dae={id:"legend",_element:VD,start(t,e,r){const n=t.legend=new VD({ctx:t.ctx,options:r,chart:t});Rr.configure(t,n,r),Rr.addBox(t,n)},stop(t){Rr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Rr.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Lr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class eE extends Ms{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Et(n.text)?n.text.length:1;this._padding=Lr(n.padding);const s=a*ir(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=Dr(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=Dr(l,a,r),c=kt*-.5):(d=s-e,f=Dr(l,r,a),c=kt*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=ir(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);Ji(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:zI(r.align),textBaseline:"middle",translation:[i,l]})}}function fae(t,e){const r=new eE({ctx:t.ctx,options:e,chart:t});Rr.configure(t,r,e),Rr.addBox(t,r),t.titleBlock=r}var mae={id:"title",_element:eE,start(t,e,r){fae(t,r)},stop(t){const e=t.titleBlock;Rr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Rr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bh=new WeakMap;var hae={id:"subtitle",start(t,e,r){const n=new eE({ctx:t.ctx,options:r,chart:t});Rr.configure(t,n,r),Rr.addBox(t,n),Bh.set(t,n)},stop(t){Rr.removeBox(t,Bh.get(t)),Bh.delete(t)},beforeUpdate(t,e,r){const n=Bh.get(t);Rr.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dd={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=$S(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function Ca(t,e){return e&&(Et(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Za(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function pae(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function UD(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=ir(e.bodyFont),u=ir(e.titleFont),d=ir(e.footerFont),f=s.length,m=a.length,h=n.length,g=Lr(e.padding);let b=g.height,p=0,x=n.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,f&&(b+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),x){const S=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;b+=h*S+(x-h)*c.lineHeight+(x-1)*e.bodySpacing}m&&(b+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let y=0;const w=function(S){p=Math.max(p,r.measureText(S).width+y)};return r.save(),r.font=u.string,ot(t.title,w),r.font=c.string,ot(t.beforeBody.concat(t.afterBody),w),y=e.displayColors?i+2+e.boxPadding:0,ot(n,S=>{ot(S.before,w),ot(S.lines,w),ot(S.after,w)}),y=0,r.font=d.string,ot(t.footer,w),r.restore(),p+=g.width,{width:p,height:b}}function gae(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function yae(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function bae(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),yae(u,t,e,r)&&(u="center"),u}function zD(t,e,r){const n=r.yAlign||e.yAlign||gae(t,r);return{xAlign:r.xAlign||e.xAlign||bae(t,e,r,n),yAlign:n}}function xae(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function vae(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function WD(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:h}=_i(i);let g=xae(e,l);const b=vae(e,c,u);return c==="center"?l==="left"?g+=u:l==="right"&&(g-=u):l==="left"?g-=Math.max(d,m)+a:l==="right"&&(g+=Math.max(f,h)+a),{x:pr(g,0,n.width-e.width),y:pr(b,0,n.height-e.height)}}function qh(t,e,r){const n=Lr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function HD(t){return Ca([],Za(t))}function jae(t,e,r){return Go(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function GD(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Pq={beforeTitle:Ya,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Ya,beforeBody:Ya,beforeLabel:Ya,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return We(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ya,afterBody:Ya,beforeFooter:Ya,footer:Ya,afterFooter:Ya};function zr(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?Pq[e].call(r,n):a}var xN;let YD=(xN=class extends Ms{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new dq(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=jae(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=zr(n,"beforeTitle",this,e),s=zr(n,"title",this,e),i=zr(n,"afterTitle",this,e);let l=[];return l=Ca(l,Za(a)),l=Ca(l,Za(s)),l=Ca(l,Za(i)),l}getBeforeBody(e,r){return HD(zr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return ot(e,s=>{const i={before:[],lines:[],after:[]},l=GD(n,s);Ca(i.before,Za(zr(l,"beforeLabel",this,s))),Ca(i.lines,zr(l,"label",this,s)),Ca(i.after,Za(zr(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return HD(zr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=zr(n,"beforeFooter",this,e),s=zr(n,"footer",this,e),i=zr(n,"afterFooter",this,e);let l=[];return l=Ca(l,Za(a)),l=Ca(l,Za(s)),l=Ca(l,Za(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(pae(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),ot(l,d=>{const f=GD(e.callbacks,d);a.push(zr(f,"labelColor",this,d)),s.push(zr(f,"labelPointStyle",this,d)),i.push(zr(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=dd[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=UD(this,n),u=Object.assign({},l,c),d=zD(this.chart,n,u),f=WD(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=_i(l),{x:m,y:h}=e,{width:g,height:b}=r;let p,x,y,w,S,C;return s==="center"?(S=h+b/2,a==="left"?(p=m,x=p-i,w=S+i,C=S-i):(p=m+g,x=p+i,w=S-i,C=S+i),y=p):(a==="left"?x=m+Math.max(c,d)+i:a==="right"?x=m+g-Math.max(u,f)-i:x=this.caretX,s==="top"?(w=h,S=w-i,p=x-i,y=x+i):(w=h+b,S=w+i,p=x+i,y=x-i),C=w),{x1:p,x2:x,x3:y,y1:w,y2:S,y3:C}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=rc(n.rtl,this.x,this.width);for(e.x=qh(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=ir(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=ir(s.bodyFont),f=qh(this,"left",s),m=a.x(f),h=c<d.lineHeight?(d.lineHeight-c)/2:0,g=r.y+h;if(s.usePointStyle){const b={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},p=a.leftForLtr(m,u)+u/2,x=g+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,MS(e,b,p,x),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,MS(e,b,p,x)}else{e.lineWidth=Ge(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const b=a.leftForLtr(m,u),p=a.leftForLtr(a.xPlus(m,1),u-2),x=_i(i.borderRadius);Object.values(x).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Of(e,{x:b,y:g,w:u,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),Of(e,{x:p,y:g+1,w:u-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(b,g,u,c),e.strokeRect(b,g,u,c),e.fillStyle=i.backgroundColor,e.fillRect(p,g+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=ir(n.bodyFont);let m=f.lineHeight,h=0;const g=rc(n.rtl,this.x,this.width),b=function(A){r.fillText(A,g.x(e.x+h),e.y+m/2),e.y+=m+s},p=g.textAlign(i);let x,y,w,S,C,j,N;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=qh(this,p,n),r.fillStyle=n.bodyColor,ot(this.beforeBody,b),h=l&&p!=="right"?i==="center"?u/2+d:u+2+d:0,S=0,j=a.length;S<j;++S){for(x=a[S],y=this.labelTextColors[S],r.fillStyle=y,ot(x.before,b),w=x.lines,l&&w.length&&(this._drawColorBox(r,e,S,g,n),m=Math.max(f.lineHeight,c)),C=0,N=w.length;C<N;++C)b(w[C]),m=f.lineHeight;ot(x.after,b)}h=0,m=f.lineHeight,ot(this.afterBody,b),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=rc(n.rtl,this.x,this.width);for(e.x=qh(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=ir(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:h,bottomRight:g}=_i(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-g),r.quadraticCurveTo(l+u,c+d,l+u-g,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+h,c+d),r.quadraticCurveTo(l,c+d,l,c+d-h),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=dd[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=UD(this,e),c=Object.assign({},i,this._size),u=zD(r,e,c),d=WD(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Lr(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),sq(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),oq(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!vx(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!vx(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=dd[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},he(xN,"positioners",dd),xN);var wae={id:"tooltip",_element:YD,positioners:dd,afterInit(t,e,r){r&&(t.tooltip=new YD({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Pq},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Cae=Object.freeze({__proto__:null,Colors:$ne,Decimation:Fne,Filler:sae,Legend:dae,SubTitle:hae,Title:mae,Tooltip:wae});const Nae=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Sae(t,e,r,n){const a=t.indexOf(e);if(a===-1)return Nae(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const Aae=(t,e)=>t===null?null:pr(Math.round(t),0,e);function KD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class zS extends ul{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(We(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Sae(n,e,Be(r,e),this._addedLabels),Aae(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return KD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}he(zS,"id","category"),he(zS,"defaults",{ticks:{callback:KD}});function Tae(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,h=s||1,g=d-1,{min:b,max:p}=e,x=!We(i),y=!We(l),w=!We(u),S=(p-b)/(f+1);let C=UP((p-b)/g/h)*h,j,N,A,E;if(C<1e-14&&!x&&!y)return[{value:b},{value:p}];E=Math.ceil(p/C)-Math.floor(b/C),E>g&&(C=UP(E*C/g/h)*h),We(c)||(j=Math.pow(10,c),C=Math.ceil(C*j)/j),a==="ticks"?(N=Math.floor(b/C)*C,A=Math.ceil(p/C)*C):(N=b,A=p),x&&y&&s&&vee((l-i)/s,C/1e3)?(E=Math.round(Math.min((l-i)/C,d)),C=(l-i)/E,N=i,A=l):w?(N=x?i:N,A=y?l:A,E=u-1,C=(A-N)/E):(E=(A-N)/C,Ed(E,Math.round(E),C/1e3)?E=Math.round(E):E=Math.ceil(E));const T=Math.max(zP(C),zP(N));j=Math.pow(10,We(c)?T:c),N=Math.round(N*j)/j,A=Math.round(A*j)/j;let I=0;for(x&&(m&&N!==i?(r.push({value:i}),N<i&&I++,Ed(Math.round((N+I*C)*j)/j,i,JD(i,S,t))&&I++):N<i&&I++);I<E;++I){const P=Math.round((N+I*C)*j)/j;if(y&&P>l)break;r.push({value:P})}return y&&m&&A!==l?r.length&&Ed(r[r.length-1].value,l,JD(l,S,t))?r[r.length-1].value=l:r.push({value:l}):(!y||A===l)&&r.push({value:A}),r}function JD(t,e,{horizontal:r,minRotation:n}){const a=la(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class Tx extends ul{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return We(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=_a(a),u=_a(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=Tae(a,s);return e.bounds==="ticks"&&V3(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Mm(e,this.chart.options.locale,this.options.ticks.format)}}class WS extends Tx{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=zt(e)?e:0,this.max=zt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=la(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}he(WS,"id","linear"),he(WS,"defaults",{ticks:{callback:f0.formatters.numeric}});const Df=t=>Math.floor(co(t)),oi=(t,e)=>Math.pow(10,Df(t)+e);function XD(t){return t/Math.pow(10,Df(t))===1}function ZD(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function kae(t,e){const r=e-t;let n=Df(r);for(;ZD(t,e,n)>10;)n++;for(;ZD(t,e,n)<10;)n--;return Math.min(n,Df(t))}function Iae(t,{min:e,max:r}){e=un(t.min,e);const n=[],a=Df(e);let s=kae(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=un(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:XD(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const h=un(t.max,m);return n.push({value:h,major:XD(h),significand:f}),n}class HS extends ul{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=Tx.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return zt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=zt(e)?Math.max(0,e):null,this.max=zt(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!zt(this._userMin)&&(this.min=e===oi(this.min,0)?oi(this.min,-1):oi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(oi(n,-1)),i(oi(a,1)))),n<=0&&s(oi(a,-1)),a<=0&&i(oi(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=Iae(r,this);return e.bounds==="ticks"&&V3(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Mm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=co(e),this._valueRange=co(this.max)-co(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(co(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}he(HS,"id","logarithmic"),he(HS,"defaults",{ticks:{callback:f0.formatters.logarithmic,major:{enabled:!0}}});function GS(t){const e=t.ticks;if(e.display&&t.display){const r=Lr(e.backdropPadding);return Be(e.font&&e.font.size,Pt.font.size)+r.height}return 0}function Eae(t,e,r){return r=Et(r)?r:[r],{w:Mee(t,e.string,r),h:r.length*e.lineHeight}}function QD(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function Oae(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?kt/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=ir(u.font),m=Eae(t.ctx,f,t._pointLabels[c]);n[c]=m;const h=mn(t.getIndexAngle(c)+l),g=Math.round(VI(h)),b=QD(g,d.x,m.w,0,180),p=QD(g,d.y,m.h,90,270);Pae(r,e,h,b,p)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=$ae(t,n,a)}function Pae(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function Dae(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round(VI(mn(c.angle+Jt))),d=Lae(c.y,l.h,u),f=Rae(u),m=Mae(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function _ae(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(us({x:r,y:n},e)||us({x:r,y:s},e)||us({x:a,y:n},e)||us({x:a,y:s},e))}function $ae(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:GS(s)/2,additionalAngle:i?kt/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=Dae(t,d,c);n.push(f),l==="auto"&&(f.visible=_ae(f,u),f.visible&&(u=f))}return n}function Rae(t){return t===0||t===180?"center":t<180?"left":"right"}function Mae(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Lae(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Fae(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!We(l)){const c=_i(e.borderRadius),u=Lr(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,h=i-a+u.height;Object.values(c).some(g=>g!==0)?(t.beginPath(),Of(t,{x:d,y:f,w:m,h,radius:c}),t.fill()):t.fillRect(d,f,m,h)}}function Bae(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));Fae(r,i,s);const l=ir(i.font),{x:c,y:u,textAlign:d}=s;Ji(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function Dq(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Tt);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function qae(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),Dq(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function Vae(t,e,r){return Go(t,{label:r,index:e,type:"pointLabel"})}class fd extends Tx{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Lr(GS(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=zt(e)&&!isNaN(e)?e:0,this.max=zt(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/GS(this.options))}generateTickLabels(e){Tx.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=yt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Oae(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Tt/(this._pointLabels.length||1),n=this.options.startAngle||0;return mn(e*r+la(n))}getDistanceFromCenterForValue(e){if(We(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(We(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return Vae(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Jt+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Dq(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&Bae(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),h=a.setContext(m),g=s.setContext(m);qae(this,h,c,i,g)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=ir(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Lr(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}Ji(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}he(fd,"id","radialLinear"),he(fd,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:f0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),he(fd,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),he(fd,"descriptors",{angleLines:{_fallback:"grid"}});const y0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kr=Object.keys(y0);function e_(t,e){return t-e}function t_(t,e){if(We(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),zt(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(Tc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function r_(t,e,r,n){const a=Kr.length;for(let s=Kr.indexOf(t);s<a-1;++s){const i=y0[Kr[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return Kr[s]}return Kr[a-1]}function Uae(t,e,r,n,a){for(let s=Kr.length-1;s>=Kr.indexOf(r);s--){const i=Kr[s];if(y0[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return Kr[r?Kr.indexOf(r):0]}function zae(t){for(let e=Kr.indexOf(t)+1,r=Kr.length;e<r;++e)if(y0[Kr[e]].common)return Kr[e]}function n_(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=UI(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function Wae(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function a_(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:Wae(t,n,a,r)}class _f extends ul{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new ere._date(e.adapters.date);a.init(r),Id(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:t_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=zt(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=zt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=Nee(a,s,i);return this._unit=r.unit||(n.autoSkip?r_(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Uae(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:zae(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),a_(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=pr(r,0,i),n=pr(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||r_(s.minUnit,r,n,this._getLabelCapacity(r)),l=Be(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=Tc(c)||c===!0,d={};let f=r,m,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const g=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,h=0;m<n;m=+e.add(m,l,i),h++)n_(d,m,g);return(m===n||a.bounds==="ticks"||h===1)&&n_(d,m,g),Object.keys(d).sort(e_).map(b=>+b)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return yt(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],h=u&&f&&m&&m.major;return this._adapter.format(e,a||(h?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=la(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,a_(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(t_(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return W3(e.sort(e_))}}he(_f,"id","time"),he(_f,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vh(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=cs(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=cs(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class YS extends _f{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Vh(r,this.min),this._tableRange=Vh(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Vh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Vh(this._table,n*this._tableRange+this._minPos,!0)}}he(YS,"id","timeseries"),he(YS,"defaults",_f.defaults);var Hae=Object.freeze({__proto__:null,CategoryScale:zS,LinearScale:WS,LogarithmicScale:HS,RadialLinearScale:fd,TimeScale:_f,TimeSeriesScale:YS});const Gae=[Qte,kne,Cae,Hae];Zs.register(...Gae);const Yae=[{name:"Settings",icon:o.jsx(n3,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(rJ,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(xJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(CP,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(CP,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(NS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(a3,{className:"h-6 w-6"}),path:"/reports/bir"}];function Kae(){const{user:t}=q(n=>n.auth),[e,r]=v.useState(!0);return v.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Yae.map(n=>o.jsxs(tc,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function Jae(){return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[o.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),o.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),o.jsx(tc,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}var Xae=function(e){return Zae(e)&&!Qae(e)};function Zae(t){return!!t&&typeof t=="object"}function Qae(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||rse(t)}var ese=typeof Symbol=="function"&&Symbol.for,tse=ese?Symbol.for("react.element"):60103;function rse(t){return t.$$typeof===tse}function nse(t){return Array.isArray(t)?[]:{}}function kx(t,e){return e.clone!==!1&&e.isMergeableObject(t)?$f(nse(t),t,e):t}function ase(t,e,r){return t.concat(e).map(function(n){return kx(n,r)})}function sse(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=kx(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=kx(e[a],r):n[a]=$f(t[a],e[a],r)}),n}function $f(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||ase,r.isMergeableObject=r.isMergeableObject||Xae;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):sse(t,e,r):kx(e,r)}$f.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return $f(n,a,r)},{})};var KS=$f,_q=typeof global=="object"&&global&&global.Object===Object&&global,ose=typeof self=="object"&&self&&self.Object===Object&&self,za=_q||ose||Function("return this")(),Lo=za.Symbol,$q=Object.prototype,ise=$q.hasOwnProperty,lse=$q.toString,Fu=Lo?Lo.toStringTag:void 0;function cse(t){var e=ise.call(t,Fu),r=t[Fu];try{t[Fu]=void 0;var n=!0}catch{}var a=lse.call(t);return n&&(e?t[Fu]=r:delete t[Fu]),a}var use=Object.prototype,dse=use.toString;function fse(t){return dse.call(t)}var mse="[object Null]",hse="[object Undefined]",s_=Lo?Lo.toStringTag:void 0;function dl(t){return t==null?t===void 0?hse:mse:s_&&s_ in Object(t)?cse(t):fse(t)}function Rq(t,e){return function(r){return t(e(r))}}var tE=Rq(Object.getPrototypeOf,Object);function fl(t){return t!=null&&typeof t=="object"}var pse="[object Object]",gse=Function.prototype,yse=Object.prototype,Mq=gse.toString,bse=yse.hasOwnProperty,xse=Mq.call(Object);function o_(t){if(!fl(t)||dl(t)!=pse)return!1;var e=tE(t);if(e===null)return!0;var r=bse.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Mq.call(r)==xse}function vse(){this.__data__=[],this.size=0}function Lq(t,e){return t===e||t!==t&&e!==e}function b0(t,e){for(var r=t.length;r--;)if(Lq(t[r][0],e))return r;return-1}var jse=Array.prototype,wse=jse.splice;function Cse(t){var e=this.__data__,r=b0(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():wse.call(e,r,1),--this.size,!0}function Nse(t){var e=this.__data__,r=b0(e,t);return r<0?void 0:e[r][1]}function Sse(t){return b0(this.__data__,t)>-1}function Ase(t,e){var r=this.__data__,n=b0(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Ls(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ls.prototype.clear=vse;Ls.prototype.delete=Cse;Ls.prototype.get=Nse;Ls.prototype.has=Sse;Ls.prototype.set=Ase;function Tse(){this.__data__=new Ls,this.size=0}function kse(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Ise(t){return this.__data__.get(t)}function Ese(t){return this.__data__.has(t)}function Lm(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ose="[object AsyncFunction]",Pse="[object Function]",Dse="[object GeneratorFunction]",_se="[object Proxy]";function Fq(t){if(!Lm(t))return!1;var e=dl(t);return e==Pse||e==Dse||e==Ose||e==_se}var V1=za["__core-js_shared__"],i_=function(){var t=/[^.]+$/.exec(V1&&V1.keys&&V1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function $se(t){return!!i_&&i_ in t}var Rse=Function.prototype,Mse=Rse.toString;function ml(t){if(t!=null){try{return Mse.call(t)}catch{}try{return t+""}catch{}}return""}var Lse=/[\\^$.*+?()[\]{}|]/g,Fse=/^\[object .+?Constructor\]$/,Bse=Function.prototype,qse=Object.prototype,Vse=Bse.toString,Use=qse.hasOwnProperty,zse=RegExp("^"+Vse.call(Use).replace(Lse,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wse(t){if(!Lm(t)||$se(t))return!1;var e=Fq(t)?zse:Fse;return e.test(ml(t))}function Hse(t,e){return t==null?void 0:t[e]}function hl(t,e){var r=Hse(t,e);return Wse(r)?r:void 0}var Rf=hl(za,"Map"),Mf=hl(Object,"create");function Gse(){this.__data__=Mf?Mf(null):{},this.size=0}function Yse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Kse="__lodash_hash_undefined__",Jse=Object.prototype,Xse=Jse.hasOwnProperty;function Zse(t){var e=this.__data__;if(Mf){var r=e[t];return r===Kse?void 0:r}return Xse.call(e,t)?e[t]:void 0}var Qse=Object.prototype,eoe=Qse.hasOwnProperty;function toe(t){var e=this.__data__;return Mf?e[t]!==void 0:eoe.call(e,t)}var roe="__lodash_hash_undefined__";function noe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Mf&&e===void 0?roe:e,this}function Xi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Xi.prototype.clear=Gse;Xi.prototype.delete=Yse;Xi.prototype.get=Zse;Xi.prototype.has=toe;Xi.prototype.set=noe;function aoe(){this.size=0,this.__data__={hash:new Xi,map:new(Rf||Ls),string:new Xi}}function soe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function x0(t,e){var r=t.__data__;return soe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function ooe(t){var e=x0(this,t).delete(t);return this.size-=e?1:0,e}function ioe(t){return x0(this,t).get(t)}function loe(t){return x0(this,t).has(t)}function coe(t,e){var r=x0(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Yo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yo.prototype.clear=aoe;Yo.prototype.delete=ooe;Yo.prototype.get=ioe;Yo.prototype.has=loe;Yo.prototype.set=coe;var uoe=200;function doe(t,e){var r=this.__data__;if(r instanceof Ls){var n=r.__data__;if(!Rf||n.length<uoe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Yo(n)}return r.set(t,e),this.size=r.size,this}function iu(t){var e=this.__data__=new Ls(t);this.size=e.size}iu.prototype.clear=Tse;iu.prototype.delete=kse;iu.prototype.get=Ise;iu.prototype.has=Ese;iu.prototype.set=doe;function foe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var l_=function(){try{var t=hl(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Bq(t,e,r){e=="__proto__"&&l_?l_(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var moe=Object.prototype,hoe=moe.hasOwnProperty;function qq(t,e,r){var n=t[e];(!(hoe.call(t,e)&&Lq(n,r))||r===void 0&&!(e in t))&&Bq(t,e,r)}function v0(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?Bq(r,l,c):qq(r,l,c)}return r}function poe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var goe="[object Arguments]";function c_(t){return fl(t)&&dl(t)==goe}var Vq=Object.prototype,yoe=Vq.hasOwnProperty,boe=Vq.propertyIsEnumerable,xoe=c_(function(){return arguments}())?c_:function(t){return fl(t)&&yoe.call(t,"callee")&&!boe.call(t,"callee")},Fm=Array.isArray;function voe(){return!1}var Uq=typeof yn=="object"&&yn&&!yn.nodeType&&yn,u_=Uq&&typeof bn=="object"&&bn&&!bn.nodeType&&bn,joe=u_&&u_.exports===Uq,d_=joe?za.Buffer:void 0,woe=d_?d_.isBuffer:void 0,zq=woe||voe,Coe=9007199254740991,Noe=/^(?:0|[1-9]\d*)$/;function Soe(t,e){var r=typeof t;return e=e??Coe,!!e&&(r=="number"||r!="symbol"&&Noe.test(t))&&t>-1&&t%1==0&&t<e}var Aoe=9007199254740991;function Wq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Aoe}var Toe="[object Arguments]",koe="[object Array]",Ioe="[object Boolean]",Eoe="[object Date]",Ooe="[object Error]",Poe="[object Function]",Doe="[object Map]",_oe="[object Number]",$oe="[object Object]",Roe="[object RegExp]",Moe="[object Set]",Loe="[object String]",Foe="[object WeakMap]",Boe="[object ArrayBuffer]",qoe="[object DataView]",Voe="[object Float32Array]",Uoe="[object Float64Array]",zoe="[object Int8Array]",Woe="[object Int16Array]",Hoe="[object Int32Array]",Goe="[object Uint8Array]",Yoe="[object Uint8ClampedArray]",Koe="[object Uint16Array]",Joe="[object Uint32Array]",wt={};wt[Voe]=wt[Uoe]=wt[zoe]=wt[Woe]=wt[Hoe]=wt[Goe]=wt[Yoe]=wt[Koe]=wt[Joe]=!0;wt[Toe]=wt[koe]=wt[Boe]=wt[Ioe]=wt[qoe]=wt[Eoe]=wt[Ooe]=wt[Poe]=wt[Doe]=wt[_oe]=wt[$oe]=wt[Roe]=wt[Moe]=wt[Loe]=wt[Foe]=!1;function Xoe(t){return fl(t)&&Wq(t.length)&&!!wt[dl(t)]}function rE(t){return function(e){return t(e)}}var Hq=typeof yn=="object"&&yn&&!yn.nodeType&&yn,_d=Hq&&typeof bn=="object"&&bn&&!bn.nodeType&&bn,Zoe=_d&&_d.exports===Hq,U1=Zoe&&_q.process,Ec=function(){try{var t=_d&&_d.require&&_d.require("util").types;return t||U1&&U1.binding&&U1.binding("util")}catch{}}(),f_=Ec&&Ec.isTypedArray,Qoe=f_?rE(f_):Xoe,eie=Object.prototype,tie=eie.hasOwnProperty;function Gq(t,e){var r=Fm(t),n=!r&&xoe(t),a=!r&&!n&&zq(t),s=!r&&!n&&!a&&Qoe(t),i=r||n||a||s,l=i?poe(t.length,String):[],c=l.length;for(var u in t)(e||tie.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Soe(u,c)))&&l.push(u);return l}var rie=Object.prototype;function nE(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||rie;return t===r}var nie=Rq(Object.keys,Object),aie=Object.prototype,sie=aie.hasOwnProperty;function oie(t){if(!nE(t))return nie(t);var e=[];for(var r in Object(t))sie.call(t,r)&&r!="constructor"&&e.push(r);return e}function Yq(t){return t!=null&&Wq(t.length)&&!Fq(t)}function aE(t){return Yq(t)?Gq(t):oie(t)}function iie(t,e){return t&&v0(e,aE(e),t)}function lie(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var cie=Object.prototype,uie=cie.hasOwnProperty;function die(t){if(!Lm(t))return lie(t);var e=nE(t),r=[];for(var n in t)n=="constructor"&&(e||!uie.call(t,n))||r.push(n);return r}function sE(t){return Yq(t)?Gq(t,!0):die(t)}function fie(t,e){return t&&v0(e,sE(e),t)}var Kq=typeof yn=="object"&&yn&&!yn.nodeType&&yn,m_=Kq&&typeof bn=="object"&&bn&&!bn.nodeType&&bn,mie=m_&&m_.exports===Kq,h_=mie?za.Buffer:void 0,p_=h_?h_.allocUnsafe:void 0;function hie(t,e){if(e)return t.slice();var r=t.length,n=p_?p_(r):new t.constructor(r);return t.copy(n),n}function Jq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function pie(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function Xq(){return[]}var gie=Object.prototype,yie=gie.propertyIsEnumerable,g_=Object.getOwnPropertySymbols,oE=g_?function(t){return t==null?[]:(t=Object(t),pie(g_(t),function(e){return yie.call(t,e)}))}:Xq;function bie(t,e){return v0(t,oE(t),e)}function Zq(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var xie=Object.getOwnPropertySymbols,Qq=xie?function(t){for(var e=[];t;)Zq(e,oE(t)),t=tE(t);return e}:Xq;function vie(t,e){return v0(t,Qq(t),e)}function e6(t,e,r){var n=e(t);return Fm(t)?n:Zq(n,r(t))}function jie(t){return e6(t,aE,oE)}function wie(t){return e6(t,sE,Qq)}var JS=hl(za,"DataView"),XS=hl(za,"Promise"),ZS=hl(za,"Set"),QS=hl(za,"WeakMap"),y_="[object Map]",Cie="[object Object]",b_="[object Promise]",x_="[object Set]",v_="[object WeakMap]",j_="[object DataView]",Nie=ml(JS),Sie=ml(Rf),Aie=ml(XS),Tie=ml(ZS),kie=ml(QS),as=dl;(JS&&as(new JS(new ArrayBuffer(1)))!=j_||Rf&&as(new Rf)!=y_||XS&&as(XS.resolve())!=b_||ZS&&as(new ZS)!=x_||QS&&as(new QS)!=v_)&&(as=function(t){var e=dl(t),r=e==Cie?t.constructor:void 0,n=r?ml(r):"";if(n)switch(n){case Nie:return j_;case Sie:return y_;case Aie:return b_;case Tie:return x_;case kie:return v_}return e});var Iie=Object.prototype,Eie=Iie.hasOwnProperty;function Oie(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Eie.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var w_=za.Uint8Array;function iE(t){var e=new t.constructor(t.byteLength);return new w_(e).set(new w_(t)),e}function Pie(t,e){var r=e?iE(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Die=/\w*$/;function _ie(t){var e=new t.constructor(t.source,Die.exec(t));return e.lastIndex=t.lastIndex,e}var C_=Lo?Lo.prototype:void 0,N_=C_?C_.valueOf:void 0;function $ie(t){return N_?Object(N_.call(t)):{}}function Rie(t,e){var r=e?iE(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Mie="[object Boolean]",Lie="[object Date]",Fie="[object Map]",Bie="[object Number]",qie="[object RegExp]",Vie="[object Set]",Uie="[object String]",zie="[object Symbol]",Wie="[object ArrayBuffer]",Hie="[object DataView]",Gie="[object Float32Array]",Yie="[object Float64Array]",Kie="[object Int8Array]",Jie="[object Int16Array]",Xie="[object Int32Array]",Zie="[object Uint8Array]",Qie="[object Uint8ClampedArray]",ele="[object Uint16Array]",tle="[object Uint32Array]";function rle(t,e,r){var n=t.constructor;switch(e){case Wie:return iE(t);case Mie:case Lie:return new n(+t);case Hie:return Pie(t,r);case Gie:case Yie:case Kie:case Jie:case Xie:case Zie:case Qie:case ele:case tle:return Rie(t,r);case Fie:return new n;case Bie:case Uie:return new n(t);case qie:return _ie(t);case Vie:return new n;case zie:return $ie(t)}}var S_=Object.create,nle=function(){function t(){}return function(e){if(!Lm(e))return{};if(S_)return S_(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function ale(t){return typeof t.constructor=="function"&&!nE(t)?nle(tE(t)):{}}var sle="[object Map]";function ole(t){return fl(t)&&as(t)==sle}var A_=Ec&&Ec.isMap,ile=A_?rE(A_):ole,lle="[object Set]";function cle(t){return fl(t)&&as(t)==lle}var T_=Ec&&Ec.isSet,ule=T_?rE(T_):cle,dle=1,fle=2,mle=4,t6="[object Arguments]",hle="[object Array]",ple="[object Boolean]",gle="[object Date]",yle="[object Error]",r6="[object Function]",ble="[object GeneratorFunction]",xle="[object Map]",vle="[object Number]",n6="[object Object]",jle="[object RegExp]",wle="[object Set]",Cle="[object String]",Nle="[object Symbol]",Sle="[object WeakMap]",Ale="[object ArrayBuffer]",Tle="[object DataView]",kle="[object Float32Array]",Ile="[object Float64Array]",Ele="[object Int8Array]",Ole="[object Int16Array]",Ple="[object Int32Array]",Dle="[object Uint8Array]",_le="[object Uint8ClampedArray]",$le="[object Uint16Array]",Rle="[object Uint32Array]",pt={};pt[t6]=pt[hle]=pt[Ale]=pt[Tle]=pt[ple]=pt[gle]=pt[kle]=pt[Ile]=pt[Ele]=pt[Ole]=pt[Ple]=pt[xle]=pt[vle]=pt[n6]=pt[jle]=pt[wle]=pt[Cle]=pt[Nle]=pt[Dle]=pt[_le]=pt[$le]=pt[Rle]=!0;pt[yle]=pt[r6]=pt[Sle]=!1;function $d(t,e,r,n,a,s){var i,l=e&dle,c=e&fle,u=e&mle;if(i!==void 0)return i;if(!Lm(t))return t;var d=Fm(t);if(d){if(i=Oie(t),!l)return Jq(t,i)}else{var f=as(t),m=f==r6||f==ble;if(zq(t))return hie(t,l);if(f==n6||f==t6||m&&!a){if(i=c||m?{}:ale(t),!l)return c?vie(t,fie(i,t)):bie(t,iie(i,t))}else{if(!pt[f])return a?t:{};i=rle(t,f,l)}}s||(s=new iu);var h=s.get(t);if(h)return h;s.set(t,i),ule(t)?t.forEach(function(p){i.add($d(p,e,r,p,t,s))}):ile(t)&&t.forEach(function(p,x){i.set(x,$d(p,e,r,x,t,s))});var g=u?c?wie:jie:c?sE:aE,b=d?void 0:g(t);return foe(b||t,function(p,x){b&&(x=p,p=t[x]),qq(i,x,$d(p,e,r,x,t,s))}),i}var Mle=1,Lle=4;function md(t){return $d(t,Mle|Lle)}var k_=Array.isArray,I_=Object.keys,Fle=Object.prototype.hasOwnProperty,Ble=typeof Element<"u";function eA(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=k_(t),n=k_(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!eA(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=I_(t);if(s=f.length,s!==I_(e).length)return!1;for(a=s;a--!==0;)if(!Fle.call(e,f[a]))return!1;if(Ble&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!eA(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var qle=function(e,r){try{return eA(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Qs=rt(qle);var Vle=4;function E_(t){return $d(t,Vle)}function a6(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Ule="[object Symbol]";function lE(t){return typeof t=="symbol"||fl(t)&&dl(t)==Ule}var zle="Expected a function";function cE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zle);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(cE.Cache||Yo),r}cE.Cache=Yo;var Wle=500;function Hle(t){var e=cE(t,function(n){return r.size===Wle&&r.clear(),n}),r=e.cache;return e}var Gle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yle=/\\(\\)?/g,Kle=Hle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Gle,function(r,n,a,s){e.push(a?s.replace(Yle,"$1"):n||r)}),e});function Jle(t){if(typeof t=="string"||lE(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var O_=Lo?Lo.prototype:void 0,P_=O_?O_.toString:void 0;function s6(t){if(typeof t=="string")return t;if(Fm(t))return a6(t,s6)+"";if(lE(t))return P_?P_.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Xle(t){return t==null?"":s6(t)}function o6(t){return Fm(t)?a6(t,Jle):lE(t)?[t]:Jq(Kle(Xle(t)))}var i6={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br=typeof Symbol=="function"&&Symbol.for,uE=br?Symbol.for("react.element"):60103,dE=br?Symbol.for("react.portal"):60106,j0=br?Symbol.for("react.fragment"):60107,w0=br?Symbol.for("react.strict_mode"):60108,C0=br?Symbol.for("react.profiler"):60114,N0=br?Symbol.for("react.provider"):60109,S0=br?Symbol.for("react.context"):60110,fE=br?Symbol.for("react.async_mode"):60111,A0=br?Symbol.for("react.concurrent_mode"):60111,T0=br?Symbol.for("react.forward_ref"):60112,k0=br?Symbol.for("react.suspense"):60113,Zle=br?Symbol.for("react.suspense_list"):60120,I0=br?Symbol.for("react.memo"):60115,E0=br?Symbol.for("react.lazy"):60116,Qle=br?Symbol.for("react.block"):60121,ece=br?Symbol.for("react.fundamental"):60117,tce=br?Symbol.for("react.responder"):60118,rce=br?Symbol.for("react.scope"):60119;function En(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uE:switch(t=t.type,t){case fE:case A0:case j0:case C0:case w0:case k0:return t;default:switch(t=t&&t.$$typeof,t){case S0:case T0:case E0:case I0:case N0:return t;default:return e}}case dE:return e}}}function l6(t){return En(t)===A0}ct.AsyncMode=fE;ct.ConcurrentMode=A0;ct.ContextConsumer=S0;ct.ContextProvider=N0;ct.Element=uE;ct.ForwardRef=T0;ct.Fragment=j0;ct.Lazy=E0;ct.Memo=I0;ct.Portal=dE;ct.Profiler=C0;ct.StrictMode=w0;ct.Suspense=k0;ct.isAsyncMode=function(t){return l6(t)||En(t)===fE};ct.isConcurrentMode=l6;ct.isContextConsumer=function(t){return En(t)===S0};ct.isContextProvider=function(t){return En(t)===N0};ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uE};ct.isForwardRef=function(t){return En(t)===T0};ct.isFragment=function(t){return En(t)===j0};ct.isLazy=function(t){return En(t)===E0};ct.isMemo=function(t){return En(t)===I0};ct.isPortal=function(t){return En(t)===dE};ct.isProfiler=function(t){return En(t)===C0};ct.isStrictMode=function(t){return En(t)===w0};ct.isSuspense=function(t){return En(t)===k0};ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===j0||t===A0||t===C0||t===w0||t===k0||t===Zle||typeof t=="object"&&t!==null&&(t.$$typeof===E0||t.$$typeof===I0||t.$$typeof===N0||t.$$typeof===S0||t.$$typeof===T0||t.$$typeof===ece||t.$$typeof===tce||t.$$typeof===rce||t.$$typeof===Qle)};ct.typeOf=En;i6.exports=ct;var nce=i6.exports,mE=nce,ace={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sce={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},oce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hE={};hE[mE.ForwardRef]=oce;hE[mE.Memo]=c6;function D_(t){return mE.isMemo(t)?c6:hE[t.$$typeof]||ace}var ice=Object.defineProperty,lce=Object.getOwnPropertyNames,__=Object.getOwnPropertySymbols,cce=Object.getOwnPropertyDescriptor,uce=Object.getPrototypeOf,$_=Object.prototype;function u6(t,e,r){if(typeof e!="string"){if($_){var n=uce(e);n&&n!==$_&&u6(t,n,r)}var a=lce(e);__&&(a=a.concat(__(e)));for(var s=D_(t),i=D_(e),l=0;l<a.length;++l){var c=a[l];if(!sce[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=cce(e,c);try{ice(t,c,u)}catch{}}}}return t}var dce=u6;const fce=rt(dce);function Bt(){return Bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bt.apply(this,arguments)}function mce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function pE(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function R_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var O0=v.createContext(void 0);O0.displayName="FormikContext";var gE=O0.Provider,hce=O0.Consumer;function d6(){var t=v.useContext(O0);return t}var M_=function(e){return Array.isArray(e)&&e.length===0},Hr=function(e){return typeof e=="function"},Bm=function(e){return e!==null&&typeof e=="object"},pce=function(e){return String(Math.floor(Number(e)))===e},z1=function(e){return Object.prototype.toString.call(e)==="[object String]"},f6=function(e){return v.Children.count(e)===0},W1=function(e){return Bm(e)&&Hr(e.then)};function fr(t,e,r,n){n===void 0&&(n=0);for(var a=o6(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function $a(t,e,r){for(var n=E_(t),a=n,s=0,i=o6(e);s<i.length-1;s++){var l=i[s],c=fr(t,i.slice(0,s+1));if(c&&(Bm(c)||Array.isArray(c)))a=a[l]=E_(c);else{var u=i[s+1];a=a[l]=pce(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function m6(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];Bm(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},m6(l,e,r,n[i])):n[i]=e}return n}function gce(t,e){switch(e.type){case"SET_VALUES":return Bt({},t,{values:e.payload});case"SET_TOUCHED":return Bt({},t,{touched:e.payload});case"SET_ERRORS":return Qs(t.errors,e.payload)?t:Bt({},t,{errors:e.payload});case"SET_STATUS":return Bt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Bt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Bt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Bt({},t,{values:$a(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Bt({},t,{touched:$a(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Bt({},t,{errors:$a(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Bt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Bt({},t,{touched:m6(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Bt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Bt({},t,{isSubmitting:!1});default:return t}}var ii={},Uh={};function Qe(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=pE(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Bt({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),h=v.useRef(m.initialValues),g=v.useRef(m.initialErrors||ii),b=v.useRef(m.initialTouched||Uh),p=v.useRef(m.initialStatus),x=v.useRef(!1),y=v.useRef({});v.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var w=v.useState(0),S=w[1],C=v.useRef({values:md(m.initialValues),errors:md(m.initialErrors)||ii,touched:md(m.initialTouched)||Uh,status:md(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=C.current,N=v.useCallback(function(X){var Y=C.current;C.current=gce(Y,X),Y!==C.current&&S(function(de){return de+1})},[]),A=v.useCallback(function(X,Y){return new Promise(function(de,ue){var Ce=m.validate(X,Y);Ce==null?de(ii):W1(Ce)?Ce.then(function(De){de(De||ii)},function(De){ue(De)}):de(Ce)})},[m.validate]),E=v.useCallback(function(X,Y){var de=m.validationSchema,ue=Hr(de)?de(Y):de,Ce=Y&&ue.validateAt?ue.validateAt(Y,X):bce(X,ue);return new Promise(function(De,ze){Ce.then(function(){De(ii)},function(Ft){Ft.name==="ValidationError"?De(yce(Ft)):ze(Ft)})})},[m.validationSchema]),T=v.useCallback(function(X,Y){return new Promise(function(de){return de(y.current[X].validate(Y))})},[]),I=v.useCallback(function(X){var Y=Object.keys(y.current).filter(function(ue){return Hr(y.current[ue].validate)}),de=Y.length>0?Y.map(function(ue){return T(ue,fr(X,ue))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(de).then(function(ue){return ue.reduce(function(Ce,De,ze){return De==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||De&&(Ce=$a(Ce,Y[ze],De)),Ce},{})})},[T]),P=v.useCallback(function(X){return Promise.all([I(X),m.validationSchema?E(X):{},m.validate?A(X):{}]).then(function(Y){var de=Y[0],ue=Y[1],Ce=Y[2],De=KS.all([de,ue,Ce],{arrayMerge:xce});return De})},[m.validate,m.validationSchema,I,A,E]),M=$n(function(X){return X===void 0&&(X=j.values),N({type:"SET_ISVALIDATING",payload:!0}),P(X).then(function(Y){return x.current&&(N({type:"SET_ISVALIDATING",payload:!1}),N({type:"SET_ERRORS",payload:Y})),Y})});v.useEffect(function(){i&&x.current===!0&&Qs(h.current,m.initialValues)&&M(h.current)},[i,M]);var $=v.useCallback(function(X){var Y=X&&X.values?X.values:h.current,de=X&&X.errors?X.errors:g.current?g.current:m.initialErrors||{},ue=X&&X.touched?X.touched:b.current?b.current:m.initialTouched||{},Ce=X&&X.status?X.status:p.current?p.current:m.initialStatus;h.current=Y,g.current=de,b.current=ue,p.current=Ce;var De=function(){N({type:"RESET_FORM",payload:{isSubmitting:!!X&&!!X.isSubmitting,errors:de,touched:ue,status:Ce,values:Y,isValidating:!!X&&!!X.isValidating,submitCount:X&&X.submitCount&&typeof X.submitCount=="number"?X.submitCount:0}})};if(m.onReset){var ze=m.onReset(j.values,me);W1(ze)?ze.then(De):De()}else De()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);v.useEffect(function(){x.current===!0&&!Qs(h.current,m.initialValues)&&u&&(h.current=m.initialValues,$(),i&&M(h.current))},[u,m.initialValues,$,i,M]),v.useEffect(function(){u&&x.current===!0&&!Qs(g.current,m.initialErrors)&&(g.current=m.initialErrors||ii,N({type:"SET_ERRORS",payload:m.initialErrors||ii}))},[u,m.initialErrors]),v.useEffect(function(){u&&x.current===!0&&!Qs(b.current,m.initialTouched)&&(b.current=m.initialTouched||Uh,N({type:"SET_TOUCHED",payload:m.initialTouched||Uh}))},[u,m.initialTouched]),v.useEffect(function(){u&&x.current===!0&&!Qs(p.current,m.initialStatus)&&(p.current=m.initialStatus,N({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var _=$n(function(X){if(y.current[X]&&Hr(y.current[X].validate)){var Y=fr(j.values,X),de=y.current[X].validate(Y);return W1(de)?(N({type:"SET_ISVALIDATING",payload:!0}),de.then(function(ue){return ue}).then(function(ue){N({type:"SET_FIELD_ERROR",payload:{field:X,value:ue}}),N({type:"SET_ISVALIDATING",payload:!1})})):(N({type:"SET_FIELD_ERROR",payload:{field:X,value:de}}),Promise.resolve(de))}else if(m.validationSchema)return N({type:"SET_ISVALIDATING",payload:!0}),E(j.values,X).then(function(ue){return ue}).then(function(ue){N({type:"SET_FIELD_ERROR",payload:{field:X,value:fr(ue,X)}}),N({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=v.useCallback(function(X,Y){var de=Y.validate;y.current[X]={validate:de}},[]),U=v.useCallback(function(X){delete y.current[X]},[]),D=$n(function(X,Y){N({type:"SET_TOUCHED",payload:X});var de=Y===void 0?a:Y;return de?M(j.values):Promise.resolve()}),R=v.useCallback(function(X){N({type:"SET_ERRORS",payload:X})},[]),F=$n(function(X,Y){var de=Hr(X)?X(j.values):X;N({type:"SET_VALUES",payload:de});var ue=Y===void 0?r:Y;return ue?M(de):Promise.resolve()}),H=v.useCallback(function(X,Y){N({type:"SET_FIELD_ERROR",payload:{field:X,value:Y}})},[]),W=$n(function(X,Y,de){N({type:"SET_FIELD_VALUE",payload:{field:X,value:Y}});var ue=de===void 0?r:de;return ue?M($a(j.values,X,Y)):Promise.resolve()}),ee=v.useCallback(function(X,Y){var de=Y,ue=X,Ce;if(!z1(X)){X.persist&&X.persist();var De=X.target?X.target:X.currentTarget,ze=De.type,Ft=De.name,zs=De.id,Ha=De.value,ti=De.checked;De.outerHTML;var Ws=De.options,ri=De.multiple;de=Y||Ft||zs,ue=/number|range/.test(ze)?(Ce=parseFloat(Ha),isNaN(Ce)?"":Ce):/checkbox/.test(ze)?jce(fr(j.values,de),ti,Ha):Ws&&ri?vce(Ws):Ha}de&&W(de,ue)},[W,j.values]),fe=$n(function(X){if(z1(X))return function(Y){return ee(Y,X)};ee(X)}),Te=$n(function(X,Y,de){Y===void 0&&(Y=!0),N({type:"SET_FIELD_TOUCHED",payload:{field:X,value:Y}});var ue=de===void 0?a:de;return ue?M(j.values):Promise.resolve()}),ne=v.useCallback(function(X,Y){X.persist&&X.persist();var de=X.target,ue=de.name,Ce=de.id;de.outerHTML;var De=Y||ue||Ce;Te(De,!0)},[Te]),J=$n(function(X){if(z1(X))return function(Y){return ne(Y,X)};ne(X)}),le=v.useCallback(function(X){Hr(X)?N({type:"SET_FORMIK_STATE",payload:X}):N({type:"SET_FORMIK_STATE",payload:function(){return X}})},[]),Z=v.useCallback(function(X){N({type:"SET_STATUS",payload:X})},[]),te=v.useCallback(function(X){N({type:"SET_ISSUBMITTING",payload:X})},[]),G=$n(function(){return N({type:"SUBMIT_ATTEMPT"}),M().then(function(X){var Y=X instanceof Error,de=!Y&&Object.keys(X).length===0;if(de){var ue;try{if(ue=we(),ue===void 0)return}catch(Ce){throw Ce}return Promise.resolve(ue).then(function(Ce){return x.current&&N({type:"SUBMIT_SUCCESS"}),Ce}).catch(function(Ce){if(x.current)throw N({type:"SUBMIT_FAILURE"}),Ce})}else if(x.current&&(N({type:"SUBMIT_FAILURE"}),Y))throw X})}),z=$n(function(X){X&&X.preventDefault&&Hr(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&Hr(X.stopPropagation)&&X.stopPropagation(),G().catch(function(Y){console.warn("Warning: An unhandled error was caught from submitForm()",Y)})}),me={resetForm:$,validateForm:M,validateField:_,setErrors:R,setFieldError:H,setFieldTouched:Te,setFieldValue:W,setStatus:Z,setSubmitting:te,setTouched:D,setValues:F,setFormikState:le,submitForm:G},we=$n(function(){return d(j.values,me)}),Ie=$n(function(X){X&&X.preventDefault&&Hr(X.preventDefault)&&X.preventDefault(),X&&X.stopPropagation&&Hr(X.stopPropagation)&&X.stopPropagation(),$()}),Ne=v.useCallback(function(X){return{value:fr(j.values,X),error:fr(j.errors,X),touched:!!fr(j.touched,X),initialValue:fr(h.current,X),initialTouched:!!fr(b.current,X),initialError:fr(g.current,X)}},[j.errors,j.touched,j.values]),dr=v.useCallback(function(X){return{setValue:function(de,ue){return W(X,de,ue)},setTouched:function(de,ue){return Te(X,de,ue)},setError:function(de){return H(X,de)}}},[W,Te,H]),On=v.useCallback(function(X){var Y=Bm(X),de=Y?X.name:X,ue=fr(j.values,de),Ce={name:de,value:ue,onChange:fe,onBlur:J};if(Y){var De=X.type,ze=X.value,Ft=X.as,zs=X.multiple;De==="checkbox"?ze===void 0?Ce.checked=!!ue:(Ce.checked=!!(Array.isArray(ue)&&~ue.indexOf(ze)),Ce.value=ze):De==="radio"?(Ce.checked=ue===ze,Ce.value=ze):Ft==="select"&&zs&&(Ce.value=Ce.value||[],Ce.multiple=!0)}return Ce},[J,fe,j.values]),Pn=v.useMemo(function(){return!Qs(h.current,j.values)},[h.current,j.values]),Us=v.useMemo(function(){return typeof l<"u"?Pn?j.errors&&Object.keys(j.errors).length===0:l!==!1&&Hr(l)?l(m):l:j.errors&&Object.keys(j.errors).length===0},[l,Pn,j.errors,m]),Dn=Bt({},j,{initialValues:h.current,initialErrors:g.current,initialTouched:b.current,initialStatus:p.current,handleBlur:J,handleChange:fe,handleReset:Ie,handleSubmit:z,resetForm:$,setErrors:R,setFormikState:le,setFieldTouched:Te,setFieldValue:W,setFieldError:H,setStatus:Z,setSubmitting:te,setTouched:D,setValues:F,submitForm:G,validateForm:M,validateField:_,isValid:Us,dirty:Pn,unregisterField:U,registerField:B,getFieldProps:On,getFieldMeta:Ne,getFieldHelpers:dr,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return Dn}function _e(t){var e=Qe(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return v.useImperativeHandle(s,function(){return e}),v.createElement(gE,{value:e},r?v.createElement(r,e):a?a(e):n?Hr(n)?n(e):f6(n)?null:v.Children.only(n):null)}function yce(t){var e={};if(t.inner){if(t.inner.length===0)return $a(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;fr(e,i.path)||(e=$a(e,i.path,i.message))}}return e}function bce(t,e,r,n){r===void 0&&(r=!1);var a=tA(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function tA(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||o_(a)?tA(a):a!==""?a:void 0}):o_(t[n])?e[n]=tA(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function xce(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?KS(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=KS(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function vce(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function jce(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var wce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;function $n(t){var e=v.useRef(t);return wce(function(){e.current=t}),v.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}var Le=v.forwardRef(function(t,e){var r=t.action,n=pE(t,["action"]),a=r??"#",s=d6(),i=s.handleReset,l=s.handleSubmit;return v.createElement("form",Bt({onSubmit:l,ref:e,onReset:i,action:a},n))});Le.displayName="Form";function Cce(t){var e=function(a){return v.createElement(hce,null,function(s){return v.createElement(t,Bt({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",fce(e,t)}var Nce=function(e,r,n){var a=Zi(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},Sce=function(e,r,n){var a=Zi(e),s=a[r];return a[r]=a[n],a[n]=s,a},H1=function(e,r,n){var a=Zi(e);return a.splice(r,0,n),a},Ace=function(e,r,n){var a=Zi(e);return a[r]=n,a},Zi=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(Bt({},e,{length:r+1}))}else return[]},L_=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||Bm(a)){var s=Zi(a);return n(s)}return a}},h6=function(t){mce(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=L_(l,s),h=L_(i,s),g=$a(f.values,u,s(fr(f.values,u))),b=l?m(fr(f.errors,u)):void 0,p=i?h(fr(f.touched,u)):void 0;return M_(b)&&(b=void 0),M_(p)&&(p=void 0),Bt({},f,{values:g,errors:l?$a(f.errors,u,b):f.errors,touched:i?$a(f.touched,u,p):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(Zi(i),[md(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return Sce(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return Nce(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return H1(l,s,i)},function(l){return H1(l,s,null)},function(l){return H1(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return Ace(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(R_(a)),a.pop=a.pop.bind(R_(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Qs(fr(a.formik.values,a.name),fr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?Zi(i):[];return s||(s=l[a]),Hr(l.splice)&&l.splice(a,1),Hr(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=pE(d,["validate","validationSchema"]),m=Bt({},a,{form:f,name:u});return i?v.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):f6(c)?null:v.Children.only(c):null},e}(v.Component);h6.defaultProps={validateOnChange:!0};var Xr=Cce(h6);function pl(t){this._maxSize=t,this.clear()}pl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};pl.prototype.get=function(t){return this._values[t]};pl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Tce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,p6=/^\d+$/,kce=/^\d/,Ice=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Ece=/^\s*(['"]?)(.*?)(\1)\s*$/,yE=512,F_=new pl(yE),B_=new pl(yE),q_=new pl(yE),Ri={Cache:pl,split:rA,normalizePath:G1,setter:function(t){var e=G1(t);return B_.get(t)||B_.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=G1(t);return q_.get(t)||q_.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(bE(r)||p6.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Oce(Array.isArray(t)?t:rA(t),e,r)}};function G1(t){return F_.get(t)||F_.set(t,rA(t).map(function(e){return e.replace(Ece,"$2")}))}function rA(t){return t.match(Tce)||[""]}function Oce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(_ce(a)&&(a='"'+a+'"'),l=bE(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function bE(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Pce(t){return t.match(kce)&&!t.match(p6)}function Dce(t){return Ice.test(t)}function _ce(t){return!bE(t)&&(Pce(t)||Dce(t))}const $ce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,P0=t=>t.match($ce)||[],D0=t=>t[0].toUpperCase()+t.slice(1),xE=(t,e)=>P0(t).join(e).toLowerCase(),g6=t=>P0(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Rce=t=>D0(g6(t)),Mce=t=>xE(t,"_"),Lce=t=>xE(t,"-"),Fce=t=>D0(xE(t," ")),Bce=t=>P0(t).map(D0).join(" ");var Y1={words:P0,upperFirst:D0,camelCase:g6,pascalCase:Rce,snakeCase:Mce,kebabCase:Lce,sentenceCase:Fce,titleCase:Bce},vE={exports:{}};vE.exports=function(t){return y6(qce(t),t)};vE.exports.array=y6;function y6(t,e){var r=t.length,n=new Array(r),a={},s=r,i=Vce(e),l=Uce(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var h=i.get(u)||new Set;if(h=Array.from(h),d=h.length){f.add(u);do{var g=h[--d];c(g,l.get(g),f)}while(d);f.delete(u)}n[--r]=u}}}function qce(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function Vce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function Uce(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var zce=vE.exports;const Wce=rt(zce),Hce=Object.prototype.toString,Gce=Error.prototype.toString,Yce=RegExp.prototype.toString,Kce=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Jce=/^Symbol\((.*)\)(.*)$/;function Xce(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function V_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Xce(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Kce.call(t).replace(Jce,"Symbol($1)");const n=Hce.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Gce.call(t)+"]":n==="RegExp"?Yce.call(t):null}function gs(t,e){let r=V_(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=V_(this[n],e);return s!==null?s:a},2)}function b6(t){return t==null?[]:[].concat(t)}let x6,v6,j6,Zce=/\$\{\s*(\w+)\s*\}/g;x6=Symbol.toStringTag;class U_{constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[x6]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],b6(e).forEach(s=>{if(Yr.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}v6=Symbol.hasInstance;j6=Symbol.toStringTag;class Yr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(Zce,(a,s)=>gs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new U_(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[j6]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Yr)}static[v6](e){return U_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Aa={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${gs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${gs(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${gs(r,!0)}\``+a}},Wr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Ks={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},nA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},aA={isValue:"${path} field must be ${value}"},qp={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Vp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Qce={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${gs(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${gs(r,!0)}\``}return Yr.formatError(Aa.notType,t)}};Object.assign(Object.create(null),{mixed:Aa,string:Wr,number:Ks,date:nA,object:qp,array:Vp,boolean:aA,tuple:Qce});const _0=t=>t&&t.__isYupSchema__;class Ix{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new Ix(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!_0(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const zh={context:"$",value:"."};function Oc(t,e){return new Ko(t,e)}class Ko{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===zh.context,this.isValue=this.key[0]===zh.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?zh.context:this.isValue?zh.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Ri.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ko.prototype.__isYupRef=!0;const ca=t=>t==null;function Al(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:h}=t;let{parent:g,context:b,abortEarly:p=i.spec.abortEarly,disableStackTrace:x=i.spec.disableStackTrace}=a;function y(I){return Ko.isRef(I)?I.getValue(r,g,b):I}function w(I={}){const P=Object.assign({value:r,originalValue:s,label:i.spec.label,path:I.path||n,spec:i.spec,disableStackTrace:I.disableStackTrace||x},f,I.params);for(const $ of Object.keys(P))P[$]=y(P[$]);const M=new Yr(Yr.formatError(I.message||m,P),r,P.path,I.type||u,P.disableStackTrace);return M.params=P,M}const S=p?l:c;let C={path:n,parent:g,type:u,from:a.from,createError:w,resolve:y,options:a,originalValue:s,schema:i};const j=I=>{Yr.isError(I)?S(I):I?c(null):S(w())},N=I=>{Yr.isError(I)?S(I):l(I)};if(h&&ca(r))return j(!0);let E;try{var T;if(E=d.call(C,r,C),typeof((T=E)==null?void 0:T.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(E).then(j,N)}}catch(I){N(I);return}j(E)}return e.OPTIONS=t,e}function eue(t,e,r,n=r){let a,s,i;return e?(Ri.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class Ex extends Set{describe(){const e=[];for(const r of this.values())e.push(Ko.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new Ex(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function zl(t,e=new Map){if(_0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=zl(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,zl(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(zl(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=zl(a,e)}else throw Error(`Unable to clone ${t}`);return r}class An{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ex,this._blacklist=new Ex,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Aa.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=zl(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&ca(s))return s;let i=gs(e),l=gs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=b=>{a||(a=!0,r(b,i))},f=b=>{a||(a=!0,n(b,i))},m=s.length,h=[];if(!m)return f([]);let g={value:i,originalValue:l,path:c,options:u,schema:this};for(let b=0;b<s.length;b++){const p=s[b];p(g,d,function(y){y&&(Array.isArray(y)?h.push(...y):h.push(y)),--m<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,h)=>this.resolve(d)._validate(u,d,m,h)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{Yr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Yr(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Yr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Yr(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Yr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Yr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):zl(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=Al({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=Al({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Aa.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Aa.notNull){return this.nullability(!1,e)}required(e=Aa.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Aa.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=Al(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=b6(e).map(s=>new Ko(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new Ix(a,r):Ix.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=Al({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Aa.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=Al({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=Aa.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=Al({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(f=>f.name===c.name)===u)}}}An.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])An.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=eue(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])An.prototype[t]=An.prototype.oneOf;for(const t of["not","nope"])An.prototype[t]=An.prototype.notOneOf;function Qi(){return new w6}class w6 extends An{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=aA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return ca(r)||r===!0}})}isFalse(e=aA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return ca(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Qi.prototype=w6.prototype;const tue=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function rue(t){const e=sA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function sA(t){var e,r;const n=tue.exec(t);return n?{year:Ka(n[1]),month:Ka(n[2],1)-1,day:Ka(n[3],1),hour:Ka(n[4]),minute:Ka(n[5]),second:Ka(n[6]),millisecond:n[7]?Ka(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Ka(n[10]),minuteOffset:Ka(n[11])}:null}function Ka(t,e=0){return Number(t)||e}let nue=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,aue=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,sue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,oue="^\\d{4}-\\d{2}-\\d{2}",iue="\\d{2}:\\d{2}:\\d{2}",lue="(([+-]\\d{2}(:?\\d{2})?)|Z)",cue=new RegExp(`${oue}T${iue}(\\.\\d+)?${lue}$`),uue=t=>ca(t)||t===t.trim(),due={}.toString();function O(){return new C6}class C6 extends An{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===due?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Aa.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Wr.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Wr.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Wr.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||Wr.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=Wr.email){return this.matches(nue,{name:"email",message:e,excludeEmptyString:!0})}url(e=Wr.url){return this.matches(aue,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Wr.uuid){return this.matches(sue,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(cue,{name:"datetime",message:r||Wr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Wr.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=sA(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||Wr.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=sA(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Wr.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:uue})}lowercase(e=Wr.lowercase){return this.transform(r=>ca(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ca(r)||r===r.toLowerCase()})}uppercase(e=Wr.uppercase){return this.transform(r=>ca(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>ca(r)||r===r.toUpperCase()})}}O.prototype=C6.prototype;let fue=t=>t!=+t;function K(){return new N6}class N6 extends An{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!fue(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=Ks.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Ks.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Ks.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Ks.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Ks.positive){return this.moreThan(0,e)}negative(e=Ks.negative){return this.lessThan(0,e)}integer(e=Ks.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>ca(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>ca(a)?a:Math[e](a))}}K.prototype=N6.prototype;let S6=new Date(""),mue=t=>Object.prototype.toString.call(t)==="[object Date]";function Re(){return new qm}class qm extends An{constructor(){super({type:"date",check(e){return mue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=rue(e),isNaN(e)?qm.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Ko.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=nA.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=nA.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}qm.INVALID_DATE=S6;Re.prototype=qm.prototype;Re.INVALID_DATE=S6;function hue(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=Ri.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),Ko.isRef(l)&&l.isSibling?s(l.path,i):_0(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return Wce.array(Array.from(n),r).reverse()}function z_(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function A6(t){return(e,r)=>z_(t,e)-z_(t,r)}const T6=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Up(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Up(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Up(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Up)}):"optional"in t?t.optional():t}const pue=(t,e)=>{const r=[...Ri.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=Ri.getter(Ri.join(r),!0)(t);return!!(a&&n in a)};let W_=t=>Object.prototype.toString.call(t)==="[object Object]";function H_(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const gue=A6([]);function ie(t){return new k6(t)}class k6 extends An{constructor(e){super({type:"object",check(r){return W_(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=gue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],h=f in a;if(m){let g,b=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:b,context:r.context,parent:c});let p=m instanceof An?m.spec:void 0,x=p==null?void 0:p.strict;if(p!=null&&p.strip){d=d||f in a;continue}g=!r.__validating||!x?m.cast(a[f],u):a[f],g!==void 0&&(c[f]=g)}else h&&!i&&(c[f]=a[f]);(h!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!W_(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Ko.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=hue(e,r),n._sortErrors=A6(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Up(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=Ri.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return pue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(T6)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||qp.exact,test(r){if(r==null)return!0;const n=H_(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=qp.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=H_(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=qp.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(Y1.camelCase)}snakeCase(){return this.transformKeys(Y1.snakeCase)}constantCase(){return this.transformKeys(e=>Y1.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}ie.prototype=k6.prototype;function Tr(t){return new I6(t)}class I6 extends An{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let h=0;h<u.length;h++){var m;f[h]=i.asNestedTest({options:r,index:h,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,h=>a(h.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(T6)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!_0(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+gs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=Vp.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||Vp.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||Vp.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}Tr.prototype=I6.prototype;function yue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const bue=v.forwardRef(yue);function xue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const vue=v.forwardRef(xue);function jue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const wue=v.forwardRef(jue);function Cue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const Nue=v.forwardRef(Cue);function Sue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),v.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Aue=v.forwardRef(Sue);function Tue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const kue=v.forwardRef(Tue);function Iue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const Eue=v.forwardRef(Iue);function Oue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Pue=v.forwardRef(Oue);function Due({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const _ue=v.forwardRef(Due);function ge({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,emptyMessage:l="No data available"}){const[c,u]=v.useState(1),[d,f]=v.useState(10),[m,h]=v.useState(""),[g,b]=v.useState({key:null,direction:"asc"}),p=Array.isArray(e)?e:[],y=[...p.filter(E=>Object.values(E).some(T=>T!=null&&T.toString().toLowerCase().includes(m.toLowerCase())))].sort((E,T)=>{if(!g.key)return 0;const I=E[g.key],P=T[g.key];return I==null?1:P==null?-1:typeof I=="string"&&typeof P=="string"?g.direction==="asc"?I.localeCompare(P):P.localeCompare(I):g.direction==="asc"?I-P:P-I}),w=Math.ceil(y.length/d),S=y.slice((c-1)*d,c*d),C=E=>{let T="asc";g.key===E&&g.direction==="asc"&&(T="desc"),b({key:E,direction:T})},j=E=>{u(E)},N=E=>{f(Number(E.target.value)),u(1)},A=E=>{h(E.target.value),u(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):p.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(kue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:m,onChange:A})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(E=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>E.sortable!==!1&&C(E.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:E.header}),E.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx(wue,{className:`h-3 w-3 ${g.key===E.key&&g.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(vue,{className:`h-3 w-3 -mt-1 ${g.key===E.key&&g.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},E.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:S.map((E,T)=>o.jsxs("tr",{className:i?"hover:bg-neutral-50 cursor-pointer":"",onClick:i?()=>i(E):void 0,children:[t.map(I=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${I.className||"text-neutral-500"}`,children:I.render?I.render(E[I.key],E):E[I.key]},`${E.id||T}-${I.key}`)),typeof a=="function"?(()=>{const I=a(E);return(I==null?void 0:I.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:I.map((P,M)=>o.jsx("button",{onClick:$=>{$.stopPropagation(),P.onClick(E)},className:P.className||"text-primary-600 hover:text-primary-900",title:P.title,children:P.icon?o.jsx(P.icon,{className:"h-5 w-5","aria-hidden":"true"}):P.label},M))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((I,P)=>o.jsx("button",{onClick:M=>{M.stopPropagation(),I.onClick(E)},className:I.className||"text-primary-600 hover:text-primary-900",title:I.title,children:I.icon?o.jsx(I.icon,{className:"h-5 w-5","aria-hidden":"true"}):I.label},P))})]},E.id||T))})]})}),r&&w>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((c-1)*d+1,y.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(c*d,y.length)})," ","of ",o.jsx("span",{className:"font-medium",children:y.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:d,onChange:N,children:[5,10,25,50].map(E=>o.jsx("option",{value:E,children:E},E))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>j(c-1),disabled:c===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx($ue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>j(c+1),disabled:c===w,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Rue,{className:"h-5 w-5"})})]})]})]})]})}function $ue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function Rue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function k({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:h,helperText:g,...b}){const p=m&&h,x=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:b.rows||3,className:$e("form-textarea border border-gray-300 px-4 py-2",p&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:y=>{const w=Array.from(y.target.selectedOptions).map(S=>S.value);d({target:{name:e,value:w}})},onBlur:f,className:$e("form-select border border-gray-300 px-4 py-2 h-auto",p&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:c.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:$e("form-select border border-gray-300 px-4 py-2 ",p&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b,children:[o.jsx("option",{value:"",children:b.defaultOption||"Select"}),c.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:$e("form-checkbox",p&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(y=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${y.value}`,name:e,type:"radio",value:y.value,disabled:s,checked:u===y.value,onChange:d,onBlur:f,className:$e("form-radio ",p&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...b}),o.jsx("label",{htmlFor:`${e}-${y.value}`,className:"ml-2 block text-sm text-neutral-700",children:y.label})]},y.value))});case"date":case"number":case"email":case"password":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:$e("form-input border border-gray-300 px-4 py-2",p&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...b})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),x(),p?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):g?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:g}):null]})}function ae({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(Op.Root,{show:t,as:v.Fragment,children:o.jsx(S1,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[o.jsx(Op.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(S1.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(Op.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(S1.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(o3,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const $0="https://staging-engine.testthelink.online",Mue=[],Lue={departments:Mue,department:null,isLoading:!1,error:null},tr=L("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$0}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),zp=L("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${$0}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Wp=L("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${$0}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hp=L("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${$0}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),E6=ye({name:"departments",initialState:Lue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(tr.pending,e=>{e.isLoading=!0}).addCase(tr.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(tr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(zp.pending,e=>{e.isLoading=!0}).addCase(zp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wp.pending,e=>{e.isLoading=!0}).addCase(Wp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(Wp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Hp.pending,e=>{e.isLoading=!0}).addCase(Hp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Hp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:g8e,resetDepartmentState:y8e}=E6.actions,Fue=E6.reducer;function Bue(){const t=se(),{departments:e,isLoading:r,error:n}=q(S=>S.departments),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(tr())},[t]);const m=ie().shape({Code:O().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(S){return S?!e.some(j=>j.Code.trim().toLowerCase()===S.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0}),Name:O().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(S){return S?!e.some(j=>j.Name.trim().toLowerCase()===S.trim().toLowerCase()&&(!i||j.ID!==i.ID)):!0})}),h=()=>{l(null),s(!0)},g=S=>{l(S),s(!0)},b=S=>{f(S),u(!0)},p=()=>{d&&(t(Hp(d.ID)),u(!1),f(null))},x=(S,{resetForm:C})=>{t(i?Wp({...S,ID:i.ID}):zp(S)),s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],w=[{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:w,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Department":"Add Department",children:o.jsx(_e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:m,onSubmit:x,children:({values:S,errors:C,touched:j,handleChange:N,handleBlur:A,isSubmitting:E})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:S.Code,onChange:N,onBlur:A,error:C.Code,touched:j.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:S.Name,onChange:N,onBlur:A,error:C.Name,touched:j.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const R0="https://staging-engine.testthelink.online",que=[],Vue={currencies:que,currency:null,isLoading:!1,error:null},Rd=L("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${R0}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gp=L("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${R0}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Yp=L("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${R0}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Kp=L("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${R0}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),O6=ye({name:"currencies",initialState:Vue,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(Rd.pending,e=>{e.isLoading=!0}).addCase(Rd.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(Rd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gp.pending,e=>{e.isLoading=!0}).addCase(Gp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(Gp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Yp.pending,e=>{e.isLoading=!0}).addCase(Yp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(Yp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Kp.pending,e=>{e.isLoading=!0}).addCase(Kp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Kp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:b8e,resetCurrencyState:x8e}=O6.actions,Uue=O6.reducer,zue=ie().shape({Code:O().required("Code is required").max(10,"Code must be at most 10 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters")});function Wue(){const t=se(),{currencies:e,isLoading:r,error:n}=q(w=>w.currencies),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Rd())},[t]);const m=()=>{l(null),s(!0)},h=w=>{l(w),s(!0)},g=w=>{f(w),u(!0)},b=()=>{d&&(t(Kp(d.ID)),u(!1),f(null))},p=(w,{resetForm:S})=>{t(i?Yp({...w,ID:i.ID}):Gp(w)),s(!1),S()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],y=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:y,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Currency":"Add Currency",children:o.jsx(_e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:zue,onSubmit:p,children:({values:w,errors:S,touched:C,handleChange:j,handleBlur:N,isSubmitting:A})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:w.Code,onChange:j,onBlur:N,error:S.Code,touched:C.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:w.Name,onChange:j,onBlur:N,error:S.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:A,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const M0="https://staging-engine.testthelink.online",Hue=[],Gue={subdepartments:Hue,subdepartment:null,isLoading:!1,error:null},No=L("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${M0}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),Jp=L("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${M0}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),Xp=L("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${M0}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),Zp=L("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${M0}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),P6=ye({name:"subdepartments",initialState:Gue,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(No.pending,e=>{e.isLoading=!0}).addCase(No.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(No.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jp.pending,e=>{e.isLoading=!0}).addCase(Jp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(Jp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xp.pending,e=>{e.isLoading=!0}).addCase(Xp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(Xp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zp.pending,e=>{e.isLoading=!0}).addCase(Zp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:v8e,resetSubdepartmentState:j8e}=P6.actions,Yue=P6.reducer;function Kue(){const t=se(),{subdepartments:e,isLoading:r}=q(C=>C.subdepartments||{}),{departments:n}=q(C=>C.departments),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(No()),t(tr())},[t]);const m=ie().shape({Code:O().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(A=>A.Code.trim().toLowerCase()===j&&A.DepartmentID===this.parent.DepartmentID&&(!i||A.ID!==i.ID)))}),Name:O().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(C){if(!C||!this.parent.DepartmentID)return!0;const j=C.trim().toLowerCase();return!(e==null?void 0:e.some(A=>A.Name.trim().toLowerCase()===j&&A.DepartmentID===this.parent.DepartmentID&&(!i||A.ID!==i.ID)))}),DepartmentID:K().required("Department is required")}),h=e.map(C=>{var j;return{...C,departmentName:((j=n.find(N=>N.ID===C.DepartmentID))==null?void 0:j.Name)||"N/A"}}),g=()=>{l(null),s(!0)},b=C=>{l(C),s(!0)},p=C=>{f(C),u(!0)},x=()=>{d&&(t(Zp(d.ID)),u(!1),f(null))},y=(C,{resetForm:j})=>{var E;const N=((E=n.find(T=>T.ID===Number(C.DepartmentID)))==null?void 0:E.Name)||"",A={...C,departmentName:N};t(i?Xp({...A,ID:i.ID}):Jp(A)),s(!1),j()},w=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],S=[{icon:Ae,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:w,data:h,actions:S,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Subdepartment":"Add Subdepartment",children:o.jsx(_e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",DepartmentID:(i==null?void 0:i.DepartmentID)||""},validationSchema:m,onSubmit:y,children:({values:C,errors:j,touched:N,handleChange:A,handleBlur:E,isSubmitting:T})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:C.Code,onChange:A,onBlur:E,error:j.Code,touched:N.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:C.Name,onChange:A,onBlur:E,error:j.Name,touched:N.Name}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Department",name:"DepartmentID",type:"select",required:!0,value:C.DepartmentID,onChange:A,onBlur:E,error:j.DepartmentID,touched:N.DepartmentID,options:n.map(I=>({value:I.ID,label:I.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const L0="https://staging-engine.testthelink.online",Jue=[],Xue={users:Jue,user:null,isLoading:!1,error:null},Qp=L("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${L0}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),nc=L("users/addUser",async(t,e)=>{try{const r=await fetch(`${L0}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),ac=L("users/updateUser",async(t,e)=>{try{const r=await fetch(`${L0}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),eg=L("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${L0}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),D6=ye({name:"users",initialState:Xue,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Qp.pending,e=>{e.isLoading=!0}).addCase(Qp.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(Qp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(nc.pending,e=>{e.isLoading=!0}).addCase(nc.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ac.pending,e=>{e.isLoading=!0}).addCase(ac.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(ac.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eg.pending,e=>{e.isLoading=!0}).addCase(eg.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:w8e,resetUserState:C8e}=D6.actions,Zue=D6.reducer,F0="https://staging-engine.testthelink.online",Que=[],ede={employees:Que,employee:null,isLoading:!1,error:null},nn=L("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${F0}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),tg=L("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${F0}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),rg=L("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${F0}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ng=L("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${F0}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_6=ye({name:"employees",initialState:ede,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(nn.pending,e=>{e.isLoading=!0}).addCase(nn.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(nn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(tg.pending,e=>{e.isLoading=!0}).addCase(tg.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rg.pending,e=>{e.isLoading=!0}).addCase(rg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ng.pending,e=>{e.isLoading=!0}).addCase(ng.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:N8e,resetEmployeeState:S8e}=_6.actions,tde=_6.reducer,B0="https://staging-engine.testthelink.online",rde=[],sc=L("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${B0}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ag=L("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${B0}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),oA=L("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${B0}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),sg=L("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${B0}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),nde=ye({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(sc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sc.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(sc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=rde}).addCase(ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ag.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(oA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),ade=nde.reducer,sde=ie().shape({UserName:O().required("User name is required"),UserAccessID:O().required("User Access is required"),Password:O().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:O().oneOf([Oc("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:O().required("Choose Employee is required")});function ode(){const t=se(),{users:e,isLoading:r}=q(M=>M.users),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,g]=v.useState(null),{userroles:b,isLoading:p}=q(M=>M.userroles),x=b.map(M=>({value:M.ID,label:M.Description})),{employees:y,isLoading:w}=q(M=>M.employees),S=y.map(M=>({value:M.ID,label:`${M.FirstName} ${M.LastName}`}));v.useEffect(()=>{t(Qp()),t(nn()),t(sc())},[t]);const C=()=>{i(null),a(!0)},j=M=>{i(M),a(!0)},N=M=>{d(M),c(!0)},A=()=>{u&&(t(eg(u.ID)),c(!1),d(null))},E=async(M,{resetForm:$,setErrors:_,setSubmitting:B})=>{const U={...M};try{if(s){const D=await t(ac({...U,ID:s.ID})).unwrap();ac.fulfilled.match(D)?(a(!1),$()):ac.rejected.match(D)&&_({general:D.payload||"Failed to update user."})}else{const D=await t(nc(U)).unwrap();nc.fulfilled.match(D)?(a(!1),$()):nc.rejected.match(D)&&_({general:D.payload||"Failed to add user."})}}catch(D){console.log(D),_({general:"Unexpected error occurred."})}finally{B(!1)}},T=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0}],I=[{icon:Ae,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:N,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],P=e.map(M=>{var $;return{...M,UserAccessValue:($=b.find(_=>_.ID===M.UserAccessID))==null?void 0:$.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),o.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:T,data:P,actions:I,loading:r||p||w})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User":"Add User",children:o.jsx(_e,{initialValues:{UserName:(s==null?void 0:s.UserName)||"",UserAccessID:(s==null?void 0:s.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(s==null?void 0:s.EmployeeID)||""},validationSchema:sde,onSubmit:E,children:({values:M,errors:$,touched:_,handleChange:B,handleBlur:U,isSubmitting:D})=>o.jsxs(Le,{className:"space-y-4",children:[$.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:$.general}),o.jsx(k,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:M.UserName,onChange:B,onBlur:U,error:$.UserName,touched:_.UserName}),o.jsx(k,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:M.UserAccessID,onChange:B,onBlur:U,error:$.UserAccessID,touched:_.UserAccessID,options:x}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:M.Password,onChange:B,onBlur:U,error:$.Password,touched:_.Password}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:M.ConfirmPassword,onChange:B,onBlur:U,error:$.ConfirmPassword,touched:_.ConfirmPassword}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:M.EmployeeID,onChange:B,onBlur:U,error:$.EmployeeID,touched:_.EmployeeID,options:S}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:D,className:"btn btn-primary",children:D?"Saving...":s?"Update":"Save"})]})]})})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:A,className:"btn btn-danger",children:"Delete"})]})]})]})}const q0="https://staging-engine.testthelink.online",ide=[],lde={accounts:ide,account:null,isLoading:!1,error:null},kr=L("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${q0}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),og=L("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${q0}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ig=L("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${q0}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),lg=L("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${q0}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$6=ye({name:"chartOfAccounts",initialState:lde,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(kr.pending,e=>{e.isLoading=!0}).addCase(kr.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(kr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(og.pending,e=>{e.isLoading=!0}).addCase(og.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ig.pending,e=>{e.isLoading=!0}).addCase(ig.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:A8e,resetAccountState:T8e}=$6.actions,cde=$6.reducer,V0="https://staging-engine.testthelink.online",ude=[],dde={accountGroups:ude,accountGroup:null,isLoading:!1,error:null},oc=L("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${V0}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cg=L("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${V0}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ug=L("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${V0}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),dg=L("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${V0}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),R6=ye({name:"accountGroups",initialState:dde,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(oc.pending,e=>{e.isLoading=!0}).addCase(oc.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(oc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(dg.pending,e=>{e.isLoading=!0}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:k8e,resetAccountGroupState:I8e}=R6.actions,fde=R6.reducer,U0="https://staging-engine.testthelink.online",mde=[],hde={majorAccountGroups:mde,majorAccountGroup:null,isLoading:!1,error:null},Mi=L("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${U0}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),fg=L("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${U0}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),mg=L("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${U0}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),hg=L("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${U0}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),M6=ye({name:"majorAccountGroups",initialState:hde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Mi.pending,e=>{e.isLoading=!0}).addCase(Mi.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(Mi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fg.pending,e=>{e.isLoading=!0}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mg.pending,e=>{e.isLoading=!0}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hg.pending,e=>{e.isLoading=!0}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:E8e,resetMajorAccountGroupState:O8e}=M6.actions,pde=M6.reducer,z0="https://staging-engine.testthelink.online",gde=[],yde={subMajorAccountGroups:gde,subMajorAccountGroup:null,isLoading:!1,error:null},Md=L("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${z0}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),pg=L("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${z0}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),gg=L("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${z0}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),yg=L("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${z0}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),L6=ye({name:"subMajorAccountGroups",initialState:yde,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(Md.pending,e=>{e.isLoading=!0}).addCase(Md.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(Md.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(pg.pending,e=>{e.isLoading=!0}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gg.pending,e=>{e.isLoading=!0}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yg.pending,e=>{e.isLoading=!0}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:P8e,resetSubMajorAccountGroupState:D8e}=L6.actions,bde=L6.reducer;var F6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G_=V.createContext&&V.createContext(F6),xde=["attr","size","title"];function vde(t,e){if(t==null)return{};var r=jde(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ox(){return Ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ox.apply(this,arguments)}function Y_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Px(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(r),!0).forEach(function(n){wde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wde(t,e,r){return e=Cde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cde(t){var e=Nde(t,"string");return typeof e=="symbol"?e:e+""}function Nde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B6(t){return t&&t.map((e,r)=>V.createElement(e.tag,Px({key:r},e.attr),B6(e.child)))}function jE(t){return e=>V.createElement(Sde,Ox({attr:Px({},t.attr)},e),B6(t.child))}function Sde(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=vde(t,xde),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),V.createElement("svg",Ox({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Px(Px({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&V.createElement("title",null,s),t.children)};return G_!==void 0?V.createElement(G_.Consumer,null,r=>e(r)):e(F6)}function Ade(t){return jE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Tde(t){return jE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function kde(t){return jE({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Xt=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=v.useState(""),d=c===""?t:t.filter(m=>m.label.toLowerCase().includes(c.toLowerCase())),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full max-w-xs",children:o.jsx(wl,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs(wl.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left shadow-sm sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx(wl.Input,{className:"w-full py-2.5 pl-3 pr-10 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:h=>{var g;return((g=t.find(b=>b.value===h))==null?void 0:g.label)||""},onChange:h=>u(h.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(kde,{className:"h-4 w-4"})}),o.jsx(wl.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(Ade,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx(wl.Options,{className:"absolute z-50 mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(h=>o.jsx(wl.Option,{className:({active:g,selected:b})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${g?"bg-blue-50 text-blue-700":""}
                         ${b?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:h.value,children:o.jsx("span",{children:h.label})},h.value))})]})]})})})},Ide=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{var i,l;const{values:n,setFieldValue:a}=d6(),s=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return v.useEffect(()=>{if(n.AccountTypeID||n.AccountSubTypeID||n.AccountCategoryID||n.Code){const c=s(n.AccountTypeID,t),u=s(n.AccountSubTypeID,e),d=s(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(k,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:(i=n.errors)==null?void 0:i.AccountCode,touched:(l=n.touched)==null?void 0:l.AccountCode})},Ede=ie().shape({AccountCode:O().required("Account no is required").max(20,"Account no must be at most 20 characters"),Code:O().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:O().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:O().max(250,"Description must be at most 250 characters"),AccountTypeID:O().required("Account group is required"),AccountSubTypeID:O().required("Major account group is required"),AccountCategoryID:O().required("Sub Major account group is required"),NormalBalance:O().required("Normal balance is required")});function Ode({initialData:t,onClose:e}){const r=se(),{accountGroups:n}=q(d=>d.accountGroups),{majorAccountGroups:a}=q(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=q(d=>d.subMajorAccountGroups),[i,l]=v.useState(!1);v.useEffect(()=>{r(oc()),r(Mi()),r(Md())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=d=>{l(!0);const f=t?ig({...d,ID:t.ID}):og(d);r(f).unwrap().then(()=>{e()}).catch(m=>{console.error("Error submitting account:",m)}).finally(()=>{l(!1)})};return o.jsx(_e,{initialValues:c,validationSchema:Ede,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isValid:b,setFieldValue:p})=>{var x;return o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(Ide,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:h,onBlur:g,error:f.Code,touched:m.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:h,onBlur:g,error:f.Name,touched:m.Name}),o.jsx(Xt,{label:"Account Group",options:n.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Account Group",onSelect:y=>{p("AccountTypeID",y||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx(Xt,{label:"Major Account Group",options:a.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Major Account Group",onSelect:y=>{p("AccountSubTypeID",y||"")},selectedValue:((x=a.find(y=>y.ID===d.AccountSubTypeID))==null?void 0:x.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx(Xt,{label:"Sub Major Account Group",options:s.map(y=>({label:`${y.Name} (${y.Code})`,value:y.ID})),placeholder:"Select Sub Major Account Group",onSelect:y=>{p("AccountCategoryID",y||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:h,onBlur:g,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(k,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:h,onBlur:g,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!b,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),K_=t=>{const e=Dde(t);return e.charAt(0).toUpperCase()+e.slice(1)},q6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),_de=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $de={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>v.createElement("svg",{ref:c,...$de,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:q6("lucide",a),...!s&&!_de(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>v.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=(t,e)=>{const r=v.forwardRef(({className:n,...a},s)=>v.createElement(Rde,{ref:s,iconNode:e,className:q6(`lucide-${Pde(K_(t))}`,`lucide-${t}`,n),...a}));return r.displayName=K_(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],V6=cr("building",Mde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wE=cr("calendar",Lde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],Bde=cr("circle-arrow-left",Fde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],U6=cr("credit-card",qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ude=cr("eye-off",Vde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z6=cr("eye",zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hde=cr("file-text",Wde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yde=cr("map-pin",Gde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],el=cr("paperclip",Kde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ba=cr("pencil",Jde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],W0=cr("plus",Xde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],J_=cr("printer",Zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],efe=cr("save",Qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rfe=cr("square-pen",tfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],gr=cr("trash-2",nfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Jn=cr("trash",afe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],H0=cr("user",sfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CE=cr("users",ofe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lfe=cr("x",ife);function cfe(){const t=se(),{accounts:e,isLoading:r}=q(y=>y.chartOfAccounts),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(kr())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(lg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete account:",y)}},b=()=>{a(!1),i(null)},p=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r})}),o.jsx(ae,{isOpen:n,onClose:b,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(Ode,{initialData:s,onClose:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const ufe=ie().shape({Code:O().required("Code is required").max(10,"Code must be at most 10 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters")});function dfe(){const t=se(),{accountGroups:e,isLoading:r,error:n}=q(w=>w.accountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(oc())},[t]);const m=()=>{l(null),s(!0)},h=w=>{l(w),s(!0)},g=w=>{f(w),u(!0)},b=()=>{d&&(t(dg(d.ID)),u(!1),f(null))},p=(w,{resetForm:S})=>{t(i?ug({...w,ID:i.ID}):cg(w)),s(!1),S()},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],y=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x,data:e,actions:y,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Type":"Add Account Type",children:o.jsx(_e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:ufe,onSubmit:p,children:({values:w,errors:S,touched:C,handleChange:j,handleBlur:N,isSubmitting:A})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:w.Code,onChange:j,onBlur:N,error:S.Code,touched:C.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:w.Name,onChange:j,onBlur:N,error:S.Name,touched:C.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:A,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const ffe=ie().shape({Code:O().required("Code is required").max(15,"Code must be at most 15 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:K().required("Account Type is required")});function mfe(){const t=se(),{majorAccountGroups:e,isLoading:r}=q(S=>S.majorAccountGroups),{accountGroups:n}=q(S=>S.accountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Mi()),t(oc())},[t]);const m=e.map(S=>{const C=n.find(j=>j.ID===S.AccountTypeID);return{...S,accountTypeName:C?C.Name:"N/A"}}),h=()=>{l(null),s(!0)},g=S=>{l(S),s(!0)},b=S=>{f(S),u(!0)},p=()=>{d&&(t(hg(d.ID)),u(!1),f(null))},x=async(S,{resetForm:C})=>{var A;const j=((A=n.find(E=>E.ID===Number(S.AccountTypeID)))==null?void 0:A.Name)||"",N={...S,accountTypeName:j};i?await t(mg({...N,ID:i.ID})).unwrap():await t(fg(N)).unwrap(),Mi(),s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],w=[{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:m,actions:w,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx(_e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:ffe,onSubmit:x,children:({values:S,errors:C,touched:j,handleChange:N,handleBlur:A,isSubmitting:E})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:N,onBlur:A,error:C.Code,touched:j.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:N,onBlur:A,error:C.Name,touched:j.Name}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:S.AccountTypeID,onChange:N,onBlur:A,error:C.AccountTypeID,touched:j.AccountTypeID,options:n.map(T=>({value:T.ID,label:T.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const hfe=ie().shape({Code:O().required("Code is required").max(15,"Code must be at most 15 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:K().required("Account Sub Type is required")});function pfe(){const t=se(),{subMajorAccountGroups:e,isLoading:r}=q(S=>S.subMajorAccountGroups),{majorAccountGroups:n}=q(S=>S.majorAccountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Md()),t(Mi())},[t]);const m=e.map(S=>{const C=n.find(j=>j.ID===S.AccountSubTypeID);return{...S,accountSubTypeName:C?C.Name:"N/A"}}),h=()=>{l(null),s(!0)},g=S=>{l(S),s(!0)},b=S=>{f(S),u(!0)},p=()=>{d&&(t(yg(d.ID)),u(!1),f(null))},x=(S,{resetForm:C})=>{var A;const j=((A=n.find(E=>E.ID===Number(S.AccountSubTypeID)))==null?void 0:A.Name)||"",N={...S,accountSubTypeName:j};t(i?gg({...N,ID:i.ID}):pg(N)),s(!1),C()},y=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Type",sortable:!0}],w=[{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:m,actions:w,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Category":"Add Account Category",children:o.jsx(_e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:hfe,onSubmit:x,children:({values:S,errors:C,touched:j,handleChange:N,handleBlur:A,isSubmitting:E})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:S.Code,onChange:N,onBlur:A,error:C.Code,touched:j.Code}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:S.Name,onChange:N,onBlur:A,error:C.Name,touched:j.Name}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:S.AccountSubTypeID,onChange:N,onBlur:A,error:C.AccountSubTypeID,touched:j.AccountSubTypeID,options:n.map(T=>({value:T.ID,label:T.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}function gfe({initialData:t,onSubmit:e,onClose:r,provinces:n=[],municipalities:a=[],barangays:s=[],regionOptions:i=[],provinceOptions:l=[],municipalityOptions:c=[],barangayOptions:u=[],industryOptions:d=[],taxCodeOptions:f=[],vendorTypeOptions:m=[],paymentTermsOptions:h=[],modeOfPaymentOptions:g=[]}){const b=ie({Code:O().required("Code is required"),TIN:O().required("TIN is required"),Name:O().required("Name is required"),PhoneNumber:O(),MobileNumber:O().required("Mobile number is required"),EmailAddress:O().email("Invalid email").required("Email is required"),Website:O(),RegionID:O().required("Region is required"),ProvinceID:O().required("Province is required"),MunicipalityID:O().required("Municipality is required"),BarangayID:O().required("Barangay is required"),StreetAddress:O().required("Street address is required"),ZIPCode:O().required("Zip code is required"),TypeID:O().required("Vendor type is required"),RDO:O().required("Revenue District Office is required"),IndustryTypeID:O().required("Industry is required"),TaxCodeID:O().required("Tax code is required"),PaymentTermsID:O().required("Payment terms are required"),Vatable:Qi(),PaymentMethodID:O().required("Mode of payment is required"),ContactPerson:O().required("Contact person is required"),DeliveryLeadTime:K().required("Delivery lead time is required").typeError("Must be a number")}),p=Qe({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:b,onSubmit:N=>{e(N)}}),{values:x,handleChange:y,handleBlur:w,errors:S,touched:C,setFieldValue:j}=p;return v.useEffect(()=>{const N=s.find(A=>A.ID.toString()===x.BarangayID);N&&(N.MunicipalityCode&&j("MunicipalityID",N.MunicipalityCode),N.ProvinceCode&&j("ProvinceID",N.ProvinceCode),N.RegionCode&&j("RegionID",N.RegionCode))},[x.BarangayID]),v.useEffect(()=>{const N=a.find(A=>A.ID.toString()===x.MunicipalityID);N&&(N.ProvinceCode&&j("ProvinceID",N.ProvinceCode),N.RegionCode&&j("RegionID",N.RegionCode))},[x.MunicipalityID]),v.useEffect(()=>{const N=n.find(A=>A.ID.toString()===x.ProvinceID);N&&N.RegionCode&&j("RegionID",N.RegionCode)},[x.ProvinceID]),o.jsxs("form",{onSubmit:p.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:x.Code,onChange:y,onBlur:w,error:S.Code,touched:C.Code,required:!0}),o.jsx(k,{label:"TIN",name:"TIN",type:"text",value:x.TIN,onChange:y,onBlur:w,error:S.TIN,touched:C.TIN,required:!0})]}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:x.Name,onChange:y,onBlur:w,error:S.Name,touched:C.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Phone Number",name:"PhoneNumber",type:"text",value:x.PhoneNumber,onChange:y,onBlur:w}),o.jsx(k,{label:"Mobile Number",name:"MobileNumber",type:"text",value:x.MobileNumber,onChange:y,onBlur:w,error:S.MobileNumber,touched:C.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Email",name:"EmailAddress",type:"email",value:x.EmailAddress,onChange:y,onBlur:w,error:S.EmailAddress,touched:C.EmailAddress,required:!0}),o.jsx(k,{label:"Website",name:"Website",type:"text",value:x.Website,onChange:y,onBlur:w})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Region",name:"RegionID",type:"select",options:i,value:x.RegionID,onChange:y,onBlur:w,error:S.RegionID,touched:C.RegionID,required:!0}),o.jsx(k,{label:"Province",name:"ProvinceID",type:"select",options:l,value:x.ProvinceID,onChange:y,onBlur:w,error:S.ProvinceID,touched:C.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Municipality",name:"MunicipalityID",type:"select",options:c,value:x.MunicipalityID,onChange:y,onBlur:w,error:S.MunicipalityID,touched:C.MunicipalityID,required:!0}),o.jsx(k,{label:"Barangay",name:"BarangayID",type:"select",options:u,value:x.BarangayID,onChange:y,onBlur:w,error:S.BarangayID,touched:C.BarangayID,required:!0})]}),o.jsx(k,{label:"Street Address",name:"StreetAddress",type:"textarea",value:x.StreetAddress,onChange:y,onBlur:w,error:S.StreetAddress,touched:C.StreetAddress,required:!0}),o.jsx(k,{label:"Zip Code",name:"ZIPCode",type:"text",value:x.ZIPCode,onChange:y,onBlur:w,error:S.ZIPCode,touched:C.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Vendor Type",name:"TypeID",type:"select",options:m,value:x.TypeID,onChange:y,onBlur:w,error:S.TypeID,touched:C.TypeID,required:!0}),o.jsx(k,{label:"Revenue District Office",name:"RDO",type:"text",value:x.RDO,onChange:y,onBlur:w,error:S.RDO,touched:C.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Industry",name:"IndustryTypeID",type:"select",options:d,value:x.IndustryTypeID,onChange:y,onBlur:w,error:S.IndustryTypeID,touched:C.IndustryTypeID,required:!0}),o.jsx(k,{label:"Tax Code",name:"TaxCodeID",type:"select",options:f,value:x.TaxCodeID,onChange:y,onBlur:w,error:S.TaxCodeID,touched:C.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:h,value:x.PaymentTermsID,onChange:y,onBlur:w,error:S.PaymentTermsID,touched:C.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:x.Vatable,onChange:y,onBlur:w}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:g,value:x.PaymentMethodID,onChange:y,onBlur:w,error:S.PaymentMethodID,touched:C.PaymentMethodID,required:!0}),o.jsx(k,{label:"Contact Person",name:"ContactPerson",type:"text",value:x.ContactPerson,onChange:y,onBlur:w,error:S.ContactPerson,touched:C.ContactPerson,required:!0})]}),o.jsx(k,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:x.DeliveryLeadTime,onChange:y,onBlur:w,error:S.DeliveryLeadTime,touched:C.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p.isSubmitting,children:p.isSubmitting?"Saving...":"Save"})]})]})}const G0="https://staging-engine.testthelink.online",yfe=[],ys=L("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${G0}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),bg=L("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${G0}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iA=L("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${G0}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),xg=L("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${G0}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),bfe=ye({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ys.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ys.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(ys.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=yfe}).addCase(bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(iA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),xfe=bfe.reducer,Y0="https://staging-engine.testthelink.online",vfe=[],So=L("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Y0}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),vg=L("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${Y0}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lA=L("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${Y0}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jg=L("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${Y0}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),jfe=ye({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(So.pending,e=>{e.isLoading=!0,e.error=null}).addCase(So.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(So.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=vfe}).addCase(vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(lA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),wfe=jfe.reducer,K0="https://staging-engine.testthelink.online",Cfe=[],Ao=L("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${K0}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),wg=L("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${K0}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),cA=L("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${K0}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cg=L("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${K0}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Nfe=ye({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ao.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ao.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(Ao.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=Cfe}).addCase(wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(cA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(Cg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),Sfe=Nfe.reducer,J0="https://staging-engine.testthelink.online",Afe=[],To=L("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${J0}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ng=L("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${J0}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),uA=L("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${J0}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Sg=L("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${J0}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Tfe=ye({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(To.pending,e=>{e.isLoading=!0,e.error=null}).addCase(To.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(To.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=Afe}).addCase(Ng.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(uA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(Sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),kfe=Tfe.reducer,X0="https://staging-engine.testthelink.online",Ife=[],ko=L("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${X0}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ag=L("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${X0}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),dA=L("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${X0}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Tg=L("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${X0}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Efe=ye({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ko.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ko.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(ko.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=Ife}).addCase(Ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(dA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(Tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),Ofe=Efe.reducer,Z0="https://staging-engine.testthelink.online",Pfe=[],Ld=L("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Z0}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),kg=L("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${Z0}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fA=L("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${Z0}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ig=L("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${Z0}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dfe=ye({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ld.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ld.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Ld.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=Pfe}).addCase(kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(fA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(Ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),_fe=Dfe.reducer,Q0="https://staging-engine.testthelink.online",$fe=[],ic=L("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Q0}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Eg=L("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${Q0}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mA=L("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${Q0}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Og=L("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${Q0}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Rfe=ye({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ic.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ic.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(ic.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=$fe}).addCase(Eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(mA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Og.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),Mfe=Rfe.reducer,ej="https://staging-engine.testthelink.online",Lfe=[],ha=L("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Pg=L("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${ej}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hA=L("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${ej}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dg=L("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${ej}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ffe=ye({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ha.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ha.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(ha.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=Lfe}).addCase(Pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(hA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(Dg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),Bfe=Ffe.reducer,tj="https://staging-engine.testthelink.online",qfe=[],lc=L("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${tj}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_g=L("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${tj}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pA=L("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${tj}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$g=L("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${tj}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Vfe=ye({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(lc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lc.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(lc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=qfe}).addCase(_g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(pA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase($g.pending,e=>{e.isLoading=!0,e.error=null}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),Ufe=Vfe.reducer,rj="https://staging-engine.testthelink.online",zfe=[],cc=L("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rj}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Rg=L("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${rj}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gA=L("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${rj}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Mg=L("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${rj}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Wfe=ye({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cc.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=zfe}).addCase(Rg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(gA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(Mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),Hfe=Wfe.reducer;function Gfe(){const t=se(),{vendorDetails:e,isLoading:r}=q(F=>F.vendorDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{regions:f}=q(F=>F.regions),{provinces:m}=q(F=>F.provinces),{municipalities:h}=q(F=>F.municipalities),{barangays:g}=q(F=>F.barangays),{vendorTypes:b}=q(F=>F.vendorTypes),{industries:p}=q(F=>F.industries),{taxCodes:x}=q(F=>F.taxCodes),{paymentTerms:y}=q(F=>F.paymentTerms),{modeOfPayments:w}=q(F=>F.modeOfPayments);v.useEffect(()=>{t(ys()),t(So()),t(Ao()),t(To()),t(ko()),t(Ld()),t(ic()),t(ha()),t(lc()),t(cc())},[t]);const S=f.map(F=>({value:F.ID,label:F.Name})),C=m.map(F=>({value:F.ID,label:F.Name})),j=h.map(F=>({value:F.ID,label:F.Name})),N=g.map(F=>({value:F.ID,label:F.Name})),A=b.map(F=>({value:F.ID,label:F.Name})),E=p.map(F=>({value:F.ID,label:F.Name})),T=x.map(F=>({value:F.ID,label:F.Code})),I=y.map(F=>({value:F.ID,label:F.Name})),P=w.map(F=>({value:F.ID,label:F.Name})),M=()=>{i(null),a(!0)},$=F=>{i(F),a(!0)},_=F=>{d(F),c(!0)},B=async()=>{if(u)try{await t(xg(u.ID)).unwrap(),c(!1),d(null)}catch(F){console.error("Failed to delete vendor details:",F)}},U=F=>{t(s?iA({...F,ID:s.ID}):bg(F)),a(!1)},D=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:F=>{const H=y.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:F=>{const H=w.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:F=>F||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:F=>F?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:F=>{const H=x.find(W=>W.ID==F);return(H==null?void 0:H.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:F=>{const H=b.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:F=>{const H=p.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:F=>F||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:F=>{const H=g.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:F=>{const H=h.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:F=>{const H=m.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:F=>{const H=f.find(W=>W.ID==F);return(H==null?void 0:H.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],R=[{icon:Ae,title:"Edit",onClick:$,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:_,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),o.jsxs("button",{type:"button",onClick:M,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:D,data:e,actions:R,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(gfe,{initialData:s,onClose:()=>a(!1),onSubmit:U,provinces:m,municipalities:h,barangays:g,regionOptions:S,provinceOptions:C,municipalityOptions:j,barangayOptions:N,vendorTypeOptions:A,industryOptions:E,taxCodeOptions:T,paymentTermsOptions:I,modeOfPaymentOptions:P})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:B,className:"btn btn-danger",children:"Delete"})]})]})]})}function Yfe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const nj="https://staging-engine.testthelink.online",Kfe=[],Lg=L("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Fg=L("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${nj}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),yA=L("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${nj}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Bg=L("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${nj}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jfe=ye({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=Kfe}).addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(yA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),Xfe=Jfe.reducer;function Zfe(){const t=se(),{vendorCustomerTypes:e,isLoading:r}=q(y=>y.vendorCustomerTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Lg())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Bg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete vendor customer type:",y)}},b=y=>{t(s?yA({...y,ID:s.ID}):Fg(y)),a(!1)},p=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(Yfe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Qfe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function eme(){const t=se(),{vendorTypes:e,isLoading:r}=q(y=>y.vendorTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ld())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Ig(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete vendor type:",y)}},b=y=>{t(s?fA({...y,ID:s.ID}):kg(y)),a(!1)},p=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(Qfe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function tme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Description:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const aj="https://staging-engine.testthelink.online",rme=[],Fd=L("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),qg=L("modules/addModule",async(t,e)=>{try{const r=await fetch(`${aj}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),bA=L("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${aj}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vg=L("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${aj}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),nme=ye({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fd.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Fd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=rme}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(bA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),ame=nme.reducer;function sme(){const t=se(),{modules:e,isLoading:r}=q(y=>y.modules),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Fd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Vg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete module:",y)}},b=y=>{t(s?bA({...y,ID:s.ID}):qg(y)),a(!1)},p=[{key:"Description",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(tme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const sj="https://staging-engine.testthelink.online",ome=[],uc=L("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ug=L("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${sj}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xA=L("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${sj}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),zg=L("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${sj}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ime=ye({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(uc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uc.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(uc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=ome}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(xA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),lme=ime.reducer,oj="https://staging-engine.testthelink.online",cme=[],Bd=L("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Wg=L("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${oj}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vA=L("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${oj}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Hg=L("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${oj}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ume=ye({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Bd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bd.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(Bd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=cme}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(vA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(Hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),dme=ume.reducer,ij="https://staging-engine.testthelink.online",fme=[],dc=L("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gg=L("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${ij}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),jA=L("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${ij}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Yg=L("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${ij}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mme=ye({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(dc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dc.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(dc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=fme}).addCase(Gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(jA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(Yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),hme=mme.reducer,pme=ie().shape({FirstName:O().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:O().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:O().max(100,"Middle name must be at most 100 characters"),Birthday:Re().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:O().required("Gender is required"),StreetAddress:O().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:O().required("Contact number is required"),EmailAddress:O().email("Invalid email address").required("Email is required"),IDNumber:K(),DepartmentID:K().required("Department is required"),PositionID:O().required("Position is required"),NationalityID:O().required("Nationality is required"),EmploymentStatusID:O().required("Employment status is required"),DateHired:Re().required("Date hired is required"),TIN:O(),GSIS:O(),Philhealth:O(),Pagibig:O(),Active:O().required("Status is required"),ZIPCode:O().max(6,"ZIP code must be at most 6 characters"),Region:O().required("Region is required"),Province:O().required("Province is required"),Municipality:O().required("Municipality is required"),Barangay:O().required("Barangay is required")});function gme({initialData:t,onClose:e}){const r=se();v.useEffect(()=>{r(tr()),r(uc()),r(Bd()),r(So()),r(Ao()),r(To()),r(ko()),r(dc())},[r]);const{regions:n}=q(T=>T.regions),{provinces:a}=q(T=>T.provinces),{municipalities:s}=q(T=>T.municipalities),{barangays:i}=q(T=>T.barangays),{nationalities:l}=q(T=>T.nationalities),c=l==null?void 0:l.map(T=>({value:T.ID,label:T.Name})),u=n.map(T=>({value:T.ID.toString(),label:T.Name})),d=a.map(T=>({value:T.ID.toString(),label:T.Name})),f=s.map(T=>({value:T.ID.toString(),label:T.Name})),m=i.map(T=>({value:T.ID.toString(),label:T.Name})),{departments:h,isLoading:g}=q(T=>T.departments),b=h.map(T=>({value:T.ID,label:T.Name})),{positions:p,isLoading:x}=q(T=>T.positions),y=p.map(T=>({value:T.ID,label:T.Name})),{employmentStatuses:w,isLoading:S}=q(T=>T.employmentStatuses),C=w.map(T=>({value:T.ID,label:T.Name})),[j,N]=v.useState(!1);console.log(t);const A=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",IDNumber:"",NationalityID:"",Nationality:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:1,ZIPCode:"",Region:"",Province:"",Municipality:"",Barangay:""},E=T=>{var $;N(!0);const I=(($=h.find(_=>_.value===Number(T.DepartmentID)))==null?void 0:$.label)||"",P={...T,DepartmentID:Number(T.DepartmentID),departmentName:I},M=t?rg({...P,id:t.id,employeeCode:t.employeeCode}):tg(P);r(M).unwrap().then(()=>{e()}).catch(_=>{console.error("Error submitting employee:",_)}).finally(()=>{N(!1),r(nn())})};return o.jsx(_e,{initialValues:A,validationSchema:pme,onSubmit:E,enableReinitialize:!0,children:({values:T,errors:I,touched:P,handleChange:M,handleBlur:$,isValid:_,setFieldValue:B,submitCount:U})=>(v.useEffect(()=>{const D=i.find(R=>R.ID.toString()===T.Barangay);if(D){const{MunicipalityCode:R,ProvinceCode:F,RegionCode:H}=D;R&&B("Municipality",R),F&&B("Province",F),H&&B("Region",H)}},[T.Barangay]),v.useEffect(()=>{const D=s.find(R=>R.ID.toString()===T.Municipality);if(D){const{ProvinceCode:R,RegionCode:F}=D;R&&B("Province",R),F&&B("Region",F)}},[T.Municipality]),v.useEffect(()=>{const D=a.find(R=>R.ID.toString()===T.Province);if(D){const{RegionCode:R}=D;R&&B("Region",R)}},[T.Province]),o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(k,{label:"First name",name:"FirstName",type:"text",required:!0,value:T.FirstName,onChange:M,onBlur:$,error:I.FirstName,touched:P.FirstName}),o.jsx(k,{label:"Middle name",name:"MiddleName",type:"text",value:T.MiddleName,onChange:M,onBlur:$,error:I.MiddleName,touched:P.MiddleName}),o.jsx(k,{label:"Last name",name:"LastName",type:"text",required:!0,value:T.LastName,onChange:M,onBlur:$,error:I.LastName,touched:P.LastName}),o.jsx(k,{label:"Gender",name:"Gender",type:"select",required:!0,value:T.Gender,onChange:M,onBlur:$,error:I.Gender,touched:P.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(k,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:T.Birthday,onChange:M,onBlur:$,error:I.Birthday,touched:P.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(k,{label:"Region",name:"Region",type:"select",required:!0,options:u,value:T.Region||"",onChange:M}),o.jsx(k,{label:"Province",name:"Province",type:"select",required:!0,options:d,value:T.Province||"",onChange:M}),o.jsx(k,{label:"Municipality",name:"Municipality",type:"select",required:!0,options:f,value:T.Municipality||"",onChange:M}),o.jsx(k,{label:"Barangay",name:"Barangay",type:"select",required:!0,options:m,value:T.Barangay||"",onChange:M}),o.jsx(k,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:T.StreetAddress||"",onChange:M,onBlur:$,error:I.StreetAddress,touched:P.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx(Xt,{label:"Nationality",name:"NationalityID",type:"select",options:c,required:!0,placeholder:"Select Nationality",onSelect:D=>{const R=c.find(F=>F.value===D);B("NationalityID",D||""),B("Nationality",(R==null?void 0:R.label)||"")},className:"w-full",selectedValue:T.NationalityID,error:I.Nationality,touched:P.Nationality})}),o.jsx(k,{label:"Zip Code",name:"ZIPCode",type:"text",value:T.ZIPCode||"",onChange:M,onBlur:$,error:I.ZIPCode,touched:P.ZIPCode}),o.jsx(k,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:T.MobileNumber||"",onChange:M,onBlur:$,error:I.MobileNumber,touched:P.MobileNumber}),o.jsx(k,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:T.EmailAddress||"",onChange:M,onBlur:$,error:I.EmailAddress,touched:P.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:T.EmergencyContact||"",onChange:M,onBlur:$,error:I.EmergencyContact,touched:P.EmergencyContact}),o.jsx(k,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:T.EmergencyNumber||"",onChange:M,onBlur:$,error:I.EmergencyNumber,touched:P.EmergencyNumber})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"ID Number",name:"IDNumber",type:"text",value:T.IDNumber||"",onChange:M}),o.jsx(k,{label:"TIN",name:"TIN",type:"text",value:T.TIN||"",onChange:M,onBlur:$,error:I.TIN,touched:P.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:T.Pagibig||"",onChange:M,onBlur:$,error:I.Pagibig,touched:P.Pagibig}),o.jsx(k,{label:"GSIS",name:"GSIS",type:"text",value:T.GSIS||"",onChange:M,onBlur:$,error:I.GSIS,touched:P.GSIS})]}),o.jsx(k,{label:"Philhealth",name:"Philhealth",type:"text",value:T.Philhealth||"",onChange:M,onBlur:$,error:I.Philhealth,touched:P.Philhealth}),o.jsx(k,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:T.DepartmentID||"",onChange:M,onBlur:$,error:I.DepartmentID,touched:P.DepartmentID,options:b,disabled:g})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:T.DateHired||"",onChange:M,onBlur:$,error:I.DateHired,touched:P.DateHired}),o.jsx(k,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:T.EmploymentStatusID||"",onChange:M,onBlur:$,error:I.EmploymentStatusID,touched:P.EmploymentStatusID,options:C,disabled:S})]}),o.jsx(k,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:T.EmploymentStatusDate||"",onChange:M,readOnly:!0}),o.jsx(k,{label:"Position",name:"PositionID",type:"select",required:!0,value:T.PositionID||"",onChange:M,onBlur:$,error:I.PositionID,touched:P.PositionID,options:y,disabled:x}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[[T.FirstName,T.MiddleName,T.LastName].filter(Boolean).join(" "),T.TIN&&` - ${T.TIN}`,T.DepartmentID&&` - ${T.DepartmentID}`]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:j,className:"btn btn-primary",children:j?"Saving...":t?"Update":"Save"})]}),U>0&&Object.keys(I).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(I).map(([D,R])=>o.jsx("li",{children:R},D))})]})]}))})}function yme(){const t=se(),{employees:e,isLoading:r}=q(y=>y.employees),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(nn())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=()=>{u&&(t(ng(u.ID)),c(!1),d(null))},b=()=>{a(!1),i(null)},p=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:y=>(y==null?void 0:y.Name)||""},{key:"Position",header:"Position",sortable:!0,render:y=>(y==null?void 0:y.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:y=>(y==null?void 0:y.Name)||""}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r})}),o.jsx(ae,{isOpen:n,onClose:b,title:s?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(gme,{initialData:s,onClose:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.FirstName," ",u==null?void 0:u.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function bme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Employment Status is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function xme(){const t=se(),{employmentStatuses:e,isLoading:r}=q(y=>y.employmentStatuses),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Bd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Hg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete employment status:",y)}},b=y=>{t(s?vA({...y,ID:s.ID}):Wg(y)),a(!1)},p=[{key:"Name",header:"Employment Status",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Employment Status":"Add Employment Status",children:o.jsx(bme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function vme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Position is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function jme(){const t=se(),{positions:e,isLoading:r}=q(y=>y.positions),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(uc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(zg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete position:",y)}},b=y=>{t(s?xA({...y,ID:s.ID}):Ug(y)),a(!1)},p=[{key:"Name",header:"Position",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Position":"Add Position",children:o.jsx(vme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function wme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Description:O().required("User Role is required")}),a=Qe({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Cme(){const t=se(),{userroles:e,isLoading:r}=q(y=>y.userroles),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(sc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{if(y.Description=="Administrator"){qe.error("The 'Administrator' role cannot be edited.");return}i(y),a(!0)},h=y=>{if(y.Description=="Administrator"){qe.error("The 'Administrator' role cannot be deleted.");return}d(y),c(!0)},g=async()=>{if(u)try{await t(sg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete user role:",y)}},b=y=>{t(s?oA({...y,ID:s.ID}):ag(y)),a(!1)},p=[{key:"Description",header:"User Role",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User Role":"Add User Role",children:o.jsx(wme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Nme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Nationality is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Sme(){const t=se(),{nationalities:e,isLoading:r}=q(y=>y.nationalities),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(dc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Yg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete nationality:",y)}},b=y=>{t(s?jA({...y,ID:s.ID}):Gg(y)),a(!1)},p=[{key:"Name",header:"Nationality",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Nationality":"Add Nationality",children:o.jsx(Nme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Je={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};ie().shape({date:Re().required(Je.required).max(new Date,Je.futureDate),reference:O().max(50,"Reference number too long"),particulars:O().required(Je.required).max(500,"Particulars too long"),debitEntries:Tr().of(ie().shape({accountCode:O().required("Account code is required"),amount:K().required("Amount is required").moreThan(0,Je.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:Tr().of(ie().shape({accountCode:O().required("Account code is required"),amount:K().required("Amount is required").moreThan(0,Je.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const X_=ie().shape({date:Re().required(Je.required).max(new Date,Je.futureDate),period:O().required(Je.required),stallNumber:O().required(Je.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:O().required(Je.required),stallOwner:O().required(Je.required).max(100,"Name too long"),amount:K().required(Je.required).moreThan(0,Je.positiveNumber)});ie().shape({certificateNo:O().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Re().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:O().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:O().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:O().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:O().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:O().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:O().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:O().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:O().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Re().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:O().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:K().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:K().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:O().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:K().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:K().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:K().min(0,"Amount cannot be negative").nullable(),purpose:O().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:K().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:K().min(0,"Interest cannot be negative").nullable()});ie().shape({date:Re().required(Je.required).max(new Date,Je.futureDate),tdNumber:O().required(Je.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:O().required(Je.required).max(100,"Name too long"),location:O().required(Je.required).max(200,"Location too long"),basicTax:K().required(Je.required).moreThan(0,Je.positiveNumber),sef:K().required(Je.required).moreThan(0,Je.positiveNumber),penalty:K().min(0,"Amount cannot be negative")});const Ame=ie().shape({Name:O().required(Je.required).max(100,"Name too long"),MunicipalityCode:O().required(Je.required),ProvinceCode:O().required(Je.required),RegionCode:O().required(Je.required)}),Tme=ie().shape({Name:O().required(Je.required).max(100,"Name too long"),ProvinceCode:O().required(Je.required),RegionCode:O().required(Je.required)}),kme=ie().shape({Name:O().required(Je.required).max(100,"Name too long"),RegionCode:O().required(Je.required)}),Z_=ie().shape({Name:O().required(Je.required).max(100,"Name too long")});ie().shape({id:O().required("ID is required"),status:O().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Re().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:O().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Re().required("Date is required").max(new Date,"Date cannot be in the future"),agency:O().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:O().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:O().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});function Ime(){const[t,e]=v.useState("region"),[r,n]=v.useState(!1),[a,s]=v.useState(null),[i,l]=v.useState(!1),[c,u]=v.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=se(),{regions:m}=q($=>$.regions),{provinces:h}=q($=>$.provinces),{municipalities:g}=q($=>$.municipalities),{barangays:b}=q($=>$.barangays);v.useEffect(()=>{f(So()),f(Ao()),f(To()),f(ko())},[f]);const p=()=>{switch(t){case"region":return Z_;case"province":return kme;case"municipality":return Tme;case"barangay":return Ame;default:return Z_}},x=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},y=()=>{switch(t){case"region":return m;case"province":return h.map($=>({...$,RegionName:P($.RegionCode,m)}));case"municipality":return g.map($=>({...$,RegionName:P($.RegionCode,m),ProvinceName:P($.ProvinceCode,h)}));case"barangay":return b.map($=>({...$,RegionName:P($.RegionCode,m),ProvinceName:P($.ProvinceCode,h),MunicipalityName:P($.MunicipalityCode,g)}));default:return[]}},w=()=>{switch(t){case"region":return vg;case"province":return wg;case"municipality":return Ng;case"barangay":return Ag;default:return null}},S=()=>{switch(t){case"region":return lA;case"province":return cA;case"municipality":return uA;case"barangay":return dA;default:return null}},C=()=>{switch(t){case"region":return jg;case"province":return Cg;case"municipality":return Sg;case"barangay":return Tg;default:return null}},j=[{icon:Ae,title:"Edit",onClick:$=>A($),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:$=>E($),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],N=()=>{s(null),n(!0)},A=$=>{s($),n(!0)},E=$=>{u($),l(!0)},T=()=>{c&&(f(C()(c.ID)),l(!1),u(null))};v.useEffect(()=>{r&&I.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const I=Qe({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:p(),onSubmit:async($,{setSubmitting:_})=>{const B=a?S():w(),U=a?{...a,...$}:$;await f(B(U)).unwrap(),n(!1),_(!1)}}),P=($,_)=>{const B=_.find(U=>U.ID.toString()===$.toString());return B?B.Name:""},M=()=>{const $={formik:I,onChange:I.handleChange,onBlur:I.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(k,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:I.values.Name,error:I.errors.Name,touched:I.touched.Name,...$});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:I.values.Name,error:I.errors.Name,touched:I.touched.Name,...$}),o.jsx(k,{label:"Region",name:"RegionCode",type:"select",options:m.map(_=>({value:_.ID,label:_.Name})),value:I.values.RegionCode,error:I.errors.RegionCode,touched:I.touched.RegionCode,...$})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Municipality",name:"Name",type:"text",value:I.values.Name,error:I.errors.Name,touched:I.touched.Name,placeholder:"Enter municipality name",...$}),o.jsx(k,{label:"Province",name:"ProvinceCode",type:"select",options:h.map(_=>({value:_.ID,label:_.Name})),value:I.values.ProvinceCode,error:I.errors.ProvinceCode,touched:I.touched.ProvinceCode,onChange:_=>{const B=_.target.value,U=h.find(D=>D.ID.toString()===B.toString());I.setFieldValue("ProvinceCode",B),U&&I.setFieldValue("RegionCode",U.RegionCode)},onBlur:I.handleBlur,required:!0}),o.jsx(k,{label:"Region",name:"RegionCode",type:"text",value:P(I.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Barangay",name:"Name",type:"text",value:I.values.Name,error:I.errors.Name,touched:I.touched.Name,placeholder:"Enter barangay name",...$}),o.jsx(k,{label:"Municipality",name:"MunicipalityCode",type:"select",options:g.map(_=>({value:_.ID,label:_.Name})),value:I.values.MunicipalityCode,error:I.errors.MunicipalityCode,touched:I.touched.MunicipalityCode,onChange:_=>{const B=_.target.value,U=g.find(D=>D.ID.toString()===B.toString());I.setFieldValue("MunicipalityCode",B),U&&(I.setFieldValue("ProvinceCode",U.ProvinceCode),I.setFieldValue("RegionCode",U.RegionCode))},onBlur:I.handleBlur,required:!0}),o.jsx(k,{label:"Province",name:"ProvinceCode",type:"text",value:P(I.values.ProvinceCode,h),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(k,{label:"Region",name:"RegionCode",type:"text",value:P(I.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),o.jsxs("button",{type:"button",onClick:N,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map($=>o.jsx("button",{onClick:()=>e($),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===$?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[$]},$))})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:x(),data:y(),actions:j,pagination:!0})}),o.jsx(ae,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:I.handleSubmit,className:"p-4 space-y-4",children:[M(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:I.isSubmitting,children:I.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(ae,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:T,className:"btn btn-danger",children:"Delete"})]})]})})]})}const lj="https://staging-engine.testthelink.online",Eme=[],qd=L("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Kg=L("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${lj}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wA=L("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${lj}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jg=L("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${lj}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ome=ye({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(qd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(qd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=Eme}).addCase(Kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(wA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),Pme=Ome.reducer,cj="https://staging-engine.testthelink.online",Dme=[],Vd=L("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Xg=L("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${cj}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=L("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${cj}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Zg=L("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${cj}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_me=ye({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Vd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(Vd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=Dme}).addCase(Xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(Zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),$me=_me.reducer,uj="https://staging-engine.testthelink.online",Rme=[],Mme=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],Lme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],Fme={ppes:Rme,ppe:null,isLoading:!1,error:null,categories:Mme,suppliers:Lme},Qg=L("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ey=L("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${uj}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ty=L("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${uj}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ry=L("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${uj}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),W6=ye({name:"ppes",initialState:Fme,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(Qg.pending,e=>{e.isLoading=!0}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ey.pending,e=>{e.isLoading=!0}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ty.pending,e=>{e.isLoading=!0}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ry.pending,e=>{e.isLoading=!0}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:_8e,resetPPEResource:$8e,addCategory:R8e,addSupplier:M8e}=W6.actions,Bme=W6.reducer,qme=ie().shape({CategoryID:O().required("Category is required"),Description:O().required("Description is required"),DepreciationRate:K().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:K().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:K().typeError("Must be a number").required("Net Book Value is required"),SupplierID:O().required("Supplier is required"),PPENumber:O().required("PPE Number is required"),Unit:O().required("Unit is required"),Barcode:O().required("Barcode is required"),Quantity:K().typeError("Must be a number").required("Quantity is required"),Cost:K().typeError("Must be a number").required("Cost is required"),DateAcquired:O().required("Date acquired is required"),EstimatedUsefulLife:K().typeError("Must be a number").required("Estimated useful life is required"),PONumber:O().required("PO Number is required"),PRNumber:O().required("PR Number is required"),InvoiceNumber:O().required("Invoice Number is required"),AIRNumber:O().required("AIR Number is required"),RISNumber:O().required("RIS Number is required"),Remarks:O()});function Vme({initialData:t,onClose:e}){const r=se(),[n,a]=v.useState(!1),{ppeSuppliers:s}=q(u=>u.ppeSuppliers),{ppeCategories:i}=q(u=>u.ppeCategories);v.useEffect(()=>{r(qd()),r(Vd())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?ty({...u,ID:t.ID}):ey(u);r(d).unwrap().then(()=>{e()}).catch(f=>{console.error("Error submitting PPE:",f)}).finally(()=>{a(!1)})};return o.jsx(_e,{initialValues:l,validationSchema:qme,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,setFieldValue:g})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(k,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:h,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(b=>({value:b.ID,label:b.Name}))})}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:h,error:d.Description,touched:f.Description}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:h,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:h,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:h,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(k,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:h,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(b=>({value:b.ID,label:b.Name}))})}),o.jsx(k,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:h,error:d.PPENumber,touched:f.PPENumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:h,error:d.Unit,touched:f.Unit}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:h,error:d.Barcode,touched:f.Barcode}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:h,error:d.Quantity,touched:f.Quantity}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:h,error:d.Cost,touched:f.Cost}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:h,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:h,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(k,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:h,error:d.PONumber,touched:f.PONumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:h,error:d.PRNumber,touched:f.PRNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:h,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:h,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:h,error:d.RISNumber,touched:f.RISNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:h,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const Ume=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"Supplier",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function zme(){const t=se(),{ppes:e,isLoading:r}=q(S=>S.ppes),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(null);v.useEffect(()=>{t(Qg())},[t]);const u=()=>{c(null),a(!0)},d=()=>{i(!0)},f=()=>{window.print()},m=()=>{i(!1)},h=S=>{c(S),a(!0)},g=S=>{window.confirm("Are you sure you want to delete this PPE entry?")&&t(ry(S.ID))},b=()=>{a(!1),c(null)},p=Ume.map(S=>({key:S.key,header:S.header,sortable:!0,className:"text-neutral-900"})),x=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-danger-600 hover:text-danger-900 p-1 rounded-full hover:bg-danger-50"}],y=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],w=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),o.jsxs("button",{type:"button",onClick:d,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(J_,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),o.jsxs("button",{type:"button",onClick:()=>window.print(),className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(J_,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r})}),o.jsx(ae,{isOpen:n,onClose:b,title:l?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(Vme,{initialData:l,onClose:b})}),o.jsx(ae,{isOpen:s,onClose:m,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(k,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:w,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(k,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:y,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:m,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:f,className:"btn btn-primary",children:"Print"})]})]})})]})}function Wme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Hme(){const t=se(),{ppeCategories:e,isLoading:r}=q(y=>y.ppeCategories),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(qd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Jg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete PPE category:",y)}},b=y=>{t(s?wA({...y,ID:s.ID}):Kg(y)),a(!1)},p=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Category":"Add PPE Category",children:o.jsx(Wme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Gme({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Yme(){const t=se(),{ppeSuppliers:e,isLoading:r}=q(y=>y.ppeSuppliers),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Vd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Zg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete PPE supplier:",y)}},b=y=>{t(s?CA({...y,ID:s.ID}):Xg(y)),a(!1)},p=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(Gme,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const dj="https://staging-engine.testthelink.online",Kme=[],Ud=L("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dj}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ny=L("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${dj}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=L("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${dj}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ay=L("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${dj}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jme=ye({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ud.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ud.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Ud.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=Kme}).addCase(ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),Xme=Jme.reducer,Zme=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],Qme=ie().shape({});function ehe({initialData:t,onClose:e,onSubmit:r}){const[n,a]=v.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=se(),{documentDetails:i}=q(b=>b.documentDetails),{positions:l}=q(b=>b.positions),{employees:c}=q(b=>b.employees);v.useEffect(()=>{s(Ud()),s(uc()),s(nn())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=v.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},h=b=>{const p=[...d];p.splice(b,1),f(p)},g=(b,p)=>{const x=[...d];x[b]=p,f(x)};return o.jsx(_e,{initialValues:u,validationSchema:Qme,onSubmit:(b,{setSubmitting:p})=>{const x=d.map(w=>({PositionorEmployee:w.type,PositionorEmployeeID:w.value,AmountFrom:w.amountFrom,AmountTo:w.amountTo})),y={...b,AllorMajority:n,approvers:x};r(y),p(!1)},enableReinitialize:!0,children:({values:b,errors:p,touched:x,handleChange:y,handleBlur:w,setFieldValue:S,isSubmitting:C})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:b.DocumentTypeID,onChange:y,onBlur:w,error:p.DocumentTypeID,touched:x.DocumentTypeID,options:i.map(j=>({value:j.ID,label:j.Name}))}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:b.SequenceLevel,onChange:y,onBlur:w,error:p.SequenceLevel,touched:x.SequenceLevel,options:Zme}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:b.NumberofApprover||"",onChange:y,onBlur:w,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(j,N)=>o.jsx("option",{value:N+1,children:N+1},N+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((j,N)=>{var A,E,T;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${N}`,value:"Position",checked:j.type==="Position",onChange:()=>g(N,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${N}`,value:"Employee",checked:j.type==="Employee",onChange:()=>g(N,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded",value:j.value,onChange:I=>g(N,{...j,value:I.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(j.type==="Position"?l:c).map(I=>o.jsx("option",{value:I.ID,children:j.type==="Position"?I.Name:`${I.FirstName} ${I.MiddleName} ${I.LastName}`},I.ID))]}),((A=j.errors)==null?void 0:A.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>h(N),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Me,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:j.amountFrom,onChange:I=>g(N,{...j,amountFrom:I.target.value})}),((E=j.errors)==null?void 0:E.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:j.amountTo,onChange:I=>g(N,{...j,amountTo:I.target.value})}),((T=j.errors)==null?void 0:T.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:j.errors.amountTo})]})]})]}),N<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},N)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:C,children:"Save"})]})]})})}const fj="https://staging-engine.testthelink.online",the=[],rhe={approvalMatrix:the,matrix:null,isLoading:!1,error:null},zd=L("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fj}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),sy=L("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${fj}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),oy=L("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${fj}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),iy=L("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${fj}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),H6=ye({name:"approvalMatrix",initialState:rhe,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(zd.pending,e=>{e.isLoading=!0}).addCase(zd.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(zd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sy.pending,e=>{e.isLoading=!0}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(oy.pending,e=>{e.isLoading=!0}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(iy.pending,e=>{e.isLoading=!0}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:L8e,resetMatrixState:F8e}=H6.actions,nhe=H6.reducer;function ahe(){const t=se(),{approvalMatrix:e,isLoading:r,error:n}=q(w=>w.approvalMatrix),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(zd())},[t]);const m=()=>{l(null),s(!0)},h=w=>{var N;const S=((N=w.Approvers)==null?void 0:N.map(A=>({type:A.PositionorEmployee,value:A.PositionorEmployeeID,amountFrom:Number(A.AmountFrom),amountTo:Number(A.AmountTo)})))||[],{Approvers:C,...j}=w;l({...j,approvers:S}),s(!0)},g=w=>{f(w),u(!0)},b=async()=>{if(d)try{await t(iy(d.ID)).unwrap(),u(!1),f(null)}catch(w){console.error("Failed to delete approval matrix:",w)}},p=async w=>{try{i?await t(oy({...w,ID:i.ID})).unwrap():await t(sy(w)).unwrap(),t(zd()),s(!1)}catch(S){console.error("Failed to submit approval matrix:",S)}},x=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],y=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ge,{columns:x,data:e,actions:y,loading:r}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n})]}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(ehe,{initialData:i,onClose:()=>s(!1),onSubmit:p})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}function she(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}she(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var NE=t=>typeof t=="number"&&!isNaN(t),Lf=t=>typeof t=="string",G6=t=>typeof t=="function",ohe=t=>Lf(t)||NE(t),ihe=t=>v.isValidElement(t)||Lf(t)||G6(t)||NE(t),lhe=1,Y6=()=>`${lhe++}`,Ra=new Map,SA=[],Q_=new Set,K6=()=>Ra.size>0,che=(t,{containerId:e})=>{var r;return(r=Ra.get(e||1))==null?void 0:r.toasts.get(t)};function uhe(t,e){var r;if(e)return!!((r=Ra.get(e))!=null&&r.isToastActive(t));let n=!1;return Ra.forEach(a=>{a.isToastActive(t)&&(n=!0)}),n}function dhe(t){if(!K6()){SA=SA.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||ohe(t))Ra.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Ra.get(t.containerId);e?e.removeToast(t.id):Ra.forEach(r=>{r.removeToast(t.id)})}}var fhe=(t={})=>{Ra.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function mhe(t,e){ihe(t)&&(K6()||SA.push({content:t,options:e}),Ra.forEach(r=>{r.buildToast(t,e)}))}function J6(t,e){Ra.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function hhe(t){return Q_.add(t),()=>{Q_.delete(t)}}function phe(t){return t&&(Lf(t.toastId)||NE(t.toastId))?t.toastId:Y6()}function Vm(t,e){return mhe(t,e),e.toastId}function mj(t,e){return{...e,type:e&&e.type||t,toastId:phe(e)}}function hj(t){return(e,r)=>Vm(e,mj(t,r))}function St(t,e){return Vm(t,mj("default",e))}St.loading=(t,e)=>Vm(t,mj("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function ghe(t,{pending:e,error:r,success:n},a){let s;e&&(s=Lf(e)?St.loading(e,a):St.loading(e.render,{...a,...e}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){St.dismiss(s);return}let m={type:u,...i,...a,data:f},h=Lf(d)?{render:d}:d;return s?St.update(s,{...m,...h}):St(h.render,{...m,...h}),f},c=G6(t)?t():t;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}St.promise=ghe;St.success=hj("success");St.info=hj("info");St.error=hj("error");St.warning=hj("warning");St.warn=St.warning;St.dark=(t,e)=>Vm(t,mj("default",{theme:"dark",...e}));function yhe(t){dhe(t)}St.dismiss=yhe;St.clearWaitingQueue=fhe;St.isActive=uhe;St.update=(t,e={})=>{let r=che(t,e);if(r){let{props:n,content:a}=r,s={delay:100,...n,...e,toastId:e.toastId||t,updateId:Y6()};s.toastId!==t&&(s.staleId=t);let i=s.render||a;delete s.render,Vm(i,s)}};St.done=t=>{St.update(t,{progress:1})};St.onChange=hhe;St.play=t=>J6(!0,t);St.pause=t=>J6(!1,t);const pj="https://staging-engine.testthelink.online",bhe=[],xhe={banks:bhe,bank:null,isLoading:!1,error:null},Wd=L("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${pj}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ly=L("banks/addBank",async(t,e)=>{try{const r=await fetch(`${pj}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),cy=L("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${pj}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),uy=L("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${pj}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),X6=ye({name:"banks",initialState:xhe,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(Wd.pending,e=>{e.isLoading=!0}).addCase(Wd.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(Wd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ly.pending,e=>{e.isLoading=!0}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cy.pending,e=>{e.isLoading=!0}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(uy.pending,e=>{e.isLoading=!0}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:B8e,resetBankState:q8e}=X6.actions,vhe=X6.reducer,jhe=ie().shape({BranchCode:O().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:O().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters"),Address:O().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:O().required("Account number is required"),SwiftCode:O().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:O().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:K().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:O().required("Currency is required")});function whe({initialData:t,onClose:e}){const r=se(),[n,a]=v.useState(!1),{currencies:s}=q(c=>c.currencies);v.useEffect(()=>{r(Rd())},[r]);const i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?cy({...u,ID:t.ID}):ly(u);r(d).unwrap().then(()=>{e()}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1)})};return o.jsx(_e,{initialValues:i,validationSchema:jhe,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isValid:h,setFieldValue:g})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:u.BranchCode,touched:d.BranchCode}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:u.Branch,touched:d.Branch}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:u.Name,touched:d.Name})]}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:u.AccountNumber,touched:d.AccountNumber}),o.jsx(k,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:u.SwiftCode,touched:d.SwiftCode}),o.jsx(k,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(k,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:u.CurrencyID,touched:d.CurrencyID,options:s.map(b=>({value:b.ID,label:b.Code+" - "+b.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n||!h,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const Che=()=>{const t=se(),{banks:e=[],isLoading:r}=q(y=>y.banks),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Wd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=()=>{a(!1),i(null)},g=y=>{d(y),c(!0)},b=async()=>{if(u)try{await t(uy(u.ID)).unwrap(),St.success("Bank deleted successfully"),c(!1),d(null)}catch(y){St.error(y.message||"Failed to delete bank")}},p=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:y=>(y==null?void 0:y.Code)||"N/A"}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),o.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(ae,{isOpen:n,onClose:h,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(whe,{initialData:s,onClose:h})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})},Nhe=({document:t,onClose:e,documentTypeCategoryOptions:r=[]})=>{const n=se(),a=ie({Name:O().required("Name is required"),Code:O().required("Code is required"),Prefix:O().required("Prefix is required"),Suffix:O().required("Suffix is required"),StartNumber:K().required("Start number is required").min(1,"Start number must be at least 1"),CurrentNumber:K().required("Current number is required").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:O().required("Document type category is required")}),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?await n(NA({...l,ID:t.ID})).unwrap():await n(ny(l)).unwrap(),e()}catch(u){console.error("Failed to save document details:",u)}finally{c(!1)}};return o.jsx(_e,{initialValues:s,validationSchema:a,onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:h})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(k,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Prefix",name:"Prefix",type:"text",required:!0,value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(k,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(k,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(k,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:r})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":t?"Update":"Create"})]})]})})},gj="https://staging-engine.testthelink.online",She=[],Hd=L("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${gj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dy=L("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${gj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=L("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${gj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fy=L("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${gj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ahe=ye({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Hd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hd.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Hd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=She}).addCase(dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),The=Ahe.reducer,khe=()=>{const t=se(),{documentDetails:e,isLoading:r}=q(w=>w.documentDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{documentTypeCategories:f}=q(w=>w.documentTypeCategories),m=f.map(w=>({value:w.ID,label:w.Name}));v.useEffect(()=>{t(Ud()),t(Hd())},[t]);const h=()=>{i(null),a(!0)},g=w=>{i(w),a(!0)},b=w=>{d(w),c(!0)},p=async()=>{if(u)try{await t(ay(u.ID)).unwrap(),c(!1),d(null)}catch(w){console.error("Failed to delete document detail:",w)}},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],y=w=>{const S=[{icon:Ae,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return w.ID>32&&S.push({icon:Me,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),S};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),o.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(ge,{columns:x,data:e,actions:y,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(Nhe,{document:s,onClose:()=>a(!1),documentTypeCategoryOptions:m})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})};function Ihe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ehe(){const t=se(),{documentTypeCategories:e,isLoading:r}=q(y=>y.documentTypeCategories),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Hd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(fy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete document type category:",y)}},b=y=>{t(s?AA({...y,ID:s.ID}):dy(y)),a(!1)},p=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Type Category":"Add Document Type Category",children:o.jsx(Ihe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const yj="https://staging-engine.testthelink.online",Ohe=[],bs=L("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),my=L("items/addItem",async(t,e)=>{try{const r=await fetch(`${yj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),TA=L("items/updateItem",async(t,e)=>{try{const r=await fetch(`${yj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hy=L("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${yj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Phe=ye({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(bs.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bs.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(bs.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=Ohe}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(TA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),Dhe=Phe.reducer,bj="https://staging-engine.testthelink.online",_he=[],Ma=L("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${bj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),py=L("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${bj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=L("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${bj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gy=L("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${bj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$he=ye({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ma.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ma.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(Ma.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=_he}).addCase(py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),Rhe=$he.reducer,Mhe=({item:t,onClose:e})=>{const r=se(),{accounts:n}=q(d=>d.chartOfAccounts),{itemUnits:a}=q(d=>d.itemUnits),{taxCodes:s}=q(d=>d.taxCodes);v.useEffect(()=>{r(Ma()),r(ha()),r(kr())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),ChargeAccountID:O().required("Charge Account is required"),UnitID:O().required("Unit is required"),TAXCodeID:O().required("Tax Code is required"),PurchaseOrSales:O().required("Type is required"),TaxRate:K().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:K().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Qi().required("Vatable is required")}),c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:(t==null?void 0:t.TaxRate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(d,{setSubmitting:f})=>{try{t?await r(TA({...d,ID:t.ID})).unwrap():await r(my(d)).unwrap(),e()}catch(m){console.error("Failed to save item:",m)}finally{f(!1)}};return o.jsx(_e,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:b})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",required:!0,value:d.Code,onChange:h,onBlur:g,error:f.Code,touched:m.Code,placeholder:"Enter item code"}),o.jsx(k,{label:"Name",name:"Name",type:"text",required:!0,value:d.Name,onChange:h,onBlur:g,error:f.Name,touched:m.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:d.ChargeAccountID,onChange:h,onBlur:g,error:f.ChargeAccountID,touched:m.ChargeAccountID,options:n.map(p=>({value:p.ID,label:p.Name}))}),o.jsx(k,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:d.PurchaseOrSales,onChange:h,onBlur:g,error:f.PurchaseOrSales,touched:m.PurchaseOrSales,options:i}),o.jsx(k,{label:"Unit",name:"UnitID",type:"select",required:!0,value:d.UnitID,onChange:h,onBlur:g,error:f.UnitID,touched:m.UnitID,options:a.map(p=>({value:p.ID,label:p.Code+" - "+p.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:d.TAXCodeID,onChange:h,onBlur:g,error:f.TAXCodeID,touched:m.TAXCodeID,options:s.map(p=>({value:p.ID,label:p.Code}))}),o.jsx(k,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:d.TaxRate,onChange:h,onBlur:g,error:f.TaxRate,touched:m.TaxRate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"EWT",name:"EWT",type:"number",required:!0,value:d.EWT,onChange:h,onBlur:g,error:f.EWT,touched:m.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(k,{label:"Vatable",name:"Vatable",type:"checkbox",checked:d.Vatable,onChange:h,onBlur:g,error:f.Vatable,touched:m.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,children:b?"Saving...":t?"Update":"Create"})]})]})})},Lhe=()=>{const t=se(),{items:e,isLoading:r}=q(j=>j.items),{itemUnits:n,isLoading:a}=q(j=>j.itemUnits),{taxCodes:s,isLoading:i}=q(j=>j.taxCodes),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,g]=v.useState(null);v.useEffect(()=>{t(bs()),t(Ma()),t(ha())},[t]);const b=()=>{d(null),c(!0)},p=j=>{d(j),c(!0)},x=j=>{g(j),m(!0)},y=async()=>{if(h)try{await t(hy(h.ID)).unwrap(),m(!1),g(null)}catch(j){console.error("Failed to delete item:",j)}},w=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:j=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${j===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j?"Yes":"No"})}],S=e.map(j=>{var N,A;return{...j,unitName:((N=n==null?void 0:n.find(E=>E.ID===j.UnitID))==null?void 0:N.Name)||"N/A",TAXCodeValue:((A=s==null?void 0:s.find(E=>E.ID===j.TAXCodeID))==null?void 0:A.Code)||"N/A"}}),C=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),o.jsxs("button",{onClick:b,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(ge,{columns:w,data:S,actions:C,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Item":"Add Item",size:"lg",children:o.jsx(Mhe,{item:u,onClose:()=>c(!1)})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})},Fhe=ie().shape({MarriageServiceInvoice:O().required("Marriage Service Invoice account is required"),BurialServiceInvoice:O().required("Burial Service Invoice account is required"),DueFromLGU:O().required("Due From LGU account is required"),DueFromRate:K().required("Due From Rate is required"),DueToLGU:O().required("Due To LGU account is required"),DueToRate:K().required("Due To Rate is required"),RealPropertyTax:O().required("Real Property Tax account is required"),RealPropertyTaxRate:K().required("Real Property Tax Rate is required")}),Bhe=({initialData:t,onClose:e,onSubmit:r,invoiceChargeAccounts:n=[]})=>{const a=se(),s=q(l=>{var c;return((c=l.chartOfAccounts)==null?void 0:c.accounts)||[]});v.useEffect(()=>{a(kr())},[a]);const i=n.reduce((l,c)=>{switch(c.ID){case 1:l.MarriageServiceInvoice=c.ChartofAccountsID;break;case 2:l.BurialServiceInvoice=c.ChartofAccountsID;break;case 3:l.DueFromLGU=c.ChartofAccountsID,l.DueFromRate=c.Rate??0;break;case 4:l.DueToLGU=c.ChartofAccountsID,l.DueToRate=c.Rate??0;break;case 5:l.RealPropertyTax=c.ChartofAccountsID,l.RealPropertyTaxRate=c.Rate??0;break}return l},{});return!n||n.length===0?o.jsx("div",{className:"text-neutral-500",children:"Loading charge accounts..."}):o.jsx(_e,{initialValues:{MarriageServiceInvoice:i.MarriageServiceInvoice||"",BurialServiceInvoice:i.BurialServiceInvoice||"",DueFromLGU:i.DueFromLGU||"",DueFromRate:i.DueFromRate||0,DueToLGU:i.DueToLGU||"",DueToRate:i.DueToRate||0,RealPropertyTax:i.RealPropertyTax||"",RealPropertyTaxRate:i.RealPropertyTaxRate||0},validationSchema:Fhe,onSubmit:r,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Charge Account of Service Invoice"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(k,{label:"Marriage Service Invoice",name:"MarriageServiceInvoice",type:"select",required:!0,value:l.MarriageServiceInvoice,onChange:d,onBlur:f,error:c.MarriageServiceInvoice,touched:u.MarriageServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(k,{label:"Burial Service Invoice",name:"BurialServiceInvoice",type:"select",required:!0,value:l.BurialServiceInvoice,onChange:d,onBlur:f,error:c.BurialServiceInvoice,touched:u.BurialServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Real Property Tax Shares Settings"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due to LGUs"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"Account",name:"DueToLGU",type:"select",required:!0,value:l.DueToLGU,onChange:d,onBlur:f,error:c.DueToLGU,touched:u.DueToLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(k,{label:"Rate",name:"DueToRate",type:"number",required:!0,value:l.DueToRate,onChange:d,onBlur:f,error:c.DueToRate,touched:u.DueToRate})]})]}),o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due From Local Government Units"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"Account",name:"DueFromLGU",type:"select",required:!0,value:l.DueFromLGU,onChange:d,onBlur:f,error:c.DueFromLGU,touched:u.DueFromLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(k,{label:"Rate",name:"DueFromRate",type:"number",required:!0,value:l.DueFromRate,onChange:d,onBlur:f,error:c.DueFromRate,touched:u.DueFromRate})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Special Education Funds"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"Real Property Tax",name:"RealPropertyTax",type:"select",required:!0,value:l.RealPropertyTax,onChange:d,onBlur:f,error:c.RealPropertyTax,touched:u.RealPropertyTax,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(k,{label:"Rate",name:"RealPropertyTaxRate",type:"number",required:!0,value:l.RealPropertyTaxRate,onChange:d,onBlur:f,error:c.RealPropertyTaxRate,touched:u.RealPropertyTaxRate})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary",children:"Save"})]})]})})},Z6="https://staging-engine.testthelink.online",yy=L("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Z6}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),qhe=L("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),Q6=L("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${Z6}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vhe=L("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),Uhe={invoiceChargeAccounts:[],isLoading:!1,error:null},zhe=ye({name:"invoiceChargeAccounts",initialState:Uhe,reducers:{},extraReducers:t=>{t.addCase(yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(qhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(Q6.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(Vhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),Whe=zhe.reducer;function Hhe(){const t=se(),{invoiceChargeAccounts:e}=q(n=>n.invoiceChargeAccounts);v.useEffect(()=>{t(yy())},[t]);const r=async(n,{setSubmitting:a})=>{try{await t(Q6(n)).unwrap(),a(!1)}catch(s){console.error("Failed to save invoice charge account:",s),a(!1)}};return o.jsx("div",{children:o.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:o.jsx(Bhe,{onSubmit:r,invoiceChargeAccounts:e})})})}function Ghe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required")}),a=Qe({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Yhe(){const t=se(),{itemUnits:e,isLoading:r}=q(y=>y.itemUnits),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ma())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(gy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete item unit:",y)}},b=y=>{t(s?kA({...y,ID:s.ID}):py(y)),a(!1)},p=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Item Unit":"Add Item Unit",children:o.jsx(Ghe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Khe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Type:O().required("Type is required"),Description:O().required("Description is required")});return o.jsx(_e,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(k,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(k,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const xj="https://staging-engine.testthelink.online",Jhe=[],Gd=L("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${xj}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),by=L("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${xj}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=L("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${xj}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),xy=L("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${xj}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Xhe=ye({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Gd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gd.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Gd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=Jhe}).addCase(by.pending,e=>{e.isLoading=!0,e.error=null}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(xy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),Zhe=Xhe.reducer;function Qhe(){const t=se(),{projectTypes:e,isLoading:r}=q(y=>y.projectTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Gd())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(xy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete project type:",y)}},b=y=>{t(s?IA({...y,ID:s.ID}):by(y)),a(!1)},p=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Type":"Add Project Type",children:o.jsx(Khe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',u==null?void 0:u.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function epe({initialData:t,onSubmit:e,onClose:r}){const n=se(),{projectTypes:a,loading:s}=q(c=>c.projectTypes);v.useEffect(()=>{n(Gd())},[n]);const i=ie({Title:O().required("Title is required"),ProjectTypeID:O().required("Project Type is required"),StartDate:Re().required("Start Date is required"),EndDate:Re().required("End Date is required"),Description:O().required("Description is required")}),l=Qe({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(k,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(k,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(k,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>setIsModalOpen(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const vj="https://staging-engine.testthelink.online",tpe=[],xs=L("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),vy=L("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${vj}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),EA=L("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${vj}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jy=L("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${vj}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),rpe=ye({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(xs.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xs.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(xs.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=tpe}).addCase(vy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(EA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),npe=rpe.reducer;function ape(){const t=se(),{projectDetails:e,isLoading:r}=q(y=>y.projectDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(xs())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(jy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete project detail:",y)}},b=y=>{t(s?EA({...y,ID:s.ID}):vy(y)),a(!1)},p=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0},{key:"Description",header:"Description",sortable:!1}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(epe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',u==null?void 0:u.projectTitle,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function spe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required")});return o.jsx(_e,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const jj="https://staging-engine.testthelink.online",ope=[],ipe={financialStatements:ope,financialStatement:null,isLoading:!1,error:null},wy=L("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Cy=L("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${jj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Ny=L("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${jj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Sy=L("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${jj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),eV=ye({name:"financialStatements",initialState:ipe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(wy.pending,e=>{e.isLoading=!0}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Cy.pending,e=>{e.isLoading=!0}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ny.pending,e=>{e.isLoading=!0}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Sy.pending,e=>{e.isLoading=!0}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:V8e,resetFinancialStatementState:U8e}=eV.actions,lpe=eV.reducer;function cpe(){const t=se(),{financialStatements:e,isLoading:r}=q(y=>y.financialStatements),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(wy())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Sy(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete financial statement:",y)}},b=y=>{t(s?Ny({...y,ID:s.ID}):Cy(y)),a(!1)},p=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(spe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function upe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),Year:K().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:O().required("Month Start is required"),MonthEnd:O().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx(_e,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(k,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(k,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(k,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const wj="https://staging-engine.testthelink.online",dpe=[],vn=L("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ay=L("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${wj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),OA=L("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${wj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ty=L("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${wj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),fpe=ye({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(vn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vn.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(vn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=dpe}).addCase(Ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(OA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(Ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),mpe=fpe.reducer;function hpe(){const t=se(),{fiscalYears:e,isLoading:r}=q(y=>y.fiscalYears),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(vn())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Ty(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete fiscal year:",y)}},b=y=>{t(s?OA({...y,id:s.ID}):Ay(y)),a(!1)},p=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx(upe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const ppe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function gpe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Type:O().required("Type is required"),Code:O().required("Code is required"),Name:O().required("Nature of Payment is required"),Rate:K().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx(_e,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(k,{label:"Type",name:"Type",type:"select",options:ppe,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(k,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(k,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function ype(){const t=se(),{taxCodes:e,isLoading:r}=q(y=>y.taxCodes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ha())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Dg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete tax code:",y)}},b=y=>{t(s?hA({...y,ID:s.ID}):Pg(y)),a(!1)},p=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Nature of Payment",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:y=>`${y} %`}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Code":"Add Tax Code",children:o.jsx(gpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',u==null?void 0:u.code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function bpe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required")}),a=Qe({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function xpe(){const t=se(),{modeOfPayments:e,isLoading:r}=q(y=>y.modeOfPayments),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(cc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Mg(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete mode of payment:",y)}},b=y=>{t(s?gA({...y,ID:s.ID}):Rg(y)),a(!1)},p=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(bpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function vpe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),NumberOfDays:K().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=Qe({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(k,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function jpe(){const t=se(),{paymentTerms:e,isLoading:r}=q(y=>y.paymentTerms),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(lc())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t($g(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete payment term:",y)}},b=y=>{t(s?pA({...y,ID:s.ID}):_g(y)),a(!1)},p=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Payment Term":"Add Payment Term",children:o.jsx(vpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function wpe({initialData:t,onSubmit:e,onClose:r}){const n=ie({Name:O().required("Name is required")}),a=Qe({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Cpe(){const t=se(),{industries:e,isLoading:r}=q(y=>y.industries),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ic())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Og(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete industry:",y)}},b=y=>{t(s?mA({...y,ID:s.ID}):Eg(y)),a(!1)},p=[{key:"Name",header:"Name",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Industry":"Add Industry",children:o.jsx(wpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Npe({initialData:t,onSubmit:e,onClose:r}){const n=se();v.useEffect(()=>{n(So()),n(Ao()),n(To()),n(ko())},[n]);const{regions:a}=q(p=>p.regions),{provinces:s}=q(p=>p.provinces),{municipalities:i}=q(p=>p.municipalities),{barangays:l}=q(p=>p.barangays),c=ie({FirstName:O().required("First Name is required"),MiddleName:O(),LastName:O().required("Last Name is required"),Gender:O().required("Gender is required"),Citizenship:O().required("Citizenship is required"),DateOfBirth:Re().required("Date of Birth is required"),PlaceOfBirth:O().required("Place of Birth is required"),Occupation:O().required("Occupation is required"),CivilStatus:O().required("Civil Status is required"),TIN:O().required("TIN is required"),EmailAddress:O().email().required("Email is required"),RegionID:O().required("Region is required"),ProvinceID:O().required("Province is required"),MunicipalityID:O().required("Municipality is required"),BarangayID:O().required("Barangay is required"),ZIPCode:O().required("ZIP Code is required"),StreetAddress:O().required("Street Address is required"),RDO:O().required("RDO is required")}),u=Qe({initialValues:t||{FirstName:"",MiddleName:"",LastName:"",Gender:"",Citizenship:"",DateOfBirth:"",PlaceOfBirth:"",Occupation:"",CivilStatus:"",TIN:"",EmailAddress:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",ZIPCode:"",StreetAddress:"",RDO:""},validationSchema:c,onSubmit:e}),{values:d,handleChange:f,handleBlur:m,errors:h,touched:g,setFieldValue:b}=u;return v.useEffect(()=>{const p=l.find(x=>x.ID.toString()===d.BarangayID);p&&(p.MunicipalityCode&&b("MunicipalityID",p.MunicipalityCode),p.ProvinceCode&&b("ProvinceID",p.ProvinceCode),p.RegionCode&&b("RegionID",p.RegionCode))},[d.BarangayID]),v.useEffect(()=>{const p=i.find(x=>x.ID.toString()===d.MunicipalityID);p&&(p.ProvinceCode&&b("ProvinceID",p.ProvinceCode),p.RegionCode&&b("RegionID",p.RegionCode))},[d.MunicipalityID]),v.useEffect(()=>{const p=s.find(x=>x.ID.toString()===d.ProvinceID);p&&p.RegionCode&&b("RegionID",p.RegionCode)},[d.ProvinceID]),o.jsxs("form",{onSubmit:u.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:h.FirstName,touched:g.FirstName,required:!0}),o.jsx(k,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:h.MiddleName,touched:g.MiddleName}),o.jsx(k,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:h.LastName,touched:g.LastName,required:!0}),o.jsx(k,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:h.Gender,touched:g.Gender,required:!0}),o.jsx(k,{label:"Citizenship",name:"Citizenship",value:d.Citizenship,onChange:f,onBlur:m,error:h.Citizenship,touched:g.Citizenship,required:!0}),o.jsx(k,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:h.DateOfBirth,touched:g.DateOfBirth,required:!0}),o.jsx(k,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:h.PlaceOfBirth,touched:g.PlaceOfBirth,required:!0}),o.jsx(k,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:h.Occupation,touched:g.Occupation,required:!0}),o.jsx(k,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:h.CivilStatus,touched:g.CivilStatus,required:!0}),o.jsx(k,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:h.TIN,touched:g.TIN,required:!0}),o.jsx(k,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:h.EmailAddress,touched:g.EmailAddress,required:!0}),o.jsx(k,{label:"Region",name:"RegionID",type:"select",options:a.map(p=>({value:p.ID,label:p.Name})),value:d.RegionID,onChange:f,onBlur:m,error:h.RegionID,touched:g.RegionID,required:!0}),o.jsx(k,{label:"Province",name:"ProvinceID",type:"select",options:s.map(p=>({value:p.ID,label:p.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:h.ProvinceID,touched:g.ProvinceID,required:!0}),o.jsx(k,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(p=>({value:p.ID,label:p.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:h.MunicipalityID,touched:g.MunicipalityID,required:!0}),o.jsx(k,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(p=>({value:p.ID,label:p.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:h.BarangayID,touched:g.BarangayID,required:!0}),o.jsx(k,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:h.ZIPCode,touched:g.ZIPCode,required:!0}),o.jsx(k,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:h.StreetAddress,touched:g.StreetAddress,required:!0}),o.jsx(k,{label:"Revenue District Office",name:"RDO",value:d.RDO,onChange:f,onBlur:m,error:h.RDO,touched:g.RDO,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const Cj="https://staging-engine.testthelink.online",Spe=[],Hn=L("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Cj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ky=L("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${Cj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),PA=L("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${Cj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Iy=L("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${Cj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ape=ye({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Hn.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hn.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(Hn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=Spe}).addCase(ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(PA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(Iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),Tpe=Ape.reducer;function kpe(){const t=se(),{customers:e,isLoading:r}=q(j=>j.customers),{industries:n}=q(j=>j.industries),{taxCodes:a}=q(j=>j.taxCodes),{paymentTerms:s}=q(j=>j.paymentTerms),{modeOfPayments:i}=q(j=>j.modeOfPayments),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,g]=v.useState(null);v.useEffect(()=>{t(Hn()),t(ic()),t(ha()),t(lc()),t(cc())},[t]);const b=()=>{d(null),c(!0)},p=j=>{d(j),c(!0)},x=j=>{console.log("Delete customer:",j),g(j),m(!0)},y=async()=>{if(h)try{await t(Iy(h.ID)).unwrap(),m(!1),g(null)}catch(j){console.error("Failed to delete Individual/Citizen:",j)}},w=j=>{t(u?PA({...j,ID:u.ID}):ky(j)),c(!1)},S=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"TIN",header:"TIN",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:j=>{const N=s.find(A=>A.ID==j);return(N==null?void 0:N.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:j=>{const N=i.find(A=>A.ID==j);return(N==null?void 0:N.Name)||"N/A"}},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:j=>{const N=a.find(A=>A.ID==j);return(N==null?void 0:N.Code)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:j=>{const N=n.find(A=>A.ID==j);return(N==null?void 0:N.Name)||"N/A"}},{key:"ZIPCode",header:"ZIP Code",sortable:!0},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0},{key:"DateofRegistration",header:"Date of Registration",sortable:!0}],C=[{icon:Ae,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:S,data:e,actions:C,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(Npe,{initialData:u,onClose:()=>c(!1),onSubmit:w})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the individual/citizen "',h==null?void 0:h.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ipe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},Epe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function dt({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:$e("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",Ipe[e],Epe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function Ope({initialData:t,onSubmit:e,onClose:r}){const n=se(),{customers:a}=q(y=>y.customers);v.useEffect(()=>{n(Hn())},[n]);const s=Qe({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:ie({T_D_No:K().required("TD No. is required"),PropertyID:K().required("Property ID is required")}),onSubmit:y=>{e({...y,assessmentRows:i})}}),[i,l]=v.useState(()=>{var y;return(y=t==null?void 0:t.AssessmentRows)!=null&&y.length?t.AssessmentRows.map(w=>({...w})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:h,isSubmitting:g}=s,b=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},p=y=>{if(i.length===1)return;const w=[...i];w.splice(y,1),l(w)},x=(y,w,S)=>{const C=[...i];C[y][w]=S,l(C)};return o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:f.T_D_No,touched:m.T_D_No}),o.jsx(k,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(k,{label:"Owner",name:"OwnerID",type:"select",options:a.map(y=>({value:y.ID,label:y.Name})),value:c.OwnerID,onChange:u,onBlur:d,error:f.OwnerID,touched:m.OwnerID}),o.jsx(k,{label:"TIN",name:"OwnerTIN",type:"number",value:c.OwnerTIN,onChange:u,onBlur:d,error:f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(k,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(k,{label:"Address",name:"OwnerAddress",type:"text",value:c.OwnerAddress,onChange:u,onBlur:d,error:f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(k,{label:"Beneficial/Administrator User",options:a.map(y=>({value:y.ID,label:y.Name})),name:"BeneficialorAdminUserID",type:"select",value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(k,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(k,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(k,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(k,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(k,{label:"Survey No.",name:"SurveyNumber",type:"number",value:c.SurveyNumber,onChange:u,onBlur:d,error:f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(k,{label:"Lot No.",name:"LotNumber",type:"text",value:c.LotNumber,onChange:u,onBlur:d,error:f.LotNumber,touched:m.LotNumber}),o.jsx(k,{label:"CCT",name:"CCT",type:"text",value:c.CCT,onChange:u,onBlur:d,error:f.CCT,touched:m.CCT}),o.jsx(k,{label:"Block No.",name:"BlockNumber",type:"text",value:c.BlockNumber,onChange:u,onBlur:d,error:f.BlockNumber,touched:m.BlockNumber}),o.jsx(k,{label:"Dated",name:"Dated",type:"date",value:c.Dated,onChange:u,onBlur:d,error:f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"North",name:"North",type:"text",value:c.North,onChange:u,onBlur:d,error:f.North,touched:m.North}),o.jsx(k,{label:"South",name:"South",type:"text",value:c.South,onChange:u,onBlur:d,error:f.South,touched:m.South}),o.jsx(k,{label:"East",name:"East",type:"text",value:c.East,onChange:u,onBlur:d,error:f.East,touched:m.East}),o.jsx(k,{label:"West",name:"West",type:"text",value:c.West,onChange:u,onBlur:d,error:f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"This Declaration cancels TD No."}),o.jsx("select",{name:"CancelTDNumber",value:c.CancelTDNumber,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:o.jsx("option",{value:"",children:"Select TD No."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Effectivity of Assessment/Reassessment"}),o.jsx("input",{type:"text",name:"Effectivity",value:c.Effectivity,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Owner:"}),o.jsx("input",{type:"text",name:"ownerPrevious",value:c.ownerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Previous Assessed Value:"}),o.jsx("input",{type:"number",name:"PreviousAssessedValue",value:c.PreviousAssessedValue,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,error:f.KindofProperty,touched:m.KindofProperty}),o.jsx(k,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,error:f.Storeys,touched:m.Storeys})]}),o.jsx(k,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:f.Description,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kind:"}),o.jsxs("select",{name:"kind",value:c.kind,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Kind"}),o.jsx("option",{value:"LAND",children:"LAND"}),o.jsx("option",{value:"BUILDING",children:"BUILDING"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Use:"}),o.jsxs("select",{name:"ActualUse",value:c.ActualUse,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Use"}),o.jsx("option",{value:"RESIDENTIAL",children:"RESIDENTIAL"}),o.jsx("option",{value:"COMMERCIAL",children:"COMMERCIAL"}),o.jsx("option",{value:"INDUSTRIAL",children:"INDUSTRIAL"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Classification:"}),o.jsxs("select",{name:"Classification",value:c.Classification,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Classification"}),o.jsx("option",{value:"A",children:"A"}),o.jsx("option",{value:"B",children:"B"}),o.jsx("option",{value:"C",children:"C"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Area Size:"}),o.jsx("input",{type:"text",name:"AreaSize",value:c.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Assessment Level:"}),o.jsx("input",{type:"number",name:"AssessmentLevel",value:c.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Market Value:"}),o.jsx("input",{type:"number",name:"MarketValue",value:c.MarketValue,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(dt,{type:"button",onClick:b,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(W0,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(y=>o.jsx("th",{className:"border border-gray-300 p-2 text-sm",children:y},y))})}),o.jsx("tbody",{children:i.map((y,w)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(S=>o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y[S],onChange:C=>x(w,S,C.target.value),className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},S)),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(dt,{type:"button",onClick:()=>p(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})})]},w))})]})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":"Save"})]})]})}const Nj="https://staging-engine.testthelink.online",Ppe=[],Ey=L("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Nj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Oy=L("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Nj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),DA=L("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Nj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Py=L("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${Nj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dpe=ye({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=Ppe}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(DA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(DA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),_pe=Dpe.reducer;function $pe(){const t=se(),{taxDeclarations:e,isLoading:r}=q(y=>y.taxDeclarations),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ey())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Py(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete tax declaration:",y)}},b=y=>{t(s?DA({...y,ID:s.ID}):Oy(y)),a(!1)},p=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx(k,{type:"select",name:"year",label:"Year",placeholder:"Select a year",options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(ae,{size:"xl",isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(Ope,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',u==null?void 0:u.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Sj="https://staging-engine.testthelink.online",Rpe=[],Dy=L("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Sj}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_y=L("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Sj}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_A=L("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Sj}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$y=L("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${Sj}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mpe=ye({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=Rpe}).addCase(_y.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(_y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(_A.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase($y.pending,e=>{e.isLoading=!0,e.error=null}).addCase($y.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase($y.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),Lpe=Mpe.reducer,Fpe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=se(),{employees:s}=q(u=>u.employees);v.useEffect(()=>{a(nn())},[a]);const i=ie().shape({General_Revision_Date_Year:O().required("Required"),GeneralRevisionCode:O().required("Required"),TaxDeclarationCode:O().required("Required")}),l=Qe({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(k,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(k,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Xt,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx(Xt,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx(Xt,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:c.find(l.values.ProvincialAssessor),error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx(Xt,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},Bpe=()=>{const t=se(),{generalRevisions:e,isLoading:r}=q(y=>y.generalRevisions),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(null);v.useEffect(()=>{t(Dy())},[t]);const f=()=>{c(null),a(!0)},m=y=>{c(y),a(!0)},h=y=>{t(l?_A({...y,ID:l.ID}):_y(y)),a(!1)},g=y=>{d(y),i(!0)},b=()=>{u&&(t($y(u.ID)),i(!1))},p=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,actions:x,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:l?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(Fpe,{initialData:l,onClose:()=>a(!1),onSubmit:h})}),o.jsxs(ae,{isOpen:s,onClose:()=>i(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:u==null?void 0:u.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})};function qpe({initialData:t,onSubmit:e,onClose:r}){const n=new Date().getFullYear(),a=ie({GeneralRevisionYear:K().required("General Revision Year is required"),Classification:O().required("Classification is required"),Unit:O().required("Unit is required"),ActualUse:O().required("Actual Use is required"),SubClassification:O().required("Sub Class No is required"),Price:K().required("Unit Value is required"),Location:O().required("Location or Description is required")}),s=Qe({initialValues:t||{GeneralRevisionYear:n,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:a,onSubmit:c=>{e(c)}}),i=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],l=()=>{if(!s.values.Classification)return[];const u={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[s.values.Classification];return u?Array.from({length:6},(d,f)=>({value:`${u}${f+1}`,label:`${u}${f+1}`})):[]};return v.useEffect(()=>{if(s.values.Classification&&s.values.SubClassification){const c=s.values.SubClassification.charAt(0),u=s.values.Classification.charAt(0);c!==u&&s.setFieldValue("SubClassification","")}},[s.values.Classification]),o.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[o.jsx(k,{label:"General Revision Year",name:"GeneralRevisionYear",type:"number",value:s.values.GeneralRevisionYear,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.GeneralRevisionYear,touched:s.touched.GeneralRevisionYear,required:!0}),o.jsx(k,{label:"Classification",name:"Classification",type:"select",options:i,value:s.values.Classification,onChange:c=>{s.handleChange(c),s.setFieldValue("SubClassification","")},onBlur:s.handleBlur,error:s.errors.Classification,touched:s.touched.Classification,required:!0}),o.jsx(k,{label:"Sub Class No.",name:"SubClassification",type:"select",options:l(),value:s.values.SubClassification,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.SubClassification,touched:s.touched.SubClassification,required:!0,disabled:!s.values.Classification}),o.jsx(k,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:s.values.Unit,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Unit,touched:s.touched.Unit,required:!0}),o.jsx(k,{label:"Actual Use",name:"ActualUse",type:"text",value:s.values.ActualUse,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.ActualUse,touched:s.touched.ActualUse,required:!0}),o.jsx(k,{label:"Unit Value",name:"Price",type:"number",value:s.values.Price,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Price,touched:s.touched.Price,required:!0}),o.jsx(k,{label:"Location or Description",name:"Location",type:"textarea",value:s.values.Location,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Location,touched:s.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const Aj="https://staging-engine.testthelink.online",Vpe=[],Ry=L("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Aj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),My=L("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${Aj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$A=L("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${Aj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ly=L("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${Aj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Upe=ye({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ry.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ry.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(Ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=Vpe}).addCase(My.pending,e=>{e.isLoading=!0,e.error=null}).addCase(My.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(My.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase($A.pending,e=>{e.isLoading=!0,e.error=null}).addCase($A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(Ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),zpe=Upe.reducer;function Wpe(){const t=se(),{baseUnits:e,isLoading:r}=q(y=>y.baseUnits),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ry())},[t]);const f=()=>{i(null),a(!0)},m=y=>{i(y),a(!0)},h=y=>{d(y),c(!0)},g=async()=>{if(u)try{await t(Ly(u.ID)).unwrap(),c(!1),d(null)}catch(y){console.error("Failed to delete base unit:",y)}},b=y=>{t(s?$A({...y,ID:s.ID}):My(y)),a(!1)},p=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],x=[{icon:Ae,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x,loading:r,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Base Unit":"Add Base Unit",children:o.jsx(qpe,{initialData:s,onClose:()=>a(!1),onSubmit:b})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function tl(t){"@babel/helpers - typeof";return tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(t)}function Hpe(t,e){if(tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tV(t){var e=Hpe(t,"string");return tl(e)=="symbol"?e:e+""}function hd(t,e,r){return(e=tV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ee(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e$(Object(r),!0).forEach(function(n){hd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gpe(t){if(Array.isArray(t))return t}function Ype(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function rV(t,e){if(t){if(typeof t=="string")return RA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RA(t,e):void 0}}function Kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vs(t,e){return Gpe(t)||Ype(t,e)||rV(t,e)||Kpe()}function Jpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Fs(t,e){if(t==null)return{};var r,n,a=Jpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var Xpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Zpe(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,h=t.value,g=Fs(t,Xpe),b=v.useState(l!==void 0?l:r),p=vs(b,2),x=p[0],y=p[1],w=v.useState(c!==void 0?c:a),S=vs(w,2),C=S[0],j=S[1],N=v.useState(h!==void 0?h:i),A=vs(N,2),E=A[0],T=A[1],I=v.useCallback(function(D,R){typeof u=="function"&&u(D,R),T(D)},[u]),P=v.useCallback(function(D,R){var F;typeof d=="function"&&(F=d(D,R)),y(F!==void 0?F:D)},[d]),M=v.useCallback(function(){typeof m=="function"&&m(),j(!0)},[m]),$=v.useCallback(function(){typeof f=="function"&&f(),j(!1)},[f]),_=l!==void 0?l:x,B=c!==void 0?c:C,U=h!==void 0?h:E;return Ee(Ee({},g),{},{inputValue:_,menuIsOpen:B,onChange:I,onInputChange:P,onMenuClose:$,onMenuOpen:M,value:U})}function Pe(){return Pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pe.apply(null,arguments)}function Qpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tV(n.key),n)}}function ege(t,e,r){return e&&t$(t.prototype,e),r&&t$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},MA(t,e)}function tge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function Dx(t){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dx(t)}function nV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!t})()}function rge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nge(t,e){if(e&&(tl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rge(t)}function age(t){var e=nV();return function(){var r,n=Dx(t);if(e){var a=Dx(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return nge(this,r)}}function sge(t){if(Array.isArray(t))return RA(t)}function oge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ige(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SE(t){return sge(t)||oge(t)||rV(t)||ige()}function lge(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function cge(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var uge=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cge(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=lge(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Pr="-ms-",_x="-moz-",et="-webkit-",aV="comm",AE="rule",TE="decl",dge="@import",sV="@keyframes",fge="@layer",mge=Math.abs,Tj=String.fromCharCode,hge=Object.assign;function pge(t,e){return Cr(t,0)^45?(((e<<2^Cr(t,0))<<2^Cr(t,1))<<2^Cr(t,2))<<2^Cr(t,3):0}function oV(t){return t.trim()}function gge(t,e){return(t=e.exec(t))?t[0]:t}function tt(t,e,r){return t.replace(e,r)}function LA(t,e){return t.indexOf(e)}function Cr(t,e){return t.charCodeAt(e)|0}function Ff(t,e,r){return t.slice(e,r)}function Ta(t){return t.length}function kE(t){return t.length}function Wh(t,e){return e.push(t),t}function yge(t,e){return t.map(e).join("")}var kj=1,Pc=1,iV=0,on=0,Qt=0,lu="";function Ij(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:kj,column:Pc,length:i,return:""}}function Bu(t,e){return hge(Ij("",null,null,"",null,null,0),t,{length:-t.length},e)}function bge(){return Qt}function xge(){return Qt=on>0?Cr(lu,--on):0,Pc--,Qt===10&&(Pc=1,kj--),Qt}function jn(){return Qt=on<iV?Cr(lu,on++):0,Pc++,Qt===10&&(Pc=1,kj++),Qt}function La(){return Cr(lu,on)}function Fy(){return on}function Um(t,e){return Ff(lu,t,e)}function Bf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lV(t){return kj=Pc=1,iV=Ta(lu=t),on=0,[]}function cV(t){return lu="",t}function By(t){return oV(Um(on-1,FA(t===91?t+2:t===40?t+1:t)))}function vge(t){for(;(Qt=La())&&Qt<33;)jn();return Bf(t)>2||Bf(Qt)>3?"":" "}function jge(t,e){for(;--e&&jn()&&!(Qt<48||Qt>102||Qt>57&&Qt<65||Qt>70&&Qt<97););return Um(t,Fy()+(e<6&&La()==32&&jn()==32))}function FA(t){for(;jn();)switch(Qt){case t:return on;case 34:case 39:t!==34&&t!==39&&FA(Qt);break;case 40:t===41&&FA(t);break;case 92:jn();break}return on}function wge(t,e){for(;jn()&&t+Qt!==57;)if(t+Qt===84&&La()===47)break;return"/*"+Um(e,on-1)+"*"+Tj(t===47?t:jn())}function Cge(t){for(;!Bf(La());)jn();return Um(t,on)}function Nge(t){return cV(qy("",null,null,null,[""],t=lV(t),0,[0],t))}function qy(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,h=0,g=0,b=1,p=1,x=1,y=0,w="",S=a,C=s,j=n,N=w;p;)switch(g=y,y=jn()){case 40:if(g!=108&&Cr(N,f-1)==58){LA(N+=tt(By(y),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:N+=By(y);break;case 9:case 10:case 13:case 32:N+=vge(g);break;case 92:N+=jge(Fy()-1,7);continue;case 47:switch(La()){case 42:case 47:Wh(Sge(wge(jn(),Fy()),e,r),c);break;default:N+="/"}break;case 123*b:l[u++]=Ta(N)*x;case 125*b:case 59:case 0:switch(y){case 0:case 125:p=0;case 59+d:x==-1&&(N=tt(N,/\f/g,"")),h>0&&Ta(N)-f&&Wh(h>32?n$(N+";",n,r,f-1):n$(tt(N," ","")+";",n,r,f-2),c);break;case 59:N+=";";default:if(Wh(j=r$(N,e,r,u,d,a,l,w,S=[],C=[],f),s),y===123)if(d===0)qy(N,e,j,j,S,s,f,l,C);else switch(m===99&&Cr(N,3)===110?100:m){case 100:case 108:case 109:case 115:qy(t,j,j,n&&Wh(r$(t,j,j,0,0,a,l,w,a,S=[],f),C),a,C,f,l,n?S:C);break;default:qy(N,j,j,j,[""],C,0,l,C)}}u=d=h=0,b=x=1,w=N="",f=i;break;case 58:f=1+Ta(N),h=g;default:if(b<1){if(y==123)--b;else if(y==125&&b++==0&&xge()==125)continue}switch(N+=Tj(y),y*b){case 38:x=d>0?1:(N+="\f",-1);break;case 44:l[u++]=(Ta(N)-1)*x,x=1;break;case 64:La()===45&&(N+=By(jn())),m=La(),d=f=Ta(w=N+=Cge(Fy())),y++;break;case 45:g===45&&Ta(N)==2&&(b=0)}}return s}function r$(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],h=kE(m),g=0,b=0,p=0;g<n;++g)for(var x=0,y=Ff(t,f+1,f=mge(b=i[g])),w=t;x<h;++x)(w=oV(b>0?m[x]+" "+y:tt(y,/&\f/g,m[x])))&&(c[p++]=w);return Ij(t,e,r,a===0?AE:l,c,u,d)}function Sge(t,e,r){return Ij(t,e,r,aV,Tj(bge()),Ff(t,2,-2),0)}function n$(t,e,r,n){return Ij(t,e,r,TE,Ff(t,0,n),Ff(t,n+1,-1),n)}function fc(t,e){for(var r="",n=kE(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function Age(t,e,r,n){switch(t.type){case fge:if(t.children.length)break;case dge:case TE:return t.return=t.return||t.value;case aV:return"";case sV:return t.return=t.value+"{"+fc(t.children,n)+"}";case AE:t.value=t.props.join(",")}return Ta(r=fc(t.children,n))?t.return=t.value+"{"+r+"}":""}function Tge(t){var e=kE(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function kge(t){return function(e){e.root||(e=e.return)&&t(e)}}function Ige(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Ege=function(e,r,n){for(var a=0,s=0;a=s,s=La(),a===38&&s===12&&(r[n]=1),!Bf(s);)jn();return Um(e,on)},Oge=function(e,r){var n=-1,a=44;do switch(Bf(a)){case 0:a===38&&La()===12&&(r[n]=1),e[n]+=Ege(on-1,r,n);break;case 2:e[n]+=By(a);break;case 4:if(a===44){e[++n]=La()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Tj(a)}while(a=jn());return e},Pge=function(e,r){return cV(Oge(lV(e),r))},a$=new WeakMap,Dge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!a$.get(n))&&!a){a$.set(e,!0);for(var s=[],i=Pge(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},_ge=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function uV(t,e){switch(pge(t,e)){case 5103:return et+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return et+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return et+t+_x+t+Pr+t+t;case 6828:case 4268:return et+t+Pr+t+t;case 6165:return et+t+Pr+"flex-"+t+t;case 5187:return et+t+tt(t,/(\w+).+(:[^]+)/,et+"box-$1$2"+Pr+"flex-$1$2")+t;case 5443:return et+t+Pr+"flex-item-"+tt(t,/flex-|-self/,"")+t;case 4675:return et+t+Pr+"flex-line-pack"+tt(t,/align-content|flex-|-self/,"")+t;case 5548:return et+t+Pr+tt(t,"shrink","negative")+t;case 5292:return et+t+Pr+tt(t,"basis","preferred-size")+t;case 6060:return et+"box-"+tt(t,"-grow","")+et+t+Pr+tt(t,"grow","positive")+t;case 4554:return et+tt(t,/([^-])(transform)/g,"$1"+et+"$2")+t;case 6187:return tt(tt(tt(t,/(zoom-|grab)/,et+"$1"),/(image-set)/,et+"$1"),t,"")+t;case 5495:case 3959:return tt(t,/(image-set\([^]*)/,et+"$1$`$1");case 4968:return tt(tt(t,/(.+:)(flex-)?(.*)/,et+"box-pack:$3"+Pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+et+t+t;case 4095:case 3583:case 4068:case 2532:return tt(t,/(.+)-inline(.+)/,et+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ta(t)-1-e>6)switch(Cr(t,e+1)){case 109:if(Cr(t,e+4)!==45)break;case 102:return tt(t,/(.+:)(.+)-([^]+)/,"$1"+et+"$2-$3$1"+_x+(Cr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~LA(t,"stretch")?uV(tt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Cr(t,e+1)!==115)break;case 6444:switch(Cr(t,Ta(t)-3-(~LA(t,"!important")&&10))){case 107:return tt(t,":",":"+et)+t;case 101:return tt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+et+(Cr(t,14)===45?"inline-":"")+"box$3$1"+et+"$2$3$1"+Pr+"$2box$3")+t}break;case 5936:switch(Cr(t,e+11)){case 114:return et+t+Pr+tt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return et+t+Pr+tt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return et+t+Pr+tt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return et+t+Pr+t+t}return t}var $ge=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case TE:e.return=uV(e.value,e.length);break;case sV:return fc([Bu(e,{value:tt(e.value,"@","@"+et)})],a);case AE:if(e.length)return yge(e.props,function(s){switch(gge(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fc([Bu(e,{props:[tt(s,/:(read-\w+)/,":"+_x+"$1")]})],a);case"::placeholder":return fc([Bu(e,{props:[tt(s,/:(plac\w+)/,":"+et+"input-$1")]}),Bu(e,{props:[tt(s,/:(plac\w+)/,":"+_x+"$1")]}),Bu(e,{props:[tt(s,/:(plac\w+)/,Pr+"input-$1")]})],a)}return""})}},Rge=[$ge],Mge=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var p=b.getAttribute("data-emotion");p.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var a=e.stylisPlugins||Rge,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var p=b.getAttribute("data-emotion").split(" "),x=1;x<p.length;x++)s[p[x]]=!0;l.push(b)});var c,u=[Dge,_ge];{var d,f=[Age,kge(function(b){d.insert(b)})],m=Tge(u.concat(a,f)),h=function(p){return fc(Nge(p),m)};c=function(p,x,y,w){d=y,h(p?p+"{"+x.styles+"}":x.styles),w&&(g.inserted[x.name]=!0)}}var g={key:r,sheet:new uge({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return g.sheet.hydrate(l),g},Lge=!0;function Fge(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var dV=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||Lge===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Bge=function(e,r,n){dV(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function qge(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Vge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Uge=/[A-Z]|^ms/g,zge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,fV=function(e){return e.charCodeAt(1)===45},s$=function(e){return e!=null&&typeof e!="boolean"},K1=Ige(function(t){return fV(t)?t:t.replace(Uge,"-$&").toLowerCase()}),o$=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(zge,function(n,a,s){return ka={name:a,styles:s,next:ka},a})}return Vge[e]!==1&&!fV(e)&&typeof r=="number"&&r!==0?r+"px":r};function qf(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return ka={name:a.name,styles:a.styles,next:ka},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)ka={name:i.name,styles:i.styles,next:ka},i=i.next;var l=s.styles+";";return l}return Wge(t,e,r)}case"function":{if(t!==void 0){var c=ka,u=r(t);return ka=c,qf(t,e,u)}break}}var d=r;return d}function Wge(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=qf(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;s$(l)&&(n+=K1(s)+":"+o$(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)s$(i[c])&&(n+=K1(s)+":"+o$(s,i[c])+";");else{var u=qf(t,e,i);switch(s){case"animation":case"animationName":{n+=K1(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var i$=/label:\s*([^\s;{]+)\s*(;|$)/g,ka;function mV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";ka=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=qf(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=qf(r,e,t[l]),n){var c=s;a+=c[l]}i$.lastIndex=0;for(var u="",d;(d=i$.exec(a))!==null;)u+="-"+d[1];var f=qge(a)+u;return{name:f,styles:a,next:ka}}var Hge=function(e){return e()},Gge=Oo.useInsertionEffect?Oo.useInsertionEffect:!1,Yge=Gge||Hge,hV=v.createContext(typeof HTMLElement<"u"?Mge({key:"css"}):null);hV.Provider;var Kge=function(e){return v.forwardRef(function(r,n){var a=v.useContext(hV);return e(r,a,n)})},Jge=v.createContext({}),IE={}.hasOwnProperty,BA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Xge=function(e,r){var n={};for(var a in r)IE.call(r,a)&&(n[a]=r[a]);return n[BA]=e,n},Zge=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return dV(r,n,a),Yge(function(){return Bge(r,n,a)}),null},Qge=Kge(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[BA],s=[n],i="";typeof t.className=="string"?i=Fge(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=mV(s,void 0,v.useContext(Jge));i+=e.key+"-"+l.name;var c={};for(var u in t)IE.call(t,u)&&u!=="css"&&u!==BA&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),v.createElement(v.Fragment,null,v.createElement(Zge,{cache:e,serialized:l,isStringTag:typeof a=="string"}),v.createElement(a,c))}),eye=Qge,ke=function(e,r){var n=arguments;if(r==null||!IE.call(r,"css"))return v.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=eye,s[1]=Xge(e,r);for(var i=2;i<a;i++)s[i]=n[i];return v.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(ke||(ke={}));function EE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return mV(e)}function tye(){var t=EE.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function rye(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const nye=Math.min,aye=Math.max,$x=Math.round,Hh=Math.floor,Rx=t=>({x:t,y:t});function sye(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function Ej(){return typeof window<"u"}function pV(t){return yV(t)?(t.nodeName||"").toLowerCase():"#document"}function Es(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gV(t){var e;return(e=(yV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yV(t){return Ej()?t instanceof Node||t instanceof Es(t).Node:!1}function oye(t){return Ej()?t instanceof Element||t instanceof Es(t).Element:!1}function OE(t){return Ej()?t instanceof HTMLElement||t instanceof Es(t).HTMLElement:!1}function l$(t){return!Ej()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Es(t).ShadowRoot}function bV(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=PE(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function iye(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lye(t){return["html","body","#document"].includes(pV(t))}function PE(t){return Es(t).getComputedStyle(t)}function cye(t){if(pV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||l$(t)&&t.host||gV(t);return l$(e)?e.host:e}function xV(t){const e=cye(t);return lye(e)?t.ownerDocument?t.ownerDocument.body:t.body:OE(e)&&bV(e)?e:xV(e)}function Mx(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=xV(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=Es(a);if(s){const l=qA(i);return e.concat(i,i.visualViewport||[],bV(a)?a:[],l&&r?Mx(l):[])}return e.concat(a,Mx(a,[],r))}function qA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function uye(t){const e=PE(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=OE(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=$x(r)!==s||$x(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function DE(t){return oye(t)?t:t.contextElement}function c$(t){const e=DE(t);if(!OE(e))return Rx(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=uye(e);let i=(s?$x(r.width):r.width)/n,l=(s?$x(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const dye=Rx(0);function fye(t){const e=Es(t);return!iye()||!e.visualViewport?dye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mye(t,e,r){return!1}function u$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=DE(t);let i=Rx(1);e&&(i=c$(t));const l=mye()?fye(s):Rx(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=Es(s),h=n;let g=m,b=qA(g);for(;b&&n&&h!==g;){const p=c$(b),x=b.getBoundingClientRect(),y=PE(b),w=x.left+(b.clientLeft+parseFloat(y.paddingLeft))*p.x,S=x.top+(b.clientTop+parseFloat(y.paddingTop))*p.y;c*=p.x,u*=p.y,d*=p.x,f*=p.y,c+=w,u+=S,g=Es(b),b=qA(g)}}return sye({width:d,height:f,x:c,y:u})}function vV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function hye(t,e){let r=null,n;const a=gV(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const g=Hh(f),b=Hh(a.clientWidth-(d+m)),p=Hh(a.clientHeight-(f+h)),x=Hh(d),w={rootMargin:-g+"px "+-b+"px "+-p+"px "+-x+"px",threshold:aye(0,nye(1,c))||1};let S=!0;function C(j){const N=j[0].intersectionRatio;if(N!==c){if(!S)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},1e3)}N===1&&!vV(u,t.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(C,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,w)}r.observe(t)}return i(!0),s}function pye(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=DE(t),d=a||s?[...u?Mx(u):[],...Mx(e)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const f=u&&l?hye(u,r):null;let m=-1,h=null;i&&(h=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let g,b=c?u$(t):null;c&&p();function p(){const x=u$(t);b&&!vV(b,x)&&r(),b=x,g=requestAnimationFrame(p)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(g)}}var VA=v.useLayoutEffect,gye=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Lx=function(){};function yye(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function bye(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(yye(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var d$=function(e){return Tye(e)?e.filter(Boolean):tl(e)==="object"&&e!==null?[e]:[]},jV=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=Fs(e,gye);return Ee({},r)},Wt=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function Oj(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function xye(t){return Oj(t)?window.innerHeight:t.clientHeight}function wV(t){return Oj(t)?window.pageYOffset:t.scrollTop}function Fx(t,e){if(Oj(t)){window.scrollTo(0,e);return}t.scrollTop=e}function vye(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function jye(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Gh(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Lx,a=wV(t),s=e-a,i=10,l=0;function c(){l+=i;var u=jye(l,a,s,r);Fx(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function f$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?Fx(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&Fx(t,Math.max(e.offsetTop-a,0))}function wye(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function m$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Cye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var CV=!1,Nye={get passive(){return CV=!0}},Yh=typeof window<"u"?window:{};Yh.addEventListener&&Yh.removeEventListener&&(Yh.addEventListener("p",Lx,Nye),Yh.removeEventListener("p",Lx,!1));var Sye=CV;function Aye(t){return t!=null}function Tye(t){return Array.isArray(t)}function Kh(t,e,r){return t?e:r}var kye=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=vs(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=vs(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},Iye=["children","innerProps"],Eye=["children","innerProps"];function Oye(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=vye(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),h=m.bottom,g=m.height,b=m.top,p=r.offsetParent.getBoundingClientRect(),x=p.top,y=i?window.innerHeight:xye(c),w=wV(c),S=parseInt(getComputedStyle(r).marginBottom,10),C=parseInt(getComputedStyle(r).marginTop,10),j=x-C,N=y-b,A=j+w,E=f-w-b,T=h-y+w+S,I=w+b-C,P=160;switch(a){case"auto":case"bottom":if(N>=g)return{placement:"bottom",maxHeight:e};if(E>=g&&!i)return s&&Gh(c,T,P),{placement:"bottom",maxHeight:e};if(!i&&E>=n||i&&N>=n){s&&Gh(c,T,P);var M=i?N-S:E-S;return{placement:"bottom",maxHeight:M}}if(a==="auto"||i){var $=e,_=i?j:A;return _>=n&&($=Math.min(_-S-l,e)),{placement:"top",maxHeight:$}}if(a==="bottom")return s&&Fx(c,T),{placement:"bottom",maxHeight:e};break;case"top":if(j>=g)return{placement:"top",maxHeight:e};if(A>=g&&!i)return s&&Gh(c,I,P),{placement:"top",maxHeight:e};if(!i&&A>=n||i&&j>=n){var B=e;return(!i&&A>=n||i&&j>=n)&&(B=i?j-C:A-C),s&&Gh(c,I,P),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Pye(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var NV=function(e){return e==="auto"?"bottom":e},Dye=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return Ee((n={label:"menu"},hd(n,Pye(a),"100%"),hd(n,"position","absolute"),hd(n,"width","100%"),hd(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},SV=v.createContext(null),_ye=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=v.useContext(SV)||{},d=u.setPortalPlacement,f=v.useRef(null),m=v.useState(a),h=vs(m,2),g=h[0],b=h[1],p=v.useState(null),x=vs(p,2),y=x[0],w=x[1],S=c.spacing.controlHeight;return VA(function(){var C=f.current;if(C){var j=i==="fixed",N=l&&!j,A=Oye({maxHeight:a,menuEl:C,minHeight:n,placement:s,shouldScroll:N,isFixedPosition:j,controlHeight:S});b(A.maxHeight),w(A.placement),d==null||d(A.placement)}},[a,s,i,l,n,d,S]),r({ref:f,placerProps:Ee(Ee({},e),{},{placement:y||NV(s),maxHeight:g})})},$ye=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return ke("div",Pe({},Wt(e,"menu",{menu:!0}),{ref:n},a),r)},Rye=$ye,Mye=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Ee({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},Lye=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return ke("div",Pe({},Wt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},AV=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Ee({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Fye=AV,Bye=AV,qye=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=Fs(e,Iye);return ke("div",Pe({},Wt(Ee(Ee({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Vye=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=Fs(e,Eye);return ke("div",Pe({},Wt(Ee(Ee({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},Uye=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},zye=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=v.useRef(null),u=v.useRef(null),d=v.useState(NV(i)),f=vs(d,2),m=f[0],h=f[1],g=v.useMemo(function(){return{setPortalPlacement:h}},[]),b=v.useState(null),p=vs(b,2),x=p[0],y=p[1],w=v.useCallback(function(){if(a){var N=wye(a),A=l==="fixed"?0:window.pageYOffset,E=N[m]+A;(E!==(x==null?void 0:x.offset)||N.left!==(x==null?void 0:x.rect.left)||N.width!==(x==null?void 0:x.rect.width))&&y({offset:E,rect:N})}},[a,l,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);VA(function(){w()},[w]);var S=v.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=pye(a,c.current,w,{elementResize:"ResizeObserver"in window}))},[a,w]);VA(function(){S()},[S]);var C=v.useCallback(function(N){c.current=N,S()},[S]);if(!r&&l!=="fixed"||!x)return null;var j=ke("div",Pe({ref:C},Wt(Ee(Ee({},e),{},{offset:x.offset,position:l,rect:x.rect}),"menuPortal",{"menu-portal":!0}),s),n);return ke(SV.Provider,{value:g},r?Xv.createPortal(j,r):j)},Wye=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Hye=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return ke("div",Pe({},Wt(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},Gye=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Ee({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Yye=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return ke("div",Pe({},Wt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},Kye=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Jye=function(e){var r=e.children,n=e.innerProps;return ke("div",Pe({},Wt(e,"indicatorsContainer",{indicators:!0}),n),r)},h$,Xye=["size"],Zye=["innerProps","isRtl","size"],Qye={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},TV=function(e){var r=e.size,n=Fs(e,Xye);return ke("svg",Pe({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Qye},n))},_E=function(e){return ke(TV,Pe({size:20},e),ke("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},kV=function(e){return ke(TV,Pe({size:20},e),ke("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},IV=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Ee({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},ebe=IV,tbe=function(e){var r=e.children,n=e.innerProps;return ke("div",Pe({},Wt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||ke(kV,null))},rbe=IV,nbe=function(e){var r=e.children,n=e.innerProps;return ke("div",Pe({},Wt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||ke(_E,null))},abe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Ee({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},sbe=function(e){var r=e.innerProps;return ke("span",Pe({},r,Wt(e,"indicatorSeparator",{"indicator-separator":!0})))},obe=tye(h$||(h$=rye([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),ibe=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Ee({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},J1=function(e){var r=e.delay,n=e.offset;return ke("span",{css:EE({animation:"".concat(obe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},lbe=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=Fs(e,Zye);return ke("div",Pe({},Wt(Ee(Ee({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),ke(J1,{delay:0,offset:n}),ke(J1,{delay:160,offset:!0}),ke(J1,{delay:320,offset:!n}))},cbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return Ee({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},ube=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return ke("div",Pe({ref:s},Wt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},dbe=ube,fbe=["data"],mbe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},hbe=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return ke("div",Pe({},Wt(e,"group",{group:!0}),c),ke(i,Pe({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),ke("div",null,r))},pbe=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Ee({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},gbe=function(e){var r=jV(e);r.data;var n=Fs(r,fbe);return ke("div",Pe({},Wt(e,"groupHeading",{"group-heading":!0}),n))},ybe=hbe,bbe=["innerRef","isDisabled","isHidden","inputClassName"],xbe=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return Ee(Ee({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},vbe),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},EV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},vbe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ee({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},EV)},jbe=function(e){return Ee({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},EV)},wbe=function(e){var r=e.cx,n=e.value,a=jV(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=Fs(a,bbe);return ke("div",Pe({},Wt(e,"input",{"input-container":!0}),{"data-value":n||""}),ke("input",Pe({className:r({input:!0},c),ref:s,style:jbe(l),disabled:i},u)))},Cbe=wbe,Nbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return Ee({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},Sbe=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Ee({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Abe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Ee({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},OV=function(e){var r=e.children,n=e.innerProps;return ke("div",n,r)},Tbe=OV,kbe=OV;function Ibe(t){var e=t.children,r=t.innerProps;return ke("div",Pe({role:"button"},r),e||ke(_E,{size:14}))}var Ebe=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return ke(u,{data:a,innerProps:Ee(Ee({},Wt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},ke(d,{data:a,innerProps:Ee({},Wt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),ke(f,{data:a,innerProps:Ee(Ee({},Wt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Obe=Ebe,Pbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Ee({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},Dbe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return ke("div",Pe({},Wt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},_be=Dbe,$be=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Ee({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Rbe=function(e){var r=e.children,n=e.innerProps;return ke("div",Pe({},Wt(e,"placeholder",{placeholder:!0}),n),r)},Mbe=Rbe,Lbe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return Ee({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Fbe=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return ke("div",Pe({},Wt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Bbe=Fbe,qbe={ClearIndicator:nbe,Control:dbe,DropdownIndicator:tbe,DownChevron:kV,CrossIcon:_E,Group:ybe,GroupHeading:gbe,IndicatorsContainer:Jye,IndicatorSeparator:sbe,Input:Cbe,LoadingIndicator:lbe,Menu:Rye,MenuList:Lye,MenuPortal:zye,LoadingMessage:Vye,NoOptionsMessage:qye,MultiValue:Obe,MultiValueContainer:Tbe,MultiValueLabel:kbe,MultiValueRemove:Ibe,Option:_be,Placeholder:Mbe,SelectContainer:Hye,SingleValue:Bbe,ValueContainer:Yye},Vbe=function(e){return Ee(Ee({},qbe),e.components)},p$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Ube(t,e){return!!(t===e||p$(t)&&p$(e))}function zbe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Ube(t[r],e[r]))return!1;return!0}function Wbe(t,e){e===void 0&&(e=zbe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var Hbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Gbe=function(e){return ke("span",Pe({css:Hbe},e))},g$=Gbe,Ybe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(b,p){return b&&b.length?"".concat(b.indexOf(p)+1," of ").concat(b.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",h="".concat(u?" selected":"").concat(m);return"".concat(i).concat(h,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Kbe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,h=c.inputValue,g=c.isMulti,b=c.isOptionDisabled,p=c.isSearchable,x=c.menuIsOpen,y=c.options,w=c.screenReaderStatus,S=c.tabSelectsValue,C=c.isLoading,j=c["aria-label"],N=c["aria-live"],A=v.useMemo(function(){return Ee(Ee({},Ybe),f||{})},[f]),E=v.useMemo(function(){var _="";if(r&&A.onChange){var B=r.option,U=r.options,D=r.removedValue,R=r.removedValues,F=r.value,H=function(le){return Array.isArray(le)?null:le},W=D||B||H(F),ee=W?m(W):"",fe=U||R||void 0,Te=fe?fe.map(m):[],ne=Ee({isDisabled:W&&b(W,l),label:ee,labels:Te},r);_=A.onChange(ne)}return _},[r,A,b,l,m]),T=v.useMemo(function(){var _="",B=n||a,U=!!(n&&l&&l.includes(n));if(B&&A.onFocus){var D={focused:B,label:m(B),isDisabled:b(B,l),isSelected:U,options:s,context:B===n?"menu":"value",selectValue:l,isAppleDevice:d};_=A.onFocus(D)}return _},[n,a,m,b,A,s,l,d]),I=v.useMemo(function(){var _="";if(x&&y.length&&!C&&A.onFilter){var B=w({count:s.length});_=A.onFilter({inputValue:h,resultsMessage:B})}return _},[s,h,x,A,y,w,C]),P=(r==null?void 0:r.action)==="initial-input-focus",M=v.useMemo(function(){var _="";if(A.guidance){var B=a?"value":x?"menu":"input";_=A.guidance({"aria-label":j,context:B,isDisabled:n&&b(n,l),isMulti:g,isSearchable:p,tabSelectsValue:S,isInitialFocus:P})}return _},[j,n,a,g,b,p,x,A,l,S,P]),$=ke(v.Fragment,null,ke("span",{id:"aria-selection"},E),ke("span",{id:"aria-focused"},T),ke("span",{id:"aria-results"},I),ke("span",{id:"aria-guidance"},M));return ke(v.Fragment,null,ke(g$,{id:u},P&&$),ke(g$,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!P&&$))},Jbe=Kbe,UA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Xbe=new RegExp("["+UA.map(function(t){return t.letters}).join("")+"]","g"),PV={};for(var X1=0;X1<UA.length;X1++)for(var Z1=UA[X1],Q1=0;Q1<Z1.letters.length;Q1++)PV[Z1.letters[Q1]]=Z1.base;var DV=function(e){return e.replace(Xbe,function(r){return PV[r]})},Zbe=Wbe(DV),y$=function(e){return e.replace(/^\s+|\s+$/g,"")},Qbe=function(e){return"".concat(e.label," ").concat(e.value)},exe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Ee({ignoreCase:!0,ignoreAccents:!0,stringify:Qbe,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?y$(n):n,f=c?y$(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=Zbe(d),f=DV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},txe=["innerRef"];function rxe(t){var e=t.innerRef,r=Fs(t,txe),n=kye(r,"onExited","in","enter","exit","appear");return ke("input",Pe({ref:e},n,{css:EE({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var nxe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function axe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=v.useRef(!1),l=v.useRef(!1),c=v.useRef(0),u=v.useRef(null),d=v.useCallback(function(p,x){if(u.current!==null){var y=u.current,w=y.scrollTop,S=y.scrollHeight,C=y.clientHeight,j=u.current,N=x>0,A=S-C-w,E=!1;A>x&&i.current&&(n&&n(p),i.current=!1),N&&l.current&&(s&&s(p),l.current=!1),N&&x>A?(r&&!i.current&&r(p),j.scrollTop=S,E=!0,i.current=!0):!N&&-x>w&&(a&&!l.current&&a(p),j.scrollTop=0,E=!0,l.current=!0),E&&nxe(p)}},[r,n,a,s]),f=v.useCallback(function(p){d(p,p.deltaY)},[d]),m=v.useCallback(function(p){c.current=p.changedTouches[0].clientY},[]),h=v.useCallback(function(p){var x=c.current-p.changedTouches[0].clientY;d(p,x)},[d]),g=v.useCallback(function(p){if(p){var x=Sye?{passive:!1}:!1;p.addEventListener("wheel",f,x),p.addEventListener("touchstart",m,x),p.addEventListener("touchmove",h,x)}},[h,m,f]),b=v.useCallback(function(p){p&&(p.removeEventListener("wheel",f,!1),p.removeEventListener("touchstart",m,!1),p.removeEventListener("touchmove",h,!1))},[h,m,f]);return v.useEffect(function(){if(e){var p=u.current;return g(p),function(){b(p)}}},[e,g,b]),function(p){u.current=p}}var b$=["boxSizing","height","overflow","paddingRight","position"],x$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function v$(t){t.cancelable&&t.preventDefault()}function j$(t){t.stopPropagation()}function w$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function C$(){return"ontouchstart"in window||navigator.maxTouchPoints}var N$=!!(typeof window<"u"&&window.document&&window.document.createElement),qu=0,Tl={capture:!1,passive:!1};function sxe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=v.useRef({}),s=v.useRef(null),i=v.useCallback(function(c){if(N$){var u=document.body,d=u&&u.style;if(n&&b$.forEach(function(g){var b=d&&d[g];a.current[g]=b}),n&&qu<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,h=window.innerWidth-m+f||0;Object.keys(x$).forEach(function(g){var b=x$[g];d&&(d[g]=b)}),d&&(d.paddingRight="".concat(h,"px"))}u&&C$()&&(u.addEventListener("touchmove",v$,Tl),c&&(c.addEventListener("touchstart",w$,Tl),c.addEventListener("touchmove",j$,Tl))),qu+=1}},[n]),l=v.useCallback(function(c){if(N$){var u=document.body,d=u&&u.style;qu=Math.max(qu-1,0),n&&qu<1&&b$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&C$()&&(u.removeEventListener("touchmove",v$,Tl),c&&(c.removeEventListener("touchstart",w$,Tl),c.removeEventListener("touchmove",j$,Tl)))}},[n]);return v.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var oxe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},ixe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function lxe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=axe({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=sxe({isEnabled:r}),f=function(h){u(h),d(h)};return ke(v.Fragment,null,r&&ke("div",{onClick:oxe,css:ixe}),e(f))}var cxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},uxe=function(e){var r=e.name,n=e.onFocus;return ke("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:cxe,value:"",onChange:function(){}})},dxe=uxe;function $E(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function fxe(){return $E(/^iPhone/i)}function _V(){return $E(/^Mac/i)}function mxe(){return $E(/^iPad/i)||_V()&&navigator.maxTouchPoints>1}function hxe(){return fxe()||mxe()}function pxe(){return _V()||hxe()}var gxe=function(e){return e.label},yxe=function(e){return e.label},bxe=function(e){return e.value},xxe=function(e){return!!e.isDisabled},vxe={clearIndicator:rbe,container:Wye,control:cbe,dropdownIndicator:ebe,group:mbe,groupHeading:pbe,indicatorsContainer:Kye,indicatorSeparator:abe,input:xbe,loadingIndicator:ibe,loadingMessage:Bye,menu:Dye,menuList:Mye,menuPortal:Uye,multiValue:Nbe,multiValueLabel:Sbe,multiValueRemove:Abe,noOptionsMessage:Fye,option:Pbe,placeholder:$be,singleValue:Lbe,valueContainer:Gye},jxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},wxe=4,$V=4,Cxe=38,Nxe=$V*2,Sxe={baseUnit:$V,controlHeight:Cxe,menuGutter:Nxe},eC={borderRadius:wxe,colors:jxe,spacing:Sxe},Axe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:m$(),captureMenuScroll:!m$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:exe(),formatGroupLabel:gxe,getOptionLabel:yxe,getOptionValue:bxe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:xxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Cye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function S$(t,e,r,n){var a=LV(t,e,r),s=FV(t,e,r),i=MV(t,e),l=Bx(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function Vy(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return S$(t,i,e,l)}).filter(function(i){return T$(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=S$(t,r,e,n);return T$(t,s)?s:void 0}).filter(Aye)}function RV(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,SE(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function A$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,SE(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function Txe(t,e){return RV(Vy(t,e))}function T$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!qV(t)||!s)&&BV(t,{label:i,value:l,data:a},n)}function kxe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function Ixe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var tC=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},MV=function(e,r){return e.getOptionLabel(r)},Bx=function(e,r){return e.getOptionValue(r)};function LV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function FV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Bx(t,e);return r.some(function(a){return Bx(t,a)===n})}function BV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var qV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},Exe=1,VV=function(t){tge(r,t);var e=age(r);function r(n){var a;if(Qpe(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=pxe(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,h=f.isMulti,g=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:g}),m&&(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,h=a.state.selectValue,g=f&&a.isOptionSelected(c,h),b=a.isOptionDisabled(c,h);if(g){var p=a.getOptionValue(c);a.setValue(h.filter(function(x){return a.getOptionValue(x)!==p}),"deselect-option",c)}else if(!b)f?a.setValue([].concat(SE(h),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(g){return a.getOptionValue(g)!==f}),h=Kh(u,m,m[0]||null);a.onChange(h,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(Kh(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=Kh(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return tC(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return A$(Vy(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return bye.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return MV(a.props,c)},a.getOptionValue=function(c){return Bx(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=vxe[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return Vbe(a.props)},a.buildCategorizedOptions=function(){return Vy(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return RV(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Ee({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Oj(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),h=5;a.userIsDragging=f>h||m>h}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return qV(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,h=u.inputValue,g=u.isClearable,b=u.isDisabled,p=u.menuIsOpen,x=u.onKeyDown,y=u.tabSelectsValue,w=u.openMenuOnFocus,S=a.state,C=S.focusedOption,j=S.focusedValue,N=S.selectValue;if(!b&&!(typeof x=="function"&&(x(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||h)return;a.focusValue("previous");break;case"ArrowRight":if(!d||h)return;a.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(j)a.removeValue(j);else{if(!f)return;d?a.popValue():g&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!p||!y||!C||w&&a.isOptionSelected(C,N))return;a.selectOption(C);break;case"Enter":if(c.keyCode===229)break;if(p){if(!C||a.isComposing)return;a.selectOption(C);break}return;case"Escape":p?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:h}),a.onMenuClose()):g&&m&&a.clearValue();break;case" ":if(h)return;if(!p){a.openMenu("first");break}if(!C)return;a.selectOption(C);break;case"ArrowUp":p?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":p?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!p)return;a.focusOption("pageup");break;case"PageDown":if(!p)return;a.focusOption("pagedown");break;case"Home":if(!p)return;a.focusOption("first");break;case"End":if(!p)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Exe),a.state.selectValue=d$(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=tC(s,i[l])}return a}return ege(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&f$(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(f$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(eC):Ee(Ee({},eC),this.props.theme):eC}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,h=f.isRtl,g=f.options,b=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:b,isMulti:m,isRtl:h,options:g,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return LV(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return FV(this.props,a,s)}},{key:"filterOption",value:function(a,s){return BV(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,h=this.getComponents(),g=h.Input,b=this.state,p=b.inputIsHidden,x=b.ariaSelection,y=this.commonProps,w=l||this.getElementId("input"),S=Ee(Ee(Ee({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?v.createElement(g,Pe({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},S)):v.createElement(rxe,Pe({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Lx,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,h=this.props,g=h.controlShouldRenderValue,b=h.isDisabled,p=h.isMulti,x=h.inputValue,y=h.placeholder,w=this.state,S=w.selectValue,C=w.focusedValue,j=w.isFocused;if(!this.hasValue()||!g)return x?null:v.createElement(f,Pe({},m,{key:"placeholder",isDisabled:b,isFocused:j,innerProps:{id:this.getElementId("placeholder")}}),y);if(p)return S.map(function(A,E){var T=A===C,I="".concat(a.getOptionLabel(A),"-").concat(a.getOptionValue(A));return v.createElement(i,Pe({},m,{components:{Container:l,Label:c,Remove:u},isFocused:T,isDisabled:b,key:I,index:E,removeProps:{onClick:function(){return a.removeValue(A)},onTouchEnd:function(){return a.removeValue(A)},onMouseDown:function(M){M.preventDefault()}},data:A}),a.formatOptionLabel(A,"value"))});if(x)return null;var N=S[0];return v.createElement(d,Pe({},m,{data:N,isDisabled:b}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(s,Pe({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return v.createElement(s,Pe({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return v.createElement(i,Pe({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(s,Pe({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,h=s.Option,g=this.commonProps,b=this.state.focusedOption,p=this.props,x=p.captureMenuScroll,y=p.inputValue,w=p.isLoading,S=p.loadingMessage,C=p.minMenuHeight,j=p.maxMenuHeight,N=p.menuIsOpen,A=p.menuPlacement,E=p.menuPosition,T=p.menuPortalTarget,I=p.menuShouldBlockScroll,P=p.menuShouldScrollIntoView,M=p.noOptionsMessage,$=p.onMenuScrollToTop,_=p.onMenuScrollToBottom;if(!N)return null;var B=function(ee,fe){var Te=ee.type,ne=ee.data,J=ee.isDisabled,le=ee.isSelected,Z=ee.label,te=ee.value,G=b===ne,z=J?void 0:function(){return a.onOptionHover(ne)},me=J?void 0:function(){return a.selectOption(ne)},we="".concat(a.getElementId("option"),"-").concat(fe),Ie={id:we,onClick:me,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:le};return v.createElement(h,Pe({},g,{innerProps:Ie,data:ne,isDisabled:J,isSelected:le,key:we,label:Z,type:Te,value:te,isFocused:G,innerRef:G?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(ee.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(W){if(W.type==="group"){var ee=W.data,fe=W.options,Te=W.index,ne="".concat(a.getElementId("group"),"-").concat(Te),J="".concat(ne,"-heading");return v.createElement(i,Pe({},g,{key:ne,data:ee,options:fe,Heading:l,headingProps:{id:J,data:W.data},label:a.formatGroupLabel(W.data)}),W.options.map(function(le){return B(le,"".concat(Te,"-").concat(le.index))}))}else if(W.type==="option")return B(W,"".concat(W.index))});else if(w){var D=S({inputValue:y});if(D===null)return null;U=v.createElement(f,g,D)}else{var R=M({inputValue:y});if(R===null)return null;U=v.createElement(m,g,R)}var F={minMenuHeight:C,maxMenuHeight:j,menuPlacement:A,menuPosition:E,menuShouldScrollIntoView:P},H=v.createElement(_ye,Pe({},g,F),function(W){var ee=W.ref,fe=W.placerProps,Te=fe.placement,ne=fe.maxHeight;return v.createElement(c,Pe({},g,F,{innerRef:ee,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:w,placement:Te}),v.createElement(lxe,{captureEnabled:x,onTopArrive:$,onBottomArrive:_,lockEnabled:I},function(J){return v.createElement(u,Pe({},g,{innerRef:function(Z){a.getMenuListRef(Z),J(Z)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:a.getElementId("listbox")},isLoading:w,maxHeight:ne,focusedOption:b}),U)}))});return T||E==="fixed"?v.createElement(d,Pe({},g,{appendTo:T,controlElement:this.controlRef,menuPlacement:A,menuPosition:E}),H):H}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return v.createElement(dxe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(b){return a.getOptionValue(b)}).join(i);return v.createElement("input",{name:u,type:"hidden",value:m})}else{var h=f.length>0?f.map(function(b,p){return v.createElement("input",{key:"i-".concat(p),name:u,type:"hidden",value:a.getOptionValue(b)})}):v.createElement("input",{name:u,type:"hidden",value:""});return v.createElement("div",null,h)}else{var g=f[0]?this.getOptionValue(f[0]):"";return v.createElement("input",{name:u,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return v.createElement(Jbe,Pe({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,h=u.menuIsOpen,g=this.state.isFocused,b=this.commonProps=this.getCommonProps();return v.createElement(l,Pe({},b,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:g}),this.renderLiveRegion(),v.createElement(s,Pe({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:g,menuIsOpen:h}),v.createElement(c,Pe({},b,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),v.createElement(i,Pe({},b,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,h=a.options,g=a.value,b=a.menuIsOpen,p=a.inputValue,x=a.isMulti,y=d$(g),w={};if(i&&(g!==i.value||h!==i.options||b!==i.menuIsOpen||p!==i.inputValue)){var S=b?Txe(a,y):[],C=b?A$(Vy(a,y),"".concat(m,"-option")):[],j=l?kxe(s,y):null,N=Ixe(s,S),A=tC(C,N);w={selectValue:y,focusedOption:N,focusedOptionId:A,focusableOptionsWithIds:C,focusedValue:j,clearFocusValueOnUpdate:!1}}var E=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},T=u,I=d&&f;return d&&!I&&(T={value:Kh(x,y,y[0]||null),options:y,action:"initial-input-focus"},I=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(T=null),Ee(Ee(Ee({},w),E),{},{prevProps:a,ariaSelection:T,prevWasFocused:I})}}]),r}(v.Component);VV.defaultProps=Axe;var Oxe=v.forwardRef(function(t,e){var r=Zpe(t);return v.createElement(VV,Pe({ref:e},r))}),Sr=Oxe;function Vf({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,h=0,g=0,b=0,p=0,x=0,y=0,w=0,S=0;return a?(m=l*c,h=+(m*d).toFixed(2),b=+(m-h).toFixed(2),g=+(b*i/(100+i)).toFixed(2),p=+(b-g).toFixed(2)):(m=l*c,h=+(m*d).toFixed(2),g=+(m*i/100).toFixed(2),p=+(m-h).toFixed(2),b=+(p+g).toFixed(2)),x=+(p*u/100*-1).toFixed(2),y=+(p*f/100*-1).toFixed(2),w=+(x+y).toFixed(2),S=a?+(b+w).toFixed(2):+(p+w).toFixed(2),{subtotalBeforeDiscount:m,discount:h,vat:g,subtotalTaxIncluded:b,subtotalTaxExcluded:p,withheld:x,ewt:y,ewtrate:f,totalDeduction:w,subtotal:S}}function UV({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=ie({ResponsibilityCenter:O().required("Required"),ChargeAccountID:O().required("Required"),ItemID:O().required("Required"),Remarks:O().required("Required"),FPP:O().required("Required"),Price:K().required("Required"),Quantity:K().required("Required"),ItemUnitID:O().required("Required"),TAXCodeID:O().required("Required"),DiscountRate:K().required("Required")}),d=Qe({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:g=>{const b=i.find(S=>String(S.ID)===String(g.TAXCodeID)),p=Vf({price:g.Price,quantity:g.Quantity,taxRate:(b==null?void 0:b.Rate)||0,discountPercent:g.DiscountRate,vatable:g.Vatable,ewtRate:g.withheldEWT}),x=r.find(S=>String(S.value)===String(g.ResponsibilityCenter)),y=l.find(S=>String(S.value)===String(g.ChargeAccountID)),w=n.find(S=>String(S.value)===String(g.ItemID));t({...g,...p,responsibilityCenterName:x?x.label:"",chargeAccountName:y?y.label:"",itemName:w?w.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const b=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),p=Vf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});p.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",p.subtotal,!1),p.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",p.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(g=>String(g.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(k,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(k,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(k,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(k,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(k,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(k,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsxs("div",{children:[o.jsx(k,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(k,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const zV="https://staging-engine.testthelink.online",Pxe={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},Uy=L("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zV}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),rC=L("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),zy=L("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${zV}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Wy=L("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),WV=ye({name:"obligationRequests",initialState:Pxe,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(Uy.pending,e=>{e.isLoading=!0}).addCase(Uy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(Uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rC.pending,e=>{e.isLoading=!0}).addCase(rC.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(rC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(zy.pending,e=>{e.isLoading=!0}).addCase(zy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wy.pending,e=>{e.isLoading=!0}).addCase(Wy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(Wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:z8e}=WV.actions,Dxe=WV.reducer,k$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],_xe=ie().shape({obrNo:O(),obrDate:Re().required("Date is required"),payeeType:O().required("Payee type is required"),payeeId:O().required("Payee selection is required"),responsibilityCenter:O().required("Responsibility Center is required"),fund:O().required("Fund is required"),fiscalYear:O().required("Fiscal Year is required"),project:O().required("Project is required"),accountingEntries:Tr().min(1,"At least one item is required")});function $xe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:g=[],budgetOptions:b=[],taxCodeFull:p=[]}){const x=se(),y=v.useRef(null),[w,S]=v.useState(!1),[C,j]=v.useState(null),[N,A]=v.useState(null),[E,T]=v.useState(!1),[I,P]=v.useState([]),M=(D,R)=>{const F=D.reduce((ee,fe)=>ee+Number(fe.amount||0),0),H=R.reduce((ee,fe)=>ee+Number(fe.amount||0),0),W=F-H;return{grossAmount:F,totalTaxes:H,netAmount:W}},$={description:"",amount:"",accountCode:""},_={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[$],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=D=>{S(!0),M(D.items,D.taxes);const R=new FormData;D.payeeType==="Employee"?(R.append("EmployeeID",D.payeeId),R.append("VendorID",""),R.append("CustomerID","")):D.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",D.payeeId),R.append("CustomerID","")):D.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",D.payeeId)),R.append("PayeeType",D.payeeType),R.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),R.append("Address",(C==null?void 0:C.StreetAddress)||""),R.append("InvoiceNumber",D.obrNo),R.append("InvoiceDate",D.obrDate),R.append("ResponsibilityCenter",D.responsibilityCenter);const F=D.accountingEntries.reduce((ne,J)=>ne+Number(J.subtotal||0),0),H=D.accountingEntries.reduce((ne,J)=>ne+Number(J.ewt||0),0),W=D.accountingEntries.reduce((ne,J)=>ne+Number(J.withheld||0),0),ee=D.accountingEntries.reduce((ne,J)=>ne+Number(J.vat||0),0),fe=D.accountingEntries.reduce((ne,J)=>ne+Number(J.discount||0),0);R.append("Total",F.toFixed(2)),R.append("EWT",H.toFixed(2)),R.append("WithheldAmount",W.toFixed(2)),R.append("Vat_Total",ee.toFixed(2)),R.append("Discounts",fe.toFixed(2)),R.append("FundsID",D.fund),R.append("FiscalYearID",D.fiscalYear),R.append("ProjectID",D.project),R.append("TravelID",""),R.append("Items",JSON.stringify(D.accountingEntries)),D.Attachments.forEach((ne,J)=>{ne.ID?R.append(`Attachments[${J}].ID`,ne.ID):R.append(`Attachments[${J}].File`,ne)});const Te=t?Wy({formData:R,id:t.ID}):zy(R);x(Te).unwrap().then(()=>{pe.success("Success"),e()}).catch(ne=>{pe.error((ne==null?void 0:ne.message)||"Failed to submit")}).finally(()=>{S(!1)})},U=({type:D})=>{switch(D){case"Employee":return o.jsx(CE,{className:"w-5 h-5"});case"Vendor":return o.jsx(SI,{className:"w-5 h-5"});case"Individual":return o.jsx(H0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(_e,{innerRef:y,initialValues:_,validationSchema:_xe,onSubmit:B,enableReinitialize:!0,children:({values:D,errors:R,touched:F,handleChange:H,handleBlur:W,setFieldValue:ee,setFieldTouched:fe,isValid:Te})=>{M(D.items,D.taxes);const J=k$.map(G=>({value:G.value,label:G.label})).find(G=>G.value===D.payeeType),le=G=>{j(null),ee("payeeType",G),ee("payeeName",""),ee("payeeId",""),ee("payeeAddress",""),ee("officeUnitProject",""),ee("orsNumber","")},Z=G=>{let z=null;switch(D.payeeType){case"Employee":z=s.find(me=>me.ID===G);break;case"Vendor":z=i.find(me=>me.ID===G);break;case"Individual":z=l.find(me=>me.ID===G);break}j(z),ee("payeeName",z==null?void 0:z.Name),ee("payeeId",z==null?void 0:z.ID)},te=G=>{switch(G){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Le,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:k$.map(G=>o.jsxs("button",{type:"button",onClick:()=>le(G.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${D.payeeType===G.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(U,{type:G.value}),o.jsx("span",{className:"ml-3 font-medium",children:G.label})]},G.value))}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),D.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",J==null?void 0:J.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:te(D.payeeType),value:te(D.payeeType).find(G=>G.value===D.payeeId)||null,onChange:G=>Z(G.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(J==null?void 0:J.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((J==null?void 0:J.label)==="Employee"||(J==null?void 0:J.label)==="Vendor"||(J==null?void 0:J.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(k,{type:"text",label:"OBR No.",name:"obrNo",value:D.obrNo,onChange:H,onBlur:W,error:R.obrNo,touched:F.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(k,{type:"date",label:"Date",name:"obrDate",value:D.obrDate,onChange:H,onBlur:W,error:R.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:c,value:c.find(G=>G.value===D.responsibilityCenter)||null,onChange:G=>ee("responsibilityCenter",G.value),onBlur:()=>fe("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),R.responsibilityCenter&&F.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:u,value:u.find(G=>G.value===D.fund)||null,onChange:G=>ee("fund",G.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:f,value:f.find(G=>G.value===D.fiscalYear)||null,onChange:G=>ee("fiscalYear",G.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:d,value:d.find(G=>G.value===D.project)||null,onChange:G=>ee("project",G.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(Xr,{name:"accountingEntries",children:({push:G,remove:z})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>T(!0),children:"+ Item"})]}),D.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),D.accountingEntries.map((me,we)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:me.responsibilityCenterName}),o.jsx("span",{children:me.Remarks}),o.jsx("span",{children:me.itemName}),o.jsx("span",{children:me.FPP}),o.jsx("span",{children:me.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(me.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>z(we),className:"text-red-600 text-xs",children:""})})]},we)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:D.accountingEntries.reduce((me,we)=>me+Number(we.subtotal),0).toFixed(2)})]})]}),o.jsx(ae,{isOpen:E,onClose:()=>T(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(UV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:g,budgetOptions:b,taxCodeFull:p,onClose:()=>T(!1),onSubmit:me=>{G(me),T(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(Xr,{name:"Attachments",render:({remove:G,push:z})=>{var me;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>z({File:null}),children:"+ Attachment"})]}),(me=D.Attachments)==null?void 0:me.map((we,Ie)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[we.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${we.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:we.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Ie}].ID`,value:we.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Ie+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Ie}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ne=>ee(`Attachments[${Ie}].File`,Ne.currentTarget.files[0]),onBlur:W,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>G(Ie),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(gr,{className:"w-4 h-4"})})]},Ie))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Rxe({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(il,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(r3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(t3,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(s3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const Pj="https://staging-engine.testthelink.online",Ht=L("budgetFunds/fetchBudgetFunds",async()=>await(await fetch(`${Pj}/funds`,{method:"GET"})).json()),Hy=L("budgetFunds/createBudgetFund",async t=>{const r=await(await fetch(`${Pj}/funds`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({IsNew:!0,...t})})).json();if(r)return pe.success("Fund added successfully"),r;throw new Error("Failed to create fund")}),Gy=L("budgetFunds/updateBudgetFund",async t=>{const r=await(await fetch(`${Pj}/funds`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({IsNew:!1,...t})})).json();if(r)return pe.success("Fund updated successfully"),r;throw new Error("Failed to update fund")}),Yy=L("budgetFunds/deleteBudgetFund",async t=>{if(await(await fetch(`${Pj}/funds/${t}`,{method:"DELETE"})).json())return pe.success("Fund deleted successfully"),t;throw new Error("Failed to delete fund")}),Mxe=ye({name:"budgetFunds",initialState:{funds:[],loading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ht.pending,e=>{e.loading=!0,e.error=null}).addCase(Ht.fulfilled,(e,r)=>{e.loading=!1,e.funds=r.payload||[]}).addCase(Ht.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to fetch budget funds")}).addCase(Hy.pending,e=>{e.loading=!0,e.error=null}).addCase(Hy.fulfilled,(e,r)=>{e.loading=!1,e.funds=[...e.funds,r.payload]}).addCase(Hy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to create fund")}).addCase(Gy.pending,e=>{e.loading=!0,e.error=null}).addCase(Gy.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.map(n=>n.ID===r.payload.ID?r.payload:n)}).addCase(Gy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to update fund")}).addCase(Yy.pending,e=>{e.loading=!0,e.error=null}).addCase(Yy.fulfilled,(e,r)=>{e.loading=!1,e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(Yy.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message,pe.error("Failed to delete fund")})}}),Lxe=Mxe.reducer,Fxe=[{ID:"1",Name:"Budget 1"}],Io=L("budget/fetchBudgets",async(t,e)=>{try{return Fxe}catch(r){return e.rejectWithValue(r.message)}}),nC=L("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),aC=L("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),sC=L("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),Bxe={budgets:[],isLoading:!1,error:null},qxe=ye({name:"budget",initialState:Bxe,reducers:{},extraReducers:t=>{t.addCase(Io.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Io.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(Io.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(nC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(nC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(aC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(aC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(aC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(sC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sC.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(sC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),Vxe=qxe.reducer;function Uxe(){const t=se(),{obligationRequests:e,isLoading:r}=q(j=>j.obligationRequests),{employees:n}=q(j=>j.employees),{customers:a}=q(j=>j.customers),{vendorDetails:s}=q(j=>j.vendorDetails),{departments:i}=q(j=>j.departments),{projectDetails:l}=q(j=>j.projectDetails),{funds:c}=q(j=>j.funds),{fiscalYears:u}=q(j=>j.fiscalYears),{items:d}=q(j=>j.items),{taxCodes:f}=q(j=>j.taxCodes),{itemUnits:m}=q(j=>j.itemUnits),{budgets:h}=q(j=>j.budget),[g,b]=v.useState("list"),[p,x]=v.useState(null);v.useEffect(()=>{t(Uy()),t(nn()),t(Hn()),t(ys()),t(tr()),t(xs()),t(Ht()),t(vn()),t(bs()),t(ha()),t(Ma()),t(Io())},[t]);const y=()=>{x(null),b("form")},w=j=>{x(j),b("form")},S=()=>{b("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>{let N="bg-neutral-100 text-neutral-800";switch(j){case"Requested":N="bg-warning-100 text-warning-800";break;case"Pending Approval":N="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":N="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:j})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[g==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var A;const N=[];return((A=j.Transaction)==null?void 0:A.Status)==="Rejected"&&N.push({icon:Ae,title:"Edit",onClick:()=>w(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N},loading:r})})]}),g==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:p?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",p?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx($xe,{initialData:p,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:h.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:S,onSubmitSuccess:S,onClose:S})})]}),g==="details"&&p&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>w(p),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(Rxe,{or:p,onBack:S})})]})]})}function Yd(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${zA(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function zA(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${zA(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${zA(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const RE="https://staging-engine.testthelink.online",zxe={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},Ky=L("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${RE}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),Jy=L("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${RE}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),oC=L("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Xy=L("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${RE}/disbursementVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),Zy=L("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),HV=ye({name:"disbursementVouchers",initialState:zxe,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(Jy.pending,e=>{e.isLoading=!0}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(oC.pending,e=>{e.isLoading=!0}).addCase(oC.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(oC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Xy.pending,e=>{e.isLoading=!0}).addCase(Xy.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(Xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zy.pending,e=>{e.isLoading=!0}).addCase(Zy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(Zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ky.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(Ky.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(Ky.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:W8e}=HV.actions,Wxe=HV.reducer,I$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Hxe=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function Gxe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:g=[],budgetOptions:b=[],taxCodeFull:p=[],chartOfAccountsOptions:x=[]}){const y=se(),w=v.useRef(null),[S,C]=v.useState(!1),[j,N]=v.useState(null),[A,E]=v.useState(null),[T,I]=v.useState(null),[P,M]=v.useState(!1),[$,_]=v.useState([]),[B,U]=v.useState((t==null?void 0:t.modeOfPayment)||""),D=()=>ie().shape({payeeType:O().required("Payee type is required"),payeeId:O().required("Payee selection is required"),accountingEntries:T==="Standalone Request"?Tr():Tr().min(1,"At least one item is required"),contraAccount:O().required("Contra Account is required"),modeOfPayment:O().required("Mode of Payment is required"),bank:B==="Check"?O().required("Bank is required"):O(),checkNumber:B==="Check"?O().required("Check Number is required"):O(),receivedPaymentBy:O().required("Received Payment By is required")}),{requestOptions:R,requestOptionsLoading:F,requestOptionsError:H}=q(J=>J.disbursementVouchers),W=(J,le)=>{const Z=J.reduce((z,me)=>z+Number(me.amount||0),0),te=le.reduce((z,me)=>z+Number(me.amount||0),0),G=Z-te;return{grossAmount:Z,totalTaxes:te,netAmount:G}},ee={description:"",amount:"",accountCode:""},fe={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[ee],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",contraAccount:(t==null?void 0:t.contraAccount)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.receivedPaymentBy)||""},Te=J=>{C(!0),W(J.items,J.taxes);const le=new FormData;J.payeeType==="Employee"?(le.append("EmployeeID",J.payeeId),le.append("VendorID",""),le.append("CustomerID","")):J.payeeType==="Vendor"?(le.append("EmployeeID",""),le.append("VendorID",J.payeeId),le.append("CustomerID","")):J.payeeType==="Individual"&&(le.append("EmployeeID",""),le.append("VendorID",""),le.append("CustomerID",J.payeeId)),le.append("PayeeType",J.payeeType),le.append("Payee",(j==null?void 0:j.Name)||(j==null?void 0:j.FirstName)+" "+(j==null?void 0:j.MiddleName)+" "+(j==null?void 0:j.LastName)||""),le.append("Address",(j==null?void 0:j.StreetAddress)||""),le.append("InvoiceNumber",J.obrNo),le.append("InvoiceDate",J.obrDate),le.append("ResponsibilityCenter",J.responsibilityCenter);const Z=J.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.subtotal||0),0),te=J.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.ewt||0),0),G=J.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.withheld||0),0),z=J.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.vat||0),0),me=J.accountingEntries.reduce((Ie,Ne)=>Ie+Number(Ne.discount||0),0);le.append("Total",Z.toFixed(2)),le.append("EWT",te.toFixed(2)),le.append("WithheldAmount",G.toFixed(2)),le.append("Vat_Total",z.toFixed(2)),le.append("Discounts",me.toFixed(2)),le.append("FundsID",J.fund),le.append("FiscalYearID",J.fiscalYear),le.append("ProjectID",J.project),le.append("TravelID",""),le.append("Items",JSON.stringify(J.accountingEntries)),J.Attachments.forEach((Ie,Ne)=>{Ie.File?le.append(`Attachments[${Ne}].File`,Ie.File):Ie.ID&&le.append(`Attachments[${Ne}].ID`,Ie.ID)}),le.append("OBR_LinkID",J.OBR_LinkID||""),le.append("ContraAccountID",J.contraAccount),le.append("ModeOfPayment",J.modeOfPayment),le.append("BankID",J.bank),le.append("CheckNumber",J.checkNumber),le.append("ReceivedPaymentBy",J.receivedPaymentBy);const we=t?Zy({formData:le,id:t.ID}):Xy(le);y(we).unwrap().then(()=>{pe.success("Success"),e()}).catch(Ie=>{pe.error((Ie==null?void 0:Ie.message)||"Failed to submit")}).finally(()=>{C(!1)})},ne=({type:J})=>{switch(J){case"Employee":return o.jsx(CE,{className:"w-5 h-5"});case"Vendor":return o.jsx(SI,{className:"w-5 h-5"});case"Individual":return o.jsx(H0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(_e,{innerRef:w,initialValues:fe,validationSchema:D(),onSubmit:Te,enableReinitialize:!0,children:({values:J,errors:le,touched:Z,handleChange:te,handleBlur:G,setFieldValue:z,setFieldTouched:me,isValid:we})=>{W(J.items,J.taxes);const Ne=I$.map(Y=>({value:Y.value,label:Y.label})).find(Y=>Y.value===J.payeeType),dr=Y=>{N(null),z("payeeType",Y),z("payeeName",""),z("payeeId",""),z("payeeAddress",""),z("officeUnitProject",""),z("orsNumber","")},On=Y=>{E(null),z("requestType",Y),I(Y),Y==="Standalone Request"&&z("accountingEntries",[]),J.payeeType&&J.payeeId&&Y&&y(Ky({requestType:Y,payeeType:J.payeeType,payeeId:J.payeeId}))},Pn=Y=>{var Ce,De;E(Y);const ue=(((Ce=Y==null?void 0:Y.raw)==null?void 0:Ce.TransactionItemsAll)||[]).map(ze=>{var Ha,ti,Ws,ri,WO,HO,GO;const Ft={Price:ze.Price??0,Quantity:ze.Quantity??1,DiscountRate:ze.DiscountRate??0,Vatable:ze.Vatable,withheldEWT:ze.EWTRate??0},zs=Vf({price:Ft.Price,quantity:Ft.Quantity,taxRate:ze.TaxRate||0,discountPercent:Ft.DiscountRate,vatable:Ft.Vatable,ewtRate:Ft.withheldEWT});return{...ze,...zs,itemName:((Ha=ze.Item)==null?void 0:Ha.Name)||"",subtotal:ze.AmountDue||0,Remarks:ze.Remarks||"",FPP:ze.FPP||"",accountCode:((Ws=(ti=ze.ChargeAccount)==null?void 0:ti.ChartofAccounts)==null?void 0:Ws.AccountCode)||"",accountName:((WO=(ri=ze.ChargeAccount)==null?void 0:ri.ChartofAccounts)==null?void 0:WO.Name)||"",fundCode:((GO=(HO=Y==null?void 0:Y.raw)==null?void 0:HO.sourceFunds)==null?void 0:GO.Code)||""}});w.current&&(w.current.setFieldValue("accountingEntries",ue),w.current.setFieldValue("OBR_LinkID",((De=Y==null?void 0:Y.raw)==null?void 0:De.LinkID)||""))},Us=Y=>{let de=null;switch(J.payeeType){case"Employee":de=s.find(ue=>ue.ID===Y);break;case"Vendor":de=i.find(ue=>ue.ID===Y);break;case"Individual":de=l.find(ue=>ue.ID===Y);break}N(de),z("payeeName",de==null?void 0:de.Name),z("payeeId",de==null?void 0:de.ID)},Dn=Y=>{switch(Y){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},X=Y=>{U(Y.target.value),te(Y),Y.target.value==="Cash"&&(z("bank",""),z("checkNumber",""))};return o.jsxs(Le,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:I$.map(Y=>o.jsxs("button",{type:"button",onClick:()=>dr(Y.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.payeeType===Y.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(ne,{type:Y.value}),o.jsx("span",{className:"ml-3 font-medium",children:Y.label})]},Y.value))}),le.payeeType&&Z.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.payeeType})]}),J.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",Ne==null?void 0:Ne.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:Dn(J.payeeType),onChange:Y=>Us(Y.value),value:Dn(J.payeeType).find(Y=>Y.value===J.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),le.payeeType&&Z.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.payeeType})]}),j&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(Ne==null?void 0:Ne.label)==="Employee"?`${j.FirstName||""} ${j.MiddleName||""} ${j.LastName||""}`.trim():((Ne==null?void 0:Ne.label)==="Vendor"||(Ne==null?void 0:Ne.label)==="Individual",j.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((Ne==null?void 0:Ne.label)==="Employee"||(Ne==null?void 0:Ne.label)==="Vendor"||(Ne==null?void 0:Ne.label)==="Individual",j.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:Hxe.map(Y=>o.jsx("button",{type:"button",onClick:()=>On(Y.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${J.requestType===Y.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:Y.label})},Y.value))}),le.requestType&&Z.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.requestType})]}),J.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:R.map(Y=>{var ue,Ce,De,ze,Ft,zs,Ha,ti,Ws,ri;let de="";return J.payeeType==="Employee"?de=`${((ue=Y.Employee)==null?void 0:ue.FirstName)||""} ${((Ce=Y.Employee)==null?void 0:Ce.MiddleName)||""} ${((De=Y.Employee)==null?void 0:De.LastName)||""}`.trim():J.payeeType==="Individual"?!((ze=Y.Employee)!=null&&ze.FirstName)&&!((Ft=Y.Employee)!=null&&Ft.MiddleName)&&!((zs=Y.Employee)!=null&&zs.LastName)?de=Y.Name||"N/A":de=`${((Ha=Y.Employee)==null?void 0:Ha.FirstName)||""} ${((ti=Y.Employee)==null?void 0:ti.MiddleName)||""} ${((Ws=Y.Employee)==null?void 0:Ws.LastName)||""}`.trim():J.payeeType==="Vendor"&&(de=Y.Name||"N/A"),{value:Y.ID,label:`${Y.InvoiceNumber||""}  ${de}  ${Y.TIN||""}  ${Y.InvoiceDate}  ${((ri=Y.sourceFunds)==null?void 0:ri.Code)||""}`,raw:Y}}),isLoading:F,value:A,onChange:Pn,placeholder:F?"Loading":H?`Error: ${H}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),le.requestType&&Z.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.requestType})]})]})]}),o.jsx("hr",{}),o.jsx(Xr,{name:"accountingEntries",children:({push:Y,remove:de})=>o.jsxs(o.Fragment,{children:[J.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{children:"FUND CODE"})]}),J.accountingEntries.map((ue,Ce)=>o.jsxs("div",{className:"grid grid-cols-8 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:ue.itemName}),o.jsx("span",{children:parseFloat(ue.subtotal).toFixed(2)}),o.jsx("span",{children:parseFloat(ue.subtotal).toFixed(2)}),o.jsx("span",{children:ue.Remarks}),o.jsx("span",{children:ue.FPP}),o.jsx("span",{children:ue.accountCode}),o.jsx("span",{children:ue.accountName}),o.jsx("span",{children:ue.fundCode}),o.jsx("div",{className:"col-span-8 text-right",children:o.jsx("button",{type:"button",onClick:()=>de(Ce),className:"text-red-600 text-xs",children:""})})]},Ce)),o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:J.accountingEntries.reduce((ue,Ce)=>ue+Number(Ce.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"grid grid-cols-1 gap-2 font-semibold pt-2 border-t",children:o.jsx("div",{className:"text-right",children:Yd(J.accountingEntries.reduce((ue,Ce)=>ue+Number(Ce.subtotal||0),0).toFixed(2))})})]}),o.jsx(ae,{isOpen:P,onClose:()=>M(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(UV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:g,budgetOptions:b,taxCodeFull:p,onClose:()=>M(!1),onSubmit:ue=>{Y(ue),M(!1)}})})]})}),le.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.accountingEntries}),o.jsx("hr",{}),(()=>{const Y={};J.accountingEntries.forEach(ue=>{console.log("entry",ue);const Ce=ue.TaxName||"N/A",De=ue.TaxRate||0,ze=Number(ue.WithheldAmount||0),Ft=`${Ce}-${De}`;Y[Ft]||(Y[Ft]={taxName:Ce,taxRate:De,withheld:0}),Y[Ft].withheld+=ze});const de=Object.values(Y);return de.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),de.map(({taxName:ue,taxRate:Ce,withheld:De},ze)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:ue}),o.jsx("span",{className:"text-right",children:parseFloat(Ce).toFixed(2)}),o.jsx("span",{className:"text-right",children:De.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},ze))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contra Account"}),o.jsx(Sr,{name:"contraAccount",options:x,onChange:Y=>z("contraAccount",Y==null?void 0:Y.value),value:x.find(Y=>Y.value===J.contraAccount)||null,classNamePrefix:"react-select"}),le.contraAccount&&Z.contraAccount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:le.contraAccount})]}),o.jsx("div",{children:o.jsx(k,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:J.modeOfPayment,onChange:X,onBlur:G,error:le.modeOfPayment,touched:Z.modeOfPayment,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[B==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx(k,{type:"text",label:"Bank",name:"bank",value:J.bank,onChange:te,onBlur:G,error:le.bank,touched:Z.bank,required:B==="Check"})}),o.jsx("div",{children:o.jsx(k,{type:"text",label:"Check No.",name:"checkNumber",value:J.checkNumber,onChange:te,onBlur:G,error:le.checkNumber,touched:Z.checkNumber,required:B==="Check"})})]}),o.jsx("div",{children:o.jsx(k,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:J.receivedPaymentBy,onChange:te,onBlur:G,error:le.receivedPaymentBy,touched:Z.receivedPaymentBy,required:!0})})]})]}),o.jsx("hr",{}),o.jsx(Xr,{name:"Attachments",render:({remove:Y,push:de})=>{var ue;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>de({File:null}),children:"+ Attachment"})]}),(ue=J.Attachments)==null?void 0:ue.map((Ce,De)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[Ce.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${Ce.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:Ce.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${De}].ID`,value:Ce.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${De+1}`}),o.jsx("input",{type:"file",name:`Attachments[${De}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:ze=>z(`Attachments[${De}].File`,ze.currentTarget.files[0]),onBlur:G,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>Y(De),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(gr,{className:"w-4 h-4"})})]},De))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Yxe(){const t=se(),{disbursementVouchers:e,isLoading:r}=q(N=>N.disbursementVouchers),{employees:n}=q(N=>N.employees),{customers:a}=q(N=>N.customers),{vendorDetails:s}=q(N=>N.vendorDetails),{departments:i}=q(N=>N.departments),{projectDetails:l}=q(N=>N.projectDetails),{funds:c}=q(N=>N.funds),{fiscalYears:u}=q(N=>N.fiscalYears),{items:d}=q(N=>N.items),{taxCodes:f}=q(N=>N.taxCodes),{itemUnits:m}=q(N=>N.itemUnits),{budgets:h}=q(N=>N.budget),g=q(N=>{var A;return((A=N.chartOfAccounts)==null?void 0:A.accounts)||[]}),[b,p]=v.useState("list"),[x,y]=v.useState(null);v.useEffect(()=>{t(Jy()),t(nn()),t(Hn()),t(ys()),t(tr()),t(xs()),t(Ht()),t(vn()),t(bs()),t(ha()),t(Ma()),t(Io()),t(kr())},[t]);const w=()=>{y(null),p("form")},S=N=>{y(N),p("form")},C=()=>{p("list"),y(null)},j=[{key:"Status",header:"Status",sortable:!0,render:N=>{let A="bg-neutral-100 text-neutral-800";switch(N){case"Requested":A="bg-warning-100 text-warning-800";break;case"Pending Approval":A="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":A="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":A="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A}`,children:N})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:N=>new Date(N).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[b==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),o.jsxs("button",{type:"button",onClick:w,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:j,data:e,actions:N=>{var E;const A=[];return((E=N.Transaction)==null?void 0:E.Status)==="Rejected"&&A.push({icon:Ae,title:"Edit",onClick:()=>handleEditOR(N),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),A},loading:r})})]}),b==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:x?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Gxe,{initialData:x,employeeOptions:n.map(N=>({value:N.ID,label:N.FirstName+" "+N.MiddleName+" "+N.LastName})),vendorOptions:s.map(N=>({value:N.ID,label:N.Name})),individualOptions:a.map(N=>({value:N.ID,label:N.Name})),chartOfAccountsOptions:(g||[]).map(N=>({value:N.ID,label:N.AccountCode+" - "+N.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(N=>({value:N.ID,label:N.Name})),fundOptions:c.map(N=>({value:N.ID,label:N.Name})),projectOptions:l.map(N=>({value:N.ID,label:N.Title})),fiscalYearOptions:u.map(N=>({value:N.ID,label:N.Name})),particularsOptions:d.map(N=>({value:N.ID,label:N.Name})),unitOptions:m.map(N=>({value:N.ID,label:N.Name})),taxCodeOptions:f.map(N=>({value:N.ID,label:N.Name})),budgetOptions:h.map(N=>({value:N.ID,label:N.Name})),taxCodeFull:f,onCancel:C,onSubmitSuccess:C,onClose:C})})]}),b==="details"&&x&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>S(x),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}function Kxe({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const s="https://staging-engine.testthelink.online",{departments:i}=q(y=>y.departments),{employees:l}=q(y=>y.employees),{budgets:c}=q(y=>y.budget);console.log("Budgets:",c);const u=se();v.useEffect(()=>{u(tr()),u(nn()),u(Io())},[u]);const d=ie({BudgetID:O().required("Office is required"),DateStart:Re().required("Start Date is required"),DateEnd:Re().required("End Date is required"),Place:O().required("Place/Office to be visited is required"),Venue:O().required("Venue/Destination is required"),Remarks:O(),Purpose:O().required("Purpose of Travel is required"),Travelers:Tr().of(ie({TravelerID:O().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:Tr().of(ie({Amount:K().required("Amount is required"),BudgetID:O().required("Budget of Fund is required"),Type:O().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:Tr().of(ie({Name:O().required("Document name is required")})).min(1,"At least one document is required")}),f=Qe({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:d,onSubmit:async(y,w)=>{const S=new FormData;for(const C in y)C==="Attachments"?y.Attachments.forEach((j,N)=>{j.File?S.append(`Attachments[${N}].File`,j.File):j.ID&&S.append(`Attachments[${N}].ID`,j.ID)}):S.append(C,JSON.stringify(y[C]));try{await e(S)}catch(C){console.error(C)}finally{w(!1)}}}),{values:m,handleChange:h,handleBlur:g,errors:b,touched:p,isSubmitting:x}=f;return o.jsx(gE,{value:f,children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[o.jsx(k,{type:"select",label:"Office",name:"BudgetID",options:i.map(y=>({value:y.ID,label:y.Name})),value:m.BudgetID,onChange:h,onBlur:g,error:b.BudgetID,touched:p.BudgetID,required:!0}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:h,onBlur:g,error:b.DateStart,touched:p.DateStart,required:!0}),o.jsx(k,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:h,onBlur:g,error:b.DateEnd,touched:p.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:h,onBlur:g,error:b.Place,touched:p.Place,required:!0}),o.jsx(k,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:h,onBlur:g,error:b.Venue,touched:p.Venue,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(k,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:h,onBlur:g,error:b.Remarks,touched:p.Remarks}),o.jsx(k,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:h,onBlur:g,error:b.Purpose,touched:p.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:h,onBlur:g}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:h,onBlur:g}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:h,onBlur:g}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:h,onBlur:g}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:h,onBlur:g}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(Xr,{name:"Travelers",render:({remove:y,push:w})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(dt,{type:"button",onClick:()=>w({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((S,C)=>{var j,N,A,E;return o.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[o.jsx(k,{type:"select",label:`Employee ${C+1}`,name:`Travelers[${C}].TravelerID`,options:l.map(T=>({value:T.ID,label:T.FirstName+" "+T.MiddleName+" "+T.LastName})),value:S.TravelerID,onChange:h,onBlur:g,error:(N=(j=b.Travelers)==null?void 0:j[C])==null?void 0:N.TravelerID,touched:(E=(A=p.Travelers)==null?void 0:A[C])==null?void 0:E.TravelerID,className:"min-w-[300px]",required:!0}),o.jsx(dt,{type:"button",onClick:()=>y(C),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.Travelers.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})]},C)})]})}),o.jsx("hr",{}),o.jsx(Xr,{name:"TravelPayments",render:({remove:y,push:w})=>{var S,C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(dt,{type:"button",onClick:()=>w({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(S=m.TravelPayments)==null?void 0:S.map((j,N)=>{var A,E,T,I,P,M,$,_,B,U,D,R;return o.jsxs("div",{className:"flex flex-wrap items-center items-end gap-4 mb-2",children:[o.jsx(k,{type:"number",label:"Amount",name:`TravelPayments[${N}].Amount`,value:j.Amount,onChange:h,onBlur:g,error:(E=(A=b.TravelPayments)==null?void 0:A[N])==null?void 0:E.Amount,touched:(I=(T=p.TravelPayments)==null?void 0:T[N])==null?void 0:I.Amount,className:"max-w-[180px] flex-1",required:!0}),o.jsx(k,{type:"select",label:"Source of Fund",name:`TravelPayments[${N}].BudgetID`,options:c.map(F=>({value:F.ID,label:F.Name})),value:j.BudgetID,onChange:h,onBlur:g,error:(M=(P=b.TravelPayments)==null?void 0:P[N])==null?void 0:M.BudgetID,touched:(_=($=p.TravelPayments)==null?void 0:$[N])==null?void 0:_.BudgetID,className:"min-w-[200px] flex-1",required:!0}),o.jsx(k,{type:"select",label:"Type",name:`TravelPayments[${N}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:j.Type,onChange:h,onBlur:g,error:(U=(B=b.TravelPayments)==null?void 0:B[N])==null?void 0:U.Type,touched:(R=(D=p.TravelPayments)==null?void 0:D[N])==null?void 0:R.Type,className:"min-w-[100px] flex-1",required:!0}),o.jsx(dt,{type:"button",onClick:()=>y(N),className:"bg-red-600 hover:bg-red-700 text-white p-1 mt-2",disabled:m.TravelPayments.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})]},N)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(C=m.TravelPayments)==null?void 0:C.reduce((j,N)=>{const A=parseFloat(N.Amount);return j+(isNaN(A)?0:A)},0).toFixed(2)})]})]})}}),o.jsx("hr",{}),o.jsx(Xr,{name:"TravelDocuments",render:({remove:y,push:w})=>{var S;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(dt,{type:"button",onClick:()=>w({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(S=m.TravelDocuments)==null?void 0:S.map((C,j)=>{var N,A,E,T;return o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[o.jsx(k,{type:"text",label:`Document ${j+1}`,name:`TravelDocuments[${j}].Name`,value:C.Name,onChange:h,onBlur:g,error:(A=(N=b.TravelDocuments)==null?void 0:N[j])==null?void 0:A.Name,touched:(T=(E=p.TravelDocuments)==null?void 0:E[j])==null?void 0:T.Name,className:"flex-1 min-w-[300px]",required:!0}),o.jsx(dt,{type:"button",onClick:()=>y(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.TravelDocuments.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})]},j)})]})}}),o.jsx("hr",{}),o.jsx(Xr,{name:"Attachments",render:({remove:y,push:w})=>{var S;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(dt,{type:"button",onClick:()=>w({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(S=m.Attachments)==null?void 0:S.map((C,j)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[C.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${s}/uploads/${C.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:C.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${j}].ID`,value:C.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${j+1}`}),o.jsx("input",{type:"file",name:`Attachments[${j}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:N=>f.setFieldValue(`Attachments[${j}].File`,N.currentTarget.files[0]),onBlur:g,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>y(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(gr,{className:"w-4 h-4"})})]},j))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(dt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{type:"submit",className:"btn btn-primary",disabled:x,children:x?"Saving...":"Save"})]})]})})}function Jxe({to:t,onClose:e,onEdit:r}){const n=l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l),a=l=>new Date(l).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=l=>new Date(l).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=l=>{let c="bg-neutral-100 text-neutral-800";switch(l){case"Pending Recommendation":c="bg-warning-100 text-warning-800";break;case"Pending Approval":c="bg-primary-100 text-primary-800";break;case"Approved":case"Liquidated":c="bg-success-100 text-success-800";break;case"Cancelled":c="bg-error-100 text-error-800";break}return c};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${i(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(il,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Travel Order Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TO Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.toNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.toDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Employee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Employee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.employeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Position"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.position})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Travel Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Destination"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.destination})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Means of Travel"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.meansOfTravel||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Departure"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.departureDate)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Return"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.returnDate)})]})]})}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Purpose"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900 whitespace-pre-line",children:t.purpose})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Estimated Expenses"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.estimatedExpenses)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(r3,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(t3,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recommendation"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(s3,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for recommendation"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const Dj="https://staging-engine.testthelink.online",Xxe=[],Qy=L("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dj}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),eb=L("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${Dj}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),WA=L("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${Dj}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),tb=L("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${Dj}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Zxe=ye({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qy.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(Qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=Xxe}).addCase(eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(WA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),Qxe=Zxe.reducer;function eve(){const t=se(),{travelOrders:e,isLoading:r}=q(x=>x.travelOrders),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Qy())},[t]);const f=async x=>{try{u?await t(WA({...x,ID:u.ID})).unwrap():await t(eb(x)).unwrap(),i(!1),d(null),pe.success("Success")}catch(y){throw pe.error(y||"Failed"),y}},m=()=>{d(null),i(!0)},h=async()=>{if(u)try{await t(tb(u.ID)).unwrap(),a(!1),d(null)}catch(x){console.error("Failed to delete travel order:",x)}},g=()=>{i(!1),d(null)},b=()=>{c(!1),d(null)},p=[{key:"TransactionStatus",header:"Status",sortable:!0,render:x=>{let y="bg-neutral-100 text-neutral-800";switch(x){case"Requested":y="bg-warning-100 text-warning-800";break;case"Approval Progress":y="bg-primary-100 text-primary-800";break;case"Rejected":y="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y}`,children:x})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position/Designation",header:"Position/Designation",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:p,data:e,actions:x=>[],loading:r})}),o.jsx(ae,{isOpen:s,onClose:g,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(Kxe,{initialData:u,onSubmit:f,onClose:g})}),o.jsx(ae,{isOpen:l,onClose:b,title:"Travel Order Details",size:"lg",children:u&&o.jsx(Jxe,{to:u,onClose:b,onEdit:()=>{c(!1),i(!0)},officeOptions:[],employeeOptions:[]})}),o.jsxs(ae,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.TravelOrderNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const tve="https://staging-engine.testthelink.online";function rve({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=v.useState(""),[u,d]=v.useState((t==null?void 0:t.JEVType)||""),f=ie({JEVType:O().required("Type is required"),FundsID:O().required("Fund is required"),InvoiceDate:Re().required("Date is required"),SAI_No:O(),Remarks:O().required("Particulars are required"),ObligationRequestNumber:O(),CheckNumber:O(),CheckDate:Re(),AccountingEntries:Tr().of(ie({ResponsibilityCenter:O().required("Required"),AccountExplanation:O().required("Required"),Debit:K().nullable().typeError("Must be a number").required("Debit is required"),Credit:K().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=Qe({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(w,S)=>{const C=w.AccountingEntries.reduce((A,E)=>A+(parseFloat(E.Debit)||0),0),j=w.AccountingEntries.reduce((A,E)=>A+(parseFloat(E.Credit)||0),0);if(C!==j){c("Total Debit must be equal to Total Credit.");return}else c("");const N=new FormData;for(const A in w)A==="Attachments"?w.Attachments.forEach((E,T)=>{E.File?N.append(`Attachments[${T}].File`,E.File):E.ID&&N.append(`Attachments[${T}].ID`,E.ID)}):N.append(A,JSON.stringify(w[A]));try{await e(N)}catch(A){console.error(A)}finally{S(!1)}}}),h=w=>{d(w.target.value),m.handleChange(w)},{values:g,handleChange:b,handleBlur:p,errors:x,touched:y}=m;return o.jsx(gE,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(k,{type:"select",label:"Type",name:"JEVType",options:n,value:g.JEVType,onChange:h,onBlur:p,error:x.JEVType,touched:y.JEVType,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundsID",options:a,value:g.FundsID,onChange:b,onBlur:p,error:x.FundsID,touched:y.FundsID,required:!0}),o.jsx(k,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:g.InvoiceDate,onChange:b,onBlur:p,error:x.InvoiceDate,touched:y.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(k,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:g.ObligationRequestNumber,onChange:b,onBlur:p,error:x.ObligationRequestNumber,touched:y.ObligationRequestNumber}),o.jsx(k,{type:"text",label:"Remarks",name:"Remarks",value:g.Remarks,onChange:b,onBlur:p,error:x.Remarks,touched:y.Remarks,required:!0}),o.jsx(k,{type:"text",label:"Payee",name:"Payee",value:g.Payee,onChange:b,onBlur:p,error:x.Payee,touched:y.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(k,{type:"text",label:"DV No",name:"SAI_No",value:g.SAI_No,onChange:b,onBlur:p,error:x.SAI_No,touched:y.SAI_No}),o.jsx(k,{type:"text",label:"Check No",name:"CheckNumber",value:g.CheckNumber,onChange:b,onBlur:p,error:x.CheckNumber,touched:y.CheckNumber}),o.jsx(k,{type:"date",label:"Check Date",name:"CheckDate",value:g.CheckDate,onChange:b,onBlur:p,error:x.CheckDate,touched:y.CheckDate})]}),o.jsx("hr",{}),o.jsx(Xr,{name:"AccountingEntries",render:({remove:w,push:S})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(dt,{type:"button",onClick:()=>S({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),g.AccountingEntries.map((C,j)=>{var E,T,I,P,M,$,_,B,U,D,R,F,H,W;const N=parseFloat(C.Debit)>0,A=parseFloat(C.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[o.jsx(k,{className:"flex-1 min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${j}].ResponsibilityCenter`,options:s,value:C.ResponsibilityCenter,onChange:b,onBlur:p,error:(T=(E=x.AccountingEntries)==null?void 0:E[j])==null?void 0:T.ResponsibilityCenter,touched:(P=(I=y.AccountingEntries)==null?void 0:I[j])==null?void 0:P.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Sr,{label:"Accounts and Explanation",options:i,placeholder:"Select an account...",isSearchable:!0,onChange:ee=>m.setFieldValue(`AccountingEntries[${j}].AccountExplanation`,(ee==null?void 0:ee.value)||""),name:`AccountingEntries[${j}].AccountExplanation`,value:i.find(ee=>ee.value===C.AccountExplanation)||null,onBlur:p,required:!0}),(($=(M=x.AccountingEntries)==null?void 0:M[j])==null?void 0:$.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:x.AccountingEntries[j].AccountExplanation})]}),o.jsx(k,{className:"flex-1 max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${j}].Debit`,value:C.Debit,onChange:ee=>{ee.target.value&&parseFloat(ee.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Credit`,0),b(ee)},onBlur:p,error:(B=(_=x.AccountingEntries)==null?void 0:_[j])==null?void 0:B.Debit,touched:(D=(U=y.AccountingEntries)==null?void 0:U[j])==null?void 0:D.Debit,required:!A}),o.jsx(k,{className:"flex-1 max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${j}].Credit`,value:C.Credit,onChange:ee=>{ee.target.value&&parseFloat(ee.target.value)>0&&m.setFieldValue(`AccountingEntries[${j}].Debit`,0),b(ee)},onBlur:p,error:(F=(R=x.AccountingEntries)==null?void 0:R[j])==null?void 0:F.Credit,touched:(W=(H=y.AccountingEntries)==null?void 0:H[j])==null?void 0:W.Credit,required:!N})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(dt,{type:"button",onClick:()=>w(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:g.AccountingEntries.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})})]},j)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[g.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[g.AccountingEntries.reduce((C,j)=>C+(parseFloat(j.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(Xr,{name:"Attachments",render:({remove:w,push:S})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(dt,{type:"button",onClick:()=>S({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(C=g.Attachments)==null?void 0:C.map((j,N)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[j.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${tve}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:j.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${N}].ID`,value:j.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${N+1}`}),o.jsx("input",{type:"file",name:`Attachments[${N}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:A=>m.setFieldValue(`Attachments[${N}].File`,A.currentTarget.files[0]),onBlur:p,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>w(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(gr,{className:"w-4 h-4"})})]},N))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(dt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const _j="https://staging-engine.testthelink.online",nve=[],rb=L("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_j}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),nb=L("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${_j}/journalEntryVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),HA=L("journalEntries/updateJournalEntry",async(t,e)=>{try{const r=await fetch(`${_j}/journalEntryVoucher/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ab=L("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${_j}/journalEntryVoucher/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ave=ye({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rb.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=nve}).addCase(nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(HA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(HA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),sve=ave.reducer;function ove(){var C;const{departments:t}=q(j=>j.departments),{accounts:e}=q(j=>j.chartOfAccounts),r=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],n=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],a=se(),{journalEntries:s,isLoading:i}=q(j=>j.journalEntries),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,g]=v.useState(null);v.useEffect(()=>{a(rb()),a(tr()),a(kr())},[a]);const b=()=>{d(null),c(!0)},p=j=>{d(j),c(!0)},x=j=>{g(j),m(!0)},y=async()=>{if(h)try{await a(ab(h.ID)).unwrap(),m(!1),g(null)}catch(j){console.error("Failed to delete journal entry:",j)}},w=async j=>{try{u?await a(HA({...j,ID:u.ID,LinkID:u.LinkID})).unwrap():await a(nb(j)).unwrap(),c(!1),d(null),pe.success("Success")}catch(N){throw pe.error(N||"Failed"),N}},S=[{key:"Status",header:"Status",sortable:!0,render:j=>{let N="bg-neutral-100 text-neutral-800";switch(j){case"Requested":N="bg-warning-100 text-warning-800";break;case"Posted":N="bg-primary-100 text-primary-800";break;case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:j})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entry Vouchers"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:S,data:s,actions:j=>{const N=[];return N.push({icon:Ae,title:"Edit",onClick:()=>p(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N.push({icon:Me,title:"Delete",onClick:()=>x(j),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),N},loading:i,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(ae,{size:"xxxl",isOpen:l,onClose:()=>c(!1),title:u?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(rve,{typeOptions:r,fundOptions:n,centerOptions:t.filter(j=>j.Active).map(j=>({label:j.Name,value:j.ID})),accountOptions:e.filter(j=>j.Active).map(j=>({label:j.AccountCode+" "+j.Name,value:j.ID})),initialData:u?{...u,AccountingEntries:((C=u.JournalEntries)==null?void 0:C.map(j=>{const N=e.find(A=>A.AccountCode===j.AccountCode&&A.Name===j.AccountName);return{ResponsibilityCenter:j.ResponsibilityCenter||"",AccountExplanation:(N==null?void 0:N.ID)||"",PR:j.PR||"",Debit:j.Debit||0,Credit:j.Credit||0}}))||[]}:null,onClose:()=>c(!1),onSubmit:w})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',h==null?void 0:h.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}function ive({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=ie({DateStart:O().required("Start Date is required"),DateEnd:O().required("End Date is required"),ChartOfAccountID:O().required("Chart of Accounts is required"),FundID:O().required("Fund is required"),DisbursementType:O().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(_e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:b})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:[o.jsx(k,{label:"Start Date",name:"DateStart",type:"date",value:d.DateStart,onChange:h,onBlur:g,error:f.DateStart,touched:m.DateStart,required:!0}),o.jsx(k,{label:"End Date",name:"DateEnd",type:"date",value:d.DateEnd,onChange:h,onBlur:g,error:f.DateEnd,touched:m.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:t.map(p=>({value:p.ID,label:p.Name})),value:d.ChartOfAccountID,onChange:h,onBlur:g,error:f.ChartOfAccountID,touched:m.ChartOfAccountID,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundID",options:e.map(p=>({value:p.ID,label:p.Name})),value:d.FundID,onChange:h,onBlur:g,error:f.FundID,touched:m.FundID,required:!0}),o.jsx(k,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(p=>({value:p.value,label:p.label})),value:d.DisbursementType,onChange:h,onBlur:g,error:f.DisbursementType,touched:m.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const lve="https://staging-engine.testthelink.online",cve={disbursementJournals:[],isLoading:!1,error:null},sb=L("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lve}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),iC=L("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),GV=ye({name:"disbursementJournal",initialState:cve,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sb.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(iC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iC.fulfilled,e=>{e.isLoading=!1}).addCase(iC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:uve}=GV.actions,dve=GV.reducer;function fve(){const t="https://staging-engine.testthelink.online",e=se(),{disbursementJournals:r,isLoading:n,error:a}=q(m=>m.disbursementJournal),s=q(m=>{var h;return((h=m.chartOfAccounts)==null?void 0:h.accounts)||[]}),{funds:i}=q(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];v.useEffect(()=>{e(uve()),e(kr()),e(Ht())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{try{const h=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({DisbursementType:m.DisbursementType,modeOfPayment:m.modeOfPayment,startDate:m.startDate,endDate:m.endDate,fundID:m.fundID,code:m.code})});if(!h.ok)throw new Error("Server response was not ok");const g=await h.blob(),b=h.headers.get("Content-Disposition");let p=`Disbursement_Journals_${m.DisbursementType}.xlsx`;b&&b.includes("filename=")&&(p=b.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(g),y=document.createElement("a");y.href=x,y.download=p,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)}catch(h){console.error("Export failed:",h),alert(h.message||"Failed to export disbursement journal")}},f=m=>{e(sb(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(ive,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:u,data:r,loading:n,pagination:!0})})]})}function mve({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=v.useRef(null),s=ie({DateStart:O().required("Start Date is required"),DateEnd:O().required("End Date is required"),FundID:O().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx(_e,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:h})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsx(k,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(k,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundID",options:t.map(g=>({value:g.ID,label:g.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const hve="https://staging-engine.testthelink.online",pve={generalJournals:[],isLoading:!1,error:null},ob=L("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hve}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),lC=L("generalJournal/exportGeneralJournals",async t=>!0),YV=ye({name:"generalJournal",initialState:pve,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ob.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(lC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lC.fulfilled,e=>{e.isLoading=!1}).addCase(lC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:gve}=YV.actions,yve=YV.reducer;function bve(){const t="https://staging-engine.testthelink.online",e=se(),{generalJournals:r,isLoading:n,error:a}=q(d=>d.generalJournal),{funds:s}=q(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);v.useEffect(()=>{e(gve()),e(Ht())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let g="General_Journal.xlsx";h&&h.includes("filename=")&&(g=h.split("filename=")[1].replace(/['"]/g,""));const b=window.URL.createObjectURL(m),p=document.createElement("a");p.href=b,p.download=g,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(b)}catch(f){console.error("Export failed:",f),alert(f.message||"Failed to export general journal")}},u=d=>{e(ob(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(mve,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:l,data:r,loading:n,pagination:!0})})]})}function xve({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n}){const a=ie({FiscalYearID:O().required("Fiscal Year is required")}),s={FiscalYearID:""};return o.jsx(_e,{initialValues:s,validationSchema:a,validateOnMount:!0,onSubmit:e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsx(Le,{children:o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsx("div",{className:"w-auto sm:w-auto",children:o.jsx(k,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:i.FiscalYearID,onChange:u,onBlur:d,error:l.FiscalYearID,touched:c.FiscalYearID,required:!0})}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:"Search"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:n,children:"Transfer"})]})]})})})}const zm="https://staging-engine.testthelink.online",vve={beginningBalance:[],isLoading:!1,error:null},Ti=L("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zm}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),ib=L("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${zm}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lb=L("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${zm}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cb=L("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${zm}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ub=L("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${zm}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),KV=ye({name:"beginningBalance",initialState:vve,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(Ti.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ti.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(Ti.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ib.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(ub.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ub.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:E$}=KV.actions,jve=KV.reducer;function wve({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=ie({FiscalYearID:O().required("Fiscal Year is required"),FundsID:O().required("Funds are required"),BeginningBalance:K().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:O().required("Chart of Accounts is required")}),l=Qe({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(k,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(k,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(k,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Sr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function Cve({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=ie({PreviousFiscalYearID:O().required("Previous Fiscal Year is required"),NextFiscalYearID:O().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=Qe({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(k,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function Nve(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function Sve(){const t=q(P=>{var M;return((M=P.chartOfAccounts)==null?void 0:M.accounts)||[]}),{funds:e}=q(P=>P.funds),r=se(),{fiscalYears:n}=q(P=>P.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=q(P=>P.beginningBalance),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(null),[h,g]=v.useState(!1),[b,p]=v.useState(null),[x,y]=v.useState(null);v.useEffect(()=>{r(E$()),r(vn()),r(Ht()),r(kr())},[r]);const w=async P=>{try{f?await r(lb(P)).unwrap():await r(ib(P)).unwrap(),pe.success("Success"),x&&await r(Ti(x)).unwrap()}catch(M){pe.error(M||"Failed")}finally{c(!1)}},S=async P=>{try{await r(cb(P)).unwrap(),r(E$()),await r(Ti({FiscalYearID:P.NextFiscalYearID})).unwrap(),x&&await r(Ti(x)).unwrap(),pe.success("Success")}catch(M){pe.error(M||"Transfer failed")}finally{d(!1)}},C=()=>{m(null),c(!0)},j=P=>{m(P),c(!0)},N=P=>{p(P),g(!0)},A=async()=>{if(b)try{await r(ub(b.ID)).unwrap(),g(!1),p(null),pe.success("Deleted")}catch(P){pe.error(P||"Failed")}},E=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],T=[{icon:Ae,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:N,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],I=async(P,{setSubmitting:M})=>{try{y(P),await r(Ti(P)).unwrap()}catch($){console.error("Fetch failed:",$)}finally{M(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(xve,{fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onSubmit:I,onAddClick:C,onTransferClick:()=>d(!0),onClose:()=>{}})}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(wve,{onSubmit:w,initialData:f,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),fundsOptions:e.map(P=>({value:P.ID,label:P.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(P=>({value:P.ID,label:`${P.AccountCode} - ${P.Name} - [${Nve(P.Description,50)}]`}))})}),o.jsx(ae,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(Cve,{onSubmit:S,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onClose:()=>d(!1)})}),o.jsxs(ae,{isOpen:h,onClose:()=>g(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',b==null?void 0:b.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:A,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:E,actions:T,data:a,loading:s,pagination:!0})})]})}const Ave=ie().shape({ResponsibilityCenter:O().required("Department is required"),OfficeUnitProject:O().required("Section is required"),ContraAccountID:O().required("Charge Account is required"),InvoiceNumber:O().required("PR Number is required"),SAI_No:O(),ObligationRequestNumber:O(),InvoiceDate:Re().required("PR Date is required"),SAIDate:Re(),ALOBSDate:Re(),Remarks:O().required("Purpose is required"),Items:Tr().of(ie({ItemID:O().required("Required"),Quantity:O().required("Required"),Unit:O().required("Required"),Cost:K().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function Tve({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=v.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx(_e,{initialValues:u,validationSchema:Ave,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,setFieldValue:b})=>o.jsxs(Le,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:h,onBlur:g,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:h,onBlur:g,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:h,onBlur:g,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:h,onBlur:g,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(k,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:h,onBlur:g,error:f.SAI_No,touched:m.SAI_No}),o.jsx(k,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:h,onBlur:g,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:h,onBlur:g,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(k,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:h,onBlur:g,error:f.SAIDate,touched:m.SAIDate}),o.jsx(k,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:h,onBlur:g,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(k,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:h,onBlur:g,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(Xr,{name:"Items",render:({remove:p,push:x})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(dt,{type:"button",onClick:()=>x({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((y,w)=>{var S,C,j,N,A,E,T,I,P,M,$,_,B,U;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(Sr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:D=>b(`Items[${w}].ItemID`,(D==null?void 0:D.value)||""),name:`Items[${w}].ItemID`,value:s.find(D=>D.value===y.ItemID)||null,onBlur:g,required:!0}),((C=(S=f.Items)==null?void 0:S[w])==null?void 0:C.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[w].ItemID})]}),o.jsx(k,{className:"flex-1 max-w-[180px]",type:"number",label:"Quantity",name:`Items[${w}].Quantity`,value:y.Quantity,onChange:h,onBlur:g,error:(N=(j=f.Items)==null?void 0:j[w])==null?void 0:N.Quantity,touched:(E=(A=m.Items)==null?void 0:A[w])==null?void 0:E.Quantity,required:!0}),o.jsx(k,{className:"flex-1 max-w-[150px]",type:"select",label:"Unit",name:`Items[${w}].Unit`,value:y.Unit,onChange:h,onBlur:g,options:i,error:(I=(T=f.Items)==null?void 0:T[w])==null?void 0:I.Unit,touched:(M=(P=m.Items)==null?void 0:P[w])==null?void 0:M.Unit,required:!0}),o.jsx(k,{className:"flex-1 max-w-[200px]",type:"number",label:"Cost",name:`Items[${w}].Cost`,value:y.Cost,onChange:h,onBlur:g,error:(_=($=f.Items)==null?void 0:$[w])==null?void 0:_.Cost,touched:(U=(B=m.Items)==null?void 0:B[w])==null?void 0:U.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(dt,{type:"button",onClick:()=>p(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(gr,{className:"w-4 h-4"})})})]},w)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((y,w)=>y+(parseFloat(w.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((y,w)=>y+(parseFloat(w.Cost)||0)*(parseFloat(w.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const $j="https://staging-engine.testthelink.online",kve=[],Ive={purchaseRequests:kve,isLoading:!1,error:null},db=L("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$j}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),fb=L("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${$j}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mb=L("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${$j}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hb=L("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${$j}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Eve=ye({name:"purchaseRequests",initialState:Ive,reducers:{},extraReducers:t=>{t.addCase(db.pending,e=>{e.isLoading=!0}).addCase(db.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fb.pending,e=>{e.isLoading=!0}).addCase(fb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mb.pending,e=>{e.isLoading=!0}).addCase(mb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(hb.pending,e=>{e.isLoading=!0}).addCase(hb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(hb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),Ove=Eve.reducer;function Pve(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),{departments:a}=q(C=>C.departments),s=q(C=>{var j;return((j=C.chartOfAccounts)==null?void 0:j.accounts)||[]}),{items:i}=q(C=>C.items),{itemUnits:l}=q(C=>C.itemUnits),{purchaseRequests:c,isLoading:u}=q(C=>C.purchaseRequests),[d,f]=v.useState(!1),[m,h]=v.useState(null),g=se();v.useEffect(()=>{g(tr()),g(kr()),g(bs()),g(Ma()),g(db())},[]);const b=()=>{n(null),e(!0)},p=()=>{e(!1),n(null)},x=async()=>{if(m)try{await g(hb(m.ID)).unwrap(),f(!1),h(null),pe.success("Deleted")}catch(C){pe.error(C||"Failed")}},y=async C=>{try{const j=C.Items.reduce((E,T)=>E+(parseFloat(T.Cost)||0),0),N=C.Items.reduce((E,T)=>E+(parseFloat(T.Cost)||0)*(parseFloat(T.Quantity)||0),0),A={...C,Total:j.toFixed(2),AmountReceived:N.toFixed(2)};r?await g(mb(A)).unwrap():await g(fb(A)).unwrap(),pe.success("Success")}catch(j){pe.error(j||"Failed")}finally{e(!1)}},w=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"AmountReceived",header:"Estimated Total",sortable:!0}],S=[];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:w,actions:S,data:c,loading:u})}),o.jsx(ae,{isOpen:t,onClose:p,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(Tve,{initialData:r,departmentsOptions:a.map(C=>({value:C.ID,label:C.Name})),chartOfAccountsOptions:s.map(C=>({value:C.ID,label:C.Name})),itemsOptions:i.map(C=>({value:C.ID,label:C.Name})),itemsUnitsOptions:l.map(C=>({value:C.ID,label:C.Name})),onSubmit:y,onClose:p})}),o.jsxs(ae,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}ie({number:O().required("Number is required"),date:Re().required("Date is required"),payee:O().required("Payee is required"),address:O().required("Address is required"),fund:O().required("Fund is required"),fiscalYear:O().required("Fiscal Year is required"),project:O().required("Project is required")});function Dve({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=ie({ResponsibilityCenter:O().required("Required"),ChargeAccountID:O().required("Required"),ItemID:O().required("Required"),Remarks:O().required("Required"),Price:K().required("Required"),Quantity:K().required("Required"),ItemUnitID:O().required("Required"),TAXCodeID:O().required("Required")}),d=Qe({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:g=>{const b=i.find(S=>String(S.ID)===String(g.TAXCodeID)),p=Vf({price:g.Price,quantity:g.Quantity,taxRate:(b==null?void 0:b.Rate)||0,vatable:g.Vatable,ewtRate:g.withheldEWT}),x=r.find(S=>String(S.value)===String(g.ResponsibilityCenter)),y=l.find(S=>String(S.value)===String(g.ChargeAccountID)),w=n.find(S=>String(S.value)===String(g.ItemID));t({...g,...p,responsibilityCenterName:x?x.label:"",chargeAccountName:y?y.label:"",itemName:w?w.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(x=>d.values[x]!==f.current[x]))return;f.current={...d.values};const b=i.find(x=>String(x.ID)===String(d.values.TAXCodeID)),p=Vf({price:d.values.Price,quantity:d.values.Quantity,taxRate:(b==null?void 0:b.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});p.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",p.subtotal,!1),p.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",p.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(g=>String(g.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(k,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(k,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(k,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(k,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(k,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(k,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(k,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const JV="https://staging-engine.testthelink.online",_ve={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},pb=L("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${JV}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),cC=L("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),gb=L("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${JV}/fundUtilizationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),yb=L("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),XV=ye({name:"fundUtilizations",initialState:_ve,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(pb.pending,e=>{e.isLoading=!0}).addCase(pb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cC.pending,e=>{e.isLoading=!0}).addCase(cC.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(cC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(gb.pending,e=>{e.isLoading=!0}).addCase(gb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(gb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(yb.pending,e=>{e.isLoading=!0}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:H8e}=XV.actions,$ve=XV.reducer,O$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Rve=ie().shape({obrNo:O().required("No. is required"),obrDate:Re().required("Date is required"),payeeType:O().required("Payee type is required"),payeeId:O().required("Payee selection is required"),fund:O().required("Fund is required"),fiscalYear:O().required("Fiscal Year is required"),project:O().required("Project is required"),accountingEntries:Tr().min(1,"At least one item is required")});function Mve({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:g=[],budgetOptions:b=[],taxCodeFull:p=[]}){const x=se(),y=v.useRef(null),[w,S]=v.useState(!1),[C,j]=v.useState(null),[N,A]=v.useState(null),[E,T]=v.useState(!1),[I,P]=v.useState([]),M=(D,R)=>{const F=D.reduce((ee,fe)=>ee+Number(fe.amount||0),0),H=R.reduce((ee,fe)=>ee+Number(fe.amount||0),0),W=F-H;return{grossAmount:F,totalTaxes:H,netAmount:W}},$={description:"",amount:"",accountCode:""},_={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[$],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=D=>{S(!0),M(D.items,D.taxes);const R=new FormData;D.payeeType==="Employee"?(R.append("EmployeeID",D.payeeId),R.append("VendorID",""),R.append("CustomerID","")):D.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",D.payeeId),R.append("CustomerID","")):D.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",D.payeeId)),R.append("PayeeType",D.payeeType),R.append("Payee",(C==null?void 0:C.Name)||(C==null?void 0:C.FirstName)+" "+(C==null?void 0:C.MiddleName)+" "+(C==null?void 0:C.LastName)||""),R.append("Address",(C==null?void 0:C.StreetAddress)||""),R.append("InvoiceNumber",D.obrNo),R.append("InvoiceDate",D.obrDate);const F=D.accountingEntries.reduce((ne,J)=>ne+Number(J.subtotal||0),0),H=D.accountingEntries.reduce((ne,J)=>ne+Number(J.ewt||0),0),W=D.accountingEntries.reduce((ne,J)=>ne+Number(J.withheld||0),0),ee=D.accountingEntries.reduce((ne,J)=>ne+Number(J.vat||0),0),fe=D.accountingEntries.reduce((ne,J)=>ne+Number(J.discount||0),0);R.append("Total",F.toFixed(2)),R.append("EWT",H.toFixed(2)),R.append("WithheldAmount",W.toFixed(2)),R.append("Vat_Total",ee.toFixed(2)),R.append("Discounts",fe.toFixed(2)),R.append("FundsID",D.fund),R.append("FiscalYearID",D.fiscalYear),R.append("ProjectID",D.project),R.append("TravelID",""),R.append("Items",JSON.stringify(D.accountingEntries)),D.Attachments.forEach((ne,J)=>{ne.File?R.append(`Attachments[${J}].File`,ne.File):ne.ID&&R.append(`Attachments[${J}].ID`,ne.ID)});const Te=t?yb({formData:R,id:t.ID}):gb(R);x(Te).unwrap().then(()=>{pe.success("Success"),e()}).catch(ne=>{pe.error((ne==null?void 0:ne.message)||"Failed to submit"),console.error("Error submitting DV:",ne)}).finally(()=>{S(!1)})},U=({type:D})=>{switch(D){case"Employee":return o.jsx(CE,{className:"w-5 h-5"});case"Vendor":return o.jsx(SI,{className:"w-5 h-5"});case"Individual":return o.jsx(H0,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx(_e,{innerRef:y,initialValues:_,validationSchema:Rve,onSubmit:B,enableReinitialize:!0,children:({values:D,errors:R,touched:F,handleChange:H,handleBlur:W,setFieldValue:ee,isValid:fe})=>{M(D.items,D.taxes);const ne=O$.map(te=>({value:te.value,label:te.label})).find(te=>te.value===D.payeeType),J=te=>{j(null),ee("payeeType",te),ee("payeeName",""),ee("payeeId",""),ee("payeeAddress",""),ee("officeUnitProject",""),ee("orsNumber","")},le=te=>{let G=null;switch(D.payeeType){case"Employee":G=s.find(z=>z.ID===te);break;case"Vendor":G=i.find(z=>z.ID===te);break;case"Individual":G=l.find(z=>z.ID===te);break}j(G),ee("payeeName",G==null?void 0:G.Name),ee("payeeId",G==null?void 0:G.ID)},Z=te=>{switch(te){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Le,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:O$.map(te=>o.jsxs("button",{type:"button",onClick:()=>J(te.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${D.payeeType===te.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(U,{type:te.value}),o.jsx("span",{className:"ml-3 font-medium",children:te.label})]},te.value))}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),D.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",ne==null?void 0:ne.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:Z(D.payeeType),value:Z(D.payeeType).find(te=>te.value===D.payeeId)||null,onChange:te=>le(te.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),C&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(ne==null?void 0:ne.label)==="Employee"?`${C.FirstName||""} ${C.MiddleName||""} ${C.LastName||""}`.trim():((ne==null?void 0:ne.label)==="Vendor"||(ne==null?void 0:ne.label)==="Individual",C.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((ne==null?void 0:ne.label)==="Employee"||(ne==null?void 0:ne.label)==="Vendor"||(ne==null?void 0:ne.label)==="Individual",C.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(k,{type:"text",label:"No.",name:"obrNo",value:D.obrNo,onChange:H,onBlur:W,error:R.obrNo,touched:F.obrNo,required:!0}),o.jsx(k,{type:"date",label:"Date",name:"obrDate",value:D.obrDate,onChange:H,onBlur:W,error:R.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:u,value:u.find(te=>te.value===D.fund)||null,onChange:te=>ee("fund",te.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:f,value:f.find(te=>te.value===D.fiscalYear)||null,onChange:te=>ee("fiscalYear",te.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:d,value:d.find(te=>te.value===D.project)||null,onChange:te=>ee("project",te.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(Xr,{name:"accountingEntries",children:({push:te,remove:G})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>T(!0),children:"+ Item"})]}),D.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),D.accountingEntries.map((z,me)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:z.responsibilityCenterName}),o.jsx("span",{children:z.Remarks}),o.jsx("span",{children:z.itemName}),o.jsx("span",{children:z.FPP}),o.jsx("span",{children:z.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(z.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>G(me),className:"text-red-600 text-xs",children:""})})]},me)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:D.accountingEntries.reduce((z,me)=>z+Number(me.subtotal),0).toFixed(2)})]})]}),o.jsx(ae,{isOpen:E,onClose:()=>T(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(Dve,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:g,budgetOptions:b,taxCodeFull:p,onClose:()=>T(!1),onSubmit:z=>{te(z),T(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(Xr,{name:"Attachments",render:({remove:te,push:G})=>{var z;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>G({File:null}),children:"+ Attachment"})]}),(z=D.Attachments)==null?void 0:z.map((me,we)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[me.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${me.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:me.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${we}].ID`,value:me.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${we+1}`}),o.jsx("input",{type:"file",name:`Attachments[${we}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ie=>ee(`Attachments[${we}].File`,Ie.currentTarget.files[0]),onBlur:W,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>te(we),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(gr,{className:"w-4 h-4"})})]},we))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function Lve(){const t=se(),{fundUtilizations:e,isLoading:r}=q(j=>j.fundUtilizations),{employees:n}=q(j=>j.employees),{customers:a}=q(j=>j.customers),{vendorDetails:s}=q(j=>j.vendorDetails),{departments:i}=q(j=>j.departments),{projectDetails:l}=q(j=>j.projectDetails),{funds:c}=q(j=>j.funds),{fiscalYears:u}=q(j=>j.fiscalYears),{items:d}=q(j=>j.items),{taxCodes:f}=q(j=>j.taxCodes),{itemUnits:m}=q(j=>j.itemUnits),{budgets:h}=q(j=>j.budget),[g,b]=v.useState("list"),[p,x]=v.useState(null);v.useEffect(()=>{t(pb()),t(nn()),t(Hn()),t(ys()),t(tr()),t(xs()),t(Ht()),t(vn()),t(bs()),t(ha()),t(Ma()),t(Io())},[t]);const y=()=>{x(null),b("form")},w=j=>{x(j),b("form")},S=()=>{b("list"),x(null)},C=[{key:"Status",header:"Status",sortable:!0,render:j=>{let N="bg-neutral-100 text-neutral-800";switch(j){case"Requested":N="bg-warning-100 text-warning-800";break;case"Pending Approval":N="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":N="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:j})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:j=>new Date(j).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[g==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("h1",{children:"Fund Utilization Request & Status"})}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:C,data:e,actions:j=>{var A;const N=[];return((A=j.Transaction)==null?void 0:A.Status)==="Rejected"&&N.push({icon:Ae,title:"Edit",onClick:()=>w(j),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),N},loading:r})})]}),g==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:S,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:p?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",p?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Mve,{initialData:p,employeeOptions:n.map(j=>({value:j.ID,label:j.FirstName+" "+j.MiddleName+" "+j.LastName})),vendorOptions:s.map(j=>({value:j.ID,label:j.Name})),individualOptions:a.map(j=>({value:j.ID,label:j.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(j=>({value:j.ID,label:j.Name})),fundOptions:c.map(j=>({value:j.ID,label:j.Name})),projectOptions:l.map(j=>({value:j.ID,label:j.Title})),fiscalYearOptions:u.map(j=>({value:j.ID,label:j.Name})),particularsOptions:d.map(j=>({value:j.ID,label:j.Name})),unitOptions:m.map(j=>({value:j.ID,label:j.Name})),taxCodeOptions:f.map(j=>({value:j.ID,label:j.Name})),budgetOptions:h.map(j=>({value:j.ID,label:j.Name})),taxCodeFull:f,onCancel:S,onSubmitSuccess:S,onClose:S})})]})]})}const ZV=t=>{const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE"],r=["TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],n=["","TEN","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];if(t===0)return"ZERO";let a="";const s=t.toString().split(".");let i=parseInt(s[0]);return i>=1e3&&(a+=e[Math.floor(i/1e3)]+" THOUSAND ",i%=1e3),i>=100&&(a+=e[Math.floor(i/100)]+" HUNDRED ",i%=100),i>=20?(a+=n[Math.floor(i/10)]+" ",i%=10):i>=10&&(a+=r[i-10]+" ",i=0),i>0&&(a+=e[i]+" "),s.length>1&&parseInt(s[1])&&(a+="AND "+parseInt(s[1])+"/100"),a.trim()},Fve=ie({Year:K().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:O().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Re().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:O().required("Certificate number is required").min(3,"Certificate number must be at least 3 characters"),TIN:O().matches(/^[0-9-]*$/,"TIN must contain only numbers and dashes").nullable(),LastName:O().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:O().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:O().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:O().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:O().required("Citizenship is required"),ICRNo:O().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:O().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Re().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:O(),Occupation:O().min(2,"Profession must be at least 2 characters"),Gender:O().required("Sex is required"),HeightFeet:K().typeError("Feet must be a number").min(3,"Minimum height is 3 feet").max(8,"Maximum height is 8 feet").integer("Feet must be a whole number"),HeightInches:K().typeError("Inches must be a number").min(0,"Inches cannot be negative").max(11,"Inches must be between 0 and 11").test("total-height",`Total height must be between 3'0" and 8'11"`,function(t){const e=this.parent.HeightFeet;if(!e||t===void 0)return!0;const r=e*12+t;return r>=36&&r<=107}),Weight:K().typeError("Weight must be a number").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:K().required("Basic tax is required").min(0,"Basic tax cannot be negative").max(1e4,"Basic tax cannot exceed 10,000"),BusinessEarnings:K().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:K().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:K().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:K().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:K().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:K().min(0,"Real property tax cannot be negative").nullable(),Total:K().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:K().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),AmountReceived:K().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:O().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:O().max(500,"Amount in words cannot exceed 500 characters")}),P$=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1})=>{const s=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],i=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],l=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],c=b=>{if(!b)return"";const p=parseFloat(b);return Math.floor(p/12).toString()},u=b=>{if(!b)return"";const p=parseFloat(b);return Math.round(p%12).toString()},f=Qe({initialValues:(()=>{const b=(e==null?void 0:e.Customer)||t,p=(b==null?void 0:b.Height)||"",x=p?c(p):"",y=p?u(p):"";return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",TIN:(e==null?void 0:e.TIN)||(b==null?void 0:b.TIN)||"",LastName:(b==null?void 0:b.LastName)||"",FirstName:(b==null?void 0:b.FirstName)||"",MiddleName:(b==null?void 0:b.MiddleName)||"",Address:(b==null?void 0:b.StreetAddress)||"",Citizenship:(b==null?void 0:b.Citizenship)||"",ICRNo:(b==null?void 0:b.ICRNumber)||"",PlaceOfBirth:(b==null?void 0:b.PlaceofBirth)||"",CivilStatus:(b==null?void 0:b.CivilStatus)||"",Occupation:(b==null?void 0:b.Occupation)||"",Gender:(b==null?void 0:b.Gender)||"",HeightFeet:x,HeightInches:y,Weight:(b==null?void 0:b.Weight)||"",BirthDate:(b==null?void 0:b.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:Fve,onSubmit:b=>{const x=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...m(b)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...m(b)};n(x)}}),m=b=>{const p={...b,Year:String(b.Year),Height:String(b.Height),Weight:String(b.Weight),InputOne:Number(b.BusinessEarnings),InputTwo:Number(b.OccupationEarnings),InputThree:Number(b.IncomeProperty),OutputOne:Number(b.BusinessTaxDue),OutputTwo:Number(b.OccupationTaxDue),OutputThree:Number(b.PropertyTaxDue),Municipality:b.PlaceIssued,AmountPaid:Number(b.AmountReceived),Words:b.AmountinWords,Profession:b.Occupation};return delete p.BusinessEarnings,delete p.OccupationEarnings,delete p.IncomeProperty,delete p.BusinessTaxDue,delete p.OccupationTaxDue,delete p.PropertyTaxDue,delete p.PlaceIssued,delete p.AmountReceived,delete p.AmountinWords,delete p.Occupation,p},h=b=>({name:b,value:f.values[b]||"",onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched[b]&&f.errors[b],disabled:a});v.useEffect(()=>{g()},[f.values.AmountReceived]);const g=()=>{const b=f.values.Total,p=ZV(b);f.setFieldValue("AmountinWords",p)};return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(wE,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-6 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(k,{label:"Year",...h("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Year&&f.errors.Year,touched:f.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(k,{label:"Place of Issue",...h("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceIssued&&f.errors.PlaceIssued,touched:f.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(k,{label:"Date Issued",...h("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.DateIssued&&f.errors.DateIssued,touched:f.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(k,{label:"OR No.",...h("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:f.touched.CCNumber&&f.errors.CCNumber,touched:f.touched.CCNumber,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(k,{label:"TIN (if Any)",...h("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:f.touched.TIN&&f.errors.TIN,touched:f.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(H0,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"p-6 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(k,{label:"Last Name",...h("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.LastName&&f.errors.LastName,touched:f.touched.LastName})}),o.jsx("div",{children:o.jsx(k,{label:"First Name",...h("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.FirstName&&f.errors.FirstName,touched:f.touched.FirstName})}),o.jsx("div",{children:o.jsx(k,{label:"Middle Name",...h("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.MiddleName&&f.errors.MiddleName,touched:f.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(k,{label:"Address",...h("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Address&&f.errors.Address,touched:f.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(k,{label:"Citizenship",...h("Citizenship"),type:"select",options:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Citizenship&&f.errors.Citizenship,touched:f.touched.Citizenship,required:!0}),o.jsx(k,{label:"ICR No.",...h("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.ICRNo&&f.errors.ICRNo,touched:f.touched.ICRNo}),o.jsx(k,{label:"Place of Birth",...h("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceOfBirth&&f.errors.PlaceOfBirth,touched:f.touched.PlaceOfBirth,required:!0}),o.jsx(k,{label:"Date of Birth",...h("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:f.touched.BirthDate&&f.errors.BirthDate,touched:f.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(k,{label:"Civil Status",...h("CivilStatus"),type:"radio",options:i,error:f.touched.CivilStatus&&f.errors.CivilStatus,touched:f.touched.CivilStatus})}),o.jsx("div",{children:o.jsx(k,{label:"Profession/Occupation",...h("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Occupation&&f.errors.Occupation,touched:f.touched.Occupation})}),o.jsx("div",{children:o.jsx(k,{label:"Sex",...h("Gender"),type:"radio",options:l,error:f.touched.Gender&&f.errors.Gender,touched:f.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{children:o.jsx(k,{label:"Height (feet)",...h("HeightFeet"),type:"text",min:"3",max:"8",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightFeet&&f.errors.HeightFeet,touched:f.touched.HeightFeet})}),o.jsx("div",{children:o.jsx(k,{label:"Height (inches)",...h("HeightInches"),type:"text",min:"0",max:"11",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightInches&&f.errors.HeightInches,touched:f.touched.HeightInches})}),o.jsx("div",{children:o.jsx(k,{label:"Weight (kg)",...h("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Weight&&f.errors.Weight,touched:f.touched.Weight})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(U6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-6 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(k,{label:"Taxable Amount:",...h("BasicTax"),type:"text",min:"0",step:"0.01",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:f.touched.BasicTax&&f.errors.BasicTax,touched:f.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(k,{label:"Taxable Amount:",...h("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.BusinessEarnings&&f.errors.BusinessEarnings,touched:f.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(k,{label:"Community Due Amount:",...h("BusinessTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.BusinessTaxDue&&f.errors.BusinessTaxDue,touched:f.touched.BusinessTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(k,{label:"Taxable Amount:",...h("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.OccupationEarnings&&f.errors.OccupationEarnings,touched:f.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(k,{label:"Community Due Amount:",...h("OccupationTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.OccupationTaxDue&&f.errors.OccupationTaxDue,touched:f.touched.OccupationTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(k,{label:"Taxable Amount:",...h("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.IncomeProperty&&f.errors.IncomeProperty,touched:f.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(k,{label:"Community Due Amount:",...h("PropertyTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.PropertyTaxDue&&f.errors.PropertyTaxDue,touched:f.touched.PropertyTaxDue})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(k,{...h("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Total&&f.errors.Total,touched:f.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(k,{...h("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Interest&&f.errors.Interest,touched:f.touched.Interest})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(k,{...h("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.AmountReceived&&f.errors.AmountReceived,touched:f.touched.AmountReceived})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsxs("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:[f.values.AmountinWords||"ZERO"," PESOS"]})]})})]})}),o.jsx(k,{label:"Remarks",...h("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(dt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:f.isSubmitting,children:f.isSubmitting?"Generating...":"Generate Certificate"})]}),f.submitCount>0&&Object.keys(f.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(f.errors).map(([b,p])=>o.jsx("li",{children:p},b))})]})]})})},Wm="https://staging-engine.testthelink.online",Bve=[],mc=L("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),uC=L("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),bb=L("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),dC=L("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),xb=L("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wm}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),QV=ye({name:"communityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(mc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(mc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=Bve}).addCase(uC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(uC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(dC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(dC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:G8e}=QV.actions,qve=QV.reducer;function Vve(){const t=se(),{records:e,isLoading:r}=q($=>$.communityTax),{customers:n,isLoading:a}=q($=>$.customers),[s,i]=v.useState("list"),[l,c]=v.useState(null),[u,d]=v.useState(""),[f,m]=v.useState(!1),[h,g]=v.useState({});v.useEffect(()=>{t(mc()),t(Hn())},[t]);const b=()=>{c(null),i("form")},p=$=>{c($),i("details")},x=$=>{c($),i("form"),console.log("Edit certificate:",$),M($.CustomerID)},y=$=>{console.log("Print certificate:",$)},w=()=>{i("list"),c(null),g(null)},S=async $=>{try{await t(xb($.ID)).unwrap(),t(mc())}catch(_){console.error("Error deleting certificate:",_)}},C=e==null?void 0:e.filter($=>{var B,U,D,R;const _=u.toLowerCase();return((B=$==null?void 0:$.LinkID)==null?void 0:B.toLowerCase().includes(_))||((U=$==null?void 0:$.CustomerName)==null?void 0:U.toLowerCase().includes(_))||((R=(D=$==null?void 0:$.Customer)==null?void 0:D.StreetAddress)==null?void 0:R.toLowerCase().includes(_))}),j=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:$=>N($),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:$=>N($),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:$=>new Date($).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:$=>A($)}],N=$=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format($||0),A=$=>{let _="bg-neutral-100 text-neutral-800";switch($){case"Requested":_="bg-success-100 text-success-800";break;case"Posted":_="bg-warning-100 text-warning-800";break;case"Cancelled":_="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_}`,children:$})},E=[{icon:s0,title:"View",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:S,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],T=()=>{m(!0)},I=()=>{m(!1)},P=async $=>{try{await t(bb($)).unwrap(),t(mc()),qe.success("Certificate saved successfully.")}catch(_){console.error("Error saving certificate:",_),qe.error("Failed to save certificate. Please try again.")}finally{w()}},M=$=>{const _=n.find(B=>B.ID===$);g(_)};return o.jsxs("div",{className:"container mx-auto p-2 sm:px-4 sm:py-8",children:[s==="list"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ge,{columns:j,data:C,actions:E,loading:r||a,onRowClick:p})})]}),s==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:w,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:l?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[o.jsx(Xt,{options:(n==null?void 0:n.map($=>({label:$.Name,value:$.ID})))||[],placeholder:"Choose Citizen",selectedValue:h==null?void 0:h.ID,onSelect:M,label:"Choose Citizen",required:!0}),o.jsx("button",{type:"button",onClick:T,className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:h?o.jsx(P$,{selectedCustomer:h,initialData:l,onCancel:w,onSubmitForm:P},h==null?void 0:h.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),s==="details"&&l&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:w,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>x(l),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>y(l),className:"btn btn-outline flex items-center",children:[o.jsx(il,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(P$,{initialData:l,onCancel:w,isReadOnly:!0})})]}),o.jsx(ae,{isOpen:f,onClose:I,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const Uve=ie().shape({Year:O().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:O().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Re().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:O().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:O().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:O().matches(/^\d{3}-\d{3}-\d{3}-\d{3}$|^\d{9}$|^$/,"TIN must be 9 digits or in XXX-XXX-XXX-XXX format"),Address:O().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Re().required("Registration date is required"),KindofOrganization:O().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:O().required("Place of incorporation is required"),NatureOfOrganization:O().required("Business nature is required"),BasicTax:K().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:K().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:K().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:K().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:K().typeError("Must be a number").min(0,"Cannot be negative"),Total:K().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:K().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:K().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:O().max(500,"Remarks must be less than 500 characters"),AmountinWords:O().max(500,"Amount in words cannot exceed 500 characters")}),D$=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=Qe({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(e==null?void 0:e.CustomerName)||"",TIN:(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:Uve,onSubmit:d=>{const m=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(d)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(d)};console.log("Submitted values:",m),n(m)}}),c=d=>{const f={...d,InputOne:Number(d.assessedValueRealProperty),InputTwo:Number(d.grossReceipts),OutputOne:Number(d.assessedValueTax),OutputTwo:Number(d.grossReceiptsTax),BasicTax:Number(d.BasicTax),Total:Number(d.Total),AmountPaid:Number(d.AmountPaid),Interest:Number(d.Interest),Words:d.AmountinWords};return delete f.assessedValueRealProperty,delete f.assessedValueTax,delete f.grossReceipts,delete f.grossReceiptsTax,delete f.AmountinWords,f};v.useEffect(()=>{u()},[l.values.AmountPaid]);const u=()=>{const d=l.values.Total,f=ZV(d);l.setFieldValue("AmountinWords",f)};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(wE,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx(k,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.Year&&l.errors.Year?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Year}):null]}),o.jsxs("div",{children:[o.jsx(k,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.PlaceIssued&&l.errors.PlaceIssued?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.PlaceIssued}):null]}),o.jsxs("div",{children:[o.jsx(k,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.DateIssued&&l.errors.DateIssued?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.DateIssued}):null]}),o.jsxs("div",{children:[o.jsx(k,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600"}),l.touched.CCNumber&&l.errors.CCNumber?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.CCNumber}):null]})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(V6,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(k,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.Name&&l.errors.Name?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Name}):null]}),o.jsxs("div",{children:[o.jsx(k,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.TIN&&l.errors.TIN?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.TIN}):null]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(k,{label:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Yde,{className:"h-4 w-4"}),"Address of Principal Place of Business"]}),name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.Address&&l.errors.Address?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Address}):null]}),o.jsxs("div",{children:[o.jsx(k,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.dateOfRegistration&&l.errors.dateOfRegistration?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.dateOfRegistration}):null]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(k,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a}),l.touched.KindofOrganization&&l.errors.KindofOrganization?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.KindofOrganization}):null]}),o.jsxs("div",{children:[o.jsx(k,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.PlaceofIncorporation}):null]})]}),o.jsxs("div",{children:[o.jsx(k,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.NatureOfOrganization}):null]})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(U6,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsxs("div",{children:[o.jsx(k,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500"}),l.touched.BasicTax&&l.errors.BasicTax?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.BasicTax}):null]})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{children:[o.jsx(k,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.assessedValueRealProperty}):null]}),o.jsxs("div",{children:[o.jsx(k,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),l.touched.assessedValueTax&&l.errors.assessedValueTax?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.assessedValueTax}):null]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{children:[o.jsx(k,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),l.touched.grossReceipts&&l.errors.grossReceipts?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.grossReceipts}):null]}),o.jsxs("div",{children:[o.jsx(k,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.grossReceiptsTax}):null]})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(k,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),l.touched.Total&&l.errors.Total?o.jsx("div",{className:"text-red-300 text-sm mt-1",children:l.errors.Total}):null]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(k,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),l.touched.Interest&&l.errors.Interest?o.jsx("div",{className:"text-red-300 text-sm mt-1",children:l.errors.Interest}):null]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(k,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),l.touched.AmountPaid&&l.errors.AmountPaid?o.jsx("div",{className:"text-red-300 text-sm mt-1",children:l.errors.AmountPaid}):null]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsxs("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:[l.values.AmountinWords||"ZERO"," PESOS"]})]})})]})}),o.jsxs("div",{children:[o.jsx(k,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3}),l.touched.Remarks&&l.errors.Remarks?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Remarks}):null]})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(dt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),l.submitCount>0&&Object.keys(l.errors).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(l.errors).map(([d,f])=>o.jsx("li",{children:f},d))})]})]})},Hm="https://staging-engine.testthelink.online",zve=[],hc=L("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),fC=L("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),vb=L("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),mC=L("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),jb=L("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hm}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),eU=ye({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(hc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(hc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=zve}).addCase(fC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(fC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(mC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(mC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(jb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:Y8e}=eU.actions,Wve=eU.reducer;function Hve(){const[t,e]=v.useState("list"),[r,n]=v.useState(null),[a,s]=v.useState(!1),[i,l]=v.useState(null),{records:c,isLoading:u}=q(I=>I.corporateCommunityTax),{vendorDetails:d,isLoading:f}=q(I=>I.vendorDetails),m=se();v.useEffect(()=>{m(ys()),m(hc())},[m]);const h=()=>{n(null),e("form")},g=I=>{n(I),e("details")},b=I=>{n(I),console.log("Edit certificate:",I),T(I.CustomerID),e("form")},p=I=>{console.log("Print certificate:",I)},x=()=>{e("list"),n(null),l(null)},y=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:I=>w(I),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:I=>w(I),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:I=>w(I),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:I=>w(I),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:I=>S(I)}],w=I=>I>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(I):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(I),S=I=>{let P="bg-neutral-100 text-neutral-800";switch(I){case"Posted":P="bg-green-100 text-green-800";break;case"Requested":P="bg-yellow-100 text-yellow-800";break;case"Cancelled":P="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P}`,children:I})},j=[{icon:s0,title:"View",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:b,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:async I=>{try{await m(jb(I.ID)).unwrap(),m(hc()),console.log("Certificate deleted and data reFetched"),qe.success("Certificate deleted successfully.")}catch(P){console.error("Error deleting certificate:",P),qe.error("Failed to delete certificate. Please try again.")}finally{x()}},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],N=()=>{s(!0)},A=()=>{s(!1)},E=async I=>{try{await m(vb(I)).unwrap(),m(hc()),qe.success("Certificate saved successfully.")}catch(P){console.error("Error saving certificate:",P),qe.error("Failed to save certificate. Please try again.")}finally{x()}},T=I=>{const P=d.find(M=>M.ID===I);l(P),console.log("Selected vendor:",P)};return o.jsxs("div",{className:"container mx-auto  sm:px-4 sm:py-8",children:[t==="list"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ge,{columns:y,data:c,actions:j,loading:f||u,onRowClick:g})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[o.jsx(Xt,{options:(d==null?void 0:d.map(I=>({label:I.Name,value:I.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:T,required:!0}),o.jsx("button",{type:"button",onClick:N,className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(D$,{selectedVendor:i,initialData:r,onCancel:x,onSubmitSuccess:E,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:x,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>b(r),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>p(r),className:"btn btn-outline flex items-center",children:[o.jsx(il,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(D$,{initialData:r,readOnly:!0,onBack:x})})]}),o.jsx(ae,{isOpen:a,onClose:A,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function Gve(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:s0,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:h})=>{try{await X_.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(g){console.error("Validation errors:",g.errors)}finally{h(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx(_e,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:X_,onSubmit:f,children:({values:m,errors:h,touched:g,handleChange:b,handleBlur:p,isSubmitting:x})=>o.jsxs(Le,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:b,onBlur:p,error:h.date,touched:g.date}),o.jsx(k,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:b,onBlur:p,error:h.period,touched:g.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:b,onBlur:p,error:h.stallNumber,touched:g.stallNumber}),o.jsx(k,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:b,onBlur:p,error:h.stallType,touched:g.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(k,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:b,onBlur:p,error:h.stallOwner,touched:g.stallOwner}),o.jsx(k,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:b,onBlur:p,error:h.amount,touched:g.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:x?"Saving...":r?"Update":"Save"})]})]})})})]})}function tU(t,e){return function(){return t.apply(e,arguments)}}const{toString:Yve}=Object.prototype,{getPrototypeOf:ME}=Object,{iterator:Rj,toStringTag:rU}=Symbol,Mj=(t=>e=>{const r=Yve.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xa=t=>(t=t.toLowerCase(),e=>Mj(e)===t),Lj=t=>e=>typeof e===t,{isArray:cu}=Array,Uf=Lj("undefined");function Kve(t){return t!==null&&!Uf(t)&&t.constructor!==null&&!Uf(t.constructor)&&an(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nU=xa("ArrayBuffer");function Jve(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nU(t.buffer),e}const Xve=Lj("string"),an=Lj("function"),aU=Lj("number"),Fj=t=>t!==null&&typeof t=="object",Zve=t=>t===!0||t===!1,wb=t=>{if(Mj(t)!=="object")return!1;const e=ME(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(rU in t)&&!(Rj in t)},Qve=xa("Date"),e0e=xa("File"),t0e=xa("Blob"),r0e=xa("FileList"),n0e=t=>Fj(t)&&an(t.pipe),a0e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||an(t.append)&&((e=Mj(t))==="formdata"||e==="object"&&an(t.toString)&&t.toString()==="[object FormData]"))},s0e=xa("URLSearchParams"),[o0e,i0e,l0e,c0e]=["ReadableStream","Request","Response","Headers"].map(xa),u0e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gm(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),cu(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function sU(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oU=t=>!Uf(t)&&t!==ki;function GA(){const{caseless:t}=oU(this)&&this||{},e={},r=(n,a)=>{const s=t&&sU(e,a)||a;wb(e[s])&&wb(n)?e[s]=GA(e[s],n):wb(n)?e[s]=GA({},n):cu(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Gm(arguments[n],r);return e}const d0e=(t,e,r,{allOwnKeys:n}={})=>(Gm(e,(a,s)=>{r&&an(a)?t[s]=tU(a,r):t[s]=a},{allOwnKeys:n}),t),f0e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),m0e=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},h0e=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&ME(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},p0e=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},g0e=t=>{if(!t)return null;if(cu(t))return t;let e=t.length;if(!aU(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},y0e=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ME(Uint8Array)),b0e=(t,e)=>{const n=(t&&t[Rj]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},x0e=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},v0e=xa("HTMLFormElement"),j0e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),_$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),w0e=xa("RegExp"),iU=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Gm(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},C0e=t=>{iU(t,(e,r)=>{if(an(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(an(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},N0e=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return cu(t)?n(t):n(String(t).split(e)),r},S0e=()=>{},A0e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function T0e(t){return!!(t&&an(t.append)&&t[rU]==="FormData"&&t[Rj])}const k0e=t=>{const e=new Array(10),r=(n,a)=>{if(Fj(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=cu(n)?[]:{};return Gm(n,(i,l)=>{const c=r(i,a+1);!Uf(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},I0e=xa("AsyncFunction"),E0e=t=>t&&(Fj(t)||an(t))&&an(t.then)&&an(t.catch),lU=((t,e)=>t?setImmediate:e?((r,n)=>(ki.addEventListener("message",({source:a,data:s})=>{a===ki&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ki.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",an(ki.postMessage)),O0e=typeof queueMicrotask<"u"?queueMicrotask.bind(ki):typeof process<"u"&&process.nextTick||lU,P0e=t=>t!=null&&an(t[Rj]),Q={isArray:cu,isArrayBuffer:nU,isBuffer:Kve,isFormData:a0e,isArrayBufferView:Jve,isString:Xve,isNumber:aU,isBoolean:Zve,isObject:Fj,isPlainObject:wb,isReadableStream:o0e,isRequest:i0e,isResponse:l0e,isHeaders:c0e,isUndefined:Uf,isDate:Qve,isFile:e0e,isBlob:t0e,isRegExp:w0e,isFunction:an,isStream:n0e,isURLSearchParams:s0e,isTypedArray:y0e,isFileList:r0e,forEach:Gm,merge:GA,extend:d0e,trim:u0e,stripBOM:f0e,inherits:m0e,toFlatObject:h0e,kindOf:Mj,kindOfTest:xa,endsWith:p0e,toArray:g0e,forEachEntry:b0e,matchAll:x0e,isHTMLForm:v0e,hasOwnProperty:_$,hasOwnProp:_$,reduceDescriptors:iU,freezeMethods:C0e,toObjectSet:N0e,toCamelCase:j0e,noop:S0e,toFiniteNumber:A0e,findKey:sU,global:ki,isContextDefined:oU,isSpecCompliantForm:T0e,toJSONObject:k0e,isAsyncFn:I0e,isThenable:E0e,setImmediate:lU,asap:O0e,isIterable:P0e};function Fe(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Q.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const cU=Fe.prototype,uU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uU[t]={value:t}});Object.defineProperties(Fe,uU);Object.defineProperty(cU,"isAxiosError",{value:!0});Fe.from=(t,e,r,n,a,s)=>{const i=Object.create(cU);return Q.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Fe.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const D0e=null;function YA(t){return Q.isPlainObject(t)||Q.isArray(t)}function dU(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function $$(t,e,r){return t?t.concat(e).map(function(a,s){return a=dU(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function _0e(t){return Q.isArray(t)&&!t.some(YA)}const $0e=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Bj(t,e,r){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,p){return!Q.isUndefined(p[b])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Q.isDate(g))return g.toISOString();if(!c&&Q.isBlob(g))throw new Fe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(g)||Q.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,b,p){let x=g;if(g&&!p&&typeof g=="object"){if(Q.endsWith(b,"{}"))b=n?b:b.slice(0,-2),g=JSON.stringify(g);else if(Q.isArray(g)&&_0e(g)||(Q.isFileList(g)||Q.endsWith(b,"[]"))&&(x=Q.toArray(g)))return b=dU(b),x.forEach(function(w,S){!(Q.isUndefined(w)||w===null)&&e.append(i===!0?$$([b],S,s):i===null?b:b+"[]",u(w))}),!1}return YA(g)?!0:(e.append($$(p,b,s),u(g)),!1)}const f=[],m=Object.assign($0e,{defaultVisitor:d,convertValue:u,isVisitable:YA});function h(g,b){if(!Q.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(g),Q.forEach(g,function(x,y){(!(Q.isUndefined(x)||x===null)&&a.call(e,x,Q.isString(y)?y.trim():y,b,m))===!0&&h(x,b?b.concat(y):[y])}),f.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return h(t),e}function R$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function LE(t,e){this._pairs=[],t&&Bj(t,this,e)}const fU=LE.prototype;fU.append=function(e,r){this._pairs.push([e,r])};fU.toString=function(e){const r=e?function(n){return e.call(this,n,R$)}:R$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function R0e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mU(t,e,r){if(!e)return t;const n=r&&r.encode||R0e;Q.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=Q.isURLSearchParams(e)?e.toString():new LE(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class M${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const hU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M0e=typeof URLSearchParams<"u"?URLSearchParams:LE,L0e=typeof FormData<"u"?FormData:null,F0e=typeof Blob<"u"?Blob:null,B0e={isBrowser:!0,classes:{URLSearchParams:M0e,FormData:L0e,Blob:F0e},protocols:["http","https","file","blob","url","data"]},FE=typeof window<"u"&&typeof document<"u",KA=typeof navigator=="object"&&navigator||void 0,q0e=FE&&(!KA||["ReactNative","NativeScript","NS"].indexOf(KA.product)<0),V0e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U0e=FE&&window.location.href||"http://localhost",z0e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FE,hasStandardBrowserEnv:q0e,hasStandardBrowserWebWorkerEnv:V0e,navigator:KA,origin:U0e},Symbol.toStringTag,{value:"Module"})),$r={...z0e,...B0e};function W0e(t,e){return Bj(t,new $r.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return $r.isNode&&Q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function H0e(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function G0e(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function pU(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&Q.isArray(a)?a.length:i,c?(Q.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Q.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&Q.isArray(a[i])&&(a[i]=G0e(a[i])),!l)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const r={};return Q.forEachEntry(t,(n,a)=>{e(H0e(n),a,r,0)}),r}return null}function Y0e(t,e,r){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ym={transitional:hU,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Q.isObject(e);if(s&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return a?JSON.stringify(pU(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return W0e(e,this.formSerializer).toString();if((l=Q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Bj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Y0e(e)):e}],transformResponse:[function(e){const r=this.transitional||Ym.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Fe.from(l,Fe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$r.classes.FormData,Blob:$r.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{Ym.headers[t]={}});const K0e=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),J0e=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&K0e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},L$=Symbol("internals");function Vu(t){return t&&String(t).trim().toLowerCase()}function Cb(t){return t===!1||t==null?t:Q.isArray(t)?t.map(Cb):String(t)}function X0e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Z0e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function hC(t,e,r,n,a){if(Q.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!Q.isString(e)){if(Q.isString(n))return e.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(e)}}function Q0e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function eje(t,e){const r=Q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let sn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=Vu(c);if(!d)throw new Error("header name must be a non-empty string");const f=Q.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=Cb(l))}const i=(l,c)=>Q.forEach(l,(u,d)=>s(u,d,c));if(Q.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(Q.isString(e)&&(e=e.trim())&&!Z0e(e))i(J0e(e),r);else if(Q.isObject(e)&&Q.isIterable(e)){let l={},c,u;for(const d of e){if(!Q.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Q.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Vu(e),e){const n=Q.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return X0e(a);if(Q.isFunction(r))return r.call(this,a,n);if(Q.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Vu(e),e){const n=Q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||hC(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=Vu(i),i){const l=Q.findKey(n,i);l&&(!r||hC(n,n[l],l,r))&&(delete n[l],a=!0)}}return Q.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||hC(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return Q.forEach(this,(a,s)=>{const i=Q.findKey(n,s);if(i){r[i]=Cb(a),delete r[s];return}const l=e?Q0e(s):String(s).trim();l!==s&&delete r[s],r[l]=Cb(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Q.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&Q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[L$]=this[L$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=Vu(i);n[l]||(eje(a,i),n[l]=!0)}return Q.isArray(e)?e.forEach(s):s(e),this}};sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(sn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Q.freezeMethods(sn);function pC(t,e){const r=this||Ym,n=e||r,a=sn.from(n.headers);let s=n.data;return Q.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function gU(t){return!!(t&&t.__CANCEL__)}function uu(t,e,r){Fe.call(this,t??"canceled",Fe.ERR_CANCELED,e,r),this.name="CanceledError"}Q.inherits(uu,Fe,{__CANCEL__:!0});function yU(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Fe("Request failed with status code "+r.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function tje(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rje(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function nje(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const qx=(t,e,r=3)=>{let n=0;const a=rje(50,250);return nje(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},F$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},B$=t=>(...e)=>Q.asap(()=>t(...e)),aje=$r.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,$r.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL($r.origin),$r.navigator&&/(msie|trident)/i.test($r.navigator.userAgent)):()=>!0,sje=$r.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];Q.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Q.isString(n)&&i.push("path="+n),Q.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oje(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ije(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function bU(t,e,r){let n=!oje(e);return t&&(n||r==!1)?ije(t,e):e}const q$=t=>t instanceof sn?{...t}:t;function rl(t,e){e=e||{};const r={};function n(u,d,f,m){return Q.isPlainObject(u)&&Q.isPlainObject(d)?Q.merge.call({caseless:m},u,d):Q.isPlainObject(d)?Q.merge({},d):Q.isArray(d)?d.slice():d}function a(u,d,f,m){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!Q.isUndefined(d))return n(void 0,d)}function i(u,d){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(q$(u),q$(d),f,!0)};return Q.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||a,m=f(t[d],e[d],d);Q.isUndefined(m)&&f!==l||(r[d]=m)}),r}const xU=t=>{const e=rl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=sn.from(i),e.url=mU(bU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Q.isFormData(r)){if($r.hasStandardBrowserEnv||$r.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if($r.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(e)),n||n!==!1&&aje(e.url))){const u=a&&s&&sje.read(s);u&&i.set(a,u)}return e},lje=typeof XMLHttpRequest<"u",cje=lje&&function(t){return new Promise(function(r,n){const a=xU(t);let s=a.data;const i=sn.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,g;function b(){h&&h(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(a.method.toUpperCase(),a.url,!0),p.timeout=a.timeout;function x(){if(!p)return;const w=sn.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:w,config:t,request:p};yU(function(N){r(N),b()},function(N){n(N),b()},C),p=null}"onloadend"in p?p.onloadend=x:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(x)},p.onabort=function(){p&&(n(new Fe("Request aborted",Fe.ECONNABORTED,t,p)),p=null)},p.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||hU;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new Fe(S,C.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,p)),p=null},s===void 0&&i.setContentType(null),"setRequestHeader"in p&&Q.forEach(i.toJSON(),function(S,C){p.setRequestHeader(C,S)}),Q.isUndefined(a.withCredentials)||(p.withCredentials=!!a.withCredentials),l&&l!=="json"&&(p.responseType=a.responseType),u&&([m,g]=qx(u,!0),p.addEventListener("progress",m)),c&&p.upload&&([f,h]=qx(c),p.upload.addEventListener("progress",f),p.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=w=>{p&&(n(!w||w.type?new uu(null,t,p):w),p.abort(),p=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const y=tje(a.url);if(y&&$r.protocols.indexOf(y)===-1){n(new Fe("Unsupported protocol "+y+":",Fe.ERR_BAD_REQUEST,t));return}p.send(s||null)})},uje=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Fe?d:new uu(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Q.asap(l),c}},dje=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},fje=async function*(t,e){for await(const r of mje(t))yield*dje(r,e)},mje=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},V$=(t,e,r,n)=>{const a=fje(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},qj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vU=qj&&typeof ReadableStream=="function",hje=qj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),jU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},pje=vU&&jU(()=>{let t=!1;const e=new Request($r.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),U$=64*1024,JA=vU&&jU(()=>Q.isReadableStream(new Response("").body)),Vx={stream:JA&&(t=>t.body)};qj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Vx[e]&&(Vx[e]=Q.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const gje=async t=>{if(t==null)return 0;if(Q.isBlob(t))return t.size;if(Q.isSpecCompliantForm(t))return(await new Request($r.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(t)||Q.isArrayBuffer(t))return t.byteLength;if(Q.isURLSearchParams(t)&&(t=t+""),Q.isString(t))return(await hje(t)).byteLength},yje=async(t,e)=>{const r=Q.toFiniteNumber(t.getContentLength());return r??gje(e)},bje=qj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=xU(t);u=u?(u+"").toLowerCase():"text";let h=uje([a,s&&s.toAbortSignal()],i),g;const b=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let p;try{if(c&&pje&&r!=="get"&&r!=="head"&&(p=await yje(d,n))!==0){let C=new Request(e,{method:"POST",body:n,duplex:"half"}),j;if(Q.isFormData(n)&&(j=C.headers.get("content-type"))&&d.setContentType(j),C.body){const[N,A]=F$(p,qx(B$(c)));n=V$(C.body,U$,N,A)}}Q.isString(f)||(f=f?"include":"omit");const x="credentials"in Request.prototype;g=new Request(e,{...m,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:x?f:void 0});let y=await fetch(g);const w=JA&&(u==="stream"||u==="response");if(JA&&(l||w&&b)){const C={};["status","statusText","headers"].forEach(E=>{C[E]=y[E]});const j=Q.toFiniteNumber(y.headers.get("content-length")),[N,A]=l&&F$(j,qx(B$(l),!0))||[];y=new Response(V$(y.body,U$,N,()=>{A&&A(),b&&b()}),C)}u=u||"text";let S=await Vx[Q.findKey(Vx,u)||"text"](y,t);return!w&&b&&b(),await new Promise((C,j)=>{yU(C,j,{data:S,headers:sn.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:g})})}catch(x){throw b&&b(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,t,g),{cause:x.cause||x}):Fe.from(x,x&&x.code,t,g)}}),XA={http:D0e,xhr:cje,fetch:bje};Q.forEach(XA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const z$=t=>`- ${t}`,xje=t=>Q.isFunction(t)||t===null||t===!1,wU={getAdapter:t=>{t=Q.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!xje(r)&&(n=XA[(i=String(r)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(z$).join(`
`):" "+z$(s[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:XA};function gC(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new uu(null,t)}function W$(t){return gC(t),t.headers=sn.from(t.headers),t.data=pC.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wU.getAdapter(t.adapter||Ym.adapter)(t).then(function(n){return gC(t),n.data=pC.call(t,t.transformResponse,n),n.headers=sn.from(n.headers),n},function(n){return gU(n)||(gC(t),n&&n.response&&(n.response.data=pC.call(t,t.transformResponse,n.response),n.response.headers=sn.from(n.response.headers))),Promise.reject(n)})}const CU="1.9.0",Vj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const H$={};Vj.transitional=function(e,r,n){function a(s,i){return"[Axios v"+CU+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Fe(a(i," has been removed"+(r?" in "+r:"")),Fe.ERR_DEPRECATED);return r&&!H$[i]&&(H$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};Vj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function vje(t,e,r){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new Fe("option "+s+" must be "+c,Fe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Fe("Unknown option "+s,Fe.ERR_BAD_OPTION)}}const Nb={assertOptions:vje,validators:Vj},wa=Nb.validators;let Li=class{constructor(e){this.defaults=e||{},this.interceptors={request:new M$,response:new M$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=rl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Nb.assertOptions(n,{silentJSONParsing:wa.transitional(wa.boolean),forcedJSONParsing:wa.transitional(wa.boolean),clarifyTimeoutError:wa.transitional(wa.boolean)},!1),a!=null&&(Q.isFunction(a)?r.paramsSerializer={serialize:a}:Nb.assertOptions(a,{encode:wa.function,serialize:wa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Nb.assertOptions(r,{baseUrl:wa.spelling("baseURL"),withXsrfToken:wa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Q.merge(s.common,s[r.method]);s&&Q.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=sn.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let d,f=0,m;if(!c){const g=[W$.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),m=g.length,d=Promise.resolve(r);f<m;)d=d.then(g[f++],g[f++]);return d}m=l.length;let h=r;for(f=0;f<m;){const g=l[f++],b=l[f++];try{h=g(h)}catch(p){b.call(this,p);break}}try{d=W$.call(this,h)}catch(g){return Promise.reject(g)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=rl(this.defaults,e);const r=bU(e.baseURL,e.url,e.allowAbsoluteUrls);return mU(r,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Li.prototype[e]=function(r,n){return this.request(rl(n||{},{method:e,url:r,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(rl(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Li.prototype[e]=r(),Li.prototype[e+"Form"]=r(!0)});let jje=class NU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new uu(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new NU(function(a){e=a}),cancel:e}}};function wje(t){return function(r){return t.apply(null,r)}}function Cje(t){return Q.isObject(t)&&t.isAxiosError===!0}const ZA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ZA).forEach(([t,e])=>{ZA[e]=t});function SU(t){const e=new Li(t),r=tU(Li.prototype.request,e);return Q.extend(r,Li.prototype,e,{allOwnKeys:!0}),Q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return SU(rl(t,a))},r}const Xe=SU(Ym);Xe.Axios=Li;Xe.CanceledError=uu;Xe.CancelToken=jje;Xe.isCancel=gU;Xe.VERSION=CU;Xe.toFormData=Bj;Xe.AxiosError=Fe;Xe.Cancel=Xe.CanceledError;Xe.all=function(e){return Promise.all(e)};Xe.spread=wje;Xe.isAxiosError=Cje;Xe.mergeConfig=rl;Xe.AxiosHeaders=sn;Xe.formToJSON=t=>pU(Q.isHTMLForm(t)?new FormData(t):t);Xe.getAdapter=wU.getAdapter;Xe.HttpStatusCode=ZA;Xe.default=Xe;const{Axios:X8e,AxiosError:Z8e,CanceledError:Q8e,isCancel:e9e,CancelToken:t9e,VERSION:r9e,all:n9e,Cancel:a9e,isAxiosError:s9e,spread:o9e,toFormData:i9e,AxiosHeaders:l9e,HttpStatusCode:c9e,formToJSON:u9e,getAdapter:d9e,mergeConfig:f9e}=Xe,yC=L("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await Xe.get("/api/general-service-receipts")).data),bC=L("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await Xe.post("/api/general-service-receipts",t)).data),xC=L("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await Xe.put(`/api/general-service-receipts/${t}`,e)).data),vC=L("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await Xe.delete(`/api/general-service-receipts/${t}`),t)),Nje={receipts:[],loading:!1,error:null},AU=ye({name:"generalServiceReceipts",initialState:Nje,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(yC.pending,e=>{e.loading=!0,e.error=null}).addCase(yC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(yC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(bC.pending,e=>{e.loading=!0,e.error=null}).addCase(bC.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(bC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(xC.pending,e=>{e.loading=!0,e.error=null}).addCase(xC.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(xC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(vC.pending,e=>{e.loading=!0,e.error=null}).addCase(vC.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(vC.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:m9e}=AU.actions,Sje=AU.reducer,Aje=ie().shape({CustomerName:O().required("Name is required"),CustomerID:K(),DeceasedCustomerName:O().required("Deceased name is required"),DeceasedCustomerID:K(),Nationality:O().required("Nationality is required"),NationalityID:K().required("Nationality is required"),Age:K().required("Age is required").min(0,"Age must be positive"),Sex:O().required("Sex is required"),DeathDate:Re().required("Date of death is required"),CauseofDeath:O().required("Cause of death is required"),Cementery:O().required("Cemetery name is required"),BurialType:O().required("Service type is required"),Infectious:Qi(),Embalmed:Qi(),Disposition:O().when("BurialType",{is:t=>["disinter","remove"].includes(t),then:O().required("Disposition remarks are required")}),InvoiceDate:Re().required("Invoice date is required"),paymentMethod:O().required("Payment method is required"),Total:K().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:O(),Remarks:O()}),Tje="https://staging-engine.testthelink.online";function kje({initialData:t,onClose:e,onSubmit:r,nationalities:n,customers:a}){const[s,i]=v.useState(!1),l={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"",Name:(t==null?void 0:t.Name)||"",DeceasedCustomerName:(t==null?void 0:t.DeceasedCustomerName)||"",DeceasedCustomerID:(t==null?void 0:t.DeceasedCustomerID)||"",Nationality:(t==null?void 0:t.Nationality)||"",NationalityID:(t==null?void 0:t.NationalityID)||"",Age:(t==null?void 0:t.Age)||"",Sex:(t==null?void 0:t.Sex)||"",DeathDate:(t==null?void 0:t.DeathDate)||"",CauseofDeath:(t==null?void 0:t.CauseofDeath)||"",Cementery:(t==null?void 0:t.Cementery)||"",BurialType:(t==null?void 0:t.BurialType)||"inter",Infectious:(t==null?void 0:t.Infectious)||!1,Embalmed:(t==null?void 0:t.Embalmed)||!1,Disposition:(t==null?void 0:t.Disposition)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerID:(t==null?void 0:t.CustomerID)||"",paymentMethod:(t==null?void 0:t.paymentMethod)||"",Total:(t==null?void 0:t.Total)||"",ReferenceNumber:(t==null?void 0:t.ReferenceNumber)||"",Remarks:(t==null?void 0:t.Remarks)||"",Attachments:(t==null?void 0:t.Attachments)||[]},c=(g,b,p)=>{const y=Array.from(g.target.files).map(w=>w);b("Attachments",[...p.Attachments,...y])},u=(g,b,p)=>{const x=[...p.Attachments];x.splice(g,1),b("Attachments",x)},d=(g,b)=>{const p=g.target.value;b("BurialType",p),i(p!=="INTER")},f=async(g,{setSubmitting:b})=>{console.log("Form values:",g);try{await r(g),e()}catch(p){console.error("Submission failed:",p),qe.error(p.message||"Submission failed. Please try again.")}finally{b(!1)}},m=a==null?void 0:a.map(g=>({value:g.ID,label:g.Name})),h=n==null?void 0:n.map(g=>({value:g.ID,label:g.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(_e,{initialValues:l,validationSchema:Aje,onSubmit:f,enableReinitialize:!0,children:({values:g,errors:b,touched:p,handleChange:x,setFieldValue:y,isSubmitting:w,handleBlur:S,submitCount:C})=>o.jsxs(Le,{className:"space-y-4 p-4 bg-white rounded-lg",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:j=>c(j,y,g),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),g.Attachments.length>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:g.Attachments.map((j,N)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:j.ID?o.jsx("a",{href:`${Tje}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:j.name||j.DataName}):j.name||j.DataName})]}),o.jsx("button",{type:"button",onClick:()=>u(N,y,g),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},N))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx("div",{className:"text-center",children:o.jsx(k,{name:"InvoiceNumber",type:"text",value:g.InvoiceNumber||"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx(Xt,{label:"MR. / MRS.",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const N=m.find(A=>A.value===j);y("CustomerName",(N==null?void 0:N.label)||""),y("CustomerID",(N==null?void 0:N.value)||"")},selectedValue:g.CustomerID,error:b.CustomerName,touched:p.CustomerName})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(Xt,{label:"Name of Deceased",name:"DeceasedCustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:j=>{const N=m.find(A=>A.value===j);y("DeceasedCustomerName",(N==null?void 0:N.label)||""),y("DeceasedCustomerID",(N==null?void 0:N.value)||"")},selectedValue:g.DeceasedCustomerID,error:b.DeceasedCustomerName,touched:p.DeceasedCustomerName}),o.jsx(Xt,{label:"Nationality",name:"NationalityID",type:"select",options:h,required:!0,placeholder:"Select Nationality",onSelect:j=>{const N=h.find(A=>A.value===j);y("NationalityID",j||""),y("Nationality",(N==null?void 0:N.label)||"")},className:"w-full",selectedValue:g.NationalityID,error:b.Nationality,touched:p.Nationality}),o.jsx(k,{label:"Age",name:"Age",type:"number",required:!0,value:g.Age,onChange:x,touched:p.Age,error:p.Age&&b.Age}),o.jsx(k,{label:"Sex",name:"Sex",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],value:g.Sex,onChange:x,touched:p.Sex,required:!0,error:p.sex&&b.sex}),o.jsx(k,{label:"Date of Death",name:"DeathDate",type:"date",required:!0,value:g.DeathDate,onChange:x,touched:p.DeathDate,error:p.DeathDate&&b.DeathDate}),o.jsx(k,{label:"Cause of Death",name:"CauseofDeath",type:"text",required:!0,value:g.CauseofDeath,onChange:x,touched:p.CauseofDeath,error:p.CauseofDeath&&b.CauseofDeath}),o.jsx(k,{label:"Name of Cemetery",name:"Cementery",type:"text",required:!0,value:g.Cementery,onChange:x,touched:p.Cementery,error:p.Cementery&&b.Cementery})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["INTER","DISINTER","REMOVE"].map(j=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"BurialType",value:j,checked:g.BurialType===j,onChange:N=>d(N,y),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:j.toUpperCase()})]},j))}),p.BurialType&&b.BurialType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:b.BurialType})]}),s&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Infectious",value:g.Infectious,checked:g.Infectious,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Embalmed",value:g.Embalmed,checked:g.Embalmed,onChange:x,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(k,{label:"Disposition of Remains",name:"Disposition",type:"textarea",rows:2,value:g.Disposition,onChange:x,onBlur:S,required:g.BurialType!=="INTER",error:p.Disposition&&b.Disposition})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Invoice Date",name:"InvoiceDate",type:"date",required:!0,value:g.InvoiceDate,onChange:x,onBlur:S,error:p.InvoiceDate&&b.InvoiceDate}),o.jsx(k,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,value:g.paymentMethod,onChange:x,onBlur:S,touched:p.paymentMethod,error:p.paymentMethod&&b.paymentMethod}),o.jsx(k,{label:"Amount Received",name:"Total",type:"number",required:!0,min:"0",value:g.Total,onChange:x,onBlur:S,touched:p.Total,error:p.Total&&b.Total}),o.jsx(k,{label:"Reference Number",name:"ReferenceNumber",type:"text",value:g.ReferenceNumber,onChange:x,onBlur:S,touched:p.ReferenceNumber,error:p.ReferenceNumber&&b.ReferenceNumber})]}),o.jsx(k,{label:"Remarks",name:"Remarks",type:"textarea",rows:2,value:g.Remarks,onChange:x,onBlur:S,touched:p.Remarks,error:p.Remarks&&b.Remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:w?"Submitting...":"Submit"})]}),C>0&&Object.keys(b).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(b).map(([j,N])=>o.jsx("li",{children:N},j))})]})]})})]})}const Km="https://staging-engine.testthelink.online",Ije=[],Kd=L("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialrecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),jC=L("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialrecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Sb=L("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialrecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),wC=L("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialrecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),Ab=L("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Km}/burialrecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),TU=ye({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Kd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Kd.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Kd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=Ije}).addCase(jC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(jC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(Sb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(wC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(wC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(Ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:h9e}=TU.actions,Eje=TU.reducer;function Oje(){const t=se(),{customers:e,isLoading:r}=q(w=>w.customers),{nationalities:n,isLoading:a}=q(w=>w.nationalities),{records:s,isLoading:i}=q(w=>w.burialRecords),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(dc()),t(Kd()),t(Hn())},[t]);const f=[{key:"InvoiceNumber",header:"Receipt No",sortable:!0,className:"font-medium text-neutral-900",render:w=>o.jsx("div",{className:"flex items-center gap-1",children:w||""})},{key:"CustomerName",header:"Name",sortable:!0,render:w=>(w==null?void 0:w.trim())||"N/A"},{key:"Municipality",header:"Municipality",sortable:!0,render:w=>w||""},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"DocumentType.Name",header:"Service Type",sortable:!0,render:(w,S)=>{var C;return((C=S.DocumentType)==null?void 0:C.Name)||""},className:"text-gray-500"},{key:"Total",header:"Amount",sortable:!0,render:w=>m(w||"0.00"),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:w=>w||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:w=>({1:"General Fund",2:"Special Education Fund"})[w]||""}],m=w=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(w),h=()=>{d(null),c(!0)},g=w=>{d(w),c(!0)},b=async w=>{console.log("Deleting ticket:",w);try{await t(Ab(w.ID)).unwrap(),qe.success("Burial Receipt deleted successfully")}catch(S){qe.error(S.message||"Failed to delete Burial Receipt")}},p=()=>{c(!1),d(null)},x=async w=>{const S=new FormData;for(const C in w)if(C!=="Attachments"){const j=typeof w[C]=="object"?JSON.stringify(w[C]):w[C];C==="TransactionItemsAll"?S.append("Items",j):S.append(C,j)}w==null||w.Attachments.forEach((C,j)=>{C.ID?S.append(`Attachments[${j}].ID`,C.ID):S.append(`Attachments[${j}].File`,C)}),u?(S.append("IsNew","false"),S.append("LinkID",u.LinkID),S.append("ID",u.ID)):S.append("IsNew","true");try{await t(Sb(S)).unwrap(),u?qe.success("Burial Receipt Updated Successfully"):qe.success("Burial Receipt Added Successfully"),t(Kd())}catch(C){qe.error(C.message||"Something went wrong")}finally{p()}},y=[{icon:ba,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:b,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsxs("button",{onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:f,data:s,className:"min-w-full divide-y divide-gray-200",actions:y,isLoading:i||a||r})}),o.jsx(ae,{isOpen:l,onClose:p,title:u?"Edit Burial Service Receipt":"New Burial Service Receipt ",children:o.jsx(kje,{initialData:u,onClose:p,onSubmit:x,nationalities:n,customers:e})})]})}const Pje=ie().shape({InvoiceNumber:O().required("Invoice number is required"),CustomerName:O().required("Customer is required"),CustomerAge:K().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),Remarks:O().required("Remarks are required"),InvoiceDate:Re().required("Invoice date is required"),Cenomar:O().required("CENOMAR is required"),MarrytoID:O().required('"Marry to" is required'),MarrytoName:O().required('"Marry to Name" is required'),MarrytoAge:K().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),RegisterNumber:O().required("Register number is required"),Total:K().required("Price is required").min(0,"Price cannot be negative"),RemainingBalance:K().required("Balance is required").min(0,"Balance cannot be negative"),AmountReceived:K().required("Amount received is required").min(0,"Amount cannot be negative"),Attachments:Tr()});function Dje({initialData:t,customers:e,onClose:r,onSubmit:n}){const[a,s]=v.useState(!1),[i,l]=v.useState([]),c={InvoiceNumber:(t==null?void 0:t.InvoiceNumber)||"MA-RE-30GE-CEIPT",CustomerName:(t==null?void 0:t.CustomerName)||"",CustomerAge:(t==null?void 0:t.CustomerAge)||"",Remarks:(t==null?void 0:t.Remarks)||"",InvoiceDate:(t==null?void 0:t.InvoiceDate)||new Date().toISOString().split("T")[0],Cenomar:(t==null?void 0:t.Cenomar)||"",MarrytoID:(t==null?void 0:t.MarrytoID)||"",MarrytoName:(t==null?void 0:t.MarrytoName)||"",MarrytoAge:(t==null?void 0:t.MarrytoAge)||"",RegisterNumber:(t==null?void 0:t.RegisterNumber)||"",Total:(t==null?void 0:t.Total)||0,RemainingBalance:(t==null?void 0:t.RemainingBalance)||0,AmountReceived:(t==null?void 0:t.AmountReceived)||0,Attachments:(t==null?void 0:t.Attachments)||[]},u=async h=>{s(!0);try{await n(h),r()}catch(g){console.error("Error submitting form:",g),qe.error(g.message||"Submission failed. Please try again.")}finally{s(!1)}},d=(h,g,b)=>{const x=Array.from(h.target.files).map(y=>y);g("Attachments",[...b.Attachments,...x])},f=(h,g,b)=>{const p=[...b.Attachments];p.splice(h,1),g("Attachments",p)},m=e==null?void 0:e.map(h=>({value:h.ID,label:h.Name}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(_e,{initialValues:c,validationSchema:Pje,onSubmit:u,enableReinitialize:!0,children:({values:h,errors:g,touched:b,handleChange:p,handleBlur:x,setFieldValue:y})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:w=>d(w,y,h),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),(h==null?void 0:h.Attachments.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:h.Attachments.map((w,S)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:w.ID?o.jsx("a",{href:`${API_URL}/uploads/${w.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:w.name||w.DataName}):w.name||w.DataName})]}),o.jsx("button",{type:"button",onClick:()=>f(S,y,h),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},S))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(k,{label:"Invoice Number",name:"InvoiceNumber",type:"text",disabled:!0,readOnly:!0,value:h.InvoiceNumber,onChange:p,onBlur:x,error:g.InvoiceNumber,touched:b.InvoiceNumber,className:"bg-gray-200 cursor-not-allowed"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(Xt,{label:"Customer",name:"CustomerName",type:"select",options:m,required:!0,placeholder:"Select Name",onSelect:w=>{const S=m.find(C=>C.value===w);y("CustomerName",(S==null?void 0:S.label)||""),y("CustomerID",(S==null?void 0:S.value)||"")},selectedValue:h.CustomerID,error:g.CustomerName,touched:b.CustomerName}),o.jsx(k,{label:"Age",name:"CustomerAge",type:"number",placeholder:"Enter customer age",required:!0,value:h.CustomerAge,onChange:p,onBlur:x,error:g.CustomerAge,touched:b.CustomerAge,min:"1"})]}),o.jsx(k,{label:"Remarks",name:"Remarks",type:"textarea",placeholder:"Enter remarks",rows:3,required:!0,value:h.Remarks,onChange:p,onBlur:x,error:g.Remarks,touched:b.Remarks}),o.jsx(k,{label:"Invoice Date",name:"InvoiceDate",type:"date",placeholder:"Enter invoice date",required:!0,value:h.InvoiceDate,onChange:p,onBlur:x,error:g.InvoiceDate,touched:b.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"CENOMAR",name:"Cenomar",type:"text",required:!0,placeholder:"Enter CENOMAR",value:h.Cenomar,onChange:p,onBlur:x,error:g.Cenomar,touched:b.Cenomar}),o.jsx(Xt,{label:"Marry to",name:"MarrytoID",type:"select",options:m,required:!0,placeholder:"Select Marry to",onSelect:w=>{const S=m.find(C=>C.value===w);y("MarrytoName",(S==null?void 0:S.label)||""),y("MarrytoID",(S==null?void 0:S.value)||"")},selectedValue:h.MarrytoID,error:g.MarrytoName,touched:b.MarrytoName})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Age",name:"MarrytoAge",type:"number",required:!0,placeholder:"Enter Marry to age",value:h.MarrytoAge,onChange:p,onBlur:x,error:g.MarrytoAge,touched:b.MarrytoAge,min:"1"}),o.jsx(k,{label:"Register Number",name:"RegisterNumber",type:"text",required:!0,placeholder:"Enter register number",value:h.RegisterNumber,onChange:p,onBlur:x,error:g.RegisterNumber,touched:b.RegisterNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(k,{label:"Price",name:"Total",type:"number",required:!0,placeholder:"Enter price",value:h.Total,onChange:p,onBlur:x,error:g.Total,touched:b.Total,min:"0"}),o.jsx(k,{label:"Remaining Balance",name:"RemainingBalance",type:"number",required:!0,placeholder:"Enter remaining balance",value:h.RemainingBalance,onChange:p,onBlur:x,error:g.RemainingBalance,touched:b.RemainingBalance,min:"0"}),o.jsx(k,{label:"Amount Received",name:"AmountReceived",type:"number",required:!0,placeholder:"Enter amount received",value:h.AmountReceived,onChange:p,onBlur:x,error:g.AmountReceived,touched:b.AmountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:a,children:t?"Update":"Create"})]})]})})]})}const Jm="https://staging-engine.testthelink.online",_je=[],Jd=L("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/marriagerecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),CC=L("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/marriagerecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),Tb=L("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/marriagerecord`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:t}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),NC=L("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/marriagerecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),kb=L("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jm}/marriagerecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),kU=ye({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(Jd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jd.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(Jd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=_je}).addCase(CC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(CC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(Tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(NC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(NC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(kb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:p9e}=kU.actions,$je=kU.reducer;function Rje(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=se(),{records:s,isLoading:i}=q(p=>p.marriageRecords),{customers:l,isLoading:c}=q(p=>p.customers);v.useEffect(()=>{a(Jd()),a(Hn())},[a]);const u=async p=>{console.log("Form data to save:",p);const x=new FormData;for(const y in p)if(y!=="Attachments"){const w=typeof p[y]=="object"?JSON.stringify(p[y]):p[y];y==="TransactionItemsAll"?x.append("Items",w):x.append(y,w)}p==null||p.Attachments.forEach((y,w)=>{y.ID?x.append(`Attachments[${w}].ID`,y.ID):x.append(`Attachments[${w}].File`,y)}),r?(x.append("IsNew",!1),x.append("LinkID",r.LinkID),x.append("ID",r.ID)):x.append("IsNew",!0);try{await a(Tb(x)).unwrap(),r?qe.success("Marriage Receipt Updated Successfully"):qe.success("Marriage Receipt Added Successfully"),a(Jd())}catch(y){qe.error(y.message||"Something went wrong")}finally{m()}},d=async p=>{console.log("Deleting ticket:",p);try{await a(kb(p.ID)).unwrap(),qe.success("Marriage Receipt deleted successfully")}catch(x){qe.error(x.message||"Failed to delete Marriage Receipt")}},f=p=>{n(p),e(!0)},m=()=>{n(null),e(!1)},h=[{key:"Status",header:"Status",sortable:!0,render:p=>o.jsx("span",{className:`px-2 py-1 rounded ${p==="Posted"?"bg-green-100 text-green-800":p==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:p})},{key:"APAR",header:"AP/AR",sortable:!0,render:p=>p||""},{key:"CustomerName",header:"Customer",sortable:!0,render:p=>(p==null?void 0:p.trim())||"N/A"},{key:"Total",header:"Total Amount",sortable:!0,render:p=>g(p),className:"text-right font-medium"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:p=>g(p||"0.00"),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:p=>g(p||"0.00"),className:"text-right"},{key:"Debit",header:"Debit",sortable:!0,render:p=>g(p||"0.00"),className:"text-right"},{key:"EWT",header:"EWT",sortable:!0,render:p=>g(p||"0.00"),className:"text-right"},{key:"WithheldAmount",header:"Withheld Amount",sortable:!0,render:p=>g(p||"0.00"),className:"text-right"},{key:"Vat_Total",header:"Total",sortable:!0,render:p=>g(p||"0.00"),className:"text-right font-medium"},{key:"Discounts",header:"Discount (%)",sortable:!0,render:p=>p?`${p}%`:"0%",className:"text-right"},{key:"AmountDue",header:"Amount Due",sortable:!0,render:p=>g(p||"0.00"),className:"text-right font-medium"}],g=p=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(p||0),b=[{icon:Ae,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Me,title:"Delete",onClick:d,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),o.jsx(ge,{columns:h,data:s,actions:b,className:"bg-white rounded-lg shadow",isLoading:i||c}),o.jsx(ae,{isOpen:t,onClose:m,title:r?"Edit Receipt":"Add Receipt",children:o.jsx(Dje,{initialData:r,customers:l,onClose:m,onSubmit:u})})]})}const IU=6048e5,Mje=864e5,EU=6e4,OU=36e5,G$=Symbol.for("constructDateFrom");function Os(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&G$ in t?t[G$](e):t instanceof Date?new t.constructor(e):new Date(e)}function Tn(t,e){return Os(e||t,t)}let Lje={};function Uj(){return Lje}function zf(t,e){var l,c,u,d;const r=Uj(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Tn(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Ux(t,e){return zf(t,{...e,weekStartsOn:1})}function PU(t,e){const r=Tn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Os(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Ux(a),i=Os(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Ux(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Y$(t){const e=Tn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Fje(t,...e){const r=Os.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function K$(t,e){const r=Tn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Bje(t,e,r){const[n,a]=Fje(r==null?void 0:r.in,t,e),s=K$(n),i=K$(a),l=+s-Y$(s),c=+i-Y$(i);return Math.round((l-c)/Mje)}function qje(t,e){const r=PU(t,e),n=Os(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ux(n)}function Vje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Uje(t){return!(!Vje(t)&&typeof t!="number"||isNaN(+Tn(t)))}function zje(t,e){const r=Tn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Wje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hje=(t,e,r)=>{let n;const a=Wje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function SC(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Gje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Yje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jje={date:SC({formats:Gje,defaultWidth:"full"}),time:SC({formats:Yje,defaultWidth:"full"}),dateTime:SC({formats:Kje,defaultWidth:"full"})},Xje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zje=(t,e,r,n)=>Xje[t];function Uu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const Qje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ewe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},twe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},awe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},swe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},owe={ordinalNumber:swe,era:Uu({values:Qje,defaultWidth:"wide"}),quarter:Uu({values:ewe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Uu({values:twe,defaultWidth:"wide"}),day:Uu({values:rwe,defaultWidth:"wide"}),dayPeriod:Uu({values:nwe,defaultWidth:"wide",formattingValues:awe,defaultFormattingWidth:"wide"})};function zu(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?lwe(l,f=>f.test(i)):iwe(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function iwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function lwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function cwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const uwe=/^(\d+)(th|st|nd|rd)?/i,dwe=/\d+/i,fwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mwe={any:[/^b/i,/^(a|c)/i]},hwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pwe={any:[/1/i,/2/i,/3/i,/4/i]},gwe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ywe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wwe={ordinalNumber:cwe({matchPattern:uwe,parsePattern:dwe,valueCallback:t=>parseInt(t,10)}),era:zu({matchPatterns:fwe,defaultMatchWidth:"wide",parsePatterns:mwe,defaultParseWidth:"any"}),quarter:zu({matchPatterns:hwe,defaultMatchWidth:"wide",parsePatterns:pwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zu({matchPatterns:gwe,defaultMatchWidth:"wide",parsePatterns:ywe,defaultParseWidth:"any"}),day:zu({matchPatterns:bwe,defaultMatchWidth:"wide",parsePatterns:xwe,defaultParseWidth:"any"}),dayPeriod:zu({matchPatterns:vwe,defaultMatchWidth:"any",parsePatterns:jwe,defaultParseWidth:"any"})},Cwe={code:"en-US",formatDistance:Hje,formatLong:Jje,formatRelative:Zje,localize:owe,match:wwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nwe(t,e){const r=Tn(t,e==null?void 0:e.in);return Bje(r,zje(r))+1}function Swe(t,e){const r=Tn(t,e==null?void 0:e.in),n=+Ux(r)-+qje(r);return Math.round(n/IU)+1}function DU(t,e){var d,f,m,h;const r=Tn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Uj(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,i=Os((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=zf(i,e),c=Os((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=zf(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Awe(t,e){var l,c,u,d;const r=Uj(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=DU(t,e),s=Os((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),zf(s,e)}function Twe(t,e){const r=Tn(t,e==null?void 0:e.in),n=+zf(r,e)-+Awe(r,e);return Math.round(n/IU)+1}function st(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ys={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return st(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):st(r+1,2)},d(t,e){return st(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return st(t.getHours()%12||12,e.length)},H(t,e){return st(t.getHours(),e.length)},m(t,e){return st(t.getMinutes(),e.length)},s(t,e){return st(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return st(a,e.length)}},kl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},J$={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ys.y(t,e)},Y:function(t,e,r,n){const a=DU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return st(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):st(s,e.length)},R:function(t,e){const r=PU(t);return st(r,e.length)},u:function(t,e){const r=t.getFullYear();return st(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return st(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return st(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ys.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return st(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Twe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):st(a,e.length)},I:function(t,e,r){const n=Swe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):st(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ys.d(t,e)},D:function(t,e,r){const n=Nwe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):st(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return st(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return st(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return st(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=kl.noon:n===0?a=kl.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=kl.evening:n>=12?a=kl.afternoon:n>=4?a=kl.morning:a=kl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ys.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ys.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):st(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):st(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ys.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ys.s(t,e)},S:function(t,e){return Ys.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Z$(n);case"XXXX":case"XX":return gi(n);case"XXXXX":case"XXX":default:return gi(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Z$(n);case"xxxx":case"xx":return gi(n);case"xxxxx":case"xxx":default:return gi(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+X$(n,":");case"OOOO":default:return"GMT"+gi(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+X$(n,":");case"zzzz":default:return"GMT"+gi(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return st(n,e.length)},T:function(t,e,r){return st(+t,e.length)}};function X$(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+st(s,2)}function Z$(t,e){return t%60===0?(t>0?"-":"+")+st(Math.abs(t)/60,2):gi(t,e)}function gi(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=st(Math.trunc(n/60),2),s=st(n%60,2);return r+a+e+s}const Q$=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_U=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},kwe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Q$(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Q$(n,e)).replace("{{time}}",_U(a,e))},Iwe={p:_U,P:kwe},Ewe=/^D+$/,Owe=/^Y+$/,Pwe=["D","DD","YY","YYYY"];function Dwe(t){return Ewe.test(t)}function _we(t){return Owe.test(t)}function $we(t,e,r){const n=Rwe(t,e,r);if(console.warn(n),Pwe.includes(t))throw new RangeError(n)}function Rwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Fwe=/^'([^]*?)'?$/,Bwe=/''/g,qwe=/[a-zA-Z]/;function eR(t,e,r){var d,f,m,h;const n=Uj(),a=n.locale??Cwe,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=Tn(t,r==null?void 0:r.in);if(!Uje(l))throw new RangeError("Invalid time value");let c=e.match(Lwe).map(g=>{const b=g[0];if(b==="p"||b==="P"){const p=Iwe[b];return p(g,a.formatLong)}return g}).join("").match(Mwe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const b=g[0];if(b==="'")return{isToken:!1,value:Vwe(g)};if(J$[b])return{isToken:!0,value:g};if(b.match(qwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const b=g.value;(_we(b)||Dwe(b))&&$we(b,e,String(t));const p=J$[b[0]];return p(l,b,a.localize,u)}).join("")}function Vwe(t){const e=t.match(Fwe);return e?e[1].replace(Bwe,"'"):t}function tR(t,e){const r=()=>Os(e==null?void 0:e.in,NaN),a=Hwe(t);let s;if(a.date){const u=Gwe(a.date,2);s=Ywe(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=Kwe(a.time),isNaN(l)))return r();if(a.timezone){if(c=Jwe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=Tn(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Tn(i+l+c,e==null?void 0:e.in)}const Jh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Uwe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,zwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Wwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Hwe(t){const e={},r=t.split(Jh.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Jh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Jh.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=Jh.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Gwe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Ywe(t,e){if(e===null)return new Date(NaN);const r=t.match(Uwe);if(!r)return new Date(NaN);const n=!!r[4],a=Wu(r[1]),s=Wu(r[2])-1,i=Wu(r[3]),l=Wu(r[4]),c=Wu(r[5])-1;if(n)return t1e(e,l,c)?Xwe(e,l,c):new Date(NaN);{const u=new Date(0);return!Qwe(e,s,i)||!e1e(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function Wu(t){return t?parseInt(t):1}function Kwe(t){const e=t.match(zwe);if(!e)return NaN;const r=AC(e[1]),n=AC(e[2]),a=AC(e[3]);return r1e(r,n,a)?r*OU+n*EU+a*1e3:NaN}function AC(t){return t&&parseFloat(t.replace(",","."))||0}function Jwe(t){if(t==="Z")return 0;const e=t.match(Wwe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return n1e(n,a)?r*(n*OU+a*EU):NaN}function Xwe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Zwe=[31,null,31,30,31,30,31,31,30,31,30,31];function $U(t){return t%400===0||t%4===0&&t%100!==0}function Qwe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Zwe[e]||($U(t)?29:28))}function e1e(t,e){return e>=1&&e<=($U(t)?366:365)}function t1e(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function r1e(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function n1e(t,e){return e>=0&&e<=59}const Xm="https://staging-engine.testthelink.online",a1e=[],pc=L("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/public-market-ticketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),TC=L("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/public-market-ticketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Xd=L("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/public-market-ticketing/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),kC=L("publicMarketTicketing/public-market-ticketing",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),Ib=L("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/public-market-ticketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),RU=ye({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(pc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pc.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(pc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=a1e}).addCase(TC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(TC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(Xd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xd.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(Xd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(kC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(kC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(Ib.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ib.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(Ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:g9e}=RU.actions,s1e=RU.reducer,o1e=ie().shape({items:O().required("Items type is required"),startTime:Re().required("Start time is required"),endTime:Re().required("End time is required").min(Oc("startTime"),"End time must be after start time"),issuedBy:O().required("Issued by is required"),dateIssued:Re().required("Date issued is required"),postingPeriod:Re().required("Posting period is required"),amountIssued:K().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:O().required("Remarks are required")}),i1e={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},l1e=({ticket:t,onClose:e})=>{const r=se(),n=s=>s?(console.log(s),{...s,items:s.Items||"",startTime:s.StartTime?eR(tR(s.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:s.EndTime?eR(tR(s.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:s.IssuedBy||"",dateIssued:s.DateIssued||"",postingPeriod:s.PostingPeriod||"",amountIssued:s.AmountIssued||"",remarks:s.Remarks||""}):i1e,a=async s=>{try{const i={Items:s.items,StartTime:new Date(s.startTime).toISOString(),EndTime:new Date(s.endTime).toISOString(),IssuedBy:s.issuedBy,DateIssued:s.dateIssued,PostingPeriod:s.postingPeriod,AmountIssued:s.amountIssued,Remarks:s.remarks};t?(await r(Xd({IsNew:!1,ID:t.ID,LinkID:t.LinkID,...i})).unwrap(),pe.success("Ticket updated successfully"),r(pc())):(await r(Xd({IsNew:!0,...i})).unwrap(),pe.success("Ticket added successfully"),r(pc()))}catch(i){pe.error(i.message||"Something went wrong")}finally{e()}};return o.jsx(_e,{initialValues:n(t),validationSchema:o1e,onSubmit:a,enableReinitialize:!0,children:({isSubmitting:s,isValid:i,dirty:l,values:c,errors:u,touched:d,handleChange:f,handleBlur:m})=>o.jsxs(Le,{className:"space-y-6",children:[o.jsx(k,{label:"Items:",name:"items",type:"text",placeholder:"Enter items",required:!0,error:d.items&&u.items,touched:d.items,value:c.items,onChange:f,onBlur:m}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(k,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0],required:!0,error:d.dateIssued&&u.dateIssued,touched:d.dateIssued,value:c.dateIssued,onChange:f,onBlur:m}),o.jsx(k,{label:"Posting Period:",name:"postingPeriod",type:"date",min:c.dateIssued,max:new Date().toISOString().split("T")[0],required:!0,error:d.postingPeriod&&u.postingPeriod,touched:d.postingPeriod,value:c.postingPeriod,onChange:f,onBlur:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(k,{label:"Start Time:",name:"startTime",type:"datetime-local",max:c.postingPeriod,required:!0,error:d.startTime&&u.startTime,touched:d.startTime,value:c.startTime,onChange:f,onBlur:m}),o.jsx(k,{label:"End Time:",name:"endTime",type:"datetime-local",min:c.startTime,max:c.postingPeriod,required:!0,error:d.endTime&&u.endTime,touched:d.endTime,value:c.endTime,onChange:f,onBlur:m})]}),o.jsx(k,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name",required:!0,error:d.issuedBy&&u.issuedBy,touched:d.issuedBy,value:c.issuedBy,onChange:f,onBlur:m}),o.jsx(k,{label:"Amount Issued:",name:"amountIssued",type:"number",placeholder:"0.00",min:"0",step:"0.01",required:!0,error:d.amountIssued&&u.amountIssued,touched:d.amountIssued,value:c.amountIssued,onChange:f,onBlur:m}),o.jsx(k,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",required:!0,error:d.remarks&&u.remarks,touched:d.remarks,value:c.remarks,onChange:f,onBlur:m,rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:s||!i||!l,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:s?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},c1e=()=>{const t=se(),[e,r]=v.useState(!1),[n,a]=v.useState(null),{tickets:s,isLoading:i,error:l}=q(h=>h.publicMarketTicketing);v.useEffect(()=>{t(pc())},[t]),v.useEffect(()=>{l&&pe.error(l)},[l]);const c=()=>{a(null),r(!0)},u=async h=>{console.log("Deleting ticket:",h);try{await t(Ib(h.ID)).unwrap(),pe.success("Ticket deleted successfully")}catch(g){pe.error(g.message||"Failed to delete ticket")}},d=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",render:h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",render:h=>new Date(h).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",render:h=>new Date(h).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",render:h=>new Date(h).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",render:h=>`${h==null?void 0:h.toLocaleString()}`},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],m=[{icon:ba,title:"Edit",onClick:h=>{console.log("Edit ticket:",h),a(h),r(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:u,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),o.jsxs(dt,{onClick:c,disabled:i,children:[o.jsx(Tde,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:d,data:s,isLoading:i,actions:m})}),o.jsx(ae,{isOpen:e,onClose:()=>r(!1),title:n?"Edit Ticket":"Add Ticket",children:o.jsx(l1e,{ticket:n,onClose:()=>r(!1)})})]})};ie().shape({budgetName:O().required("Budget Name is required"),fiscalYear:O().required("Fiscal Year is required"),department:O().required("Department is required"),subDepartment:O().required("Sub-Department is required"),chartOfAccounts:O().required("Chart of Accounts is required"),fund:O().required("Fund is required"),project:O().required("Project is required"),january:O().required("January is required"),february:O().required("February is required"),march:O().required("March is required"),april:O().required("April is required"),may:O().required("May is required"),june:O().required("June is required"),july:O().required("July is required"),august:O().required("August is required"),september:O().required("September is required"),october:O().required("October is required"),november:O().required("November is required"),december:O().required("December is required")});const u1e=ie().shape({Name:O().required("Budget name is required"),FiscalYearID:K().required("Fiscal year is required"),DepartmentID:K().required("Department is required"),SubDepartmentID:K().required("Sub department is required"),ChartofAccountsID:K().required("Chart of accounts is required"),FundID:K().required("Fund is required"),ProjectID:K().required("Project is required"),Appropriation:K().required("Appropriation is required"),Charges:K().required("Charges is required"),January:K().nullable(),February:K().nullable(),March:K().nullable(),April:K().nullable(),May:K().nullable(),June:K().nullable(),July:K().nullable(),August:K().nullable(),September:K().nullable(),October:K().nullable(),November:K().nullable(),December:K().nullable()}),rR={ID:"",IsNew:!0,Name:"",FiscalYearID:"",DepartmentID:"",SubDepartmentID:"",ChartofAccountsID:"",FundID:"",ProjectID:"",Appropriation:0,Charges:0,January:0,February:0,March:0,April:0,May:0,June:0,July:0,August:0,September:0,October:0,November:0,December:0};function MU({initialData:t,onSubmit:e,onClose:r,departmentOptions:n,subDepartmentOptions:a,chartOfAccountsOptions:s,fundOptions:i,projectOptions:l,fiscalYearOptions:c}){const[u,d]=v.useState({...rR}),f=(m,{setSubmitting:h})=>{e(m),h(!1),console.log("Form submitted with values:",m)};return v.useEffect(()=>{t!=null&&t.ID?d({ID:t.ID,IsNew:!1,Name:t.Name||"",FiscalYearID:t.FiscalYearID||"",DepartmentID:t.DepartmentID||"",SubDepartmentID:t.SubDepartmentID||"",ChartofAccountsID:t.ChartofAccountsID||"",FundID:t.FundID||"",ProjectID:t.ProjectID||"",Appropriation:t.Appropriation||0,Charges:t.Charges||0,January:t.January||0,February:t.February||0,March:t.March||0,April:t.April||0,May:t.May||0,June:t.June||0,July:t.July||0,August:t.August||0,September:t.September||0,October:t.October||0,November:t.November||0,December:t.December||0}):d(rR)},[t]),o.jsx(_e,{enableReinitialize:!0,onSubmit:f,initialValues:u,validationSchema:u1e,children:({values:m,errors:h,touched:g,handleChange:b,handleBlur:p,isSubmitting:x,submitCount:y})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(k,{label:"Budget Name",name:"Name",value:m.Name,type:"text",onChange:b,onBlur:p,error:h.Name,touched:g.Name,required:!0})}),o.jsx(k,{label:"Fiscal Year",name:"FiscalYearID",type:"select",onChange:b,onBlur:p,value:m.FiscalYearID,error:h.FiscalYearID,touched:g.FiscalYearID,options:c,required:!0}),o.jsx(k,{label:"Department",name:"DepartmentID",type:"select",onChange:b,onBlur:p,value:m.DepartmentID,error:h.DepartmentID,touched:g.DepartmentID,options:n,required:!0}),o.jsx(k,{label:"Sub-Department",name:"SubDepartmentID",type:"select",onChange:b,onBlur:p,value:m.SubDepartmentID,error:h.SubDepartmentID,touched:g.SubDepartmentID,options:a,required:!0}),o.jsx(k,{label:"Chart of Accounts",name:"ChartofAccountsID",type:"select",onChange:b,onBlur:p,value:m.ChartofAccountsID,error:h.ChartofAccountsID,touched:g.ChartofAccountsID,options:s,required:!0}),o.jsx(k,{label:"Fund",name:"FundID",type:"select",onChange:b,onBlur:p,value:m.FundID,error:h.FundID,touched:g.FundID,options:i,required:!0}),o.jsx(k,{label:"Project",name:"ProjectID",type:"select",onChange:b,onBlur:p,value:m.ProjectID,error:h.ProjectID,touched:g.ProjectID,options:l,required:!0}),o.jsx(k,{label:"Appropriation",name:"Appropriation",onChange:b,onBlur:p,value:m.Appropriation,error:h.Appropriation,touched:g.Appropriation,type:"number",required:!0}),o.jsx(k,{label:"Charges",name:"Charges",type:"number",onChange:b,onBlur:p,value:m.Charges,error:h.Charges,touched:g.Charges,required:!0}),o.jsx(k,{label:"Total Amount",name:"TotalAmount",type:"number",onChange:b,onBlur:p,value:m.TotalAmount,error:h.TotalAmount,touched:g.TotalAmount,readOnly:!0,className:"bg-gray-100"}),o.jsx(k,{label:"Balance",name:"AppropriationBalance",type:"number",onChange:b,onBlur:p,value:m.AppropriationBalance,error:h.AppropriationBalance,touched:g.AppropriationBalance,readOnly:!0,className:"bg-gray-100"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(w=>o.jsx(k,{label:w,name:w,type:"number",onChange:b,onBlur:p,value:m[w],error:h[w],touched:g[w]},w))}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]}),y>0&&Object.keys(h).length>0&&o.jsxs("div",{className:"mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),o.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc pl-5 space-y-1",children:Object.entries(h).map(([w,S])=>o.jsx("li",{children:S},w))})]})]})})}const d1e=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],f1e=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],m1e=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],h1e=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],p1e=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],nR=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],QA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g1e=ie().shape({budgetName:O().required("Required"),fiscalYear:O().required("Required"),department:O().required("Required"),subDepartment:O().required("Required"),chartOfAccount:O().required("Required"),fund:O().required("Required"),project:O().required("Required"),monthlyAmounts:ie().shape(QA.reduce((t,e)=>(t[e]=K().min(0,"Must be >= 0").required("Required"),t),{}))});function y1e(){const[t,e]=v.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx(_e,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:QA.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:g1e,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(v.useEffect(()=>{const s=nR.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(Le,{className:"space-y-4",children:[o.jsx(k,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(k,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:d1e,value:r.fiscalYear,onChange:n}),o.jsx(k,{name:"department",label:"Department",type:"select",required:!0,options:f1e,value:r.department,onChange:n}),o.jsx(k,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:m1e,value:r.subDepartment,onChange:n}),o.jsx(k,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:h1e,value:r.chartOfAccount,onChange:n}),o.jsx(k,{name:"fund",label:"Fund",type:"select",required:!0,options:p1e,value:r.fund,onChange:n}),o.jsx(k,{name:"project",label:"Project",type:"select",required:!0,options:nR.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:QA.map(s=>o.jsx(k,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}ie().shape({Status:O().oneOf(["Requested"]).required(),APAR:O().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:K().oneOf([21]).required(),RequestedBy:K().required("Requested by (lngUser) is required"),InvoiceDate:Re().required("Invoice date is required"),InvoiceNumber:O().required("Invoice number is required"),Total:K().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Qi().required("Active is required"),Remarks:O().nullable(),CreatedBy:O().required("Created by is required"),CreatedDate:Re().required("Created date is required"),ApprovalProgress:K().min(0).required("Approval progress is required"),BudgetID:K().required("Budget id is requeired"),ApprovalVersion:K().required("Approval version is required")});const zj="https://staging-engine.testthelink.online",b1e=[],Zd=L("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zj}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Eb=L("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${zj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),eT=L("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${zj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ob=L("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${zj}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),x1e=ye({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Zd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zd.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(Zd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=b1e}).addCase(Eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(Eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(eT.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eT.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(Ob.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ob.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(Ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),v1e=x1e.reducer;function j1e(){se();const[t,e]=v.useState(!1),[r,n]=v.useState(null),{budgets:a,isLoading:s}=q(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(h){console.error("Error saving record:",h)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Se,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(ge,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(MU,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}function w1e({fiscalYears:t=[],accLoading:e=!1,onView:r,onGenerateJournal:n,onExportExcel:a}){const s=v.useRef(null),i=ie({fiscalYearID:O().required("Fiscal Year is required")}),l={fiscalYearID:""},c=(u,{setSubmitting:d})=>{const f=s.current;f==="view"?r(u):f==="generate"?n(u):f==="export"&&a(u),d(!1),s.current=null};return o.jsx(_e,{initialValues:l,validationSchema:i,onSubmit:c,validateOnMount:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,isSubmitting:g,setFieldValue:b})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:o.jsx(k,{type:"select",label:"Fiscal Year",name:"fiscalYearID",options:t.map(p=>({value:p.ID,label:p.Name})),value:u.fiscalYearID,onChange:m,onBlur:h,error:d.fiscalYearID,touched:f.fiscalYearID,required:!0})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,onClick:()=>s.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:g,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:g,onClick:()=>s.current="export",children:"Export to Excel"})]})]})})}const C1e="https://staging-engine.testthelink.online",N1e={statementComparisons:[],isLoading:!1,error:null},Pb=L("statementComparison/fetchStatementComparisons",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${C1e}/statementOfComparison/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),IC=L("statementComparison/exportStatementComparisons",async t=>!0),LU=ye({name:"statementComparison",initialState:N1e,reducers:{resetStatementComparisonState:t=>{t.statementComparisons=[],t.error=null}},extraReducers:t=>{t.addCase(Pb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pb.fulfilled,(e,r)=>{e.isLoading=!1,e.statementComparisons=r.payload}).addCase(Pb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(IC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IC.fulfilled,e=>{e.isLoading=!1}).addCase(IC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetStatementComparisonState:S1e}=LU.actions,A1e=LU.reducer;function T1e(){const t="https://staging-engine.testthelink.online",e=se(),{statementComparisons:r,isLoading:n,error:a}=q(u=>u.statementComparison),{fiscalYears:s}=q(u=>u.fiscalYears);v.useEffect(()=>{e(S1e()),e(vn())},[e]);const i=[{key:"Type",header:"Type",sortable:!0},{key:"SubID",header:"Sub ID",sortable:!0},{key:"Subtype",header:"Subtype",sortable:!0},{key:"Category",header:"Category",sortable:!0},{key:"Chart of Accounts",header:"Chart of Accounts",sortable:!0},{key:"Account Code",header:"Account Code",sortable:!0},{key:"Original",header:"Original",sortable:!0,className:"text-right"},{key:"Final",header:"Final",sortable:!0,className:"text-right"},{key:"Difference",header:"Difference",sortable:!0,className:"text-right"},{key:"Actual",header:"Actual",sortable:!0,className:"text-right"},{key:"Difference 2",header:"Difference 2",sortable:!0,className:"text-right"},{key:"Period",header:"Period",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0},{key:"Province",header:"Province",sortable:!0}],l=async u=>{try{const d=await fetch(`${t}/statementOfComparison/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fiscalYearID:u.fiscalYearID})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let h="Statement_of_Comparison.xlsx";m&&m.includes("filename=")&&(h=m.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(f),b=document.createElement("a");b.href=g,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(g)}catch(d){console.error("Export failed:",d),alert(d.message||"Failed to export")}},c=u=>{e(Pb(u))};return o.jsxs("div",{className:"page-container",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{children:[o.jsx("h1",{children:"Statement of Comparison"}),o.jsx("p",{children:"Compare original, final, and actual budget amounts by fiscal year"})]})}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(w1e,{fiscalYears:s,onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-red-100 border border-red-300 rounded-md",children:o.jsx("p",{className:"text-red-800",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:i,data:r,loading:n,pagination:!0})})]})}const k1e=()=>{const t=se(),[e,r]=v.useState(null);v.useEffect(()=>{t(ko()),t(To()),t(Ao()),t(So()),a()},[t]);const n="https://staging-engine.testthelink.online",a=async()=>{try{const S=localStorage.getItem("token"),C=await fetch(`${n}/lgu`,{headers:{Authorization:`Bearer ${S}`}});if(!C.ok)throw new Error("Failed to fetch LGU data");const j=await C.json();f(j),h(j.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(S){console.error("Error loading LGU data:",S)}},s=async(S,C)=>{try{const j=localStorage.getItem("token"),N=new FormData;Object.entries(S).forEach(([T,I])=>{N.append(T,I)}),C&&N.append("Logo",C);const A=await fetch(`${n}/lgu/${S.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${j}`},body:N});if(!A.ok)throw new Error("Failed to update LGU");const E=await A.json();return f(E),h(E.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(j){return console.error("Update error:",j),!1}},{barangays:i}=q(S=>S.barangays),{municipalities:l}=q(S=>S.municipalities),{provinces:c}=q(S=>S.provinces),{regions:u}=q(S=>S.regions),[d,f]=v.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[m,h]=v.useState("https://placehold.co/150x150?text=LGU+Logo"),[g,b]=v.useState(!1),p=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),TIN:O().required("TIN is required"),RDO:O().required("RDO is required"),StreetAddress:O().required("Street Address is required"),BarangayID:O().required("Barangay is required"),MunicipalityID:O().required("Municipality is required"),ProvinceID:O().required("Province is required"),RegionID:O().required("Region is required"),ZIPCode:O().required("Zip Code is required"),PhoneNumber:O().required("Phone Number is required"),EmailAddress:O().email("Invalid email").required("Email is required"),Website:O().required("Website is required")}),x=Qe({initialValues:d,validationSchema:p,enableReinitialize:!0,onSubmit:async(S,{setSubmitting:C})=>{await s(S,e)&&b(!1),C(!1)}}),y=S=>{var j;const C=(j=S.target.files)==null?void 0:j[0];if(C){r(C);const N=new FileReader;N.onloadend=()=>{h(N.result)},N.readAsDataURL(C)}},w=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","17A","17B","018","019","020","21A","21B","21C","022","23A","23B","024","25A","25B","026","027","028","029","030","031","032","033","034","035","036","037","038","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","53A","53B","54A","54B","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","93A","93B","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113A","113B","114","115"].map((S,C)=>({ID:C+1,Name:S}));return o.jsxs("div",{className:"py-6 px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(V6,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),!g&&o.jsx("button",{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:m,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),g&&o.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"mt-2"})]}),g?o.jsxs("form",{onSubmit:x.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"LGU Code",name:"Code",value:x.values.Code,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Code,touched:x.touched.Code,required:!0}),o.jsx(k,{label:"LGU Name",name:"Name",value:x.values.Name,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Name,touched:x.touched.Name,required:!0}),o.jsx(k,{label:"TIN",name:"TIN",value:x.values.TIN,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.TIN,touched:x.touched.TIN,required:!0}),o.jsx(k,{label:"RDO",name:"RDO",type:"select",options:w.map(S=>({value:S.ID,label:S.Name})),value:x.values.RDO,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RDO,touched:x.touched.RDO,required:!0}),o.jsx(k,{label:"Street Address",name:"StreetAddress",value:x.values.StreetAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.StreetAddress,touched:x.touched.StreetAddress,required:!0}),o.jsx(k,{label:"Barangay",name:"BarangayID",type:"select",value:x.values.BarangayID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.BarangayID,touched:x.touched.BarangayID,options:i.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(k,{label:"Municipality",name:"MunicipalityID",type:"select",value:x.values.MunicipalityID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.MunicipalityID,touched:x.touched.MunicipalityID,options:l.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(k,{label:"Province",name:"ProvinceID",type:"select",value:x.values.ProvinceID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ProvinceID,touched:x.touched.ProvinceID,options:c.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(k,{label:"Region",name:"RegionID",type:"select",value:x.values.RegionID,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.RegionID,touched:x.touched.RegionID,options:u.map(S=>({value:S.ID,label:S.Name})),required:!0}),o.jsx(k,{label:"Zip Code",name:"ZIPCode",value:x.values.ZIPCode,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.ZIPCode,touched:x.touched.ZIPCode,required:!0}),o.jsx(k,{label:"Mobile Number",name:"PhoneNumber",value:x.values.PhoneNumber,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.PhoneNumber,touched:x.touched.PhoneNumber,required:!0}),o.jsx(k,{label:"Email",name:"EmailAddress",type:"email",value:x.values.EmailAddress,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.EmailAddress,touched:x.touched.EmailAddress,required:!0}),o.jsx(k,{label:"Website",name:"Website",value:x.values.Website,onChange:x.handleChange,onBlur:x.handleBlur,error:x.errors.Website,touched:x.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{x.resetForm(),b(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x.isSubmitting,children:x.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([S,C])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:C}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d[S]})]},S))})]})]})]})},I1e=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(k,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(k,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(k,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(k,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(k,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(k,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(k,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(k,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(k,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(k,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(k,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(k,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(k,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(k,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(k,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(k,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(k,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(k,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(k,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(k,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(k,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(k,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(k,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(k,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(k,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(k,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(k,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(k,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(k,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(k,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(k,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(k,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(k,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(k,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(k,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(k,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(k,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(k,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(k,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(k,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(k,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function E1e(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a,s]=v.useState(""),i=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[l,c]=v.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),u=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:y=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:y})}],d=[{icon:z6,title:"View",onClick:y=>h(y)},{icon:ba,title:"Edit",onClick:y=>g(y)},{icon:Jn,title:"Delete",onClick:y=>b(y)}],f=(y,w)=>{c(S=>({...S,[y]:w}))},m=()=>{n(null),c({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},h=y=>{n(y),e(!0)},g=y=>{n(y),e(!0)},b=y=>{window.confirm("Are you sure you want to delete this permit?")&&console.log("Deleting permit:",y)},p=()=>{console.log("Saving form data:",l),e(!1)},x=i.filter(y=>y.businessName.toLowerCase().includes(a.toLowerCase())||y.ownerName.toLowerCase().includes(a.toLowerCase())||y.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(W0,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:y=>s(y.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(ge,{columns:u,data:x,actions:d,pagination:!0})]})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(I1e,{formData:l,handleInputChange:f,handleSave:p,onCancel:()=>e(!1),isEdit:!!r})})]})}const Rt=Xe.create({baseURL:"https://staging-engine.testthelink.online",timeout:1e4,headers:{"Content-Type":"application/json"}});Rt.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Rt.interceptors.response.use(t=>t,t=>(console.error("Axios error:",t.response||t.message),Promise.reject(t)));const O1e=ie().shape({payee:O().required("Payee is required"),amount:K().required("Amount is required").positive("Amount must be positive"),date:Re().required("Date is required"),bank:O().required("Bank is required"),accountNumber:O().required("Account number is required"),accountName:O().required("Account name is required"),chequeType:O().required("Cheque type is required"),checkNumber:O().required("Check number is required"),brstn:O().required("BRSTN is required"),dv:O().required("DV is required"),signatory1:O().required("Signatory 1 is required"),signatory2:O().required("Signatory 2 is required").notOneOf([Oc("signatory1")],"Signatories must be different"),Attachments:Tr()});function P1e(){var S,C,j;const[t,e]=v.useState([]),[r,n]=v.useState(null),[a,s]=v.useState([]),i=se(),{banks:l,isLoading:c}=q(N=>N.banks),{employees:u,isLoading:d}=q(N=>N.employees),f=Qe({initialValues:{status:"Pending",payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",accountName:"",chequeType:"Single",particulars:"",checkNumber:"",brstn:"",dv:"",additionalInformation:"",signatory1:"",signatory2:"",Attachments:[]},validationSchema:O1e,onSubmit:async N=>{await b(N)}});v.useEffect(()=>{i(Wd()),i(nn()),m()},[]);const m=async()=>{try{const N=await Rt("/chequeGenerator/checkList");s(N.data)}catch(N){throw console.error("Error fetching cheque list:",N),N}},h=(N,A,E)=>{const I=Array.from(N.target.files).map(P=>P);console.log(I,E),A("Attachments",[...E.Attachments,...I])},g=(N,A,E)=>{const T=[...E.Attachments];T.splice(N,1),A("Attachments",T)},b=async N=>{try{const A=new FormData;A.append("IsNew",r?"false":"true"),A.append("ID",(r==null?void 0:r.ID)||""),A.append("AddCondition","true"),A.append("DisbursementID",N.dv),A.append("BankID",N.bank),A.append("SignatoryType",N.chequeType),A.append("AccountNumber",N.accountNumber),A.append("AccountName",N.accountName),A.append("CheckNumber",N.checkNumber),A.append("BRSTN",N.brstn),A.append("CheckDate",N.date),A.append("Payee",N.payee),A.append("Amount",N.amount),A.append("Words",Yd(N.amount)),A.append("SignatoryOneID",N.signatory1),A.append("SignatoryTwoID",N.signatory2),A.append("Remarks",N.additionalInformation),A.append("OBR",N.obr||""),t.length>0?t.forEach((I,P)=>{I.ID?A.append(`Attachments[${P}].ID`,I.ID):A.append(`Attachments[${P}].File`,I)}):A.append("Attachments","[]");const E={headers:{"Content-Type":"multipart/form-data"}},T=await Rt.post("/chequeGenerator/save",A,E);if(T.data.error&&T.status!==200){qe.error(T.data.error);return}qe.success("Cheque saved successfully"),m(),x()}catch(A){throw console.error("Error saving cheque:",A),qe.error("Failed to save cheque"),A}},p=N=>{n(N),f.setValues({status:N.Status,payee:N.Payee,amount:N.Amount,date:N.CheckDate,bank:N.BankID.toString(),accountNumber:N.AccountNumber,accountName:N.AccountName,chequeType:N.SignatoryType,particulars:N.Particulars||"",checkNumber:N.CheckNumber,brstn:N.BRSTN,dv:N.DisbursementID,additionalInformation:N.Remarks,obr:N.OBR||"",signatory1:N.SignatoryOneID.toString(),signatory2:N.SignatoryTwoID.toString(),Attachments:N.Attachments||[]})},x=()=>{n(null),f.resetForm(),e([])},y=[{key:"Status",header:"Status",sortable:!0,render:N=>o.jsx("span",{className:`px-2 py-1 text-xs rounded font-medium ${N==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N})},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"Payee",header:"Payee",sortable:!0},{key:"Amount",header:"Amount",sortable:!0},{key:"ApprovalProgress",header:"Approval Progress",sortable:!0},{key:"ApprovalVersion",header:"Approval Version",sortable:!0}],w=[{icon:ba,title:"Edit",onClick:N=>p(N)}];return o.jsxs("div",{className:"bg-gray-50 min-h-screen",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Cheque Generator"}),o.jsx("p",{children:"Generate and print cheques"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"submit",onClick:f.handleSubmit,className:"btn btn-primary flex items-center",disabled:f.isSubmitting,children:r?o.jsxs(o.Fragment,{children:[o.jsx(rfe,{className:"h-5 w-5 mr-2"}),"Edit"]}):o.jsxs(o.Fragment,{children:[o.jsx(efe,{className:"h-5 w-5 mr-2"}),"Save"]})}),r&&o.jsx("button",{type:"button",onClick:x,className:"btn btn-outline mr-2",children:"Cancel Edit"})]})]})}),o.jsx("form",{onSubmit:f.handleSubmit,children:o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(Xt,{options:l.map(N=>({value:N.ID.toString(),label:N.Name})),label:"Bank",placeholder:"Select Bank",name:"bank",selectedValue:f.values.bank,onSelect:N=>f.setFieldValue("bank",N),error:f.touched.bank&&f.errors.bank,touched:f.touched.bank,required:!0})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:f.values.chequeType==="Single",onChange:f.handleChange,className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:f.values.chequeType==="Double",onChange:f.handleChange,className:"mr-2"}),"Double"]})]}),f.touched.chequeType&&f.errors.chequeType&&o.jsx("div",{className:"text-red-500 text-sm",children:f.errors.chequeType})]}),o.jsx(k,{type:"text",label:"DV",value:f.values.dv,onChange:f.handleChange,name:"dv",error:f.touched.dv&&f.errors.dv,touched:f.touched.dv})]}),o.jsxs("div",{className:"my-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:N=>h(N,f.setFieldValue,f.values),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`},f.values.Attachments.length)]}),((C=(S=f==null?void 0:f.values)==null?void 0:S.Attachments)==null?void 0:C.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:f.values.Attachments.map((N,A)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:N.ID?o.jsx("a",{href:`${API_URL}/uploads/${N.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:N.name||N.DataName}):N.name||N.DataName})]}),o.jsx("button",{type:"button",onClick:()=>g(A,f.setFieldValue,f.values),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},A))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:["Status: ",f.values.status]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"text",label:"Account Number",name:"accountNumber",value:f.values.accountNumber,onChange:f.handleChange,error:f.touched.accountNumber&&f.errors.accountNumber,touched:f.touched.accountNumber})}),o.jsx("div",{children:o.jsx(k,{type:"text",label:"Account Name",name:"accountName",value:f.values.accountName,onChange:f.handleChange,error:f.touched.accountName&&f.errors.accountName,touched:f.touched.accountName})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(k,{type:"text",label:"Check Number",name:"checkNumber",value:f.values.checkNumber,onChange:f.handleChange,error:f.touched.checkNumber&&f.errors.checkNumber,touched:f.touched.checkNumber})}),o.jsx("div",{children:o.jsx(k,{type:"text",label:"BRSTN",name:"brstn",value:f.values.brstn,onChange:f.handleChange,error:f.touched.brstn&&f.errors.brstn,touched:f.touched.brstn})})]}),o.jsx("div",{children:o.jsx(k,{type:"date",label:"Date",name:"date",value:f.values.date,onChange:f.handleChange,error:f.touched.date&&f.errors.date,touched:f.touched.date})}),o.jsx("div",{children:o.jsx(k,{type:"text",label:"Pay to the order of:",name:"payee",value:f.values.payee,onChange:f.handleChange,error:f.touched.payee&&f.errors.payee,touched:f.touched.payee})}),o.jsx("div",{children:o.jsx(k,{type:"number",label:"Amount",name:"amount",value:f.values.amount,onChange:f.handleChange,step:"0.01",error:f.touched.amount&&f.errors.amount,touched:f.touched.amount})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx(k,{type:"text",value:Yd(f.values.amount),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{children:o.jsx(Xt,{options:u==null?void 0:u.map(N=>({value:N.ID.toString(),label:`${N.FirstName} ${N.LastName}`})),label:"Signatory 1",placeholder:"Select signatory",name:"signatory1",selectedValue:f.values.signatory1,onSelect:N=>{if(N===f.values.signatory2){qe.error("Signatory 1 cannot be the same as Signatory 2");return}f.setFieldValue("signatory1",N)},error:f.touched.signatory1&&f.errors.signatory1,touched:f.touched.signatory1,required:!0})}),o.jsx("div",{children:o.jsx(Xt,{options:u==null?void 0:u.map(N=>({value:N.ID.toString(),label:`${N.FirstName} ${N.LastName}`})),label:"Signatory 2",placeholder:"Select signatory",name:"signatory2",selectedValue:f.values.signatory2,onSelect:N=>{if(N===f.values.signatory1){qe.error("Signatory 2 cannot be the same as Signatory 1");return}f.setFieldValue("signatory2",N)},error:f.touched.signatory2&&f.errors.signatory2,touched:f.touched.signatory2,required:!0})}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{value:f.values.additionalInformation,name:"additionalInformation",onChange:f.handleChange,placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]})}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsx("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"})}),o.jsx(ge,{columns:y,data:a,actions:w,loading:c||d,pagination:!0})]}),o.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((j=l.find(N=>N.ID.toString()===f.values.bank))==null?void 0:j.Name)||"Select a bank"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:f.values.date?new Date(f.values.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:f.values.payee||"Enter payee name"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:f.values.amount?Yd(f.values.amount):"Enter amount"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:f.values.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f.values.amount):"0.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function D1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=ie({ChartofAccountsID:O().required("Chart of Accounts is required"),CutOffDate:O().required("Cut Off Date is required"),FundID:O().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(_e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:b,setFieldValue:p})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Chart of Accounts",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:e,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsID",value:e.find(x=>String(x.value)===String(d.ChartofAccountsID))||null,onChange:x=>p("ChartofAccountsID",(x==null?void 0:x.value)||""),onBlur:g}),f.ChartofAccountsID&&m.ChartofAccountsID&&o.jsx("p",{className:"mt-1 text-sm text-error-600",children:f.ChartofAccountsID})]}),o.jsx(k,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:g,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:g,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const _1e="https://staging-engine.testthelink.online",$1e={generalLedgers:[],isLoading:!1,error:null},Db=L("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${_1e}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),EC=L("generalLedger/exportGeneralLedgers",async t=>!0),FU=ye({name:"generalLedger",initialState:$1e,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Db.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(Db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(EC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EC.fulfilled,e=>{e.isLoading=!1}).addCase(EC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:R1e}=FU.actions,M1e=FU.reducer;function L1e(){const t="https://staging-engine.testthelink.online",e=se(),{generalLedgers:r,isLoading:n,error:a}=q(f=>f.generalLedger),{funds:s}=q(f=>f.funds),{accounts:i}=q(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(R1e()),e(Ht()),e(kr())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:f.startDate,endDate:f.endDate,fundID:f.fundID})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),g=m.headers.get("Content-Disposition");let b="General_Ledger.xlsx";g&&g.includes("filename=")&&(b=g.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(h),x=document.createElement("a");x.href=p,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(p)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export general ledger")}},d=f=>{e(Db(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(D1e,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}function F1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=ie({ChartofAccountsID:O().required("Chart of Accounts is required"),CutOffDate:O().required("Cut Off Date is required"),FundID:O().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(_e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:b,setFieldValue:p})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Chart of Accounts",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(Sr,{options:e,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsID",value:e.find(x=>String(x.value)===String(d.ChartofAccountsID))||null,onChange:x=>p("ChartofAccountsID",(x==null?void 0:x.value)||""),onBlur:g}),f.ChartofAccountsID&&m.ChartofAccountsID&&o.jsx("p",{className:"mt-1 text-sm text-error-600",children:f.ChartofAccountsID})]}),o.jsx(k,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:g,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"FundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:g,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const B1e="https://staging-engine.testthelink.online",q1e={subsidiaryLedgers:[],isLoading:!1,error:null},_b=L("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${B1e}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),OC=L("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),BU=ye({name:"subsidiaryLedger",initialState:q1e,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(_b.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_b.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(_b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(OC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OC.fulfilled,e=>{e.isLoading=!1}).addCase(OC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:V1e}=BU.actions,U1e=BU.reducer;function z1e(){const t="https://staging-engine.testthelink.online",e=se(),{subsidiaryLedgers:r,isLoading:n,error:a}=q(f=>f.subsidiaryLedger),{funds:s}=q(f=>f.funds),{accounts:i}=q(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(V1e()),e(Ht()),e(kr())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:f.startDate,endDate:f.endDate,fundID:f.fundID})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),g=m.headers.get("Content-Disposition");let b="Subsidiary_Ledger.xlsx";g&&g.includes("filename=")&&(b=g.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(h),x=document.createElement("a");x.href=p,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(p)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(_b(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(F1e,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}function W1e({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=v.useRef(null),a=ie({year:O().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx(_e,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:h})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(k,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const H1e="https://staging-engine.testthelink.online",G1e={financialStatements:[],isLoading:!1,error:null},$b=L("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${H1e}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),PC=L("financialStatement/exportFinancialStatements",async t=>!0),qU=ye({name:"financialStatement",initialState:G1e,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase($b.pending,e=>{e.isLoading=!0,e.error=null}).addCase($b.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase($b.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(PC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PC.fulfilled,e=>{e.isLoading=!1}).addCase(PC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:Y1e}=qU.actions,K1e=qU.reducer;function J1e(){const t="https://staging-engine.testthelink.online",e=se(),{financialStatements:r,isLoading:n,error:a}=q(u=>u.financialStatementsReports);v.useEffect(()=>{e(Y1e())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:u.year})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let h="Consolidated_Statement_of_Financial_Position.xlsx";m&&m.includes("filename=")&&(h=m.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(f),b=document.createElement("a");b.href=g,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(g)}catch(d){console.error("Export failed:",d),alert(d.message||"Failed to export")}},c=u=>{e($b(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(W1e,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:i,data:r,loading:n,pagination:!0})})]})}const aR="https://staging-engine.testthelink.online";function sR(){const[t,e]=v.useState(""),[r,n]=v.useState(""),[a,s]=v.useState(""),[i,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState([]),[m,h]=v.useState(!1),g=se(),{funds:b}=q(A=>A.funds),{departments:p}=q(A=>A.departments),{fiscalYears:x}=q(A=>A.fiscalYears);v.useEffect(()=>{g(Ht()),g(tr()),g(vn())},[g]);const y=[{key:"Account Code",header:"Account Code",sortable:!0},{key:"Name",header:"Account Title",sortable:!0},{key:"Appropriated",header:"Appropriation",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Adjustments",header:"Adjustments",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Allotments",header:"Allotments",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Obligations",header:"Obligations",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Appropriation Balance",header:"Appropriation Balance",sortable:!0,render:A=>w(A),className:"text-right"},{key:"Allotment Balance",header:"Allotment Balance",sortable:!0,render:A=>w(A),className:"text-right"}],w=A=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(A),S=()=>({startDate:t,endDate:r,fiscalYearID:a,fundsID:i,departmentID:c}),C=async()=>{if(!j()){qe.error("Please select all filters");return}try{h(!0);const A=await Xe.post(`${aR}/budgetReport/view`,S());f(A.data||[])}catch{qe.error("Failed to fetch data")}finally{h(!1)}},j=()=>t&&r&&a&&i&&c,N=async()=>{if(!j()){qe.error("Please select all filters");return}try{const A=await Xe.post(`${aR}/budgetReport/exportExcel`,S(),{responseType:"blob"}),E=new Blob([A.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),T=window.URL.createObjectURL(E),I=document.createElement("a");I.href=T,I.download="Budget_Report.xlsx",document.body.appendChild(I),I.click(),document.body.removeChild(I)}catch{qe.error("Export failed")}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:N,className:"btn btn-outline flex items-center",children:[o.jsx(e3,{className:"h-5 w-5 mr-2"})," Export"]}),o.jsxs("button",{className:"btn btn-outline flex items-center",children:[o.jsx(il,{className:"h-5 w-5 mr-2"})," Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsx("div",{className:"w-44",children:o.jsx(k,{label:"Start Date",name:"startDate",type:"date",value:t,required:!0,onChange:A=>e(A.target.value)})}),o.jsx("div",{className:"w-44",children:o.jsx(k,{label:"End Date",name:"endDate",type:"date",value:r,required:!0,onChange:A=>n(A.target.value)})}),o.jsx("div",{className:"w-44",children:o.jsx(k,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:a,required:!0,onChange:A=>s(A.target.value),options:x.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-44",children:o.jsx(k,{label:"Fund",name:"fundsID",type:"select",value:i,required:!0,onChange:A=>l(A.target.value),options:b.map(A=>({label:A.Name,value:A.ID}))})}),o.jsx("div",{className:"w-44",children:o.jsx(k,{label:"Department",name:"departmentID",type:"select",value:c,required:!0,onChange:A=>u(A.target.value),options:p.map(A=>({label:A.Name,value:A.ID}))})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:C,children:"View"})})]}),o.jsx("div",{className:"mt-8",children:o.jsx(ge,{columns:y,data:d,pagination:!0,loading:m})})]})}function X1e(){const[t,e]=v.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),r=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],n=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],a=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),s=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],i=[{key:"date",header:"Date",sortable:!0,render:u=>new Date(u).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:u=>a(u),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:u=>`${(u*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:u=>a(u),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:u=>a(u),className:"text-right"}],c=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(n.find(d=>d.value===t.vendor)||n[0]).label,address:"Employee Address, City",zipCode:"1000"};{const u=r.find(d=>d.value===t.vendor)||r[0];return{tin:"123-456-789-000",name:u.label,address:`${u.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(e3,{className:"h-5 w-5 mr-2"}),"Export"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(il,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(k,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:u=>e({...t,startDate:u.target.value})}),o.jsx(k,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:u=>e({...t,endDate:u.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(k,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:u=>e({...t,vendor:u.target.value}),options:t.payeeType==="employee"?n:r})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",c.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",c.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",c.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",c.zipCode]})]})]})]}),o.jsx(ge,{columns:i,data:s,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const oR="https://staging-engine.testthelink.online",DC={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function Z1e(){const t=se(),{userroles:e,isLoading:r,error:n}=q(h=>h.userroles),a=q(h=>h.modules.modules),[s,i]=v.useState(null),[l,c]=v.useState({});v.useEffect(()=>{t(sc()),t(Fd())},[t]),v.useEffect(()=>{e.length>0&&!s&&i(e[0])},[e]),v.useEffect(()=>{if(!(s!=null&&s.ID)||a.length===0)return;(async()=>{try{const g=await fetch(`${oR}/moduleAccess/${s.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),b=await g.json();if(!g.ok)throw new Error(b.message||"Failed to fetch access");const p={};b.forEach(y=>{p[y.ModuleID]={id:y.ID,view:!!y.View,add:!!y.Add,edit:!!y.Edit,delete:!!y.Delete,print:!!y.Print,mayor:!!y.Mayor}});const x={};a.forEach(y=>{x[y.ID]=p[y.ID]||{...DC}}),c(x)}catch(g){console.error("Error loading module access:",g.message)}})()},[s,a]);const u=(h,g)=>{c(b=>({...b,[h]:{...b[h],[g]:!b[h][g]}}))},d=h=>{const g={};a.forEach(b=>{g[b.ID]={...l[b.ID]||DC,view:h,add:h,edit:h,delete:h,print:h,mayor:h}}),c(g)},f=(h,g)=>{const b={...l};a.forEach(p=>{b[p.ID]={...b[p.ID]||DC,[h]:g}}),c(b)},m=async()=>{if(!(s!=null&&s.ID))return;const h=Object.entries(l).map(([g,b])=>({id:b.id||null,ModuleID:parseInt(g),View:b.view?1:0,Add:b.add?1:0,Edit:b.edit?1:0,Delete:b.delete?1:0,Print:b.print?1:0,Mayor:b.mayor?1:0}));try{const g=await fetch(`${oR}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:s.ID,modules:h})});if(!g.ok){const b=await g.json();throw new Error(b.message||"Failed to save permissions")}alert("Permissions saved successfully!")}catch(g){console.error("Save failed:",g.message),alert("Error saving permissions.")}};return o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),o.jsx("button",{className:"btn btn-primary flex items-center",onClick:m,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(h=>o.jsx("li",{onClick:()=>i(h),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(s==null?void 0:s.ID)===h.ID?"bg-blue-200 font-semibold":""}`,children:h.Description},h.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(s==null?void 0:s.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:h})})},h))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:a.every(g=>{var b;return(b=l[g.ID])==null?void 0:b[h]}),onChange:g=>f(h,g.target.checked),className:"accent-blue-600"})},`select-all-${h}`))]}),a.map(h=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:h.Description}),["view","add","edit","delete","print","mayor"].map(g=>{var b;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((b=l[h.ID])==null?void 0:b[g])||!1,onChange:()=>u(h.ID,g),className:"accent-blue-600"})},g)})]},h.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>d(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>d(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const Q1e=()=>{const t=Em(),[e,r]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""});se();const[n,a]=v.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){qe.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){qe.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),qe.success("Password updated successfully!"),t("/dashboard")}catch(d){qe.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(Ude,{size:18}):o.jsx(z6,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(Bde,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})},eCe=(t="self")=>Rt("/profileDashboard/userDocumentsList",{params:{owner:t}}),tCe=t=>Rt("/profileDashboard/budgetList",{params:t?{selectedDepartmentID:t}:{}}),rCe=t=>Rt(`/profileDashboard/budgetAPARList/${t}`),iR=(t="Day",e="Disbursement Voucher",r="")=>{const n={dateRange:t,aparType:e,...r&&{selectedDepartmentID:r}};return Rt("/profileDashboard/disbursementAmounts",{params:n})},nCe=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Rt("/profileDashboard/obligationChart",{params:r})},aCe=(t="Day",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Rt("/profileDashboard/travelOrderChart",{params:r})},sCe=(t="Year",e=null)=>{const r={dateRange:t,...e&&{selectedDepartmentID:e}};return Rt("/profileDashboard/disbursementChart",{params:r})},oCe=(t="Day")=>Rt("/profileDashboard/collectionTotals",{params:{dateRange:t}}),iCe=()=>Rt("/profileDashboard/chartGeneral"),lCe=()=>Rt("/profileDashboard/chartMarriage"),cCe=()=>Rt("/profileDashboard/chartBurial"),uCe=()=>Rt("/profileDashboard/chartCedula"),dCe={"Disbursement Posted":"bg-green-100 text-green-700",Requested:"bg-blue-100 text-blue-700",Pending:"bg-yellow-100 text-yellow-700","Cheque Requested":"bg-red-100 text-red-700"},fCe=t=>o.jsx("div",{className:"flex gap-2 flex-wrap",children:t.split(",").map((e,r)=>{const n=e.trim();return o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${dCe[n]||"bg-gray-100 text-gray-600"}`,children:n},r)})}),mCe=()=>{const[t,e]=v.useState("self"),[r,n]=v.useState([]);v.useEffect(()=>{eCe(t).then(c=>{n(c.data||[])}).catch(()=>{pe.error("Failed to load documents")})},[t]);const{statusCounts:a,documentsList:s}=r||{},i={total:a==null?void 0:a.Total,approved:a==null?void 0:a.Approved,requested:a==null?void 0:a.Requested,rejected:a==null?void 0:a.Rejected},l=[{key:"Status",header:"Status",render:c=>fCe(c)},{key:"InvoiceNumber",header:"Invoice No",sortable:!0},{key:"APAR",header:"APAR Type",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Total",header:"Amount",sortable:!0}];return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Pue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome, John Doe"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Position: Accountant"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Department: Finance"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(tc,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(tc,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(tc,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Xh,{title:"Total Documents",value:i.total,icon:Aue}),o.jsx(Xh,{title:"Approved",value:i.approved,icon:bue}),o.jsx(Xh,{title:"Requested",value:i.requested,icon:Nue}),o.jsx(Xh,{title:"Rejected",value:i.rejected,icon:_ue})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),[{label:"Me",value:"self"},{label:"Department",value:"department"},{label:"All",value:"all"}].map(c=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:c.value,checked:t===c.value,onChange:()=>e(c.value),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:c.label})]},c.value))]}),o.jsx(ge,{columns:l,data:s||[],pagination:!0})]})},Xh=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]});var hCe=Array.isArray,cn=hCe,pCe=typeof oh=="object"&&oh&&oh.Object===Object&&oh,VU=pCe,gCe=VU,yCe=typeof self=="object"&&self&&self.Object===Object&&self,bCe=gCe||yCe||Function("return this")(),Wa=bCe,xCe=Wa,vCe=xCe.Symbol,Zm=vCe,lR=Zm,UU=Object.prototype,jCe=UU.hasOwnProperty,wCe=UU.toString,Hu=lR?lR.toStringTag:void 0;function CCe(t){var e=jCe.call(t,Hu),r=t[Hu];try{t[Hu]=void 0;var n=!0}catch{}var a=wCe.call(t);return n&&(e?t[Hu]=r:delete t[Hu]),a}var NCe=CCe,SCe=Object.prototype,ACe=SCe.toString;function TCe(t){return ACe.call(t)}var kCe=TCe,cR=Zm,ICe=NCe,ECe=kCe,OCe="[object Null]",PCe="[object Undefined]",uR=cR?cR.toStringTag:void 0;function DCe(t){return t==null?t===void 0?PCe:OCe:uR&&uR in Object(t)?ICe(t):ECe(t)}var Bs=DCe;function _Ce(t){return t!=null&&typeof t=="object"}var qs=_Ce,$Ce=Bs,RCe=qs,MCe="[object Symbol]";function LCe(t){return typeof t=="symbol"||RCe(t)&&$Ce(t)==MCe}var du=LCe,FCe=cn,BCe=du,qCe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VCe=/^\w*$/;function UCe(t,e){if(FCe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||BCe(t)?!0:VCe.test(t)||!qCe.test(t)||e!=null&&t in Object(e)}var BE=UCe;function zCe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Jo=zCe;const fu=rt(Jo);var WCe=Bs,HCe=Jo,GCe="[object AsyncFunction]",YCe="[object Function]",KCe="[object GeneratorFunction]",JCe="[object Proxy]";function XCe(t){if(!HCe(t))return!1;var e=WCe(t);return e==YCe||e==KCe||e==GCe||e==JCe}var qE=XCe;const Ue=rt(qE);var ZCe=Wa,QCe=ZCe["__core-js_shared__"],eNe=QCe,_C=eNe,dR=function(){var t=/[^.]+$/.exec(_C&&_C.keys&&_C.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tNe(t){return!!dR&&dR in t}var rNe=tNe,nNe=Function.prototype,aNe=nNe.toString;function sNe(t){if(t!=null){try{return aNe.call(t)}catch{}try{return t+""}catch{}}return""}var zU=sNe,oNe=qE,iNe=rNe,lNe=Jo,cNe=zU,uNe=/[\\^$.*+?()[\]{}|]/g,dNe=/^\[object .+?Constructor\]$/,fNe=Function.prototype,mNe=Object.prototype,hNe=fNe.toString,pNe=mNe.hasOwnProperty,gNe=RegExp("^"+hNe.call(pNe).replace(uNe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yNe(t){if(!lNe(t)||iNe(t))return!1;var e=oNe(t)?gNe:dNe;return e.test(cNe(t))}var bNe=yNe;function xNe(t,e){return t==null?void 0:t[e]}var vNe=xNe,jNe=bNe,wNe=vNe;function CNe(t,e){var r=wNe(t,e);return jNe(r)?r:void 0}var gl=CNe,NNe=gl,SNe=NNe(Object,"create"),Wj=SNe,fR=Wj;function ANe(){this.__data__=fR?fR(null):{},this.size=0}var TNe=ANe;function kNe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var INe=kNe,ENe=Wj,ONe="__lodash_hash_undefined__",PNe=Object.prototype,DNe=PNe.hasOwnProperty;function _Ne(t){var e=this.__data__;if(ENe){var r=e[t];return r===ONe?void 0:r}return DNe.call(e,t)?e[t]:void 0}var $Ne=_Ne,RNe=Wj,MNe=Object.prototype,LNe=MNe.hasOwnProperty;function FNe(t){var e=this.__data__;return RNe?e[t]!==void 0:LNe.call(e,t)}var BNe=FNe,qNe=Wj,VNe="__lodash_hash_undefined__";function UNe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=qNe&&e===void 0?VNe:e,this}var zNe=UNe,WNe=TNe,HNe=INe,GNe=$Ne,YNe=BNe,KNe=zNe;function mu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}mu.prototype.clear=WNe;mu.prototype.delete=HNe;mu.prototype.get=GNe;mu.prototype.has=YNe;mu.prototype.set=KNe;var JNe=mu;function XNe(){this.__data__=[],this.size=0}var ZNe=XNe;function QNe(t,e){return t===e||t!==t&&e!==e}var VE=QNe,eSe=VE;function tSe(t,e){for(var r=t.length;r--;)if(eSe(t[r][0],e))return r;return-1}var Hj=tSe,rSe=Hj,nSe=Array.prototype,aSe=nSe.splice;function sSe(t){var e=this.__data__,r=rSe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():aSe.call(e,r,1),--this.size,!0}var oSe=sSe,iSe=Hj;function lSe(t){var e=this.__data__,r=iSe(e,t);return r<0?void 0:e[r][1]}var cSe=lSe,uSe=Hj;function dSe(t){return uSe(this.__data__,t)>-1}var fSe=dSe,mSe=Hj;function hSe(t,e){var r=this.__data__,n=mSe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var pSe=hSe,gSe=ZNe,ySe=oSe,bSe=cSe,xSe=fSe,vSe=pSe;function hu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}hu.prototype.clear=gSe;hu.prototype.delete=ySe;hu.prototype.get=bSe;hu.prototype.has=xSe;hu.prototype.set=vSe;var Gj=hu,jSe=gl,wSe=Wa,CSe=jSe(wSe,"Map"),UE=CSe,mR=JNe,NSe=Gj,SSe=UE;function ASe(){this.size=0,this.__data__={hash:new mR,map:new(SSe||NSe),string:new mR}}var TSe=ASe;function kSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var ISe=kSe,ESe=ISe;function OSe(t,e){var r=t.__data__;return ESe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Yj=OSe,PSe=Yj;function DSe(t){var e=PSe(this,t).delete(t);return this.size-=e?1:0,e}var _Se=DSe,$Se=Yj;function RSe(t){return $Se(this,t).get(t)}var MSe=RSe,LSe=Yj;function FSe(t){return LSe(this,t).has(t)}var BSe=FSe,qSe=Yj;function VSe(t,e){var r=qSe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var USe=VSe,zSe=TSe,WSe=_Se,HSe=MSe,GSe=BSe,YSe=USe;function pu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pu.prototype.clear=zSe;pu.prototype.delete=WSe;pu.prototype.get=HSe;pu.prototype.has=GSe;pu.prototype.set=YSe;var zE=pu,WU=zE,KSe="Expected a function";function WE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(KSe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(WE.Cache||WU),r}WE.Cache=WU;var HU=WE;const JSe=rt(HU);var XSe=HU,ZSe=500;function QSe(t){var e=XSe(t,function(n){return r.size===ZSe&&r.clear(),n}),r=e.cache;return e}var eAe=QSe,tAe=eAe,rAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nAe=/\\(\\)?/g,aAe=tAe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(rAe,function(r,n,a,s){e.push(a?s.replace(nAe,"$1"):n||r)}),e}),sAe=aAe;function oAe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var HE=oAe,hR=Zm,iAe=HE,lAe=cn,cAe=du,pR=hR?hR.prototype:void 0,gR=pR?pR.toString:void 0;function GU(t){if(typeof t=="string")return t;if(lAe(t))return iAe(t,GU)+"";if(cAe(t))return gR?gR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var uAe=GU,dAe=uAe;function fAe(t){return t==null?"":dAe(t)}var YU=fAe,mAe=cn,hAe=BE,pAe=sAe,gAe=YU;function yAe(t,e){return mAe(t)?t:hAe(t,e)?[t]:pAe(gAe(t))}var KU=yAe,bAe=du;function xAe(t){if(typeof t=="string"||bAe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Kj=xAe,vAe=KU,jAe=Kj;function wAe(t,e){e=vAe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[jAe(e[r++])];return r&&r==n?t:void 0}var GE=wAe,CAe=GE;function NAe(t,e,r){var n=t==null?void 0:CAe(t,e);return n===void 0?r:n}var JU=NAe;const pa=rt(JU);function SAe(t){return t==null}var AAe=SAe;const Ye=rt(AAe);var TAe=Bs,kAe=cn,IAe=qs,EAe="[object String]";function OAe(t){return typeof t=="string"||!kAe(t)&&IAe(t)&&TAe(t)==EAe}var PAe=OAe;const Qm=rt(PAe);var XU={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=Symbol.for("react.element"),KE=Symbol.for("react.portal"),Jj=Symbol.for("react.fragment"),Xj=Symbol.for("react.strict_mode"),Zj=Symbol.for("react.profiler"),Qj=Symbol.for("react.provider"),ew=Symbol.for("react.context"),DAe=Symbol.for("react.server_context"),tw=Symbol.for("react.forward_ref"),rw=Symbol.for("react.suspense"),nw=Symbol.for("react.suspense_list"),aw=Symbol.for("react.memo"),sw=Symbol.for("react.lazy"),_Ae=Symbol.for("react.offscreen"),ZU;ZU=Symbol.for("react.module.reference");function Xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case YE:switch(t=t.type,t){case Jj:case Zj:case Xj:case rw:case nw:return t;default:switch(t=t&&t.$$typeof,t){case DAe:case ew:case tw:case sw:case aw:case Qj:return t;default:return e}}case KE:return e}}}ut.ContextConsumer=ew;ut.ContextProvider=Qj;ut.Element=YE;ut.ForwardRef=tw;ut.Fragment=Jj;ut.Lazy=sw;ut.Memo=aw;ut.Portal=KE;ut.Profiler=Zj;ut.StrictMode=Xj;ut.Suspense=rw;ut.SuspenseList=nw;ut.isAsyncMode=function(){return!1};ut.isConcurrentMode=function(){return!1};ut.isContextConsumer=function(t){return Xn(t)===ew};ut.isContextProvider=function(t){return Xn(t)===Qj};ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===YE};ut.isForwardRef=function(t){return Xn(t)===tw};ut.isFragment=function(t){return Xn(t)===Jj};ut.isLazy=function(t){return Xn(t)===sw};ut.isMemo=function(t){return Xn(t)===aw};ut.isPortal=function(t){return Xn(t)===KE};ut.isProfiler=function(t){return Xn(t)===Zj};ut.isStrictMode=function(t){return Xn(t)===Xj};ut.isSuspense=function(t){return Xn(t)===rw};ut.isSuspenseList=function(t){return Xn(t)===nw};ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jj||t===Zj||t===Xj||t===rw||t===nw||t===_Ae||typeof t=="object"&&t!==null&&(t.$$typeof===sw||t.$$typeof===aw||t.$$typeof===Qj||t.$$typeof===ew||t.$$typeof===tw||t.$$typeof===ZU||t.getModuleId!==void 0)};ut.typeOf=Xn;XU.exports=ut;var $Ae=XU.exports,RAe=Bs,MAe=qs,LAe="[object Number]";function FAe(t){return typeof t=="number"||MAe(t)&&RAe(t)==LAe}var QU=FAe;const BAe=rt(QU);var qAe=QU;function VAe(t){return qAe(t)&&t!=+t}var UAe=VAe;const eh=rt(UAe);var Un=function(e){return e===0?0:e>0?1:-1},Ii=function(e){return Qm(e)&&e.indexOf("%")===e.length-1},be=function(e){return BAe(e)&&!eh(e)},lr=function(e){return be(e)||Qm(e)},zAe=0,ow=function(e){var r=++zAe;return"".concat(e||"").concat(r)},Zr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(e)&&!Qm(e))return n;var s;if(Ii(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return eh(s)&&(s=n),a&&s>r&&(s=r),s},Ol=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},WAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},yR=function(e,r){return be(e)&&be(r)?function(n){return e+n*(r-e)}:function(){return r}};function tT(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):pa(n,e))===r})}function rT(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function nT(t){"@babel/helpers - typeof";return nT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nT(t)}var HAe=["viewBox","children"],GAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bR=["points","pathLength"],$C={svg:HAe,polygon:bR,polyline:bR},JE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zx=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!fu(n))return null;var a={};return Object.keys(n).forEach(function(s){JE.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},YAe=function(e,r,n){return function(a){return e(r,n,a),null}},iw=function(e,r,n){if(!fu(e)||nT(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];JE.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=YAe(i,r,n))}),a},KAe=["children"],JAe=["children"];function xR(t,e){if(t==null)return{};var r=XAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},js=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},jR=null,RC=null,XE=function t(e){if(e===jR&&Array.isArray(RC))return RC;var r=[];return v.Children.forEach(e,function(n){Ye(n)||($Ae.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),RC=r,jR=e,r};function Fa(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return js(a)}):n=[js(e)],XE(t).forEach(function(a){var s=pa(a,"type.displayName")||pa(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Ln(t,e){var r=Fa(t,e);return r&&r[0]}var wR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!be(n)||n<=0||!be(a)||a<=0)},ZAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QAe=function(e){return e&&e.type&&Qm(e.type)&&ZAe.indexOf(e.type)>=0},eTe=function(e,r,n,a){var s,i=(s=$C==null?void 0:$C[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ue(e)&&(a&&i.includes(r)||GAe.includes(r))||n&&JE.includes(r)},Ve=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),!fu(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;eTe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},aT=function t(e,r){if(e===r)return!0;var n=v.Children.count(e);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return CR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!CR(s,i))return!1}return!0},CR=function(e,r){if(Ye(e)&&Ye(r))return!0;if(!Ye(e)&&!Ye(r)){var n=e.props||{},a=n.children,s=xR(n,KAe),i=r.props||{},l=i.children,c=xR(i,JAe);return a&&l?rT(s,c)&&aT(a,l):!a&&!l?rT(s,c):!1}return!1},NR=function(e,r){var n=[],a={};return XE(e).forEach(function(s,i){if(QAe(s))n.push(s);else if(s){var l=js(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},tTe=function(e){var r=e&&e.type;return r&&vR[r]?vR[r]:null},rTe=function(e,r){return XE(r).indexOf(e)},nTe=["children","width","height","viewBox","className","style","title","desc"];function sT(){return sT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sT.apply(this,arguments)}function aTe(t,e){if(t==null)return{};var r=sTe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oT(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=aTe(t,nTe),d=a||{width:r,height:n,x:0,y:0},f=$e("recharts-surface",s);return V.createElement("svg",sT({},Ve(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),e)}var oTe=["children","className"];function iT(){return iT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iT.apply(this,arguments)}function iTe(t,e){if(t==null)return{};var r=lTe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ut=V.forwardRef(function(t,e){var r=t.children,n=t.className,a=iTe(t,oTe),s=$e("recharts-layer",n);return V.createElement("g",iT({className:s},Ve(a,!0),{ref:e}),r)}),ws=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function cTe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var uTe=cTe,dTe=uTe;function fTe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:dTe(t,e,r)}var mTe=fTe,hTe="\\ud800-\\udfff",pTe="\\u0300-\\u036f",gTe="\\ufe20-\\ufe2f",yTe="\\u20d0-\\u20ff",bTe=pTe+gTe+yTe,xTe="\\ufe0e\\ufe0f",vTe="\\u200d",jTe=RegExp("["+vTe+hTe+bTe+xTe+"]");function wTe(t){return jTe.test(t)}var ez=wTe;function CTe(t){return t.split("")}var NTe=CTe,tz="\\ud800-\\udfff",STe="\\u0300-\\u036f",ATe="\\ufe20-\\ufe2f",TTe="\\u20d0-\\u20ff",kTe=STe+ATe+TTe,ITe="\\ufe0e\\ufe0f",ETe="["+tz+"]",lT="["+kTe+"]",cT="\\ud83c[\\udffb-\\udfff]",OTe="(?:"+lT+"|"+cT+")",rz="[^"+tz+"]",nz="(?:\\ud83c[\\udde6-\\uddff]){2}",az="[\\ud800-\\udbff][\\udc00-\\udfff]",PTe="\\u200d",sz=OTe+"?",oz="["+ITe+"]?",DTe="(?:"+PTe+"(?:"+[rz,nz,az].join("|")+")"+oz+sz+")*",_Te=oz+sz+DTe,$Te="(?:"+[rz+lT+"?",lT,nz,az,ETe].join("|")+")",RTe=RegExp(cT+"(?="+cT+")|"+$Te+_Te,"g");function MTe(t){return t.match(RTe)||[]}var LTe=MTe,FTe=NTe,BTe=ez,qTe=LTe;function VTe(t){return BTe(t)?qTe(t):FTe(t)}var UTe=VTe,zTe=mTe,WTe=ez,HTe=UTe,GTe=YU;function YTe(t){return function(e){e=GTe(e);var r=WTe(e)?HTe(e):void 0,n=r?r[0]:e.charAt(0),a=r?zTe(r,1).join(""):e.slice(1);return n[t]()+a}}var KTe=YTe,JTe=KTe,XTe=JTe("toUpperCase"),ZTe=XTe;const lw=rt(ZTe);function bt(t){return function(){return t}}const iz=Math.cos,Wx=Math.sin,va=Math.sqrt,Hx=Math.PI,cw=2*Hx,uT=Math.PI,dT=2*uT,yi=1e-6,QTe=dT-yi;function lz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function eke(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return lz;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class tke{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?lz:eke(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>yi)if(!(Math.abs(f*c-u*d)>yi)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-i,g=a-l,b=c*c+u*u,p=h*h+g*g,x=Math.sqrt(b),y=Math.sqrt(m),w=s*Math.tan((uT-Math.acos((b+m-p)/(2*x*y)))/2),S=w/y,C=w/x;Math.abs(S-1)>yi&&this._append`L${e+S*d},${r+S*f}`,this._append`A${s},${s},0,0,${+(f*h>d*g)},${this._x1=e+C*c},${this._y1=r+C*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>yi||Math.abs(this._y1-d)>yi)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%dT+dT),m>QTe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>yi&&this._append`A${n},${n},0,${+(m>=uT)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ZE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new tke(e)}function QE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cz(t){this._context=t}cz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function uw(t){return new cz(t)}function uz(t){return t[0]}function dz(t){return t[1]}function fz(t,e){var r=bt(!0),n=null,a=uw,s=null,i=ZE(l);t=typeof t=="function"?t:t===void 0?uz:bt(t),e=typeof e=="function"?e:e===void 0?dz:bt(e);function l(c){var u,d=(c=QE(c)).length,f,m=!1,h;for(n==null&&(s=a(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:bt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Zh(t,e,r){var n=null,a=bt(!0),s=null,i=uw,l=null,c=ZE(u);t=typeof t=="function"?t:t===void 0?uz:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?dz:bt(+r);function u(f){var m,h,g,b=(f=QE(f)).length,p,x=!1,y,w=new Array(b),S=new Array(b);for(s==null&&(l=i(y=c())),m=0;m<=b;++m){if(!(m<b&&a(p=f[m],m,f))===x)if(x=!x)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=h;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}x&&(w[m]=+t(p,m,f),S[m]=+e(p,m,f),l.point(n?+n(p,m,f):w[m],r?+r(p,m,f):S[m]))}if(y)return l=null,y+""||null}function d(){return fz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:bt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:bt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:bt(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class mz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function rke(t){return new mz(t,!0)}function nke(t){return new mz(t,!1)}const eO={draw(t,e){const r=va(e/Hx);t.moveTo(r,0),t.arc(0,0,r,0,cw)}},ake={draw(t,e){const r=va(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},hz=va(1/3),ske=hz*2,oke={draw(t,e){const r=va(e/ske),n=r*hz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},ike={draw(t,e){const r=va(e),n=-r/2;t.rect(n,n,r,r)}},lke=.8908130915292852,pz=Wx(Hx/10)/Wx(7*Hx/10),cke=Wx(cw/10)*pz,uke=-iz(cw/10)*pz,dke={draw(t,e){const r=va(e*lke),n=cke*r,a=uke*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=cw*s/5,l=iz(i),c=Wx(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},MC=va(3),fke={draw(t,e){const r=-va(e/(MC*3));t.moveTo(0,r*2),t.lineTo(-MC*r,-r),t.lineTo(MC*r,-r),t.closePath()}},Rn=-.5,Mn=va(3)/2,fT=1/va(12),mke=(fT/2+1)*3,hke={draw(t,e){const r=va(e/mke),n=r/2,a=r*fT,s=n,i=r*fT+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(Rn*n-Mn*a,Mn*n+Rn*a),t.lineTo(Rn*s-Mn*i,Mn*s+Rn*i),t.lineTo(Rn*l-Mn*c,Mn*l+Rn*c),t.lineTo(Rn*n+Mn*a,Rn*a-Mn*n),t.lineTo(Rn*s+Mn*i,Rn*i-Mn*s),t.lineTo(Rn*l+Mn*c,Rn*c-Mn*l),t.closePath()}};function pke(t,e){let r=null,n=ZE(a);t=typeof t=="function"?t:bt(t||eO),e=typeof e=="function"?e:bt(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:bt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:bt(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Gx(){}function Yx(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function gz(t){this._context=t}gz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gke(t){return new gz(t)}function yz(t){this._context=t}yz.prototype={areaStart:Gx,areaEnd:Gx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Yx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yke(t){return new yz(t)}function bz(t){this._context=t}bz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bke(t){return new bz(t)}function xz(t){this._context=t}xz.prototype={areaStart:Gx,areaEnd:Gx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function xke(t){return new xz(t)}function SR(t){return t<0?-1:1}function AR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(SR(s)+SR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function TR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function LC(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function Kx(t){this._context=t}Kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:LC(this,this._t0,TR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,LC(this,TR(this,r=AR(this,t,e)),r);break;default:LC(this,this._t0,r=AR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function vz(t){this._context=new jz(t)}(vz.prototype=Object.create(Kx.prototype)).point=function(t,e){Kx.prototype.point.call(this,e,t)};function jz(t){this._context=t}jz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function vke(t){return new Kx(t)}function jke(t){return new vz(t)}function wz(t){this._context=t}wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=kR(t),a=kR(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function kR(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function wke(t){return new wz(t)}function dw(t,e){this._context=t,this._t=e}dw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Cke(t){return new dw(t,.5)}function Nke(t){return new dw(t,0)}function Ske(t){return new dw(t,1)}function Dc(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function mT(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Ake(t,e){return t[e]}function Tke(t){const e=[];return e.key=t,e}function kke(){var t=bt([]),e=mT,r=Dc,n=Ake;function a(s){var i=Array.from(t.apply(this,arguments),Tke),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=QE(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:bt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:bt(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?mT:typeof s=="function"?s:bt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Dc,a):r},a}function Ike(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}Dc(t,e)}}function Eke(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Dc(t,e)}}function Oke(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,g=0;g<l;++g){var b=t[e[g]],p=b[n][1]||0,x=b[n-1][1]||0;h+=p-x}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Dc(t,e)}}function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}var Pke=["type","size","sizeType"];function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hT.apply(this,arguments)}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ER(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){Dke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dke(t,e,r){return e=_ke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ke(t){var e=$ke(t,"string");return Wf(e)=="symbol"?e:e+""}function $ke(t,e){if(Wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rke(t,e){if(t==null)return{};var r=Mke(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Cz={symbolCircle:eO,symbolCross:ake,symbolDiamond:oke,symbolSquare:ike,symbolStar:dke,symbolTriangle:fke,symbolWye:hke},Lke=Math.PI/180,Fke=function(e){var r="symbol".concat(lw(e));return Cz[r]||eO},Bke=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Lke;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qke=function(e,r){Cz["symbol".concat(lw(e))]=r},tO=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=Rke(e,Pke),u=ER(ER({},c),{},{type:n,size:s,sizeType:l}),d=function(){var p=Fke(n),x=pke().type(p).size(Bke(s,l,n));return x()},f=u.className,m=u.cx,h=u.cy,g=Ve(u,!0);return m===+m&&h===+h&&s===+s?V.createElement("path",hT({},g,{className:$e("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};tO.registerSymbol=qke;function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pT.apply(this,arguments)}function OR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(r),!0).forEach(function(n){Hf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sz(n.key),n)}}function Wke(t,e,r){return e&&zke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hke(t,e,r){return e=Jx(e),Gke(t,Nz()?Reflect.construct(e,r||[],Jx(t).constructor):e.apply(t,r))}function Gke(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yke(t)}function Yke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nz=function(){return!!t})()}function Jx(t){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(t)}function Kke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}function gT(t,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gT(t,e)}function Hf(t,e,r){return e=Sz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sz(t){var e=Jke(t,"string");return _c(e)=="symbol"?e:e+""}function Jke(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ta=32,rO=function(t){function e(){return Uke(this,e),Hke(this,e,arguments)}return Kke(e,t),Wke(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=ta/2,i=ta/6,l=ta/3,c=n.inactive?a:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ta,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ta,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ta/8,"h").concat(ta,"v").concat(ta*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var u=Vke({},n);return delete u.legendIcon,V.cloneElement(n.legendIcon,u)}return V.createElement(tO,{fill:c,cx:s,cy:s,size:ta,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ta,height:ta},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,g){var b=h.formatter||c,p=$e(Hf(Hf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=Ue(h.value)?null:h.value;ws(!Ue(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=h.inactive?u:h.color;return V.createElement("li",pT({className:p,style:f,key:"legend-item-".concat(g)},iw(n.props,h,g)),V.createElement(oT,{width:i,height:i,viewBox:d,style:m},n.renderIcon(h)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b?b(x,h,g):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Hf(rO,"displayName","Legend");Hf(rO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Xke=Gj;function Zke(){this.__data__=new Xke,this.size=0}var Qke=Zke;function eIe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var tIe=eIe;function rIe(t){return this.__data__.get(t)}var nIe=rIe;function aIe(t){return this.__data__.has(t)}var sIe=aIe,oIe=Gj,iIe=UE,lIe=zE,cIe=200;function uIe(t,e){var r=this.__data__;if(r instanceof oIe){var n=r.__data__;if(!iIe||n.length<cIe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new lIe(n)}return r.set(t,e),this.size=r.size,this}var dIe=uIe,fIe=Gj,mIe=Qke,hIe=tIe,pIe=nIe,gIe=sIe,yIe=dIe;function gu(t){var e=this.__data__=new fIe(t);this.size=e.size}gu.prototype.clear=mIe;gu.prototype.delete=hIe;gu.prototype.get=pIe;gu.prototype.has=gIe;gu.prototype.set=yIe;var Az=gu,bIe="__lodash_hash_undefined__";function xIe(t){return this.__data__.set(t,bIe),this}var vIe=xIe;function jIe(t){return this.__data__.has(t)}var wIe=jIe,CIe=zE,NIe=vIe,SIe=wIe;function Xx(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new CIe;++e<r;)this.add(t[e])}Xx.prototype.add=Xx.prototype.push=NIe;Xx.prototype.has=SIe;var Tz=Xx;function AIe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var kz=AIe;function TIe(t,e){return t.has(e)}var Iz=TIe,kIe=Tz,IIe=kz,EIe=Iz,OIe=1,PIe=2;function DIe(t,e,r,n,a,s){var i=r&OIe,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&PIe?new kIe:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var g=t[f],b=e[f];if(n)var p=i?n(b,g,f,e,t,s):n(g,b,f,t,e,s);if(p!==void 0){if(p)continue;m=!1;break}if(h){if(!IIe(e,function(x,y){if(!EIe(h,y)&&(g===x||a(g,x,r,n,s)))return h.push(y)})){m=!1;break}}else if(!(g===b||a(g,b,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var Ez=DIe,_Ie=Wa,$Ie=_Ie.Uint8Array,RIe=$Ie;function MIe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var LIe=MIe;function FIe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var nO=FIe,PR=Zm,DR=RIe,BIe=VE,qIe=Ez,VIe=LIe,UIe=nO,zIe=1,WIe=2,HIe="[object Boolean]",GIe="[object Date]",YIe="[object Error]",KIe="[object Map]",JIe="[object Number]",XIe="[object RegExp]",ZIe="[object Set]",QIe="[object String]",eEe="[object Symbol]",tEe="[object ArrayBuffer]",rEe="[object DataView]",_R=PR?PR.prototype:void 0,FC=_R?_R.valueOf:void 0;function nEe(t,e,r,n,a,s,i){switch(r){case rEe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tEe:return!(t.byteLength!=e.byteLength||!s(new DR(t),new DR(e)));case HIe:case GIe:case JIe:return BIe(+t,+e);case YIe:return t.name==e.name&&t.message==e.message;case XIe:case QIe:return t==e+"";case KIe:var l=VIe;case ZIe:var c=n&zIe;if(l||(l=UIe),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=WIe,i.set(t,e);var d=qIe(l(t),l(e),n,a,s,i);return i.delete(t),d;case eEe:if(FC)return FC.call(t)==FC.call(e)}return!1}var aEe=nEe;function sEe(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var Oz=sEe,oEe=Oz,iEe=cn;function lEe(t,e,r){var n=e(t);return iEe(t)?n:oEe(n,r(t))}var cEe=lEe;function uEe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var dEe=uEe;function fEe(){return[]}var mEe=fEe,hEe=dEe,pEe=mEe,gEe=Object.prototype,yEe=gEe.propertyIsEnumerable,$R=Object.getOwnPropertySymbols,bEe=$R?function(t){return t==null?[]:(t=Object(t),hEe($R(t),function(e){return yEe.call(t,e)}))}:pEe,xEe=bEe;function vEe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var jEe=vEe,wEe=Bs,CEe=qs,NEe="[object Arguments]";function SEe(t){return CEe(t)&&wEe(t)==NEe}var AEe=SEe,RR=AEe,TEe=qs,Pz=Object.prototype,kEe=Pz.hasOwnProperty,IEe=Pz.propertyIsEnumerable,EEe=RR(function(){return arguments}())?RR:function(t){return TEe(t)&&kEe.call(t,"callee")&&!IEe.call(t,"callee")},aO=EEe,Zx={exports:{}};function OEe(){return!1}var PEe=OEe;Zx.exports;(function(t,e){var r=Wa,n=PEe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Zx,Zx.exports);var Dz=Zx.exports,DEe=9007199254740991,_Ee=/^(?:0|[1-9]\d*)$/;function $Ee(t,e){var r=typeof t;return e=e??DEe,!!e&&(r=="number"||r!="symbol"&&_Ee.test(t))&&t>-1&&t%1==0&&t<e}var sO=$Ee,REe=9007199254740991;function MEe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=REe}var oO=MEe,LEe=Bs,FEe=oO,BEe=qs,qEe="[object Arguments]",VEe="[object Array]",UEe="[object Boolean]",zEe="[object Date]",WEe="[object Error]",HEe="[object Function]",GEe="[object Map]",YEe="[object Number]",KEe="[object Object]",JEe="[object RegExp]",XEe="[object Set]",ZEe="[object String]",QEe="[object WeakMap]",eOe="[object ArrayBuffer]",tOe="[object DataView]",rOe="[object Float32Array]",nOe="[object Float64Array]",aOe="[object Int8Array]",sOe="[object Int16Array]",oOe="[object Int32Array]",iOe="[object Uint8Array]",lOe="[object Uint8ClampedArray]",cOe="[object Uint16Array]",uOe="[object Uint32Array]",Ct={};Ct[rOe]=Ct[nOe]=Ct[aOe]=Ct[sOe]=Ct[oOe]=Ct[iOe]=Ct[lOe]=Ct[cOe]=Ct[uOe]=!0;Ct[qEe]=Ct[VEe]=Ct[eOe]=Ct[UEe]=Ct[tOe]=Ct[zEe]=Ct[WEe]=Ct[HEe]=Ct[GEe]=Ct[YEe]=Ct[KEe]=Ct[JEe]=Ct[XEe]=Ct[ZEe]=Ct[QEe]=!1;function dOe(t){return BEe(t)&&FEe(t.length)&&!!Ct[LEe(t)]}var fOe=dOe;function mOe(t){return function(e){return t(e)}}var _z=mOe,Qx={exports:{}};Qx.exports;(function(t,e){var r=VU,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(Qx,Qx.exports);var hOe=Qx.exports,pOe=fOe,gOe=_z,MR=hOe,LR=MR&&MR.isTypedArray,yOe=LR?gOe(LR):pOe,$z=yOe,bOe=jEe,xOe=aO,vOe=cn,jOe=Dz,wOe=sO,COe=$z,NOe=Object.prototype,SOe=NOe.hasOwnProperty;function AOe(t,e){var r=vOe(t),n=!r&&xOe(t),a=!r&&!n&&jOe(t),s=!r&&!n&&!a&&COe(t),i=r||n||a||s,l=i?bOe(t.length,String):[],c=l.length;for(var u in t)(e||SOe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wOe(u,c)))&&l.push(u);return l}var TOe=AOe,kOe=Object.prototype;function IOe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||kOe;return t===r}var EOe=IOe;function OOe(t,e){return function(r){return t(e(r))}}var Rz=OOe,POe=Rz,DOe=POe(Object.keys,Object),_Oe=DOe,$Oe=EOe,ROe=_Oe,MOe=Object.prototype,LOe=MOe.hasOwnProperty;function FOe(t){if(!$Oe(t))return ROe(t);var e=[];for(var r in Object(t))LOe.call(t,r)&&r!="constructor"&&e.push(r);return e}var BOe=FOe,qOe=qE,VOe=oO;function UOe(t){return t!=null&&VOe(t.length)&&!qOe(t)}var fw=UOe,zOe=TOe,WOe=BOe,HOe=fw;function GOe(t){return HOe(t)?zOe(t):WOe(t)}var iO=GOe,YOe=cEe,KOe=xEe,JOe=iO;function XOe(t){return YOe(t,JOe,KOe)}var ZOe=XOe,FR=ZOe,QOe=1,e2e=Object.prototype,t2e=e2e.hasOwnProperty;function r2e(t,e,r,n,a,s){var i=r&QOe,l=FR(t),c=l.length,u=FR(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:t2e.call(e,m)))return!1}var h=s.get(t),g=s.get(e);if(h&&g)return h==e&&g==t;var b=!0;s.set(t,e),s.set(e,t);for(var p=i;++f<c;){m=l[f];var x=t[m],y=e[m];if(n)var w=i?n(y,x,m,e,t,s):n(x,y,m,t,e,s);if(!(w===void 0?x===y||a(x,y,r,n,s):w)){b=!1;break}p||(p=m=="constructor")}if(b&&!p){var S=t.constructor,C=e.constructor;S!=C&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof C=="function"&&C instanceof C)&&(b=!1)}return s.delete(t),s.delete(e),b}var n2e=r2e,a2e=gl,s2e=Wa,o2e=a2e(s2e,"DataView"),i2e=o2e,l2e=gl,c2e=Wa,u2e=l2e(c2e,"Promise"),d2e=u2e,f2e=gl,m2e=Wa,h2e=f2e(m2e,"Set"),Mz=h2e,p2e=gl,g2e=Wa,y2e=p2e(g2e,"WeakMap"),b2e=y2e,yT=i2e,bT=UE,xT=d2e,vT=Mz,jT=b2e,Lz=Bs,yu=zU,BR="[object Map]",x2e="[object Object]",qR="[object Promise]",VR="[object Set]",UR="[object WeakMap]",zR="[object DataView]",v2e=yu(yT),j2e=yu(bT),w2e=yu(xT),C2e=yu(vT),N2e=yu(jT),bi=Lz;(yT&&bi(new yT(new ArrayBuffer(1)))!=zR||bT&&bi(new bT)!=BR||xT&&bi(xT.resolve())!=qR||vT&&bi(new vT)!=VR||jT&&bi(new jT)!=UR)&&(bi=function(t){var e=Lz(t),r=e==x2e?t.constructor:void 0,n=r?yu(r):"";if(n)switch(n){case v2e:return zR;case j2e:return BR;case w2e:return qR;case C2e:return VR;case N2e:return UR}return e});var S2e=bi,BC=Az,A2e=Ez,T2e=aEe,k2e=n2e,WR=S2e,HR=cn,GR=Dz,I2e=$z,E2e=1,YR="[object Arguments]",KR="[object Array]",Qh="[object Object]",O2e=Object.prototype,JR=O2e.hasOwnProperty;function P2e(t,e,r,n,a,s){var i=HR(t),l=HR(e),c=i?KR:WR(t),u=l?KR:WR(e);c=c==YR?Qh:c,u=u==YR?Qh:u;var d=c==Qh,f=u==Qh,m=c==u;if(m&&GR(t)){if(!GR(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new BC),i||I2e(t)?A2e(t,e,r,n,a,s):T2e(t,e,c,r,n,a,s);if(!(r&E2e)){var h=d&&JR.call(t,"__wrapped__"),g=f&&JR.call(e,"__wrapped__");if(h||g){var b=h?t.value():t,p=g?e.value():e;return s||(s=new BC),a(b,p,r,n,s)}}return m?(s||(s=new BC),k2e(t,e,r,n,a,s)):!1}var D2e=P2e,_2e=D2e,XR=qs;function Fz(t,e,r,n,a){return t===e?!0:t==null||e==null||!XR(t)&&!XR(e)?t!==t&&e!==e:_2e(t,e,r,n,Fz,a)}var lO=Fz,$2e=Az,R2e=lO,M2e=1,L2e=2;function F2e(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new $2e;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?R2e(d,u,M2e|L2e,n,f):m))return!1}}return!0}var B2e=F2e,q2e=Jo;function V2e(t){return t===t&&!q2e(t)}var Bz=V2e,U2e=Bz,z2e=iO;function W2e(t){for(var e=z2e(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,U2e(a)]}return e}var H2e=W2e;function G2e(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var qz=G2e,Y2e=B2e,K2e=H2e,J2e=qz;function X2e(t){var e=K2e(t);return e.length==1&&e[0][2]?J2e(e[0][0],e[0][1]):function(r){return r===t||Y2e(r,t,e)}}var Z2e=X2e;function Q2e(t,e){return t!=null&&e in Object(t)}var ePe=Q2e,tPe=KU,rPe=aO,nPe=cn,aPe=sO,sPe=oO,oPe=Kj;function iPe(t,e,r){e=tPe(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=oPe(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&sPe(a)&&aPe(i,a)&&(nPe(t)||rPe(t)))}var lPe=iPe,cPe=ePe,uPe=lPe;function dPe(t,e){return t!=null&&uPe(t,e,cPe)}var fPe=dPe,mPe=lO,hPe=JU,pPe=fPe,gPe=BE,yPe=Bz,bPe=qz,xPe=Kj,vPe=1,jPe=2;function wPe(t,e){return gPe(t)&&yPe(e)?bPe(xPe(t),e):function(r){var n=hPe(r,t);return n===void 0&&n===e?pPe(r,t):mPe(e,n,vPe|jPe)}}var CPe=wPe;function NPe(t){return t}var bu=NPe;function SPe(t){return function(e){return e==null?void 0:e[t]}}var APe=SPe,TPe=GE;function kPe(t){return function(e){return TPe(e,t)}}var IPe=kPe,EPe=APe,OPe=IPe,PPe=BE,DPe=Kj;function _Pe(t){return PPe(t)?EPe(DPe(t)):OPe(t)}var $Pe=_Pe,RPe=Z2e,MPe=CPe,LPe=bu,FPe=cn,BPe=$Pe;function qPe(t){return typeof t=="function"?t:t==null?LPe:typeof t=="object"?FPe(t)?MPe(t[0],t[1]):RPe(t):BPe(t)}var Xo=qPe;function VPe(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var UPe=VPe;function zPe(t){return t!==t}var WPe=zPe;function HPe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var GPe=HPe,YPe=UPe,KPe=WPe,JPe=GPe;function XPe(t,e,r){return e===e?JPe(t,e,r):YPe(t,KPe,r)}var ZPe=XPe,QPe=ZPe;function eDe(t,e){var r=t==null?0:t.length;return!!r&&QPe(t,e,0)>-1}var tDe=eDe;function rDe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var nDe=rDe;function aDe(){}var sDe=aDe,qC=Mz,oDe=sDe,iDe=nO,lDe=1/0,cDe=qC&&1/iDe(new qC([,-0]))[1]==lDe?function(t){return new qC(t)}:oDe,uDe=cDe,dDe=Tz,fDe=tDe,mDe=nDe,hDe=Iz,pDe=uDe,gDe=nO,yDe=200;function bDe(t,e,r){var n=-1,a=fDe,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=mDe;else if(s>=yDe){var u=e?null:pDe(t);if(u)return gDe(u);i=!1,a=hDe,c=new dDe}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var xDe=bDe,vDe=Xo,jDe=xDe;function wDe(t,e){return t&&t.length?jDe(t,vDe(e)):[]}var CDe=wDe;const ZR=rt(CDe);function Vz(t,e,r){return e===!0?ZR(t,r):Ue(e)?ZR(t,e):t}function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}var NDe=["ref"];function QR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ja(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(r),!0).forEach(function(n){mw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zz(n.key),n)}}function ADe(t,e,r){return e&&eM(t.prototype,e),r&&eM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function TDe(t,e,r){return e=ev(e),kDe(t,Uz()?Reflect.construct(e,r||[],ev(t).constructor):e.apply(t,r))}function kDe(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IDe(t)}function IDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uz=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ev(t)}function EDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wT(t,e)}function wT(t,e){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wT(t,e)}function mw(t,e,r){return e=zz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zz(t){var e=ODe(t,"string");return $c(e)=="symbol"?e:e+""}function ODe(t,e){if($c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PDe(t,e){if(t==null)return{};var r=DDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function DDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _De(t){return t.value}function $De(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var r=PDe(e,NDe);return V.createElement(rO,r)}var tM=1,Ba=function(t){function e(){var r;SDe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=TDe(this,e,[].concat(a)),mw(r,"lastBoundingBox",{width:-1,height:-1}),r}return EDe(e,t),ADe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>tM||Math.abs(a.height-this.lastBoundingBox.height)>tM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ja({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();m={top:((d||0)-g.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ja(Ja({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ja(Ja({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},$De(s,Ja(Ja({},this.props),{},{payload:Vz(d,u,_De)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Ja(Ja({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&be(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);mw(Ba,"displayName","Legend");mw(Ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var rM=Zm,RDe=aO,MDe=cn,nM=rM?rM.isConcatSpreadable:void 0;function LDe(t){return MDe(t)||RDe(t)||!!(nM&&t&&t[nM])}var FDe=LDe,BDe=Oz,qDe=FDe;function Wz(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=qDe),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?Wz(l,e-1,r,n,a):BDe(a,l):n||(a[a.length]=l)}return a}var Hz=Wz;function VDe(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var UDe=VDe,zDe=UDe,WDe=zDe(),HDe=WDe,GDe=HDe,YDe=iO;function KDe(t,e){return t&&GDe(t,e,YDe)}var Gz=KDe,JDe=fw;function XDe(t,e){return function(r,n){if(r==null)return r;if(!JDe(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var ZDe=XDe,QDe=Gz,e_e=ZDe,t_e=e_e(QDe),cO=t_e,r_e=cO,n_e=fw;function a_e(t,e){var r=-1,n=n_e(t)?Array(t.length):[];return r_e(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var Yz=a_e;function s_e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var o_e=s_e,aM=du;function i_e(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=aM(t),i=e!==void 0,l=e===null,c=e===e,u=aM(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var l_e=i_e,c_e=l_e;function u_e(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=c_e(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var d_e=u_e,VC=HE,f_e=GE,m_e=Xo,h_e=Yz,p_e=o_e,g_e=_z,y_e=d_e,b_e=bu,x_e=cn;function v_e(t,e,r){e.length?e=VC(e,function(s){return x_e(s)?function(i){return f_e(i,s.length===1?s[0]:s)}:s}):e=[b_e];var n=-1;e=VC(e,g_e(m_e));var a=h_e(t,function(s,i,l){var c=VC(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return p_e(a,function(s,i){return y_e(s,i,r)})}var j_e=v_e;function w_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var C_e=w_e,N_e=C_e,sM=Math.max;function S_e(t,e,r){return e=sM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=sM(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),N_e(t,this,l)}}var A_e=S_e;function T_e(t){return function(){return t}}var k_e=T_e,I_e=gl,E_e=function(){try{var t=I_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Kz=E_e,O_e=k_e,oM=Kz,P_e=bu,D_e=oM?function(t,e){return oM(t,"toString",{configurable:!0,enumerable:!1,value:O_e(e),writable:!0})}:P_e,__e=D_e,$_e=800,R_e=16,M_e=Date.now;function L_e(t){var e=0,r=0;return function(){var n=M_e(),a=R_e-(n-r);if(r=n,a>0){if(++e>=$_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var F_e=L_e,B_e=__e,q_e=F_e,V_e=q_e(B_e),U_e=V_e,z_e=bu,W_e=A_e,H_e=U_e;function G_e(t,e){return H_e(W_e(t,e,z_e),t+"")}var Y_e=G_e,K_e=VE,J_e=fw,X_e=sO,Z_e=Jo;function Q_e(t,e,r){if(!Z_e(r))return!1;var n=typeof e;return(n=="number"?J_e(r)&&X_e(e,r.length):n=="string"&&e in r)?K_e(r[e],t):!1}var hw=Q_e,e$e=Hz,t$e=j_e,r$e=Y_e,iM=hw,n$e=r$e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&iM(t,e[0],e[1])?e=[]:r>2&&iM(e[0],e[1],e[2])&&(e=[e[0]]),t$e(t,e$e(e,1),[])}),a$e=n$e;const uO=rt(a$e);function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CT.apply(this,arguments)}function s$e(t,e){return c$e(t)||l$e(t,e)||i$e(t,e)||o$e()}function o$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$e(t,e){if(t){if(typeof t=="string")return lM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lM(t,e)}}function lM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function c$e(t){if(Array.isArray(t))return t}function cM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(r),!0).forEach(function(n){u$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u$e(t,e,r){return e=d$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d$e(t){var e=f$e(t,"string");return Gf(e)=="symbol"?e:e+""}function f$e(t,e){if(Gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m$e(t){return Array.isArray(t)&&lr(t[0])&&lr(t[1])?t.join(" ~ "):t}var h$e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,b=e.label,p=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(d&&d.length){var P={padding:0,margin:0},M=(m?uO(d,m):d).map(function($,_){if($.type==="none")return null;var B=UC({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),U=$.formatter||f||m$e,D=$.value,R=$.name,F=D,H=R;if(U&&F!=null&&H!=null){var W=U(D,R,$,_,d);if(Array.isArray(W)){var ee=s$e(W,2);F=ee[0],H=ee[1]}else F=W}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:B},lr(H)?V.createElement("span",{className:"recharts-tooltip-item-name"},H):null,lr(H)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},F),V.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:P},M)}return null},S=UC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=UC({margin:0},u),j=!Ye(b),N=j?b:"",A=$e("recharts-default-tooltip",h),E=$e("recharts-tooltip-label",g);j&&p&&d!==void 0&&d!==null&&(N=p(b,d));var T=y?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",CT({className:A,style:S},T),V.createElement("p",{className:E,style:C},V.isValidElement(N)?N:"".concat(N)),w())};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function ep(t,e,r){return e=p$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p$e(t){var e=g$e(t,"string");return Yf(e)=="symbol"?e:e+""}function g$e(t,e){if(Yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gu="recharts-tooltip-wrapper",y$e={visibility:"hidden"};function b$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return $e(Gu,ep(ep(ep(ep({},"".concat(Gu,"-right"),be(r)&&e&&be(e.x)&&r>=e.x),"".concat(Gu,"-left"),be(r)&&e&&be(e.x)&&r<e.x),"".concat(Gu,"-bottom"),be(n)&&e&&be(e.y)&&n>=e.y),"".concat(Gu,"-top"),be(n)&&e&&be(e.y)&&n<e.y))}function uM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&be(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,b=c[n]+u;return g>b?Math.max(d,c[n]):Math.max(f,c[n])}function x$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function v$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=uM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=uM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=x$e({translateX:d,translateY:f,useTranslate3d:l})):u=y$e,{cssProperties:u,cssClasses:b$e({translateX:d,translateY:f,coordinate:r})}}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function dM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(r),!0).forEach(function(n){ST(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xz(n.key),n)}}function C$e(t,e,r){return e&&w$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N$e(t,e,r){return e=tv(e),S$e(t,Jz()?Reflect.construct(e,r||[],tv(t).constructor):e.apply(t,r))}function S$e(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A$e(t)}function A$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jz=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tv(t)}function T$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NT(t,e)}function NT(t,e){return NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NT(t,e)}function ST(t,e,r){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xz(t){var e=k$e(t,"string");return Rc(e)=="symbol"?e:e+""}function k$e(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mM=1,I$e=function(t){function e(){var r;j$e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=N$e(this,e,[].concat(a)),ST(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ST(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return T$e(e,t),C$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>mM||Math.abs(n.height-this.state.lastBoundingBox.height)>mM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,g=a.position,b=a.reverseDirection,p=a.useTranslate3d,x=a.viewBox,y=a.wrapperStyle,w=v$e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:x}),S=w.cssClasses,C=w.cssProperties,j=fM(fM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return V.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(A){n.wrapperNode=A}},u)}}])}(v.PureComponent),E$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pw={isSsr:E$e()};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function hM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(r),!0).forEach(function(n){dO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qz(n.key),n)}}function D$e(t,e,r){return e&&P$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _$e(t,e,r){return e=rv(e),$$e(t,Zz()?Reflect.construct(e,r||[],rv(t).constructor):e.apply(t,r))}function $$e(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R$e(t)}function R$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zz=function(){return!!t})()}function rv(t){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rv(t)}function M$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AT(t,e)}function AT(t,e){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AT(t,e)}function dO(t,e,r){return e=Qz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qz(t){var e=L$e(t,"string");return Mc(e)=="symbol"?e:e+""}function L$e(t,e){if(Mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F$e(t){return t.dataKey}function B$e(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(h$e,e)}var es=function(t){function e(){return O$e(this,e),_$e(this,e,arguments)}return M$e(e,t),D$e(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,g=a.payload,b=a.payloadUniqBy,p=a.position,x=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,S=a.wrapperStyle,C=g??[];f&&C.length&&(C=Vz(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),b,F$e));var j=C.length>0;return V.createElement(I$e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:j,offset:h,position:p,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:S},B$e(u,pM(pM({},this.props),{},{payload:C})))}}])}(v.PureComponent);dO(es,"displayName","Tooltip");dO(es,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var q$e=Wa,V$e=function(){return q$e.Date.now()},U$e=V$e,z$e=/\s/;function W$e(t){for(var e=t.length;e--&&z$e.test(t.charAt(e)););return e}var H$e=W$e,G$e=H$e,Y$e=/^\s+/;function K$e(t){return t&&t.slice(0,G$e(t)+1).replace(Y$e,"")}var J$e=K$e,X$e=J$e,gM=Jo,Z$e=du,yM=NaN,Q$e=/^[-+]0x[0-9a-f]+$/i,eRe=/^0b[01]+$/i,tRe=/^0o[0-7]+$/i,rRe=parseInt;function nRe(t){if(typeof t=="number")return t;if(Z$e(t))return yM;if(gM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=X$e(t);var r=eRe.test(t);return r||tRe.test(t)?rRe(t.slice(2),r?2:8):Q$e.test(t)?yM:+t}var e7=nRe,aRe=Jo,zC=U$e,bM=e7,sRe="Expected a function",oRe=Math.max,iRe=Math.min;function lRe(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(sRe);e=bM(e)||0,aRe(r)&&(d=!!r.leading,f="maxWait"in r,s=f?oRe(bM(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function h(j){var N=n,A=a;return n=a=void 0,u=j,i=t.apply(A,N),i}function g(j){return u=j,l=setTimeout(x,e),d?h(j):i}function b(j){var N=j-c,A=j-u,E=e-N;return f?iRe(E,s-A):E}function p(j){var N=j-c,A=j-u;return c===void 0||N>=e||N<0||f&&A>=s}function x(){var j=zC();if(p(j))return y(j);l=setTimeout(x,b(j))}function y(j){return l=void 0,m&&n?h(j):(n=a=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?i:y(zC())}function C(){var j=zC(),N=p(j);if(n=arguments,a=this,c=j,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,e),h(c)}return l===void 0&&(l=setTimeout(x,e)),i}return C.cancel=w,C.flush=S,C}var cRe=lRe,uRe=cRe,dRe=Jo,fRe="Expected a function";function mRe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(fRe);return dRe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),uRe(t,e,{leading:n,maxWait:e,trailing:a})}var hRe=mRe;const t7=rt(hRe);function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function xM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(r),!0).forEach(function(n){pRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pRe(t,e,r){return e=gRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gRe(t){var e=yRe(t,"string");return Kf(e)=="symbol"?e:e+""}function yRe(t,e){if(Kf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bRe(t,e){return wRe(t)||jRe(t,e)||vRe(t,e)||xRe()}function xRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vRe(t,e){if(t){if(typeof t=="string")return vM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vM(t,e)}}function vM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function wRe(t){if(Array.isArray(t))return t}var gw=v.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,g=t.debounce,b=g===void 0?0:g,p=t.id,x=t.className,y=t.onResize,w=t.style,S=w===void 0?{}:w,C=v.useRef(null),j=v.useRef();j.current=y,v.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var N=v.useState({containerWidth:a.width,containerHeight:a.height}),A=bRe(N,2),E=A[0],T=A[1],I=v.useCallback(function(M,$){T(function(_){var B=Math.round(M),U=Math.round($);return _.containerWidth===B&&_.containerHeight===U?_:{containerWidth:B,containerHeight:U}})},[]);v.useEffect(function(){var M=function(R){var F,H=R[0].contentRect,W=H.width,ee=H.height;I(W,ee),(F=j.current)===null||F===void 0||F.call(j,W,ee)};b>0&&(M=t7(M,b,{trailing:!0,leading:!1}));var $=new ResizeObserver(M),_=C.current.getBoundingClientRect(),B=_.width,U=_.height;return I(B,U),$.observe(C.current),function(){$.disconnect()}},[I,b]);var P=v.useMemo(function(){var M=E.containerWidth,$=E.containerHeight;if(M<0||$<0)return null;ws(Ii(i)||Ii(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),ws(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=Ii(i)?M:i,B=Ii(c)?$:c;r&&r>0&&(_?B=_/r:B&&(_=B*r),m&&B>m&&(B=m)),ws(_>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,B,i,c,d,f,r);var U=!Array.isArray(h)&&js(h.type).endsWith("Chart");return V.Children.map(h,function(D){return V.isValidElement(D)?v.cloneElement(D,tp({width:_,height:B},U?{style:tp({height:"100%",width:"100%",maxHeight:B,maxWidth:_},D.props.style)}:{})):D})},[r,h,c,m,f,d,E,i]);return V.createElement("div",{id:p?"".concat(p):void 0,className:$e("recharts-responsive-container",x),style:tp(tp({},S),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:C},P)}),xu=function(e){return null};xu.displayName="Cell";function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function jM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(r),!0).forEach(function(n){CRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CRe(t,e,r){return e=NRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NRe(t){var e=SRe(t,"string");return Jf(e)=="symbol"?e:e+""}function SRe(t,e){if(Jf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Il={widthCache:{},cacheCount:0},ARe=2e3,TRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wM="recharts_measurement_span";function kRe(t){var e=TT({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var CM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pw.isSsr)return{width:0,height:0};var n=kRe(r),a=JSON.stringify({text:e,copyStyle:n});if(Il.widthCache[a])return Il.widthCache[a];try{var s=document.getElementById(wM);s||(s=document.createElement("span"),s.setAttribute("id",wM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=TT(TT({},TRe),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Il.widthCache[a]=c,++Il.cacheCount>ARe&&(Il.cacheCount=0,Il.widthCache={}),c}catch{return{width:0,height:0}}},IRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function nv(t,e){return DRe(t)||PRe(t,e)||ORe(t,e)||ERe()}function ERe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ORe(t,e){if(t){if(typeof t=="string")return NM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(t,e)}}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function DRe(t){if(Array.isArray(t))return t}function _Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RRe(n.key),n)}}function $Re(t,e,r){return e&&SM(t.prototype,e),r&&SM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RRe(t){var e=MRe(t,"string");return Xf(e)=="symbol"?e:e+""}function MRe(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,r7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BRe=Object.keys(r7),Wl="NaN";function qRe(t,e){return t*r7[e]}var rp=function(){function t(e,r){_Re(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!LRe.test(r)&&(this.num=NaN,this.unit=""),BRe.includes(r)&&(this.num=qRe(e,r),this.unit="px")}return $Re(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=FRe.exec(r))!==null&&n!==void 0?n:[],s=nv(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function n7(t){if(t.includes(Wl))return Wl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=AM.exec(e))!==null&&r!==void 0?r:[],a=nv(n,4),s=a[1],i=a[2],l=a[3],c=rp.parse(s??""),u=rp.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Wl;e=e.replace(AM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=TM.exec(e))!==null&&f!==void 0?f:[],h=nv(m,4),g=h[1],b=h[2],p=h[3],x=rp.parse(g??""),y=rp.parse(p??""),w=b==="+"?x.add(y):x.subtract(y);if(w.isNaN())return Wl;e=e.replace(TM,w.toString())}return e}var kM=/\(([^()]*)\)/;function VRe(t){for(var e=t;e.includes("(");){var r=kM.exec(e),n=nv(r,2),a=n[1];e=e.replace(kM,n7(a))}return e}function URe(t){var e=t.replace(/\s+/g,"");return e=VRe(e),e=n7(e),e}function zRe(t){try{return URe(t)}catch{return Wl}}function WC(t){var e=zRe(t.slice(5,-1));return e===Wl?"":e}var WRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],HRe=["dx","dy","angle","className","breakAll"];function kT(){return kT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kT.apply(this,arguments)}function IM(t,e){if(t==null)return{};var r=GRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EM(t,e){return XRe(t)||JRe(t,e)||KRe(t,e)||YRe()}function YRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KRe(t,e){if(t){if(typeof t=="string")return OM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OM(t,e)}}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function XRe(t){if(Array.isArray(t))return t}var a7=/[ \f\n\r\t\v\u2028\u2029]+/,s7=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Ye(r)||(n?s=r.toString().split(""):s=r.toString().split(a7));var i=s.map(function(c){return{word:c,width:CM(c,a).width}}),l=n?0:CM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},ZRe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=be(i),f=l,m=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _.reduce(function(B,U){var D=U.word,R=U.width,F=B[B.length-1];if(F&&(a==null||s||F.width+R+n<Number(a)))F.words.push(D),F.width+=R+n;else{var H={words:[D],width:R};B.push(H)}return B},[])},h=m(r),g=function(_){return _.reduce(function(B,U){return B.width>U.width?B:U})};if(!d)return h;for(var b="",p=function(_){var B=f.slice(0,_),U=s7({breakAll:u,style:c,children:B+b}).wordsWithComputedWidth,D=m(U),R=D.length>i||g(D).width>Number(a);return[R,D]},x=0,y=f.length-1,w=0,S;x<=y&&w<=f.length-1;){var C=Math.floor((x+y)/2),j=C-1,N=p(j),A=EM(N,2),E=A[0],T=A[1],I=p(C),P=EM(I,1),M=P[0];if(!E&&!M&&(x=C+1),E&&M&&(y=C-1),!E&&M){S=T;break}w++}return S||h},PM=function(e){var r=Ye(e)?[]:e.toString().split(a7);return[{words:r}]},QRe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!pw.isSsr){var c,u,d=s7({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return PM(a);return ZRe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return PM(a)},DM="#808080",Lc=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,g=e.verticalAnchor,b=g===void 0?"end":g,p=e.fill,x=p===void 0?DM:p,y=IM(e,WRe),w=v.useMemo(function(){return QRe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,C=y.dy,j=y.angle,N=y.className,A=y.breakAll,E=IM(y,HRe);if(!lr(n)||!lr(s))return null;var T=n+(be(S)?S:0),I=s+(be(C)?C:0),P;switch(b){case"start":P=WC("calc(".concat(u,")"));break;case"middle":P=WC("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=WC("calc(".concat(w.length-1," * -").concat(l,")"));break}var M=[];if(f){var $=w[0].width,_=y.width;M.push("scale(".concat((be(_)?_/$:1)/$,")"))}return j&&M.push("rotate(".concat(j,", ").concat(T,", ").concat(I,")")),M.length&&(E.transform=M.join(" ")),V.createElement("text",kT({},Ve(E,!0),{x:T,y:I,className:$e("recharts-text",N),textAnchor:h,fill:x.includes("url")?DM:x}),w.map(function(B,U){var D=B.words.join(A?"":" ");return V.createElement("tspan",{x:T,dy:U===0?P:l,key:"".concat(D,"-").concat(U)},D)}))};function Eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function eMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fO(t){let e,r,n;t.length!==2?(e=Eo,r=(l,c)=>Eo(t(l),c),n=(l,c)=>t(l)-c):(e=t===Eo||t===eMe?t:tMe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function tMe(){return 0}function o7(t){return t===null?NaN:+t}function*rMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const nMe=fO(Eo),th=nMe.right;fO(o7).center;class _M extends Map{constructor(e,r=oMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get($M(this,e))}has(e){return super.has($M(this,e))}set(e,r){return super.set(aMe(this,e),r)}delete(e){return super.delete(sMe(this,e))}}function $M({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function aMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function sMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function oMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function iMe(t=Eo){if(t===Eo)return i7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function i7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const lMe=Math.sqrt(50),cMe=Math.sqrt(10),uMe=Math.sqrt(2);function av(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=lMe?10:s>=cMe?5:s>=uMe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?av(t,e,r*2):[l,c,u]}function IT(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?av(e,t,r):av(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function ET(t,e,r){return e=+e,t=+t,r=+r,av(t,e,r)[2]}function OT(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?ET(e,t,r):ET(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function RM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function l7(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?i7:iMe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),g=Math.min(n,Math.floor(e+(c-u)*f/c+m));l7(t,e,h,g,a)}const s=t[e];let i=r,l=n;for(Yu(t,r,e),a(t[n],s)>0&&Yu(t,r,n);i<l;){for(Yu(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?Yu(t,r,l):(++l,Yu(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Yu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function dMe(t,e,r){if(t=Float64Array.from(rMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return MM(t);if(e>=1)return RM(t);var n,a=(n-1)*e,s=Math.floor(a),i=RM(l7(t,s).subarray(0,s+1)),l=MM(t.subarray(s+1));return i+(l-i)*(a-s)}}function fMe(t,e,r=o7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function mMe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Zn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const PT=Symbol("implicit");function mO(){var t=new _M,e=[],r=[],n=PT;function a(s){let i=t.get(s);if(i===void 0){if(n!==PT)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new _M;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return mO(e,r).unknown(n)},Zn.apply(a,arguments),a}function Zf(){var t=mO().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,g=h?a:n,b=h?n:a;s=(b-g)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),g+=(b-g-s*(m-c))*d,i=s*(1-c),l&&(g=Math.round(g),i=Math.round(i));var p=mMe(m).map(function(x){return g+s*x});return r(h?p.reverse():p)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return Zf(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Zn.apply(f(),arguments)}function c7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return c7(e())},t}function Qd(){return c7(Zf.apply(null,arguments).paddingInner(1))}function hO(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function u7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function rh(){}var Qf=.7,sv=1/Qf,gc="\\s*([+-]?\\d+)\\s*",em="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hMe=/^#([0-9a-f]{3,8})$/,pMe=new RegExp(`^rgb\\(${gc},${gc},${gc}\\)$`),gMe=new RegExp(`^rgb\\(${qa},${qa},${qa}\\)$`),yMe=new RegExp(`^rgba\\(${gc},${gc},${gc},${em}\\)$`),bMe=new RegExp(`^rgba\\(${qa},${qa},${qa},${em}\\)$`),xMe=new RegExp(`^hsl\\(${em},${qa},${qa}\\)$`),vMe=new RegExp(`^hsla\\(${em},${qa},${qa},${em}\\)$`),LM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hO(rh,tm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FM,formatHex:FM,formatHex8:jMe,formatHsl:wMe,formatRgb:BM,toString:BM});function FM(){return this.rgb().formatHex()}function jMe(){return this.rgb().formatHex8()}function wMe(){return d7(this).formatHsl()}function BM(){return this.rgb().formatRgb()}function tm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=hMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?qM(e):r===3?new Qr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?np(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?np(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=pMe.exec(t))?new Qr(e[1],e[2],e[3],1):(e=gMe.exec(t))?new Qr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yMe.exec(t))?np(e[1],e[2],e[3],e[4]):(e=bMe.exec(t))?np(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=xMe.exec(t))?zM(e[1],e[2]/100,e[3]/100,1):(e=vMe.exec(t))?zM(e[1],e[2]/100,e[3]/100,e[4]):LM.hasOwnProperty(t)?qM(LM[t]):t==="transparent"?new Qr(NaN,NaN,NaN,0):null}function qM(t){return new Qr(t>>16&255,t>>8&255,t&255,1)}function np(t,e,r,n){return n<=0&&(t=e=r=NaN),new Qr(t,e,r,n)}function CMe(t){return t instanceof rh||(t=tm(t)),t?(t=t.rgb(),new Qr(t.r,t.g,t.b,t.opacity)):new Qr}function DT(t,e,r,n){return arguments.length===1?CMe(t):new Qr(t,e,r,n??1)}function Qr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}hO(Qr,DT,u7(rh,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qf:Math.pow(Qf,t),new Qr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qr(Fi(this.r),Fi(this.g),Fi(this.b),ov(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VM,formatHex:VM,formatHex8:NMe,formatRgb:UM,toString:UM}));function VM(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}`}function NMe(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}${Ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function UM(){const t=ov(this.opacity);return`${t===1?"rgb(":"rgba("}${Fi(this.r)}, ${Fi(this.g)}, ${Fi(this.b)}${t===1?")":`, ${t})`}`}function ov(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ei(t){return t=Fi(t),(t<16?"0":"")+t.toString(16)}function zM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ia(t,e,r,n)}function d7(t){if(t instanceof ia)return new ia(t.h,t.s,t.l,t.opacity);if(t instanceof rh||(t=tm(t)),!t)return new ia;if(t instanceof ia)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new ia(i,l,c,t.opacity)}function SMe(t,e,r,n){return arguments.length===1?d7(t):new ia(t,e,r,n??1)}function ia(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}hO(ia,SMe,u7(rh,{brighter(t){return t=t==null?sv:Math.pow(sv,t),new ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qf:Math.pow(Qf,t),new ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Qr(HC(t>=240?t-240:t+120,a,n),HC(t,a,n),HC(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ia(WM(this.h),ap(this.s),ap(this.l),ov(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ov(this.opacity);return`${t===1?"hsl(":"hsla("}${WM(this.h)}, ${ap(this.s)*100}%, ${ap(this.l)*100}%${t===1?")":`, ${t})`}`}}));function WM(t){return t=(t||0)%360,t<0?t+360:t}function ap(t){return Math.max(0,Math.min(1,t||0))}function HC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const pO=t=>()=>t;function AMe(t,e){return function(r){return t+r*e}}function TMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function kMe(t){return(t=+t)==1?f7:function(e,r){return r-e?TMe(e,r,t):pO(isNaN(e)?r:e)}}function f7(t,e){var r=e-t;return r?AMe(t,r):pO(isNaN(t)?e:t)}const HM=function t(e){var r=kMe(e);function n(a,s){var i=r((a=DT(a)).r,(s=DT(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=f7(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function IMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function EMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=vu(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function PMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function iv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function DMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=vu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var _T=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,GC=new RegExp(_T.source,"g");function _Me(t){return function(){return t}}function $Me(t){return function(e){return t(e)+""}}function RMe(t,e){var r=_T.lastIndex=GC.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=_T.exec(t))&&(a=GC.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:iv(n,a)})),r=GC.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?$Me(c[0].x):_Me(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function vu(t,e){var r=typeof e,n;return e==null||r==="boolean"?pO(e):(r==="number"?iv:r==="string"?(n=tm(e))?(e=n,HM):RMe:e instanceof tm?HM:e instanceof Date?PMe:EMe(e)?IMe:Array.isArray(e)?OMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?DMe:iv)(t,e)}function gO(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function MMe(t,e){e===void 0&&(e=t,t=vu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function LMe(t){return function(){return t}}function lv(t){return+t}var GM=[0,1];function Br(t){return t}function $T(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:LMe(isNaN(e)?NaN:.5)}function FMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function BMe(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=$T(a,n),s=r(i,s)):(n=$T(n,a),s=r(s,i)),function(l){return s(n(l))}}function qMe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=$T(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=th(t,l,1,n)-1;return s[c](a[c](l))}}function nh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function yw(){var t=GM,e=GM,r=vu,n,a,s,i=Br,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==Br&&(i=FMe(t[0],t[m-1])),l=m>2?qMe:BMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),iv)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,lv),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=gO,d()},f.clamp=function(m){return arguments.length?(i=m?!0:Br,d()):i!==Br},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function yO(){return yw()(Br,Br)}function VMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Fc(t){return t=cv(Math.abs(t)),t?t[1]:NaN}function UMe(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function zMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var WMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rm(t){if(!(e=WMe.exec(t)))throw new Error("invalid format: "+t);var e;return new bO({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rm.prototype=bO.prototype;function bO(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}bO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HMe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var m7;function GMe(t,e){var r=cv(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(m7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+cv(t,Math.max(0,e+s-1))[0]}function YM(t,e){var r=cv(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const KM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:VMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>YM(t*100,e),r:YM,s:GMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function JM(t){return t}var XM=Array.prototype.map,ZM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function YMe(t){var e=t.grouping===void 0||t.thousands===void 0?JM:UMe(XM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?JM:zMe(XM.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=rm(f);var m=f.fill,h=f.align,g=f.sign,b=f.symbol,p=f.zero,x=f.width,y=f.comma,w=f.precision,S=f.trim,C=f.type;C==="n"?(y=!0,C="g"):KM[C]||(w===void 0&&(w=12),S=!0,C="g"),(p||m==="0"&&h==="=")&&(p=!0,m="0",h="=");var j=b==="$"?r:b==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",N=b==="$"?n:/[%p]/.test(C)?i:"",A=KM[C],E=/[defgprs%]/.test(C);w=w===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(I){var P=j,M=N,$,_,B;if(C==="c")M=A(I)+M,I="";else{I=+I;var U=I<0||1/I<0;if(I=isNaN(I)?c:A(Math.abs(I),w),S&&(I=HMe(I)),U&&+I==0&&g!=="+"&&(U=!1),P=(U?g==="("?g:l:g==="-"||g==="("?"":g)+P,M=(C==="s"?ZM[8+m7/3]:"")+M+(U&&g==="("?")":""),E){for($=-1,_=I.length;++$<_;)if(B=I.charCodeAt($),48>B||B>57){M=(B===46?a+I.slice($+1):I.slice($))+M,I=I.slice(0,$);break}}}y&&!p&&(I=e(I,1/0));var D=P.length+I.length+M.length,R=D<x?new Array(x-D+1).join(m):"";switch(y&&p&&(I=e(R+I,R.length?x-M.length:1/0),R=""),h){case"<":I=P+I+M+R;break;case"=":I=P+R+I+M;break;case"^":I=R.slice(0,D=R.length>>1)+P+I+M+R.slice(D);break;default:I=R+P+I+M;break}return s(I)}return T.toString=function(){return f+""},T}function d(f,m){var h=u((f=rm(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Fc(m)/3)))*3,b=Math.pow(10,-g),p=ZM[8+g/3];return function(x){return h(b*x)+p}}return{format:u,formatPrefix:d}}var sp,xO,h7;KMe({thousands:",",grouping:[3],currency:["$",""]});function KMe(t){return sp=YMe(t),xO=sp.format,h7=sp.formatPrefix,sp}function JMe(t){return Math.max(0,-Fc(Math.abs(t)))}function XMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fc(e)/3)))*3-Fc(Math.abs(t)))}function ZMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fc(e)-Fc(t))+1}function p7(t,e,r,n){var a=OT(t,e,r),s;switch(n=rm(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=XMe(a,i))&&(n.precision=s),h7(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=ZMe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=JMe(a))&&(n.precision=s-(n.type==="%")*2);break}}return xO(n)}function Zo(t){var e=t.domain;return t.ticks=function(r){var n=e();return IT(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return p7(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=ET(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function uv(){var t=yO();return t.copy=function(){return nh(t,uv())},Zn.apply(t,arguments),Zo(t)}function g7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,lv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return g7(t).unknown(e)},t=arguments.length?Array.from(t,lv):[0,1],Zo(r)}function y7(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function QM(t){return Math.log(t)}function eL(t){return Math.exp(t)}function QMe(t){return-Math.log(-t)}function eLe(t){return-Math.exp(-t)}function tLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rLe(t){return t===10?tLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function nLe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function tL(t){return(e,r)=>-t(-e,r)}function vO(t){const e=t(QM,eL),r=e.domain;let n=10,a,s;function i(){return a=nLe(n),s=rLe(n),r()[0]<0?(a=tL(a),s=tL(s),t(QMe,eLe)):t(QM,eL),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),g,b;const p=l==null?10:+l;let x=[];if(!(n%1)&&h-m<p){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(g=1;g<n;++g)if(b=m<0?g/s(-m):g*s(m),!(b<u)){if(b>d)break;x.push(b)}}else for(;m<=h;++m)for(g=n-1;g>=1;--g)if(b=m>0?g/s(-m):g*s(m),!(b<u)){if(b>d)break;x.push(b)}x.length*2<p&&(x=IT(u,d,p))}else x=IT(m,h,Math.min(h-m,p)).map(s);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=rm(c)).precision==null&&(c.trim=!0),c=xO(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(y7(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function b7(){const t=vO(yw()).domain([1,10]);return t.copy=()=>nh(t,b7()).base(t.base()),Zn.apply(t,arguments),t}function rL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function nL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function jO(t){var e=1,r=t(rL(e),nL(e));return r.constant=function(n){return arguments.length?t(rL(e=+n),nL(e)):e},Zo(r)}function x7(){var t=jO(yw());return t.copy=function(){return nh(t,x7()).constant(t.constant())},Zn.apply(t,arguments)}function aL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function aLe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sLe(t){return t<0?-t*t:t*t}function wO(t){var e=t(Br,Br),r=1;function n(){return r===1?t(Br,Br):r===.5?t(aLe,sLe):t(aL(r),aL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Zo(e)}function CO(){var t=wO(yw());return t.copy=function(){return nh(t,CO()).exponent(t.exponent())},Zn.apply(t,arguments),t}function oLe(){return CO.apply(null,arguments).exponent(.5)}function sL(t){return Math.sign(t)*t*t}function iLe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function v7(){var t=yO(),e=[0,1],r=!1,n;function a(s){var i=iLe(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(sL(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,lv)).map(sL)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return v7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Zn.apply(a,arguments),Zo(a)}function j7(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=fMe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[th(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Eo),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return j7().domain(t).range(e).unknown(n)},Zn.apply(s,arguments)}function w7(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[th(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return w7().domain([t,e]).range(a).unknown(s)},Zn.apply(Zo(i),arguments)}function C7(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[th(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return C7().domain(t).range(e).unknown(r)},Zn.apply(a,arguments)}const YC=new Date,KC=new Date;function ur(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>ur(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(YC.setTime(+s),KC.setTime(+i),t(YC),t(KC),Math.floor(r(YC,KC))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const dv=ur(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ur(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):dv);dv.range;const ds=1e3,zn=ds*60,fs=zn*60,Ps=fs*24,NO=Ps*7,oL=Ps*30,JC=Ps*365,Oi=ur(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ds)},(t,e)=>(e-t)/ds,t=>t.getUTCSeconds());Oi.range;const SO=ur(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ds)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getMinutes());SO.range;const AO=ur(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCMinutes());AO.range;const TO=ur(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ds-t.getMinutes()*zn)},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getHours());TO.range;const kO=ur(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCHours());kO.range;const ah=ur(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zn)/Ps,t=>t.getDate()-1);ah.range;const bw=ur(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ps,t=>t.getUTCDate()-1);bw.range;const N7=ur(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ps,t=>Math.floor(t/Ps));N7.range;function yl(t){return ur(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*zn)/NO)}const xw=yl(0),fv=yl(1),lLe=yl(2),cLe=yl(3),Bc=yl(4),uLe=yl(5),dLe=yl(6);xw.range;fv.range;lLe.range;cLe.range;Bc.range;uLe.range;dLe.range;function bl(t){return ur(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/NO)}const vw=bl(0),mv=bl(1),fLe=bl(2),mLe=bl(3),qc=bl(4),hLe=bl(5),pLe=bl(6);vw.range;mv.range;fLe.range;mLe.range;qc.range;hLe.range;pLe.range;const IO=ur(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IO.range;const EO=ur(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());EO.range;const Ds=ur(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ds.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ur(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ds.range;const _s=ur(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ur(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});_s.range;function S7(t,e,r,n,a,s){const i=[[Oi,1,ds],[Oi,5,5*ds],[Oi,15,15*ds],[Oi,30,30*ds],[s,1,zn],[s,5,5*zn],[s,15,15*zn],[s,30,30*zn],[a,1,fs],[a,3,3*fs],[a,6,6*fs],[a,12,12*fs],[n,1,Ps],[n,2,2*Ps],[r,1,NO],[e,1,oL],[e,3,3*oL],[t,1,JC]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,f){const m=Math.abs(d-u)/f,h=fO(([,,p])=>p).right(i,m);if(h===i.length)return t.every(OT(u/JC,d/JC,f));if(h===0)return dv.every(Math.max(OT(u,d,f),1));const[g,b]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return g.every(b)}return[l,c]}const[gLe,yLe]=S7(_s,EO,vw,N7,kO,AO),[bLe,xLe]=S7(Ds,IO,xw,ah,TO,SO);function XC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ZC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ku(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function vLe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=Ju(a),d=Xu(a),f=Ju(s),m=Xu(s),h=Ju(i),g=Xu(i),b=Ju(l),p=Xu(l),x=Ju(c),y=Xu(c),w={a:U,A:D,b:R,B:F,c:null,d:fL,e:fL,f:ULe,g:QLe,G:tFe,H:BLe,I:qLe,j:VLe,L:A7,m:zLe,M:WLe,p:H,q:W,Q:pL,s:gL,S:HLe,u:GLe,U:YLe,V:KLe,w:JLe,W:XLe,x:null,X:null,y:ZLe,Y:eFe,Z:rFe,"%":hL},S={a:ee,A:fe,b:Te,B:ne,c:null,d:mL,e:mL,f:oFe,g:gFe,G:bFe,H:nFe,I:aFe,j:sFe,L:k7,m:iFe,M:lFe,p:J,q:le,Q:pL,s:gL,S:cFe,u:uFe,U:dFe,V:fFe,w:mFe,W:hFe,x:null,X:null,y:pFe,Y:yFe,Z:xFe,"%":hL},C={a:T,A:I,b:P,B:M,c:$,d:uL,e:uL,f:RLe,g:cL,G:lL,H:dL,I:dL,j:PLe,L:$Le,m:OLe,M:DLe,p:E,q:ELe,Q:LLe,s:FLe,S:_Le,u:SLe,U:ALe,V:TLe,w:NLe,W:kLe,x:_,X:B,y:cL,Y:lL,Z:ILe,"%":MLe};w.x=j(r,w),w.X=j(n,w),w.c=j(e,w),S.x=j(r,S),S.X=j(n,S),S.c=j(e,S);function j(Z,te){return function(G){var z=[],me=-1,we=0,Ie=Z.length,Ne,dr,On;for(G instanceof Date||(G=new Date(+G));++me<Ie;)Z.charCodeAt(me)===37&&(z.push(Z.slice(we,me)),(dr=iL[Ne=Z.charAt(++me)])!=null?Ne=Z.charAt(++me):dr=Ne==="e"?" ":"0",(On=te[Ne])&&(Ne=On(G,dr)),z.push(Ne),we=me+1);return z.push(Z.slice(we,me)),z.join("")}}function N(Z,te){return function(G){var z=Ku(1900,void 0,1),me=A(z,Z,G+="",0),we,Ie;if(me!=G.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(te&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(we=ZC(Ku(z.y,0,1)),Ie=we.getUTCDay(),we=Ie>4||Ie===0?mv.ceil(we):mv(we),we=bw.offset(we,(z.V-1)*7),z.y=we.getUTCFullYear(),z.m=we.getUTCMonth(),z.d=we.getUTCDate()+(z.w+6)%7):(we=XC(Ku(z.y,0,1)),Ie=we.getDay(),we=Ie>4||Ie===0?fv.ceil(we):fv(we),we=ah.offset(we,(z.V-1)*7),z.y=we.getFullYear(),z.m=we.getMonth(),z.d=we.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),Ie="Z"in z?ZC(Ku(z.y,0,1)).getUTCDay():XC(Ku(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(Ie+5)%7:z.w+z.U*7-(Ie+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,ZC(z)):XC(z)}}function A(Z,te,G,z){for(var me=0,we=te.length,Ie=G.length,Ne,dr;me<we;){if(z>=Ie)return-1;if(Ne=te.charCodeAt(me++),Ne===37){if(Ne=te.charAt(me++),dr=C[Ne in iL?te.charAt(me++):Ne],!dr||(z=dr(Z,G,z))<0)return-1}else if(Ne!=G.charCodeAt(z++))return-1}return z}function E(Z,te,G){var z=u.exec(te.slice(G));return z?(Z.p=d.get(z[0].toLowerCase()),G+z[0].length):-1}function T(Z,te,G){var z=h.exec(te.slice(G));return z?(Z.w=g.get(z[0].toLowerCase()),G+z[0].length):-1}function I(Z,te,G){var z=f.exec(te.slice(G));return z?(Z.w=m.get(z[0].toLowerCase()),G+z[0].length):-1}function P(Z,te,G){var z=x.exec(te.slice(G));return z?(Z.m=y.get(z[0].toLowerCase()),G+z[0].length):-1}function M(Z,te,G){var z=b.exec(te.slice(G));return z?(Z.m=p.get(z[0].toLowerCase()),G+z[0].length):-1}function $(Z,te,G){return A(Z,e,te,G)}function _(Z,te,G){return A(Z,r,te,G)}function B(Z,te,G){return A(Z,n,te,G)}function U(Z){return i[Z.getDay()]}function D(Z){return s[Z.getDay()]}function R(Z){return c[Z.getMonth()]}function F(Z){return l[Z.getMonth()]}function H(Z){return a[+(Z.getHours()>=12)]}function W(Z){return 1+~~(Z.getMonth()/3)}function ee(Z){return i[Z.getUTCDay()]}function fe(Z){return s[Z.getUTCDay()]}function Te(Z){return c[Z.getUTCMonth()]}function ne(Z){return l[Z.getUTCMonth()]}function J(Z){return a[+(Z.getUTCHours()>=12)]}function le(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var te=j(Z+="",w);return te.toString=function(){return Z},te},parse:function(Z){var te=N(Z+="",!1);return te.toString=function(){return Z},te},utcFormat:function(Z){var te=j(Z+="",S);return te.toString=function(){return Z},te},utcParse:function(Z){var te=N(Z+="",!0);return te.toString=function(){return Z},te}}}var iL={"-":"",_:" ",0:"0"},xr=/^\s*\d+/,jLe=/^%/,wLe=/[\\^$*+?|[\]().{}]/g;function Ze(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function CLe(t){return t.replace(wLe,"\\$&")}function Ju(t){return new RegExp("^(?:"+t.map(CLe).join("|")+")","i")}function Xu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function NLe(t,e,r){var n=xr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function SLe(t,e,r){var n=xr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function ALe(t,e,r){var n=xr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function TLe(t,e,r){var n=xr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function kLe(t,e,r){var n=xr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function lL(t,e,r){var n=xr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function cL(t,e,r){var n=xr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ILe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ELe(t,e,r){var n=xr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function OLe(t,e,r){var n=xr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function uL(t,e,r){var n=xr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function PLe(t,e,r){var n=xr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function dL(t,e,r){var n=xr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function DLe(t,e,r){var n=xr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function _Le(t,e,r){var n=xr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function $Le(t,e,r){var n=xr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function RLe(t,e,r){var n=xr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function MLe(t,e,r){var n=jLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function LLe(t,e,r){var n=xr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function FLe(t,e,r){var n=xr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function fL(t,e){return Ze(t.getDate(),e,2)}function BLe(t,e){return Ze(t.getHours(),e,2)}function qLe(t,e){return Ze(t.getHours()%12||12,e,2)}function VLe(t,e){return Ze(1+ah.count(Ds(t),t),e,3)}function A7(t,e){return Ze(t.getMilliseconds(),e,3)}function ULe(t,e){return A7(t,e)+"000"}function zLe(t,e){return Ze(t.getMonth()+1,e,2)}function WLe(t,e){return Ze(t.getMinutes(),e,2)}function HLe(t,e){return Ze(t.getSeconds(),e,2)}function GLe(t){var e=t.getDay();return e===0?7:e}function YLe(t,e){return Ze(xw.count(Ds(t)-1,t),e,2)}function T7(t){var e=t.getDay();return e>=4||e===0?Bc(t):Bc.ceil(t)}function KLe(t,e){return t=T7(t),Ze(Bc.count(Ds(t),t)+(Ds(t).getDay()===4),e,2)}function JLe(t){return t.getDay()}function XLe(t,e){return Ze(fv.count(Ds(t)-1,t),e,2)}function ZLe(t,e){return Ze(t.getFullYear()%100,e,2)}function QLe(t,e){return t=T7(t),Ze(t.getFullYear()%100,e,2)}function eFe(t,e){return Ze(t.getFullYear()%1e4,e,4)}function tFe(t,e){var r=t.getDay();return t=r>=4||r===0?Bc(t):Bc.ceil(t),Ze(t.getFullYear()%1e4,e,4)}function rFe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ze(e/60|0,"0",2)+Ze(e%60,"0",2)}function mL(t,e){return Ze(t.getUTCDate(),e,2)}function nFe(t,e){return Ze(t.getUTCHours(),e,2)}function aFe(t,e){return Ze(t.getUTCHours()%12||12,e,2)}function sFe(t,e){return Ze(1+bw.count(_s(t),t),e,3)}function k7(t,e){return Ze(t.getUTCMilliseconds(),e,3)}function oFe(t,e){return k7(t,e)+"000"}function iFe(t,e){return Ze(t.getUTCMonth()+1,e,2)}function lFe(t,e){return Ze(t.getUTCMinutes(),e,2)}function cFe(t,e){return Ze(t.getUTCSeconds(),e,2)}function uFe(t){var e=t.getUTCDay();return e===0?7:e}function dFe(t,e){return Ze(vw.count(_s(t)-1,t),e,2)}function I7(t){var e=t.getUTCDay();return e>=4||e===0?qc(t):qc.ceil(t)}function fFe(t,e){return t=I7(t),Ze(qc.count(_s(t),t)+(_s(t).getUTCDay()===4),e,2)}function mFe(t){return t.getUTCDay()}function hFe(t,e){return Ze(mv.count(_s(t)-1,t),e,2)}function pFe(t,e){return Ze(t.getUTCFullYear()%100,e,2)}function gFe(t,e){return t=I7(t),Ze(t.getUTCFullYear()%100,e,2)}function yFe(t,e){return Ze(t.getUTCFullYear()%1e4,e,4)}function bFe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?qc(t):qc.ceil(t),Ze(t.getUTCFullYear()%1e4,e,4)}function xFe(){return"+0000"}function hL(){return"%"}function pL(t){return+t}function gL(t){return Math.floor(+t/1e3)}var El,E7,O7;vFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vFe(t){return El=vLe(t),E7=El.format,El.parse,O7=El.utcFormat,El.utcParse,El}function jFe(t){return new Date(t)}function wFe(t){return t instanceof Date?+t:+new Date(+t)}function OO(t,e,r,n,a,s,i,l,c,u){var d=yO(),f=d.invert,m=d.domain,h=u(".%L"),g=u(":%S"),b=u("%I:%M"),p=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),S=u("%Y");function C(j){return(c(j)<j?h:l(j)<j?g:i(j)<j?b:s(j)<j?p:n(j)<j?a(j)<j?x:y:r(j)<j?w:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?m(Array.from(j,wFe)):m().map(jFe)},d.ticks=function(j){var N=m();return t(N[0],N[N.length-1],j??10)},d.tickFormat=function(j,N){return N==null?C:u(N)},d.nice=function(j){var N=m();return(!j||typeof j.range!="function")&&(j=e(N[0],N[N.length-1],j??10)),j?m(y7(N,j)):d},d.copy=function(){return nh(d,OO(t,e,r,n,a,s,i,l,c,u))},d}function CFe(){return Zn.apply(OO(bLe,xLe,Ds,IO,xw,ah,TO,SO,Oi,E7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NFe(){return Zn.apply(OO(gLe,yLe,_s,EO,vw,bw,kO,AO,Oi,O7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jw(){var t=0,e=1,r,n,a,s,i=Br,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,g;return arguments.length?([h,g]=m,i=f(h,g),u):[i(0),i(1)]}}return u.range=d(vu),u.rangeRound=d(gO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Qo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function P7(){var t=Zo(jw()(Br));return t.copy=function(){return Qo(t,P7())},Vs.apply(t,arguments)}function D7(){var t=vO(jw()).domain([1,10]);return t.copy=function(){return Qo(t,D7()).base(t.base())},Vs.apply(t,arguments)}function _7(){var t=jO(jw());return t.copy=function(){return Qo(t,_7()).constant(t.constant())},Vs.apply(t,arguments)}function PO(){var t=wO(jw());return t.copy=function(){return Qo(t,PO()).exponent(t.exponent())},Vs.apply(t,arguments)}function SFe(){return PO.apply(null,arguments).exponent(.5)}function $7(){var t=[],e=Br;function r(n){if(n!=null&&!isNaN(n=+n))return e((th(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Eo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>dMe(t,s/n))},r.copy=function(){return $7(e).domain(t)},Vs.apply(r,arguments)}function ww(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=Br,d,f=!1,m;function h(b){return isNaN(b=+b)?m:(b=.5+((b=+d(b))-s)*(n*b<n*s?l:c),u(f?Math.max(0,Math.min(1,b)):b))}h.domain=function(b){return arguments.length?([t,e,r]=b,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[t,e,r]},h.clamp=function(b){return arguments.length?(f=!!b,h):f},h.interpolator=function(b){return arguments.length?(u=b,h):u};function g(b){return function(p){var x,y,w;return arguments.length?([x,y,w]=p,u=MMe(b,[x,y,w]),h):[u(0),u(.5),u(1)]}}return h.range=g(vu),h.rangeRound=g(gO),h.unknown=function(b){return arguments.length?(m=b,h):m},function(b){return d=b,a=b(t),s=b(e),i=b(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function R7(){var t=Zo(ww()(Br));return t.copy=function(){return Qo(t,R7())},Vs.apply(t,arguments)}function M7(){var t=vO(ww()).domain([.1,1,10]);return t.copy=function(){return Qo(t,M7()).base(t.base())},Vs.apply(t,arguments)}function L7(){var t=jO(ww());return t.copy=function(){return Qo(t,L7()).constant(t.constant())},Vs.apply(t,arguments)}function DO(){var t=wO(ww());return t.copy=function(){return Qo(t,DO()).exponent(t.exponent())},Vs.apply(t,arguments)}function AFe(){return DO.apply(null,arguments).exponent(.5)}const yL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zf,scaleDiverging:R7,scaleDivergingLog:M7,scaleDivergingPow:DO,scaleDivergingSqrt:AFe,scaleDivergingSymlog:L7,scaleIdentity:g7,scaleImplicit:PT,scaleLinear:uv,scaleLog:b7,scaleOrdinal:mO,scalePoint:Qd,scalePow:CO,scaleQuantile:j7,scaleQuantize:w7,scaleRadial:v7,scaleSequential:P7,scaleSequentialLog:D7,scaleSequentialPow:PO,scaleSequentialQuantile:$7,scaleSequentialSqrt:SFe,scaleSequentialSymlog:_7,scaleSqrt:oLe,scaleSymlog:x7,scaleThreshold:C7,scaleTime:CFe,scaleUtc:NFe,tickFormat:p7},Symbol.toStringTag,{value:"Module"}));var TFe=du;function kFe(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!TFe(i):r(i,l)))var l=i,c=s}return c}var Cw=kFe;function IFe(t,e){return t>e}var F7=IFe,EFe=Cw,OFe=F7,PFe=bu;function DFe(t){return t&&t.length?EFe(t,PFe,OFe):void 0}var _Fe=DFe;const Nw=rt(_Fe);function $Fe(t,e){return t<e}var B7=$Fe,RFe=Cw,MFe=B7,LFe=bu;function FFe(t){return t&&t.length?RFe(t,LFe,MFe):void 0}var BFe=FFe;const Sw=rt(BFe);var qFe=HE,VFe=Xo,UFe=Yz,zFe=cn;function WFe(t,e){var r=zFe(t)?qFe:UFe;return r(t,VFe(e))}var HFe=WFe,GFe=Hz,YFe=HFe;function KFe(t,e){return GFe(YFe(t,e),1)}var JFe=KFe;const XFe=rt(JFe);var ZFe=lO;function QFe(t,e){return ZFe(t,e)}var e5e=QFe;const _O=rt(e5e);var ju=1e9,t5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RO,Dt=!0,Kn="[DecimalError] ",Bi=Kn+"Invalid argument: ",$O=Kn+"Exponent out of range: ",wu=Math.floor,xi=Math.pow,r5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hn,mr=1e7,Nt=7,q7=9007199254740991,hv=wu(q7/Nt),ve={};ve.absoluteValue=ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ve.comparedTo=ve.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ve.decimalPlaces=ve.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Nt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ve.dividedBy=ve.div=function(t){return Cs(this,new this.constructor(t))};ve.dividedToIntegerBy=ve.idiv=function(t){var e=this,r=e.constructor;return ht(Cs(e,new r(t),0,1),r.precision)};ve.equals=ve.eq=function(t){return!this.cmp(t)};ve.exponent=function(){return rr(this)};ve.greaterThan=ve.gt=function(t){return this.cmp(t)>0};ve.greaterThanOrEqualTo=ve.gte=function(t){return this.cmp(t)>=0};ve.isInteger=ve.isint=function(){return this.e>this.d.length-2};ve.isNegative=ve.isneg=function(){return this.s<0};ve.isPositive=ve.ispos=function(){return this.s>0};ve.isZero=function(){return this.s===0};ve.lessThan=ve.lt=function(t){return this.cmp(t)<0};ve.lessThanOrEqualTo=ve.lte=function(t){return this.cmp(t)<1};ve.logarithm=ve.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(hn))throw Error(Kn+"NaN");if(r.s<1)throw Error(Kn+(r.s?"NaN":"-Infinity"));return r.eq(hn)?new n(0):(Dt=!1,e=Cs(nm(r,s),nm(t,s),s),Dt=!0,ht(e,a))};ve.minus=ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?z7(e,t):V7(e,(t.s=-t.s,t))};ve.modulo=ve.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Kn+"NaN");return r.s?(Dt=!1,e=Cs(r,t,0,1).times(t),Dt=!0,r.minus(e)):ht(new n(r),a)};ve.naturalExponential=ve.exp=function(){return U7(this)};ve.naturalLogarithm=ve.ln=function(){return nm(this)};ve.negated=ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ve.plus=ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?V7(e,t):z7(e,(t.s=-t.s,t))};ve.precision=ve.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bi+t);if(e=rr(a)+1,n=a.d.length-1,r=n*Nt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ve.squareRoot=ve.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Kn+"NaN")}for(t=rr(l),Dt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Oa(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=wu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(Cs(l,s,i+2)).times(.5),Oa(s.d).slice(0,i)===(e=Oa(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(ht(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Dt=!0,ht(n,r)};ve.times=ve.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+e,s[a--]=l%mr|0,e=l/mr|0;s[a]=(s[a]+e)%mr|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Dt?ht(t,f.precision):t};ve.toDecimalPlaces=ve.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ua(t,0,ju),e===void 0?e=n.rounding:Ua(e,0,8),ht(r,t+rr(r)+1,e))};ve.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=nl(n,!0):(Ua(t,0,ju),e===void 0?e=a.rounding:Ua(e,0,8),n=ht(new a(n),t+1,e),r=nl(n,!0,t+1)),r};ve.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?nl(a):(Ua(t,0,ju),e===void 0?e=s.rounding:Ua(e,0,8),n=ht(new s(a),t+rr(a)+1,e),r=nl(n.abs(),!1,t+rr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ve.toInteger=ve.toint=function(){var t=this,e=t.constructor;return ht(new e(t),rr(t)+1,e.rounding)};ve.toNumber=function(){return+this};ve.toPower=ve.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(hn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Kn+"Infinity");return l}if(l.eq(hn))return l;if(n=c.precision,t.eq(hn))return ht(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=q7){for(a=new c(hn),e=Math.ceil(n/Nt+4),Dt=!1;r%2&&(a=a.times(l),xL(a.d,e)),r=wu(r/2),r!==0;)l=l.times(l),xL(l.d,e);return Dt=!0,t.s<0?new c(hn).div(a):ht(a,n)}}else if(s<0)throw Error(Kn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Dt=!1,a=t.times(nm(l,n+u)),Dt=!0,a=U7(a),a.s=s,a};ve.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=rr(a),n=nl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ua(t,1,ju),e===void 0?e=s.rounding:Ua(e,0,8),a=ht(new s(a),t,e),r=rr(a),n=nl(a,t<=r||r<=s.toExpNeg,t)),n};ve.toSignificantDigits=ve.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ua(t,1,ju),e===void 0?e=n.rounding:Ua(e,0,8)),ht(new n(r),t,e)};ve.toString=ve.valueOf=ve.val=ve.toJSON=ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rr(t),r=t.constructor;return nl(t,e<=r.toExpNeg||e>=r.toExpPos)};function V7(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dt?ht(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Nt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/mr|0,c[s]%=mr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Dt?ht(e,f):e}function Ua(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Bi+t)}function Oa(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=Nt-n.length,r&&(s+=eo(r)),s+=n;i=t[e],n=i+"",r=Nt-n.length,r&&(s+=eo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Cs=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%mr|0,i=s/mr|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*mr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,h,g,b,p,x,y,w,S,C,j,N,A,E=n.constructor,T=n.s==a.s?1:-1,I=n.d,P=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Kn+"Division by zero");for(c=n.e-a.e,N=P.length,C=I.length,h=new E(T),g=h.d=[],u=0;P[u]==(I[u]||0);)++u;if(P[u]>(I[u]||0)&&--c,s==null?y=s=E.precision:i?y=s+(rr(n)-rr(a))+1:y=s,y<0)return new E(0);if(y=y/Nt+2|0,u=0,N==1)for(d=0,P=P[0],y++;(u<C||d)&&y--;u++)w=d*mr+(I[u]||0),g[u]=w/P|0,d=w%P|0;else{for(d=mr/(P[0]+1)|0,d>1&&(P=t(P,d),I=t(I,d),N=P.length,C=I.length),S=N,b=I.slice(0,N),p=b.length;p<N;)b[p++]=0;A=P.slice(),A.unshift(0),j=P[0],P[1]>=mr/2&&++j;do d=0,l=e(P,b,N,p),l<0?(x=b[0],N!=p&&(x=x*mr+(b[1]||0)),d=x/j|0,d>1?(d>=mr&&(d=mr-1),f=t(P,d),m=f.length,p=b.length,l=e(f,b,m,p),l==1&&(d--,r(f,N<m?A:P,m))):(d==0&&(l=d=1),f=P.slice()),m=f.length,m<p&&f.unshift(0),r(b,f,p),l==-1&&(p=b.length,l=e(P,b,N,p),l<1&&(d++,r(b,N<p?A:P,p))),p=b.length):l===0&&(d++,b=[0]),g[u++]=d,l&&b[0]?b[p++]=I[S]||0:(b=[I[S]],p=1);while((S++<C||b[0]!==void 0)&&y--)}return g[0]||g.shift(),h.e=c,ht(h,i?s+rr(h)+1:s)}}();function U7(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(rr(t)>16)throw Error($O+rr(t));if(!t.s)return new d(hn);for(Dt=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(xi(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(hn),d.precision=l;;){if(a=ht(a.times(t),l),r=r.times(++c),i=s.plus(Cs(a,r,l)),Oa(i.d).slice(0,l)===Oa(s.d).slice(0,l)){for(;u--;)s=ht(s.times(s),l);return d.precision=f,e==null?(Dt=!0,ht(s,f)):s}s=i}}function rr(t){for(var e=t.e*Nt,r=t.d[0];r>=10;r/=10)e++;return e}function QC(t,e,r){if(e>t.LN10.sd())throw Dt=!0,r&&(t.precision=r),Error(Kn+"LN10 precision limit exceeded");return ht(new t(t.LN10),e)}function eo(t){for(var e="";t--;)e+="0";return e}function nm(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,h=t,g=h.d,b=h.constructor,p=b.precision;if(h.s<1)throw Error(Kn+(h.s?"NaN":"-Infinity"));if(h.eq(hn))return new b(0);if(e==null?(Dt=!1,u=p):u=e,h.eq(10))return e==null&&(Dt=!0),QC(b,u);if(u+=m,b.precision=u,r=Oa(g),n=r.charAt(0),s=rr(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Oa(h.d),n=r.charAt(0),f++;s=rr(h),n>1?(h=new b("0."+r),s++):h=new b(n+"."+r.slice(1))}else return c=QC(b,u+2,p).times(s+""),h=nm(new b(n+"."+r.slice(1)),u-m).plus(c),b.precision=p,e==null?(Dt=!0,ht(h,p)):h;for(l=i=h=Cs(h.minus(hn),h.plus(hn),u),d=ht(h.times(h),u),a=3;;){if(i=ht(i.times(d),u),c=l.plus(Cs(i,new b(a),u)),Oa(c.d).slice(0,u)===Oa(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(QC(b,u+2,p).times(s+""))),l=Cs(l,new b(f),u),b.precision=p,e==null?(Dt=!0,ht(l,p)):l;l=c,a+=2}}function bL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=wu(r/Nt),t.d=[],n=(r+1)%Nt,r<0&&(n+=Nt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Nt;n<a;)t.d.push(+e.slice(n,n+=Nt));e=e.slice(n),n=Nt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Dt&&(t.e>hv||t.e<-hv))throw Error($O+r)}else t.s=0,t.e=0,t.d=[0];return t}function ht(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=Nt,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Nt),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Nt,a=n-Nt+i}if(r!==void 0&&(s=xi(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/xi(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=rr(t),f.length=1,e=e-s-1,f[0]=xi(10,(Nt-e%Nt)%Nt),t.e=wu(-e/Nt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=xi(10,Nt-n),f[d]=a>0?(u/xi(10,i-a)%xi(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==mr&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=mr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Dt&&(t.e>hv||t.e<-hv))throw Error($O+rr(t));return t}function z7(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Dt?ht(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Nt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=mr-1;--c[s],c[a]+=mr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Dt?ht(e,h):e):new m(0)}function nl(t,e,r){var n,a=rr(t),s=Oa(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+eo(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+eo(-a-1)+s,r&&(n=r-i)>0&&(s+=eo(n))):a>=i?(s+=eo(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+eo(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=eo(n))),t.s<0?"-"+s:s}function xL(t,e){if(t.length>e)return t.length=e,!0}function W7(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bi+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return bL(i,s.toString())}else if(typeof s!="string")throw Error(Bi+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,r5e.test(s))bL(i,s);else throw Error(Bi+s)}if(a.prototype=ve,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=W7,a.config=a.set=n5e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function n5e(t){if(!t||typeof t!="object")throw Error(Kn+"Object expected");var e,r,n,a=["precision",1,ju,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(wu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Bi+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bi+r+": "+n);return this}var RO=W7(t5e);hn=new RO(1);const ft=RO;function a5e(t){return l5e(t)||i5e(t)||o5e(t)||s5e()}function s5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5e(t,e){if(t){if(typeof t=="string")return RT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RT(t,e)}}function i5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function l5e(t){if(Array.isArray(t))return RT(t)}function RT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c5e=function(e){return e},H7={},G7=function(e){return e===H7},vL=function(e){return function r(){return arguments.length===0||arguments.length===1&&G7(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},u5e=function t(e,r){return e===1?r:vL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==H7}).length;return i>=e?r.apply(void 0,a):t(e-i,vL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return G7(f)?c.shift():f});return r.apply(void 0,a5e(d).concat(c))}))})},Aw=function(e){return u5e(e.length,e)},MT=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},d5e=Aw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),f5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return c5e;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},LT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Y7=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function m5e(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function h5e(t,e,r){for(var n=new ft(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var p5e=Aw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),g5e=Aw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),y5e=Aw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Tw={rangeStep:h5e,getDigitCount:m5e,interpolateNumber:p5e,uninterpolateNumber:g5e,uninterpolateTruncation:y5e};function FT(t){return v5e(t)||x5e(t)||K7(t)||b5e()}function b5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function v5e(t){if(Array.isArray(t))return BT(t)}function am(t,e){return C5e(t)||w5e(t,e)||K7(t,e)||j5e()}function j5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7(t,e){if(t){if(typeof t=="string")return BT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BT(t,e)}}function BT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function C5e(t){if(Array.isArray(t))return t}function J7(t){var e=am(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function X7(t,e,r){if(t.lte(0))return new ft(0);var n=Tw.getDigitCount(t.toNumber()),a=new ft(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new ft(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new ft(Math.ceil(c))}function N5e(t,e,r){var n=1,a=new ft(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new ft(10).pow(Tw.getDigitCount(t)-1),a=new ft(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ft(Math.floor(t)))}else t===0?a=new ft(Math.floor((e-1)/2)):r||(a=new ft(Math.floor(t)));var i=Math.floor((e-1)/2),l=f5e(d5e(function(c){return a.add(new ft(c-i).mul(n)).toNumber()}),MT);return l(0,e)}function Z7(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var s=X7(new ft(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new ft(0):(i=new ft(t).add(e).div(2),i=i.sub(new ft(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new ft(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?Z7(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new ft(l).mul(s)),tickMax:i.add(new ft(c).mul(s))})}function S5e(t){var e=am(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=J7([r,n]),c=am(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(FT(MT(0,a-1).map(function(){return 1/0}))):[].concat(FT(MT(0,a-1).map(function(){return-1/0})),[d]);return r>n?LT(f):f}if(u===d)return N5e(u,a,s);var m=Z7(u,d,i,s),h=m.step,g=m.tickMin,b=m.tickMax,p=Tw.rangeStep(g,b.add(new ft(.1).mul(h)),h);return r>n?LT(p):p}function A5e(t,e){var r=am(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=J7([n,a]),l=am(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=X7(new ft(u).sub(c).div(d-1),s,0),m=[].concat(FT(Tw.rangeStep(new ft(c),new ft(u).sub(new ft(.99).mul(f)),f)),[u]);return n>a?LT(m):m}var T5e=Y7(S5e),k5e=Y7(A5e),I5e="Invariant failed";function Vc(t,e){throw new Error(I5e)}var E5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pv.apply(this,arguments)}function O5e(t,e){return $5e(t)||_5e(t,e)||D5e(t,e)||P5e()}function P5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D5e(t,e){if(t){if(typeof t=="string")return jL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jL(t,e)}}function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function $5e(t){if(Array.isArray(t))return t}function R5e(t,e){if(t==null)return{};var r=M5e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function L5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t8(n.key),n)}}function B5e(t,e,r){return e&&F5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q5e(t,e,r){return e=gv(e),V5e(t,Q7()?Reflect.construct(e,r||[],gv(t).constructor):e.apply(t,r))}function V5e(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U5e(t)}function U5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q7=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gv(t)}function z5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qT(t,e)}function qT(t,e){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qT(t,e)}function e8(t,e,r){return e=t8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t8(t){var e=W5e(t,"string");return Uc(e)=="symbol"?e:e+""}function W5e(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MO=function(t){function e(){return L5e(this,e),q5e(this,e,arguments)}return z5e(e,t),B5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=R5e(n,E5e),h=Ve(m,!1);this.props.direction==="x"&&d.type!=="number"&&Vc();var g=c.map(function(b){var p=u(b,l),x=p.x,y=p.y,w=p.value,S=p.errorVal;if(!S)return null;var C=[],j,N;if(Array.isArray(S)){var A=O5e(S,2);j=A[0],N=A[1]}else j=N=S;if(s==="vertical"){var E=d.scale,T=y+a,I=T+i,P=T-i,M=E(w-j),$=E(w+N);C.push({x1:$,y1:I,x2:$,y2:P}),C.push({x1:M,y1:T,x2:$,y2:T}),C.push({x1:M,y1:I,x2:M,y2:P})}else if(s==="horizontal"){var _=f.scale,B=x+a,U=B-i,D=B+i,R=_(w-j),F=_(w+N);C.push({x1:U,y1:F,x2:D,y2:F}),C.push({x1:B,y1:R,x2:B,y2:F}),C.push({x1:U,y1:R,x2:D,y2:R})}return V.createElement(Ut,pv({className:"recharts-errorBar",key:"bar-".concat(C.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},h),C.map(function(H){return V.createElement("line",pv({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return V.createElement(Ut,{className:"recharts-errorBars"},g)}}])}(V.Component);e8(MO,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});e8(MO,"displayName","ErrorBar");function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function wL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(r),!0).forEach(function(n){H5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H5e(t,e,r){return e=G5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G5e(t){var e=Y5e(t,"string");return sm(e)=="symbol"?e:e+""}function Y5e(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r8=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=Ln(r,Ba);if(!i)return null;var l=Ba.defaultProps,c=l!==void 0?li(li({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(b){return{type:i.props.iconType||m.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?li(li({},m),f.props):{},g=h.dataKey,b=h.name,p=h.legendType,x=h.hide;return{inactive:x,dataKey:g,type:c.iconType||p||"square",color:LO(f),value:b||g,payload:h}}),li(li(li({},c),Ba.getWithHeight(i,a)),{},{payload:u,item:i})};function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function CL(t){return Z5e(t)||X5e(t)||J5e(t)||K5e()}function K5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J5e(t,e){if(t){if(typeof t=="string")return VT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VT(t,e)}}function X5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z5e(t){if(Array.isArray(t))return VT(t)}function VT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){yc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yc(t,e,r){return e=Q5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q5e(t){var e=e4e(t,"string");return om(e)=="symbol"?e:e+""}function e4e(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pn(t,e,r){return Ye(t)||Ye(e)?r:lr(e)?pa(t,e,r):Ue(e)?e(t):r}function ef(t,e,r,n){var a=XFe(t,function(l){return pn(l,e)});if(r==="number"){var s=a.filter(function(l){return be(l)||parseFloat(l)});return s.length?[Sw(s),Nw(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Ye(l)}):a;return i.map(function(l){return lr(l)||l instanceof Date?l:""})}var t4e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Un(f-d)!==Un(m-f)){var g=[];if(Un(m-f)===Un(c[1]-c[0])){h=m;var b=f+c[1]-c[0];g[0]=Math.min(b,(b+d)/2),g[1]=Math.max(b,(b+d)/2)}else{h=d;var p=m+c[1]-c[0];g[0]=Math.min(f,(p+f)/2),g[1]=Math.max(f,(p+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){i=a[u].index;break}}else{var y=Math.min(d,m),w=Math.max(d,m);if(e>(y+f)/2&&e<=(w+f)/2){i=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){i=n[S].index;break}return i},LO=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},r4e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var g=d[f[m]],b=g.items,p=g.cateAxisId,x=b.filter(function(N){return js(N.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?Vt(Vt({},y),x[0].props):x[0].props,S=w.barSize,C=w[p];i[C]||(i[C]=[]);var j=Ye(S)?r:S;i[C].push({item:x[0],stackList:x.slice(1),barSize:Ye(j)?void 0:Zr(j,n,0)})}}return i},n4e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=Zr(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,h=a/c,g=i.reduce(function(S,C){return S+C.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&h>0&&(m=!0,h*=.9,g=c*h);var b=(a-g)/2>>0,p={offset:b-u,size:0};d=i.reduce(function(S,C){var j={item:C.item,position:{offset:p.offset+p.size+u,size:m?h:C.barSize}},N=[].concat(CL(S),[j]);return p=N[N.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){N.push({item:A,position:p})}),N},f)}else{var x=Zr(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var y=(a-2*x-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=i.reduce(function(S,C,j){var N=[].concat(CL(S),[{item:C.item,position:{offset:x+(y+u)*j+(y-w)/2,size:w}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(A){N.push({item:A,position:N[N.length-1].position})}),N},f)}return d},a4e=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=r8({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,g=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&g==="middle")&&h!=="center"&&be(e[h]))return Vt(Vt({},e),{},yc({},h,e[h]+(f||0)));if((b==="horizontal"||b==="vertical"&&h==="center")&&g!=="middle"&&be(e[g]))return Vt(Vt({},e),{},yc({},g,e[g]+(m||0)))}return e},s4e=function(e,r,n){return Ye(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},n8=function(e,r,n,a,s){var i=r.props.children,l=Fa(i,MO).filter(function(u){return s4e(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=pn(d,n);if(Ye(f))return u;var m=Array.isArray(f)?[Sw(f),Nw(f)]:[f,f],h=c.reduce(function(g,b){var p=pn(d,b,0),x=m[0]-Math.abs(Array.isArray(p)?p[0]:p),y=m[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},o4e=function(e,r,n,a,s){var i=r.map(function(l){return n8(e,l,n,s,a)}).filter(function(l){return!Ye(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},a8=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&n8(e,c,u,a)||ef(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},s8=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},pd=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Un(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!eh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},eN=new WeakMap,op=function(e,r){if(typeof r!="function")return e;eN.has(e)||eN.set(e,new WeakMap);var n=eN.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},i4e=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Zf(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:uv(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:Qd(),realScaleType:"point"}:s==="category"?{scale:Zf(),realScaleType:"band"}:{scale:uv(),realScaleType:"linear"};if(Qm(a)){var c="scale".concat(lw(a));return{scale:(yL[c]||Qd)(),realScaleType:yL[c]?c:"point"}}return Ue(a)?{scale:a}:{scale:Qd(),realScaleType:"point"}},SL=1e-4,l4e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-SL,i=Math.max(a[0],a[1])+SL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},c4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=eh(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},u4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=eh(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},d4e={sign:c4e,expand:Ike,none:Dc,silhouette:Eke,wiggle:Oke,positive:u4e},f4e=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=d4e[n],i=kke().keys(a).value(function(l,c){return+pn(l,c,0)}).order(mT).offset(s);return i(e)},m4e=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var h,g=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Vt(Vt({},m.type.defaultProps),m.props):m.props,b=g.stackId,p=g.hide;if(p)return f;var x=g[n],y=f[x]||{hasStack:!1,stackGroups:{}};if(lr(b)){var w=y.stackGroups[b]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(m),y.hasStack=!0,y.stackGroups[b]=w}else y.stackGroups[ow("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Vt(Vt({},f),{},yc({},x,y))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(b,p){var x=h.stackGroups[p];return Vt(Vt({},b),{},yc({},p,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:f4e(e,x.items,s)}))},g)}return Vt(Vt({},f),{},yc({},m,h))},d)},h4e=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=T5e(u,s,l);return e.domain([Sw(d),Nw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=k5e(f,s,l);return{niceTicks:m}}return null},p4e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(lr(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},g4e=function(e){return e.reduce(function(r,n){return[Sw(n.concat([r[0]]).filter(be)),Nw(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},o8=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=g4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},AL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UT=function(e,r,n){if(Ue(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(be(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(AL.test(e[0])){var s=+AL.exec(e[0])[1];a[0]=r[0]-s}else Ue(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(be(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(TL.test(e[1])){var i=+TL.exec(e[1])[1];a[1]=r[1]+i}else Ue(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},zT=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=uO(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},kL=function(e,r,n){return!e||!e.length||_O(e,pa(n,"type.defaultProps.domain"))?r:e},y4e=function(e,r){var n=e.type.defaultProps?Vt(Vt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Vt(Vt({},Ve(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:LO(e),value:pn(r,a),type:c,payload:r,chartType:u,hide:d})};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function IL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(r),!0).forEach(function(n){i8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i8(t,e,r){return e=b4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b4e(t){var e=x4e(t,"string");return im(e)=="symbol"?e:e+""}function x4e(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v4e(t,e){return N4e(t)||C4e(t,e)||w4e(t,e)||j4e()}function j4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w4e(t,e){if(t){if(typeof t=="string")return EL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EL(t,e)}}function EL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function N4e(t){if(Array.isArray(t))return t}var yv=Math.PI/180,S4e=function(e){return e*180/Math.PI},vt=function(e,r,n,a){return{x:e+Math.cos(-yv*a)*n,y:r+Math.sin(-yv*a)*n}},l8=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},A4e=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Zr(e.cx,i,i/2),f=Zr(e.cy,l,l/2),m=l8(i,l,n),h=Zr(e.innerRadius,m,0),g=Zr(e.outerRadius,m,m*.8),b=Object.keys(r);return b.reduce(function(p,x){var y=r[x],w=y.domain,S=y.reversed,C;if(Ye(y.range))a==="angleAxis"?C=[c,u]:a==="radiusAxis"&&(C=[h,g]),S&&(C=[C[1],C[0]]);else{C=y.range;var j=C,N=v4e(j,2);c=N[0],u=N[1]}var A=i4e(y,s),E=A.realScaleType,T=A.scale;T.domain(w).range(C),l4e(T);var I=h4e(T,ts(ts({},y),{},{realScaleType:E})),P=ts(ts(ts({},y),I),{},{range:C,radius:g,realScaleType:E,scale:T,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:c,endAngle:u});return ts(ts({},p),{},i8({},x,P))},{})},T4e=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},k4e=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=T4e({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:S4e(u),angleInRadian:u}},I4e=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},E4e=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},OL=function(e,r){var n=e.x,a=e.y,s=k4e({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=I4e(r),f=d.startAngle,m=d.endAngle,h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?ts(ts({},r),{},{radius:i,angle:E4e(h,r)}):null},c8=function(e){return!v.isValidElement(e)&&!Ue(e)&&typeof e!="boolean"?e.className:""};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}var O4e=["offset"];function P4e(t){return R4e(t)||$4e(t)||_4e(t)||D4e()}function D4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _4e(t,e){if(t){if(typeof t=="string")return WT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WT(t,e)}}function $4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R4e(t){if(Array.isArray(t))return WT(t)}function WT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function M4e(t,e){if(t==null)return{};var r=L4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){F4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F4e(t,e,r){return e=B4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B4e(t){var e=q4e(t,"string");return lm(e)=="symbol"?e:e+""}function q4e(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cm.apply(this,arguments)}var V4e=function(e){var r=e.value,n=e.formatter,a=Ye(e.children)?r:e.children;return Ue(n)?n(a):a},U4e=function(e,r){var n=Un(r-e),a=Math.min(Math.abs(r-e),360);return n*a},z4e=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,g=c.endAngle,b=c.clockWise,p=(f+m)/2,x=U4e(h,g),y=x>=0?1:-1,w,S;a==="insideStart"?(w=h+y*i,S=b):a==="insideEnd"?(w=g-y*i,S=!b):a==="end"&&(w=g+y*i,S=b),S=x<=0?S:!S;var C=vt(u,d,p,w),j=vt(u,d,p,w+(S?1:-1)*359),N="M".concat(C.x,",").concat(C.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),A=Ye(e.id)?ow("recharts-radial-line-"):e.id;return V.createElement("text",cm({},n,{dominantBaseline:"central",className:$e("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:A,d:N})),V.createElement("textPath",{xlinkHref:"#".concat(A)},r))},W4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var h=vt(i,l,u+n,m),g=h.x,b=h.y;return{x:g,y:b,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+u)/2,x=vt(i,l,p,m),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},H4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",g=f>0?"start":"end",b=u>=0?1:-1,p=b*a,x=b>0?"end":"start",y=b>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return ar(ar({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var S={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:g};return ar(ar({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var C={x:l-p,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return ar(ar({},C),n?{width:Math.max(C.x-n.x,0),height:d}:{})}if(s==="right"){var j={x:l+u+p,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return ar(ar({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?ar({x:l+p,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):s==="insideRight"?ar({x:l+u-p,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},N):s==="insideTop"?ar({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:g},N):s==="insideBottom"?ar({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},N):s==="insideTopLeft"?ar({x:l+p,y:c+m,textAnchor:y,verticalAnchor:g},N):s==="insideTopRight"?ar({x:l+u-p,y:c+m,textAnchor:x,verticalAnchor:g},N):s==="insideBottomLeft"?ar({x:l+p,y:c+d-m,textAnchor:y,verticalAnchor:h},N):s==="insideBottomRight"?ar({x:l+u-p,y:c+d-m,textAnchor:x,verticalAnchor:h},N):fu(s)&&(be(s.x)||Ii(s.x))&&(be(s.y)||Ii(s.y))?ar({x:l+Zr(s.x,u),y:c+Zr(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):ar({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},G4e=function(e){return"cx"in e&&be(e.cx)};function Nr(t){var e=t.offset,r=e===void 0?5:e,n=M4e(t,O4e),a=ar({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Ye(l)&&Ye(c)&&!v.isValidElement(u)&&!Ue(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var h;if(Ue(u)){if(h=v.createElement(u,a),v.isValidElement(h))return h}else h=V4e(a);var g=G4e(s),b=Ve(a,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return z4e(a,h,b);var p=g?W4e(a):H4e(a);return V.createElement(Lc,cm({className:$e("recharts-label",f)},b,p,{breakAll:m}),h)}Nr.displayName="Label";var u8=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,g=e.left,b=e.width,p=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(be(b)&&be(p)){if(be(f)&&be(m))return{x:f,y:m,width:b,height:p};if(be(h)&&be(g))return{x:h,y:g,width:b,height:p}}return be(f)&&be(m)?{x:f,y:m,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},Y4e=function(e,r){return e?e===!0?V.createElement(Nr,{key:"label-implicit",viewBox:r}):lr(e)?V.createElement(Nr,{key:"label-implicit",viewBox:r,value:e}):v.isValidElement(e)?e.type===Nr?v.cloneElement(e,{key:"label-implicit",viewBox:r}):V.createElement(Nr,{key:"label-implicit",content:e,viewBox:r}):Ue(e)?V.createElement(Nr,{key:"label-implicit",content:e,viewBox:r}):fu(e)?V.createElement(Nr,cm({viewBox:r},e,{key:"label-implicit"})):null:null},K4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=u8(e),i=Fa(a,Nr).map(function(c,u){return v.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=Y4e(e.label,r||s);return[l].concat(P4e(i))};Nr.parseViewBox=u8;Nr.renderCallByParent=K4e;function J4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var X4e=J4e;const Z4e=rt(X4e);function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}var Q4e=["valueAccessor"],eBe=["data","dataKey","clockWise","id","textBreakAll"];function tBe(t){return sBe(t)||aBe(t)||nBe(t)||rBe()}function rBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nBe(t,e){if(t){if(typeof t=="string")return HT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HT(t,e)}}function aBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sBe(t){if(Array.isArray(t))return HT(t)}function HT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bv.apply(this,arguments)}function DL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DL(Object(r),!0).forEach(function(n){oBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oBe(t,e,r){return e=iBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iBe(t){var e=lBe(t,"string");return um(e)=="symbol"?e:e+""}function lBe(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $L(t,e){if(t==null)return{};var r=cBe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uBe=function(e){return Array.isArray(e.value)?Z4e(e.value):e.value};function qi(t){var e=t.valueAccessor,r=e===void 0?uBe:e,n=$L(t,Q4e),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=$L(n,eBe);return!a||!a.length?null:V.createElement(Ut,{className:"recharts-label-list"},a.map(function(d,f){var m=Ye(s)?r(d,f):pn(d&&d.payload,s),h=Ye(l)?{}:{id:"".concat(l,"-").concat(f)};return V.createElement(Nr,bv({},Ve(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Nr.parseViewBox(Ye(i)?d:_L(_L({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}qi.displayName="LabelList";function dBe(t,e){return t?t===!0?V.createElement(qi,{key:"labelList-implicit",data:e}):V.isValidElement(t)||Ue(t)?V.createElement(qi,{key:"labelList-implicit",data:e,content:t}):fu(t)?V.createElement(qi,bv({data:e},t,{key:"labelList-implicit"})):null:null}function fBe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Fa(n,qi).map(function(i,l){return v.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=dBe(t.label,e);return[s].concat(tBe(a))}qi.renderCallByParent=fBe;function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GT.apply(this,arguments)}function RL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ML(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(r),!0).forEach(function(n){mBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mBe(t,e,r){return e=hBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hBe(t){var e=pBe(t,"string");return dm(e)=="symbol"?e:e+""}function pBe(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gBe=function(e,r){var n=Un(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},ip=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/yv,m=u?s:s+i*f,h=vt(r,n,d,m),g=vt(r,n,a,m),b=u?s-i*f:s,p=vt(r,n,d*Math.cos(f*yv),b);return{center:h,circleTangency:g,lineTangency:p,theta:f}},d8=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=gBe(i,l),u=i+c,d=vt(r,n,s,i),f=vt(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=vt(r,n,a,i),g=vt(r,n,a,u);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},yBe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Un(d-u),m=ip({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),h=m.circleTangency,g=m.lineTangency,b=m.theta,p=ip({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),x=p.circleTangency,y=p.lineTangency,w=p.theta,S=c?Math.abs(u-d):Math.abs(u-d)-b-w;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):d8({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var C="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var j=ip({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),N=j.circleTangency,A=j.lineTangency,E=j.theta,T=ip({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),I=T.circleTangency,P=T.lineTangency,M=T.theta,$=c?Math.abs(u-d):Math.abs(u-d)-E-M;if($<0&&i===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},bBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f8=function(e){var r=ML(ML({},bBe),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var h=$e("recharts-sector",m),g=i-s,b=Zr(l,g,0,!0),p;return b>0&&Math.abs(d-f)<360?p=yBe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(b,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):p=d8({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),V.createElement("path",GT({},Ve(r,!0),{className:h,d:p,role:"img"}))};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function YT(){return YT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YT.apply(this,arguments)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){xBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xBe(t,e,r){return e=vBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vBe(t){var e=jBe(t,"string");return fm(e)=="symbol"?e:e+""}function jBe(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BL={curveBasisClosed:yke,curveBasisOpen:bke,curveBasis:gke,curveBumpX:rke,curveBumpY:nke,curveLinearClosed:xke,curveLinear:uw,curveMonotoneX:vke,curveMonotoneY:jke,curveNatural:wke,curveStep:Cke,curveStepAfter:Ske,curveStepBefore:Nke},lp=function(e){return e.x===+e.x&&e.y===+e.y},Zu=function(e){return e.x},Qu=function(e){return e.y},wBe=function(e,r){if(Ue(e))return e;var n="curve".concat(lw(e));return(n==="curveMonotone"||n==="curveBump")&&r?BL["".concat(n).concat(r==="vertical"?"Y":"X")]:BL[n]||uw},CBe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=wBe(n,l),f=u?s.filter(function(b){return lp(b)}):s,m;if(Array.isArray(i)){var h=u?i.filter(function(b){return lp(b)}):i,g=f.map(function(b,p){return FL(FL({},b),{},{base:h[p]})});return l==="vertical"?m=Zh().y(Qu).x1(Zu).x0(function(b){return b.base.x}):m=Zh().x(Zu).y1(Qu).y0(function(b){return b.base.y}),m.defined(lp).curve(d),m(g)}return l==="vertical"&&be(i)?m=Zh().y(Qu).x1(Zu).x0(i):be(i)?m=Zh().x(Zu).y1(Qu).y0(i):m=fz().x(Zu).y(Qu),m.defined(lp).curve(d),m(f)},KT=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?CBe(e):a;return V.createElement("path",YT({},Ve(e,!1),zx(e),{className:$e("recharts-curve",r),d:i,ref:s}))},m8={exports:{}},NBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",SBe=NBe,ABe=SBe;function h8(){}function p8(){}p8.resetWarningCache=h8;var TBe=function(){function t(n,a,s,i,l,c){if(c!==ABe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:p8,resetWarningCache:h8};return r.PropTypes=r,r};m8.exports=TBe();var kBe=m8.exports;const nt=rt(kBe);var IBe=Object.getOwnPropertyNames,EBe=Object.getOwnPropertySymbols,OBe=Object.prototype.hasOwnProperty;function qL(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function cp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function VL(t){return IBe(t).concat(EBe(t))}var PBe=Object.hasOwn||function(t,e){return OBe.call(t,e)};function xl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var DBe="__v",_Be="__o",$Be="_owner",UL=Object.getOwnPropertyDescriptor,zL=Object.keys;function RBe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function MBe(t,e){return xl(t.getTime(),e.getTime())}function LBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function FBe(t,e){return t===e}function WL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var BBe=xl;function qBe(t,e,r){var n=zL(t),a=n.length;if(zL(e).length!==a)return!1;for(;a-- >0;)if(!g8(t,e,r,n[a]))return!1;return!0}function ed(t,e,r){var n=VL(t),a=n.length;if(VL(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!g8(t,e,r,s)||(i=UL(t,s),l=UL(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function VBe(t,e){return xl(t.valueOf(),e.valueOf())}function UBe(t,e){return t.source===e.source&&t.flags===e.flags}function HL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function zBe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function WBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function g8(t,e,r,n){return(n===$Be||n===_Be||n===DBe)&&(t.$$typeof||e.$$typeof)?!0:PBe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var HBe="[object Arguments]",GBe="[object Boolean]",YBe="[object Date]",KBe="[object Error]",JBe="[object Map]",XBe="[object Number]",ZBe="[object Object]",QBe="[object RegExp]",e3e="[object Set]",t3e="[object String]",r3e="[object URL]",n3e=Array.isArray,GL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,YL=Object.assign,a3e=Object.prototype.toString.call.bind(Object.prototype.toString);function s3e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(g,b,p){if(g===b)return!0;if(g==null||b==null)return!1;var x=typeof g;if(x!==typeof b)return!1;if(x!=="object")return x==="number"?i(g,b,p):x==="function"?a(g,b,p):!1;var y=g.constructor;if(y!==b.constructor)return!1;if(y===Object)return l(g,b,p);if(n3e(g))return e(g,b,p);if(GL!=null&&GL(g))return f(g,b,p);if(y===Date)return r(g,b,p);if(y===RegExp)return u(g,b,p);if(y===Map)return s(g,b,p);if(y===Set)return d(g,b,p);var w=a3e(g);return w===YBe?r(g,b,p):w===QBe?u(g,b,p):w===JBe?s(g,b,p):w===e3e?d(g,b,p):w===ZBe?typeof g.then!="function"&&typeof b.then!="function"&&l(g,b,p):w===r3e?m(g,b,p):w===KBe?n(g,b,p):w===HBe?l(g,b,p):w===GBe||w===XBe||w===t3e?c(g,b,p):!1}}function o3e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?ed:RBe,areDatesEqual:MBe,areErrorsEqual:LBe,areFunctionsEqual:FBe,areMapsEqual:n?qL(WL,ed):WL,areNumbersEqual:BBe,areObjectsEqual:n?ed:qBe,arePrimitiveWrappersEqual:VBe,areRegExpsEqual:UBe,areSetsEqual:n?qL(HL,ed):HL,areTypedArraysEqual:n?ed:zBe,areUrlsEqual:WBe};if(r&&(a=YL({},a,r(a))),e){var s=cp(a.areArraysEqual),i=cp(a.areMapsEqual),l=cp(a.areObjectsEqual),c=cp(a.areSetsEqual);a=YL({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function i3e(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function l3e(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var c3e=ei();ei({strict:!0});ei({circular:!0});ei({circular:!0,strict:!0});ei({createInternalComparator:function(){return xl}});ei({strict:!0,createInternalComparator:function(){return xl}});ei({circular:!0,createInternalComparator:function(){return xl}});ei({circular:!0,createInternalComparator:function(){return xl},strict:!0});function ei(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=o3e(t),c=s3e(l),u=n?n(c):i3e(c);return l3e({circular:r,comparator:c,createState:a,equals:u,strict:i})}function u3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function KL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):u3e(a)};requestAnimationFrame(n)}function JT(t){"@babel/helpers - typeof";return JT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JT(t)}function d3e(t){return p3e(t)||h3e(t)||m3e(t)||f3e()}function f3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m3e(t,e){if(t){if(typeof t=="string")return JL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JL(t,e)}}function JL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p3e(t){if(Array.isArray(t))return t}function g3e(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=d3e(i),c=l[0],u=l.slice(1);if(typeof c=="number"){KL(a.bind(null,u),c);return}a(c),KL(a.bind(null,u));return}JT(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function XL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ZL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(r),!0).forEach(function(n){y8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y8(t,e,r){return e=y3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y3e(t){var e=b3e(t,"string");return mm(e)==="symbol"?e:String(e)}function b3e(t,e){if(mm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},v3e=function(e){return e},j3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},tf=function(e,r){return Object.keys(r).reduce(function(n,a){return ZL(ZL({},n),{},y8({},a,e(a,r[a])))},{})},QL=function(e,r,n){return e.map(function(a){return"".concat(j3e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function w3e(t,e){return S3e(t)||N3e(t,e)||b8(t,e)||C3e()}function C3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function S3e(t){if(Array.isArray(t))return t}function A3e(t){return I3e(t)||k3e(t)||b8(t)||T3e()}function T3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b8(t,e){if(t){if(typeof t=="string")return XT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XT(t,e)}}function k3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I3e(t){if(Array.isArray(t))return XT(t)}function XT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xv=1e-4,x8=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},v8=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},eF=function(e,r){return function(n){var a=x8(e,r);return v8(a,n)}},E3e=function(e,r){return function(n){var a=x8(e,r),s=[].concat(A3e(a.map(function(i,l){return i*l}).slice(1)),[0]);return v8(s,n)}},tF=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),d=w3e(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=eF(a,i),m=eF(s,l),h=E3e(a,i),g=function(x){return x>1?1:x<0?0:x},b=function(x){for(var y=x>1?1:x,w=y,S=0;S<8;++S){var C=f(w)-y,j=h(w);if(Math.abs(C-y)<xv||j<xv)return m(w);w=g(w-C/j)}return m(w)};return b.isStepper=!1,b},O3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var h=-(d-f)*n,g=m*s,b=m+(h-g)*l/1e3,p=m*l/1e3+d;return Math.abs(p-f)<xv&&Math.abs(b)<xv?[f,0]:[p,b]};return c.isStepper=!0,c.dt=l,c},P3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tF(a);case"spring":return O3e();default:if(a.split("(")[0]==="cubic-bezier")return tF(a)}return typeof a=="function"?a:null};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function rF(t){return $3e(t)||_3e(t)||j8(t)||D3e()}function D3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $3e(t){if(Array.isArray(t))return QT(t)}function nF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(r),!0).forEach(function(n){ZT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZT(t,e,r){return e=R3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R3e(t){var e=M3e(t,"string");return hm(e)==="symbol"?e:String(e)}function M3e(t,e){if(hm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L3e(t,e){return q3e(t)||B3e(t,e)||j8(t,e)||F3e()}function F3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j8(t,e){if(t){if(typeof t=="string")return QT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QT(t,e)}}function QT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function B3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function q3e(t){if(Array.isArray(t))return t}var vv=function(e,r,n){return e+(r-e)*n},ek=function(e){var r=e.from,n=e.to;return r!==n},V3e=function t(e,r,n){var a=tf(function(s,i){if(ek(i)){var l=e(i.from,i.to,i.velocity),c=L3e(l,2),u=c[0],d=c[1];return jr(jr({},i),{},{from:u,velocity:d})}return i},r);return n<1?tf(function(s,i){return ek(i)?jr(jr({},i),{},{velocity:vv(i.velocity,a[s].velocity,n),from:vv(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const U3e=function(t,e,r,n,a){var s=x3e(t,e),i=s.reduce(function(p,x){return jr(jr({},p),{},ZT({},x,[t[x],e[x]]))},{}),l=s.reduce(function(p,x){return jr(jr({},p),{},ZT({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return tf(function(x,y){return y.from},l)},h=function(){return!Object.values(l).filter(ek).length},g=function(x){u||(u=x);var y=x-u,w=y/r.dt;l=V3e(r,l,w),a(jr(jr(jr({},t),e),m())),u=x,h()||(c=requestAnimationFrame(f))},b=function(x){d||(d=x);var y=(x-d)/n,w=tf(function(C,j){return vv.apply(void 0,rF(j).concat([r(y)]))},i);if(a(jr(jr(jr({},t),e),w)),y<1)c=requestAnimationFrame(f);else{var S=tf(function(C,j){return vv.apply(void 0,rF(j).concat([r(1)]))},i);a(jr(jr(jr({},t),e),S))}};return f=r.isStepper?g:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}var z3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function W3e(t,e){if(t==null)return{};var r=H3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function tN(t){return J3e(t)||K3e(t)||Y3e(t)||G3e()}function G3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3e(t,e){if(t){if(typeof t=="string")return tk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(t,e)}}function K3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J3e(t){if(Array.isArray(t))return tk(t)}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(r),!0).forEach(function(n){gd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gd(t,e,r){return e=w8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w8(n.key),n)}}function Q3e(t,e,r){return e&&Z3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w8(t){var e=eqe(t,"string");return zc(e)==="symbol"?e:String(e)}function eqe(t,e){if(zc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rk(t,e)}function rk(t,e){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rk(t,e)}function rqe(t){var e=nqe();return function(){var n=jv(t),a;if(e){var s=jv(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return nk(this,a)}}function nk(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ak(t)}function ak(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jv(t)}var Fo=function(t){tqe(r,t);var e=rqe(r);function r(n,a){var s;X3e(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,h=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ak(s)),s.changeStyle=s.changeStyle.bind(ak(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),nk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},nk(s);s.state={style:c?gd({},c,u):u}}else s.state={style:{}};return s}return Q3e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var h={style:c?gd({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(c3e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=g||u?f:a.to;if(this.state&&m){var p={style:c?gd({},c,b):b};(c&&m[c]!==b||!c&&m!==b)&&this.setState(p)}this.runAnimation(ra(ra({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=U3e(i,l,P3e(u),c,this.changeStyle),g=function(){s.stopJSAnimation=h()};this.manager.start([m,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(b,p,x){if(x===0)return b;var y=p.duration,w=p.easing,S=w===void 0?"ease":w,C=p.style,j=p.properties,N=p.onAnimationEnd,A=x>0?i[x-1]:p,E=j||Object.keys(C);if(typeof S=="function"||S==="spring")return[].concat(tN(b),[s.runJSAnimation.bind(s,{from:A.style,to:C,duration:y,easing:S}),y]);var T=QL(E,y,S),I=ra(ra(ra({},A.style),C),{},{transition:T});return[].concat(tN(b),[I,y,N]).filter(v3e)};return this.manager.start([c].concat(tN(i.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=g3e());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var b=l?gd({},l,c):c,p=QL(Object.keys(b),i,u);g.start([d,s,ra(ra({},b),{},{transition:p}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=W3e(a,z3e),u=v.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(h){var g=h.props,b=g.style,p=b===void 0?{}:b,x=g.className,y=v.cloneElement(h,ra(ra({},c),{},{style:ra(ra({},p),d),className:x}));return y};return u===1?f(v.Children.only(s)):V.createElement("div",null,v.Children.map(s,function(m){return f(m)}))}}]),r}(v.PureComponent);Fo.displayName="Animate";Fo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fo.propTypes={from:nt.oneOfType([nt.object,nt.string]),to:nt.oneOfType([nt.object,nt.string]),attributeName:nt.string,duration:nt.number,begin:nt.number,easing:nt.oneOfType([nt.string,nt.func]),steps:nt.arrayOf(nt.shape({duration:nt.number.isRequired,style:nt.object.isRequired,easing:nt.oneOfType([nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nt.func]),properties:nt.arrayOf("string"),onAnimationEnd:nt.func})),children:nt.oneOfType([nt.node,nt.func]),isActive:nt.bool,canBegin:nt.bool,onAnimationEnd:nt.func,shouldReAnimate:nt.bool,onAnimationStart:nt.func,onAnimationReStart:nt.func};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wv.apply(this,arguments)}function aqe(t,e){return lqe(t)||iqe(t,e)||oqe(t,e)||sqe()}function sqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oqe(t,e){if(t){if(typeof t=="string")return sF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sF(t,e)}}function sF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function lqe(t){if(Array.isArray(t))return t}function oF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(r),!0).forEach(function(n){cqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cqe(t,e,r){return e=uqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uqe(t){var e=dqe(t,"string");return pm(e)=="symbol"?e:e+""}function dqe(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lF=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var g=Math.min(i,s);d="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},fqe=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},mqe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FO=function(e){var r=iF(iF({},mqe),e),n=v.useRef(),a=v.useState(-1),s=aqe(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,g=r.animationEasing,b=r.animationDuration,p=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=$e("recharts-rectangle",h);return y?V.createElement(Fo,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:b,animationEasing:g,isActive:y},function(S){var C=S.width,j=S.height,N=S.x,A=S.y;return V.createElement(Fo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:b,isActive:x,easing:g},V.createElement("path",wv({},Ve(r,!0),{className:w,d:lF(N,A,C,j,m),ref:n})))}):V.createElement("path",wv({},Ve(r,!0),{className:w,d:lF(c,u,d,f,m)}))},hqe=["points","className","baseLinePoints","connectNulls"];function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hl.apply(this,arguments)}function pqe(t,e){if(t==null)return{};var r=gqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cF(t){return vqe(t)||xqe(t)||bqe(t)||yqe()}function yqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bqe(t,e){if(t){if(typeof t=="string")return sk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(t,e)}}function xqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vqe(t){if(Array.isArray(t))return sk(t)}function sk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var uF=function(e){return e&&e.x===+e.x&&e.y===+e.y},jqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){uF(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),uF(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},rf=function(e,r){var n=jqe(e);r&&(n=[n.reduce(function(s,i){return[].concat(cF(s),cF(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},wqe=function(e,r,n){var a=rf(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(rf(r.reverse(),n).slice(1))},Cqe=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=pqe(e,hqe);if(!r||!r.length)return null;var l=$e("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=wqe(r,a,s);return V.createElement("g",{className:l},V.createElement("path",Hl({},Ve(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?V.createElement("path",Hl({},Ve(i,!0),{fill:"none",d:rf(r,s)})):null,c?V.createElement("path",Hl({},Ve(i,!0),{fill:"none",d:rf(a,s)})):null)}var d=rf(r,s);return V.createElement("path",Hl({},Ve(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function ok(){return ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ok.apply(this,arguments)}var BO=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=$e("recharts-dot",s);return r===+r&&n===+n&&a===+a?V.createElement("circle",ok({},Ve(e,!1),zx(e),{className:i,cx:r,cy:n,r:a})):null};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}var Nqe=["x","y","top","left","width","height","className"];function ik(){return ik=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ik.apply(this,arguments)}function dF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sqe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dF(Object(r),!0).forEach(function(n){Aqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aqe(t,e,r){return e=Tqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tqe(t){var e=kqe(t,"string");return gm(e)=="symbol"?e:e+""}function kqe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iqe(t,e){if(t==null)return{};var r=Eqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Oqe=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},Pqe=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,g=e.className,b=Iqe(e,Nqe),p=Sqe({x:n,y:s,top:l,left:u,width:f,height:h},b);return!be(n)||!be(s)||!be(f)||!be(h)||!be(l)||!be(u)?null:V.createElement("path",ik({},Ve(p,!0),{className:$e("recharts-cross",g),d:Oqe(n,s,f,h,l,u)}))},Dqe=Cw,_qe=F7,$qe=Xo;function Rqe(t,e){return t&&t.length?Dqe(t,$qe(e),_qe):void 0}var Mqe=Rqe;const Lqe=rt(Mqe);var Fqe=Cw,Bqe=Xo,qqe=B7;function Vqe(t,e){return t&&t.length?Fqe(t,Bqe(e),qqe):void 0}var Uqe=Vqe;const zqe=rt(Uqe);var Wqe=["cx","cy","angle","ticks","axisLine"],Hqe=["ticks","tick","angle","tickFormatter","stroke"];function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nf.apply(this,arguments)}function fF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(r),!0).forEach(function(n){kw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mF(t,e){if(t==null)return{};var r=Gqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,N8(n.key),n)}}function Kqe(t,e,r){return e&&hF(t.prototype,e),r&&hF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jqe(t,e,r){return e=Cv(e),Xqe(t,C8()?Reflect.construct(e,r||[],Cv(t).constructor):e.apply(t,r))}function Xqe(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zqe(t)}function Zqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C8=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cv(t)}function Qqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lk(t,e)}function lk(t,e){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lk(t,e)}function kw(t,e,r){return e=N8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N8(t){var e=e6e(t,"string");return Wc(e)=="symbol"?e:e+""}function e6e(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iw=function(t){function e(){return Yqe(this,e),Jqe(this,e,arguments)}return Qqe(e,t),Kqe(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return vt(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=Lqe(l,function(d){return d.coordinate||0}),u=zqe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=mF(n,Wqe),d=l.reduce(function(g,b){return[Math.min(g[0],b.coordinate),Math.max(g[1],b.coordinate)]},[1/0,-1/0]),f=vt(a,s,d[0],i),m=vt(a,s,d[1],i),h=ci(ci(ci({},Ve(u,!1)),{},{fill:"none"},Ve(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return V.createElement("line",nf({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=mF(a,Hqe),f=this.getTickTextAnchor(),m=Ve(d,!1),h=Ve(i,!1),g=s.map(function(b,p){var x=n.getTickValueCoord(b),y=ci(ci(ci(ci({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:p},x),{},{payload:b});return V.createElement(Ut,nf({className:$e("recharts-polar-radius-axis-tick",c8(i)),key:"tick-".concat(b.coordinate)},iw(n.props,b,p)),e.renderTickItem(i,y,c?c(b.value,p):b.value))});return V.createElement(Ut,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:V.createElement(Ut,{className:$e("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Nr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return V.isValidElement(n)?i=V.cloneElement(n,a):Ue(n)?i=n(a):i=V.createElement(Lc,nf({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(v.PureComponent);kw(Iw,"displayName","PolarRadiusAxis");kw(Iw,"axisType","radiusAxis");kw(Iw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function vi(){return vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vi.apply(this,arguments)}function pF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(r),!0).forEach(function(n){Ew(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A8(n.key),n)}}function r6e(t,e,r){return e&&gF(t.prototype,e),r&&gF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n6e(t,e,r){return e=Nv(e),a6e(t,S8()?Reflect.construct(e,r||[],Nv(t).constructor):e.apply(t,r))}function a6e(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s6e(t)}function s6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S8=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nv(t)}function o6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ck(t,e)}function ck(t,e){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ck(t,e)}function Ew(t,e,r){return e=A8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A8(t){var e=i6e(t,"string");return Hc(e)=="symbol"?e:e+""}function i6e(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l6e=Math.PI/180,c6e=1e-5,Ow=function(t){function e(){return t6e(this,e),n6e(this,e,arguments)}return o6e(e,t),r6e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=vt(s,i,l,n.coordinate),m=vt(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*l6e),i;return s>c6e?i=a==="outer"?"start":"end":s<-1e-5?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=ui(ui({},Ve(this.props,!1)),{},{fill:"none"},Ve(l,!1));if(c==="circle")return V.createElement(BO,vi({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return vt(a,s,i,m.coordinate)});return V.createElement(Cqe,vi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ve(this.props,!1),f=Ve(i,!1),m=ui(ui({},d),{},{fill:"none"},Ve(l,!1)),h=s.map(function(g,b){var p=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),y=ui(ui(ui({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:b,payload:g,x:p.x2,y:p.y2});return V.createElement(Ut,vi({className:$e("recharts-polar-angle-axis-tick",c8(i)),key:"tick-".concat(g.coordinate)},iw(n.props,g,b)),l&&V.createElement("line",vi({className:"recharts-polar-angle-axis-tick-line"},m,p)),i&&e.renderTickItem(i,y,c?c(g.value,b):g.value))});return V.createElement(Ut,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:V.createElement(Ut,{className:$e("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return V.isValidElement(n)?i=V.cloneElement(n,a):Ue(n)?i=n(a):i=V.createElement(Lc,vi({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(v.PureComponent);Ew(Ow,"displayName","PolarAngleAxis");Ew(Ow,"axisType","angleAxis");Ew(Ow,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var u6e=Rz,d6e=u6e(Object.getPrototypeOf,Object),f6e=d6e,m6e=Bs,h6e=f6e,p6e=qs,g6e="[object Object]",y6e=Function.prototype,b6e=Object.prototype,T8=y6e.toString,x6e=b6e.hasOwnProperty,v6e=T8.call(Object);function j6e(t){if(!p6e(t)||m6e(t)!=g6e)return!1;var e=h6e(t);if(e===null)return!0;var r=x6e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&T8.call(r)==v6e}var w6e=j6e;const C6e=rt(w6e);var N6e=Bs,S6e=qs,A6e="[object Boolean]";function T6e(t){return t===!0||t===!1||S6e(t)&&N6e(t)==A6e}var k6e=T6e;const I6e=rt(k6e);function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sv.apply(this,arguments)}function E6e(t,e){return _6e(t)||D6e(t,e)||P6e(t,e)||O6e()}function O6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P6e(t,e){if(t){if(typeof t=="string")return yF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yF(t,e)}}function yF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function _6e(t){if(Array.isArray(t))return t}function bF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(r),!0).forEach(function(n){$6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $6e(t,e,r){return e=R6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R6e(t){var e=M6e(t,"string");return ym(e)=="symbol"?e:e+""}function M6e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vF=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},L6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},F6e=function(e){var r=xF(xF({},L6e),e),n=v.useRef(),a=v.useState(-1),s=E6e(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,g=r.animationEasing,b=r.animationDuration,p=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var y=$e("recharts-trapezoid",h);return x?V.createElement(Fo,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:b,animationEasing:g,isActive:x},function(w){var S=w.upperWidth,C=w.lowerWidth,j=w.height,N=w.x,A=w.y;return V.createElement(Fo,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:b,easing:g},V.createElement("path",Sv({},Ve(r,!0),{className:y,d:vF(N,A,S,C,j),ref:n})))}):V.createElement("g",null,V.createElement("path",Sv({},Ve(r,!0),{className:y,d:vF(c,u,d,f,m)})))},B6e=["option","shapeType","propTransformer","activeClassName","isActive"];function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function q6e(t,e){if(t==null)return{};var r=V6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Av(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(r),!0).forEach(function(n){U6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U6e(t,e,r){return e=z6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z6e(t){var e=W6e(t,"string");return bm(e)=="symbol"?e:e+""}function W6e(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H6e(t,e){return Av(Av({},e),t)}function G6e(t,e){return t==="symbols"}function wF(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return V.createElement(FO,r);case"trapezoid":return V.createElement(F6e,r);case"sector":return V.createElement(f8,r);case"symbols":if(G6e(e))return V.createElement(tO,r);break;default:return null}}function Y6e(t){return v.isValidElement(t)?t.props:t}function K6e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?H6e:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=q6e(t,B6e),u;if(v.isValidElement(e))u=v.cloneElement(e,Av(Av({},c),Y6e(e)));else if(Ue(e))u=e(c);else if(C6e(e)&&!I6e(e)){var d=a(e,c);u=V.createElement(wF,{shapeType:r,elementProps:d})}else{var f=c;u=V.createElement(wF,{shapeType:r,elementProps:f})}return l?V.createElement(Ut,{className:i},u):u}function Pw(t,e){return e!=null&&"trapezoids"in t.props}function Dw(t,e){return e!=null&&"sectors"in t.props}function xm(t,e){return e!=null&&"points"in t.props}function J6e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function X6e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Z6e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function Q6e(t,e){var r;return Pw(t,e)?r=J6e:Dw(t,e)?r=X6e:xm(t,e)&&(r=Z6e),r}function eVe(t,e){var r;return Pw(t,e)?r="trapezoids":Dw(t,e)?r="sectors":xm(t,e)&&(r="points"),r}function tVe(t,e){if(Pw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Dw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return xm(t,e)?e.payload:{}}function rVe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=eVe(r,e),s=tVe(r,e),i=n.filter(function(c,u){var d=_O(s,c),f=r.props[a].filter(function(g){var b=Q6e(r,e);return b(g,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(i[i.length-1]);return l}var Rb;function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gl.apply(this,arguments)}function CF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(r),!0).forEach(function(n){qn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I8(n.key),n)}}function aVe(t,e,r){return e&&NF(t.prototype,e),r&&NF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sVe(t,e,r){return e=Tv(e),oVe(t,k8()?Reflect.construct(e,r||[],Tv(t).constructor):e.apply(t,r))}function oVe(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iVe(t)}function iVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k8=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(t)}function lVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uk(t,e)}function uk(t,e){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uk(t,e)}function qn(t,e,r){return e=I8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I8(t){var e=cVe(t,"string");return Gc(e)=="symbol"?e:e+""}function cVe(t,e){if(Gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qn=function(t){function e(r){var n;return nVe(this,e),n=sVe(this,e,[r]),qn(n,"pieRef",null),qn(n,"sectorRefs",[]),qn(n,"id",ow("recharts-pie-")),qn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ue(a)&&a()}),qn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ue(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return lVe(e,t),aVe(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Ve(this.props,!1),f=Ve(i,!1),m=Ve(l,!1),h=i&&i.offsetRadius||20,g=n.map(function(b,p){var x=(b.startAngle+b.endAngle)/2,y=vt(b.cx,b.cy,b.outerRadius+h,x),w=gt(gt(gt(gt({},d),b),{},{stroke:"none"},f),{},{index:p,textAnchor:e.getTextAnchor(y.x,b.cx)},y),S=gt(gt(gt(gt({},d),b),{},{fill:"none",stroke:b.fill},m),{},{index:p,points:[vt(b.cx,b.cy,b.outerRadius,x),y]}),C=c;return Ye(c)&&Ye(u)?C="value":Ye(c)&&(C=u),V.createElement(Ut,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(p)},l&&e.renderLabelLineItem(l,S,"line"),e.renderLabelItem(i,w,pn(b,C)))});return V.createElement(Ut,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?i:m,g=gt(gt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return V.createElement(Ut,Gl({ref:function(p){p&&!a.sectorRefs.includes(p)&&a.sectorRefs.push(p)},tabIndex:-1,className:"recharts-pie-sector"},iw(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),V.createElement(K6e,Gl({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return V.createElement(Fo,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var b=g.t,p=[],x=s&&s[0],y=x.startAngle;return s.forEach(function(w,S){var C=m&&m[S],j=S>0?pa(w,"paddingAngle",0):0;if(C){var N=yR(C.endAngle-C.startAngle,w.endAngle-w.startAngle),A=gt(gt({},w),{},{startAngle:y+j,endAngle:y+N(b)+j});p.push(A),y=A.endAngle}else{var E=w.endAngle,T=w.startAngle,I=yR(0,E-T),P=I(b),M=gt(gt({},w),{},{startAngle:y+j,endAngle:y+P+j});p.push(M),y=M.endAngle}}),V.createElement(Ut,null,n.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!_O(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!i||!i.length||!be(u)||!be(d)||!be(f)||!be(m))return null;var b=$e("recharts-pie",l);return V.createElement(Ut,{tabIndex:this.props.rootTabIndex,className:b,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(i),Nr.renderCallByParent(this.props,null,!1),(!h||g)&&qi.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(V.isValidElement(n))return V.cloneElement(n,a);if(Ue(n))return n(a);var i=$e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return V.createElement(KT,Gl({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(V.isValidElement(n))return V.cloneElement(n,a);var i=s;if(Ue(n)&&(i=n(a),V.isValidElement(i)))return i;var l=$e("recharts-pie-label-text",typeof n!="boolean"&&!Ue(n)?n.className:"");return V.createElement(Lc,Gl({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(v.PureComponent);Rb=Qn;qn(Qn,"displayName","Pie");qn(Qn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qn(Qn,"parseDeltaAngle",function(t,e){var r=Un(e-t),n=Math.min(Math.abs(e-t),360);return r*n});qn(Qn,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ve(t,!1),a=Fa(r,xu);return e&&e.length?e.map(function(s,i){return gt(gt(gt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return gt(gt({},n),s.props)}):[]});qn(Qn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=l8(a,s),l=n+Zr(t.cx,a,a/2),c=r+Zr(t.cy,s,s/2),u=Zr(t.innerRadius,i,0),d=Zr(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});qn(Qn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?gt(gt({},e.type.defaultProps),e.props):e.props,a=Rb.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),g=Rb.parseCoordinateOfPie(n,r),b=Rb.parseDeltaAngle(i,l),p=Math.abs(b),x=u;Ye(u)&&Ye(f)?(ws(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ye(u)&&(ws(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(A){return pn(A,x,0)!==0}).length,w=(p>=360?y:y-1)*c,S=p-y*h-w,C=a.reduce(function(A,E){var T=pn(E,x,0);return A+(be(T)?T:0)},0),j;if(C>0){var N;j=a.map(function(A,E){var T=pn(A,x,0),I=pn(A,d,E),P=(be(T)?T:0)/C,M;E?M=N.endAngle+Un(b)*c*(T!==0?1:0):M=i;var $=M+Un(b)*((T!==0?h:0)+P*S),_=(M+$)/2,B=(g.innerRadius+g.outerRadius)/2,U=[{name:I,value:T,payload:A,dataKey:x,type:m}],D=vt(g.cx,g.cy,B,_);return N=gt(gt(gt({percent:P,cornerRadius:s,name:I,tooltipPayload:U,midAngle:_,middleRadius:B,tooltipPosition:D},A),g),{},{value:pn(A,x),startAngle:M,endAngle:$,payload:A,paddingAngle:Un(b)*c}),N})}return gt(gt({},g),{},{sectors:j,data:a})});var uVe=Math.ceil,dVe=Math.max;function fVe(t,e,r,n){for(var a=-1,s=dVe(uVe((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var mVe=fVe,hVe=e7,pVe=1/0,gVe=17976931348623157e292;function yVe(t){if(!t)return t===0?t:0;if(t=hVe(t),t===pVe||t===-1/0){var e=t<0?-1:1;return e*gVe}return t===t?t:0}var bVe=yVe,xVe=mVe,vVe=hw,rN=bVe;function jVe(t){return function(e,r,n){return n&&typeof n!="number"&&vVe(e,r,n)&&(r=n=void 0),e=rN(e),r===void 0?(r=e,e=0):r=rN(r),n=n===void 0?e<r?1:-1:rN(n),xVe(e,r,n,t)}}var wVe=jVe,CVe=wVe,NVe=CVe(),SVe=NVe;const kv=rt(SVe);function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function SF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SF(Object(r),!0).forEach(function(n){E8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E8(t,e,r){return e=AVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AVe(t){var e=TVe(t,"string");return vm(e)=="symbol"?e:e+""}function TVe(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kVe=["Webkit","Moz","O","ms"],IVe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=kVe.reduce(function(s,i){return AF(AF({},s),{},E8({},i+n,r))},{});return a[e]=r,a};function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function Iv(){return Iv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iv.apply(this,arguments)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){dn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P8(n.key),n)}}function OVe(t,e,r){return e&&kF(t.prototype,e),r&&kF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PVe(t,e,r){return e=Ev(e),DVe(t,O8()?Reflect.construct(e,r||[],Ev(t).constructor):e.apply(t,r))}function DVe(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ve(t)}function _Ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O8=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ev(t)}function $Ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dk(t,e)}function dk(t,e){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dk(t,e)}function dn(t,e,r){return e=P8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P8(t){var e=RVe(t,"string");return Yc(e)=="symbol"?e:e+""}function RVe(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MVe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Qd().domain(kv(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},IF=function(e){return e.changedTouches&&!!e.changedTouches.length},Kc=function(t){function e(r){var n;return EVe(this,e),n=PVe(this,e,[r]),dn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),dn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),dn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),dn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),dn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),dn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),dn(n,"handleSlideDragStart",function(a){var s=IF(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return $Ve(e,t),OVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),h=e.getIndexInRange(i,f),g=e.getIndexInRange(i,m);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=pn(s[n],l,n);return Ue(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,g=c.onChange,b=n.pageX-s;b>0?b=Math.min(b,u+d-f-l,u+d-f-i):b<0&&(b=Math.max(b,u-i,u-l));var p=this.getIndex({startX:i+b,endX:l+b});(p.startIndex!==m||p.endIndex!==h)&&g&&g(p),this.setState({startX:i+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=IF(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,g=d.onChange,b=d.gap,p=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+m-h-u):y<0&&(y=Math.max(y,f-u)),x[i]=u+y;var w=this.getIndex(x),S=w.startIndex,C=w.endIndex,j=function(){var A=p.length-1;return i==="startX"&&(l>c?S%b===0:C%b===0)||l<c&&C===A||i==="endX"&&(l>c?C%b===0:S%b===0)||l>c&&C===A};this.setState(dn(dn({},i,u+y),"brushMoveStartX",n.pageX),function(){g&&j()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(dn({},a,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return V.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?V.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,g=c.data,b=c.startIndex,p=c.endIndex,x=Math.max(n,this.props.x),y=nN(nN({},Ve(this.props,!1)),{},{x,y:u,width:d,height:f}),w=h||"Min value: ".concat((s=g[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=g[p])===null||i===void 0?void 0:i.name);return V.createElement(Ut,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,g={pointerEvents:"none",fill:u};return V.createElement(Ut,{className:"recharts-brush-texts"},V.createElement(Lc,Iv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:i+l/2},g),this.getTextOfTick(a)),V.createElement(Lc,Iv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:i+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,g=m.endX,b=m.isTextActive,p=m.isSlideMoving,x=m.isTravellerMoving,y=m.isTravellerFocused;if(!a||!a.length||!be(l)||!be(c)||!be(u)||!be(d)||u<=0||d<=0)return null;var w=$e("recharts-brush",s),S=V.Children.count(i)===1,C=IVe("userSelect","none");return V.createElement(Ut,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(b||p||x||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return V.isValidElement(n)?s=V.cloneElement(n,a):Ue(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return nN({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?MVe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(v.PureComponent);dn(Kc,"displayName","Brush");dn(Kc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var LVe=cO;function FVe(t,e){var r;return LVe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var BVe=FVe,qVe=kz,VVe=Xo,UVe=BVe,zVe=cn,WVe=hw;function HVe(t,e,r){var n=zVe(t)?qVe:UVe;return r&&WVe(t,e,r)&&(e=void 0),n(t,VVe(e))}var GVe=HVe;const YVe=rt(GVe);var Va=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},EF=Kz;function KVe(t,e,r){e=="__proto__"&&EF?EF(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var JVe=KVe,XVe=JVe,ZVe=Gz,QVe=Xo;function eUe(t,e){var r={};return e=QVe(e),ZVe(t,function(n,a,s){XVe(r,a,e(n,a,s))}),r}var tUe=eUe;const rUe=rt(tUe);function nUe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var aUe=nUe,sUe=cO;function oUe(t,e){var r=!0;return sUe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var iUe=oUe,lUe=aUe,cUe=iUe,uUe=Xo,dUe=cn,fUe=hw;function mUe(t,e,r){var n=dUe(t)?lUe:cUe;return r&&fUe(t,e,r)&&(e=void 0),n(t,uUe(e))}var hUe=mUe;const pUe=rt(hUe);function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function gUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D8(n.key),n)}}function yUe(t,e,r){return e&&OF(t.prototype,e),r&&OF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function up(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(r),!0).forEach(function(n){qO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qO(t,e,r){return e=D8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D8(t){var e=bUe(t,"string");return jm(e)=="symbol"?e:e+""}function bUe(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _8=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},xUe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return _8({x:r,y:n},{x:a,y:s})},$8=function(){function t(e){gUe(this,t),this.scale=e}return yUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();qO($8,"EPS",1e-4);var VO=function(e){var r=Object.keys(e).reduce(function(n,a){return up(up({},n),{},qO({},a,$8.create(e[a])))},{});return up(up({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return rUe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return pUe(a,function(s,i){return r[i].isInRange(s)})}})},vUe=JSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),R8=v.createContext(void 0),M8=v.createContext(void 0),L8=v.createContext(void 0),jUe=v.createContext({}),F8=v.createContext(void 0),wUe=v.createContext(0),CUe=v.createContext(0),DF=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=vUe(s);return V.createElement(R8.Provider,{value:n},V.createElement(M8.Provider,{value:a},V.createElement(jUe.Provider,{value:s},V.createElement(L8.Provider,{value:d},V.createElement(F8.Provider,{value:i},V.createElement(wUe.Provider,{value:u},V.createElement(CUe.Provider,{value:c},l)))))))},NUe=function(){return v.useContext(F8)},SUe=function(e){var r=v.useContext(R8);r==null&&Vc();var n=r[e];return n==null&&Vc(),n},AUe=function(e){var r=v.useContext(M8);r==null&&Vc();var n=r[e];return n==null&&Vc(),n},TUe=function(){var e=v.useContext(L8);return e};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function kUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,q8(n.key),n)}}function EUe(t,e,r){return e&&IUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OUe(t,e,r){return e=Ov(e),PUe(t,B8()?Reflect.construct(e,r||[],Ov(t).constructor):e.apply(t,r))}function PUe(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DUe(t)}function DUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B8=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(t)}function _Ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fk(t,e)}function fk(t,e){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fk(t,e)}function _F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(r),!0).forEach(function(n){UO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_F(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UO(t,e,r){return e=q8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q8(t){var e=$Ue(t,"string");return Jc(e)=="symbol"?e:e+""}function $Ue(t,e){if(Jc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RUe(t,e){return BUe(t)||FUe(t,e)||LUe(t,e)||MUe()}function MUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LUe(t,e){if(t){if(typeof t=="string")return RF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RF(t,e)}}function RF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function BUe(t){if(Array.isArray(t))return t}function mk(){return mk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mk.apply(this,arguments)}var qUe=function(e,r){var n;return V.isValidElement(e)?n=V.cloneElement(e,r):Ue(e)?n=e(r):n=V.createElement("line",mk({},r,{className:"recharts-reference-line-line"})),n},VUe=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,h=s.height;if(n){var g=u.y,b=e.y.apply(g,{position:i});if(Va(u,"discard")&&!e.y.isInRange(b))return null;var p=[{x:d+m,y:b},{x:d,y:b}];return c==="left"?p.reverse():p}if(r){var x=u.x,y=e.x.apply(x,{position:i});if(Va(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:f+h},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var S=u.segment,C=S.map(function(j){return e.apply(j,{position:i})});return Va(u,"discard")&&YVe(C,function(j){return!e.isInRange(j)})?null:C}return null};function UUe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=NUe(),d=SUe(a),f=AUe(s),m=TUe();if(!u||!m)return null;ws(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=VO({x:d.scale,y:f.scale}),g=lr(e),b=lr(r),p=n&&n.length===2,x=VUe(h,g,b,p,m,t.position,d.orientation,f.orientation,t);if(!x)return null;var y=RUe(x,2),w=y[0],S=w.x,C=w.y,j=y[1],N=j.x,A=j.y,E=Va(t,"hidden")?"url(#".concat(u,")"):void 0,T=$F($F({clipPath:E},Ve(t,!0)),{},{x1:S,y1:C,x2:N,y2:A});return V.createElement(Ut,{className:$e("recharts-reference-line",l)},qUe(i,T),Nr.renderCallByParent(t,xUe({x1:S,y1:C,x2:N,y2:A})))}var zO=function(t){function e(){return kUe(this,e),OUe(this,e,arguments)}return _Ue(e,t),EUe(e,[{key:"render",value:function(){return V.createElement(UUe,this.props)}}])}(V.Component);UO(zO,"displayName","ReferenceLine");UO(zO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hk(){return hk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hk.apply(this,arguments)}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function MF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MF(Object(r),!0).forEach(function(n){_w(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U8(n.key),n)}}function HUe(t,e,r){return e&&WUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GUe(t,e,r){return e=Pv(e),YUe(t,V8()?Reflect.construct(e,r||[],Pv(t).constructor):e.apply(t,r))}function YUe(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KUe(t)}function KUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V8=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pv(t)}function JUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pk(t,e)}function pk(t,e){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pk(t,e)}function _w(t,e,r){return e=U8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U8(t){var e=XUe(t,"string");return Xc(e)=="symbol"?e:e+""}function XUe(t,e){if(Xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZUe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=VO({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return Va(e,"discard")&&!i.isInRange(l)?null:l},$w=function(t){function e(){return zUe(this,e),GUe(this,e,arguments)}return JUe(e,t),HUe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=lr(a),d=lr(s);if(ws(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=ZUe(this.props);if(!f)return null;var m=f.x,h=f.y,g=this.props,b=g.shape,p=g.className,x=Va(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=LF(LF({clipPath:x},Ve(this.props,!0)),{},{cx:m,cy:h});return V.createElement(Ut,{className:$e("recharts-reference-dot",p)},e.renderDot(b,y),Nr.renderCallByParent(this.props,{x:m-i,y:h-i,width:2*i,height:2*i}))}}])}(V.Component);_w($w,"displayName","ReferenceDot");_w($w,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});_w($w,"renderDot",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):Ue(t)?r=t(e):r=V.createElement(BO,hk({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gk.apply(this,arguments)}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){Rw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W8(n.key),n)}}function tze(t,e,r){return e&&eze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rze(t,e,r){return e=Dv(e),nze(t,z8()?Reflect.construct(e,r||[],Dv(t).constructor):e.apply(t,r))}function nze(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aze(t)}function aze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z8=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(t)}function sze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yk(t,e)}function yk(t,e){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(t,e)}function Rw(t,e,r){return e=W8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W8(t){var e=oze(t,"string");return Zc(e)=="symbol"?e:e+""}function oze(t,e){if(Zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ize=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=VO({x:d.scale,y:f.scale}),h={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},g={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Va(s,"discard")&&(!m.isInRange(h)||!m.isInRange(g))?null:_8(h,g)},Mw=function(t){function e(){return QUe(this,e),rze(this,e,arguments)}return sze(e,t),tze(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ws(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=lr(a),m=lr(s),h=lr(i),g=lr(l),b=this.props.shape;if(!f&&!m&&!h&&!g&&!b)return null;var p=ize(f,m,h,g,this.props);if(!p&&!b)return null;var x=Va(this.props,"hidden")?"url(#".concat(d,")"):void 0;return V.createElement(Ut,{className:$e("recharts-reference-area",c)},e.renderRect(b,BF(BF({clipPath:x},Ve(this.props,!0)),p)),Nr.renderCallByParent(this.props,p))}}])}(V.Component);Rw(Mw,"displayName","ReferenceArea");Rw(Mw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rw(Mw,"renderRect",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):Ue(t)?r=t(e):r=V.createElement(FO,gk({},e,{className:"recharts-reference-area-rect"})),r});function qF(t){return dze(t)||uze(t)||cze(t)||lze()}function lze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cze(t,e){if(t){if(typeof t=="string")return bk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(t,e)}}function uze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dze(t){if(Array.isArray(t))return bk(t)}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var xk=function(e,r,n,a,s){var i=Fa(e,zO),l=Fa(e,$w),c=[].concat(qF(i),qF(l)),u=Fa(e,Mw),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(b,p){if(p.props[d]===n&&Va(p.props,"extendDomain")&&be(p.props[f])){var x=p.props[f];return[Math.min(b[0],x),Math.max(b[1],x)]}return b},m)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");m=u.reduce(function(b,p){if(p.props[d]===n&&Va(p.props,"extendDomain")&&be(p.props[h])&&be(p.props[g])){var x=p.props[h],y=p.props[g];return[Math.min(b[0],x,y),Math.max(b[1],x,y)]}return b},m)}return s&&s.length&&(m=s.reduce(function(b,p){return be(p)?[Math.min(b[0],p),Math.max(b[1],p)]:b},m)),m},H8={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,g=new Array(h);m<h;m++)g[m]=f[m].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,g){var b=r?r+u:u;if(!this._events[b])return!1;var p=this._events[b],x=arguments.length,y,w;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),x){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,f),!0;case 4:return p.fn.call(p.context,d,f,m),!0;case 5:return p.fn.call(p.context,d,f,m,h),!0;case 6:return p.fn.call(p.context,d,f,m,h,g),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];p.fn.apply(p.context,y)}else{var S=p.length,C;for(w=0;w<S;w++)switch(p[w].once&&this.removeListener(u,p[w].fn,void 0,!0),x){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,d);break;case 3:p[w].fn.call(p[w].context,d,f);break;case 4:p[w].fn.call(p[w].context,d,f,m);break;default:if(!y)for(C=1,y=new Array(x-1);C<x;C++)y[C-1]=arguments[C];p[w].fn.apply(p[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&i(this,h);else{for(var b=0,p=[],x=g.length;b<x;b++)(g[b].fn!==d||m&&!g[b].once||f&&g[b].context!==f)&&p.push(g[b]);p.length?this._events[h]=p.length===1?p[0]:p:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(H8);var fze=H8.exports;const mze=rt(fze);var aN=new mze,sN="recharts.syncMouseEvents";function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function hze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G8(n.key),n)}}function gze(t,e,r){return e&&pze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oN(t,e,r){return e=G8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G8(t){var e=yze(t,"string");return wm(e)=="symbol"?e:e+""}function yze(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bze=function(){function t(){hze(this,t),oN(this,"activeIndex",0),oN(this,"coordinateList",[]),oN(this,"layout","horizontal")}return gze(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function xze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&be(n)&&be(a))return!0}return!1}function vze(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Y8(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=vt(e,r,n,a),l=vt(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function jze(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=vt(l,c,u,f),h=vt(l,c,d,f);n=m.x,a=m.y,s=h.x,i=h.y}else return Y8(e);return[{x:n,y:a},{x:s,y:i}]}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){wze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wze(t,e,r){return e=Cze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cze(t){var e=Nze(t,"string");return Cm(e)=="symbol"?e:e+""}function Nze(t,e){if(Cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sze(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var g,b=KT;if(m==="ScatterChart")g=i,b=Pqe;else if(m==="BarChart")g=vze(f,i,c,d),b=FO;else if(f==="radial"){var p=Y8(i),x=p.cx,y=p.cy,w=p.radius,S=p.startAngle,C=p.endAngle;g={cx:x,cy:y,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},b=f8}else g={points:jze(f,i,c)},b=KT;var j=dp(dp(dp(dp({stroke:"#ccc",pointerEvents:"none"},c),g),Ve(h,!1)),{},{payload:l,payloadIndex:u,className:$e("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,j):v.createElement(b,j)}var Aze=["item"],Tze=["children","className","width","height","style","compact","title","desc"];function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Yl(){return Yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yl.apply(this,arguments)}function UF(t,e){return Eze(t)||Ize(t,e)||J8(t,e)||kze()}function kze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ize(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Eze(t){if(Array.isArray(t))return t}function zF(t,e){if(t==null)return{};var r=Oze(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Pze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,X8(n.key),n)}}function _ze(t,e,r){return e&&Dze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ze(t,e,r){return e=_v(e),Rze(t,K8()?Reflect.construct(e,r||[],_v(t).constructor):e.apply(t,r))}function Rze(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mze(t)}function Mze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K8=function(){return!!t})()}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_v(t)}function Lze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vk(t,e)}function vk(t,e){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vk(t,e)}function eu(t){return qze(t)||Bze(t)||J8(t)||Fze()}function Fze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J8(t,e){if(t){if(typeof t=="string")return jk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jk(t,e)}}function Bze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qze(t){if(Array.isArray(t))return jk(t)}function jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){Oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oe(t,e,r){return e=X8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X8(t){var e=Vze(t,"string");return Qc(e)=="symbol"?e:e+""}function Vze(t,e){if(Qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uze={xAxis:["bottom","top"],yAxis:["left","right"]},zze={width:"100%",height:"100%"},Z8={x:0,y:0};function fp(t){return t}var Wze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Hze=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return re(re(re({},a),vt(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return re(re(re({},a),vt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Z8},Lw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(eu(l),eu(u)):l},[]);return i.length>0?i:e&&e.length&&be(a)&&be(s)?e.slice(a,s+1):[]};function Q8(t){return t==="number"?[0,"auto"]:void 0}var wk=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Lw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var h=f===void 0?l:f;m=tT(h,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(eu(c),[y4e(u,m)]):c},[])},HF=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=Wze(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=t4e(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=wk(e,r,d,f),h=Hze(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},Gze=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=s8(d,s);return n.reduce(function(g,b){var p,x=b.type.defaultProps!==void 0?re(re({},b.type.defaultProps),b.props):b.props,y=x.type,w=x.dataKey,S=x.allowDataOverflow,C=x.allowDuplicatedCategory,j=x.scale,N=x.ticks,A=x.includeHidden,E=x[i];if(g[E])return g;var T=Lw(e.data,{graphicalItems:a.filter(function(W){var ee,fe=i in W.props?W.props[i]:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee[i];return fe===E}),dataStartIndex:c,dataEndIndex:u}),I=T.length,P,M,$;xze(x.domain,S,y)&&(P=UT(x.domain,null,S),h&&(y==="number"||j!=="auto")&&($=ef(T,w,"category")));var _=Q8(y);if(!P||P.length===0){var B,U=(B=x.domain)!==null&&B!==void 0?B:_;if(w){if(P=ef(T,w,y),y==="category"&&h){var D=WAe(P);C&&D?(M=P,P=kv(0,I)):C||(P=kL(U,P,b).reduce(function(W,ee){return W.indexOf(ee)>=0?W:[].concat(eu(W),[ee])},[]))}else if(y==="category")C?P=P.filter(function(W){return W!==""&&!Ye(W)}):P=kL(U,P,b).reduce(function(W,ee){return W.indexOf(ee)>=0||ee===""||Ye(ee)?W:[].concat(eu(W),[ee])},[]);else if(y==="number"){var R=o4e(T,a.filter(function(W){var ee,fe,Te=i in W.props?W.props[i]:(ee=W.type.defaultProps)===null||ee===void 0?void 0:ee[i],ne="hide"in W.props?W.props.hide:(fe=W.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return Te===E&&(A||!ne)}),w,s,d);R&&(P=R)}h&&(y==="number"||j!=="auto")&&($=ef(T,w,"category"))}else h?P=kv(0,I):l&&l[E]&&l[E].hasStack&&y==="number"?P=m==="expand"?[0,1]:o8(l[E].stackGroups,c,u):P=a8(T,a.filter(function(W){var ee=i in W.props?W.props[i]:W.type.defaultProps[i],fe="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return ee===E&&(A||!fe)}),y,d,!0);if(y==="number")P=xk(f,P,E,s,N),U&&(P=UT(U,P,S));else if(y==="category"&&U){var F=U,H=P.every(function(W){return F.indexOf(W)>=0});H&&(P=F)}}return re(re({},g),{},Oe({},E,re(re({},x),{},{axisType:s,domain:P,categoricalDomain:$,duplicateDomain:M,originalDomain:(p=x.domain)!==null&&p!==void 0?p:_,isCategorical:h,layout:d})))},{})},Yze=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Lw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,g=s8(d,s),b=-1;return n.reduce(function(p,x){var y=x.type.defaultProps!==void 0?re(re({},x.type.defaultProps),x.props):x.props,w=y[i],S=Q8("number");if(!p[w]){b++;var C;return g?C=kv(0,h):l&&l[w]&&l[w].hasStack?(C=o8(l[w].stackGroups,c,u),C=xk(f,C,w,s)):(C=UT(S,a8(m,n.filter(function(j){var N,A,E=i in j.props?j.props[i]:(N=j.type.defaultProps)===null||N===void 0?void 0:N[i],T="hide"in j.props?j.props.hide:(A=j.type.defaultProps)===null||A===void 0?void 0:A.hide;return E===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),C=xk(f,C,w,s)),re(re({},p),{},Oe({},w,re(re({axisType:s},a.defaultProps),{},{hide:!0,orientation:pa(Uze,"".concat(s,".").concat(b%2),null),domain:C,originalDomain:S,isCategorical:g,layout:d})))}return p},{})},Kze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=Fa(d,s),h={};return m&&m.length?h=Gze(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(h=Yze(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},Jze=function(e){var r=Ol(e),n=pd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:uO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:zT(r,n)}},GF=function(e){var r=e.children,n=e.defaultShowTooltip,a=Ln(r,Kc),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},Xze=function(e){return!e||!e.length?!1:e.some(function(r){var n=js(r&&r.type);return n&&n.indexOf("Bar")>=0})},YF=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Zze=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=Ln(f,Kc),g=Ln(f,Ba),b=Object.keys(c).reduce(function(C,j){var N=c[j],A=N.orientation;return!N.mirror&&!N.hide?re(re({},C),{},Oe({},A,C[A]+N.width)):C},{left:m.left||0,right:m.right||0}),p=Object.keys(i).reduce(function(C,j){var N=i[j],A=N.orientation;return!N.mirror&&!N.hide?re(re({},C),{},Oe({},A,pa(C,"".concat(A))+N.height)):C},{top:m.top||0,bottom:m.bottom||0}),x=re(re({},p),b),y=x.bottom;h&&(x.bottom+=h.props.height||Kc.defaultProps.height),g&&r&&(x=a4e(x,a,n,r));var w=u-x.left-x.right,S=d-x.top-x.bottom;return re(re({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(S,0)})},Qze=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},e7e=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(x,y){var w=y.graphicalItems,S=y.stackGroups,C=y.offset,j=y.updateId,N=y.dataStartIndex,A=y.dataEndIndex,E=x.barSize,T=x.layout,I=x.barGap,P=x.barCategoryGap,M=x.maxBarSize,$=YF(T),_=$.numericAxisName,B=$.cateAxisName,U=Xze(w),D=[];return w.forEach(function(R,F){var H=Lw(x.data,{graphicalItems:[R],dataStartIndex:N,dataEndIndex:A}),W=R.type.defaultProps!==void 0?re(re({},R.type.defaultProps),R.props):R.props,ee=W.dataKey,fe=W.maxBarSize,Te=W["".concat(_,"Id")],ne=W["".concat(B,"Id")],J={},le=c.reduce(function(Dn,X){var Y=y["".concat(X.axisType,"Map")],de=W["".concat(X.axisType,"Id")];Y&&Y[de]||X.axisType==="zAxis"||Vc();var ue=Y[de];return re(re({},Dn),{},Oe(Oe({},X.axisType,ue),"".concat(X.axisType,"Ticks"),pd(ue)))},J),Z=le[B],te=le["".concat(B,"Ticks")],G=S&&S[Te]&&S[Te].hasStack&&p4e(R,S[Te].stackGroups),z=js(R.type).indexOf("Bar")>=0,me=zT(Z,te),we=[],Ie=U&&r4e({barSize:E,stackGroups:S,totalSize:Qze(le,B)});if(z){var Ne,dr,On=Ye(fe)?M:fe,Pn=(Ne=(dr=zT(Z,te,!0))!==null&&dr!==void 0?dr:On)!==null&&Ne!==void 0?Ne:0;we=n4e({barGap:I,barCategoryGap:P,bandSize:Pn!==me?Pn:me,sizeList:Ie[ne],maxBarSize:On}),Pn!==me&&(we=we.map(function(Dn){return re(re({},Dn),{},{position:re(re({},Dn.position),{},{offset:Dn.position.offset-Pn/2})})}))}var Us=R&&R.type&&R.type.getComposedData;Us&&D.push({props:re(re({},Us(re(re({},le),{},{displayedData:H,props:x,dataKey:ee,item:R,bandSize:me,barPosition:we,offset:C,stackedData:G,layout:T,dataStartIndex:N,dataEndIndex:A}))),{},Oe(Oe(Oe({key:R.key||"item-".concat(F)},_,le[_]),B,le[B]),"animationId",j)),childIndex:rTe(R,x.children),item:R})}),D},h=function(x,y){var w=x.props,S=x.dataStartIndex,C=x.dataEndIndex,j=x.updateId;if(!wR({props:w}))return null;var N=w.children,A=w.layout,E=w.stackOffset,T=w.data,I=w.reverseStackOrder,P=YF(A),M=P.numericAxisName,$=P.cateAxisName,_=Fa(N,n),B=m4e(T,_,"".concat(M,"Id"),"".concat($,"Id"),E,I),U=c.reduce(function(W,ee){var fe="".concat(ee.axisType,"Map");return re(re({},W),{},Oe({},fe,Kze(w,re(re({},ee),{},{graphicalItems:_,stackGroups:ee.axisType===M&&B,dataStartIndex:S,dataEndIndex:C}))))},{}),D=Zze(re(re({},U),{},{props:w,graphicalItems:_}),y==null?void 0:y.legendBBox);Object.keys(U).forEach(function(W){U[W]=d(w,U[W],D,W.replace("Map",""),r)});var R=U["".concat($,"Map")],F=Jze(R),H=m(w,re(re({},U),{},{dataStartIndex:S,dataEndIndex:C,updateId:j,graphicalItems:_,stackGroups:B,offset:D}));return re(re({formattedGraphicalItems:H,graphicalItems:_,offset:D,stackGroups:B},F),U)},g=function(p){function x(y){var w,S,C;return Pze(this,x),C=$ze(this,x,[y]),Oe(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(C,"accessibilityManager",new bze),Oe(C,"handleLegendBBoxUpdate",function(j){if(j){var N=C.state,A=N.dataStartIndex,E=N.dataEndIndex,T=N.updateId;C.setState(re({legendBBox:j},h({props:C.props,dataStartIndex:A,dataEndIndex:E,updateId:T},re(re({},C.state),{},{legendBBox:j}))))}}),Oe(C,"handleReceiveSyncEvent",function(j,N,A){if(C.props.syncId===j){if(A===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(N)}}),Oe(C,"handleBrushChange",function(j){var N=j.startIndex,A=j.endIndex;if(N!==C.state.dataStartIndex||A!==C.state.dataEndIndex){var E=C.state.updateId;C.setState(function(){return re({dataStartIndex:N,dataEndIndex:A},h({props:C.props,dataStartIndex:N,dataEndIndex:A,updateId:E},C.state))}),C.triggerSyncEvent({dataStartIndex:N,dataEndIndex:A})}}),Oe(C,"handleMouseEnter",function(j){var N=C.getMouseInfo(j);if(N){var A=re(re({},N),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var E=C.props.onMouseEnter;Ue(E)&&E(A,j)}}),Oe(C,"triggeredAfterMouseMove",function(j){var N=C.getMouseInfo(j),A=N?re(re({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var E=C.props.onMouseMove;Ue(E)&&E(A,j)}),Oe(C,"handleItemMouseEnter",function(j){C.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Oe(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Oe(C,"handleMouseMove",function(j){j.persist(),C.throttleTriggeredAfterMouseMove(j)}),Oe(C,"handleMouseLeave",function(j){C.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};C.setState(N),C.triggerSyncEvent(N);var A=C.props.onMouseLeave;Ue(A)&&A(N,j)}),Oe(C,"handleOuterEvent",function(j){var N=tTe(j),A=pa(C.props,"".concat(N));if(N&&Ue(A)){var E,T;/.*touch.*/i.test(N)?T=C.getMouseInfo(j.changedTouches[0]):T=C.getMouseInfo(j),A((E=T)!==null&&E!==void 0?E:{},j)}}),Oe(C,"handleClick",function(j){var N=C.getMouseInfo(j);if(N){var A=re(re({},N),{},{isTooltipActive:!0});C.setState(A),C.triggerSyncEvent(A);var E=C.props.onClick;Ue(E)&&E(A,j)}}),Oe(C,"handleMouseDown",function(j){var N=C.props.onMouseDown;if(Ue(N)){var A=C.getMouseInfo(j);N(A,j)}}),Oe(C,"handleMouseUp",function(j){var N=C.props.onMouseUp;if(Ue(N)){var A=C.getMouseInfo(j);N(A,j)}}),Oe(C,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Oe(C,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseDown(j.changedTouches[0])}),Oe(C,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseUp(j.changedTouches[0])}),Oe(C,"handleDoubleClick",function(j){var N=C.props.onDoubleClick;if(Ue(N)){var A=C.getMouseInfo(j);N(A,j)}}),Oe(C,"handleContextMenu",function(j){var N=C.props.onContextMenu;if(Ue(N)){var A=C.getMouseInfo(j);N(A,j)}}),Oe(C,"triggerSyncEvent",function(j){C.props.syncId!==void 0&&aN.emit(sN,C.props.syncId,j,C.eventEmitterSymbol)}),Oe(C,"applySyncEvent",function(j){var N=C.props,A=N.layout,E=N.syncMethod,T=C.state.updateId,I=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)C.setState(re({dataStartIndex:I,dataEndIndex:P},h({props:C.props,dataStartIndex:I,dataEndIndex:P,updateId:T},C.state)));else if(j.activeTooltipIndex!==void 0){var M=j.chartX,$=j.chartY,_=j.activeTooltipIndex,B=C.state,U=B.offset,D=B.tooltipTicks;if(!U)return;if(typeof E=="function")_=E(D,j);else if(E==="value"){_=-1;for(var R=0;R<D.length;R++)if(D[R].value===j.activeLabel){_=R;break}}var F=re(re({},U),{},{x:U.left,y:U.top}),H=Math.min(M,F.x+F.width),W=Math.min($,F.y+F.height),ee=D[_]&&D[_].value,fe=wk(C.state,C.props.data,_),Te=D[_]?{x:A==="horizontal"?D[_].coordinate:H,y:A==="horizontal"?W:D[_].coordinate}:Z8;C.setState(re(re({},j),{},{activeLabel:ee,activeCoordinate:Te,activePayload:fe,activeTooltipIndex:_}))}else C.setState(j)}),Oe(C,"renderCursor",function(j){var N,A=C.state,E=A.isTooltipActive,T=A.activeCoordinate,I=A.activePayload,P=A.offset,M=A.activeTooltipIndex,$=A.tooltipAxisBandSize,_=C.getTooltipEventType(),B=(N=j.props.active)!==null&&N!==void 0?N:E,U=C.props.layout,D=j.key||"_recharts-cursor";return V.createElement(Sze,{key:D,activeCoordinate:T,activePayload:I,activeTooltipIndex:M,chartName:r,element:j,isActive:B,layout:U,offset:P,tooltipAxisBandSize:$,tooltipEventType:_})}),Oe(C,"renderPolarAxis",function(j,N,A){var E=pa(j,"type.axisType"),T=pa(C.state,"".concat(E,"Map")),I=j.type.defaultProps,P=I!==void 0?re(re({},I),j.props):j.props,M=T&&T[P["".concat(E,"Id")]];return v.cloneElement(j,re(re({},M),{},{className:$e(E,M.className),key:j.key||"".concat(N,"-").concat(A),ticks:pd(M,!0)}))}),Oe(C,"renderPolarGrid",function(j){var N=j.props,A=N.radialLines,E=N.polarAngles,T=N.polarRadius,I=C.state,P=I.radiusAxisMap,M=I.angleAxisMap,$=Ol(P),_=Ol(M),B=_.cx,U=_.cy,D=_.innerRadius,R=_.outerRadius;return v.cloneElement(j,{polarAngles:Array.isArray(E)?E:pd(_,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(T)?T:pd($,!0).map(function(F){return F.coordinate}),cx:B,cy:U,innerRadius:D,outerRadius:R,key:j.key||"polar-grid",radialLines:A})}),Oe(C,"renderLegend",function(){var j=C.state.formattedGraphicalItems,N=C.props,A=N.children,E=N.width,T=N.height,I=C.props.margin||{},P=E-(I.left||0)-(I.right||0),M=r8({children:A,formattedGraphicalItems:j,legendWidth:P,legendContent:u});if(!M)return null;var $=M.item,_=zF(M,Aze);return v.cloneElement($,re(re({},_),{},{chartWidth:E,chartHeight:T,margin:I,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Oe(C,"renderTooltip",function(){var j,N=C.props,A=N.children,E=N.accessibilityLayer,T=Ln(A,es);if(!T)return null;var I=C.state,P=I.isTooltipActive,M=I.activeCoordinate,$=I.activePayload,_=I.activeLabel,B=I.offset,U=(j=T.props.active)!==null&&j!==void 0?j:P;return v.cloneElement(T,{viewBox:re(re({},B),{},{x:B.left,y:B.top}),active:U,label:_,payload:U?$:[],coordinate:M,accessibilityLayer:E})}),Oe(C,"renderBrush",function(j){var N=C.props,A=N.margin,E=N.data,T=C.state,I=T.offset,P=T.dataStartIndex,M=T.dataEndIndex,$=T.updateId;return v.cloneElement(j,{key:j.key||"_recharts-brush",onChange:op(C.handleBrushChange,j.props.onChange),data:E,x:be(j.props.x)?j.props.x:I.left,y:be(j.props.y)?j.props.y:I.top+I.height+I.brushBottom-(A.bottom||0),width:be(j.props.width)?j.props.width:I.width,startIndex:P,endIndex:M,updateId:"brush-".concat($)})}),Oe(C,"renderReferenceElement",function(j,N,A){if(!j)return null;var E=C,T=E.clipPathId,I=C.state,P=I.xAxisMap,M=I.yAxisMap,$=I.offset,_=j.type.defaultProps||{},B=j.props,U=B.xAxisId,D=U===void 0?_.xAxisId:U,R=B.yAxisId,F=R===void 0?_.yAxisId:R;return v.cloneElement(j,{key:j.key||"".concat(N,"-").concat(A),xAxis:P[D],yAxis:M[F],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:T})}),Oe(C,"renderActivePoints",function(j){var N=j.item,A=j.activePoint,E=j.basePoint,T=j.childIndex,I=j.isRange,P=[],M=N.props.key,$=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,_=$.activeDot,B=$.dataKey,U=re(re({index:T,dataKey:B,cx:A.x,cy:A.y,r:4,fill:LO(N.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ve(_,!1)),zx(_));return P.push(x.renderActiveDot(_,U,"".concat(M,"-activePoint-").concat(T))),E?P.push(x.renderActiveDot(_,re(re({},U),{},{cx:E.x,cy:E.y}),"".concat(M,"-basePoint-").concat(T))):I&&P.push(null),P}),Oe(C,"renderGraphicChild",function(j,N,A){var E=C.filterFormatItem(j,N,A);if(!E)return null;var T=C.getTooltipEventType(),I=C.state,P=I.isTooltipActive,M=I.tooltipAxis,$=I.activeTooltipIndex,_=I.activeLabel,B=C.props.children,U=Ln(B,es),D=E.props,R=D.points,F=D.isRange,H=D.baseLine,W=E.item.type.defaultProps!==void 0?re(re({},E.item.type.defaultProps),E.item.props):E.item.props,ee=W.activeDot,fe=W.hide,Te=W.activeBar,ne=W.activeShape,J=!!(!fe&&P&&U&&(ee||Te||ne)),le={};T!=="axis"&&U&&U.props.trigger==="click"?le={onClick:op(C.handleItemMouseEnter,j.props.onClick)}:T!=="axis"&&(le={onMouseLeave:op(C.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:op(C.handleItemMouseEnter,j.props.onMouseEnter)});var Z=v.cloneElement(j,re(re({},E.props),le));function te(X){return typeof M.dataKey=="function"?M.dataKey(X.payload):null}if(J)if($>=0){var G,z;if(M.dataKey&&!M.allowDuplicatedCategory){var me=typeof M.dataKey=="function"?te:"payload.".concat(M.dataKey.toString());G=tT(R,me,_),z=F&&H&&tT(H,me,_)}else G=R==null?void 0:R[$],z=F&&H&&H[$];if(ne||Te){var we=j.props.activeIndex!==void 0?j.props.activeIndex:$;return[v.cloneElement(j,re(re(re({},E.props),le),{},{activeIndex:we})),null,null]}if(!Ye(G))return[Z].concat(eu(C.renderActivePoints({item:E,activePoint:G,basePoint:z,childIndex:$,isRange:F})))}else{var Ie,Ne=(Ie=C.getItemByXY(C.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:Z},dr=Ne.graphicalItem,On=dr.item,Pn=On===void 0?j:On,Us=dr.childIndex,Dn=re(re(re({},E.props),le),{},{activeIndex:Us});return[v.cloneElement(Pn,Dn),null,null]}return F?[Z,null,null]:[Z,null]}),Oe(C,"renderCustomized",function(j,N,A){return v.cloneElement(j,re(re({key:"recharts-customized-".concat(A)},C.props),C.state))}),Oe(C,"renderMap",{CartesianGrid:{handler:fp,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:fp},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:fp},YAxis:{handler:fp},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:ow("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=t7(C.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),C.state={},C}return Lze(x,p),_ze(x,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,C=w.data,j=w.height,N=w.layout,A=Ln(S,es);if(A){var E=A.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,I=wk(this.state,C,E,T),P=this.state.tooltipTicks[E].coordinate,M=(this.state.offset.top+j)/2,$=N==="horizontal",_=$?{x:P,y:M}:{y:P,x:M},B=this.state.formattedGraphicalItems.find(function(D){var R=D.item;return R.type.name==="Scatter"});B&&(_=re(re({},_),B.props.points[E].tooltipPosition),I=B.props.points[E].tooltipPayload);var U={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:T,activePayload:I,activeCoordinate:_};this.setState(U),this.renderCursor(A),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var C,j;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(w){aT([Ln(w.children,es)],[Ln(this.props.children,es)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ln(this.props.children,es);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,C=S.getBoundingClientRect(),j=IRe(C),N={chartX:Math.round(w.pageX-j.left),chartY:Math.round(w.pageY-j.top)},A=C.width/S.offsetWidth||1,E=this.inRange(N.chartX,N.chartY,A);if(!E)return null;var T=this.state,I=T.xAxisMap,P=T.yAxisMap,M=this.getTooltipEventType(),$=HF(this.state,this.props.data,this.props.layout,E);if(M!=="axis"&&I&&P){var _=Ol(I).scale,B=Ol(P).scale,U=_&&_.invert?_.invert(N.chartX):null,D=B&&B.invert?B.invert(N.chartY):null;return re(re({},N),{},{xValue:U,yValue:D},$)}return $?re(re({},N),$):null}},{key:"inRange",value:function(w,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,N=w/C,A=S/C;if(j==="horizontal"||j==="vertical"){var E=this.state.offset,T=N>=E.left&&N<=E.left+E.width&&A>=E.top&&A<=E.top+E.height;return T?{x:N,y:A}:null}var I=this.state,P=I.angleAxisMap,M=I.radiusAxisMap;if(P&&M){var $=Ol(P);return OL({x:N,y:A},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),C=Ln(w,es),j={};C&&S==="axis"&&(C.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=zx(this.props,this.handleOuterEvent);return re(re({},N),j)}},{key:"addListener",value:function(){aN.on(sN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){aN.removeListener(sN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,C){for(var j=this.state.formattedGraphicalItems,N=0,A=j.length;N<A;N++){var E=j[N];if(E.item===w||E.props.key===w.key||S===js(E.item.type)&&C===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,C=S.left,j=S.top,N=S.height,A=S.width;return V.createElement("defs",null,V.createElement("clipPath",{id:w},V.createElement("rect",{x:C,y:j,height:N,width:A})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,C){var j=UF(C,2),N=j[0],A=j[1];return re(re({},S),{},Oe({},N,A.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,C){var j=UF(C,2),N=j[0],A=j[1];return re(re({},S),{},Oe({},N,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,C=S.formattedGraphicalItems,j=S.activeItem;if(C&&C.length)for(var N=0,A=C.length;N<A;N++){var E=C[N],T=E.props,I=E.item,P=I.type.defaultProps!==void 0?re(re({},I.type.defaultProps),I.props):I.props,M=js(I.type);if(M==="Bar"){var $=(T.data||[]).find(function(D){return fqe(w,D)});if($)return{graphicalItem:E,payload:$}}else if(M==="RadialBar"){var _=(T.data||[]).find(function(D){return OL(w,D)});if(_)return{graphicalItem:E,payload:_}}else if(Pw(E,j)||Dw(E,j)||xm(E,j)){var B=rVe({graphicalItem:E,activeTooltipItem:j,itemData:P.data}),U=P.activeIndex===void 0?B:P.activeIndex;return{graphicalItem:re(re({},E),{},{childIndex:U}),payload:xm(E,j)?P.data[B]:E.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!wR(this))return null;var S=this.props,C=S.children,j=S.className,N=S.width,A=S.height,E=S.style,T=S.compact,I=S.title,P=S.desc,M=zF(S,Tze),$=Ve(M,!1);if(T)return V.createElement(DF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(oT,Yl({},$,{width:N,height:A,title:I,desc:P}),this.renderClipPath(),NR(C,this.renderMap)));if(this.props.accessibilityLayer){var _,B;$.tabIndex=(_=this.props.tabIndex)!==null&&_!==void 0?_:0,$.role=(B=this.props.role)!==null&&B!==void 0?B:"application",$.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},$.onFocus=function(){w.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return V.createElement(DF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Yl({className:$e("recharts-wrapper",j),style:re({position:"relative",cursor:"default",width:N,height:A},E)},U,{ref:function(R){w.container=R}}),V.createElement(oT,Yl({},$,{width:N,height:A,title:I,desc:P,style:zze}),this.renderClipPath(),NR(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Oe(g,"displayName",r),Oe(g,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Oe(g,"getDerivedStateFromProps",function(p,x){var y=p.dataKey,w=p.data,S=p.children,C=p.width,j=p.height,N=p.layout,A=p.stackOffset,E=p.margin,T=x.dataStartIndex,I=x.dataEndIndex;if(x.updateId===void 0){var P=GF(p);return re(re(re({},P),{},{updateId:0},h(re(re({props:p},P),{},{updateId:0}),x)),{},{prevDataKey:y,prevData:w,prevWidth:C,prevHeight:j,prevLayout:N,prevStackOffset:A,prevMargin:E,prevChildren:S})}if(y!==x.prevDataKey||w!==x.prevData||C!==x.prevWidth||j!==x.prevHeight||N!==x.prevLayout||A!==x.prevStackOffset||!rT(E,x.prevMargin)){var M=GF(p),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},_=re(re({},HF(x,w,N)),{},{updateId:x.updateId+1}),B=re(re(re({},M),$),_);return re(re(re({},B),h(re({props:p},B),x)),{},{prevDataKey:y,prevData:w,prevWidth:C,prevHeight:j,prevLayout:N,prevStackOffset:A,prevMargin:E,prevChildren:S})}if(!aT(S,x.prevChildren)){var U,D,R,F,H=Ln(S,Kc),W=H&&(U=(D=H.props)===null||D===void 0?void 0:D.startIndex)!==null&&U!==void 0?U:T,ee=H&&(R=(F=H.props)===null||F===void 0?void 0:F.endIndex)!==null&&R!==void 0?R:I,fe=W!==T||ee!==I,Te=!Ye(w),ne=Te&&!fe?x.updateId:x.updateId+1;return re(re({updateId:ne},h(re(re({props:p},x),{},{updateId:ne,dataStartIndex:W,dataEndIndex:ee}),x)),{},{prevChildren:S,dataStartIndex:W,dataEndIndex:ee})}return null}),Oe(g,"renderActiveDot",function(p,x,y){var w;return v.isValidElement(p)?w=v.cloneElement(p,x):Ue(p)?w=p(x):w=V.createElement(BO,x),V.createElement(Ut,{className:"recharts-active-dot",key:y},w)});var b=v.forwardRef(function(x,y){return V.createElement(g,Yl({},x,{ref:y}))});return b.displayName=g.displayName,b},Fw=e7e({chartName:"PieChart",GraphicalChild:Qn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ow},{axisType:"radiusAxis",AxisComp:Iw}],formatAxisMap:A4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const KF=["#0088FE","#FF8042"];function t7e({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(gw,{width:"100%",height:"100%",children:o.jsxs(Fw,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(Qn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(xu,{fill:KF[r%KF.length]},`cell-${r}`))}),o.jsx(Ba,{})]})})]})]})}const JF=["#0088FE","#FF8042","#00C49F"];function r7e({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(gw,{width:"100%",height:"100%",children:o.jsxs(Fw,{children:[o.jsx(Qn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(xu,{fill:JF[r%JF.length]},`cell-${r}`))}),o.jsx(Ba,{})]})})]})]})}function n7e(){const t=se(),[e,r]=v.useState(""),[n,a]=v.useState([]),[s,i]=v.useState(""),[l,c]=v.useState({chart1:[],chart2:[],table:[]}),[u,d]=v.useState(!1),{departments:f,isLoading:m}=q(b=>b.departments);v.useEffect(()=>{t(tr())},[]),v.useEffect(()=>{e?(d(!0),tCe(e==="All"?"":e).then(b=>{const p=(b==null?void 0:b.data)||[];a(p.map(x=>({value:x.ID,label:x.Name,...x})))}).finally(()=>d(!1))):a([]),i(""),c({chart1:[],chart2:[],table:[]})},[e]);const h=b=>{const p=n.find(T=>T.value===Number(b));if(!p)return;const x=parseFloat(p.Appropriation||0),y=parseFloat(p.Supplemental||0),w=parseFloat(p.Transfer||0),S=parseFloat(p.Charges||0),C=parseFloat(p.PreEncumbrance||0),j=parseFloat(p.Encumbrance||0),A=[{name:"Budget Amount",value:x+y+w-S},{name:"Charges",value:S}],E=[{name:"PreEncumbrance",value:C},{name:"Encumbrance",value:j},{name:"Charges",value:S}];c(T=>({...T,chart1:A,chart2:E})),d(!0),rCe(b).then(T=>{const I=(T==null?void 0:T.data)||[];c(P=>({...P,table:I}))}).finally(()=>d(!1))},g=[{key:"APAR",header:"APAR",sortable:!1},{key:"Total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(k,{label:"Department",name:"Department",type:"select",value:e,onChange:b=>{const p=b.target.value==="All Departments"?"All":b.target.value;r(p),i(""),c({chart1:[],chart2:[],table:[]})},options:[...f==null?void 0:f.map(b=>({value:b.ID,label:b.Name})),{value:"All Departments",label:"All Departments"}],required:!0}),o.jsx(k,{label:"Sub-Department",name:"SubDepartment",type:"select",value:s,onChange:b=>{console.log("e.target.value",b.target.value),i(b.target.value),h(b.target.value)},options:n,className:"disabled:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-400",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(t7e,{data:l==null?void 0:l.chart1,loading:u}),o.jsx(r7e,{data:l==null?void 0:l.chart2,loading:u})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:g,data:(l==null?void 0:l.table)||[],loading:u||m,emptyMessage:"No budget data found for selected sub-department."})})]})}const XF=["#0088FE","#00C49F","#FF8042"],ZF=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}];function a7e(){const[t,e]=v.useState("year"),[r,n]=v.useState(""),[a,s]=v.useState("year"),[i,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(""),[m,h]=v.useState({disbursement:[],obligation:[],travel:[]}),g=se(),{departments:b}=q(p=>p.departments);return v.useEffect(()=>{g(tr())},[]),v.useEffect(()=>{(async()=>{var x,y;try{const[w,S]=await Promise.all([iR(t,"Obligation Request",r==="All"?"":r),iR(t,"Disbursement Voucher",r==="All"?"":r)]);f(`PHP ${parseFloat(((x=w==null?void 0:w.data)==null?void 0:x.total)||0).toLocaleString()}`),u(`PHP ${parseFloat(((y=S==null?void 0:S.data)==null?void 0:y.total)||0).toLocaleString()}`)}catch(w){console.error("Error loading disbursement amounts:",w),qe.error("Failed to load disbursement amounts")}})()},[t,r]),v.useEffect(()=>{(async()=>{try{const x=i==="All"?"":i,[y,w,S]=await Promise.all([nCe(a,x),aCe(a,x),sCe(a,x)]);h({obligation:(y==null?void 0:y.data)||[],travel:(w==null?void 0:w.data)||[],disbursement:(S==null?void 0:S.data)||[]})}catch(x){console.error("Error loading chart data:",x),qe.error("Failed to load chart data")}})()},[a,i]),o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(k,{label:"Timeframe",type:"select",value:t,onChange:p=>e(p.target.value),options:ZF}),o.jsx(k,{label:"Department",name:"Department",type:"select",value:r,onChange:p=>{const x=p.target.value==="All Departments"?"All":p.target.value;n(x)},options:[...b==null?void 0:b.map(p=>({value:p.ID,label:p.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",d]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Timeframe",type:"select",value:a,onChange:p=>s(p.target.value),options:ZF}),o.jsx(k,{label:"Department",name:"Department",type:"select",value:r,onChange:p=>{const x=p.target.value==="All Departments"?"All":p.target.value;l(x)},options:[...b==null?void 0:b.map(p=>({value:p.ID,label:p.Name})),{value:"All Departments",label:"All Departments"}],required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[iN("Disbursement",[m==null?void 0:m.disbursement]),iN("Obligation",[m==null?void 0:m.obligation]),iN("Travel",[m==null?void 0:m.travel])]})]})}const iN=(t,e)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(gw,{width:"100%",height:"100%",children:o.jsxs(Fw,{children:[o.jsx(Qn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e==null?void 0:e.map((r,n)=>o.jsx(xu,{fill:XF[n%XF.length]},n))}),o.jsx(Ba,{})]})})})]}),QF=["#0088FE","#FF8042","#00C49F"];function mp({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(gw,{width:"100%",height:"100%",children:o.jsxs(Fw,{children:[o.jsx(Qn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(xu,{fill:QF[n%QF.length]},n))}),o.jsx(Ba,{})]})})})]})}function s7e(){const[t,e]=v.useState("day"),[r,n]=v.useState({general:0,marriage:0,burial:0,cedula:0}),[a,s]=v.useState([]),[i,l]=v.useState([]),[c,u]=v.useState([]),[d,f]=v.useState([]);v.useEffect(()=>{(async()=>{try{const[g,b,p,x,y]=await Promise.all([oCe(t),iCe(),lCe(),cCe(),uCe()]),w=(g==null?void 0:g.data)||{};n({general:parseFloat(w.General||0),marriage:parseFloat(w.Marriage||0),burial:parseFloat(w.Burial||0),cedula:parseFloat(w.Cedula||0)}),s(m(b.data)),l(m(p.data)),u(m(x.data)),f(m(y.data))}catch(g){console.error(g),qe.error("Failed to load collection data")}})()},[t]);const m=(h=[])=>h.map(g=>({name:g.date||"Unknown",value:parseFloat(g.total||0)}));return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"}),o.jsx(mp,{title:"Cedula",data:d})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(k,{label:"Select View",type:"select",value:t,onChange:h=>e(h.target.value),options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",r.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1  lg:grid-cols-3 gap-4 mt-6",children:[o.jsx(mp,{title:"General Service Invoice",data:a}),o.jsx(mp,{title:"Marriage Service Invoice",data:i}),o.jsx(mp,{title:"Burial Service Invoice",data:c})]})]})}const sh="https://staging-engine.testthelink.online",o7e=[],bc=L("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.get(`${sh}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),lN=L("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.get(`${sh}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Mb=L("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await Xe.post(`${sh}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),cN=L("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await Xe.put(`${sh}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),Lb=L("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await Xe.delete(`${sh}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),e9=ye({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(bc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bc.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(bc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=o7e}).addCase(lN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lN.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(lN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(Mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(Mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(cN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(cN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(Lb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(Lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)})}}),{clearError:y9e,clearCurrentReceipt:b9e}=e9.actions,i7e=e9.reducer,l7e="https://staging-engine.testthelink.online",c7e=ie().shape({Status:O().required("Status is required"),InvoiceNumber:O().required("Invoice number is required"),InvoiceDate:Re().required("Date is required"),FundsID:K().required("Fund is required"),Agency:O().required("Agency is required"),PaymentMethodID:K().required("Payment method is required"),Total:K().required("Total amount is required"),CustomerID:K().required("Customer is required"),CustomerName:O().required("Customer name is required"),Remarks:O(),TransactionItemsAll:Tr().of(ie().shape({ItemID:K().required("Item ID is required"),ChargeAccountID:K().required("Charges account is required"),Quantity:K().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:K().required("Price is required").min(0,"Price cannot be negative"),Vatable:Qi()})).min(1,"At least one item is required")});function u7e({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n}){const[a,s]=v.useState("Individual"),[i,l]=v.useState(!1),{customers:c}=q(N=>N.customers),{vendorDetails:u}=q(N=>N.vendorDetails),{funds:d}=q(N=>N.funds),{items:f}=q(N=>N.items),{budgets:m}=q(N=>N.budget),h=se();v.useEffect(()=>{h(Hn()),h(ys()),h(Ht()),h(bs()),h(Io())},[h]);const g=u==null?void 0:u.map(N=>({value:N.ID,label:N.Name})),b=c==null?void 0:c.map(N=>({value:N.ID,label:N.Name})),p=d==null?void 0:d.map(N=>({value:N.ID,label:N.Name})),x=f==null?void 0:f.map(N=>({value:N.ID,label:N.Name})),y=m==null?void 0:m.map(N=>({value:N.ID,label:N.Name})),w={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[]};console.log("initialValues",w);const S=(N,A,E)=>{const I=Array.from(N.target.files).map(P=>P);A("Attachments",[...E.Attachments,...I])},C=(N,A,E)=>{const T=[...E.Attachments];T.splice(N,1),A("Attachments",T)},j=async N=>{const A=new FormData;for(const E in N)if(E!=="Attachments"){const T=typeof N[E]=="object"?JSON.stringify(N[E]):N[E];E==="TransactionItemsAll"?A.append("Items",T):A.append(E,T)}N==null||N.Attachments.forEach((E,T)=>{E.ID?A.append(`Attachments[${T}].ID`,E.ID):A.append(`Attachments[${T}].File`,E)}),r?(A.append("IsNew","false"),A.append("LinkID",r.LinkID),A.append("ID",r.ID)):A.append("IsNew","true"),console.log("Form Data:",N);try{await n(A),console.log("Form submitted with values:",A)}catch(E){console.error("Error submitting form:",E)}finally{e()}};return o.jsxs(ae,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",onClick:()=>l(!0),children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx(_e,{initialValues:w,validationSchema:c7e,onSubmit:j,enableReinitialize:!0,children:({values:N,setFieldValue:A,handleChange:E,handleBlur:T,isSubmitting:I,errors:P,touched:M})=>(console.log(P),o.jsxs(Le,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),N.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:N.Attachments.map(($,_)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:$.ID?o.jsx("a",{href:`${l7e}/uploads/${$.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:$.name||$.DataName}):$.name||$.DataName})]}),o.jsx("button",{type:"button",onClick:()=>C(_,A,N),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},_))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:N==null?void 0:N.Status.toUpperCase()})]}),o.jsx(k,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:E,value:N.InvoiceNumber,error:P.InvoiceNumber,touched:M.InvoiceNumber})]}),o.jsx(k,{label:"Date",name:"InvoiceDate",type:"date",onChange:E,value:N.InvoiceDate,required:!0,error:P.InvoiceDate&&M.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:E,value:N.Agency,error:P.Agency,touched:M.Agency}),o.jsx(k,{label:"Fund",name:"FundsID",type:"select",options:p,required:!0,onChange:E,value:N.FundsID,error:P.FundsID,touched:M.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{s("Individual"),A("PayorType","Individual"),A("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{s("Corporation"),A("PayorType","Corporation"),A("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx(Xt,{label:"Payor",name:"CustomerName",type:"select",options:a==="Individual"?b:g,required:!0,placeholder:"Select Payor",onSelect:$=>{const _=a==="Individual"?b.find(B=>B.value===$):g.find(B=>B.value===$);A("CustomerName",(_==null?void 0:_.label)||""),A("CustomerID",(_==null?void 0:_.value)||"")},selectedValue:N.CustomerID,error:P.CustomerName,touched:M.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(Xr,{name:"TransactionItemsAll",children:({push:$,remove:_})=>o.jsxs("div",{className:"space-y-4",children:[N.TransactionItemsAll.map((B,U)=>{var D,R,F,H,W,ee,fe,Te,ne,J,le,Z,te,G,z,me;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[o.jsx(k,{label:"Item ID",name:`TransactionItemsAll.${U}.ItemID`,type:"select",options:x,required:!0,value:B.ItemID,onChange:E,error:(R=(D=P.TransactionItemsAll)==null?void 0:D[U])==null?void 0:R.ItemID,touched:(H=(F=M.TransactionItemsAll)==null?void 0:F[U])==null?void 0:H.ItemID}),o.jsx(k,{label:"Account",name:`TransactionItemsAll.${U}.ChargeAccountID`,type:"select",options:y,required:!0,value:B.ChargeAccountID,onChange:E,error:(ee=(W=P.TransactionItemsAll)==null?void 0:W[U])==null?void 0:ee.ChargeAccountID,touched:(Te=(fe=M.TransactionItemsAll)==null?void 0:fe[U])==null?void 0:Te.ChargeAccountID}),o.jsx(k,{label:"Qty",name:`TransactionItemsAll.${U}.Quantity`,type:"number",required:!0,min:"1",value:B.Quantity,onChange:E,error:(J=(ne=P.TransactionItemsAll)==null?void 0:ne[U])==null?void 0:J.Quantity,touched:(Z=(le=M.TransactionItemsAll)==null?void 0:le[U])==null?void 0:Z.Quantity}),o.jsx(k,{label:"Price",name:`TransactionItemsAll.${U}.Price`,type:"number",required:!0,min:"0",value:B.Price,onChange:E,error:(G=(te=P.TransactionItemsAll)==null?void 0:te[U])==null?void 0:G.Price,touched:(me=(z=M.TransactionItemsAll)==null?void 0:z[U])==null?void 0:me.Price}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`TransactionItemsAll.${U}.Vatable`,name:`TransactionItemsAll.${U}.Vatable`,checked:B.Vatable,onChange:()=>A(`TransactionItemsAll.${U}.Vatable`,!B.Vatable),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded"}),o.jsx("label",{htmlFor:`TransactionItemsAll.${U}.Vatable`,className:"ml-2 block text-sm text-neutral-700",children:"Vatable"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(B.Quantity*B.Price).toFixed(2)]}),U>0&&o.jsx("button",{type:"button",onClick:()=>_(U),className:"text-red-500 hover:text-red-700",children:o.jsx(lfe,{})})]})]},U)}),o.jsx("button",{type:"button",onClick:()=>$({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:N.TransactionItemsAll.reduce(($,_)=>$+_.Quantity*_.Price,0).toFixed(2)})]}),o.jsx(k,{label:"Amount in Words",name:"amountInWords",type:"text",value:Yd(N.TransactionItemsAll.reduce(($,_)=>$+_.Quantity*_.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map(($,_)=>o.jsx("button",{type:"button",onClick:()=>A("PaymentMethodID",$.value),className:`px-4 py-2 text-sm font-medium border ${N.PaymentMethodID===$.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${_===0?"rounded-l-md":_===3?"rounded-r-md":"border-l-0"}`,children:$.label},$.value))})]}),N.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Check Number",name:"CheckNumber",type:"text",value:N.CheckNumber,onChange:E,error:P.CheckNumber&&M.CheckNumber}),o.jsx(k,{label:"Bank",name:"PayeeBank",type:"text",value:N.PayeeBank,onChange:E}),o.jsx(k,{label:"Check Date",name:"CheckDate",type:"date",value:N.CheckDate,onChange:E,error:P.CheckDate&&M.CheckDate})]}),N.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(k,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:N.MoneyOrder,onChange:E,error:P.MoneyOrder&&M.MoneyOrder}),o.jsx(k,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:N.MoneyOrderDate,onChange:E,error:P.MoneyOrderDate&&M.MoneyOrderDate})]}),o.jsx(k,{label:"Remarks",name:"Remarks",type:"textarea",value:N.Remarks,onChange:E,rows:2,error:P.Remarks&&M.Remarks})]}),i&&o.jsx(ae,{isOpen:i,onClose:()=>l(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(el,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:$=>{S($,A,N),l(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"save"})]})]}))})]})}function e5(){const t=se(),{receipts:e,isLoading:r}=q(C=>C.generalReceipts),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(bc())},[t]),console.log("generalReceipts",e);const f=()=>{d(null),c(!0)},m=C=>{d(C),i(!0)},h=C=>{d(C),c(!0)},g=()=>{i(!1),d(null)},b=()=>{c(!1),d(null)},p=C=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C),x=async C=>{try{await t(Lb(C.ID)).unwrap(),t(bc()),qe.success("Receipt deleted successfully.")}catch(j){console.error("Error deleting receipt:",j),qe.error("Failed to delete receipt.")}},y=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:C=>o.jsx("div",{className:"flex items-center gap-1",children:C})},{key:"Status",header:"Status",sortable:!0,render:C=>o.jsx("span",{className:`px-2 py-1 rounded ${C==="Posted"?"bg-green-100 text-green-800":C==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:C})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:C=>(C==null?void 0:C.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:C=>p(C),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:C=>C||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:C=>({1:"General Fund",2:"Special Education Fund"})[C]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:C=>C||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:C=>C||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:C=>C||""}],w=[{icon:Ae,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],S=async C=>{if(C)try{const j=await t(Mb(C)).unwrap();console.log("Operation successful:",j,C),t(bc()),qe.success("Receipt saved successfully.")}catch(j){console.error("Submission failed:",j),qe.error(j.message||"Failed to save receipt")}finally{b()}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:y,data:e,actions:w,loading:r,onRowClick:m})}),o.jsx(u7e,{isOpen:l,onClose:b,selectedReceipt:u,onSubmit:S}),o.jsx(ae,{isOpen:s,onClose:g,title:"General Receipt Details",size:"lg",children:u&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.receiptNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:new Date(u.receiptDate).toLocaleDateString()})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.fund})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.modeOfPayment})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorAddress||"N/A"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:p(u.totalAmount)})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:g,className:"btn btn-outline",children:"Close"}),o.jsx("button",{type:"button",onClick:()=>h(u),className:"btn btn-primary",children:"Edit"})]})]})})]})}const t5=()=>{const[t,e]=v.useState({owner:"",municipality:"MAKATI",checkNumber:"0",previousPayment:"0",receivedFrom:"CEDRIC",taxDeclarationNumber:"",address:"",block:"",lot:"",amountReceived:"",remainingBalance:"0",receivedFrom2:"",advancePayment:!1,year:"2025",until:"2025",amountInWords:"",basicFund:!0,specialEducationFund:!1,previousLandValues:"0",previousImprovement:"0",previousTotalAssessed:"0",previousTotal:"0",presentLandValues:"0",presentImprovement:"0",presentTotalAssessed:"0",discountRate:"0",penaltyRate:"0",payment:"0",dueDateYear:"",installmentPayment:!1,fullPayment:!0}),[r,n]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),[a,s]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),i=(f,m)=>{e(h=>({...h,[f]:m}))},l=(f,m)=>{const h={id:Date.now().toString(),ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""};m([...f,h])},c=(f,m,h)=>{m.length>1&&h(m.filter(g=>g.id!==f))},u=(f,m,h,g,b)=>{b(g.map(p=>p.id===f?{...p,[m]:h}:p))},d=({entries:f,setEntries:m,title:h})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:h}),o.jsx("div",{className:"flex gap-2",children:o.jsx(dt,{type:"button",onClick:()=>l(f,m),className:"bg-green-600 hover:bg-green-700 text-white p-2 h-8 w-8",children:o.jsx(W0,{className:"h-4 w-4"})})})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner Address"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Lot Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Block Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"T.D No"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Land"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Improvement"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Total Assessed"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Tax Due"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Full Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Penalty"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:f.map((g,b)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:b+1,readOnly:!0,className:"w-full p-1 text-sm bg-gray-50 border-none text-center"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.ownerAddress,onChange:p=>u(g.id,"ownerAddress",p.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.lotNumber,onChange:p=>u(g.id,"lotNumber",p.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.blockNumber,onChange:p=>u(g.id,"blockNumber",p.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.tdNo,onChange:p=>u(g.id,"tdNo",p.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.land,onChange:p=>u(g.id,"land",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.improvement,onChange:p=>u(g.id,"improvement",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.totalAssessed,onChange:p=>u(g.id,"totalAssessed",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.taxDue,onChange:p=>u(g.id,"taxDue",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.payment,onChange:p=>u(g.id,"payment",p.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>c(g.id,f,m),className:"btn btn-danger ",disabled:f.length===1,children:o.jsx(gr,{className:"h-3 w-3"})})})]},g.id))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(Hde,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(k,{label:"Owner",name:"owner",type:"select",options:[{value:"owner1",label:"Owner 1"},{value:"owner2",label:"Owner 2"}],value:t.owner,onChange:f=>i("owner",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Municipality",name:"municipality",value:t.municipality,onChange:f=>i("municipality",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Check Number",name:"checkNumber",value:t.checkNumber,onChange:f=>i("checkNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Previous Payment",name:"previousPayment",value:t.previousPayment,onChange:f=>i("previousPayment",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Received From",name:"receivedFrom",value:t.receivedFrom,onChange:f=>i("receivedFrom",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(k,{label:"Tax Declaration Number",name:"taxDeclarationNumber",type:"select",options:[{value:"taxDeclarationNumber1",label:"Tax Declaration Number 1"},{value:"taxDeclarationNumber2",label:"Tax Declaration Number 2"}],value:t.taxDeclarationNumber,onChange:f=>i("taxDeclarationNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Address",name:"address",value:t.address,onChange:f=>i("address",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Block",name:"block",value:t.block,onChange:f=>i("block",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Lot",name:"lot",value:t.lot,onChange:f=>i("lot",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(k,{label:"Land Values",name:"previousLandValues",value:t.previousLandValues,onChange:f=>i("previousLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Improvement",name:"previousImprovement",value:t.previousImprovement,onChange:f=>i("previousImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Total Assessed Value",name:"previousTotalAssessed",value:t.previousTotalAssessed,onChange:f=>i("previousTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"General Revision (Year)",name:"dueDateYear",type:"select",options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary ",children:"Add"}),o.jsx("button",{className:"btn btn-outline",children:"Remove"})]})]})})]}),o.jsx(d,{entries:r,setEntries:n,title:"Previous Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(k,{label:"Land Values",name:"presentLandValues",value:t.presentLandValues,onChange:f=>i("presentLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Improvement",name:"presentImprovement",value:t.presentImprovement,onChange:f=>i("presentImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Total Assessed Value",name:"presentTotalAssessed",value:t.presentTotalAssessed,onChange:f=>i("presentTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Label10"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(k,{label:"Discount Rate",name:"discountRate",value:t.discountRate,onChange:f=>i("discountRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Penalty Rate",name:"penaltyRate",value:t.penaltyRate,onChange:f=>i("penaltyRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(k,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(k,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.installmentPayment,onChange:()=>{i("installmentPayment",!0),i("fullPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.fullPayment,onChange:()=>{i("fullPayment",!0),i("installmentPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]})]})]})]}),o.jsx(d,{entries:a,setEntries:s,title:"Present Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(wE,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(k,{label:"Amount Received",name:"amountReceived",value:t.amountReceived,onChange:f=>i("amountReceived",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"}),o.jsx(k,{label:"Remaining Balance",name:"remainingBalance",value:t.remainingBalance,onChange:f=>i("remainingBalance",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(k,{label:"Received From",name:"receivedFrom2",value:t.receivedFrom2,onChange:f=>i("receivedFrom2",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.advancePayment,onChange:f=>i("advancePayment",f.target.checked),className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(k,{label:"Year",name:"year",value:t.year,onChange:f=>i("year",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Until"}),o.jsx(k,{label:"",name:"until",value:t.until,onChange:f=>i("until",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.basicFund,onChange:()=>{i("basicFund",!0),i("specialEducationFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.specialEducationFund,onChange:()=>{i("specialEducationFund",!0),i("basicFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(k,{label:"Amount In Words",name:"amountInWords",value:t.amountInWords,onChange:f=>i("amountInWords",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{variant:"outline",className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Save Draft"})]})]})})},d7e=[{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"Active"},{id:2,tdNo:"TD-002",owner:"Maria Santos",address:"456 Pine St",beneficialUser:"Carlos Santos",beneficialAddress:"456 Pine St",octTctCloaNo:"OCT-456",cct:"CCT-789",dated:"2024-02-15",propertyIdentificationNo:"67890",tin:"456-789-012",ownerTelephoneNo:"9876543210",beneficialTin:"456-789-012",beneficialTelephoneNo:"9876543210",surveyNo:"S-002",lotNo:"L-002",blockNo:"B-002",boundaries:{taxable:!0,north:"Street E",south:"Street F",east:"Street G",west:"Street H"},cancelledTdNo:"",cancelledOwner:"",effectivityOfAssessment:"2024-01-01",previousOwner:"",previousAssessedValue:"0",propertyDetails:{kind:"Land",numberOf:"1",description:"Commercial lot"},assessmentDetails:{kind:"Land",actualUse:"Commercial",classification:"Class 2",areaSize:"Large",assessmentLevel:"30%",marketValue:"2500000"},status:"Active"}];function f7e(){se();const{realPropertyTaxes:t,isLoading:e}=q(y=>y.realPropertyTax),[r,n]=v.useState("list"),[a,s]=v.useState(null),[i,l]=v.useState(""),c=t&&t.length>0?t:d7e,u=()=>{s(null),n("form")},d=y=>{s(y),n("details")},f=y=>{s(y),n("form")},m=y=>{console.log("Print property:",y)},h=()=>{n("list"),s(null)},g=c==null?void 0:c.filter(y=>{const w=i.toLowerCase();return y.tdNo.toLowerCase().includes(w)||y.owner.toLowerCase().includes(w)||y.address.toLowerCase().includes(w)||y.propertyIdentificationNo.toLowerCase().includes(w)}),b=[{key:"tdNo",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"owner",header:"Owner",sortable:!0},{key:"address",header:"Address",sortable:!0},{key:"propertyIdentificationNo",header:"Property ID",sortable:!0},{key:"dated",header:"Date",sortable:!0,render:y=>new Date(y).toLocaleDateString()},{key:"status",header:"Status",sortable:!0,render:y=>p(y)}],p=y=>{let w="bg-neutral-100 text-neutral-800";switch(y){case"Active":w="bg-success-100 text-success-800";break;case"Inactive":w="bg-warning-100 text-warning-800";break;case"Cancelled":w="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${w}`,children:y})},x=[{icon:s0,title:"View",onClick:d,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Ae,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return o.jsxs("div",{className:"container mx-auto  md:px-4 md:py-8",children:[r==="list"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ge,{columns:b,data:g,actions:x,loading:e,onRowClick:d})})]}),r==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:a?"Update the property details":"Fill out the form to create a new property record"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(t5,{initialData:a,onCancel:h,onSubmitSuccess:h})})]}),r==="details"&&a&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(ya,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>f(a),className:"btn btn-primary flex items-center",children:[o.jsx(Ae,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>m(a),className:"btn btn-outline flex items-center",children:[o.jsx(il,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(t5,{initialData:a,readOnly:!0,onBack:h})})]})]})}function m7e({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=ie({endDate:O().required("Date End is required"),fundID:O().required("Fund is required"),approverID:O().required("Approver is required"),ledger:O().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx(_e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:b,setFieldValue:p})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(k,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:h,onBlur:g,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(k,{type:"select",label:"Fund",name:"fundID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.fundID,onChange:h,onBlur:g,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(k,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:h,onBlur:g,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(k,{label:"Approver",name:"approverID",type:"select",options:e.map(x=>{var y;return{value:x.ID,label:x.FirstName+" "+x.MiddleName+" "+x.LastName+" - "+((y=x==null?void 0:x.Department)==null?void 0:y.Name)}}),value:d.approverID,onChange:h,onBlur:g,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:b,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:b,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:b,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const h7e="https://staging-engine.testthelink.online",p7e={trialBalances:[],isLoading:!1,error:null},Fb=L("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${h7e}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),uN=L("trialBalance/exportTrialBalances",async t=>!0),t9=ye({name:"trialBalance",initialState:p7e,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(Fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fb.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(Fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(uN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uN.fulfilled,e=>{e.isLoading=!1}).addCase(uN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:g7e}=t9.actions,y7e=t9.reducer;function b7e(){const t="https://staging-engine.testthelink.online",e=se(),{trialBalances:r,isLoading:n,error:a}=q(f=>f.trialBalance),{funds:s}=q(f=>f.funds),{employees:i}=q(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(g7e()),e(Ht()),e(nn())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),g=m.headers.get("Content-Disposition");let b="Trial_Balance.xlsx";g&&g.includes("filename=")&&(b=g.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(h),x=document.createElement("a");x.href=p,x.download=b,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(p)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export trial balance")}},d=f=>{e(Fb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(m7e,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ge,{columns:c,data:r,loading:n,pagination:!0})})]})}const x7e=ie().shape({BudgetID:O().required("Budget is required"),budgetName:O(),fiscalYearID:O(),departmentID:O(),subDepartmentID:O(),chartOfAccountsID:O(),fundID:O(),projectID:O(),allotment:K().integer().required("Allotment is required"),remarks:O(),appropriation:K().integer(),balance:K().integer(),releasedAllotments:K().integer(),releasedBalance:K().integer(),Attachments:Tr()}),r5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",allotment:0,charges:0,totalAmount:0,balance:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function v7e({initialData:t,onSubmit:e,onClose:r,allotmentList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=v.useState({...r5});v.useEffect(()=>{if(t!=null&&t.ID){const{Budget:p}=t;f({BudgetID:p.ID,budgetName:p.Name||"",fiscalYearID:p.FiscalYearID||"",departmentID:p.DepartmentID||"",subDepartmentID:p.SubDepartmentID||"",chartOfAccountsID:p.ChartofAccountsID||"",fundID:p.FundID||"",projectID:p.ProjectID||"",allotment:p.Allotment||0,charges:p.Charges||0,totalAmount:p.TotalAmount||0,balance:p.AppropriationBalance||0,remarks:t.Remarks||"",appropriation:p.Appropriation||0,releasedAllotments:p.ReleasedAllotments||0,releasedBalance:p.ReleasedBalance||0,Attachments:p.Attachments||[]})}else f(r5)},[t]);const m=async(p,{setSubmitting:x})=>{try{const y=new FormData;p==null||p.Attachments.forEach((S,C)=>{S.ID?y.append(`Attachments[${C}].ID`,S.ID):y.append(`Attachments[${C}].File`,S)}),(p==null?void 0:p.Attachments.length)===0&&y.append("Attachments","[]");const w={BudgetID:p.BudgetID,Remarks:p.remarks,Allotment:p.allotment};Object.entries(w).forEach(([S,C])=>{y.append(S,JSON.stringify(C))}),t?(y.append("LinkID",JSON.stringify(t.LinkID)),y.append("IsNew",JSON.stringify(!1))):y.append("IsNew",JSON.stringify(!0)),await e(y)}catch(y){console.error("Submission error:",y)}finally{x(!1)}},h=p=>{const x=n==null?void 0:n.find(y=>y.ID===parseInt(p));x&&f({...d,BudgetID:x.ID,budgetName:x.Name||"",fiscalYearID:x.FiscalYearID||"",departmentID:x.DepartmentID||"",subDepartmentID:x.SubDepartmentID||"",chartOfAccountsID:x.ChartofAccountsID||"",fundID:x.FundID||"",projectID:x.ProjectID||"",appropriation:parseFloat(x.Appropriation)||0,balance:parseFloat(x.AppropriationBalance)||0,charges:parseFloat(x.Charges||0)})},g=(p,x,y)=>{const S=Array.from(p.target.files).map(C=>C);x("Attachments",[...y.Attachments,...S])},b=(p,x,y)=>{const w=[...y.Attachments];w.splice(p,1),x("Attachments",w)};return o.jsx(_e,{enableReinitialize:!0,initialValues:d,validationSchema:x7e,onSubmit:m,children:({values:p,errors:x,touched:y,handleChange:w,handleBlur:S,isSubmitting:C,setFieldValue:j})=>{var N;return o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2 pt-4",children:o.jsx(Xt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:h,options:n.map(A=>({label:A.Name,value:A.ID})),error:x.BudgetID,touched:y.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>g(A,j,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((N=p==null?void 0:p.Attachments)==null?void 0:N.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((A,E)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:A.ID?o.jsx("a",{href:`${API_URL}/uploads/${A.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.name||A.DataName}):A.name||A.DataName})]}),o.jsx("button",{type:"button",onClick:()=>b(E,j,p),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},E))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(k,{label:"Budget Name",name:"budgetName",type:"text",value:p.budgetName,onChange:w,onBlur:S,error:x.budgetName,touched:y.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:p.fiscalYearID,onChange:w,onBlur:S,error:x.fiscalYearID,touched:y.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Department",name:"departmentID",type:"select",value:p.departmentID,onChange:w,onBlur:S,error:x.departmentID,touched:y.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:p.subDepartmentID,onChange:w,onBlur:S,error:x.subDepartmentID,touched:y.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:p.chartOfAccountsID,onChange:w,onBlur:S,error:x.chartOfAccountsID,touched:y.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Fund",name:"fundID",type:"select",value:p.fundID,onChange:w,onBlur:S,error:x.fundID,touched:y.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Project",name:"projectID",type:"select",value:p.projectID,onChange:w,onBlur:S,error:x.projectID,touched:y.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Appropriation",name:"appropriation",type:"number",value:p.appropriation,onChange:w,onBlur:S,error:x.appropriation,touched:y.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Balance",name:"balance",type:"number",value:p.balance,onChange:w,onBlur:S,error:x.balance,touched:y.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:p.releasedAllotments,onChange:w,onBlur:S,error:x.releasedAllotments,touched:y.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Released Balance",name:"releasedBalance",type:"number",value:p.releasedBalance,onChange:w,onBlur:S,error:x.releasedBalance,touched:y.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(k,{label:"Allotment",name:"allotment",type:"number",value:p.allotment,onChange:w,onBlur:S,error:x.allotment,touched:y.allotment,required:!0}),o.jsx(k,{label:"Remarks",name:"remarks",type:"textarea",value:p.remarks,onChange:w,onBlur:S,error:x.remarks,touched:y.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const j7e=()=>{const t=se(),{user:e}=q(T=>T.auth),{departments:r}=q(T=>T.departments),{subdepartments:n}=q(T=>T.subdepartments),a=q(T=>{var I;return((I=T.chartOfAccounts)==null?void 0:I.accounts)||[]}),{fiscalYears:s}=q(T=>T.fiscalYears),{funds:i}=q(T=>T.funds),{projectDetails:l}=q(T=>T.projectDetails),[c,u]=v.useState([]),[d,f]=v.useState([]),[m,h]=v.useState(!1),[g,b]=v.useState(null),[p,x]=v.useState({department:"",subDepartment:"",chartOfAccounts:""});v.useEffect(()=>{t(tr()),t(No()),t(kr()),y(),w()},[]);const y=async()=>{try{const T=await Rt("/budgetAllotment/list");u(T.data)}catch(T){pe.error("Failed to load data"),pe.error(T.message)}},w=async()=>{try{const T=await Rt("/budgetSupplemental/budgetList");f(T==null?void 0:T.data)}catch(T){pe.error("Failed to load data"),pe.error(T.message)}},S=T=>{const{name:I,value:P}=T.target;x(M=>({...M,[I]:P}))},C=async T=>{try{(await Rt.post("budgetAllotment",T,{headers:{"Content-Type":"multipart/form-data"}})).data?(pe.success(g?"Allotment updated successfully":"New Allotment added"),y()):pe.error("Failed to save supplemental")}catch(I){console.error("Error submitting supplemental:",I),pe.error(I.message||"Failed to save supplemental")}finally{h(!1)}},j=T=>{b(T),h(!0)},N=[{key:"Status",header:"Status",render:T=>o.jsx("span",{children:T})},{key:"InvoiceNumber",header:"Invoice Number",render:(T,I)=>o.jsx("span",{children:I.InvoiceNumber})},{key:"Budget",header:"Budget",render:(T,I)=>{var P;return o.jsx("span",{children:(P=I.Budget)==null?void 0:P.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(T,I)=>{const P=new Date(I.InvoiceDate);return o.jsx("span",{children:P.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(T,I)=>o.jsx("span",{children:parseFloat(I.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],A=[{icon:ba,title:"Edit",onClick:j,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],E=c==null?void 0:c.filter(T=>{const{Budget:I}=T;return(!p.department||(I==null?void 0:I.DepartmentID)==p.department)&&(!p.subDepartment||(I==null?void 0:I.SubDepartmentID)==p.subDepartment)&&(!p.chartOfAccounts||(I==null?void 0:I.ChartofAccountsID)==p.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Allotment"}),o.jsx("p",{children:"Manage budget allotments here"})]}),o.jsxs("button",{onClick:()=>j(null),className:"btn btn-primary flex items-center",children:[o.jsx(Eue,{className:"h-5 w-5 mr-2"}),"Add Allotment"]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:p.department,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),r==null?void 0:r.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]}),o.jsxs("select",{name:"subDepartment",value:p.subDepartment,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:p.chartOfAccounts,onChange:S,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),a==null?void 0:a.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]})]}),o.jsx(ge,{columns:N,data:E,actions:A,loading:!1,pagination:!0}),o.jsx(ae,{size:"md",isOpen:m,onClose:()=>h(!1),title:g?"Edit Allotment":"Add Allotment",children:o.jsx(v7e,{allotmentList:d,departmentOptions:r.map(T=>({value:T.ID,label:T.Name})),subDepartmentOptions:n.map(T=>({value:T.ID,label:T.Name})),chartOfAccountsOptions:a.map(T=>({value:T.ID,label:T.Name})),fundOptions:i.map(T=>({value:T.ID,label:T.Name})),projectOptions:l.map(T=>({value:T.ID,label:T.Title})),fiscalYearOptions:s.map(T=>({value:T.ID,label:T.Name})),onSubmit:C,initialData:g,onClose:()=>h(!1)})})]})},hp="https://staging-engine.testthelink.online",n5=t=>({IsNew:!(t!=null&&t.ID),ID:(t==null?void 0:t.ID)||"",Name:t.Name,FiscalYearID:Number(t.FiscalYearID),DepartmentID:Number(t.DepartmentID),SubDepartmentID:Number(t.SubDepartmentID),ChartOfAccountsID:Number(t.ChartofAccountsID),FundID:Number(t.FundID),ProjectID:Number(t.ProjectID),Appropriation:Number(t.Appropriation),Charges:Number(t.Charges),January:Number(t.January),February:Number(t.February),March:Number(t.March),April:Number(t.April),May:Number(t.May),June:Number(t.June),July:Number(t.July),August:Number(t.August),September:Number(t.September),October:Number(t.October),November:Number(t.November),December:Number(t.December)}),w7e=()=>{const t=se(),{departments:e}=q(A=>A.departments),{subdepartments:r}=q(A=>A.subdepartments),n=q(A=>{var E;return((E=A.chartOfAccounts)==null?void 0:E.accounts)||[]}),{fiscalYears:a}=q(A=>A.fiscalYears),{funds:s}=q(A=>A.funds),{projectDetails:i}=q(A=>A.projectDetails),[l,c]=v.useState([]),[u,d]=v.useState(!1),[f,m]=v.useState(null),[h,g]=v.useState({department:"",subDepartment:"",chartOfAccounts:""});v.useEffect(()=>{t(tr()),t(No()),t(kr()),t(vn()),t(Ht()),t(xs()),b()},[]);const b=async()=>{try{const E=await(await fetch(`${hp}/budget`)).json();E!=null&&E.status?c((E==null?void 0:E.items)||[]):pe.error("Failed to fetch budget details")}catch(A){pe.error(A.message)}},p=A=>{const{name:E,value:T}=A.target;g(I=>({...I,[E]:T}))},x=A=>{f?w(A):y(A)},y=async A=>{try{await(await fetch(`${hp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n5(A))})).json()&&(b(),d(!1),pe.success("Budget added successfully"))}catch(E){pe.error(E.message)}},w=async A=>{try{await(await fetch(`${hp}/budgetDetails/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n5(A))})).json()&&(b(),d(!1),pe.success("Budget updated successfully"))}catch(E){pe.error(E.message)}},S=async A=>{try{await(await fetch(`${hp}/budget/${A}`,{method:"DELETE"})).json()&&(b(),pe.success("Budget deleted"))}catch(E){pe.error(E.message)}},C=[{key:"Name",header:"Name"},{key:"FiscalYearID",header:"Fiscal Year",render:A=>{const E=a==null?void 0:a.find(T=>T.ID===A);return o.jsx("span",{children:E==null?void 0:E.Name})}},{key:"DepartmentID",header:"Department",render:A=>{var T;const E=(T=e==null?void 0:e.find(I=>I.ID===A))==null?void 0:T.Name;return o.jsx("span",{children:E})}},{key:"SubDepartmentID",header:"Sub Department",render:A=>{var T;const E=(T=r==null?void 0:r.find(I=>I.ID===A))==null?void 0:T.Name;return o.jsx("span",{children:E})}},{key:"ChartofAccounts.Name",header:"Chart of Accounts",render:A=>{var T;const E=(T=n==null?void 0:n.find(I=>I.ID===A))==null?void 0:T.Name;return o.jsx("span",{children:E})}},{key:"FundID",header:"Fund",render:A=>{var T;const E=(T=s==null?void 0:s.find(I=>I.ID===A))==null?void 0:T.Name;return o.jsx("span",{children:E})}},{key:"ProjectID",header:"Project",render:A=>{var T;const E=(T=i==null?void 0:i.find(I=>I.ID===A))==null?void 0:T.Title;return o.jsx("span",{children:E})}},{key:"Appropriation",header:"Appropriation"},{key:"AppropriationBalance",header:"Appropriation Balance"},{key:"TotalAmount",header:"Total Amount"},{key:"Allotment",header:"Allotment"},{key:"AllotmentBalance",header:"Allotment Balance"},{key:"ChargedAllotment",header:"Charges"},{key:"PreEncumbrance",header:"Pre Encumbrance"},{key:"Encumbrance",header:"Encumbrance"},{key:"January",header:"January"},{key:"February",header:"February"},{key:"March",header:"March"},{key:"April",header:"April"},{key:"May",header:"May"},{key:"June",header:"June"},{key:"July",header:"July"},{key:"August",header:"August"},{key:"September",header:"September"},{key:"October",header:"October"},{key:"November",header:"November"},{key:"December",header:"December"}],j=[{icon:ba,title:"Edit",onClick:A=>{m(A),d(!0)},className:"text-primary-600 hover:text-primary-900 p-1"},{icon:Jn,title:"Delete",onClick:A=>S(A==null?void 0:A.ID),className:"text-red-600 hover:text-red-800 p-1"}],N=l.filter(A=>{var E,T,I;return(!h.department||((E=A.Department)==null?void 0:E.ID)==h.department)&&(!h.subDepartment||((T=A.SubDepartment)==null?void 0:T.ID)==h.subDepartment)&&(!h.chartOfAccounts||((I=A.ChartofAccounts)==null?void 0:I.ID)==h.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Details"}),o.jsx("p",{children:"View and manage detailed budget entries"})]}),o.jsxs("button",{onClick:()=>{m(null),d(!0)},className:"btn btn-primary flex items-center",children:[o.jsx(W0,{className:"h-5 w-5 mr-2"}),"Add Budget"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 my-4",children:[o.jsxs("select",{name:"department",value:h.department,onChange:p,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"subDepartment",value:h.subDepartment,onChange:p,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:h.chartOfAccounts,onChange:p,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(A=>o.jsx("option",{value:A.ID,children:A.Name},A.ID))]})]}),o.jsx(ge,{columns:C,data:N,actions:j,pagination:!0}),o.jsx(ae,{size:"lg",isOpen:u,onClose:()=>d(!1),title:f?"Edit Budget":"Add Budget",children:o.jsx(MU,{departmentOptions:e.map(A=>({value:A.ID,label:A.Name})),subDepartmentOptions:r.map(A=>({value:A.ID,label:A.Name})),chartOfAccountsOptions:n.map(A=>({value:A.ID,label:A.Name})),fundOptions:s.map(A=>({value:A.ID,label:A.Name})),projectOptions:i.map(A=>({value:A.ID,label:A.Title})),fiscalYearOptions:a.map(A=>({value:A.ID,label:A.Name})),onSubmit:x,initialData:f,onClose:()=>d(!1)})})]})},C7e="https://staging-engine.testthelink.online",N7e=()=>{const t=se(),{departments:e,isLoading:r}=q(p=>p.departments),{subdepartments:n,isLoading:a}=q(p=>p.subdepartments),s=q(p=>{var x;return((x=p.chartOfAccounts)==null?void 0:x.accounts)||[]}),[i,l]=v.useState([]),[c,u]=v.useState({department:"",subDepartment:"",chartOfAccounts:""}),[d,f]=v.useState(!0);v.useEffect(()=>{t(tr()),t(No()),t(kr()),m()},[]);const m=async()=>{try{f(!0);const x=await(await fetch(`${C7e}/budgetSummary/`)).json();l(x||[])}catch(p){console.error("Error fetching budget summaries:",p)}finally{f(!1)}},h=p=>{const{name:x,value:y}=p.target;u(w=>({...w,[x]:y}))},g=i.filter(p=>{var x,y;return(!c.department||((x=p.Department)==null?void 0:x.Name)===c.department)&&(!c.subDepartment||((y=p.SubDepartment)==null?void 0:y.Name)===c.subDepartment)&&(!c.chartOfAccounts||p.ChartOfAccounts===c.chartOfAccounts)}),b=[{key:"Name",header:"Name",sortable:!0},{key:"FiscalYearID",header:"Fiscal Year",sortable:!0,render:(p,x)=>x==null?void 0:x.FiscalYear.Name},{key:"DepartmentID",header:"Department",sortable:!0,render:(p,x)=>{var y;return(y=x==null?void 0:x.Department)==null?void 0:y.Name}},{key:"SubDepartmentID",header:"Sub Department",sortable:!0,render:(p,x)=>{var y;return(y=x==null?void 0:x.SubDepartment)==null?void 0:y.Name}},{key:"ChartofAccountsID",header:"Chart of Accounts",sortable:!0,render:(p,x)=>{var y;return(y=x==null?void 0:x.ChartofAccounts)==null?void 0:y.Name}},{key:"FundsID",header:"Fund",sortable:!0,render:(p,x)=>{var y;return(y=x==null?void 0:x.Funds)==null?void 0:y.Name}},{key:"ProjectID",header:"Project",sortable:!0,render:(p,x)=>{var y;return(y=x==null?void 0:x.Project)==null?void 0:y.Title}},{key:"Appropriation",header:"Appropriation",sortable:!0},{key:"AppropriationBalance",header:"Appropriation Balance",sortable:!0},{key:"TotalAmount",header:"Total Amount",sortable:!0},{key:"ChargedAllotment",header:"Allotment",sortable:!0},{key:"AllotmentBalance",header:"Allotment Balance",sortable:!0},{key:"Charges",header:"Charges",sortable:!0},{key:"PreEncumbrance",header:"Pre Encumbr.",sortable:!0},{key:"Encumbrance",header:"Encumbrance",sortable:!0},{key:"January",header:"January",sortable:!0},{key:"February",header:"February",sortable:!0},{key:"March",header:"March",sortable:!0},{key:"April",header:"April",sortable:!0},{key:"May",header:"May",sortable:!0},{key:"June",header:"June",sortable:!0},{key:"July",header:"July",sortable:!0},{key:"August",header:"August",sortable:!0},{key:"September",header:"September",sortable:!0},{key:"October",header:"October",sortable:!0},{key:"November",header:"November",sortable:!0},{key:"December",header:"December",sortable:!0}];return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Summary"}),o.jsx("p",{children:"Review the budget performance across months and categories."})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:c.department,onChange:h,className:"form-select",children:[o.jsx("option",{value:"",children:"All Department"}),e==null?void 0:e.map(p=>o.jsx("option",{value:p.Name,children:p.Name},p.ID))]}),o.jsxs("select",{name:"subDepartment",value:c.subDepartment,onChange:h,className:"form-select",children:[o.jsx("option",{value:"",children:"All Sub Department"}),n==null?void 0:n.map(p=>o.jsx("option",{value:p.Name,children:p.Name},p.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:c.chartOfAccounts,onChange:h,className:"form-select",children:[o.jsx("option",{value:"",children:"All Chart of Account"}),s==null?void 0:s.map(p=>o.jsx("option",{value:p.Name,children:p.Name},p.ID))]})]}),o.jsx(ge,{columns:b,data:g,loading:d||r||a,pagination:!0})]})},S7e=ie().shape({BudgetID:O().required("Budget is required"),budgetName:O(),fiscalYearID:O(),departmentID:O(),subDepartmentID:O(),chartOfAccountsID:O(),fundID:O(),projectID:O(),supplemental:K().integer().required("Supplemental is required"),remarks:O(),appropriation:K().integer(),balance:K().integer(),releasedAllotments:K().integer(),releasedBalance:K().integer(),Attachments:Tr()}),a5={BudgetID:"",budgetName:"",fiscalYearID:"",departmentID:"",subDepartmentID:"",chartOfAccountsID:"",fundID:"",projectID:"",supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0,Attachments:[]};function A7e({initialData:t,onSubmit:e,onClose:r,budgetList:n,departmentOptions:a,subDepartmentOptions:s,chartOfAccountsOptions:i,fundOptions:l,projectOptions:c,fiscalYearOptions:u}){const[d,f]=v.useState({...a5});v.useEffect(()=>{if(t!=null&&t.ID){const{Budget:p}=t;f({BudgetID:p.ID,budgetName:p.Name||"",fiscalYearID:p.FiscalYearID||"",departmentID:p.DepartmentID||"",subDepartmentID:p.SubDepartmentID||"",chartOfAccountsID:p.ChartofAccountsID||"",fundID:p.FundID||"",projectID:p.ProjectID||"",supplemental:p.Supplemental||0,charges:p.Charges||0,totalAmount:p.TotalAmount||0,balance:p.AppropriationBalance||0,remarks:t.Remarks||"",appropriation:p.Appropriation||0,releasedAllotments:p.ReleasedAllotments||0,releasedBalance:p.ReleasedBalance||0,Attachments:p.Attachments||[]})}else f(a5)},[t]);const m=async(p,{setSubmitting:x})=>{try{const y=new FormData;p==null||p.Attachments.forEach((S,C)=>{S.ID?y.append(`Attachments[${C}].ID`,S.ID):y.append(`Attachments[${C}].File`,S)}),(p==null?void 0:p.Attachments.length)===0&&y.append("Attachments","[]"),console.log({values:p});const w={BudgetID:p.BudgetID,Remarks:p.remarks,Supplemental:p.supplemental};Object.entries(w).forEach(([S,C])=>{y.append(S,JSON.stringify(C))}),t?(y.append("LinkID",JSON.stringify(t.LinkID)),y.append("IsNew",JSON.stringify(!1))):y.append("IsNew",JSON.stringify(!0)),await e(y)}catch(y){console.error("Submission error:",y)}finally{x(!1)}},h=p=>{const x=n==null?void 0:n.find(y=>y.ID===parseInt(p));x&&f({...d,BudgetID:x.ID,budgetName:x.Name||"",fiscalYearID:x.FiscalYearID||"",departmentID:x.DepartmentID||"",subDepartmentID:x.SubDepartmentID||"",chartOfAccountsID:x.ChartofAccountsID||"",fundID:x.FundID||"",projectID:x.ProjectID||"",appropriation:parseFloat(x.Appropriation)||0,balance:parseFloat(x.AppropriationBalance)||0,charges:parseFloat(x.Charges||0)})},g=(p,x,y)=>{const S=Array.from(p.target.files).map(C=>C);x("Attachments",[...y.Attachments,...S])},b=(p,x,y)=>{const w=[...y.Attachments];w.splice(p,1),x("Attachments",w)};return o.jsx(_e,{enableReinitialize:!0,initialValues:d,validationSchema:S7e,onSubmit:m,children:({values:p,errors:x,touched:y,handleChange:w,handleBlur:S,isSubmitting:C,setFieldValue:j})=>{var N;return o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{className:"md:col-span-2  pt-4",children:o.jsx(Xt,{label:"Select Budget",name:"BudgetID",type:"select",required:!0,selectedValue:d.BudgetID,onSelect:h,options:n.map(A=>({label:A.Name,value:A.ID})),error:x.BudgetID,touched:y.BudgetID})}),o.jsxs("div",{className:"mb-4 md:col-span-2 py-4 border-b border-gray-300",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:A=>g(A,j,p),className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),((N=p==null?void 0:p.Attachments)==null?void 0:N.length)>0?o.jsx("div",{className:"space-y-2 py-2 mt-2",children:p.Attachments.map((A,E)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(el,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:A.ID?o.jsx("a",{href:`${API_URL}/uploads/${A.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.name||A.DataName}):A.name||A.DataName})]}),o.jsx("button",{type:"button",onClick:()=>b(E,j,p),className:"text-red-500 hover:text-red-700",children:o.jsx(gr,{className:"h-4 w-4"})})]},E))}):o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"No attachments added"})]}),o.jsx(k,{label:"Budget Name",name:"budgetName",type:"text",value:p.budgetName,onChange:w,onBlur:S,error:x.budgetName,touched:y.budgetName,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Fiscal Year",name:"fiscalYearID",type:"select",value:p.fiscalYearID,onChange:w,onBlur:S,error:x.fiscalYearID,touched:y.fiscalYearID,options:u,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Department",name:"departmentID",type:"select",value:p.departmentID,onChange:w,onBlur:S,error:x.departmentID,touched:y.departmentID,options:a,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Sub-Department",name:"subDepartmentID",type:"select",value:p.subDepartmentID,onChange:w,onBlur:S,error:x.subDepartmentID,touched:y.subDepartmentID,options:s,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Chart of Accounts",name:"chartOfAccountsID",type:"select",value:p.chartOfAccountsID,onChange:w,onBlur:S,error:x.chartOfAccountsID,touched:y.chartOfAccountsID,options:i,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Fund",name:"fundID",type:"select",value:p.fundID,onChange:w,onBlur:S,error:x.fundID,touched:y.fundID,options:l,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Project",name:"projectID",type:"select",value:p.projectID,onChange:w,onBlur:S,error:x.projectID,touched:y.projectID,options:c,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Appropriation",name:"appropriation",type:"number",value:p.appropriation,onChange:w,onBlur:S,error:x.appropriation,touched:y.appropriation,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Balance",name:"balance",type:"number",value:p.balance,onChange:w,onBlur:S,error:x.balance,touched:y.balance,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Released Allotments",name:"releasedAllotments",type:"number",value:p.releasedAllotments,onChange:w,onBlur:S,error:x.releasedAllotments,touched:y.releasedAllotments,disabled:!0,className:"bg-gray-100",readOnly:!0}),o.jsx(k,{label:"Released Balance",name:"releasedBalance",type:"number",value:p.releasedBalance,onChange:w,onBlur:S,error:x.releasedBalance,touched:y.releasedBalance,disabled:!0,className:"bg-gray-100",readOnly:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t border-gray-300 py-4",children:[o.jsx(k,{label:"Supplemental",name:"supplemental",type:"number",value:p.supplemental,onChange:w,onBlur:S,error:x.supplemental,touched:y.supplemental,required:!0}),o.jsx(k,{label:"Remarks",name:"remarks",type:"textarea",value:p.remarks,onChange:w,onBlur:S,error:x.remarks,touched:y.remarks})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:t?"Update":"Save"})]})]})}})}const T7e=()=>{const t=se(),{departments:e}=q(T=>T.departments),{subdepartments:r}=q(T=>T.subdepartments),n=q(T=>{var I;return((I=T.chartOfAccounts)==null?void 0:I.accounts)||[]}),{fiscalYears:a}=q(T=>T.fiscalYears),{funds:s}=q(T=>T.funds),{projectDetails:i}=q(T=>T.projectDetails),[l,c]=v.useState([]),[u,d]=v.useState([]);v.useEffect(()=>{t(vn()),t(Ht()),t(xs()),t(tr()),t(No()),t(kr()),f(),m()},[]);const f=async()=>{try{const T=await Rt("/budgetSupplemental/list");c(T==null?void 0:T.data)}catch(T){pe.error("Failed to load data"),pe.error(T.message)}},m=async()=>{try{const T=await Rt("/budgetSupplemental/budgetList");d(T==null?void 0:T.data)}catch(T){pe.error("Failed to load data"),pe.error(T.message)}},[h,g]=v.useState(!1),[b,p]=v.useState(null),[x,y]=v.useState({department:"",subDepartment:"",chartOfAccounts:""}),w=T=>{p(T),g(!0)},S=async T=>{},C=async T=>{try{(await Rt.post("budgetSupplemental/save",T,{headers:{"Content-Type":"multipart/form-data"}})).data?(pe.success(b?"Supplemental updated successfully":"New supplemental added"),f()):pe.error("Failed to save supplemental")}catch(I){console.error("Error submitting supplemental:",I),pe.error(I.message||"Failed to save supplemental")}finally{g(!1)}},j=T=>{const{name:I,value:P}=T.target;y(M=>({...M,[I]:P}))},N=[{key:"Status",header:"Status",render:(T,I)=>o.jsx("span",{children:I.Status})},{key:"InvoiceNumber",header:"Invoice Number",render:(T,I)=>o.jsx("span",{children:I.InvoiceNumber})},{key:"Budget",header:"Budget",render:(T,I)=>{var P;return o.jsx("span",{children:(P=I.Budget)==null?void 0:P.Name})}},{key:"InvoiceDate",header:"Invoice Date",render:(T,I)=>{const P=new Date(I.InvoiceDate);return o.jsx("span",{children:P.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})}},{key:"Total",header:"Total",render:(T,I)=>o.jsx("span",{children:parseFloat(I.Total).toLocaleString("en-US",{minimumFractionDigits:2})})}],A=[{icon:ba,title:"Edit",onClick:w,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:S,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],E=l.filter(T=>{console.log(x,T);const{Budget:I}=T;return(!x.department||(I==null?void 0:I.DepartmentID)==x.department)&&(!x.subDepartment||(I==null?void 0:I.SubDepartmentID)==x.subDepartment)&&(!x.chartOfAccounts||(I==null?void 0:I.ChartofAccountsID)==x.chartOfAccounts)});return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Supplemental"}),o.jsx("p",{children:"Manage your supplemental budgets here"})]}),o.jsxs("button",{onClick:()=>w(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Supplemental"]})]}),o.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[o.jsxs("select",{name:"department",value:x.department,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]}),o.jsxs("select",{name:"subDepartment",value:x.subDepartment,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]}),o.jsxs("select",{name:"chartOfAccounts",value:x.chartOfAccounts,onChange:j,className:"form-select",children:[o.jsx("option",{value:"",children:"Select Chart of Account"}),n==null?void 0:n.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]})]}),o.jsx(ge,{columns:N,data:E,actions:A,pagination:!0}),o.jsx(ae,{size:"md",isOpen:h,onClose:()=>g(!1),title:b?"Edit Supplemental":"Add New Supplemental",children:o.jsx(A7e,{budgetList:u,departmentOptions:e.map(T=>({value:T.ID,label:T.Name})),subDepartmentOptions:r.map(T=>({value:T.ID,label:T.Name})),chartOfAccountsOptions:n.map(T=>({value:T.ID,label:T.Name})),fundOptions:s.map(T=>({value:T.ID,label:T.Name})),projectOptions:i.map(T=>({value:T.ID,label:T.Title})),fiscalYearOptions:a.map(T=>({value:T.ID,label:T.Name})),onSubmit:C,initialData:b,onClose:()=>g(!1)})})]})},k7e=ie({sourceBudgetName:O().required("Code is required"),sourceFiscalYear:O().required("Code is required"),sourceDepartment:O().required("Code is required"),sourceSubDepartment:O().required("Code is required"),sourceAccounts:O().required("Code is required"),sourceFund:O().required("Code is required"),sourceProject:O().required("Code is required"),sourceTransfer:K().required("Amount is required").min(0,"Amount must be positive"),sourceRemarks:O().required("Year is required"),sourceAppropriation:K().required("Amount is required").min(0,"Amount must be positive"),sourceAppropriationBalance:K().required("Amount is required").min(0,"Amount must be positive"),sourceReleasedAllotments:K().required("Amount is required").min(0,"Amount must be positive"),sourceAllotmentBalance:K().required("Amount is required").min(0,"Amount must be positive"),targetBudgetName:O().required("Code is required"),targetFiscalYear:O().required("Code is required"),targetDepartment:O().required("Code is required"),targetSubDepartment:O().required("Code is required"),targetAccounts:O().required("Code is required"),targetFund:O().required("Code is required"),targetProject:O().required("Code is required"),targetTransfer:K().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:O().required("Year is required"),targetAppropriation:K().required("Amount is required").min(0,"Amount must be positive"),targetAppropriationBalance:K().required("Amount is required").min(0,"Amount must be positive"),targetReleasedAllotments:K().required("Amount is required").min(0,"Amount must be positive"),targetAllotmentBalance:K().required("Amount is required").min(0,"Amount must be positive")}),s5={sourceBudgetName:"",sourceFiscalYear:"",sourceDepartment:"",sourceSubDepartment:"",sourceAccounts:"",sourceFund:"",sourceProject:"",sourceTransfer:0,sourceRemarks:"",sourceAppropriation:0,sourceAppropriationBalance:0,sourceReleasedAllotments:0,sourceAllotmentBalance:0,targetBudgetName:"",targetFiscalYear:"",targetDepartment:"",targetSubDepartment:"",targetAccounts:"",targetFund:"",targetProject:"",targetTransfer:0,targetRemarks:"",targetAppropriation:0,targetAppropriationBalance:0,targetReleasedAllotments:0,targetAllotmentBalance:0};function I7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...s5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(s5)},[t]),o.jsx(_e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:k7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(k,{label:"Budget Name",name:"sourceBudgetName",type:"text",onChange:u,onBlur:d,value:i.sourceBudgetName,error:l.sourceBudgetName,touched:c.sourceBudgetName,required:!0}),o.jsx(k,{label:"Fiscal Year",name:"sourceFiscalYear",type:"text",onChange:u,onBlur:d,value:i.sourceFiscalYear,error:l.sourceFiscalYear,touched:c.sourceFiscalYear,required:!0}),o.jsx(k,{label:"Department",name:"sourceDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceDepartment,error:l.sourceDepartment,touched:c.sourceDepartment,required:!0}),o.jsx(k,{label:"Sub Department",name:"sourceSubDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceSubDepartment,error:l.sourceSubDepartment,touched:c.sourceSubDepartment,required:!0}),o.jsx(k,{name:"sourceAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.sourceAccounts,error:l.sourceAccounts,touched:c.sourceAccounts,required:!0}),o.jsx(k,{name:"sourceFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.sourceFund,error:l.sourceFund,touched:c.sourceFund,required:!0}),o.jsx(k,{name:"sourceProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.sourceProject,error:l.sourceProject,touched:c.sourceProject,required:!0}),o.jsx(k,{name:"sourceTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(k,{name:"sourceAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.sourceAppropriation,error:l.sourceAppropriation,touched:c.sourceAppropriation,required:!0})," ",o.jsx(k,{name:"sourceAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.sourceAppropriationBalance,error:l.sourceAppropriationBalance,touched:c.sourceAppropriationBalance,required:!0}),o.jsx(k,{name:"Remarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(k,{label:"Budget Name",name:"targetBudgetName",type:"text",onChange:u,onBlur:d,value:i.targetBudgetName,error:l.targetBudgetName,touched:c.targetBudgetName,required:!0}),o.jsx(k,{label:"Fiscal Year",name:"targetFiscalYear",type:"text",onChange:u,onBlur:d,value:i.targetFiscalYear,error:l.targetFiscalYear,touched:c.targetFiscalYear,required:!0}),o.jsx(k,{label:"Department",name:"targetDepartment",type:"text",onChange:u,onBlur:d,value:i.targetDepartment,error:l.targetDepartment,touched:c.targetDepartment,required:!0}),o.jsx(k,{label:"Sub Department",name:"targetSubDepartment",type:"text",onChange:u,onBlur:d,value:i.targetSubDepartment,error:l.targetSubDepartment,touched:c.targetSubDepartment,required:!0}),o.jsx(k,{name:"targetAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.targetAccounts,error:l.targetAccounts,touched:c.targetAccounts,required:!0}),o.jsx(k,{name:"targetFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.targetFund,error:l.targetFund,touched:c.targetFund,required:!0}),o.jsx(k,{name:"targetProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.targetProject,error:l.targetProject,touched:c.targetProject,required:!0}),o.jsx(k,{name:"targetTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(k,{name:"targetAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.targetAppropriation,error:l.targetAppropriation,touched:c.targetAppropriation,required:!0})," ",o.jsx(k,{name:"targetAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.targetAppropriationBalance,error:l.targetAppropriationBalance,touched:c.targetAppropriationBalance,required:!0}),o.jsx(k,{name:"targetRemarks ",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const E7e=()=>{se();const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=d=>{n(d),e(!0)},s=d=>{pe.success(`Deleted ${d.InvoiceNumber}`)},i=d=>{r?pe.success("Transfer updated successfully"):pe.success("New transfer added"),e(!1)},l=[{key:"InvoiceNumber",header:"Invoice #",sortable:!0},{key:"Budget",header:"Budget",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"Total",header:"Total",sortable:!0,numeric:!0},{key:"Remarks",header:"Remarks",sortable:!1}],c=[{icon:ba,title:"Edit",onClick:a,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:s,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],u=[{InvoiceNumber:"BT-18-2025",Budget:"Traveling Expenses",Status:"Posted",InvoiceDate:"03-03-2025",Total:"5,000.00",Remarks:""},{InvoiceNumber:"BT-17-2025",Budget:"Electricity Expenses",Status:"Posted",InvoiceDate:"25-02-2025",Total:"99,00,000.00",Remarks:"testing"}];return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Transfer"}),o.jsx("p",{children:"Manage your budget transfers here"})]}),o.jsxs("button",{onClick:()=>a(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2"}),"Add Transfer"]})]}),o.jsx(ge,{columns:l,data:u,actions:c,pagination:!0}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(I7e,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},O7e=ie({Code:O().required("Code is required"),Name:O().required("Name is required"),Description:O().required("Description is required"),Amount:K().required("Amount is required").min(0,"Amount must be positive")}),o5={Code:"",Name:"",Description:"",Amount:0};function P7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...o5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({ID:(t==null?void 0:t.ID)||"",Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",Description:(t==null?void 0:t.Description)||"",Amount:(t==null?void 0:t.OriginalAmount)||""}):a(o5)},[t]),o.jsx(_e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:O7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(k,{label:"Code",name:"Code",type:"text",onChange:u,onBlur:d,value:i.Code,error:l.Code,touched:c.Code,placeholder:"e.g., 1-01-01-010",required:!0}),o.jsx(k,{label:"Name",name:"Name",type:"text",onChange:u,onBlur:d,value:i.Name,error:l.Name,touched:c.Name,placeholder:"Enter Name ",required:!0}),o.jsx(k,{label:"Amount",name:"Amount",type:"text",onChange:u,onBlur:d,value:i.Amount,error:l.Amount,touched:c.Amount,placeholder:"Enter Amount ",required:!0}),o.jsx(k,{name:"Description",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.Description,error:l.Description,touched:c.Description,placeholder:"Enter Description",required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const D7e=()=>{const t=se(),{funds:e,loading:r}=q(g=>g.funds),[n,a]=v.useState(!1),[s,i]=v.useState(null),l=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:g=>g||""},{key:"Name",header:"Name",sortable:!0,render:g=>o.jsx("span",{className:"font-medium",children:g||""})},{key:"Description",header:"Description",sortable:!0,render:g=>o.jsx("span",{className:"text-gray-600",children:g||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,className:"text-right",render:g=>o.jsx("span",{className:"font-medium",children:g?c(g):""})}],c=g=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(g),f=[{icon:ba,title:"Edit",onClick:g=>{i(g),a(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:async g=>{await t(Yy(g.ID)).unwrap(),t(Ht())},className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],m=async g=>{s?await t(Gy(g)).unwrap():await t(Hy(g)).unwrap(),t(Ht()),a(!1),i(null)},h=g=>{console.log("View row:",g)};return v.useEffect(()=>{t(Ht())},[t]),o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Funds"}),o.jsx("p",{children:"Manage budget funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:()=>{i(null),a(!0)},className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:l,data:e,actions:f,loading:r,onRowClick:h})}),o.jsx(ae,{size:"sm",isOpen:n,onClose:()=>{a(!1),i(null)},title:s?"Edit Budget Fund":"Add New Budget Fund",children:o.jsx(P7e,{onSubmit:m,initialData:s,onClose:()=>{a(!1),i(null)}})})]})},_7e="https://staging-engine.testthelink.online",$7e=()=>{const t=se(),{fiscalYears:e}=q(T=>T.fiscalYears),{funds:r}=q(T=>T.funds),{departments:n}=q(T=>T.departments),[a,s]=v.useState("appropriations"),[i,l]=v.useState([]),[c,u]=v.useState(!1),[d,f]=v.useState(""),[m,h]=v.useState(""),[g,b]=v.useState(""),[p,x]=v.useState(""),[y,w]=v.useState("");v.useEffect(()=>{t(vn()),t(Ht()),t(tr())},[t]);const S=()=>({startDate:d,endDate:m,fiscalYearID:g,fundsID:p,departmentID:y}),C=()=>d&&m&&g&&p&&y,j=async T=>{if(!C()){pe.error("Please select all filters");return}u(!0);try{s(T);const I=T==="appropriations"?"/statementOfAppropriations/view":"/statementOfAppropriations/viewSAO",P=await Rt.post(I,S());l(P.data)}catch{pe.error("Failed to fetch data")}finally{u(!1)}},N=[{key:"Fund",header:"Fund"},{key:"Year",header:"Year"},{key:"Month End",header:"Month End"},{key:"Account Code",header:"Account Code"},{key:"ID",header:"ID"},{key:"Category",header:"Category"},{key:"Name",header:"Name"},{key:"Appropriation",header:"Appropriation",numeric:!0},{key:"Allotment",header:"Allotment",numeric:!0},{key:"Obligation",header:"Obligation",numeric:!0},{key:"Unobligated Appropriation",header:"Unobligated Appropriation",numeric:!0},{key:"Unobligated Allotment",header:"Unobligated Allotment",numeric:!0},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Requested By",header:"Requested By"},{key:"Position",header:"Position"}],A=[{key:"Date",header:"Date"},{key:"OBR No.",header:"OBR No."},{key:"Particulars",header:"Particulars"},{key:"Appropriation/ Allotment",header:"Appropriation/ Allotment",numeric:!0},{key:"Expenses",header:"Expenses",numeric:!0},{key:"Balance",header:"Balance",numeric:!0}],E=async()=>{if(!C()){pe.error("Please select all filters");return}try{const T=await fetch(`${_7e}/statementOfAppropriations/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S())});if(!T.ok)throw new Error("Server response was not ok");const I=await T.blob(),P=T.headers.get("Content-Disposition");let M="StatementOfAppropriations.xlsx";P&&P.includes("filename=")&&(M=P.split("filename=")[1].replace(/['"]/g,""));const $=window.URL.createObjectURL(I),_=document.createElement("a");_.href=$,_.download=M,document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL($)}catch(T){console.error("Export failed:",T),pe.error(T.message||"Failed to export file")}};return o.jsxs("div",{className:"page-container",children:[o.jsxs("div",{className:"page-header mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Manage budget allocations and balances"})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-end mb-4",children:[o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Start Date"}),o.jsx("input",{type:"date",className:"form-input",value:d,onChange:T=>f(T.target.value)})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"End Date"}),o.jsx("input",{type:"date",className:"form-input",value:m,onChange:T=>h(T.target.value)})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Fiscal Year"}),o.jsxs("select",{className:"form-select",value:g,onChange:T=>b(T.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),e.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Fund"}),o.jsxs("select",{className:"form-select",value:p,onChange:T=>x(T.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]})]}),o.jsxs("div",{className:"w-44",children:[o.jsx("label",{children:"Department"}),o.jsxs("select",{className:"form-select",value:y,onChange:T=>w(T.target.value),children:[o.jsx("option",{value:"",children:"-- Select --"}),n.map(T=>o.jsx("option",{value:T.ID,children:T.Name},T.ID))]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 w-max mb-4",children:[o.jsx("button",{onClick:()=>j("appropriations"),className:"btn btn-primary",children:"View"}),o.jsx("button",{onClick:()=>j("viewSAO"),className:"btn btn-primary",children:"View SAO"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAAOB"}),o.jsx("button",{className:"btn btn-secondary",children:"Generate SAO"}),o.jsx("button",{className:"btn btn-outline",onClick:E,children:"Export to Excel"})]}),o.jsx(ge,{columns:a==="appropriations"?N:A,data:i,loading:c})]})},R7e=ie({fund:O().required("Fund is required"),code:O().required("Code is required"),name:O().required("Name is required"),desc:O().required("Description is required"),amount:K().required("Amount is required").min(0,"Amount must be positive")}),i5={code:"",name:"",fund:"",desc:"",amount:0};function M7e({initialData:t,onSubmit:e,onClose:r,funds:n}){const[a,s]=v.useState({...i5}),i=(l,{setSubmitting:c})=>{e(l),c(!1),console.log("Form submitted with values:",l)};return v.useEffect(()=>{t!=null&&t.ID?s({id:t==null?void 0:t.ID,code:t==null?void 0:t.Code,name:t==null?void 0:t.Name,desc:t==null?void 0:t.Description,amount:t==null?void 0:t.Amount,fund:t==null?void 0:t.FundsID}):s(i5)},[t]),o.jsx(_e,{enableReinitialize:!0,onSubmit:i,initialValues:a,validationSchema:R7e,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(k,{label:"Code",name:"code",type:"text",placeholder:"Enter code",onChange:d,onBlur:f,value:l.code,error:c.code,touched:u.code,required:!0}),o.jsx(k,{label:"Name",name:"name",type:"text",placeholder:"Enter name",onChange:d,onBlur:f,value:l.name,error:c.name,touched:u.name,required:!0}),o.jsx(k,{label:"Amount",name:"amount",type:"text",placeholder:"Enter amount",onChange:d,onBlur:f,value:l.amount,error:c.amount,touched:u.amount,required:!0}),o.jsx(k,{label:"Fund",name:"fund",type:"select",placeholder:"Select fund",onChange:d,onBlur:f,value:l.fund,error:c.fund,touched:u.fund,options:n,required:!0}),o.jsx(k,{name:"desc",type:"textarea",label:"Description",placeholder:"Enter description",onChange:d,onBlur:f,value:l.desc,error:c.desc,touched:u.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const L7e=()=>{const t=se(),{subFunds:e,isLoading:r}=q(x=>x.subFunds),{funds:n,loading:a}=q(x=>x.funds),[s,i]=v.useState(!1),[l,c]=v.useState(null),u=[{key:"FundsID",header:"Funds ID",sortable:!0,className:"font-medium text-neutral-900",render:x=>x||""},{key:"Code",header:"Code",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Name",header:"Name",sortable:!0,render:x=>o.jsx("span",{className:"font-medium",children:x||""})},{key:"Description",header:"Description",sortable:!0,render:x=>o.jsx("span",{className:"text-gray-600",children:x||"No description"})},{key:"Amount",header:"Amount",sortable:!0,className:"text-right",render:x=>o.jsx("span",{className:"font-medium",children:x?f(x):""})}],d=[{icon:ba,title:"Edit",onClick:x=>g(x),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:x=>m(x),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],f=x=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(x),m=async x=>{try{await t(Ob(x.ID)).unwrap(),pe.success("Sub fund deleted successfully")}catch(y){pe.error(y.payload||"Failed to delete sub fund"),console.error(y)}},h=async x=>{try{if(l){const y={IsNew:!1,ID:l.ID,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(eT(y)).unwrap(),pe.success("Sub fund updated successfully")}else{const y={IsNew:!0,FundsID:x.fund,Code:x.code,Name:x.name,Description:x.desc,Amount:x.amount};await t(Eb(y)).unwrap(),pe.success("Sub fund added successfully")}t(Zd()),i(!1),c(null)}catch(y){pe.error(y.payload||"Failed to save sub fund"),console.error(y)}},g=x=>{c(x),i(!0)},b=x=>{console.log("View row:",x)};v.useEffect(()=>{t(Zd()),t(Ht())},[t]);const p=n==null?void 0:n.map(x=>({value:x.ID,label:x.Name}));return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Sub Funds"}),o.jsx("p",{children:"Manage budget sub funds and allocations"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:()=>g(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Sub Fund"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:u,data:e,actions:d,loading:r||a,onRowClick:b})}),o.jsx(ae,{size:"sm",isOpen:s,onClose:()=>i(!1),title:l?"Edit Sub Fund":"Add New Sub Fund",children:o.jsx(M7e,{onSubmit:h,initialData:l,funds:p,onClose:()=>i(!1)})})]})},F7e=ie({sourceCode:O().required("Code is required"),sourceFundName:O().required("Name is required"),sourceBalance:K().required("Balance is required").min(0,"Balance must be positive"),sourceTransfer:K().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:O().required("Year is required"),targetCode:O().required("Code is required"),targetFundName:O().required("Name is required"),targetBalance:K().required("Balance is required").min(0,"Balance must be positive"),targetTransfer:K().required("Amount is required").min(0,"Amount must be positive")}),l5={sourceCode:"",sourceFundName:"",sourceBalance:0,sourceTransfer:0,sourceRemarks:"",targetCode:"",targetFundName:"",targetBalance:0,targetTransfer:0,targetRemarks:""};function B7e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...l5}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(l5)},[t]),o.jsx(_e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:F7e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(k,{label:"Code",name:"targeteCode",type:"text",onChange:u,onBlur:d,value:i.targeteCode,error:l.targetCode,touched:c.targetCode,required:!0}),o.jsx(k,{label:"Name",name:"targetFundName",type:"text",onChange:u,onBlur:d,value:i.targetFundName,error:l.targetFundName,touched:c.targetFundName,required:!0}),o.jsx(k,{label:"Balance",name:"targetBalance",type:"text",onChange:u,onBlur:d,value:i.targetBalance,error:l.targetBalance,touched:c.targetBalance,required:!0}),o.jsx(k,{label:"Transfer",name:"targetTransfer",type:"text",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(k,{name:"targetRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(k,{label:"Code",name:"code",type:"text",onChange:u,onBlur:d,value:i.sourceCode,error:l.sourceCode,touched:c.sourceCode,required:!0}),o.jsx(k,{label:"Name",name:"name",type:"text",onChange:u,onBlur:d,value:i.sourceFundName,error:l.sourceFundName,touched:c.sourceFundName,required:!0}),o.jsx(k,{label:"Balance",name:"sourceBalance",type:"text",onChange:u,onBlur:d,value:i.sourceBalance,error:l.sourceBalance,touched:c.sourceBalance,required:!0}),o.jsx(k,{label:"Transfer",name:"sourceTransfer",type:"text",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(k,{name:"sourceRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const q7e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a]=v.useState([{id:1,Code:"100",Name:"General Fund",Description:"The general fund.",OriginalAmount:"50,10,00,00,050.00",Balance:"50,10,00,00,050.00",Total:"50,10,00,00,050.00"},{id:2,Code:"300",Name:"Trust Fund",Description:"The trust fund.",OriginalAmount:"1,99,950.00",Balance:"3,00,000.00",Total:"3,00,000.00"},{id:3,Code:"200",Name:"Special Education Fund",Description:"The special education fund.",OriginalAmount:"2,00,000.00",Balance:"2,00,000.00",Total:"2,00,000.00"},{id:4,Code:"000",Name:"Test Fund",Description:"This is just a test fund. This will also be deleted.",OriginalAmount:"1,00,000.00",Balance:"1,00,000.00",Total:"1,00,000.00"}]),s=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900",render:f=>f||""},{key:"Name",header:"Name",sortable:!0,render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Description",header:"Description",sortable:!0,render:f=>o.jsx("span",{className:"text-gray-600",children:f||"No description"})},{key:"OriginalAmount",header:"Original Amount",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Balance",header:"Balance",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})},{key:"Total",header:"Total",sortable:!0,className:"text-right",render:f=>o.jsx("span",{className:"font-medium",children:f||""})}],i=[{icon:ba,title:"Edit",onClick:f=>c(f),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Jn,title:"Delete",onClick:f=>u(f.id),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],l=f=>{r?(console.log("Updated:",f),toast.success("Transfer updated successfully")):(console.log("Created:",f),toast.success("Transfer created successfully")),e(!1)},c=f=>{n(f),e(!0)},u=f=>{window.confirm("Are you sure you want to delete this transfer?")&&(console.log("Deleted transfer with id:",f),toast.success("Transfer deleted successfully"))},d=f=>{console.log("View transfer:",f)};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fund Transfer"}),o.jsx("p",{children:"Manage fund transfers between accounts"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:()=>c(null),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Transfer"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ge,{columns:s,data:a,actions:i,loading:!1,onRowClick:d})}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(B7e,{onSubmit:l,initialData:r,onClose:()=>e(!1)})})]})},V7e=ie().shape({reportType:O().required("Report type is required"),date:Re().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:O().required("Action is required"),month:K().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:K().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:K().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Re().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Re().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(Oc("fromDate"),"To date must be after from date")}),notedBy:O().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function U7e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!1,marriageCert:!1,burialCert:!1,generalService:!1,propertyTax:!1,marketTicketing:!1}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,h)=>{switch(e){case"daily":return o.jsx(k,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:h,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:h,required:!0,error:d.month,touched:f.month}),o.jsx(k,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:h,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:h,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(k,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:h,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:h,error:d.fromDate,touched:f.fromDate}),o.jsx(k,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:h,error:d.toDate,touched:f.toDate})]}),o.jsx(k,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:h,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const h={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let g={};switch(d.reportType){case"daily":g={date:d.date};break;case"monthly":g={month:d.month,year:d.year};break;case"quarterly":g={quarter:d.quarter,year:d.year};break;case"flexible":g={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const b={...h,...g};t({...d,action:d.action,params:b})}catch(h){console.error("Error submitting form:",h),m({submit:h.message})}finally{f(!1)}};return o.jsx(_e,{initialValues:n,validationSchema:V7e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:h,handleSubmit:g,handleChange:b,setErrors:p,isSubmitting:x})=>o.jsxs(Le,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(y=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===y.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(y.value),h("reportType",y.value)},children:y.label},y.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,b)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(y=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${y.name}`,name:`documentTypes.${y.name}`,checked:d.documentTypes[y.name],onChange:w=>{h(`documentTypes.${y.name}`,w.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${y.name}`,className:"ml-2 block text-sm text-gray-700",children:y.label})]},y.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{h("action","view"),g(),p({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{h("action","generate"),g()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{h("action","export"),g()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const r9="https://staging-engine.testthelink.online",z7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${r9}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},W7e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${r9}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const h=await i.json();throw new Error(h.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}};function H7e(){const[t,e]=v.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=v.useState("daily"),[a,s]=v.useState(!1),i=async c=>{s(!0),console.log("Form data:",c);try{switch(c.action){case"view":const u=await z7e(c.reportType,c.params);e(d=>({...d,[c.reportType]:u})),n(c.reportType),console.log(u);break;case"generate":setCollectionData([]);case"export":await W7e(c.reportType,c.params);break;default:break}}catch(u){console.error("Error handling collection report action:",u),qe.error("Failed to handle collection report action.")}finally{s(!1)}},l={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:c=>c||"-"},{key:"FundsID",header:"Funds ID",render:c=>c||"-"},{key:"Name",header:"Name",render:c=>c||"-"},{key:"Account",header:"Account",render:c=>c||"-"},{key:"SubTotal",header:"Sub-Total",render:c=>c.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:c=>new Date(c).toLocaleDateString()},{key:"FullName",header:"Full Name",render:c=>c||"-"},{key:"Position",header:"Position",render:c=>c||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.Date1} to ${u.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(c,u)=>`Q1: ${u.First} | Q2: ${u.Second} | Q3: ${u.Third}`},{key:"Total",header:"Total",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.StartDate} to ${u.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(c,u)=>`${u.Prepare} (${u.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(c,u)=>`${u.Poster} (${u.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:o.jsx(U7e,{onSubmitCollectionReport:i,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:l[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})})]})}const G7e=ie().shape({StartDate:Re().required("From Date is required").max(Oc("EndDate"),"From Date must be before or equal to To Date"),EndDate:Re().required("To Date is required").min(Oc("StartDate"),"To Date must be after or equal to From Date"),fund:O().required("Fund is required")});function Y7e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=q(i=>i.funds),n=se();v.useEffect(()=>{n(Ht())},[n]);const a=r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})),s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund};delete c.fund,t(c),l(!1)};return o.jsx(_e,{initialValues:e,validationSchema:G7e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(Le,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(k,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(k,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate})]}),o.jsx(k,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const n9="https://staging-engine.testthelink.online",K7e=async t=>{try{const e=localStorage.getItem("token"),r=`${n9}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},J7e=async t=>{try{const e=localStorage.getItem("token"),r=`${n9}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}};function X7e(){const[t,e]=v.useState([]),[r,n]=v.useState(!1),a=async i=>{n(!0);const{action:l,...c}=i;try{switch(l){case"view":const u=await K7e(c);e(u);break;case"generate":break;case"export":await J7e(c);break;default:break}}catch(u){console.error("Error handling cashbook action:",u)}finally{n(!1)}},s=[{key:"Year",header:"Year",render:i=>i||"-"},{key:"Officer",header:"Officer",render:i=>i||"-"},{key:"Fund",header:"Fund",render:i=>i||"-"},{key:"InvoiceDate",header:"Invoice Date",render:i=>i?new Date(i).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:i=>i||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:i=>i||"-"},{key:"Debit",header:"Debit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:o.jsx(Y7e,{onSubmit:a})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ge,{columns:s,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}function Z7e(){const{isAuthenticated:t,isLoading:e}=q(a=>a.auth),r=se(),n=zo();return v.useEffect(()=>{const a=localStorage.getItem("token");a&&r(Ip(a))},[r]),v.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(KK,{position:"top-right"}),o.jsxs(XG,{children:[o.jsxs(oe,{element:o.jsx(RQ,{}),children:[o.jsx(oe,{path:"/login",element:t?o.jsx(Ou,{to:"/",replace:!0}):o.jsx(MQ,{})}),o.jsx(oe,{path:"/register",element:t?o.jsx(Ou,{to:"/",replace:!0}):o.jsx(LQ,{})}),o.jsx(oe,{path:"/forgot-password",element:t?o.jsx(Ou,{to:"/",replace:!0}):o.jsx(FQ,{})}),o.jsx(oe,{path:"/reset-password",element:t?o.jsx(Ou,{to:"/",replace:!0}):o.jsx(BQ,{})})]}),o.jsxs(oe,{element:o.jsx($Q,{}),children:[o.jsx(oe,{path:"/dashboard",element:o.jsx(Kae,{})}),o.jsx(oe,{path:"/profile",element:o.jsx(mCe,{})}),o.jsx(oe,{path:"/budget-dashboard",element:o.jsx(n7e,{})}),o.jsx(oe,{path:"/disbursement-dashboard",element:o.jsx(a7e,{})}),o.jsx(oe,{path:"/collection-dashboard",element:o.jsx(s7e,{})}),o.jsx(oe,{path:"/settings/departments",element:o.jsx(Bue,{})}),o.jsx(oe,{path:"/settings/customer",element:o.jsx(kpe,{})}),o.jsx(oe,{path:"/settings/lgu-maintenance",element:o.jsx(k1e,{})}),o.jsx(oe,{path:"/settings/subdepartments",element:o.jsx(Kue,{})}),o.jsx(oe,{path:"/settings/modules",element:o.jsx(sme,{})}),o.jsx(oe,{path:"/settings/users",element:o.jsx(ode,{})}),o.jsx(oe,{path:"/settings/user-roles",element:o.jsx(Cme,{})}),o.jsx(oe,{path:"/settings/user-access",element:o.jsx(Z1e,{})}),o.jsx(oe,{path:"/settings/chart-of-accounts",element:o.jsx(cfe,{})}),o.jsx(oe,{path:"/settings/account-group",element:o.jsx(dfe,{})}),o.jsx(oe,{path:"/settings/major-account-group",element:o.jsx(mfe,{})}),o.jsx(oe,{path:"/settings/sub-major-account-group",element:o.jsx(pfe,{})}),o.jsx(oe,{path:"/settings/vendors",element:o.jsx(Gfe,{})}),o.jsx(oe,{path:"/settings/vendor-customer-type",element:o.jsx(Zfe,{})}),o.jsx(oe,{path:"/settings/vendor-type",element:o.jsx(eme,{})}),o.jsx(oe,{path:"/settings/employees",element:o.jsx(yme,{})}),o.jsx(oe,{path:"/settings/employmentStatus",element:o.jsx(xme,{})}),o.jsx(oe,{path:"/settings/positions",element:o.jsx(jme,{})}),o.jsx(oe,{path:"/settings/nationalities",element:o.jsx(Sme,{})}),o.jsx(oe,{path:"/settings/locations",element:o.jsx(Ime,{})}),o.jsx(oe,{path:"/settings/ppe",element:o.jsx(zme,{})}),o.jsx(oe,{path:"/settings/ppe-categories",element:o.jsx(Hme,{})}),o.jsx(oe,{path:"/settings/ppe-suppliers",element:o.jsx(Yme,{})}),o.jsx(oe,{path:"/settings/approval-matrix",element:o.jsx(ahe,{})}),o.jsx(oe,{path:"/settings/bank",element:o.jsx(Che,{})}),o.jsx(oe,{path:"/settings/currency",element:o.jsx(Wue,{})}),o.jsx(oe,{path:"/settings/document-details",element:o.jsx(khe,{})}),o.jsx(oe,{path:"/settings/document-type-categories",element:o.jsx(Ehe,{})}),o.jsx(oe,{path:"/settings/items",element:o.jsx(Lhe,{})}),o.jsx(oe,{path:"/settings/items/invoice-charge-accounts",element:o.jsx(Hhe,{})}),o.jsx(oe,{path:"/settings/items/units",element:o.jsx(Yhe,{})}),o.jsx(oe,{path:"/settings/project-type",element:o.jsx(Qhe,{})}),o.jsx(oe,{path:"/settings/financial-statement",element:o.jsx(cpe,{})}),o.jsx(oe,{path:"/settings/fiscal-year",element:o.jsx(hpe,{})}),o.jsx(oe,{path:"/settings/tax-code",element:o.jsx(ype,{})}),o.jsx(oe,{path:"/settings/mode-of-payment",element:o.jsx(xpe,{})}),o.jsx(oe,{path:"/settings/payment-terms",element:o.jsx(jpe,{})}),o.jsx(oe,{path:"/settings/industry",element:o.jsx(Cpe,{})}),o.jsx(oe,{path:"/settings/project-details",element:o.jsx(ape,{})}),o.jsx(oe,{path:"/settings/tax-declaration",element:o.jsx($pe,{})}),o.jsx(oe,{path:"/settings/base-unit-value",element:o.jsx(Wpe,{})}),o.jsx(oe,{path:"/settings/general-revision",element:o.jsx(Bpe,{})}),o.jsx(oe,{path:"/disbursement/obligation-requests",element:o.jsx(Uxe,{})}),o.jsx(oe,{path:"/disbursement/vouchers",element:o.jsx(Yxe,{})}),o.jsx(oe,{path:"/disbursement/travel-orders",element:o.jsx(eve,{})}),o.jsx(oe,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(ove,{})}),o.jsx(oe,{path:"/disbursement/disbursement-journals",element:o.jsx(fve,{})}),o.jsx(oe,{path:"/disbursement/general-journals",element:o.jsx(bve,{})}),o.jsx(oe,{path:"/disbursement/beginning-balance",element:o.jsx(Sve,{})}),o.jsx(oe,{path:"/disbursement/purchase-requests",element:o.jsx(Pve,{})}),o.jsx(oe,{path:"/disbursement/fund-utilization-requests",element:o.jsx(Lve,{})}),o.jsx(oe,{path:"/collections/receipts",element:o.jsx(e5,{})}),o.jsx(oe,{path:"/collections/community-tax",element:o.jsx(Vve,{})}),o.jsx(oe,{path:"/collections/community-tax-corporation",element:o.jsx(Hve,{})}),o.jsx(oe,{path:"/collections/real-property-tax",element:o.jsx(f7e,{})}),o.jsx(oe,{path:"/collections/market",element:o.jsx(Gve,{})}),o.jsx(oe,{path:"/collections/general-service-receipts",element:o.jsx(e5,{})}),o.jsx(oe,{path:"/collections/burial-service-receipts",element:o.jsx(Oje,{})}),o.jsx(oe,{path:"/collections/marriage-service-receipts",element:o.jsx(Rje,{})}),o.jsx(oe,{path:"/collections/cashbook",element:o.jsx(X7e,{})}),o.jsx(oe,{path:"/collections/reports",element:o.jsx(H7e,{})}),o.jsx(oe,{path:"/collections/public-market-tickets",element:o.jsx(c1e,{})}),o.jsx(oe,{path:"/budget",element:o.jsx(j1e,{})}),o.jsx(oe,{path:"/budget/allotment",element:o.jsx(j7e,{})}),o.jsx(oe,{path:"/budget/details",element:o.jsx(w7e,{})}),o.jsx(oe,{path:"/budget/new",element:o.jsx(y1e,{})}),o.jsx(oe,{path:"/budget/summary",element:o.jsx(N7e,{})}),o.jsx(oe,{path:"/budget/supplemental",element:o.jsx(T7e,{})}),o.jsx(oe,{path:"/budget/transfer",element:o.jsx(E7e,{})}),o.jsx(oe,{path:"/budget/report",element:o.jsx(sR,{})}),o.jsx(oe,{path:"/budget/funds",element:o.jsx(D7e,{})}),o.jsx(oe,{path:"/budget/sub-funds",element:o.jsx(L7e,{})}),o.jsx(oe,{path:"/budget/fund-transfer",element:o.jsx(q7e,{})}),o.jsx(oe,{path:"/budget/statement-comparison",element:o.jsx(T1e,{})}),o.jsx(oe,{path:"/budget/statement-appropriation",element:o.jsx($7e,{})}),o.jsx(oe,{path:"/applications/business-permits",element:o.jsx(E1e,{})}),o.jsx(oe,{path:"/applications/cheque-generator",element:o.jsx(P1e,{})}),o.jsx(oe,{path:"/reports/general-ledger",element:o.jsx(L1e,{})}),o.jsx(oe,{path:"/reports/subsidiary-ledger",element:o.jsx(z1e,{})}),o.jsx(oe,{path:"/reports/financial-statements",element:o.jsx(J1e,{})}),o.jsx(oe,{path:"/reports/budget",element:o.jsx(sR,{})}),o.jsx(oe,{path:"/reports/bir",element:o.jsx(X1e,{})}),o.jsx(oe,{path:"/reports/trial-balance",element:o.jsx(b7e,{})}),o.jsx(oe,{path:"/change-password",element:o.jsx(Q1e,{})})]}),o.jsx(oe,{path:"/",element:o.jsx(Ou,{to:"/dashboard\\",replace:!0})}),o.jsx(oe,{path:"*",element:o.jsx(Jae,{})})]})]})}const a9=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],Q7e={vendors:a9,vendor:null,isLoading:!1,error:null},dN=L("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(a9)},500)})}catch(r){return e.rejectWithValue(r.message)}}),fN=L("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),mN=L("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),s9=ye({name:"vendors",initialState:Q7e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(dN.pending,e=>{e.isLoading=!0}).addCase(dN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(dN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(fN.pending,e=>{e.isLoading=!0}).addCase(fN.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(fN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(mN.pending,e=>{e.isLoading=!0}).addCase(mN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(mN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:x9e,resetVendorState:v9e}=s9.actions,e8e=s9.reducer,t8e="https://staging-engine.testthelink.online",r8e={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},hN=L("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${t8e}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),n8e=ye({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(hN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hN.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(hN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=r8e})}}),a8e=n8e.reducer,pN=L("realPropertyTax/fetchRealPropertyTaxes",async()=>new Promise(t=>{setTimeout(()=>{t([{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"active"}])},1e3)})),gN=L("realPropertyTax/createRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e({id:Date.now(),...t})},1e3)})),yN=L("realPropertyTax/updateRealPropertyTax",async({id:t,data:e})=>new Promise(r=>{setTimeout(()=>{r({id:t,...e})},1e3)})),bN=L("realPropertyTax/deleteRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e(t)},1e3)})),s8e={realPropertyTaxes:[],isLoading:!1,error:null},o8e=ye({name:"realPropertyTax",initialState:s8e,reducers:{},extraReducers:t=>{t.addCase(pN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(pN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(gN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes.push(r.payload)}).addCase(gN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(yN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.realPropertyTaxes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.realPropertyTaxes[n]=r.payload)}).addCase(yN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(bN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bN.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=e.realPropertyTaxes.filter(n=>n.id!==r.payload)}).addCase(bN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),i8e=o8e.reducer,l8e=DY({reducer:{auth:sK,departments:Fue,currencies:Uue,subdepartments:Yue,users:Zue,chartOfAccounts:cde,accountGroups:fde,majorAccountGroups:pde,subMajorAccountGroups:bde,vendors:e8e,employees:tde,obligationRequests:Dxe,fundUtilizations:$ve,disbursementVouchers:Wxe,travelOrders:Qxe,ppes:Bme,ppeCategories:Pme,ppeSuppliers:$me,approvalMatrix:nhe,banks:vhe,documentDetails:Xme,documentTypeCategories:The,items:Dhe,invoiceChargeAccounts:Whe,itemUnits:Rhe,projectDetails:npe,projectTypes:Zhe,financialStatements:lpe,fiscalYears:mpe,taxCodes:Bfe,modeOfPayments:Hfe,paymentTerms:Ufe,industries:Mfe,employmentStatuses:dme,positions:lme,userroles:ade,nationalities:hme,vendorCustomerTypes:Xfe,vendorTypes:_fe,journalEntries:sve,purchaseRequests:Ove,taxDeclarations:_pe,baseUnits:zpe,regions:wfe,provinces:Sfe,municipalities:kfe,barangays:Ofe,generalRevisions:Lpe,modules:ame,generalServiceReceipts:Sje,disbursementJournal:dve,beginningBalance:jve,generalJournal:yve,generalLedger:M1e,trialBalance:y7e,statementComparison:A1e,subsidiaryLedger:U1e,financialStatementsReports:K1e,budget:Vxe,subFunds:v1e,funds:Lxe,budgetDashboard:a8e,vendorDetails:xfe,burialRecords:Eje,marriageRecords:$je,publicMarketTicketing:s1e,communityTax:qve,corporateCommunityTax:Wve,generalReceipts:i7e,realPropertyTax:i8e,customers:Tpe},middleware:t=>t({serializableCheck:!1})});vN.createRoot(document.getElementById("root")).render(o.jsx(V.StrictMode,{children:o.jsx(eG,{store:l8e,children:o.jsx(aY,{children:o.jsx(Z7e,{})})})}))});export default c8e();
