var uW=Object.defineProperty;var dW=(t,e,r)=>e in t?uW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var fW=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var me=(t,e,r)=>dW(t,typeof e!="symbol"?e+"":e,r);var c7e=fW((dn,fn)=>{function mW(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fF={exports:{}},Cx={},mF={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm=Symbol.for("react.element"),hW=Symbol.for("react.portal"),pW=Symbol.for("react.fragment"),gW=Symbol.for("react.strict_mode"),yW=Symbol.for("react.profiler"),bW=Symbol.for("react.provider"),xW=Symbol.for("react.context"),vW=Symbol.for("react.forward_ref"),jW=Symbol.for("react.suspense"),wW=Symbol.for("react.memo"),NW=Symbol.for("react.lazy"),JE=Symbol.iterator;function CW(t){return t===null||typeof t!="object"?null:(t=JE&&t[JE]||t["@@iterator"],typeof t=="function"?t:null)}var hF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pF=Object.assign,gF={};function Yc(t,e,r){this.props=t,this.context=e,this.refs=gF,this.updater=r||hF}Yc.prototype.isReactComponent={};Yc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yF(){}yF.prototype=Yc.prototype;function w2(t,e,r){this.props=t,this.context=e,this.refs=gF,this.updater=r||hF}var N2=w2.prototype=new yF;N2.constructor=w2;pF(N2,Yc.prototype);N2.isPureReactComponent=!0;var XE=Array.isArray,bF=Object.prototype.hasOwnProperty,C2={current:null},xF={key:!0,ref:!0,__self:!0,__source:!0};function vF(t,e,r){var n,a={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)bF.call(e,n)&&!xF.hasOwnProperty(n)&&(a[n]=e[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:gm,type:t,key:s,ref:i,props:a,_owner:C2.current}}function SW(t,e){return{$$typeof:gm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function S2(t){return typeof t=="object"&&t!==null&&t.$$typeof===gm}function AW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var QE=/\/+/g;function kw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AW(""+t.key):e.toString(36)}function cp(t,e,r,n,a){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case gm:case hW:i=!0}}if(i)return i=t,a=a(i),t=n===""?"."+kw(i,0):n,XE(a)?(r="",t!=null&&(r=t.replace(QE,"$&/")+"/"),cp(a,e,r,"",function(u){return u})):a!=null&&(S2(a)&&(a=SW(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(QE,"$&/")+"/")+t)),e.push(a)),1;if(i=0,n=n===""?".":n+":",XE(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+kw(s,l);i+=cp(s,e,r,c,a)}else if(c=CW(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+kw(s,l++),i+=cp(s,e,r,c,a);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Zm(t,e,r){if(t==null)return t;var n=[],a=0;return cp(t,n,"","",function(s){return e.call(r,s,a++)}),n}function TW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rr={current:null},up={transition:null},kW={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:up,ReactCurrentOwner:C2};function jF(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:Zm,forEach:function(t,e,r){Zm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Zm(t,function(){e++}),e},toArray:function(t){return Zm(t,function(e){return e})||[]},only:function(t){if(!S2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=Yc;We.Fragment=pW;We.Profiler=yW;We.PureComponent=w2;We.StrictMode=gW;We.Suspense=jW;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kW;We.act=jF;We.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=pF({},t.props),a=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=C2.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)bF.call(e,c)&&!xF.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:gm,type:t.type,key:a,ref:s,props:n,_owner:i}};We.createContext=function(t){return t={$$typeof:xW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bW,_context:t},t.Consumer=t};We.createElement=vF;We.createFactory=function(t){var e=vF.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:vW,render:t}};We.isValidElement=S2;We.lazy=function(t){return{$$typeof:NW,_payload:{_status:-1,_result:t},_init:TW}};We.memo=function(t,e){return{$$typeof:wW,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=up.transition;up.transition={};try{t()}finally{up.transition=e}};We.unstable_act=jF;We.useCallback=function(t,e){return Rr.current.useCallback(t,e)};We.useContext=function(t){return Rr.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return Rr.current.useDeferredValue(t)};We.useEffect=function(t,e){return Rr.current.useEffect(t,e)};We.useId=function(){return Rr.current.useId()};We.useImperativeHandle=function(t,e,r){return Rr.current.useImperativeHandle(t,e,r)};We.useInsertionEffect=function(t,e){return Rr.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return Rr.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return Rr.current.useMemo(t,e)};We.useReducer=function(t,e,r){return Rr.current.useReducer(t,e,r)};We.useRef=function(t){return Rr.current.useRef(t)};We.useState=function(t){return Rr.current.useState(t)};We.useSyncExternalStore=function(t,e,r){return Rr.current.useSyncExternalStore(t,e,r)};We.useTransition=function(){return Rr.current.useTransition()};We.version="18.3.1";mF.exports=We;var v=mF.exports;const q=et(v),Co=mW({__proto__:null,default:q},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OW=v,EW=Symbol.for("react.element"),IW=Symbol.for("react.fragment"),PW=Object.prototype.hasOwnProperty,DW=OW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_W={key:!0,ref:!0,__self:!0,__source:!0};function wF(t,e,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)PW.call(e,n)&&!_W.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:EW,type:t,key:s,ref:i,props:a,_owner:DW.current}}Cx.Fragment=IW;Cx.jsx=wF;Cx.jsxs=wF;fF.exports=Cx;var o=fF.exports,xC={},NF={exports:{}},Nn={},CF={exports:{}},SF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,R){var F=D.length;D.push(R);e:for(;0<F;){var G=F-1>>>1,W=D[G];if(0<a(W,R))D[G]=R,D[F]=W,F=G;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var R=D[0],F=D.pop();if(F!==R){D[0]=F;e:for(var G=0,W=D.length,Z=W>>>1;G<Z;){var fe=2*(G+1)-1,Ce=D[fe],ne=fe+1,K=D[ne];if(0>a(Ce,F))ne<W&&0>a(K,Ce)?(D[G]=K,D[ne]=F,G=ne):(D[G]=Ce,D[fe]=F,G=fe);else if(ne<W&&0>a(K,F))D[G]=K,D[ne]=F,G=ne;else break e}}return R}function a(D,R){var F=D.sortIndex-R.sortIndex;return F!==0?F:D.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(D){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=D)n(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=r(u)}}function C(D){if(y=!1,N(D),!g)if(r(c)!==null)g=!0,B(j);else{var R=r(u);R!==null&&U(C,R.startTime-D)}}function j(D,R){g=!1,y&&(y=!1,p(T),T=-1),h=!0;var F=m;try{for(N(R),f=r(c);f!==null&&(!(f.expirationTime>R)||D&&!E());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var W=G(f.expirationTime<=R);R=t.unstable_now(),typeof W=="function"?f.callback=W:f===r(c)&&n(c),N(R)}else n(c);f=r(c)}if(f!==null)var Z=!0;else{var fe=r(u);fe!==null&&U(C,fe.startTime-R),Z=!1}return Z}finally{f=null,m=F,h=!1}}var w=!1,S=null,T=-1,k=5,I=-1;function E(){return!(t.unstable_now()-I<k)}function P(){if(S!==null){var D=t.unstable_now();I=D;var R=!0;try{R=S(!0,D)}finally{R?L():(w=!1,S=null)}}else w=!1}var L;if(typeof b=="function")L=function(){b(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,_=$.port2;$.port1.onmessage=P,L=function(){_.postMessage(null)}}else L=function(){x(P,0)};function B(D){S=D,w||(w=!0,L())}function U(D,R){T=x(function(){D(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,B(j))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(D){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var F=m;m=R;try{return D()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var F=m;m=D;try{return R()}finally{m=F}},t.unstable_scheduleCallback=function(D,R,F){var G=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,D={id:d++,callback:R,priorityLevel:D,startTime:F,expirationTime:W,sortIndex:-1},F>G?(D.sortIndex=F,e(u,D),r(c)===null&&D===r(u)&&(y?(p(T),T=-1):y=!0,U(C,F-G))):(D.sortIndex=W,e(c,D),g||h||(g=!0,B(j))),D},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(D){var R=m;return function(){var F=m;m=R;try{return D.apply(this,arguments)}finally{m=F}}}})(SF);CF.exports=SF;var $W=CF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RW=v,yn=$W;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AF=new Set,Kd={};function Qi(t,e){mc(t,e),mc(t+"Capture",e)}function mc(t,e){for(Kd[t]=e,t=0;t<e.length;t++)AF.add(e[t])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vC=Object.prototype.hasOwnProperty,MW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZE={},eI={};function LW(t){return vC.call(eI,t)?!0:vC.call(ZE,t)?!1:MW.test(t)?eI[t]=!0:(ZE[t]=!0,!1)}function FW(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BW(t,e,r,n){if(e===null||typeof e>"u"||FW(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mr(t,e,r,n,a,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wr[t]=new Mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wr[e]=new Mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wr[t]=new Mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wr[t]=new Mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wr[t]=new Mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wr[t]=new Mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wr[t]=new Mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wr[t]=new Mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wr[t]=new Mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var A2=/[\-:]([a-z])/g;function T2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(A2,T2);wr[e]=new Mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(A2,T2);wr[e]=new Mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(A2,T2);wr[e]=new Mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wr[t]=new Mr(t,1,!1,t.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wr[t]=new Mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function k2(t,e,r,n){var a=wr.hasOwnProperty(e)?wr[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BW(e,r,a,n)&&(r=null),n||a===null?LW(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Es=RW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eh=Symbol.for("react.element"),Tl=Symbol.for("react.portal"),kl=Symbol.for("react.fragment"),O2=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),TF=Symbol.for("react.provider"),kF=Symbol.for("react.context"),E2=Symbol.for("react.forward_ref"),wC=Symbol.for("react.suspense"),NC=Symbol.for("react.suspense_list"),I2=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),OF=Symbol.for("react.offscreen"),tI=Symbol.iterator;function bu(t){return t===null||typeof t!="object"?null:(t=tI&&t[tI]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Object.assign,Ow;function Xu(t){if(Ow===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ow=e&&e[1]||""}return`
`+Ow+t}var Ew=!1;function Iw(t,e){if(!t||Ew)return"";Ew=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ew=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xu(t):""}function qW(t){switch(t.tag){case 5:return Xu(t.type);case 16:return Xu("Lazy");case 13:return Xu("Suspense");case 19:return Xu("SuspenseList");case 0:case 2:case 15:return t=Iw(t.type,!1),t;case 11:return t=Iw(t.type.render,!1),t;case 1:return t=Iw(t.type,!0),t;default:return""}}function CC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kl:return"Fragment";case Tl:return"Portal";case jC:return"Profiler";case O2:return"StrictMode";case wC:return"Suspense";case NC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kF:return(t.displayName||"Context")+".Consumer";case TF:return(t._context.displayName||"Context")+".Provider";case E2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I2:return e=t.displayName||null,e!==null?e:CC(t.type)||"Memo";case Ws:e=t._payload,t=t._init;try{return CC(t(e))}catch{}}return null}function VW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return CC(e);case 8:return e===O2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function So(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EF(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UW(t){var e=EF(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function th(t){t._valueTracker||(t._valueTracker=UW(t))}function IF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=EF(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ob(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function SC(t,e){var r=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function rI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=So(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PF(t,e){e=e.checked,e!=null&&k2(t,"checked",e,!1)}function AC(t,e){PF(t,e);var r=So(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?TC(t,e.type,r):e.hasOwnProperty("defaultValue")&&TC(t,e.type,So(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function TC(t,e,r){(e!=="number"||Ob(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Qu=Array.isArray;function zl(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+So(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function kC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(le(92));if(Qu(r)){if(1<r.length)throw Error(le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:So(r)}}function DF(t,e){var r=So(e.value),n=So(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _F(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function OC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_F(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rh,$F=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rh=rh||document.createElement("div"),rh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var md={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zW=["Webkit","ms","Moz","O"];Object.keys(md).forEach(function(t){zW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),md[e]=md[t]})});function RF(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||md.hasOwnProperty(t)&&md[t]?(""+e).trim():e+"px"}function MF(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=RF(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var WW=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function EC(t,e){if(e){if(WW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function IC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PC=null;function P2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var DC=null,Wl=null,Hl=null;function oI(t){if(t=xm(t)){if(typeof DC!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Ox(e),DC(t.stateNode,t.type,e))}}function LF(t){Wl?Hl?Hl.push(t):Hl=[t]:Wl=t}function FF(){if(Wl){var t=Wl,e=Hl;if(Hl=Wl=null,oI(t),e)for(t=0;t<e.length;t++)oI(e[t])}}function BF(t,e){return t(e)}function qF(){}var Pw=!1;function VF(t,e,r){if(Pw)return t(e,r);Pw=!0;try{return BF(t,e,r)}finally{Pw=!1,(Wl!==null||Hl!==null)&&(qF(),FF())}}function Xd(t,e){var r=t.stateNode;if(r===null)return null;var n=Ox(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(le(231,e,typeof r));return r}var _C=!1;if(xs)try{var xu={};Object.defineProperty(xu,"passive",{get:function(){_C=!0}}),window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{_C=!1}function HW(t,e,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var hd=!1,Eb=null,Ib=!1,$C=null,GW={onError:function(t){hd=!0,Eb=t}};function YW(t,e,r,n,a,s,i,l,c){hd=!1,Eb=null,HW.apply(GW,arguments)}function KW(t,e,r,n,a,s,i,l,c){if(YW.apply(this,arguments),hd){if(hd){var u=Eb;hd=!1,Eb=null}else throw Error(le(198));Ib||(Ib=!0,$C=u)}}function Zi(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function UF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iI(t){if(Zi(t)!==t)throw Error(le(188))}function JW(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(le(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return iI(a),t;if(s===n)return iI(a),e;s=s.sibling}throw Error(le(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?t:e}function zF(t){return t=JW(t),t!==null?WF(t):null}function WF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WF(t);if(e!==null)return e;t=t.sibling}return null}var HF=yn.unstable_scheduleCallback,lI=yn.unstable_cancelCallback,XW=yn.unstable_shouldYield,QW=yn.unstable_requestPaint,Wt=yn.unstable_now,ZW=yn.unstable_getCurrentPriorityLevel,D2=yn.unstable_ImmediatePriority,GF=yn.unstable_UserBlockingPriority,Pb=yn.unstable_NormalPriority,e9=yn.unstable_LowPriority,YF=yn.unstable_IdlePriority,Sx=null,Ta=null;function t9(t){if(Ta&&typeof Ta.onCommitFiberRoot=="function")try{Ta.onCommitFiberRoot(Sx,t,void 0,(t.current.flags&128)===128)}catch{}}var sa=Math.clz32?Math.clz32:a9,r9=Math.log,n9=Math.LN2;function a9(t){return t>>>=0,t===0?32:31-(r9(t)/n9|0)|0}var nh=64,ah=4194304;function Zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Db(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=Zu(l):(s&=i,s!==0&&(n=Zu(s)))}else i=r&~a,i!==0?n=Zu(i):s!==0&&(n=Zu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,s=e&-e,a>=s||a===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-sa(e),a=1<<r,n|=t[r],e&=~a;return n}function s9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o9(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-sa(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=s9(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function RC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KF(){var t=nh;return nh<<=1,!(nh&4194240)&&(nh=64),t}function Dw(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ym(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sa(e),t[e]=r}function i9(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-sa(r),s=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~s}}function _2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-sa(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var it=0;function JF(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var XF,$2,QF,ZF,e4,MC=!1,sh=[],io=null,lo=null,co=null,Qd=new Map,Zd=new Map,Js=[],l9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cI(t,e){switch(t){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":lo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Qd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zd.delete(e.pointerId)}}function vu(t,e,r,n,a,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},e!==null&&(e=xm(e),e!==null&&$2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function c9(t,e,r,n,a){switch(e){case"focusin":return io=vu(io,t,e,r,n,a),!0;case"dragenter":return lo=vu(lo,t,e,r,n,a),!0;case"mouseover":return co=vu(co,t,e,r,n,a),!0;case"pointerover":var s=a.pointerId;return Qd.set(s,vu(Qd.get(s)||null,t,e,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Zd.set(s,vu(Zd.get(s)||null,t,e,r,n,a)),!0}return!1}function t4(t){var e=hi(t.target);if(e!==null){var r=Zi(e);if(r!==null){if(e=r.tag,e===13){if(e=UF(r),e!==null){t.blockedOn=e,e4(t.priority,function(){QF(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=LC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);PC=n,r.target.dispatchEvent(n),PC=null}else return e=xm(r),e!==null&&$2(e),t.blockedOn=r,!1;e.shift()}return!0}function uI(t,e,r){dp(t)&&r.delete(e)}function u9(){MC=!1,io!==null&&dp(io)&&(io=null),lo!==null&&dp(lo)&&(lo=null),co!==null&&dp(co)&&(co=null),Qd.forEach(uI),Zd.forEach(uI)}function ju(t,e){t.blockedOn===e&&(t.blockedOn=null,MC||(MC=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,u9)))}function ef(t){function e(a){return ju(a,t)}if(0<sh.length){ju(sh[0],t);for(var r=1;r<sh.length;r++){var n=sh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(io!==null&&ju(io,t),lo!==null&&ju(lo,t),co!==null&&ju(co,t),Qd.forEach(e),Zd.forEach(e),r=0;r<Js.length;r++)n=Js[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Js.length&&(r=Js[0],r.blockedOn===null);)t4(r),r.blockedOn===null&&Js.shift()}var Gl=Es.ReactCurrentBatchConfig,_b=!0;function d9(t,e,r,n){var a=it,s=Gl.transition;Gl.transition=null;try{it=1,R2(t,e,r,n)}finally{it=a,Gl.transition=s}}function f9(t,e,r,n){var a=it,s=Gl.transition;Gl.transition=null;try{it=4,R2(t,e,r,n)}finally{it=a,Gl.transition=s}}function R2(t,e,r,n){if(_b){var a=LC(t,e,r,n);if(a===null)Uw(t,e,n,$b,r),cI(t,n);else if(c9(a,t,e,r,n))n.stopPropagation();else if(cI(t,n),e&4&&-1<l9.indexOf(t)){for(;a!==null;){var s=xm(a);if(s!==null&&XF(s),s=LC(t,e,r,n),s===null&&Uw(t,e,n,$b,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Uw(t,e,n,null,r)}}var $b=null;function LC(t,e,r,n){if($b=null,t=P2(n),t=hi(t),t!==null)if(e=Zi(t),e===null)t=null;else if(r=e.tag,r===13){if(t=UF(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $b=t,null}function r4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZW()){case D2:return 1;case GF:return 4;case Pb:case e9:return 16;case YF:return 536870912;default:return 16}default:return 16}}var Zs=null,M2=null,fp=null;function n4(){if(fp)return fp;var t,e=M2,r=e.length,n,a="value"in Zs?Zs.value:Zs.textContent,s=a.length;for(t=0;t<r&&e[t]===a[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===a[s-n];n++);return fp=a.slice(t,1<n?1-n:void 0)}function mp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oh(){return!0}function dI(){return!1}function Cn(t){function e(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oh:dI,this.isPropagationStopped=dI,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=oh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=oh)},persist:function(){},isPersistent:oh}),e}var Kc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L2=Cn(Kc),bm=$t({},Kc,{view:0,detail:0}),m9=Cn(bm),_w,$w,wu,Ax=$t({},bm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wu&&(wu&&t.type==="mousemove"?(_w=t.screenX-wu.screenX,$w=t.screenY-wu.screenY):$w=_w=0,wu=t),_w)},movementY:function(t){return"movementY"in t?t.movementY:$w}}),fI=Cn(Ax),h9=$t({},Ax,{dataTransfer:0}),p9=Cn(h9),g9=$t({},bm,{relatedTarget:0}),Rw=Cn(g9),y9=$t({},Kc,{animationName:0,elapsedTime:0,pseudoElement:0}),b9=Cn(y9),x9=$t({},Kc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v9=Cn(x9),j9=$t({},Kc,{data:0}),mI=Cn(j9),w9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S9(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C9[t])?!!e[t]:!1}function F2(){return S9}var A9=$t({},bm,{key:function(t){if(t.key){var e=w9[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?N9[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F2,charCode:function(t){return t.type==="keypress"?mp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T9=Cn(A9),k9=$t({},Ax,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hI=Cn(k9),O9=$t({},bm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F2}),E9=Cn(O9),I9=$t({},Kc,{propertyName:0,elapsedTime:0,pseudoElement:0}),P9=Cn(I9),D9=$t({},Ax,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_9=Cn(D9),$9=[9,13,27,32],B2=xs&&"CompositionEvent"in window,pd=null;xs&&"documentMode"in document&&(pd=document.documentMode);var R9=xs&&"TextEvent"in window&&!pd,a4=xs&&(!B2||pd&&8<pd&&11>=pd),pI=" ",gI=!1;function s4(t,e){switch(t){case"keyup":return $9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ol=!1;function M9(t,e){switch(t){case"compositionend":return o4(e);case"keypress":return e.which!==32?null:(gI=!0,pI);case"textInput":return t=e.data,t===pI&&gI?null:t;default:return null}}function L9(t,e){if(Ol)return t==="compositionend"||!B2&&s4(t,e)?(t=n4(),fp=M2=Zs=null,Ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a4&&e.locale!=="ko"?null:e.data;default:return null}}var F9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!F9[t.type]:e==="textarea"}function i4(t,e,r,n){LF(n),e=Rb(e,"onChange"),0<e.length&&(r=new L2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var gd=null,tf=null;function B9(t){b4(t,0)}function Tx(t){var e=Pl(t);if(IF(e))return t}function q9(t,e){if(t==="change")return e}var l4=!1;if(xs){var Mw;if(xs){var Lw="oninput"in document;if(!Lw){var bI=document.createElement("div");bI.setAttribute("oninput","return;"),Lw=typeof bI.oninput=="function"}Mw=Lw}else Mw=!1;l4=Mw&&(!document.documentMode||9<document.documentMode)}function xI(){gd&&(gd.detachEvent("onpropertychange",c4),tf=gd=null)}function c4(t){if(t.propertyName==="value"&&Tx(tf)){var e=[];i4(e,tf,t,P2(t)),VF(B9,e)}}function V9(t,e,r){t==="focusin"?(xI(),gd=e,tf=r,gd.attachEvent("onpropertychange",c4)):t==="focusout"&&xI()}function U9(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tx(tf)}function z9(t,e){if(t==="click")return Tx(e)}function W9(t,e){if(t==="input"||t==="change")return Tx(e)}function H9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var da=typeof Object.is=="function"?Object.is:H9;function rf(t,e){if(da(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!vC.call(e,a)||!da(t[a],e[a]))return!1}return!0}function vI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jI(t,e){var r=vI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vI(r)}}function u4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d4(){for(var t=window,e=Ob();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ob(t.document)}return e}function q2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function G9(t){var e=d4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&u4(r.ownerDocument.documentElement,r)){if(n!==null&&q2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!t.extend&&s>n&&(a=n,n=s,s=a),a=jI(r,s);var i=jI(r,n);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y9=xs&&"documentMode"in document&&11>=document.documentMode,El=null,FC=null,yd=null,BC=!1;function wI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;BC||El==null||El!==Ob(n)||(n=El,"selectionStart"in n&&q2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yd&&rf(yd,n)||(yd=n,n=Rb(FC,"onSelect"),0<n.length&&(e=new L2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=El)))}function ih(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Il={animationend:ih("Animation","AnimationEnd"),animationiteration:ih("Animation","AnimationIteration"),animationstart:ih("Animation","AnimationStart"),transitionend:ih("Transition","TransitionEnd")},Fw={},f4={};xs&&(f4=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function kx(t){if(Fw[t])return Fw[t];if(!Il[t])return t;var e=Il[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in f4)return Fw[t]=e[r];return t}var m4=kx("animationend"),h4=kx("animationiteration"),p4=kx("animationstart"),g4=kx("transitionend"),y4=new Map,NI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(t,e){y4.set(t,e),Qi(e,[t])}for(var Bw=0;Bw<NI.length;Bw++){var qw=NI[Bw],K9=qw.toLowerCase(),J9=qw[0].toUpperCase()+qw.slice(1);Do(K9,"on"+J9)}Do(m4,"onAnimationEnd");Do(h4,"onAnimationIteration");Do(p4,"onAnimationStart");Do("dblclick","onDoubleClick");Do("focusin","onFocus");Do("focusout","onBlur");Do(g4,"onTransitionEnd");mc("onMouseEnter",["mouseout","mouseover"]);mc("onMouseLeave",["mouseout","mouseover"]);mc("onPointerEnter",["pointerout","pointerover"]);mc("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X9=new Set("cancel close invalid load scroll toggle".split(" ").concat(ed));function CI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,KW(n,e,void 0,t),t.currentTarget=null}function b4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;CI(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;CI(a,l,u),s=c}}}if(Ib)throw t=$C,Ib=!1,$C=null,t}function jt(t,e){var r=e[WC];r===void 0&&(r=e[WC]=new Set);var n=t+"__bubble";r.has(n)||(x4(e,t,2,!1),r.add(n))}function Vw(t,e,r){var n=0;e&&(n|=4),x4(r,t,n,e)}var lh="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[lh]){t[lh]=!0,AF.forEach(function(r){r!=="selectionchange"&&(X9.has(r)||Vw(r,!1,t),Vw(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lh]||(e[lh]=!0,Vw("selectionchange",!1,e))}}function x4(t,e,r,n){switch(r4(e)){case 1:var a=d9;break;case 4:a=f9;break;default:a=R2}r=a.bind(null,e,r,t),a=void 0,!_C||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function Uw(t,e,r,n,a){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=hi(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}VF(function(){var u=s,d=P2(r),f=[];e:{var m=y4.get(t);if(m!==void 0){var h=L2,g=t;switch(t){case"keypress":if(mp(r)===0)break e;case"keydown":case"keyup":h=T9;break;case"focusin":g="focus",h=Rw;break;case"focusout":g="blur",h=Rw;break;case"beforeblur":case"afterblur":h=Rw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=fI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=p9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=E9;break;case m4:case h4:case p4:h=b9;break;case g4:h=P9;break;case"scroll":h=m9;break;case"wheel":h=_9;break;case"copy":case"cut":case"paste":h=v9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=hI}var y=(e&4)!==0,x=!y&&t==="scroll",p=y?m!==null?m+"Capture":null:m;y=[];for(var b=u,N;b!==null;){N=b;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,p!==null&&(C=Xd(b,p),C!=null&&y.push(af(b,C,N)))),x)break;b=b.return}0<y.length&&(m=new h(m,g,null,r,d),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&r!==PC&&(g=r.relatedTarget||r.fromElement)&&(hi(g)||g[vs]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=u,g=g?hi(g):null,g!==null&&(x=Zi(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(y=fI,C="onMouseLeave",p="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=hI,C="onPointerLeave",p="onPointerEnter",b="pointer"),x=h==null?m:Pl(h),N=g==null?m:Pl(g),m=new y(C,b+"leave",h,r,d),m.target=x,m.relatedTarget=N,C=null,hi(d)===u&&(y=new y(p,b+"enter",g,r,d),y.target=N,y.relatedTarget=x,C=y),x=C,h&&g)t:{for(y=h,p=g,b=0,N=y;N;N=pl(N))b++;for(N=0,C=p;C;C=pl(C))N++;for(;0<b-N;)y=pl(y),b--;for(;0<N-b;)p=pl(p),N--;for(;b--;){if(y===p||p!==null&&y===p.alternate)break t;y=pl(y),p=pl(p)}y=null}else y=null;h!==null&&SI(f,m,h,y,!1),g!==null&&x!==null&&SI(f,x,g,y,!0)}}e:{if(m=u?Pl(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var j=q9;else if(yI(m))if(l4)j=W9;else{j=U9;var w=V9}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=z9);if(j&&(j=j(t,u))){i4(f,j,r,d);break e}w&&w(t,m,u),t==="focusout"&&(w=m._wrapperState)&&w.controlled&&m.type==="number"&&TC(m,"number",m.value)}switch(w=u?Pl(u):window,t){case"focusin":(yI(w)||w.contentEditable==="true")&&(El=w,FC=u,yd=null);break;case"focusout":yd=FC=El=null;break;case"mousedown":BC=!0;break;case"contextmenu":case"mouseup":case"dragend":BC=!1,wI(f,r,d);break;case"selectionchange":if(Y9)break;case"keydown":case"keyup":wI(f,r,d)}var S;if(B2)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ol?s4(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(a4&&r.locale!=="ko"&&(Ol||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ol&&(S=n4()):(Zs=d,M2="value"in Zs?Zs.value:Zs.textContent,Ol=!0)),w=Rb(u,T),0<w.length&&(T=new mI(T,t,null,r,d),f.push({event:T,listeners:w}),S?T.data=S:(S=o4(r),S!==null&&(T.data=S)))),(S=R9?M9(t,r):L9(t,r))&&(u=Rb(u,"onBeforeInput"),0<u.length&&(d=new mI("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}b4(f,e)})}function af(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Rb(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Xd(t,r),s!=null&&n.unshift(af(t,s,a)),s=Xd(t,e),s!=null&&n.push(af(t,s,a))),t=t.return}return n}function pl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SI(t,e,r,n,a){for(var s=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Xd(r,s),c!=null&&i.unshift(af(r,c,l))):a||(c=Xd(r,s),c!=null&&i.push(af(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var Q9=/\r\n?/g,Z9=/\u0000|\uFFFD/g;function AI(t){return(typeof t=="string"?t:""+t).replace(Q9,`
`).replace(Z9,"")}function ch(t,e,r){if(e=AI(e),AI(t)!==e&&r)throw Error(le(425))}function Mb(){}var qC=null,VC=null;function UC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zC=typeof setTimeout=="function"?setTimeout:void 0,eH=typeof clearTimeout=="function"?clearTimeout:void 0,TI=typeof Promise=="function"?Promise:void 0,tH=typeof queueMicrotask=="function"?queueMicrotask:typeof TI<"u"?function(t){return TI.resolve(null).then(t).catch(rH)}:zC;function rH(t){setTimeout(function(){throw t})}function zw(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),ef(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ef(e)}function uo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jc=Math.random().toString(36).slice(2),Na="__reactFiber$"+Jc,sf="__reactProps$"+Jc,vs="__reactContainer$"+Jc,WC="__reactEvents$"+Jc,nH="__reactListeners$"+Jc,aH="__reactHandles$"+Jc;function hi(t){var e=t[Na];if(e)return e;for(var r=t.parentNode;r;){if(e=r[vs]||r[Na]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=kI(t);t!==null;){if(r=t[Na])return r;t=kI(t)}return e}t=r,r=t.parentNode}return null}function xm(t){return t=t[Na]||t[vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Ox(t){return t[sf]||null}var HC=[],Dl=-1;function _o(t){return{current:t}}function At(t){0>Dl||(t.current=HC[Dl],HC[Dl]=null,Dl--)}function xt(t,e){Dl++,HC[Dl]=t.current,t.current=e}var Ao={},Ir=_o(Ao),Yr=_o(!1),Mi=Ao;function hc(t,e){var r=t.type.contextTypes;if(!r)return Ao;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Kr(t){return t=t.childContextTypes,t!=null}function Lb(){At(Yr),At(Ir)}function OI(t,e,r){if(Ir.current!==Ao)throw Error(le(168));xt(Ir,e),xt(Yr,r)}function v4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(le(108,VW(t)||"Unknown",a));return $t({},r,n)}function Fb(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ao,Mi=Ir.current,xt(Ir,t),xt(Yr,Yr.current),!0}function EI(t,e,r){var n=t.stateNode;if(!n)throw Error(le(169));r?(t=v4(t,e,Mi),n.__reactInternalMemoizedMergedChildContext=t,At(Yr),At(Ir),xt(Ir,t)):At(Yr),xt(Yr,r)}var Qa=null,Ex=!1,Ww=!1;function j4(t){Qa===null?Qa=[t]:Qa.push(t)}function sH(t){Ex=!0,j4(t)}function $o(){if(!Ww&&Qa!==null){Ww=!0;var t=0,e=it;try{var r=Qa;for(it=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Qa=null,Ex=!1}catch(a){throw Qa!==null&&(Qa=Qa.slice(t+1)),HF(D2,$o),a}finally{it=e,Ww=!1}}return null}var _l=[],$l=0,Bb=null,qb=0,$n=[],Rn=0,Li=null,rs=1,ns="";function ai(t,e){_l[$l++]=qb,_l[$l++]=Bb,Bb=t,qb=e}function w4(t,e,r){$n[Rn++]=rs,$n[Rn++]=ns,$n[Rn++]=Li,Li=t;var n=rs;t=ns;var a=32-sa(n)-1;n&=~(1<<a),r+=1;var s=32-sa(e)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,rs=1<<32-sa(e)+a|r<<a|n,ns=s+t}else rs=1<<s|r<<a|n,ns=t}function V2(t){t.return!==null&&(ai(t,1),w4(t,1,0))}function U2(t){for(;t===Bb;)Bb=_l[--$l],_l[$l]=null,qb=_l[--$l],_l[$l]=null;for(;t===Li;)Li=$n[--Rn],$n[Rn]=null,ns=$n[--Rn],$n[Rn]=null,rs=$n[--Rn],$n[Rn]=null}var mn=null,cn=null,kt=!1,ea=null;function N4(t,e){var r=Ln(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function II(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,cn=uo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Li!==null?{id:rs,overflow:ns}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ln(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,mn=t,cn=null,!0):!1;default:return!1}}function GC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function YC(t){if(kt){var e=cn;if(e){var r=e;if(!II(t,e)){if(GC(t))throw Error(le(418));e=uo(r.nextSibling);var n=mn;e&&II(t,e)?N4(n,r):(t.flags=t.flags&-4097|2,kt=!1,mn=t)}}else{if(GC(t))throw Error(le(418));t.flags=t.flags&-4097|2,kt=!1,mn=t}}}function PI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function uh(t){if(t!==mn)return!1;if(!kt)return PI(t),kt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!UC(t.type,t.memoizedProps)),e&&(e=cn)){if(GC(t))throw C4(),Error(le(418));for(;e;)N4(t,e),e=uo(e.nextSibling)}if(PI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){cn=uo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=mn?uo(t.stateNode.nextSibling):null;return!0}function C4(){for(var t=cn;t;)t=uo(t.nextSibling)}function pc(){cn=mn=null,kt=!1}function z2(t){ea===null?ea=[t]:ea.push(t)}var oH=Es.ReactCurrentBatchConfig;function Nu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,t));var a=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,t))}return t}function dh(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DI(t){var e=t._init;return e(t._payload)}function S4(t){function e(p,b){if(t){var N=p.deletions;N===null?(p.deletions=[b],p.flags|=16):N.push(b)}}function r(p,b){if(!t)return null;for(;b!==null;)e(p,b),b=b.sibling;return null}function n(p,b){for(p=new Map;b!==null;)b.key!==null?p.set(b.key,b):p.set(b.index,b),b=b.sibling;return p}function a(p,b){return p=po(p,b),p.index=0,p.sibling=null,p}function s(p,b,N){return p.index=N,t?(N=p.alternate,N!==null?(N=N.index,N<b?(p.flags|=2,b):N):(p.flags|=2,b)):(p.flags|=1048576,b)}function i(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,b,N,C){return b===null||b.tag!==6?(b=Qw(N,p.mode,C),b.return=p,b):(b=a(b,N),b.return=p,b)}function c(p,b,N,C){var j=N.type;return j===kl?d(p,b,N.props.children,C,N.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ws&&DI(j)===b.type)?(C=a(b,N.props),C.ref=Nu(p,b,N),C.return=p,C):(C=vp(N.type,N.key,N.props,null,p.mode,C),C.ref=Nu(p,b,N),C.return=p,C)}function u(p,b,N,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=Zw(N,p.mode,C),b.return=p,b):(b=a(b,N.children||[]),b.return=p,b)}function d(p,b,N,C,j){return b===null||b.tag!==7?(b=Ai(N,p.mode,C,j),b.return=p,b):(b=a(b,N),b.return=p,b)}function f(p,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Qw(""+b,p.mode,N),b.return=p,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eh:return N=vp(b.type,b.key,b.props,null,p.mode,N),N.ref=Nu(p,null,b),N.return=p,N;case Tl:return b=Zw(b,p.mode,N),b.return=p,b;case Ws:var C=b._init;return f(p,C(b._payload),N)}if(Qu(b)||bu(b))return b=Ai(b,p.mode,N,null),b.return=p,b;dh(p,b)}return null}function m(p,b,N,C){var j=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return j!==null?null:l(p,b,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case eh:return N.key===j?c(p,b,N,C):null;case Tl:return N.key===j?u(p,b,N,C):null;case Ws:return j=N._init,m(p,b,j(N._payload),C)}if(Qu(N)||bu(N))return j!==null?null:d(p,b,N,C,null);dh(p,N)}return null}function h(p,b,N,C,j){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(N)||null,l(b,p,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case eh:return p=p.get(C.key===null?N:C.key)||null,c(b,p,C,j);case Tl:return p=p.get(C.key===null?N:C.key)||null,u(b,p,C,j);case Ws:var w=C._init;return h(p,b,N,w(C._payload),j)}if(Qu(C)||bu(C))return p=p.get(N)||null,d(b,p,C,j,null);dh(b,C)}return null}function g(p,b,N,C){for(var j=null,w=null,S=b,T=b=0,k=null;S!==null&&T<N.length;T++){S.index>T?(k=S,S=null):k=S.sibling;var I=m(p,S,N[T],C);if(I===null){S===null&&(S=k);break}t&&S&&I.alternate===null&&e(p,S),b=s(I,b,T),w===null?j=I:w.sibling=I,w=I,S=k}if(T===N.length)return r(p,S),kt&&ai(p,T),j;if(S===null){for(;T<N.length;T++)S=f(p,N[T],C),S!==null&&(b=s(S,b,T),w===null?j=S:w.sibling=S,w=S);return kt&&ai(p,T),j}for(S=n(p,S);T<N.length;T++)k=h(S,p,T,N[T],C),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?T:k.key),b=s(k,b,T),w===null?j=k:w.sibling=k,w=k);return t&&S.forEach(function(E){return e(p,E)}),kt&&ai(p,T),j}function y(p,b,N,C){var j=bu(N);if(typeof j!="function")throw Error(le(150));if(N=j.call(N),N==null)throw Error(le(151));for(var w=j=null,S=b,T=b=0,k=null,I=N.next();S!==null&&!I.done;T++,I=N.next()){S.index>T?(k=S,S=null):k=S.sibling;var E=m(p,S,I.value,C);if(E===null){S===null&&(S=k);break}t&&S&&E.alternate===null&&e(p,S),b=s(E,b,T),w===null?j=E:w.sibling=E,w=E,S=k}if(I.done)return r(p,S),kt&&ai(p,T),j;if(S===null){for(;!I.done;T++,I=N.next())I=f(p,I.value,C),I!==null&&(b=s(I,b,T),w===null?j=I:w.sibling=I,w=I);return kt&&ai(p,T),j}for(S=n(p,S);!I.done;T++,I=N.next())I=h(S,p,T,I.value,C),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?T:I.key),b=s(I,b,T),w===null?j=I:w.sibling=I,w=I);return t&&S.forEach(function(P){return e(p,P)}),kt&&ai(p,T),j}function x(p,b,N,C){if(typeof N=="object"&&N!==null&&N.type===kl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case eh:e:{for(var j=N.key,w=b;w!==null;){if(w.key===j){if(j=N.type,j===kl){if(w.tag===7){r(p,w.sibling),b=a(w,N.props.children),b.return=p,p=b;break e}}else if(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ws&&DI(j)===w.type){r(p,w.sibling),b=a(w,N.props),b.ref=Nu(p,w,N),b.return=p,p=b;break e}r(p,w);break}else e(p,w);w=w.sibling}N.type===kl?(b=Ai(N.props.children,p.mode,C,N.key),b.return=p,p=b):(C=vp(N.type,N.key,N.props,null,p.mode,C),C.ref=Nu(p,b,N),C.return=p,p=C)}return i(p);case Tl:e:{for(w=N.key;b!==null;){if(b.key===w)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){r(p,b.sibling),b=a(b,N.children||[]),b.return=p,p=b;break e}else{r(p,b);break}else e(p,b);b=b.sibling}b=Zw(N,p.mode,C),b.return=p,p=b}return i(p);case Ws:return w=N._init,x(p,b,w(N._payload),C)}if(Qu(N))return g(p,b,N,C);if(bu(N))return y(p,b,N,C);dh(p,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(r(p,b.sibling),b=a(b,N),b.return=p,p=b):(r(p,b),b=Qw(N,p.mode,C),b.return=p,p=b),i(p)):r(p,b)}return x}var gc=S4(!0),A4=S4(!1),Vb=_o(null),Ub=null,Rl=null,W2=null;function H2(){W2=Rl=Ub=null}function G2(t){var e=Vb.current;At(Vb),t._currentValue=e}function KC(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Yl(t,e){Ub=t,W2=Rl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zr=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(W2!==t)if(t={context:t,memoizedValue:e,next:null},Rl===null){if(Ub===null)throw Error(le(308));Rl=t,Ub.dependencies={lanes:0,firstContext:t}}else Rl=Rl.next=t;return e}var pi=null;function Y2(t){pi===null?pi=[t]:pi.push(t)}function T4(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Y2(e)):(r.next=a.next,a.next=r),e.interleaved=r,js(t,n)}function js(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hs=!1;function K2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ye&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,js(t,r)}return a=n.interleaved,a===null?(e.next=e,Y2(n)):(e.next=a.next,a.next=e),n.interleaved=e,js(t,r)}function hp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_2(t,r)}}function _I(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=e:s=s.next=e}else a=s=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function zb(t,e,r,n){var a=t.updateQueue;Hs=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var m=l.lane,h=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(m=e,h=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(h,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(h,f,m):g,m==null)break e;f=$t({},f,m);break e;case 2:Hs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,i|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else s===null&&(a.shared.lanes=0);Bi|=i,t.lanes=i,t.memoizedState=f}}function $I(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(le(191,a));a.call(n)}}}var vm={},ka=_o(vm),of=_o(vm),lf=_o(vm);function gi(t){if(t===vm)throw Error(le(174));return t}function J2(t,e){switch(xt(lf,e),xt(of,t),xt(ka,vm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:OC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=OC(e,t)}At(ka),xt(ka,e)}function yc(){At(ka),At(of),At(lf)}function O4(t){gi(lf.current);var e=gi(ka.current),r=OC(e,t.type);e!==r&&(xt(of,t),xt(ka,r))}function X2(t){of.current===t&&(At(ka),At(of))}var Dt=_o(0);function Wb(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hw=[];function Q2(){for(var t=0;t<Hw.length;t++)Hw[t]._workInProgressVersionPrimary=null;Hw.length=0}var pp=Es.ReactCurrentDispatcher,Gw=Es.ReactCurrentBatchConfig,Fi=0,_t=null,er=null,lr=null,Hb=!1,bd=!1,cf=0,iH=0;function Nr(){throw Error(le(321))}function Z2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!da(t[r],e[r]))return!1;return!0}function ek(t,e,r,n,a,s){if(Fi=s,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pp.current=t===null||t.memoizedState===null?dH:fH,t=r(n,a),bd){s=0;do{if(bd=!1,cf=0,25<=s)throw Error(le(301));s+=1,lr=er=null,e.updateQueue=null,pp.current=mH,t=r(n,a)}while(bd)}if(pp.current=Gb,e=er!==null&&er.next!==null,Fi=0,lr=er=_t=null,Hb=!1,e)throw Error(le(300));return t}function tk(){var t=cf!==0;return cf=0,t}function ba(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?_t.memoizedState=lr=t:lr=lr.next=t,lr}function Wn(){if(er===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=er.next;var e=lr===null?_t.memoizedState:lr.next;if(e!==null)lr=e,er=t;else{if(t===null)throw Error(le(310));er=t,t={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},lr===null?_t.memoizedState=lr=t:lr=lr.next=t}return lr}function uf(t,e){return typeof e=="function"?e(t):e}function Yw(t){var e=Wn(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=er,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Fi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,_t.lanes|=d,Bi|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,da(n,e.memoizedState)||(zr=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do s=a.lane,_t.lanes|=s,Bi|=s,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Kw(t){var e=Wn(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,s=e.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=t(s,i.action),i=i.next;while(i!==a);da(s,e.memoizedState)||(zr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function E4(){}function I4(t,e){var r=_t,n=Wn(),a=e(),s=!da(n.memoizedState,a);if(s&&(n.memoizedState=a,zr=!0),n=n.queue,rk(_4.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||lr!==null&&lr.memoizedState.tag&1){if(r.flags|=2048,df(9,D4.bind(null,r,n,a,e),void 0,null),ur===null)throw Error(le(349));Fi&30||P4(r,e,a)}return a}function P4(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function D4(t,e,r,n){e.value=r,e.getSnapshot=n,$4(e)&&R4(t)}function _4(t,e,r){return r(function(){$4(e)&&R4(t)})}function $4(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!da(t,r)}catch{return!0}}function R4(t){var e=js(t,1);e!==null&&oa(e,t,1,-1)}function RI(t){var e=ba();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uf,lastRenderedState:t},e.queue=t,t=t.dispatch=uH.bind(null,_t,t),[e.memoizedState,t]}function df(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function M4(){return Wn().memoizedState}function gp(t,e,r,n){var a=ba();_t.flags|=t,a.memoizedState=df(1|e,r,void 0,n===void 0?null:n)}function Ix(t,e,r,n){var a=Wn();n=n===void 0?null:n;var s=void 0;if(er!==null){var i=er.memoizedState;if(s=i.destroy,n!==null&&Z2(n,i.deps)){a.memoizedState=df(e,r,s,n);return}}_t.flags|=t,a.memoizedState=df(1|e,r,s,n)}function MI(t,e){return gp(8390656,8,t,e)}function rk(t,e){return Ix(2048,8,t,e)}function L4(t,e){return Ix(4,2,t,e)}function F4(t,e){return Ix(4,4,t,e)}function B4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q4(t,e,r){return r=r!=null?r.concat([t]):null,Ix(4,4,B4.bind(null,e,t),r)}function nk(){}function V4(t,e){var r=Wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Z2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function U4(t,e){var r=Wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Z2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function z4(t,e,r){return Fi&21?(da(r,e)||(r=KF(),_t.lanes|=r,Bi|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zr=!0),t.memoizedState=r)}function lH(t,e){var r=it;it=r!==0&&4>r?r:4,t(!0);var n=Gw.transition;Gw.transition={};try{t(!1),e()}finally{it=r,Gw.transition=n}}function W4(){return Wn().memoizedState}function cH(t,e,r){var n=ho(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},H4(t))G4(e,r);else if(r=T4(t,e,r,n),r!==null){var a=$r();oa(r,t,n,a),Y4(r,e,n)}}function uH(t,e,r){var n=ho(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(H4(t))G4(e,a);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,da(l,i)){var c=e.interleaved;c===null?(a.next=a,Y2(e)):(a.next=c.next,c.next=a),e.interleaved=a;return}}catch{}finally{}r=T4(t,e,a,n),r!==null&&(a=$r(),oa(r,t,n,a),Y4(r,e,n))}}function H4(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function G4(t,e){bd=Hb=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Y4(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,_2(t,r)}}var Gb={readContext:zn,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},dH={readContext:zn,useCallback:function(t,e){return ba().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:MI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,gp(4194308,4,B4.bind(null,e,t),r)},useLayoutEffect:function(t,e){return gp(4194308,4,t,e)},useInsertionEffect:function(t,e){return gp(4,2,t,e)},useMemo:function(t,e){var r=ba();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ba();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=cH.bind(null,_t,t),[n.memoizedState,t]},useRef:function(t){var e=ba();return t={current:t},e.memoizedState=t},useState:RI,useDebugValue:nk,useDeferredValue:function(t){return ba().memoizedState=t},useTransition:function(){var t=RI(!1),e=t[0];return t=lH.bind(null,t[1]),ba().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=_t,a=ba();if(kt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=e(),ur===null)throw Error(le(349));Fi&30||P4(n,e,r)}a.memoizedState=r;var s={value:r,getSnapshot:e};return a.queue=s,MI(_4.bind(null,n,s,t),[t]),n.flags|=2048,df(9,D4.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ba(),e=ur.identifierPrefix;if(kt){var r=ns,n=rs;r=(n&~(1<<32-sa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=cf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=iH++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fH={readContext:zn,useCallback:V4,useContext:zn,useEffect:rk,useImperativeHandle:q4,useInsertionEffect:L4,useLayoutEffect:F4,useMemo:U4,useReducer:Yw,useRef:M4,useState:function(){return Yw(uf)},useDebugValue:nk,useDeferredValue:function(t){var e=Wn();return z4(e,er.memoizedState,t)},useTransition:function(){var t=Yw(uf)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:E4,useSyncExternalStore:I4,useId:W4,unstable_isNewReconciler:!1},mH={readContext:zn,useCallback:V4,useContext:zn,useEffect:rk,useImperativeHandle:q4,useInsertionEffect:L4,useLayoutEffect:F4,useMemo:U4,useReducer:Kw,useRef:M4,useState:function(){return Kw(uf)},useDebugValue:nk,useDeferredValue:function(t){var e=Wn();return er===null?e.memoizedState=t:z4(e,er.memoizedState,t)},useTransition:function(){var t=Kw(uf)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:E4,useSyncExternalStore:I4,useId:W4,unstable_isNewReconciler:!1};function Qn(t,e){if(t&&t.defaultProps){e=$t({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function JC(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:$t({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Px={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$r(),a=ho(t),s=cs(n,a);s.payload=e,r!=null&&(s.callback=r),e=fo(t,s,a),e!==null&&(oa(e,t,a,n),hp(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$r(),a=ho(t),s=cs(n,a);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=fo(t,s,a),e!==null&&(oa(e,t,a,n),hp(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$r(),n=ho(t),a=cs(r,n);a.tag=2,e!=null&&(a.callback=e),e=fo(t,a,n),e!==null&&(oa(e,t,n,r),hp(e,t,n))}};function LI(t,e,r,n,a,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!rf(r,n)||!rf(a,s):!0}function K4(t,e,r){var n=!1,a=Ao,s=e.contextType;return typeof s=="object"&&s!==null?s=zn(s):(a=Kr(e)?Mi:Ir.current,n=e.contextTypes,s=(n=n!=null)?hc(t,a):Ao),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Px,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=s),e}function FI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Px.enqueueReplaceState(e,e.state,null)}function XC(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},K2(t);var s=e.contextType;typeof s=="object"&&s!==null?a.context=zn(s):(s=Kr(e)?Mi:Ir.current,a.context=hc(t,s)),a.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(JC(t,e,s,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Px.enqueueReplaceState(a,a.state,null),zb(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function bc(t,e){try{var r="",n=e;do r+=qW(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:a,digest:null}}function Jw(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function QC(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var hH=typeof WeakMap=="function"?WeakMap:Map;function J4(t,e,r){r=cs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Kb||(Kb=!0,lS=n),QC(t,e)},r}function X4(t,e,r){r=cs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){QC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){QC(t,e),typeof n!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function BI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new hH;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=kH.bind(null,t,e,r),e.then(t,t))}function qI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function VI(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=cs(-1,1),e.tag=2,fo(r,e,1))),r.lanes|=1),t)}var pH=Es.ReactCurrentOwner,zr=!1;function Dr(t,e,r,n){e.child=t===null?A4(e,null,r,n):gc(e,t.child,r,n)}function UI(t,e,r,n,a){r=r.render;var s=e.ref;return Yl(e,a),n=ek(t,e,r,n,s,a),r=tk(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ws(t,e,a)):(kt&&r&&V2(e),e.flags|=1,Dr(t,e,n,a),e.child)}function zI(t,e,r,n,a){if(t===null){var s=r.type;return typeof s=="function"&&!dk(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Q4(t,e,s,n,a)):(t=vp(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:rf,r(i,n)&&t.ref===e.ref)return ws(t,e,a)}return e.flags|=1,t=po(s,n),t.ref=e.ref,t.return=e,e.child=t}function Q4(t,e,r,n,a){if(t!==null){var s=t.memoizedProps;if(rf(s,n)&&t.ref===e.ref)if(zr=!1,e.pendingProps=n=s,(t.lanes&a)!==0)t.flags&131072&&(zr=!0);else return e.lanes=t.lanes,ws(t,e,a)}return ZC(t,e,r,n,a)}function Z4(t,e,r){var n=e.pendingProps,a=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Ll,sn),sn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Ll,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xt(Ll,sn),sn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,xt(Ll,sn),sn|=n;return Dr(t,e,a,r),e.child}function e3(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ZC(t,e,r,n,a){var s=Kr(r)?Mi:Ir.current;return s=hc(e,s),Yl(e,a),r=ek(t,e,r,n,s,a),n=tk(),t!==null&&!zr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,ws(t,e,a)):(kt&&n&&V2(e),e.flags|=1,Dr(t,e,r,a),e.child)}function WI(t,e,r,n,a){if(Kr(r)){var s=!0;Fb(e)}else s=!1;if(Yl(e,a),e.stateNode===null)yp(t,e),K4(e,r,n),XC(e,r,n,a),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=Kr(r)?Mi:Ir.current,u=hc(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&FI(e,i,n,u),Hs=!1;var m=e.memoizedState;i.state=m,zb(e,n,i,a),c=e.memoizedState,l!==n||m!==c||Yr.current||Hs?(typeof d=="function"&&(JC(e,r,d,n),c=e.memoizedState),(l=Hs||LI(e,r,l,n,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,k4(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Qn(e.type,l),i.props=u,f=e.pendingProps,m=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=zn(c):(c=Kr(r)?Mi:Ir.current,c=hc(e,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&FI(e,i,n,c),Hs=!1,m=e.memoizedState,i.state=m,zb(e,n,i,a);var g=e.memoizedState;l!==f||m!==g||Yr.current||Hs?(typeof h=="function"&&(JC(e,r,h,n),g=e.memoizedState),(u=Hs||LI(e,r,u,n,m,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),i.props=n,i.state=g,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return eS(t,e,r,n,s,a)}function eS(t,e,r,n,a,s){e3(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return a&&EI(e,r,!1),ws(t,e,s);n=e.stateNode,pH.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=gc(e,t.child,null,s),e.child=gc(e,null,l,s)):Dr(t,e,l,s),e.memoizedState=n.state,a&&EI(e,r,!0),e.child}function t3(t){var e=t.stateNode;e.pendingContext?OI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OI(t,e.context,!1),J2(t,e.containerInfo)}function HI(t,e,r,n,a){return pc(),z2(a),e.flags|=256,Dr(t,e,r,n),e.child}var tS={dehydrated:null,treeContext:null,retryLane:0};function rS(t){return{baseLanes:t,cachePool:null,transitions:null}}function r3(t,e,r){var n=e.pendingProps,a=Dt.current,s=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(a&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),xt(Dt,a&1),t===null)return YC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=$x(i,n,0,null),t=Ai(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rS(r),e.memoizedState=tS,t):ak(e,i));if(a=t.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return gH(t,e,i,n,l,a,r);if(s){s=n.fallback,i=e.mode,a=t.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=po(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=po(l,s):(s=Ai(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?rS(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=tS,n}return s=t.child,t=s.sibling,n=po(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ak(t,e){return e=$x({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fh(t,e,r,n){return n!==null&&z2(n),gc(e,t.child,null,r),t=ak(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function gH(t,e,r,n,a,s,i){if(r)return e.flags&256?(e.flags&=-257,n=Jw(Error(le(422))),fh(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,a=e.mode,n=$x({mode:"visible",children:n.children},a,0,null),s=Ai(s,a,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&gc(e,t.child,null,i),e.child.memoizedState=rS(i),e.memoizedState=tS,s);if(!(e.mode&1))return fh(t,e,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(le(419)),n=Jw(s,n,void 0),fh(t,e,i,n)}if(l=(i&t.childLanes)!==0,zr||l){if(n=ur,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,js(t,a),oa(n,t,a,-1))}return uk(),n=Jw(Error(le(421))),fh(t,e,i,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=OH.bind(null,t),a._reactRetry=e,null):(t=s.treeContext,cn=uo(a.nextSibling),mn=e,kt=!0,ea=null,t!==null&&($n[Rn++]=rs,$n[Rn++]=ns,$n[Rn++]=Li,rs=t.id,ns=t.overflow,Li=e),e=ak(e,n.children),e.flags|=4096,e)}function GI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),KC(t.return,e,r)}function Xw(t,e,r,n,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function n3(t,e,r){var n=e.pendingProps,a=n.revealOrder,s=n.tail;if(Dr(t,e,n.children,r),n=Dt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&GI(t,r,e);else if(t.tag===19)GI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xt(Dt,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&Wb(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Xw(e,!1,a,r,s);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&Wb(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Xw(e,!0,r,null,s);break;case"together":Xw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ws(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Bi|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,r=po(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=po(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function yH(t,e,r){switch(e.tag){case 3:t3(e),pc();break;case 5:O4(e);break;case 1:Kr(e.type)&&Fb(e);break;case 4:J2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;xt(Vb,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xt(Dt,Dt.current&1),e.flags|=128,null):r&e.child.childLanes?r3(t,e,r):(xt(Dt,Dt.current&1),t=ws(t,e,r),t!==null?t.sibling:null);xt(Dt,Dt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return n3(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xt(Dt,Dt.current),n)break;return null;case 22:case 23:return e.lanes=0,Z4(t,e,r)}return ws(t,e,r)}var a3,nS,s3,o3;a3=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nS=function(){};s3=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,gi(ka.current);var s=null;switch(r){case"input":a=SC(t,a),n=SC(t,n),s=[];break;case"select":a=$t({},a,{value:void 0}),n=$t({},n,{value:void 0}),s=[];break;case"textarea":a=kC(t,a),n=kC(t,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Mb)}EC(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&jt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};o3=function(t,e,r,n){r!==n&&(e.flags|=4)};function Cu(t,e){if(!kt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function bH(t,e,r){var n=e.pendingProps;switch(U2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(e),null;case 1:return Kr(e.type)&&Lb(),Cr(e),null;case 3:return n=e.stateNode,yc(),At(Yr),At(Ir),Q2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ea!==null&&(dS(ea),ea=null))),nS(t,e),Cr(e),null;case 5:X2(e);var a=gi(lf.current);if(r=e.type,t!==null&&e.stateNode!=null)s3(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(le(166));return Cr(e),null}if(t=gi(ka.current),uh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Na]=e,n[sf]=s,t=(e.mode&1)!==0,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(a=0;a<ed.length;a++)jt(ed[a],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":rI(n,s),jt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},jt("invalid",n);break;case"textarea":aI(n,s),jt("invalid",n)}EC(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&ch(n.textContent,l,t),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ch(n.textContent,l,t),a=["children",""+l]):Kd.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&jt("scroll",n)}switch(r){case"input":th(n),nI(n,s,!0);break;case"textarea":th(n),sI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Mb)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_F(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[Na]=e,t[sf]=n,a3(t,e,!1,!1),e.stateNode=t;e:{switch(i=IC(r,n),r){case"dialog":jt("cancel",t),jt("close",t),a=n;break;case"iframe":case"object":case"embed":jt("load",t),a=n;break;case"video":case"audio":for(a=0;a<ed.length;a++)jt(ed[a],t);a=n;break;case"source":jt("error",t),a=n;break;case"img":case"image":case"link":jt("error",t),jt("load",t),a=n;break;case"details":jt("toggle",t),a=n;break;case"input":rI(t,n),a=SC(t,n),jt("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=$t({},n,{value:void 0}),jt("invalid",t);break;case"textarea":aI(t,n),a=kC(t,n),jt("invalid",t);break;default:a=n}EC(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?MF(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$F(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Jd(t,c):typeof c=="number"&&Jd(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kd.hasOwnProperty(s)?c!=null&&s==="onScroll"&&jt("scroll",t):c!=null&&k2(t,s,c,i))}switch(r){case"input":th(t),nI(t,n,!1);break;case"textarea":th(t),sI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+So(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?zl(t,!!n.multiple,s,!1):n.defaultValue!=null&&zl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Mb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cr(e),null;case 6:if(t&&e.stateNode!=null)o3(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(le(166));if(r=gi(lf.current),gi(ka.current),uh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Na]=e,(s=n.nodeValue!==r)&&(t=mn,t!==null))switch(t.tag){case 3:ch(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ch(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Na]=e,e.stateNode=n}return Cr(e),null;case 13:if(At(Dt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&cn!==null&&e.mode&1&&!(e.flags&128))C4(),pc(),e.flags|=98560,s=!1;else if(s=uh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[Na]=e}else pc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cr(e),s=!1}else ea!==null&&(dS(ea),ea=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?tr===0&&(tr=3):uk())),e.updateQueue!==null&&(e.flags|=4),Cr(e),null);case 4:return yc(),nS(t,e),t===null&&nf(e.stateNode.containerInfo),Cr(e),null;case 10:return G2(e.type._context),Cr(e),null;case 17:return Kr(e.type)&&Lb(),Cr(e),null;case 19:if(At(Dt),s=e.memoizedState,s===null)return Cr(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)Cu(s,!1);else{if(tr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Wb(t),i!==null){for(e.flags|=128,Cu(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xt(Dt,Dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Wt()>xc&&(e.flags|=128,n=!0,Cu(s,!1),e.lanes=4194304)}else{if(!n)if(t=Wb(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Cu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!kt)return Cr(e),null}else 2*Wt()-s.renderingStartTime>xc&&r!==1073741824&&(e.flags|=128,n=!0,Cu(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Wt(),e.sibling=null,r=Dt.current,xt(Dt,n?r&1|2:r&1),e):(Cr(e),null);case 22:case 23:return ck(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?sn&1073741824&&(Cr(e),e.subtreeFlags&6&&(e.flags|=8192)):Cr(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function xH(t,e){switch(U2(e),e.tag){case 1:return Kr(e.type)&&Lb(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yc(),At(Yr),At(Ir),Q2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return X2(e),null;case 13:if(At(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));pc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(Dt),null;case 4:return yc(),null;case 10:return G2(e.type._context),null;case 22:case 23:return ck(),null;case 24:return null;default:return null}}var mh=!1,kr=!1,vH=typeof WeakSet=="function"?WeakSet:Set,be=null;function Ml(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ft(t,e,n)}else r.current=null}function aS(t,e,r){try{r()}catch(n){Ft(t,e,n)}}var YI=!1;function jH(t,e){if(qC=_b,t=d4(),q2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===r&&++u===a&&(l=i),m===s&&++d===n&&(c=i),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(VC={focusedElem:t,selectionRange:r},_b=!1,be=e;be!==null;)if(e=be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,be=t;else for(;be!==null;){e=be;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,p=e.stateNode,b=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Qn(e.type,y),x);p.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(C){Ft(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,be=t;break}be=e.return}return g=YI,YI=!1,g}function xd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var s=a.destroy;a.destroy=void 0,s!==void 0&&aS(e,r,s)}a=a.next}while(a!==n)}}function Dx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function i3(t){var e=t.alternate;e!==null&&(t.alternate=null,i3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Na],delete e[sf],delete e[WC],delete e[nH],delete e[aH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function l3(t){return t.tag===5||t.tag===3||t.tag===4}function KI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Mb));else if(n!==4&&(t=t.child,t!==null))for(oS(t,e,r),t=t.sibling;t!==null;)oS(t,e,r),t=t.sibling}function iS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(iS(t,e,r),t=t.sibling;t!==null;)iS(t,e,r),t=t.sibling}var gr=null,Zn=!1;function qs(t,e,r){for(r=r.child;r!==null;)c3(t,e,r),r=r.sibling}function c3(t,e,r){if(Ta&&typeof Ta.onCommitFiberUnmount=="function")try{Ta.onCommitFiberUnmount(Sx,r)}catch{}switch(r.tag){case 5:kr||Ml(r,e);case 6:var n=gr,a=Zn;gr=null,qs(t,e,r),gr=n,Zn=a,gr!==null&&(Zn?(t=gr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):gr.removeChild(r.stateNode));break;case 18:gr!==null&&(Zn?(t=gr,r=r.stateNode,t.nodeType===8?zw(t.parentNode,r):t.nodeType===1&&zw(t,r),ef(t)):zw(gr,r.stateNode));break;case 4:n=gr,a=Zn,gr=r.stateNode.containerInfo,Zn=!0,qs(t,e,r),gr=n,Zn=a;break;case 0:case 11:case 14:case 15:if(!kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&aS(r,e,i),a=a.next}while(a!==n)}qs(t,e,r);break;case 1:if(!kr&&(Ml(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ft(r,e,l)}qs(t,e,r);break;case 21:qs(t,e,r);break;case 22:r.mode&1?(kr=(n=kr)||r.memoizedState!==null,qs(t,e,r),kr=n):qs(t,e,r);break;default:qs(t,e,r)}}function JI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new vH),e.forEach(function(n){var a=EH.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Jn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:gr=l.stateNode,Zn=!1;break e;case 3:gr=l.stateNode.containerInfo,Zn=!0;break e;case 4:gr=l.stateNode.containerInfo,Zn=!0;break e}l=l.return}if(gr===null)throw Error(le(160));c3(s,i,a),gr=null,Zn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ft(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u3(e,t),e=e.sibling}function u3(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),pa(t),n&4){try{xd(3,t,t.return),Dx(3,t)}catch(y){Ft(t,t.return,y)}try{xd(5,t,t.return)}catch(y){Ft(t,t.return,y)}}break;case 1:Jn(e,t),pa(t),n&512&&r!==null&&Ml(r,r.return);break;case 5:if(Jn(e,t),pa(t),n&512&&r!==null&&Ml(r,r.return),t.flags&32){var a=t.stateNode;try{Jd(a,"")}catch(y){Ft(t,t.return,y)}}if(n&4&&(a=t.stateNode,a!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&PF(a,s),IC(l,i);var u=IC(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?MF(a,f):d==="dangerouslySetInnerHTML"?$F(a,f):d==="children"?Jd(a,f):k2(a,d,f,u)}switch(l){case"input":AC(a,s);break;case"textarea":DF(a,s);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?zl(a,!!s.multiple,h,!1):m!==!!s.multiple&&(s.defaultValue!=null?zl(a,!!s.multiple,s.defaultValue,!0):zl(a,!!s.multiple,s.multiple?[]:"",!1))}a[sf]=s}catch(y){Ft(t,t.return,y)}}break;case 6:if(Jn(e,t),pa(t),n&4){if(t.stateNode===null)throw Error(le(162));a=t.stateNode,s=t.memoizedProps;try{a.nodeValue=s}catch(y){Ft(t,t.return,y)}}break;case 3:if(Jn(e,t),pa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ef(e.containerInfo)}catch(y){Ft(t,t.return,y)}break;case 4:Jn(e,t),pa(t);break;case 13:Jn(e,t),pa(t),a=t.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(ik=Wt())),n&4&&JI(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(kr=(u=kr)||d,Jn(e,t),kr=u):Jn(e,t),pa(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(be=t,d=t.child;d!==null;){for(f=be=d;be!==null;){switch(m=be,h=m.child,m.tag){case 0:case 11:case 14:case 15:xd(4,m,m.return);break;case 1:Ml(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Ft(n,r,y)}}break;case 5:Ml(m,m.return);break;case 22:if(m.memoizedState!==null){QI(f);continue}}h!==null?(h.return=m,be=h):QI(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RF("display",i))}catch(y){Ft(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Ft(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jn(e,t),pa(t),n&4&&JI(t);break;case 21:break;default:Jn(e,t),pa(t)}}function pa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(l3(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Jd(a,""),n.flags&=-33);var s=KI(t);iS(t,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=KI(t);oS(t,l,i);break;default:throw Error(le(161))}}catch(c){Ft(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wH(t,e,r){be=t,d3(t)}function d3(t,e,r){for(var n=(t.mode&1)!==0;be!==null;){var a=be,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||mh;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||kr;l=mh;var u=kr;if(mh=i,(kr=c)&&!u)for(be=a;be!==null;)i=be,c=i.child,i.tag===22&&i.memoizedState!==null?ZI(a):c!==null?(c.return=i,be=c):ZI(a);for(;s!==null;)be=s,d3(s),s=s.sibling;be=a,mh=l,kr=u}XI(t)}else a.subtreeFlags&8772&&s!==null?(s.return=a,be=s):XI(t)}}function XI(t){for(;be!==null;){var e=be;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kr||Dx(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!kr)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:Qn(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$I(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}$I(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ef(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}kr||e.flags&512&&sS(e)}catch(m){Ft(e,e.return,m)}}if(e===t){be=null;break}if(r=e.sibling,r!==null){r.return=e.return,be=r;break}be=e.return}}function QI(t){for(;be!==null;){var e=be;if(e===t){be=null;break}var r=e.sibling;if(r!==null){r.return=e.return,be=r;break}be=e.return}}function ZI(t){for(;be!==null;){var e=be;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Dx(4,e)}catch(c){Ft(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(c){Ft(e,a,c)}}var s=e.return;try{sS(e)}catch(c){Ft(e,s,c)}break;case 5:var i=e.return;try{sS(e)}catch(c){Ft(e,i,c)}}}catch(c){Ft(e,e.return,c)}if(e===t){be=null;break}var l=e.sibling;if(l!==null){l.return=e.return,be=l;break}be=e.return}}var NH=Math.ceil,Yb=Es.ReactCurrentDispatcher,sk=Es.ReactCurrentOwner,qn=Es.ReactCurrentBatchConfig,Ye=0,ur=null,Jt=null,jr=0,sn=0,Ll=_o(0),tr=0,ff=null,Bi=0,_x=0,ok=0,vd=null,qr=null,ik=0,xc=1/0,Ka=null,Kb=!1,lS=null,mo=null,hh=!1,eo=null,Jb=0,jd=0,cS=null,bp=-1,xp=0;function $r(){return Ye&6?Wt():bp!==-1?bp:bp=Wt()}function ho(t){return t.mode&1?Ye&2&&jr!==0?jr&-jr:oH.transition!==null?(xp===0&&(xp=KF()),xp):(t=it,t!==0||(t=window.event,t=t===void 0?16:r4(t.type)),t):1}function oa(t,e,r,n){if(50<jd)throw jd=0,cS=null,Error(le(185));ym(t,r,n),(!(Ye&2)||t!==ur)&&(t===ur&&(!(Ye&2)&&(_x|=r),tr===4&&Xs(t,jr)),Jr(t,n),r===1&&Ye===0&&!(e.mode&1)&&(xc=Wt()+500,Ex&&$o()))}function Jr(t,e){var r=t.callbackNode;o9(t,e);var n=Db(t,t===ur?jr:0);if(n===0)r!==null&&lI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&lI(r),e===1)t.tag===0?sH(eP.bind(null,t)):j4(eP.bind(null,t)),tH(function(){!(Ye&6)&&$o()}),r=null;else{switch(JF(n)){case 1:r=D2;break;case 4:r=GF;break;case 16:r=Pb;break;case 536870912:r=YF;break;default:r=Pb}r=x3(r,f3.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function f3(t,e){if(bp=-1,xp=0,Ye&6)throw Error(le(327));var r=t.callbackNode;if(Kl()&&t.callbackNode!==r)return null;var n=Db(t,t===ur?jr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Xb(t,n);else{e=n;var a=Ye;Ye|=2;var s=h3();(ur!==t||jr!==e)&&(Ka=null,xc=Wt()+500,Si(t,e));do try{AH();break}catch(l){m3(t,l)}while(!0);H2(),Yb.current=s,Ye=a,Jt!==null?e=0:(ur=null,jr=0,e=tr)}if(e!==0){if(e===2&&(a=RC(t),a!==0&&(n=a,e=uS(t,a))),e===1)throw r=ff,Si(t,0),Xs(t,n),Jr(t,Wt()),r;if(e===6)Xs(t,n);else{if(a=t.current.alternate,!(n&30)&&!CH(a)&&(e=Xb(t,n),e===2&&(s=RC(t),s!==0&&(n=s,e=uS(t,s))),e===1))throw r=ff,Si(t,0),Xs(t,n),Jr(t,Wt()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(le(345));case 2:si(t,qr,Ka);break;case 3:if(Xs(t,n),(n&130023424)===n&&(e=ik+500-Wt(),10<e)){if(Db(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){$r(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=zC(si.bind(null,t,qr,Ka),e);break}si(t,qr,Ka);break;case 4:if(Xs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var i=31-sa(n);s=1<<i,i=e[i],i>a&&(a=i),n&=~s}if(n=a,n=Wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*NH(n/1960))-n,10<n){t.timeoutHandle=zC(si.bind(null,t,qr,Ka),n);break}si(t,qr,Ka);break;case 5:si(t,qr,Ka);break;default:throw Error(le(329))}}}return Jr(t,Wt()),t.callbackNode===r?f3.bind(null,t):null}function uS(t,e){var r=vd;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=Xb(t,e),t!==2&&(e=qr,qr=r,e!==null&&dS(e)),t}function dS(t){qr===null?qr=t:qr.push.apply(qr,t)}function CH(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!da(s(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xs(t,e){for(e&=~ok,e&=~_x,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-sa(e),n=1<<r;t[r]=-1,e&=~n}}function eP(t){if(Ye&6)throw Error(le(327));Kl();var e=Db(t,0);if(!(e&1))return Jr(t,Wt()),null;var r=Xb(t,e);if(t.tag!==0&&r===2){var n=RC(t);n!==0&&(e=n,r=uS(t,n))}if(r===1)throw r=ff,Si(t,0),Xs(t,e),Jr(t,Wt()),r;if(r===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,si(t,qr,Ka),Jr(t,Wt()),null}function lk(t,e){var r=Ye;Ye|=1;try{return t(e)}finally{Ye=r,Ye===0&&(xc=Wt()+500,Ex&&$o())}}function qi(t){eo!==null&&eo.tag===0&&!(Ye&6)&&Kl();var e=Ye;Ye|=1;var r=qn.transition,n=it;try{if(qn.transition=null,it=1,t)return t()}finally{it=n,qn.transition=r,Ye=e,!(Ye&6)&&$o()}}function ck(){sn=Ll.current,At(Ll)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,eH(r)),Jt!==null)for(r=Jt.return;r!==null;){var n=r;switch(U2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lb();break;case 3:yc(),At(Yr),At(Ir),Q2();break;case 5:X2(n);break;case 4:yc();break;case 13:At(Dt);break;case 19:At(Dt);break;case 10:G2(n.type._context);break;case 22:case 23:ck()}r=r.return}if(ur=t,Jt=t=po(t.current,null),jr=sn=e,tr=0,ff=null,ok=_x=Bi=0,qr=vd=null,pi!==null){for(e=0;e<pi.length;e++)if(r=pi[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}pi=null}return t}function m3(t,e){do{var r=Jt;try{if(H2(),pp.current=Gb,Hb){for(var n=_t.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Hb=!1}if(Fi=0,lr=er=_t=null,bd=!1,cf=0,sk.current=null,r===null||r.return===null){tr=1,ff=e,Jt=null;break}e:{var s=t,i=r.return,l=r,c=e;if(e=jr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=qI(i);if(h!==null){h.flags&=-257,VI(h,i,l,s,e),h.mode&1&&BI(s,u,e),e=h,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){BI(s,u,e),uk();break e}c=Error(le(426))}}else if(kt&&l.mode&1){var x=qI(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),VI(x,i,l,s,e),z2(bc(c,l));break e}}s=c=bc(c,l),tr!==4&&(tr=2),vd===null?vd=[s]:vd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=J4(s,c,e);_I(s,p);break e;case 1:l=c;var b=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(mo===null||!mo.has(N)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=X4(s,l,e);_I(s,C);break e}}s=s.return}while(s!==null)}g3(r)}catch(j){e=j,Jt===r&&r!==null&&(Jt=r=r.return);continue}break}while(!0)}function h3(){var t=Yb.current;return Yb.current=Gb,t===null?Gb:t}function uk(){(tr===0||tr===3||tr===2)&&(tr=4),ur===null||!(Bi&268435455)&&!(_x&268435455)||Xs(ur,jr)}function Xb(t,e){var r=Ye;Ye|=2;var n=h3();(ur!==t||jr!==e)&&(Ka=null,Si(t,e));do try{SH();break}catch(a){m3(t,a)}while(!0);if(H2(),Ye=r,Yb.current=n,Jt!==null)throw Error(le(261));return ur=null,jr=0,tr}function SH(){for(;Jt!==null;)p3(Jt)}function AH(){for(;Jt!==null&&!XW();)p3(Jt)}function p3(t){var e=b3(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?g3(t):Jt=e,sk.current=null}function g3(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xH(r,e),r!==null){r.flags&=32767,Jt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tr=6,Jt=null;return}}else if(r=bH(r,e,sn),r!==null){Jt=r;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);tr===0&&(tr=5)}function si(t,e,r){var n=it,a=qn.transition;try{qn.transition=null,it=1,TH(t,e,r,n)}finally{qn.transition=a,it=n}return null}function TH(t,e,r,n){do Kl();while(eo!==null);if(Ye&6)throw Error(le(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(i9(t,s),t===ur&&(Jt=ur=null,jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hh||(hh=!0,x3(Pb,function(){return Kl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var i=it;it=1;var l=Ye;Ye|=4,sk.current=null,jH(t,r),u3(r,t),G9(VC),_b=!!qC,VC=qC=null,t.current=r,wH(r),QW(),Ye=l,it=i,qn.transition=s}else t.current=r;if(hh&&(hh=!1,eo=t,Jb=a),s=t.pendingLanes,s===0&&(mo=null),t9(r.stateNode),Jr(t,Wt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Kb)throw Kb=!1,t=lS,lS=null,t;return Jb&1&&t.tag!==0&&Kl(),s=t.pendingLanes,s&1?t===cS?jd++:(jd=0,cS=t):jd=0,$o(),null}function Kl(){if(eo!==null){var t=JF(Jb),e=qn.transition,r=it;try{if(qn.transition=null,it=16>t?16:t,eo===null)var n=!1;else{if(t=eo,eo=null,Jb=0,Ye&6)throw Error(le(331));var a=Ye;for(Ye|=4,be=t.current;be!==null;){var s=be,i=s.child;if(be.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:xd(8,d,s)}var f=d.child;if(f!==null)f.return=d,be=f;else for(;be!==null;){d=be;var m=d.sibling,h=d.return;if(i3(d),d===u){be=null;break}if(m!==null){m.return=h,be=m;break}be=h}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}be=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,be=i;else e:for(;be!==null;){if(s=be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xd(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,be=p;break e}be=s.return}}var b=t.current;for(be=b;be!==null;){i=be;var N=i.child;if(i.subtreeFlags&2064&&N!==null)N.return=i,be=N;else e:for(i=b;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Dx(9,l)}}catch(j){Ft(l,l.return,j)}if(l===i){be=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,be=C;break e}be=l.return}}if(Ye=a,$o(),Ta&&typeof Ta.onPostCommitFiberRoot=="function")try{Ta.onPostCommitFiberRoot(Sx,t)}catch{}n=!0}return n}finally{it=r,qn.transition=e}}return!1}function tP(t,e,r){e=bc(r,e),e=J4(t,e,1),t=fo(t,e,1),e=$r(),t!==null&&(ym(t,1,e),Jr(t,e))}function Ft(t,e,r){if(t.tag===3)tP(t,t,r);else for(;e!==null;){if(e.tag===3){tP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mo===null||!mo.has(n))){t=bc(r,t),t=X4(e,t,1),e=fo(e,t,1),t=$r(),e!==null&&(ym(e,1,t),Jr(e,t));break}}e=e.return}}function kH(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$r(),t.pingedLanes|=t.suspendedLanes&r,ur===t&&(jr&r)===r&&(tr===4||tr===3&&(jr&130023424)===jr&&500>Wt()-ik?Si(t,0):ok|=r),Jr(t,e)}function y3(t,e){e===0&&(t.mode&1?(e=ah,ah<<=1,!(ah&130023424)&&(ah=4194304)):e=1);var r=$r();t=js(t,e),t!==null&&(ym(t,e,r),Jr(t,r))}function OH(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),y3(t,r)}function EH(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(e),y3(t,r)}var b3;b3=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yr.current)zr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return zr=!1,yH(t,e,r);zr=!!(t.flags&131072)}else zr=!1,kt&&e.flags&1048576&&w4(e,qb,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;yp(t,e),t=e.pendingProps;var a=hc(e,Ir.current);Yl(e,r),a=ek(null,e,n,t,a,r);var s=tk();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(n)?(s=!0,Fb(e)):s=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,K2(e),a.updater=Px,e.stateNode=a,a._reactInternals=e,XC(e,n,t,r),e=eS(null,e,n,!0,s,r)):(e.tag=0,kt&&s&&V2(e),Dr(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(yp(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=PH(n),t=Qn(n,t),a){case 0:e=ZC(null,e,n,t,r);break e;case 1:e=WI(null,e,n,t,r);break e;case 11:e=UI(null,e,n,t,r);break e;case 14:e=zI(null,e,n,Qn(n.type,t),r);break e}throw Error(le(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Qn(n,a),ZC(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Qn(n,a),WI(t,e,n,a,r);case 3:e:{if(t3(e),t===null)throw Error(le(387));n=e.pendingProps,s=e.memoizedState,a=s.element,k4(t,e),zb(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){a=bc(Error(le(423)),e),e=HI(t,e,n,r,a);break e}else if(n!==a){a=bc(Error(le(424)),e),e=HI(t,e,n,r,a);break e}else for(cn=uo(e.stateNode.containerInfo.firstChild),mn=e,kt=!0,ea=null,r=A4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pc(),n===a){e=ws(t,e,r);break e}Dr(t,e,n,r)}e=e.child}return e;case 5:return O4(e),t===null&&YC(e),n=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,i=a.children,UC(n,a)?i=null:s!==null&&UC(n,s)&&(e.flags|=32),e3(t,e),Dr(t,e,i,r),e.child;case 6:return t===null&&YC(e),null;case 13:return r3(t,e,r);case 4:return J2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=gc(e,null,n,r):Dr(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Qn(n,a),UI(t,e,n,a,r);case 7:return Dr(t,e,e.pendingProps,r),e.child;case 8:return Dr(t,e,e.pendingProps.children,r),e.child;case 12:return Dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,s=e.memoizedProps,i=a.value,xt(Vb,n._currentValue),n._currentValue=i,s!==null)if(da(s.value,i)){if(s.children===a.children&&!Yr.current){e=ws(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=cs(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),KC(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(le(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),KC(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Dr(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,Yl(e,r),a=zn(a),n=n(a),e.flags|=1,Dr(t,e,n,r),e.child;case 14:return n=e.type,a=Qn(n,e.pendingProps),a=Qn(n.type,a),zI(t,e,n,a,r);case 15:return Q4(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:Qn(n,a),yp(t,e),e.tag=1,Kr(n)?(t=!0,Fb(e)):t=!1,Yl(e,r),K4(e,n,a),XC(e,n,a,r),eS(null,e,n,!0,t,r);case 19:return n3(t,e,r);case 22:return Z4(t,e,r)}throw Error(le(156,e.tag))};function x3(t,e){return HF(t,e)}function IH(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,e,r,n){return new IH(t,e,r,n)}function dk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PH(t){if(typeof t=="function")return dk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===E2)return 11;if(t===I2)return 14}return 2}function po(t,e){var r=t.alternate;return r===null?(r=Ln(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function vp(t,e,r,n,a,s){var i=2;if(n=t,typeof t=="function")dk(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case kl:return Ai(r.children,a,s,e);case O2:i=8,a|=8;break;case jC:return t=Ln(12,r,e,a|2),t.elementType=jC,t.lanes=s,t;case wC:return t=Ln(13,r,e,a),t.elementType=wC,t.lanes=s,t;case NC:return t=Ln(19,r,e,a),t.elementType=NC,t.lanes=s,t;case OF:return $x(r,a,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TF:i=10;break e;case kF:i=9;break e;case E2:i=11;break e;case I2:i=14;break e;case Ws:i=16,n=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Ln(i,r,e,a),e.elementType=t,e.type=n,e.lanes=s,e}function Ai(t,e,r,n){return t=Ln(7,t,n,e),t.lanes=r,t}function $x(t,e,r,n){return t=Ln(22,t,n,e),t.elementType=OF,t.lanes=r,t.stateNode={isHidden:!1},t}function Qw(t,e,r){return t=Ln(6,t,null,e),t.lanes=r,t}function Zw(t,e,r){return e=Ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DH(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dw(0),this.expirationTimes=Dw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function fk(t,e,r,n,a,s,i,l,c){return t=new DH(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ln(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},K2(s),t}function _H(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function v3(t){if(!t)return Ao;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var r=t.type;if(Kr(r))return v4(t,r,e)}return e}function j3(t,e,r,n,a,s,i,l,c){return t=fk(r,n,!0,t,a,s,i,l,c),t.context=v3(null),r=t.current,n=$r(),a=ho(r),s=cs(n,a),s.callback=e??null,fo(r,s,a),t.current.lanes=a,ym(t,a,n),Jr(t,n),t}function Rx(t,e,r,n){var a=e.current,s=$r(),i=ho(a);return r=v3(r),e.context===null?e.context=r:e.pendingContext=r,e=cs(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=fo(a,e,i),t!==null&&(oa(t,a,i,s),hp(t,a,i)),i}function Qb(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function mk(t,e){rP(t,e),(t=t.alternate)&&rP(t,e)}function $H(){return null}var w3=typeof reportError=="function"?reportError:function(t){console.error(t)};function hk(t){this._internalRoot=t}Mx.prototype.render=hk.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Rx(t,e,null,null)};Mx.prototype.unmount=hk.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qi(function(){Rx(null,t,null,null)}),e[vs]=null}};function Mx(t){this._internalRoot=t}Mx.prototype.unstable_scheduleHydration=function(t){if(t){var e=ZF();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Js.length&&e!==0&&e<Js[r].priority;r++);Js.splice(r,0,t),r===0&&t4(t)}};function pk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nP(){}function RH(t,e,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Qb(i);s.call(u)}}var i=j3(e,n,t,0,null,!1,!1,"",nP);return t._reactRootContainer=i,t[vs]=i.current,nf(t.nodeType===8?t.parentNode:t),qi(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Qb(c);l.call(u)}}var c=fk(t,0,!1,null,null,!1,!1,"",nP);return t._reactRootContainer=c,t[vs]=c.current,nf(t.nodeType===8?t.parentNode:t),qi(function(){Rx(e,c,r,n)}),c}function Fx(t,e,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=Qb(i);l.call(c)}}Rx(e,i,t,a)}else i=RH(r,e,t,a,n);return Qb(i)}XF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Zu(e.pendingLanes);r!==0&&(_2(e,r|1),Jr(e,Wt()),!(Ye&6)&&(xc=Wt()+500,$o()))}break;case 13:qi(function(){var n=js(t,1);if(n!==null){var a=$r();oa(n,t,1,a)}}),mk(t,1)}};$2=function(t){if(t.tag===13){var e=js(t,134217728);if(e!==null){var r=$r();oa(e,t,134217728,r)}mk(t,134217728)}};QF=function(t){if(t.tag===13){var e=ho(t),r=js(t,e);if(r!==null){var n=$r();oa(r,t,e,n)}mk(t,e)}};ZF=function(){return it};e4=function(t,e){var r=it;try{return it=t,e()}finally{it=r}};DC=function(t,e,r){switch(e){case"input":if(AC(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Ox(n);if(!a)throw Error(le(90));IF(n),AC(n,a)}}}break;case"textarea":DF(t,r);break;case"select":e=r.value,e!=null&&zl(t,!!r.multiple,e,!1)}};BF=lk;qF=qi;var MH={usingClientEntryPoint:!1,Events:[xm,Pl,Ox,LF,FF,lk]},Su={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LH={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zF(t),t===null?null:t.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||$H,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{Sx=ph.inject(LH),Ta=ph}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MH;Nn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pk(e))throw Error(le(200));return _H(t,e,null,r)};Nn.createRoot=function(t,e){if(!pk(t))throw Error(le(299));var r=!1,n="",a=w3;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=fk(t,1,!1,null,null,r,!1,n,a),t[vs]=e.current,nf(t.nodeType===8?t.parentNode:t),new hk(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=zF(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return qi(t)};Nn.hydrate=function(t,e,r){if(!Lx(e))throw Error(le(200));return Fx(null,t,e,!0,r)};Nn.hydrateRoot=function(t,e,r){if(!pk(t))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=w3;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=j3(e,null,t,1,r??null,a,!1,s,i),t[vs]=e.current,nf(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new Mx(e)};Nn.render=function(t,e,r){if(!Lx(e))throw Error(le(200));return Fx(null,t,e,!1,r)};Nn.unmountComponentAtNode=function(t){if(!Lx(t))throw Error(le(40));return t._reactRootContainer?(qi(function(){Fx(null,null,t,!1,function(){t._reactRootContainer=null,t[vs]=null})}),!0):!1};Nn.unstable_batchedUpdates=lk;Nn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Lx(r))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Fx(t,e,r,!1,n)};Nn.version="18.3.1-next-f1338f8080-20240426";function N3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N3)}catch(t){console.error(t)}}N3(),NF.exports=Nn;var Bx=NF.exports,aP=Bx;xC.createRoot=aP.createRoot,xC.hydrateRoot=aP.hydrateRoot;var C3={exports:{}},S3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=v;function FH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var BH=typeof Object.is=="function"?Object.is:FH,qH=jm.useSyncExternalStore,VH=jm.useRef,UH=jm.useEffect,zH=jm.useMemo,WH=jm.useDebugValue;S3.useSyncExternalStoreWithSelector=function(t,e,r,n,a){var s=VH(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=zH(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&i.hasValue){var g=i.value;if(a(g,h))return f=g}return f=h}if(g=f,BH(d,h))return g;var y=n(h);return a!==void 0&&a(g,y)?(d=h,g):(d=h,f=y)}var u=!1,d,f,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,a]);var l=qH(t,s[0],s[1]);return UH(function(){i.hasValue=!0,i.value=l},[l]),WH(l),l};C3.exports=S3;var HH=C3.exports;function GH(t){t()}function YH(){let t=null,e=null;return{clear(){t=null,e=null},notify(){GH(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=e={callback:r,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!n||t===null||(n=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var sP={notify(){},get:()=>[]};function KH(t,e){let r,n=sP,a=0,s=!1;function i(y){d();const x=n.subscribe(y);let p=!1;return()=>{p||(p=!0,x(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){a++,r||(r=t.subscribe(c),n=YH())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=sP)}function m(){s||(s=!0,d())}function h(){s&&(s=!1,f())}const g={addNestedSub:i,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return g}var JH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XH=JH(),QH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ZH=QH(),eG=()=>XH||ZH?v.useLayoutEffect:v.useEffect,tG=eG(),e1=Symbol.for("react-redux-context"),t1=typeof globalThis<"u"?globalThis:{};function rG(){if(!v.createContext)return{};const t=t1[e1]??(t1[e1]=new Map);let e=t.get(v.createContext);return e||(e=v.createContext(null),t.set(v.createContext,e)),e}var To=rG();function nG(t){const{children:e,context:r,serverState:n,store:a}=t,s=v.useMemo(()=>{const c=KH(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),i=v.useMemo(()=>a.getState(),[a]);tG(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,i]);const l=r||To;return v.createElement(l.Provider,{value:s},e)}var aG=nG;function gk(t=To){return function(){return v.useContext(t)}}var A3=gk();function T3(t=To){const e=t===To?A3:gk(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var sG=T3();function oG(t=To){const e=t===To?sG:T3(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var ue=oG(),iG=(t,e)=>t===e;function lG(t=To){const e=t===To?A3:gk(t),r=(n,a={})=>{const{equalityFn:s=iG}=typeof a=="function"?{equalityFn:a}:a,i=e(),{store:l,subscription:c,getServerState:u}=i;v.useRef(!0);const d=v.useCallback({[n.name](m){return n(m)}}[n.name],[n]),f=HH.useSyncExternalStoreWithSelector(c.addNestedSub,l.getState,u||l.getState,d,s);return v.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var V=lG();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}var to;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(to||(to={}));const oP="popstate";function cG(t){t===void 0&&(t={});function e(n,a){let{pathname:s,search:i,hash:l}=n.location;return fS("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Zb(a)}return dG(e,r,null,t)}function Yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k3(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uG(){return Math.random().toString(36).substr(2,8)}function iP(t,e){return{usr:t.state,key:t.key,idx:e}}function fS(t,e,r,n){return r===void 0&&(r=null),mf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xc(e):e,{state:r,key:e&&e.key||n||uG()})}function Zb(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xc(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function dG(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=to.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(mf({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=to.Pop;let x=d(),p=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:p})}function m(x,p){l=to.Push;let b=fS(y.location,x,p);u=d()+1;let N=iP(b,u),C=y.createHref(b);try{i.pushState(N,"",C)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(C)}s&&c&&c({action:l,location:y.location,delta:1})}function h(x,p){l=to.Replace;let b=fS(y.location,x,p);u=d();let N=iP(b,u),C=y.createHref(b);i.replaceState(N,"",C),s&&c&&c({action:l,location:y.location,delta:0})}function g(x){let p=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof x=="string"?x:Zb(x);return b=b.replace(/ $/,"%20"),Yt(p,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,p)}let y={get action(){return l},get location(){return t(a,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(oP,f),c=x,()=>{a.removeEventListener(oP,f),c=null}},createHref(x){return e(a,x)},createURL:g,encodeLocation(x){let p=g(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:h,go(x){return i.go(x)}};return y}var lP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lP||(lP={}));function fG(t,e,r){return r===void 0&&(r="/"),mG(t,e,r)}function mG(t,e,r,n){let a=typeof e=="string"?Xc(e):e,s=yk(a.pathname||"/",r);if(s==null)return null;let i=O3(t);hG(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=AG(s);l=NG(i[c],u)}return l}function O3(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(Yt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=go([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(Yt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),O3(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:jG(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of E3(s.path))a(s,i,c)}),e}function E3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=E3(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function hG(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:wG(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pG=/^:[\w-]+$/,gG=3,yG=2,bG=1,xG=10,vG=-2,cP=t=>t==="*";function jG(t,e){let r=t.split("/"),n=r.length;return r.some(cP)&&(n+=vG),e&&(n+=yG),r.filter(a=>!cP(a)).reduce((a,s)=>a+(pG.test(s)?gG:s===""?bG:xG),n)}function wG(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function NG(t,e,r){let{routesMeta:n}=t,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=CG({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:go([s,f.pathname]),pathnameBase:EG(go([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=go([s,f.pathnameBase]))}return i}function CG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=SG(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let y=l[f]||"";i=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=l[f];return h&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function SG(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),k3(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function AG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return k3(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function TG(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Xc(t):t;return{pathname:r?r.startsWith("/")?r:kG(r,e):e,search:IG(n),hash:PG(a)}}function kG(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function r1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OG(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bk(t,e){let r=OG(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xk(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Xc(t):(a=mf({},t),Yt(!a.pathname||!a.pathname.includes("?"),r1("?","pathname","search",a)),Yt(!a.pathname||!a.pathname.includes("#"),r1("#","pathname","hash",a)),Yt(!a.search||!a.search.includes("#"),r1("#","search","hash",a)));let s=t===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=e.length-1;if(!n&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=TG(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const go=t=>t.join("/").replace(/\/\/+/g,"/"),EG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const I3=["post","put","patch","delete"];new Set(I3);const _G=["get",...I3];new Set(_G);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hf.apply(this,arguments)}const vk=v.createContext(null),$G=v.createContext(null),Ro=v.createContext(null),qx=v.createContext(null),Is=v.createContext({outlet:null,matches:[],isDataRoute:!1}),P3=v.createContext(null);function RG(t,e){let{relative:r}=e===void 0?{}:e;Qc()||Yt(!1);let{basename:n,navigator:a}=v.useContext(Ro),{hash:s,pathname:i,search:l}=_3(t,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:go([n,i])),a.createHref({pathname:c,search:l,hash:s})}function Qc(){return v.useContext(qx)!=null}function Mo(){return Qc()||Yt(!1),v.useContext(qx).location}function D3(t){v.useContext(Ro).static||v.useLayoutEffect(t)}function wm(){let{isDataRoute:t}=v.useContext(Is);return t?XG():MG()}function MG(){Qc()||Yt(!1);let t=v.useContext(vk),{basename:e,future:r,navigator:n}=v.useContext(Ro),{matches:a}=v.useContext(Is),{pathname:s}=Mo(),i=JSON.stringify(bk(a,r.v7_relativeSplatPath)),l=v.useRef(!1);return D3(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=xk(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:go([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,i,s,t])}const LG=v.createContext(null);function FG(t){let e=v.useContext(Is).outlet;return e&&v.createElement(LG.Provider,{value:t},e)}function _3(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=v.useContext(Ro),{matches:a}=v.useContext(Is),{pathname:s}=Mo(),i=JSON.stringify(bk(a,n.v7_relativeSplatPath));return v.useMemo(()=>xk(t,JSON.parse(i),s,r==="path"),[t,i,s,r])}function BG(t,e){return qG(t,e)}function qG(t,e,r,n){Qc()||Yt(!1);let{navigator:a}=v.useContext(Ro),{matches:s}=v.useContext(Is),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Mo(),d;if(e){var f;let x=typeof e=="string"?Xc(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Yt(!1),d=x}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=fG(t,{pathname:h}),y=HG(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:go([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:go([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&y?v.createElement(qx.Provider,{value:{location:hf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:to.Pop}},y):y}function VG(){let t=JG(),e=DG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),r?v.createElement("pre",{style:a},r):null,null)}const UG=v.createElement(VG,null);class zG extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?v.createElement(Is.Provider,{value:this.props.routeContext},v.createElement(P3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WG(t){let{routeContext:e,match:r,children:n}=t,a=v.useContext(vk);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Is.Provider,{value:e},n)}function HG(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Yt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=r,g=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let h,g=!1,y=null,x=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||UG,c&&(u<0&&m===0?(QG("route-fallback"),g=!0,x=null):u===m&&(g=!0,x=f.route.hydrateFallbackElement||null)));let p=e.concat(i.slice(0,m+1)),b=()=>{let N;return h?N=y:g?N=x:f.route.Component?N=v.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,v.createElement(WG,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(zG,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):b()},null)}var $3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($3||{}),R3=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(R3||{});function GG(t){let e=v.useContext(vk);return e||Yt(!1),e}function YG(t){let e=v.useContext($G);return e||Yt(!1),e}function KG(t){let e=v.useContext(Is);return e||Yt(!1),e}function M3(t){let e=KG(),r=e.matches[e.matches.length-1];return r.route.id||Yt(!1),r.route.id}function JG(){var t;let e=v.useContext(P3),r=YG(),n=M3();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function XG(){let{router:t}=GG($3.UseNavigateStable),e=M3(R3.UseNavigateStable),r=v.useRef(!1);return D3(()=>{r.current=!0}),v.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,hf({fromRouteId:e},s)))},[t,e])}const uP={};function QG(t,e,r){uP[t]||(uP[t]=!0)}function ZG(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Au(t){let{to:e,replace:r,state:n,relative:a}=t;Qc()||Yt(!1);let{future:s,static:i}=v.useContext(Ro),{matches:l}=v.useContext(Is),{pathname:c}=Mo(),u=wm(),d=xk(e,bk(l,s.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function L3(t){return FG(t.context)}function se(t){Yt(!1)}function eY(t){let{basename:e="/",children:r=null,location:n,navigationType:a=to.Pop,navigator:s,static:i=!1,future:l}=t;Qc()&&Yt(!1);let c=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:s,static:i,future:hf({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=Xc(n));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:g="default"}=n,y=v.useMemo(()=>{let x=yk(d,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:h,key:g},navigationType:a}},[c,d,f,m,h,g,a]);return y==null?null:v.createElement(Ro.Provider,{value:u},v.createElement(qx.Provider,{children:r,value:y}))}function tY(t){let{children:e,location:r}=t;return BG(mS(e),r)}new Promise(()=>{});function mS(t,e){e===void 0&&(e=[]);let r=[];return v.Children.forEach(t,(n,a)=>{if(!v.isValidElement(n))return;let s=[...e,a];if(n.type===v.Fragment){r.push.apply(r,mS(n.props.children,s));return}n.type!==se&&Yt(!1),!n.props.index||!n.props.children||Yt(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=mS(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hS.apply(this,arguments)}function rY(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function nY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aY(t,e){return t.button===0&&(!e||e==="_self")&&!nY(t)}const sY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oY="6";try{window.__reactRouterVersion=oY}catch{}const iY="startTransition",dP=Co[iY];function lY(t){let{basename:e,children:r,future:n,window:a}=t,s=v.useRef();s.current==null&&(s.current=cG({window:a,v5Compat:!0}));let i=s.current,[l,c]=v.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=v.useCallback(f=>{u&&dP?dP(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.useEffect(()=>ZG(n),[n]),v.createElement(eY,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const cY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jl=v.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:s,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=rY(e,sY),{basename:h}=v.useContext(Ro),g,y=!1;if(typeof u=="string"&&uY.test(u)&&(g=u,cY))try{let N=new URL(window.location.href),C=u.startsWith("//")?new URL(N.protocol+u):new URL(u),j=yk(C.pathname,h);C.origin===N.origin&&j!=null?u=j+C.search+C.hash:y=!0}catch{}let x=RG(u,{relative:a}),p=dY(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(N){n&&n(N),N.defaultPrevented||p(N)}return v.createElement("a",hS({},m,{href:g||x,onClick:y||s?n:b,ref:r,target:c}))});var fP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fP||(fP={}));var mP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mP||(mP={}));function dY(t,e){let{target:r,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:l}=e===void 0?{}:e,c=wm(),u=Mo(),d=_3(t,{relative:i});return v.useCallback(f=>{if(aY(f,r)){f.preventDefault();let m=n!==void 0?n:Zb(u)===Zb(d);c(t,{replace:m,state:a,preventScrollReset:s,relative:i,viewTransition:l})}},[u,c,d,n,a,r,t,s,i,l])}function hr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var fY=typeof Symbol=="function"&&Symbol.observable||"@@observable",hP=fY,n1=()=>Math.random().toString(36).substring(7).split("").join("."),mY={INIT:`@@redux/INIT${n1()}`,REPLACE:`@@redux/REPLACE${n1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${n1()}`},e0=mY;function jk(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function F3(t,e,r){if(typeof t!="function")throw new Error(hr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hr(1));return r(F3)(t,e)}let n=t,a=e,s=new Map,i=s,l=0,c=!1;function u(){i===s&&(i=new Map,s.forEach((x,p)=>{i.set(p,x)}))}function d(){if(c)throw new Error(hr(3));return a}function f(x){if(typeof x!="function")throw new Error(hr(4));if(c)throw new Error(hr(5));let p=!0;u();const b=l++;return i.set(b,x),function(){if(p){if(c)throw new Error(hr(6));p=!1,u(),i.delete(b),s=null}}}function m(x){if(!jk(x))throw new Error(hr(7));if(typeof x.type>"u")throw new Error(hr(8));if(typeof x.type!="string")throw new Error(hr(17));if(c)throw new Error(hr(9));try{c=!0,a=n(a,x)}finally{c=!1}return(s=i).forEach(b=>{b()}),x}function h(x){if(typeof x!="function")throw new Error(hr(10));n=x,m({type:e0.REPLACE})}function g(){const x=f;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(hr(11));function b(){const C=p;C.next&&C.next(d())}return b(),{unsubscribe:x(b)}},[hP](){return this}}}return m({type:e0.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:h,[hP]:g}}function hY(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:e0.INIT})>"u")throw new Error(hr(12));if(typeof r(void 0,{type:e0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function pY(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const i=e[s];typeof t[i]=="function"&&(r[i]=t[i])}const n=Object.keys(r);let a;try{hY(r)}catch(s){a=s}return function(i={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],h=i[f],g=m(h,l);if(typeof g>"u")throw l&&l.type,new Error(hr(14));u[f]=g,c=c||g!==h}return c=c||n.length!==Object.keys(i).length,c?u:i}}function t0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function gY(...t){return e=>(r,n)=>{const a=e(r,n);let s=()=>{throw new Error(hr(15))};const i={getState:a.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(i));return s=t0(...l)(a.dispatch),{...a,dispatch:s}}}function yY(t){return jk(t)&&"type"in t&&typeof t.type=="string"}var B3=Symbol.for("immer-nothing"),pP=Symbol.for("immer-draftable"),bn=Symbol.for("immer-state");function ta(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var vc=Object.getPrototypeOf;function Vi(t){return!!t&&!!t[bn]}function Ns(t){var e;return t?q3(t)||Array.isArray(t)||!!t[pP]||!!((e=t.constructor)!=null&&e[pP])||Ux(t)||zx(t):!1}var bY=Object.prototype.constructor.toString();function q3(t){if(!t||typeof t!="object")return!1;const e=vc(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===bY}function r0(t,e){Vx(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Vx(t){const e=t[bn];return e?e.type_:Array.isArray(t)?1:Ux(t)?2:zx(t)?3:0}function pS(t,e){return Vx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function V3(t,e,r){const n=Vx(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function xY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ux(t){return t instanceof Map}function zx(t){return t instanceof Set}function oi(t){return t.copy_||t.base_}function gS(t,e){if(Ux(t))return new Map(t);if(zx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=q3(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[bn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],l=n[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[i]})}return Object.create(vc(t),n)}else{const n=vc(t);if(n!==null&&r)return{...t};const a=Object.create(n);return Object.assign(a,t)}}function wk(t,e=!1){return Wx(t)||Vi(t)||!Ns(t)||(Vx(t)>1&&(t.set=t.add=t.clear=t.delete=vY),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>wk(n,!0))),t}function vY(){ta(2)}function Wx(t){return Object.isFrozen(t)}var jY={};function Ui(t){const e=jY[t];return e||ta(0,t),e}var pf;function U3(){return pf}function wY(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gP(t,e){e&&(Ui("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function yS(t){bS(t),t.drafts_.forEach(NY),t.drafts_=null}function bS(t){t===pf&&(pf=t.parent_)}function yP(t){return pf=wY(pf,t)}function NY(t){const e=t[bn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bP(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[bn].modified_&&(yS(e),ta(4)),Ns(t)&&(t=n0(e,t),e.parent_||a0(e,t)),e.patches_&&Ui("Patches").generateReplacementPatches_(r[bn].base_,t,e.patches_,e.inversePatches_)):t=n0(e,r,[]),yS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==B3?t:void 0}function n0(t,e,r){if(Wx(e))return e;const n=e[bn];if(!n)return r0(e,(a,s)=>xP(t,n,e,a,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return a0(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),r0(s,(l,c)=>xP(t,n,a,l,c,r,i)),a0(t,a,!1),r&&t.patches_&&Ui("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function xP(t,e,r,n,a,s,i){if(Vi(a)){const l=s&&e&&e.type_!==3&&!pS(e.assigned_,n)?s.concat(n):void 0,c=n0(t,a,l);if(V3(r,n,c),Vi(c))t.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Ns(a)&&!Wx(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;n0(t,a),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&a0(t,a)}}function a0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wk(e,r)}function CY(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:U3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Nk;r&&(a=[n],s=gf);const{revoke:i,proxy:l}=Proxy.revocable(a,s);return n.draft_=l,n.revoke_=i,l}var Nk={get(t,e){if(e===bn)return t;const r=oi(t);if(!pS(r,e))return SY(t,r,e);const n=r[e];return t.finalized_||!Ns(n)?n:n===a1(t.base_,e)?(s1(t),t.copy_[e]=vS(n,t)):n},has(t,e){return e in oi(t)},ownKeys(t){return Reflect.ownKeys(oi(t))},set(t,e,r){const n=z3(oi(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=a1(oi(t),e),s=a==null?void 0:a[bn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(xY(r,a)&&(r!==void 0||pS(t.base_,e)))return!0;s1(t),xS(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return a1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,s1(t),xS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=oi(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ta(11)},getPrototypeOf(t){return vc(t.base_)},setPrototypeOf(){ta(12)}},gf={};r0(Nk,(t,e)=>{gf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});gf.deleteProperty=function(t,e){return gf.set.call(this,t,e,void 0)};gf.set=function(t,e,r){return Nk.set.call(this,t[0],e,r,t[0])};function a1(t,e){const r=t[bn];return(r?oi(r):t)[e]}function SY(t,e,r){var a;const n=z3(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function z3(t,e){if(!(e in t))return;let r=vc(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=vc(r)}}function xS(t){t.modified_||(t.modified_=!0,t.parent_&&xS(t.parent_))}function s1(t){t.copy_||(t.copy_=gS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var AY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const i=this;return function(c=s,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&ta(6),n!==void 0&&typeof n!="function"&&ta(7);let a;if(Ns(e)){const s=yP(this),i=vS(e,void 0);let l=!0;try{a=r(i),l=!1}finally{l?yS(s):bS(s)}return gP(s,n),bP(a,s)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===B3&&(a=void 0),this.autoFreeze_&&wk(a,!0),n){const s=[],i=[];Ui("Patches").generateReplacementPatches_(e,a,s,i),n(s,i)}return a}else ta(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(i,...l)=>this.produceWithPatches(i,c=>e(c,...l));let n,a;return[this.produce(e,r,(i,l)=>{n=i,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ns(t)||ta(8),Vi(t)&&(t=TY(t));const e=yP(this),r=vS(t,void 0);return r[bn].isManual_=!0,bS(e),r}finishDraft(t,e){const r=t&&t[bn];(!r||!r.isManual_)&&ta(9);const{scope_:n}=r;return gP(n,e),bP(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=Ui("Patches").applyPatches_;return Vi(t)?n(t,e):this.produce(t,a=>n(a,e))}};function vS(t,e){const r=Ux(t)?Ui("MapSet").proxyMap_(t,e):zx(t)?Ui("MapSet").proxySet_(t,e):CY(t,e);return(e?e.scope_:U3()).drafts_.push(r),r}function TY(t){return Vi(t)||ta(10,t),W3(t)}function W3(t){if(!Ns(t)||Wx(t))return t;const e=t[bn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=gS(t,e.scope_.immer_.useStrictShallowCopy_)}else r=gS(t,!0);return r0(r,(n,a)=>{V3(r,n,W3(a))}),e&&(e.finalized_=!1),r}var xn=new AY,H3=xn.produce;xn.produceWithPatches.bind(xn);xn.setAutoFreeze.bind(xn);xn.setUseStrictShallowCopy.bind(xn);xn.applyPatches.bind(xn);xn.createDraft.bind(xn);xn.finishDraft.bind(xn);function G3(t){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,t):a(s)}var kY=G3(),OY=G3,EY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?t0:t0.apply(null,arguments)},IY=t=>t&&typeof t.match=="function";function wd(t,e){function r(...n){if(e){let a=e(...n);if(!a)throw new Error(us(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>yY(n)&&n.type===t,r}var Y3=class td extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,td.prototype)}static get[Symbol.species](){return td}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new td(...e[0].concat(this)):new td(...e.concat(this))}};function vP(t){return Ns(t)?H3(t,()=>{}):t}function gh(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function PY(t){return typeof t=="boolean"}var DY=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let i=new Y3;return r&&(PY(r)?i.push(kY):i.push(OY(r.extraArgument))),i},_Y="RTK_autoBatch",jP=t=>e=>{setTimeout(e,t)},$Y=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let a=!0,s=!1,i=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jP(10):t.type==="callback"?t.queueNotification:jP(t.timeout),u=()=>{i=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),m=n.subscribe(f);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[_Y]),s=!a,s&&(i||(i=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},RY=t=>function(r){const{autoBatch:n=!0}=r??{};let a=new Y3(t);return n&&a.push($Y(typeof n=="object"?n:void 0)),a};function MY(t){const e=DY(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(jk(r))l=pY(r);else throw new Error(us(1));let c;typeof n=="function"?c=n(e):c=e();let u=t0;a&&(u=EY({trace:!1,...typeof a=="object"&&a}));const d=gY(...c),f=RY(d);let m=typeof i=="function"?i(f):f();const h=u(...m);return F3(l,s,h)}function K3(t){const e={},r=[];let n;const a={addCase(s,i){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(us(28));if(l in e)throw new Error(us(29));return e[l]=i,a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return t(a),[e,r,n]}function LY(t){return typeof t=="function"}function FY(t,e){let[r,n,a]=K3(e),s;if(LY(t))s=()=>vP(t());else{const l=vP(t);s=()=>l}function i(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Vi(d)){const h=f(d,c);return h===void 0?d:h}else{if(Ns(d))return H3(d,m=>f(m,c));{const m=f(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return i.getInitialState=s,i}var BY=(t,e)=>IY(t)?t.match(e):t(e);function qY(...t){return e=>t.some(r=>BY(r,e))}var VY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",UY=(t=21)=>{let e="",r=t;for(;r--;)e+=VY[Math.random()*64|0];return e},zY=["name","message","stack","code"],o1=class{constructor(t,e){me(this,"_type");this.payload=t,this.meta=e}},wP=class{constructor(t,e){me(this,"_type");this.payload=t,this.meta=e}},WY=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of zY)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},NP="External signal was aborted",M=(()=>{function t(e,r,n){const a=wd(e+"/fulfilled",(c,u,d,f)=>({payload:c,meta:{...f||{},arg:d,requestId:u,requestStatus:"fulfilled"}})),s=wd(e+"/pending",(c,u,d)=>({payload:void 0,meta:{...d||{},arg:u,requestId:c,requestStatus:"pending"}})),i=wd(e+"/rejected",(c,u,d,f,m)=>({payload:f,error:(n&&n.serializeError||WY)(c||"Rejected"),meta:{...m||{},arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function l(c,{signal:u}={}){return(d,f,m)=>{const h=n!=null&&n.idGenerator?n.idGenerator(c):UY(),g=new AbortController;let y,x;function p(N){x=N,g.abort()}u&&(u.aborted?p(NP):u.addEventListener("abort",()=>p(NP),{once:!0}));const b=async function(){var j,w;let N;try{let S=(j=n==null?void 0:n.condition)==null?void 0:j.call(n,c,{getState:f,extra:m});if(GY(S)&&(S=await S),S===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const T=new Promise((k,I)=>{y=()=>{I({name:"AbortError",message:x||"Aborted"})},g.signal.addEventListener("abort",y)});d(s(h,c,(w=n==null?void 0:n.getPendingMeta)==null?void 0:w.call(n,{requestId:h,arg:c},{getState:f,extra:m}))),N=await Promise.race([T,Promise.resolve(r(c,{dispatch:d,getState:f,extra:m,requestId:h,signal:g.signal,abort:p,rejectWithValue:(k,I)=>new o1(k,I),fulfillWithValue:(k,I)=>new wP(k,I)})).then(k=>{if(k instanceof o1)throw k;return k instanceof wP?a(k.payload,h,c,k.meta):a(k,h,c)})])}catch(S){N=S instanceof o1?i(null,h,c,S.payload,S.meta):i(S,h,c)}finally{y&&g.signal.removeEventListener("abort",y)}return n&&!n.dispatchConditionRejection&&i.match(N)&&N.meta.condition||d(N),N}();return Object.assign(b,{abort:p,requestId:h,arg:c,unwrap(){return b.then(HY)}})}}return Object.assign(l,{pending:s,rejected:i,fulfilled:a,settled:qY(i,a),typePrefix:e})}return t.withTypes=()=>t,t})();function HY(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function GY(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var YY=Symbol.for("rtk-slice-createasyncthunk");function KY(t,e){return`${t}/${e}`}function JY({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[YY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(us(11));const l=(typeof a.reducers=="function"?a.reducers(QY()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(C,j){const w=typeof C=="string"?C:C.type;if(!w)throw new Error(us(12));if(w in u.sliceCaseReducersByType)throw new Error(us(13));return u.sliceCaseReducersByType[w]=j,d},addMatcher(C,j){return u.sliceMatchers.push({matcher:C,reducer:j}),d},exposeAction(C,j){return u.actionCreators[C]=j,d},exposeCaseReducer(C,j){return u.sliceCaseReducersByName[C]=j,d}};c.forEach(C=>{const j=l[C],w={reducerName:C,type:KY(s,C),createNotation:typeof a.reducers=="function"};eK(j)?rK(w,j,d,e):ZY(w,j,d)});function f(){const[C={},j=[],w=void 0]=typeof a.extraReducers=="function"?K3(a.extraReducers):[a.extraReducers],S={...C,...u.sliceCaseReducersByType};return FY(a.initialState,T=>{for(let k in S)T.addCase(k,S[k]);for(let k of u.sliceMatchers)T.addMatcher(k.matcher,k.reducer);for(let k of j)T.addMatcher(k.matcher,k.reducer);w&&T.addDefaultCase(w)})}const m=C=>C,h=new Map,g=new WeakMap;let y;function x(C,j){return y||(y=f()),y(C,j)}function p(){return y||(y=f()),y.getInitialState()}function b(C,j=!1){function w(T){let k=T[C];return typeof k>"u"&&j&&(k=gh(g,w,p)),k}function S(T=m){const k=gh(h,j,()=>new WeakMap);return gh(k,T,()=>{const I={};for(const[E,P]of Object.entries(a.selectors??{}))I[E]=XY(P,T,()=>gh(g,T,p),j);return I})}return{reducerPath:C,getSelectors:S,get selectors(){return S(w)},selectSlice:w}}const N={name:s,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:p,...b(i),injectInto(C,{reducerPath:j,...w}={}){const S=j??i;return C.inject({reducerPath:S,reducer:x},w),{...N,...b(S,!0)}}};return N}}function XY(t,e,r,n){function a(s,...i){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...i)}return a.unwrapped=t,a}var pe=JY();function QY(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function ZY({type:t,reducerName:e,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!tK(n))throw new Error(us(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,i?wd(t,i):wd(t))}function eK(t){return t._reducerDefinitionType==="asyncThunk"}function tK(t){return t._reducerDefinitionType==="reducerWithPrepare"}function rK({type:t,reducerName:e},r,n,a){if(!a)throw new Error(us(18));const{payloadCreator:s,fulfilled:i,pending:l,rejected:c,settled:u,options:d}=r,f=a(t,s,d);n.exposeAction(e,f),i&&n.addCase(f.fulfilled,i),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:i||yh,pending:l||yh,rejected:c||yh,settled:u||yh})}function yh(){}function us(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const nK="https://staging-engine.testthelink.online",aK=async(t,e)=>{var r;try{const n=await fetch(`${nK}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t,password:e})}),a=await n.json();if(!n.ok||!a.token)throw new Error(a.message||((r=a.errors)==null?void 0:r.general)||"Login failed");return localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user)),a.user}catch(n){throw new Error(n.message)}},sK=async()=>(localStorage.removeItem("token"),localStorage.removeItem("user"),null),oK=async t=>new Promise((e,r)=>{setTimeout(()=>{if(t){const n=localStorage.getItem("user");n?e(JSON.parse(n)):r(new Error("User not found"))}else r(new Error("Invalid token"))},500)}),iK=async(t,e)=>new Promise((r,n)=>{setTimeout(()=>{t==="password"?r({success:!0,message:"Password changed successfully"}):n(new Error("Current password is incorrect"))},800)}),Hx={login:aK,logout:sK,fetchUserProfile:oK,changePassword:iK},lK={user:null,isAuthenticated:!1,isLoading:!1,error:null},jp=M("auth/login",async({username:t,password:e},r)=>{try{return await Hx.login(t,e)}catch(n){return r.rejectWithValue(n.message)}}),J3=M("auth/logout",async(t,e)=>{try{return await Hx.logout(),null}catch(r){return e.rejectWithValue(r.message)}}),i1=M("auth/changePassword",async({currentPassword:t,newPassword:e},r)=>{try{return await Hx.changePassword(t,e)}catch(n){return r.rejectWithValue(n.message)}}),wp=M("auth/fetchUserProfile",async(t,e)=>{try{return await Hx.fetchUserProfile(t)}catch(r){return e.rejectWithValue(r.message)}}),X3=pe({name:"auth",initialState:lK,reducers:{resetAuthState:t=>{t.error=null}},extraReducers:t=>{t.addCase(jp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jp.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(jp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(J3.fulfilled,e=>{e.user=null,e.isAuthenticated=!1}).addCase(wp.pending,e=>{e.isLoading=!0}).addCase(wp.fulfilled,(e,r)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=r.payload}).addCase(wp.rejected,e=>{e.isLoading=!1,e.isAuthenticated=!1}).addCase(i1.pending,e=>{e.isLoading=!0}).addCase(i1.fulfilled,e=>{e.isLoading=!1}).addCase(i1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetAuthState:d7e}=X3.actions,cK=X3.reducer;let uK={data:""},dK=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||uK,fK=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mK=/\/\*[^]*?\*\/|  +/g,CP=/\n+/g,Qs=(t,e)=>{let r="",n="",a="";for(let s in t){let i=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+i+";":n+=s[1]=="f"?Qs(i,s):s+"{"+Qs(i,s[1]=="k"?"":e)+"}":typeof i=="object"?n+=Qs(i,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):i!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Qs.p?Qs.p(s,i):s+":"+i+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Ua={},Q3=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+Q3(t[r]);return e}return t},hK=(t,e,r,n,a)=>{let s=Q3(t),i=Ua[s]||(Ua[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Ua[i]){let c=s!==t?t:(u=>{let d,f,m=[{}];for(;d=fK.exec(u.replace(mK,""));)d[4]?m.shift():d[3]?(f=d[3].replace(CP," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(CP," ").trim();return m[0]})(t);Ua[i]=Qs(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Ua.g?Ua.g:null;return r&&(Ua.g=Ua[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Ua[i],e,n,l),i},pK=(t,e,r)=>t.reduce((n,a,s)=>{let i=e[s];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":Qs(l,""):l===!1?"":l}return n+a+(i??"")},"");function Gx(t){let e=this||{},r=t.call?t(e.p):t;return hK(r.unshift?r.raw?pK(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,dK(e.target),e.g,e.o,e.k)}let Z3,jS,wS;Gx.bind({g:1});let Cs=Gx.bind({k:1});function gK(t,e,r,n){Qs.p=e,Z3=t,jS=r,wS=n}function Lo(t,e){let r=this||{};return function(){let n=arguments;function a(s,i){let l=Object.assign({},s),c=l.className||a.className;r.p=Object.assign({theme:jS&&jS()},l),r.o=/ *go\d+/.test(c),l.className=Gx.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),wS&&u[0]&&wS(l),Z3(u,l)}return a}}var yK=t=>typeof t=="function",s0=(t,e)=>yK(t)?t(e):t,bK=(()=>{let t=0;return()=>(++t).toString()})(),eB=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),xK=20,tB=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,xK)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return tB(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},Np=[],yi={toasts:[],pausedAt:void 0},el=t=>{yi=tB(yi,t),Np.forEach(e=>{e(yi)})},vK={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},jK=(t={})=>{let[e,r]=v.useState(yi),n=v.useRef(yi);v.useEffect(()=>(n.current!==yi&&r(yi),Np.push(r),()=>{let s=Np.indexOf(r);s>-1&&Np.splice(s,1)}),[]);let a=e.toasts.map(s=>{var i,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((i=t[s.type])==null?void 0:i.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||vK[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:a}},wK=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||bK()}),Nm=t=>(e,r)=>{let n=wK(e,t,r);return el({type:2,toast:n}),n.id},De=(t,e)=>Nm("blank")(t,e);De.error=Nm("error");De.success=Nm("success");De.loading=Nm("loading");De.custom=Nm("custom");De.dismiss=t=>{el({type:3,toastId:t})};De.remove=t=>el({type:4,toastId:t});De.promise=(t,e,r)=>{let n=De.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let s=e.success?s0(e.success,a):void 0;return s?De.success(s,{id:n,...r,...r==null?void 0:r.success}):De.dismiss(n),a}).catch(a=>{let s=e.error?s0(e.error,a):void 0;s?De.error(s,{id:n,...r,...r==null?void 0:r.error}):De.dismiss(n)}),t};var NK=(t,e)=>{el({type:1,toast:{id:t,height:e}})},CK=()=>{el({type:5,time:Date.now()})},Nd=new Map,SK=1e3,AK=(t,e=SK)=>{if(Nd.has(t))return;let r=setTimeout(()=>{Nd.delete(t),el({type:4,toastId:t})},e);Nd.set(t,r)},TK=t=>{let{toasts:e,pausedAt:r}=jK(t);v.useEffect(()=>{if(r)return;let s=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&De.dismiss(l.id);return}return setTimeout(()=>De.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=v.useCallback(()=>{r&&el({type:6,time:Date.now()})},[r]),a=v.useCallback((s,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=e.filter(h=>(h.position||u)===(s.position||u)&&h.height),f=d.findIndex(h=>h.id===s.id),m=d.filter((h,g)=>g<f&&h.visible).length;return d.filter(h=>h.visible).slice(...l?[m+1]:[0,m]).reduce((h,g)=>h+(g.height||0)+c,0)},[e]);return v.useEffect(()=>{e.forEach(s=>{if(s.dismissed)AK(s.id,s.removeDelay);else{let i=Nd.get(s.id);i&&(clearTimeout(i),Nd.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:NK,startPause:CK,endPause:n,calculateOffset:a}}},kK=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,OK=Cs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EK=Cs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,IK=Lo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kK} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${OK} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${EK} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,PK=Cs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DK=Lo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${PK} 1s linear infinite;
`,_K=Cs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$K=Cs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RK=Lo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_K} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$K} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,MK=Lo("div")`
  position: absolute;
`,LK=Lo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,FK=Cs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BK=Lo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FK} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,qK=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?v.createElement(BK,null,e):e:r==="blank"?null:v.createElement(LK,null,v.createElement(DK,{...n}),r!=="loading"&&v.createElement(MK,null,r==="error"?v.createElement(IK,{...n}):v.createElement(RK,{...n})))},VK=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,UK=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,zK="0%{opacity:0;} 100%{opacity:1;}",WK="0%{opacity:1;} 100%{opacity:0;}",HK=Lo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GK=Lo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,YK=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=eB()?[zK,WK]:[VK(r),UK(r)];return{animation:e?`${Cs(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cs(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},KK=v.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?YK(t.position||e||"top-center",t.visible):{opacity:0},s=v.createElement(qK,{toast:t}),i=v.createElement(GK,{...t.ariaProps},s0(t.message,t));return v.createElement(HK,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:s,message:i}):v.createElement(v.Fragment,null,s,i))});gK(v.createElement);var JK=({id:t,className:e,style:r,onHeightUpdate:n,children:a})=>{let s=v.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return v.createElement("div",{ref:s,className:e,style:r},a)},XK=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eB()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...a}},QK=Gx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bh=16,ZK=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:a,containerStyle:s,containerClassName:i})=>{let{toasts:l,handlers:c}=TK(r);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:bh,left:bh,right:bh,bottom:bh,pointerEvents:"none",...s},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),m=XK(d,f);return v.createElement(JK,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?QK:"",style:m},u.type==="custom"?s0(u.message,u):a?a(u):v.createElement(KK,{toast:u,position:d}))}))},vr=De;function rB(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=rB(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=rB(t))&&(n&&(n+=" "),n+=e);return n}function eJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const nB=v.forwardRef(eJ);function tJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const fa=v.forwardRef(tJ);function rJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const aB=v.forwardRef(rJ);function nJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const aJ=v.forwardRef(nJ);function sJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const oJ=v.forwardRef(sJ);function iJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const lJ=v.forwardRef(iJ);function cJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Ck=v.forwardRef(cJ);function uJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const NS=v.forwardRef(uJ);function dJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const sB=v.forwardRef(dJ);function fJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const SP=v.forwardRef(fJ);function mJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const oB=v.forwardRef(mJ);function hJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pJ=v.forwardRef(hJ);function gJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const yJ=v.forwardRef(gJ);function bJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const iB=v.forwardRef(bJ);function xJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const lB=v.forwardRef(xJ);function vJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const Sk=v.forwardRef(vJ);function jJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Cm=v.forwardRef(jJ);function wJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const NJ=v.forwardRef(wJ);function CJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const SJ=v.forwardRef(CJ);function AJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const TJ=v.forwardRef(AJ);function kJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Se=v.forwardRef(kJ);function OJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Te=v.forwardRef(OJ);function EJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const tl=v.forwardRef(EJ);function IJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const PJ=v.forwardRef(IJ);function DJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Fe=v.forwardRef(DJ);function _J({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const $J=v.forwardRef(_J);function RJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const cB=v.forwardRef(RJ);function MJ({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const uB=v.forwardRef(MJ),LJ=[{name:"Dashboard",href:"/dashboard",icon:SJ},{name:"Settings",icon:oB,submenu:[{name:"Departments",href:"/settings/departments"},{name:"Subdepartments",href:"/settings/subdepartments"},{name:"Modules",href:"/settings/modules"},{name:"Users",submenu:[{name:"Approval Matrix",href:"/settings/approval-matrix"},{name:"User Access",href:"/settings/user-access"},{name:"User Roles",href:"/settings/user-roles"},{name:"User",href:"/settings/users"}]},{name:"Real Property",submenu:[{name:"Tax Declaration",href:"/settings/tax-declaration"},{name:"Base Unit Value",href:"/settings/base-unit-value"},{name:"General Revision",href:"/settings/general-revision"}]},{name:"Accounting Settings",submenu:[{name:"Bank Details",submenu:[{name:"Bank",href:"/settings/bank"},{name:"Currency",href:"/settings/currency"}]},{name:"Document Details",submenu:[{name:"Document Type",href:"/settings/document-details"},{name:"Document Type Category",href:"/settings/document-type-categories"}]},{name:"Items Settings",submenu:[{name:"Item List",href:"/settings/items"},{name:"Item Units",href:"/settings/items/units"},{name:"Invoice Charge Accounts",href:"/settings/items/invoice-charge-accounts"}]},{name:"Project Settings",submenu:[{name:"Project Details",href:"/settings/project-details"},{name:"Project Type",href:"/settings/project-type"}]},{name:"Financial Statement",href:"/settings/financial-statement"},{name:"Fiscal Year",href:"/settings/fiscal-year"},{name:"Tax Code",href:"/settings/tax-code"},{name:"Mode of Payment",href:"/settings/mode-of-payment"},{name:"Payment Terms",href:"/settings/payment-terms"},{name:"Industry",href:"/settings/industry"}]},{name:"Locations",href:"/settings/locations"},{name:"Individual/Citizen",href:"/settings/customer"},{name:"Chart of Accounts Settings",submenu:[{name:"Chart of Accounts",href:"/settings/chart-of-accounts"},{name:"Account Group",href:"/settings/account-group"},{name:"Major Account Group",href:"/settings/major-account-group"},{name:"Sub Major Account Group",href:"/settings/sub-major-account-group"}]},{name:"Vendors",submenu:[{name:"Vendor Details",href:"/settings/vendors"},{name:"Vendor Customer Type",href:"/settings/vendor-customer-type"},{name:"Vendor Type",href:"/settings/vendor-type"}]},{name:"Employee",submenu:[{name:"Employee Details",href:"/settings/employees"},{name:"Employment Status",href:"/settings/employmentStatus"},{name:"Positions",href:"/settings/positions"},{name:"Nationalities",href:"/settings/nationalities"}]},{name:"PPE Settings",submenu:[{name:"PPE List",href:"/settings/ppe"},{name:"PPE Categories",href:"/settings/ppe-categories"},{name:"PPE Suppliers",href:"/settings/ppe-suppliers"}]},{name:"LGU Maintenance",href:"/settings/lgu-maintenance"}]},{name:"Disbursement",icon:pJ,submenu:[{name:"Obligation Request",href:"/disbursement/obligation-requests"},{name:"Disbursement Voucher",href:"/disbursement/vouchers"},{name:"Travel Order",href:"/disbursement/travel-orders"},{name:"Journal Entry Voucher",href:"/disbursement/journal-entry-vouchers"},{name:"Disbursement Journals",href:"/disbursement/disbursement-journals"},{name:"General Journals",href:"/disbursement/general-journals"},{name:"Beginning Balance",href:"/disbursement/beginning-balance"},{name:"Purchase Request",href:"/disbursement/purchase-requests"},{name:"Fund Utilization Requests and Status",href:"/disbursement/fund-utilization-requests"}]},{name:"Collections",icon:PJ,submenu:[{name:"Community Tax",href:"/collections/community-tax"},{name:"Community Tax Corporation",href:"/collections/community-tax-corporation"},{name:"General Service Receipt",href:"/collections/general-service-receipts"},{name:"Burial Service Receipt",href:"/collections/burial-service-receipts"},{name:"Marriage Service Receipt",href:"/collections/marriage-service-receipts"},{name:"Real Property Tax",href:"/collections/real-property-tax"},{name:"Cashbook",href:"/collections/cashbook"},{name:"Collection Report",href:"/collections/reports"},{name:"Public Market Ticket",href:"/collections/public-market-tickets"}]},{name:"Applications",icon:iB,submenu:[{name:"Business Permits",href:"/applications/business-permits"},{name:"Cheque Generator",href:"/applications/cheque-generator"}]},{name:"Budget",icon:yJ,submenu:[{name:"Budget Details",href:"/budget/details"},{name:"Budget Allotment",href:"/budget/allotment"},{name:"Budget Summary",href:"/budget/summary"},{name:"Budget Supplemental",href:"/budget/supplemental"},{name:"Budget Transfer",href:"/budget/transfer"},{name:"Budget Report",href:"/budget/report"},{name:"Funds",href:"/budget/funds"},{name:"Sub-funds",href:"/budget/sub-funds"},{name:"Fund Transfer",href:"/budget/fund-transfer"},{name:"Statement of Comparison",href:"/budget/statement-comparison"},{name:"Statement of Appropriation, Allotment, Obligation, Balances",href:"/budget/statement-appropriation"}]},{name:"Reports",icon:NS,submenu:[{name:"General Ledger",href:"/reports/general-ledger"},{name:"Subsidiary Ledger",href:"/reports/subsidiary-ledger"},{name:"Trial Balance",href:"/reports/trial-balance"},{name:"Financial Statements",href:"/reports/financial-statements"}]},{name:"BIR Reports",href:"/reports/bir",icon:NS}];function dB({items:t,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s=0,parentPath:i=""}){return o.jsx("div",{className:_e("space-y-1",s>0&&"ml-4 border-l-2 border-neutral-200 pl-3"),children:t.map(l=>{const c=i?`${i}.${l.name}`:l.name,u=e[c],d=a(l.submenu||[]);return o.jsx("div",{className:"relative",children:l.submenu?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:f=>{f.preventDefault(),r(c)},className:_e("group flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-md transition-colors",d?"bg-primary-50 text-primary-700":"text-neutral-700 hover:bg-neutral-100",u&&"border-l-4 border-primary-500",s>0&&"pl-2"),children:[o.jsxs("div",{className:"flex items-center",children:[l.icon&&o.jsx(l.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",d?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("svg",{className:_e("h-5 w-5 transform transition-transform flex-shrink-0",u?"rotate-180 text-primary-500":"text-neutral-400"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u&&o.jsxs("div",{className:"mt-1",children:[" ",o.jsx(dB,{items:l.submenu,expandedMenus:e,toggleMenu:r,isActive:n,isSubMenuActive:a,level:s+1,parentPath:c})]})]}):o.jsxs(Jl,{to:l.href,className:_e("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",n(l.href)?"bg-primary-50 text-primary-700 border-l-4 border-primary-500":"text-neutral-700 hover:bg-neutral-100 hover:text-neutral-900",s>0&&"pl-2"),children:[l.icon&&o.jsx(l.icon,{className:_e("mr-3 h-5 w-5 flex-shrink-0",n(l.href)?"text-primary-500":"text-neutral-400 group-hover:text-neutral-500")}),o.jsx("span",{className:"text-left",children:l.name})]})},c)})})}function FJ(){var l,c;const t=Mo(),{user:e}=V(u=>u.auth),[r,n]=v.useState({}),a=u=>{n(d=>({...d,[u]:!d[u]}))},s=u=>t.pathname===u,i=u=>u.some(d=>d.href?t.pathname===d.href:d.children&&i(d.children));return o.jsxs("div",{className:"h-full flex flex-col border-r border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex items-center justify-center h-16 border-b border-neutral-200 bg-primary-800",children:o.jsx("h1",{className:"text-white text-xl font-bold px-4",children:"LGU System"})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:o.jsx("nav",{className:"space-y-1 px-2",children:o.jsx(dB,{items:LJ,expandedMenus:r,toggleMenu:a,isActive:s,isSubMenuActive:i})})}),e&&o.jsxs("div",{className:"flex items-center px-4 py-3 border-t border-neutral-200 bg-white",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white font-medium text-sm",children:[((l=e.firstName)==null?void 0:l.charAt(0))||"",((c=e.lastName)==null?void 0:c.charAt(0))||""]})}),o.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-700 truncate",children:e.UserName||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500 truncate",children:e.department})]})]})]})}function gl(t,e,r){let n=r.initialDeps??[],a;function s(){var i,l,c,u;let d;r.key&&((i=r.debug)!=null&&i.call(r))&&(d=Date.now());const f=t();if(!(f.length!==n.length||f.some((g,y)=>n[y]!==g)))return a;n=f;let h;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(h=Date.now()),a=e(...f),r.key&&((c=r.debug)!=null&&c.call(r))){const g=Math.round((Date.now()-d)*100)/100,y=Math.round((Date.now()-h)*100)/100,x=y/16,p=(b,N)=>{for(b=String(b);b.length<N;)b=" "+b;return b};console.info(`%c ${p(y,5)} /${p(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,a),a}return s.updateDeps=i=>{n=i},s}function AP(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const BJ=(t,e)=>Math.abs(t-e)<=1,qJ=(t,e,r)=>{let n;return function(...a){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,a),r)}},TP=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},VJ=t=>t,UJ=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let a=e;a<=r;a++)n.push(a);return n},zJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const a=i=>{const{width:l,height:c}=i;e({width:Math.round(l),height:Math.round(c)})};if(a(TP(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(i=>{const l=()=>{const c=i[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){a({width:u.inlineSize,height:u.blockSize});return}}a(TP(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},kP={passive:!0},OP=typeof window>"u"?!0:"onscrollend"in window,WJ=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let a=0;const s=t.options.useScrollendEvent&&OP?()=>{}:qJ(n,()=>{e(a,!1)},t.options.isScrollingResetDelay),i=d=>()=>{const{horizontal:f,isRtl:m}=t.options;a=f?r.scrollLeft*(m&&-1||1):r.scrollTop,s(),e(a,d)},l=i(!0),c=i(!1);c(),r.addEventListener("scroll",l,kP);const u=t.options.useScrollendEvent&&OP;return u&&r.addEventListener("scrollend",c,kP),()=>{r.removeEventListener("scroll",l),u&&r.removeEventListener("scrollend",c)}},HJ=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},GJ=(t,{adjustments:e=0,behavior:r},n)=>{var a,s;const i=t+e;(s=(a=n.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[n.options.horizontal?"left":"top"]:i,behavior:r})};class YJ{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const i=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var a;(a=n())==null||a.disconnect(),r=null},observe:a=>{var s;return(s=n())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=n())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,a])=>{typeof a>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:VJ,rangeExtractor:UJ,onChange:()=>{},measureElement:HJ,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,a;(a=(n=this.options).onChange)==null||a.call(n,this,r)},this.maybeNotify=gl(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const a=new Map,s=new Map;for(let i=n-1;i>=0;i--){const l=r[i];if(a.has(l.lane))continue;const c=s.get(l.lane);if(c==null||l.end>c.end?s.set(l.lane,l):l.end<c.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=gl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,a,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=gl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:a,getItemKey:s,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<r;d++){const f=s(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=m?m.end+this.options.gap:n+a,g=l.get(f),y=typeof g=="number"?g:this.options.estimateSize(d),x=h+y,p=m?m.lane:d%this.options.lanes;u[d]={index:d,start:h,size:y,end:x,key:f,lane:p}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=gl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,a,s)=>this.range=r.length>0&&n>0?KJ({measurements:r,outerSize:n,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=gl(()=>{let r=null,n=null;const a=this.calculateRange();return a&&(r=a.startIndex,n=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,a,s,i)=>s===null||i===null?[]:r({startIndex:s,endIndex:i,overscan:n,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,a=r.getAttribute(n);return a?parseInt(a,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const a=this.indexFromElement(r),s=this.measurementsCache[a];if(!s)return;const i=s.key,l=this.elementsCache.get(i);l!==r&&(l&&this.observer.unobserve(l),this.observer.observe(r),this.elementsCache.set(i,r)),r.isConnected&&this.resizeItem(a,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const a=this.measurementsCache[r];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,i=n-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,i,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,a)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(a))});return}this._measureElement(r,void 0)},this.getVirtualItems=gl(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const a=[];for(let s=0,i=r.length;s<i;s++){const l=r[s],c=n[l];a.push(c)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return AP(n[fB(0,n.length-1,a=>AP(n[a]).start,r)])},this.getOffsetForAlignment=(r,n,a=0)=>{const s=this.getSize(),i=this.getScrollOffset();n==="auto"&&(n=r>=i+s?"end":"start"),n==="center"?r+=(a-s)/2:n==="end"&&(r-=s);const l=this.getTotalSize()-s;return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const a=this.measurementsCache[r];if(!a)return;const s=this.getSize(),i=this.getScrollOffset();if(n==="auto")if(a.end>=i+s-this.options.scrollPaddingEnd)n="end";else if(a.start<=i+this.options.scrollPaddingStart)n="start";else return[i,n];const l=n==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,n,a.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(r,{align:n="start",behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:a})},this.scrollToIndex=(r,{align:n="auto",behavior:a}={})=>{r=Math.max(0,Math.min(r,this.options.count-1)),this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(r,n);if(!s)return;const[i,l]=s;this._scrollToOffset(i,{adjustments:void 0,behavior:a}),a!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(r))){const u=this.getOffsetForIndex(r,l);if(!u)return;const[d]=u,f=this.getScrollOffset();BJ(d,f)||this.scrollToIndex(r,{align:l,behavior:a})}else this.scrollToIndex(r,{align:l,behavior:a})}))},this.scrollBy=(r,{behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let a;if(n.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let i=n.length-1;for(;i>=0&&s.some(l=>l===null);){const l=n[i];s[l.lane]===null&&(s[l.lane]=l.end),i--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:a})=>{this.options.scrollToFn(r,{behavior:a,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const fB=(t,e,r,n)=>{for(;t<=e;){const a=(t+e)/2|0,s=r(a);if(s<n)t=a+1;else if(s>n)e=a-1;else return a}return t>0?t-1:0};function KJ({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const a=t.length-1,s=c=>t[c].start;if(t.length<=n)return{startIndex:0,endIndex:a};let i=fB(0,a,s,r),l=i;if(n===1)for(;l<a&&t[l].end<r+e;)l++;else if(n>1){const c=Array(n).fill(0);for(;l<a&&c.some(d=>d<r+e);){const d=t[l];c[d.lane]=d.end,l++}const u=Array(n).fill(r+e);for(;i>=0&&u.some(d=>d>=r);){const d=t[i];u[d.lane]=d.start,i--}i=Math.max(0,i-i%n),l=Math.min(a,l+(n-1-l%n))}return{startIndex:i,endIndex:l}}const EP=typeof document<"u"?v.useLayoutEffect:v.useEffect;function JJ(t){const e=v.useReducer(()=>({}),{})[1],r={...t,onChange:(a,s)=>{var i;s?Bx.flushSync(e):e(),(i=t.onChange)==null||i.call(t,a,s)}},[n]=v.useState(()=>new YJ(r));return n.setOptions(r),EP(()=>n._didMount(),[]),EP(()=>n._willUpdate()),n}function XJ(t){return JJ({observeElementRect:zJ,observeElementOffset:WJ,scrollToFn:GJ,...t})}var QJ=Object.defineProperty,ZJ=(t,e,r)=>e in t?QJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l1=(t,e,r)=>(ZJ(t,typeof e!="symbol"?e+"":e,r),r);let eX=class{constructor(){l1(this,"current",this.detect()),l1(this,"handoffState","pending"),l1(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ds=new eX,mt=(t,e)=>{ds.isServer?v.useEffect(t,e):v.useLayoutEffect(t,e)};function ia(t){let e=v.useRef(t);return mt(()=>{e.current=t},[t]),e}function Ak(t,e){let[r,n]=v.useState(t),a=ia(t);return mt(()=>n(a.current),[a,n,...e]),r}let ve=function(t){let e=ia(t);return q.useCallback((...r)=>e.current(...r),[e])};function tX(t,e,r){let[n,a]=v.useState(r),s=t!==void 0,i=v.useRef(s),l=v.useRef(!1),c=v.useRef(!1);return s&&!i.current&&!l.current?(l.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:n,ve(u=>(s||a(u),e==null?void 0:e(u)))]}function Yx(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function vn(){let t=[],e={addEventListener(r,n,a,s){return r.addEventListener(n,a,s),e.add(()=>r.removeEventListener(n,a,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Yx(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,a){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=vn();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let a of t.splice(n,1))a()}},dispose(){for(let r of t.splice(0))r()}};return e}function Fo(){let[t]=v.useState(vn);return v.useEffect(()=>()=>t.dispose(),[t]),t}function rX(){let t=typeof document>"u";return"useSyncExternalStore"in Co?(e=>e.useSyncExternalStore)(Co)(()=>()=>{},()=>!1,()=>!t):!1}function Zc(){let t=rX(),[e,r]=v.useState(ds.isHandoffComplete);return e&&ds.isHandoffComplete===!1&&r(!1),v.useEffect(()=>{e!==!0&&r(!0)},[e]),v.useEffect(()=>ds.handoff(),[]),t?!1:e}var IP;let tn=(IP=q.useId)!=null?IP:function(){let t=Zc(),[e,r]=q.useState(t?()=>ds.nextId():null);return mt(()=>{e===null&&r(ds.nextId())},[e]),e!=null?""+e:void 0};function Et(t,e,...r){if(t in e){let a=e[t];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Et),n}function Kx(t){return ds.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let CS=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ts=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ts||{}),mB=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(mB||{}),nX=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(nX||{});function hB(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(CS)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Tk=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Tk||{});function kk(t,e=0){var r;return t===((r=Kx(t))==null?void 0:r.body)?!1:Et(e,{0(){return t.matches(CS)},1(){let n=t;for(;n!==null;){if(n.matches(CS))return!0;n=n.parentElement}return!1}})}function pB(t){let e=Kx(t);vn().nextFrame(()=>{e&&!kk(e.activeElement,0)&&yo(t)})}var aX=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(aX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function yo(t){t==null||t.focus({preventScroll:!0})}let sX=["textarea","input"].join(",");function oX(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,sX))!=null?r:!1}function Ok(t,e=r=>r){return t.slice().sort((r,n)=>{let a=e(r),s=e(n);if(a===null||s===null)return 0;let i=a.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function iX(t,e){return Cd(hB(),e,{relativeTo:t})}function Cd(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,i=Array.isArray(t)?r?Ok(t):t:hB(t);a.length>0&&i.length>1&&(i=i.filter(h=>!a.includes(h))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,i.indexOf(n))-1;if(e&4)return Math.max(0,i.indexOf(n))+1;if(e&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=i.length,m;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(e&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}m=i[h],m==null||m.focus(u),d+=l}while(m!==s.activeElement);return e&6&&oX(m)&&m.select(),2}function gB(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function lX(){return/Android/gi.test(window.navigator.userAgent)}function yB(){return gB()||lX()}function xh(t,e,r){let n=ia(e);v.useEffect(()=>{function a(s){n.current(s)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[t,r])}function bB(t,e,r){let n=ia(e);v.useEffect(()=>{function a(s){n.current(s)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[t,r])}function Ek(t,e,r=!0){let n=v.useRef(!1);v.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function a(i,l){if(!n.current||i.defaultPrevented)return;let c=l(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||i.composed&&i.composedPath().includes(f))return}return!kk(c,Tk.Loose)&&c.tabIndex!==-1&&i.preventDefault(),e(i,c)}let s=v.useRef(null);xh("pointerdown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),xh("mousedown",i=>{var l,c;n.current&&(s.current=((c=(l=i.composedPath)==null?void 0:l.call(i))==null?void 0:c[0])||i.target)},!0),xh("click",i=>{yB()||s.current&&(a(i,()=>s.current),s.current=null)},!0),xh("touchend",i=>a(i,()=>i.target instanceof HTMLElement?i.target:null),!0),bB("blur",i=>a(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function rl(...t){return v.useMemo(()=>Kx(...t),[...t])}function PP(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function xB(t,e){let[r,n]=v.useState(()=>PP(t));return mt(()=>{n(PP(t))},[t.type,t.as]),mt(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let vB=Symbol();function cX(t,e=!0){return Object.assign(t,{[vB]:e})}function Qt(...t){let e=v.useRef(t);v.useEffect(()=>{e.current=t},[t]);let r=ve(n=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return t.every(n=>n==null||(n==null?void 0:n[vB]))?void 0:r}function DP(t){return[t.screenX,t.screenY]}function jB(){let t=v.useRef([-1,-1]);return{wasMoved(e){let r=DP(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=DP(e)}}}function wB({container:t,accept:e,walk:r,enabled:n=!0}){let a=v.useRef(e),s=v.useRef(r);v.useEffect(()=>{a.current=e,s.current=r},[e,r]),mt(()=>{if(!t||!n)return;let i=Kx(t);if(!i)return;let l=a.current,c=s.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,n,a,s])}function yf(t,e){let r=v.useRef([]),n=ve(t);v.useEffect(()=>{let a=[...r.current];for(let[s,i]of e.entries())if(r.current[s]!==i){let l=n(e,a);return r.current=e,l}},[n,...e])}function o0(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var ko=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ko||{}),ro=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(ro||{});function zt({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:a,visible:s=!0,name:i,mergeRefs:l}){l=l??uX;let c=NB(e,t);if(s)return vh(c,r,n,i,l);let u=a??0;if(u&2){let{static:d=!1,...f}=c;if(d)return vh(f,r,n,i,l)}if(u&1){let{unmount:d=!0,...f}=c;return Et(d?0:1,{0(){return null},1(){return vh({...f,hidden:!0,style:{display:"none"}},r,n,i,l)}})}return vh(c,r,n,i,l)}function vh(t,e={},r,n,a){let{as:s=r,children:i,refName:l="ref",...c}=c1(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof i=="function"?i(e):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let m=!1,h=[];for(let[g,y]of Object.entries(e))typeof y=="boolean"&&(m=!0),y===!0&&h.push(g);m&&(f["data-headlessui-state"]=h.join(" "))}if(s===v.Fragment&&Object.keys(SS(c)).length>0){if(!v.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let m=d.props,h=typeof(m==null?void 0:m.className)=="function"?(...y)=>o0(m==null?void 0:m.className(...y),c.className):o0(m==null?void 0:m.className,c.className),g=h?{className:h}:{};return v.cloneElement(d,Object.assign({},NB(d.props,SS(c1(c,["ref"]))),f,u,{ref:a(d.ref,u.ref)},g))}return v.createElement(s,Object.assign({},c1(c,["ref"]),s!==v.Fragment&&u,s!==v.Fragment&&f),d)}function uX(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function NB(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):e[a]=n[a];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](a,...s){let i=r[n];for(let l of i){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;l(a,...s)}}});return e}function Rt(t){var e;return Object.assign(v.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function SS(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function c1(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let dX="div";var bf=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(bf||{});function fX(t,e){var r;let{features:n=1,...a}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return zt({ourProps:s,theirProps:a,slot:{},defaultTag:dX,name:"Hidden"})}let i0=Rt(fX),Ik=v.createContext(null);Ik.displayName="OpenClosedContext";var Ht=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Ht||{});function Sm(){return v.useContext(Ik)}function Pk({value:t,children:e}){return q.createElement(Ik.Provider,{value:t},e)}function mX(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ca=[];mX(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ca[0]!==e.target&&(Ca.unshift(e.target),Ca=Ca.filter(r=>r!=null&&r.isConnected),Ca.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Dk(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&hX(r)?!1:n}function hX(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function pX(t){throw new Error("Unexpected object: "+t)}var ot=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ot||{});function AS(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),a=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{for(let s=a-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=a+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:pX(t)}}function CB(t={},e=null,r=[]){for(let[n,a]of Object.entries(t))AB(r,SB(e,n),a);return r}function SB(t,e){return t?t+"["+e+"]":e}function AB(t,e,r){if(Array.isArray(r))for(let[n,a]of r.entries())AB(t,SB(e,n.toString()),a);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):CB(r,e,t)}var nt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(nt||{}),gX={},yX=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(yX||{}),bX=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(bX||{}),xX=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(xX||{}),vX=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.RegisterOption=3]="RegisterOption",t[t.UnregisterOption=4]="UnregisterOption",t[t.RegisterLabel=5]="RegisterLabel",t[t.SetActivationTrigger=6]="SetActivationTrigger",t[t.UpdateVirtualOptions=7]="UpdateVirtualOptions",t))(vX||{});function u1(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=e(t.options.slice()),a=n.length>0&&n[0].dataRef.current.order!==null?n.sort((i,l)=>i.dataRef.current.order-l.dataRef.current.order):Ok(n,i=>i.dataRef.current.domRef.current),s=r?a.indexOf(r):null;return s===-1&&(s=null),{options:a,activeOptionIndex:s}}let jX={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},0(t){var e,r;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((r=t.dataRef.current)!=null&&r.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0}}return{...t,comboboxState:0}},2(t,e){var r,n,a,s,i;if((r=t.dataRef.current)!=null&&r.disabled||(n=t.dataRef.current)!=null&&n.optionsRef.current&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let d=e.focus===ot.Specific?e.idx:AS(e,{resolveItems:()=>t.virtual.options,resolveActiveIndex:()=>{var m,h;return(h=(m=t.activeOptionIndex)!=null?m:t.virtual.options.findIndex(g=>!t.virtual.disabled(g)))!=null?h:null},resolveDisabled:t.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),f=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===d&&t.activationTrigger===f?t:{...t,activeOptionIndex:d,activationTrigger:f}}let l=u1(t);if(l.activeOptionIndex===null){let d=l.options.findIndex(f=>!f.dataRef.current.disabled);d!==-1&&(l.activeOptionIndex=d)}let c=e.focus===ot.Specific?e.idx:AS(e,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=e.trigger)!=null?i:2;return t.activeOptionIndex===c&&t.activationTrigger===u?t:{...t,...l,activeOptionIndex:c,activationTrigger:u}},3:(t,e)=>{var r,n,a;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,e.payload]};let s=e.payload,i=u1(t,c=>(c.push(s),c));t.activeOptionIndex===null&&(n=t.dataRef.current)!=null&&n.isSelected(e.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let l={...t,...i,activationTrigger:2};return(a=t.dataRef.current)!=null&&a.__demoMode&&t.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(t,e)=>{var r;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:t.options.filter(a=>a.id!==e.id)};let n=u1(t,a=>{let s=a.findIndex(i=>i.id===e.id);return s!==-1&&a.splice(s,1),a});return{...t,...n,activationTrigger:2}},5:(t,e)=>t.labelId===e.id?t:{...t,labelId:e.id},6:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},7:(t,e)=>{var r;if(((r=t.virtual)==null?void 0:r.options)===e.options)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let a=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);a!==-1?n=a:n=null}return{...t,activeOptionIndex:n,virtual:Object.assign({},t.virtual,{options:e.options})}}},_k=v.createContext(null);_k.displayName="ComboboxActionsContext";function Am(t){let e=v.useContext(_k);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Am),r}return e}let TB=v.createContext(null);function wX(t){var e;let r=nl("VirtualProvider"),[n,a]=v.useMemo(()=>{let c=r.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[r.optionsRef.current]),s=XJ({scrollPaddingStart:n,scrollPaddingEnd:a,count:r.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=r.optionsRef.current)!=null?c:null},overscan:12}),[i,l]=v.useState(0);return mt(()=>{l(c=>c+1)},[(e=r.virtual)==null?void 0:e.options]),q.createElement(TB.Provider,{value:s},q.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&gX.JEST_WORKER_ID!==void 0||r.activationTrigger===0)return;r.activeOptionIndex!==null&&r.virtual.options.length>r.activeOptionIndex&&s.scrollToIndex(r.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return q.createElement(v.Fragment,{key:c.key},q.cloneElement((u=t.children)==null?void 0:u.call(t,{option:r.virtual.options[c.index],open:r.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":r.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let $k=v.createContext(null);$k.displayName="ComboboxDataContext";function nl(t){let e=v.useContext($k);if(e===null){let r=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,nl),r}return e}function NX(t,e){return Et(e.type,jX,t,e)}let CX=v.Fragment;function SX(t,e){let{value:r,defaultValue:n,onChange:a,form:s,name:i,by:l=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:f=!1,immediate:m=!1,virtual:h=null,...g}=t,y=!1,x=null,[p=f?[]:void 0,b]=tX(r,a,n),[N,C]=v.useReducer(NX,{dataRef:v.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),j=v.useRef(!1),w=v.useRef({static:!1,hold:!1}),S=v.useRef(null),T=v.useRef(null),k=v.useRef(null),I=v.useRef(null),E=ve(typeof l=="string"?(X,ee)=>{let H=l;return(X==null?void 0:X[H])===(ee==null?void 0:ee[H])}:l??((X,ee)=>X===ee)),P=ve(X=>N.options.findIndex(ee=>E(ee.dataRef.current.value,X))),L=v.useCallback(X=>Et(_.mode,{1:()=>p.some(ee=>E(ee,X)),0:()=>E(p,X)}),[p]),$=ve(X=>N.activeOptionIndex===P(X)),_=v.useMemo(()=>({...N,immediate:y,optionsPropsRef:w,labelRef:S,inputRef:T,buttonRef:k,optionsRef:I,value:p,defaultValue:n,disabled:c,mode:f?1:0,virtual:N.virtual,get activeOptionIndex(){if(j.current&&N.activeOptionIndex===null&&N.options.length>0){let X=N.options.findIndex(ee=>!ee.dataRef.current.disabled);if(X!==-1)return X}return N.activeOptionIndex},calculateIndex:P,compare:E,isSelected:L,isActive:$,nullable:d,__demoMode:u}),[p,n,c,f,d,u,N,x]);mt(()=>{},[x,void 0]),mt(()=>{N.dataRef.current=_},[_]),Ek([_.buttonRef,_.inputRef,_.optionsRef],()=>Ce.closeCombobox(),_.comboboxState===0);let B=v.useMemo(()=>{var X,ee,H;return{open:_.comboboxState===0,disabled:c,activeIndex:_.activeOptionIndex,activeOption:_.activeOptionIndex===null?null:_.virtual?_.virtual.options[(X=_.activeOptionIndex)!=null?X:0]:(H=(ee=_.options[_.activeOptionIndex])==null?void 0:ee.dataRef.current.value)!=null?H:null,value:p}},[_,c,p]),U=ve(()=>{if(_.activeOptionIndex!==null){if(_.virtual)Z(_.virtual.options[_.activeOptionIndex]);else{let{dataRef:X}=_.options[_.activeOptionIndex];Z(X.current.value)}Ce.goToOption(ot.Specific,_.activeOptionIndex)}}),D=ve(()=>{C({type:0}),j.current=!0}),R=ve(()=>{C({type:1}),j.current=!1}),F=ve((X,ee,H)=>(j.current=!1,X===ot.Specific?C({type:2,focus:ot.Specific,idx:ee,trigger:H}):C({type:2,focus:X,trigger:H}))),G=ve((X,ee)=>(C({type:3,payload:{id:X,dataRef:ee}}),()=>{_.isActive(ee.current.value)&&(j.current=!0),C({type:4,id:X})})),W=ve(X=>(C({type:5,id:X}),()=>C({type:5,id:null}))),Z=ve(X=>Et(_.mode,{0(){return b==null?void 0:b(X)},1(){let ee=_.value.slice(),H=ee.findIndex(z=>E(z,X));return H===-1?ee.push(X):ee.splice(H,1),b==null?void 0:b(ee)}})),fe=ve(X=>{C({type:6,trigger:X})}),Ce=v.useMemo(()=>({onChange:Z,registerOption:G,registerLabel:W,goToOption:F,closeCombobox:R,openCombobox:D,setActivationTrigger:fe,selectActiveOption:U}),[]),ne=e===null?{}:{ref:e},K=v.useRef(null),ie=Fo();return v.useEffect(()=>{K.current&&n!==void 0&&ie.addEventListener(K.current,"reset",()=>{b==null||b(n)})},[K,b]),q.createElement(_k.Provider,{value:Ce},q.createElement($k.Provider,{value:_},q.createElement(Pk,{value:Et(_.comboboxState,{0:Ht.Open,1:Ht.Closed})},i!=null&&p!=null&&CB({[i]:p}).map(([X,ee],H)=>q.createElement(i0,{features:bf.Hidden,ref:H===0?z=>{var he;K.current=(he=z==null?void 0:z.closest("form"))!=null?he:null}:void 0,...SS({key:X,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:X,value:ee})})),zt({ourProps:ne,theirProps:g,slot:B,defaultTag:CX,name:"Combobox"}))))}let AX="input";function TX(t,e){var r,n,a,s,i;let l=tn(),{id:c=`headlessui-combobox-input-${l}`,onChange:u,displayValue:d,type:f="text",...m}=t,h=nl("Combobox.Input"),g=Am("Combobox.Input"),y=Qt(h.inputRef,e),x=rl(h.inputRef),p=v.useRef(!1),b=Fo(),N=ve(()=>{g.onChange(null),h.optionsRef.current&&(h.optionsRef.current.scrollTop=0),g.goToOption(ot.Nothing)}),C=function(){var _;return typeof d=="function"&&h.value!==void 0?(_=d(h.value))!=null?_:"":typeof h.value=="string"?h.value:""}();yf(([_,B],[U,D])=>{if(p.current)return;let R=h.inputRef.current;R&&((D===0&&B===1||_!==U)&&(R.value=_),requestAnimationFrame(()=>{if(p.current||!R||(x==null?void 0:x.activeElement)!==R)return;let{selectionStart:F,selectionEnd:G}=R;Math.abs((G??0)-(F??0))===0&&F===0&&R.setSelectionRange(R.value.length,R.value.length)}))},[C,h.comboboxState,x]),yf(([_],[B])=>{if(_===0&&B===1){if(p.current)return;let U=h.inputRef.current;if(!U)return;let D=U.value,{selectionStart:R,selectionEnd:F,selectionDirection:G}=U;U.value="",U.value=D,G!==null?U.setSelectionRange(R,F,G):U.setSelectionRange(R,F)}},[h.comboboxState]);let j=v.useRef(!1),w=ve(()=>{j.current=!0}),S=ve(()=>{b.nextFrame(()=>{j.current=!1})}),T=ve(_=>{switch(p.current=!0,_.key){case nt.Enter:if(p.current=!1,h.comboboxState!==0||j.current)return;if(_.preventDefault(),_.stopPropagation(),h.activeOptionIndex===null){g.closeCombobox();return}g.selectActiveOption(),h.mode===0&&g.closeCombobox();break;case nt.ArrowDown:return p.current=!1,_.preventDefault(),_.stopPropagation(),Et(h.comboboxState,{0:()=>g.goToOption(ot.Next),1:()=>g.openCombobox()});case nt.ArrowUp:return p.current=!1,_.preventDefault(),_.stopPropagation(),Et(h.comboboxState,{0:()=>g.goToOption(ot.Previous),1:()=>{g.openCombobox(),b.nextFrame(()=>{h.value||g.goToOption(ot.Last)})}});case nt.Home:if(_.shiftKey)break;return p.current=!1,_.preventDefault(),_.stopPropagation(),g.goToOption(ot.First);case nt.PageUp:return p.current=!1,_.preventDefault(),_.stopPropagation(),g.goToOption(ot.First);case nt.End:if(_.shiftKey)break;return p.current=!1,_.preventDefault(),_.stopPropagation(),g.goToOption(ot.Last);case nt.PageDown:return p.current=!1,_.preventDefault(),_.stopPropagation(),g.goToOption(ot.Last);case nt.Escape:return p.current=!1,h.comboboxState!==0?void 0:(_.preventDefault(),h.optionsRef.current&&!h.optionsPropsRef.current.static&&_.stopPropagation(),h.nullable&&h.mode===0&&h.value===null&&N(),g.closeCombobox());case nt.Tab:if(p.current=!1,h.comboboxState!==0)return;h.mode===0&&h.activationTrigger!==1&&g.selectActiveOption(),g.closeCombobox();break}}),k=ve(_=>{u==null||u(_),h.nullable&&h.mode===0&&_.target.value===""&&N(),g.openCombobox()}),I=ve(_=>{var B,U,D;let R=(B=_.relatedTarget)!=null?B:Ca.find(F=>F!==_.currentTarget);if(p.current=!1,!((U=h.optionsRef.current)!=null&&U.contains(R))&&!((D=h.buttonRef.current)!=null&&D.contains(R))&&h.comboboxState===0)return _.preventDefault(),h.mode===0&&(h.nullable&&h.value===null?N():h.activationTrigger!==1&&g.selectActiveOption()),g.closeCombobox()}),E=ve(_=>{var B,U,D;let R=(B=_.relatedTarget)!=null?B:Ca.find(F=>F!==_.currentTarget);(U=h.buttonRef.current)!=null&&U.contains(R)||(D=h.optionsRef.current)!=null&&D.contains(R)||h.disabled||h.immediate&&h.comboboxState!==0&&(g.openCombobox(),b.nextFrame(()=>{g.setActivationTrigger(1)}))}),P=Ak(()=>{if(h.labelId)return[h.labelId].join(" ")},[h.labelId]),L=v.useMemo(()=>({open:h.comboboxState===0,disabled:h.disabled}),[h]),$={ref:y,id:c,role:"combobox",type:f,"aria-controls":(r=h.optionsRef.current)==null?void 0:r.id,"aria-expanded":h.comboboxState===0,"aria-activedescendant":h.activeOptionIndex===null?void 0:h.virtual?(n=h.options.find(_=>{var B;return!((B=h.virtual)!=null&&B.disabled(_.dataRef.current.value))&&h.compare(_.dataRef.current.value,h.virtual.options[h.activeOptionIndex])}))==null?void 0:n.id:(a=h.options[h.activeOptionIndex])==null?void 0:a.id,"aria-labelledby":P,"aria-autocomplete":"list",defaultValue:(i=(s=t.defaultValue)!=null?s:h.defaultValue!==void 0?d==null?void 0:d(h.defaultValue):null)!=null?i:h.defaultValue,disabled:h.disabled,onCompositionStart:w,onCompositionEnd:S,onKeyDown:T,onChange:k,onFocus:E,onBlur:I};return zt({ourProps:$,theirProps:m,slot:L,defaultTag:AX,name:"Combobox.Input"})}let kX="button";function OX(t,e){var r;let n=nl("Combobox.Button"),a=Am("Combobox.Button"),s=Qt(n.buttonRef,e),i=tn(),{id:l=`headlessui-combobox-button-${i}`,...c}=t,u=Fo(),d=ve(y=>{switch(y.key){case nt.ArrowDown:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case nt.ArrowUp:return y.preventDefault(),y.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(ot.Last)})),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})});case nt.Escape:return n.comboboxState!==0?void 0:(y.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&y.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})}));default:return}}),f=ve(y=>{if(Dk(y.currentTarget))return y.preventDefault();n.comboboxState===0?a.closeCombobox():(y.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var x;return(x=n.inputRef.current)==null?void 0:x.focus({preventScroll:!0})})}),m=Ak(()=>{if(n.labelId)return[n.labelId,l].join(" ")},[n.labelId,l]),h=v.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),g={ref:s,id:l,type:xB(t,n.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.comboboxState===0,"aria-labelledby":m,disabled:n.disabled,onClick:f,onKeyDown:d};return zt({ourProps:g,theirProps:c,slot:h,defaultTag:kX,name:"Combobox.Button"})}let EX="label";function IX(t,e){let r=tn(),{id:n=`headlessui-combobox-label-${r}`,...a}=t,s=nl("Combobox.Label"),i=Am("Combobox.Label"),l=Qt(s.labelRef,e);mt(()=>i.registerLabel(n),[n]);let c=ve(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=v.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return zt({ourProps:{ref:l,id:n,onClick:c},theirProps:a,slot:u,defaultTag:EX,name:"Combobox.Label"})}let PX="ul",DX=ko.RenderStrategy|ko.Static;function _X(t,e){let r=tn(),{id:n=`headlessui-combobox-options-${r}`,hold:a=!1,...s}=t,i=nl("Combobox.Options"),l=Qt(i.optionsRef,e),c=Sm(),u=c!==null?(c&Ht.Open)===Ht.Open:i.comboboxState===0;mt(()=>{var h;i.optionsPropsRef.current.static=(h=t.static)!=null?h:!1},[i.optionsPropsRef,t.static]),mt(()=>{i.optionsPropsRef.current.hold=a},[i.optionsPropsRef,a]),wB({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(h){return h.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let d=Ak(()=>{var h,g;return(g=i.labelId)!=null?g:(h=i.buttonRef.current)==null?void 0:h.id},[i.labelId,i.buttonRef.current]),f=v.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),m={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:n,ref:l};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:q.createElement(wX,null,s.children)}),zt({ourProps:m,theirProps:s,slot:f,defaultTag:PX,features:DX,visible:u,name:"Combobox.Options"})}let $X="li";function RX(t,e){var r;let n=tn(),{id:a=`headlessui-combobox-option-${n}`,disabled:s=!1,value:i,order:l=null,...c}=t,u=nl("Combobox.Option"),d=Am("Combobox.Option"),f=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((r=u.options[u.activeOptionIndex])==null?void 0:r.id)===a,m=u.isSelected(i),h=v.useRef(null),g=ia({disabled:s,value:i,domRef:h,order:l}),y=v.useContext(TB),x=Qt(e,h,y?y.measureElement:null),p=ve(()=>d.onChange(i));mt(()=>d.registerOption(a,g),[g,a]);let b=v.useRef(!(u.virtual||u.__demoMode));mt(()=>{if(!u.virtual||!u.__demoMode)return;let I=vn();return I.requestAnimationFrame(()=>{b.current=!0}),I.dispose},[u.virtual,u.__demoMode]),mt(()=>{if(!b.current||u.comboboxState!==0||!f||u.activationTrigger===0)return;let I=vn();return I.requestAnimationFrame(()=>{var E,P;(P=(E=h.current)==null?void 0:E.scrollIntoView)==null||P.call(E,{block:"nearest"})}),I.dispose},[h,f,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let N=ve(I=>{var E;if(s||(E=u.virtual)!=null&&E.disabled(i))return I.preventDefault();p(),yB()||requestAnimationFrame(()=>{var P;return(P=u.inputRef.current)==null?void 0:P.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),C=ve(()=>{var I;if(s||(I=u.virtual)!=null&&I.disabled(i))return d.goToOption(ot.Nothing);let E=u.calculateIndex(i);d.goToOption(ot.Specific,E)}),j=jB(),w=ve(I=>j.update(I)),S=ve(I=>{var E;if(!j.wasMoved(I)||s||(E=u.virtual)!=null&&E.disabled(i)||f)return;let P=u.calculateIndex(i);d.goToOption(ot.Specific,P,0)}),T=ve(I=>{var E;j.wasMoved(I)&&(s||(E=u.virtual)!=null&&E.disabled(i)||f&&(u.optionsPropsRef.current.hold||d.goToOption(ot.Nothing)))}),k=v.useMemo(()=>({active:f,selected:m,disabled:s}),[f,m,s]);return zt({ourProps:{id:a,ref:x,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":m,disabled:void 0,onClick:N,onFocus:C,onPointerEnter:w,onMouseEnter:w,onPointerMove:S,onMouseMove:S,onPointerLeave:T,onMouseLeave:T},theirProps:c,slot:k,defaultTag:$X,name:"Combobox.Option"})}let MX=Rt(SX),LX=Rt(OX),FX=Rt(TX),BX=Rt(IX),qX=Rt(_X),VX=Rt(RX),yl=Object.assign(MX,{Input:FX,Button:LX,Label:BX,Options:qX,Option:VX});function kB(t,e,r,n){let a=ia(r);v.useEffect(()=>{t=t??window;function s(i){a.current(i)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Tm(){let t=v.useRef(!1);return mt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function OB(t){let e=ve(t),r=v.useRef(!1);v.useEffect(()=>(r.current=!1,()=>{r.current=!0,Yx(()=>{r.current&&e()})}),[e])}var rd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(rd||{});function UX(){let t=v.useRef(0);return bB("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function EB(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let zX="div";var IB=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(IB||{});function WX(t,e){let r=v.useRef(null),n=Qt(r,e),{initialFocus:a,containers:s,features:i=30,...l}=t;Zc()||(i=1);let c=rl(r);YX({ownerDocument:c},!!(i&16));let u=KX({ownerDocument:c,container:r,initialFocus:a},!!(i&2));JX({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(i&8));let d=UX(),f=ve(y=>{let x=r.current;x&&(p=>p())(()=>{Et(d.current,{[rd.Forwards]:()=>{Cd(x,ts.First,{skipElements:[y.relatedTarget]})},[rd.Backwards]:()=>{Cd(x,ts.Last,{skipElements:[y.relatedTarget]})}})})}),m=Fo(),h=v.useRef(!1),g={ref:n,onKeyDown(y){y.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(y){let x=EB(s);r.current instanceof HTMLElement&&x.add(r.current);let p=y.relatedTarget;p instanceof HTMLElement&&p.dataset.headlessuiFocusGuard!=="true"&&(PB(x,p)||(h.current?Cd(r.current,Et(d.current,{[rd.Forwards]:()=>ts.Next,[rd.Backwards]:()=>ts.Previous})|ts.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&yo(y.target)))}};return q.createElement(q.Fragment,null,!!(i&4)&&q.createElement(i0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:bf.Focusable}),zt({ourProps:g,theirProps:l,defaultTag:zX,name:"FocusTrap"}),!!(i&4)&&q.createElement(i0,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:bf.Focusable}))}let HX=Rt(WX),Tu=Object.assign(HX,{features:IB});function GX(t=!0){let e=v.useRef(Ca.slice());return yf(([r],[n])=>{n===!0&&r===!1&&Yx(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Ca.slice())},[t,Ca,e]),ve(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function YX({ownerDocument:t},e){let r=GX(e);yf(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&yo(r())},[e]),OB(()=>{e&&yo(r())})}function KX({ownerDocument:t,container:e,initialFocus:r},n){let a=v.useRef(null),s=Tm();return yf(()=>{if(!n)return;let i=e.current;i&&Yx(()=>{if(!s.current)return;let l=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===l){a.current=l;return}}else if(i.contains(l)){a.current=l;return}r!=null&&r.current?yo(r.current):Cd(i,ts.First)===mB.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=t==null?void 0:t.activeElement})},[n]),a}function JX({ownerDocument:t,container:e,containers:r,previousActiveElement:n},a){let s=Tm();kB(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!s.current)return;let l=EB(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?PB(l,u)?(n.current=u,yo(u)):(i.preventDefault(),i.stopPropagation(),yo(c)):yo(n.current)},!0)}function PB(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let DB=v.createContext(!1);function XX(){return v.useContext(DB)}function TS(t){return q.createElement(DB.Provider,{value:t.force},t.children)}function QX(t){let e=XX(),r=v.useContext(_B),n=rl(t),[a,s]=v.useState(()=>{if(!e&&r!==null||ds.isServer)return null;let i=n==null?void 0:n.getElementById("headlessui-portal-root");if(i)return i;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return v.useEffect(()=>{a!==null&&(n!=null&&n.body.contains(a)||n==null||n.body.appendChild(a))},[a,n]),v.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),a}let ZX=v.Fragment;function eQ(t,e){let r=t,n=v.useRef(null),a=Qt(cX(d=>{n.current=d}),e),s=rl(n),i=QX(n),[l]=v.useState(()=>{var d;return ds.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=v.useContext(kS),u=Zc();return mt(()=>{!i||!l||i.contains(l)||(l.setAttribute("data-headlessui-portal",""),i.appendChild(l))},[i,l]),mt(()=>{if(l&&c)return c.register(l)},[c,l]),OB(()=>{var d;!i||!l||(l instanceof Node&&i.contains(l)&&i.removeChild(l),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!l?null:Bx.createPortal(zt({ourProps:{ref:a},theirProps:r,defaultTag:ZX,name:"Portal"}),l):null}let tQ=v.Fragment,_B=v.createContext(null);function rQ(t,e){let{target:r,...n}=t,a={ref:Qt(e)};return q.createElement(_B.Provider,{value:r},zt({ourProps:a,theirProps:n,defaultTag:tQ,name:"Popover.Group"}))}let kS=v.createContext(null);function nQ(){let t=v.useContext(kS),e=v.useRef([]),r=ve(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=ve(s=>{let i=e.current.indexOf(s);i!==-1&&e.current.splice(i,1),t&&t.unregister(s)}),a=v.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,v.useMemo(()=>function({children:s}){return q.createElement(kS.Provider,{value:a},s)},[a])]}let aQ=Rt(eQ),sQ=Rt(rQ),OS=Object.assign(aQ,{Group:sQ});function oQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const iQ=typeof Object.is=="function"?Object.is:oQ,{useState:lQ,useEffect:cQ,useLayoutEffect:uQ,useDebugValue:dQ}=Co;function fQ(t,e,r){const n=e(),[{inst:a},s]=lQ({inst:{value:n,getSnapshot:e}});return uQ(()=>{a.value=n,a.getSnapshot=e,d1(a)&&s({inst:a})},[t,n,e]),cQ(()=>(d1(a)&&s({inst:a}),t(()=>{d1(a)&&s({inst:a})})),[t]),dQ(n),n}function d1(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!iQ(r,n)}catch{return!0}}function mQ(t,e,r){return e()}const hQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pQ=!hQ,gQ=pQ?mQ:fQ,yQ="useSyncExternalStore"in Co?(t=>t.useSyncExternalStore)(Co):gQ;function bQ(t){return yQ(t.subscribe,t.getSnapshot,t.getSnapshot)}function xQ(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...s){let i=e[a].call(r,...s);i&&(r=i,n.forEach(l=>l()))}}}function vQ(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,a=n.clientWidth-n.offsetWidth,s=t-a;r.style(n,"paddingRight",`${s}px`)}}}function jQ(){return gB()?{before({doc:t,d:e,meta:r}){function n(a){return r.containers.flatMap(s=>s()).some(s=>s.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=vn();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(a=window.scrollY)!=null?a:window.pageYOffset,i=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(i=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function wQ(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function NQ(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let bi=xQ(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:vn(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:NQ(r)},a=[jQ(),vQ(),wQ()];a.forEach(({before:s})=>s==null?void 0:s(n)),a.forEach(({after:s})=>s==null?void 0:s(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});bi.subscribe(()=>{let t=bi.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&bi.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&bi.dispatch("TEARDOWN",r)}});function CQ(t,e,r){let n=bQ(bi),a=t?n.get(t):void 0,s=a?a.count>0:!1;return mt(()=>{if(!(!t||!e))return bi.dispatch("PUSH",t,r),()=>bi.dispatch("POP",t,r)},[e,t]),s}let f1=new Map,ku=new Map;function _P(t,e=!0){mt(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function a(){var i;if(!n)return;let l=(i=ku.get(n))!=null?i:1;if(l===1?ku.delete(n):ku.set(n,l-1),l!==1)return;let c=f1.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,f1.delete(n))}let s=(r=ku.get(n))!=null?r:0;return ku.set(n,s+1),s!==0||(f1.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),a},[t,e])}function SQ({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let a=v.useRef((n=r==null?void 0:r.current)!=null?n:null),s=rl(a),i=ve(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(a.current)||f.contains((u=(c=a.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(m=>f.contains(m))||d.push(f));return d});return{resolveContainers:i,contains:ve(l=>i().some(c=>c.contains(l))),mainTreeNodeRef:a,MainTreeNode:v.useMemo(()=>function(){return r!=null?null:q.createElement(i0,{features:bf.Hidden,ref:a})},[a,r])}}let Rk=v.createContext(()=>{});Rk.displayName="StackContext";var ES=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(ES||{});function AQ(){return v.useContext(Rk)}function TQ({children:t,onUpdate:e,type:r,element:n,enabled:a}){let s=AQ(),i=ve((...l)=>{e==null||e(...l),s(...l)});return mt(()=>{let l=a===void 0||a===!0;return l&&i(0,r,n),()=>{l&&i(1,r,n)}},[i,r,n,a]),q.createElement(Rk.Provider,{value:i},t)}let $B=v.createContext(null);function RB(){let t=v.useContext($B);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,RB),e}return t}function kQ(){let[t,e]=v.useState([]);return[t.length>0?t.join(" "):void 0,v.useMemo(()=>function(r){let n=ve(s=>(e(i=>[...i,s]),()=>e(i=>{let l=i.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),a=v.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return q.createElement($B.Provider,{value:a},r.children)},[e])]}let OQ="p";function EQ(t,e){let r=tn(),{id:n=`headlessui-description-${r}`,...a}=t,s=RB(),i=Qt(e);mt(()=>s.register(n),[n,s.register]);let l={ref:i,...s.props,id:n};return zt({ourProps:l,theirProps:a,slot:s.slot||{},defaultTag:OQ,name:s.name||"Description"})}let IQ=Rt(EQ),PQ=Object.assign(IQ,{});var DQ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(DQ||{}),_Q=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(_Q||{});let $Q={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},l0=v.createContext(null);l0.displayName="DialogContext";function km(t){let e=v.useContext(l0);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,km),r}return e}function RQ(t,e,r=()=>[document.body]){CQ(t,e,n=>{var a;return{containers:[...(a=n.containers)!=null?a:[],r]}})}function MQ(t,e){return Et(e.type,$Q,t,e)}let LQ="div",FQ=ko.RenderStrategy|ko.Static;function BQ(t,e){let r=tn(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:s,initialFocus:i,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=v.useState(0),m=v.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=Sm();a===void 0&&h!==null&&(a=(h&Ht.Open)===Ht.Open);let g=v.useRef(null),y=Qt(g,e),x=rl(g),p=t.hasOwnProperty("open")||h!==null,b=t.hasOwnProperty("onClose");if(!p&&!b)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!p)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof a!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${a}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let N=a?0:1,[C,j]=v.useReducer(MQ,{titleId:null,descriptionId:null,panelRef:v.createRef()}),w=ve(()=>s(!1)),S=ve(H=>j({type:0,id:H})),T=Zc()?c?!1:N===0:!1,k=d>1,I=v.useContext(l0)!==null,[E,P]=nQ(),L={get current(){var H;return(H=C.panelRef.current)!=null?H:g.current}},{resolveContainers:$,mainTreeNodeRef:_,MainTreeNode:B}=SQ({portals:E,defaultContainers:[L]}),U=k?"parent":"leaf",D=h!==null?(h&Ht.Closing)===Ht.Closing:!1,R=I||D?!1:T,F=v.useCallback(()=>{var H,z;return(z=Array.from((H=x==null?void 0:x.querySelectorAll("body > *"))!=null?H:[]).find(he=>he.id==="headlessui-portal-root"?!1:he.contains(_.current)&&he instanceof HTMLElement))!=null?z:null},[_]);_P(F,R);let G=k?!0:T,W=v.useCallback(()=>{var H,z;return(z=Array.from((H=x==null?void 0:x.querySelectorAll("[data-headlessui-portal]"))!=null?H:[]).find(he=>he.contains(_.current)&&he instanceof HTMLElement))!=null?z:null},[_]);_P(W,G),Ek($,H=>{H.preventDefault(),w()},!(!T||k));let fe=!(k||N!==0);kB(x==null?void 0:x.defaultView,"keydown",H=>{fe&&(H.defaultPrevented||H.key===nt.Escape&&(H.preventDefault(),H.stopPropagation(),w()))}),RQ(x,!(D||N!==0||I),$),v.useEffect(()=>{if(N!==0||!g.current)return;let H=new ResizeObserver(z=>{for(let he of z){let je=he.target.getBoundingClientRect();je.x===0&&je.y===0&&je.width===0&&je.height===0&&w()}});return H.observe(g.current),()=>H.disconnect()},[N,g,w]);let[ne,K]=kQ(),ie=v.useMemo(()=>[{dialogState:N,close:w,setTitleId:S},C],[N,C,w,S]),X=v.useMemo(()=>({open:N===0}),[N]),ee={ref:y,id:n,role:l,"aria-modal":N===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":ne};return q.createElement(TQ,{type:"Dialog",enabled:N===0,element:g,onUpdate:ve((H,z)=>{z==="Dialog"&&Et(H,{[ES.Add]:()=>f(he=>he+1),[ES.Remove]:()=>f(he=>he-1)})})},q.createElement(TS,{force:!0},q.createElement(OS,null,q.createElement(l0.Provider,{value:ie},q.createElement(OS.Group,{target:g},q.createElement(TS,{force:!1},q.createElement(K,{slot:X,name:"Dialog.Description"},q.createElement(Tu,{initialFocus:i,containers:$,features:T?Et(U,{parent:Tu.features.RestoreFocus,leaf:Tu.features.All&~Tu.features.FocusLock}):Tu.features.None},q.createElement(P,null,zt({ourProps:ee,theirProps:u,slot:X,defaultTag:LQ,features:FQ,visible:N===0,name:"Dialog"}))))))))),q.createElement(B,null))}let qQ="div";function VQ(t,e){let r=tn(),{id:n=`headlessui-dialog-overlay-${r}`,...a}=t,[{dialogState:s,close:i}]=km("Dialog.Overlay"),l=Qt(e),c=ve(d=>{if(d.target===d.currentTarget){if(Dk(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=v.useMemo(()=>({open:s===0}),[s]);return zt({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:a,slot:u,defaultTag:qQ,name:"Dialog.Overlay"})}let UQ="div";function zQ(t,e){let r=tn(),{id:n=`headlessui-dialog-backdrop-${r}`,...a}=t,[{dialogState:s},i]=km("Dialog.Backdrop"),l=Qt(e);v.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=v.useMemo(()=>({open:s===0}),[s]);return q.createElement(TS,{force:!0},q.createElement(OS,null,zt({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:a,slot:c,defaultTag:UQ,name:"Dialog.Backdrop"})))}let WQ="div";function HQ(t,e){let r=tn(),{id:n=`headlessui-dialog-panel-${r}`,...a}=t,[{dialogState:s},i]=km("Dialog.Panel"),l=Qt(e,i.panelRef),c=v.useMemo(()=>({open:s===0}),[s]),u=ve(d=>{d.stopPropagation()});return zt({ourProps:{ref:l,id:n,onClick:u},theirProps:a,slot:c,defaultTag:WQ,name:"Dialog.Panel"})}let GQ="h2";function YQ(t,e){let r=tn(),{id:n=`headlessui-dialog-title-${r}`,...a}=t,[{dialogState:s,setTitleId:i}]=km("Dialog.Title"),l=Qt(e);v.useEffect(()=>(i(n),()=>i(null)),[n,i]);let c=v.useMemo(()=>({open:s===0}),[s]);return zt({ourProps:{ref:l,id:n},theirProps:a,slot:c,defaultTag:GQ,name:"Dialog.Title"})}let KQ=Rt(BQ),JQ=Rt(zQ),XQ=Rt(HQ),QQ=Rt(VQ),ZQ=Rt(YQ),m1=Object.assign(KQ,{Backdrop:JQ,Panel:XQ,Overlay:QQ,Title:ZQ,Description:PQ}),$P=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function RP(t){var e,r;let n=(e=t.innerText)!=null?e:"",a=t.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let s=!1;for(let l of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),s=!0;let i=s?(r=a.innerText)!=null?r:"":n;return $P.test(i)&&(i=i.replace($P,"")),i}function eZ(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(a=>{let s=document.getElementById(a);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():RP(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return RP(t).trim()}function tZ(t){let e=v.useRef(""),r=v.useRef("");return ve(()=>{let n=t.current;if(!n)return"";let a=n.innerText;if(e.current===a)return r.current;let s=eZ(n).trim().toLowerCase();return e.current=a,r.current=s,s})}var rZ=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(rZ||{}),nZ=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(nZ||{}),aZ=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItem=5]="RegisterItem",t[t.UnregisterItem=6]="UnregisterItem",t))(aZ||{});function h1(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=Ok(e(t.items.slice()),s=>s.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let sZ={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,menuState:1}},0(t){return t.menuState===0?t:{...t,__demoMode:!1,menuState:0}},2:(t,e)=>{var r;let n=h1(t),a=AS(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=e.trigger)!=null?r:1}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),a=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(i=>{var l;return((l=i.dataRef.current.textValue)==null?void 0:l.startsWith(n))&&!i.dataRef.current.disabled}),s=a?t.items.indexOf(a):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=h1(t,n=>[...n,{id:e.id,dataRef:e.dataRef}]);return{...t,...r}},6:(t,e)=>{let r=h1(t,n=>{let a=n.findIndex(s=>s.id===e.id);return a!==-1&&n.splice(a,1),n});return{...t,...r,activationTrigger:1}}},Mk=v.createContext(null);Mk.displayName="MenuContext";function Jx(t){let e=v.useContext(Mk);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Jx),r}return e}function oZ(t,e){return Et(e.type,sZ,t,e)}let iZ=v.Fragment;function lZ(t,e){let{__demoMode:r=!1,...n}=t,a=v.useReducer(oZ,{__demoMode:r,menuState:r?0:1,buttonRef:v.createRef(),itemsRef:v.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:s,itemsRef:i,buttonRef:l},c]=a,u=Qt(e);Ek([l,i],(h,g)=>{var y;c({type:1}),kk(g,Tk.Loose)||(h.preventDefault(),(y=l.current)==null||y.focus())},s===0);let d=ve(()=>{c({type:1})}),f=v.useMemo(()=>({open:s===0,close:d}),[s,d]),m={ref:u};return q.createElement(Mk.Provider,{value:a},q.createElement(Pk,{value:Et(s,{0:Ht.Open,1:Ht.Closed})},zt({ourProps:m,theirProps:n,slot:f,defaultTag:iZ,name:"Menu"})))}let cZ="button";function uZ(t,e){var r;let n=tn(),{id:a=`headlessui-menu-button-${n}`,...s}=t,[i,l]=Jx("Menu.Button"),c=Qt(i.buttonRef,e),u=Fo(),d=ve(y=>{switch(y.key){case nt.Space:case nt.Enter:case nt.ArrowDown:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ot.First}));break;case nt.ArrowUp:y.preventDefault(),y.stopPropagation(),l({type:0}),u.nextFrame(()=>l({type:2,focus:ot.Last}));break}}),f=ve(y=>{switch(y.key){case nt.Space:y.preventDefault();break}}),m=ve(y=>{if(Dk(y.currentTarget))return y.preventDefault();t.disabled||(i.menuState===0?(l({type:1}),u.nextFrame(()=>{var x;return(x=i.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})})):(y.preventDefault(),l({type:0})))}),h=v.useMemo(()=>({open:i.menuState===0}),[i]),g={ref:c,id:a,type:xB(t,i.buttonRef),"aria-haspopup":"menu","aria-controls":(r=i.itemsRef.current)==null?void 0:r.id,"aria-expanded":i.menuState===0,onKeyDown:d,onKeyUp:f,onClick:m};return zt({ourProps:g,theirProps:s,slot:h,defaultTag:cZ,name:"Menu.Button"})}let dZ="div",fZ=ko.RenderStrategy|ko.Static;function mZ(t,e){var r,n;let a=tn(),{id:s=`headlessui-menu-items-${a}`,...i}=t,[l,c]=Jx("Menu.Items"),u=Qt(l.itemsRef,e),d=rl(l.itemsRef),f=Fo(),m=Sm(),h=m!==null?(m&Ht.Open)===Ht.Open:l.menuState===0;v.useEffect(()=>{let b=l.itemsRef.current;b&&l.menuState===0&&b!==(d==null?void 0:d.activeElement)&&b.focus({preventScroll:!0})},[l.menuState,l.itemsRef,d]),wB({container:l.itemsRef.current,enabled:l.menuState===0,accept(b){return b.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:b.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(b){b.setAttribute("role","none")}});let g=ve(b=>{var N,C;switch(f.dispose(),b.key){case nt.Space:if(l.searchQuery!=="")return b.preventDefault(),b.stopPropagation(),c({type:3,value:b.key});case nt.Enter:if(b.preventDefault(),b.stopPropagation(),c({type:1}),l.activeItemIndex!==null){let{dataRef:j}=l.items[l.activeItemIndex];(C=(N=j.current)==null?void 0:N.domRef.current)==null||C.click()}pB(l.buttonRef.current);break;case nt.ArrowDown:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:ot.Next});case nt.ArrowUp:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:ot.Previous});case nt.Home:case nt.PageUp:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:ot.First});case nt.End:case nt.PageDown:return b.preventDefault(),b.stopPropagation(),c({type:2,focus:ot.Last});case nt.Escape:b.preventDefault(),b.stopPropagation(),c({type:1}),vn().nextFrame(()=>{var j;return(j=l.buttonRef.current)==null?void 0:j.focus({preventScroll:!0})});break;case nt.Tab:b.preventDefault(),b.stopPropagation(),c({type:1}),vn().nextFrame(()=>{iX(l.buttonRef.current,b.shiftKey?ts.Previous:ts.Next)});break;default:b.key.length===1&&(c({type:3,value:b.key}),f.setTimeout(()=>c({type:4}),350));break}}),y=ve(b=>{switch(b.key){case nt.Space:b.preventDefault();break}}),x=v.useMemo(()=>({open:l.menuState===0}),[l]),p={"aria-activedescendant":l.activeItemIndex===null||(r=l.items[l.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=l.buttonRef.current)==null?void 0:n.id,id:s,onKeyDown:g,onKeyUp:y,role:"menu",tabIndex:0,ref:u};return zt({ourProps:p,theirProps:i,slot:x,defaultTag:dZ,features:fZ,visible:h,name:"Menu.Items"})}let hZ=v.Fragment;function pZ(t,e){let r=tn(),{id:n=`headlessui-menu-item-${r}`,disabled:a=!1,...s}=t,[i,l]=Jx("Menu.Item"),c=i.activeItemIndex!==null?i.items[i.activeItemIndex].id===n:!1,u=v.useRef(null),d=Qt(e,u);mt(()=>{if(i.__demoMode||i.menuState!==0||!c||i.activationTrigger===0)return;let j=vn();return j.requestAnimationFrame(()=>{var w,S;(S=(w=u.current)==null?void 0:w.scrollIntoView)==null||S.call(w,{block:"nearest"})}),j.dispose},[i.__demoMode,u,c,i.menuState,i.activationTrigger,i.activeItemIndex]);let f=tZ(u),m=v.useRef({disabled:a,domRef:u,get textValue(){return f()}});mt(()=>{m.current.disabled=a},[m,a]),mt(()=>(l({type:5,id:n,dataRef:m}),()=>l({type:6,id:n})),[m,n]);let h=ve(()=>{l({type:1})}),g=ve(j=>{if(a)return j.preventDefault();l({type:1}),pB(i.buttonRef.current)}),y=ve(()=>{if(a)return l({type:2,focus:ot.Nothing});l({type:2,focus:ot.Specific,id:n})}),x=jB(),p=ve(j=>x.update(j)),b=ve(j=>{x.wasMoved(j)&&(a||c||l({type:2,focus:ot.Specific,id:n,trigger:0}))}),N=ve(j=>{x.wasMoved(j)&&(a||c&&l({type:2,focus:ot.Nothing}))}),C=v.useMemo(()=>({active:c,disabled:a,close:h}),[c,a,h]);return zt({ourProps:{id:n,ref:d,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,disabled:void 0,onClick:g,onFocus:y,onPointerEnter:p,onMouseEnter:p,onPointerMove:b,onMouseMove:b,onPointerLeave:N,onMouseLeave:N},theirProps:s,slot:C,defaultTag:hZ,name:"Menu.Item"})}let gZ=Rt(lZ),yZ=Rt(uZ),bZ=Rt(mZ),xZ=Rt(pZ),bl=Object.assign(gZ,{Button:yZ,Items:bZ,Item:xZ});function vZ(t=0){let[e,r]=v.useState(t),n=Tm(),a=v.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=v.useCallback(c=>!!(e&c),[e]),i=v.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=v.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:a,hasFlag:s,removeFlag:i,toggleFlag:l}}function jZ(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function p1(t,...e){t&&e.length>0&&t.classList.add(...e)}function g1(t,...e){t&&e.length>0&&t.classList.remove(...e)}function wZ(t,e){let r=vn();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:a}=getComputedStyle(t),[s,i]=[n,a].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+i;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function NZ(t,e,r,n){let a=r?"enter":"leave",s=vn(),i=n!==void 0?jZ(n):()=>{};a==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Et(a,{enter:()=>e.enter,leave:()=>e.leave}),c=Et(a,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Et(a,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return g1(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),p1(t,...e.base,...l,...u),s.nextFrame(()=>{g1(t,...e.base,...l,...u),p1(t,...e.base,...l,...c),wZ(t,()=>(g1(t,...e.base,...l),p1(t,...e.base,...e.entered),i()))}),s.dispose}function CZ({immediate:t,container:e,direction:r,classes:n,onStart:a,onStop:s}){let i=Tm(),l=Fo(),c=ia(r);mt(()=>{t&&(c.current="enter")},[t]),mt(()=>{let u=vn();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),a.current(c.current),u.add(NZ(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Vs(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Xx=v.createContext(null);Xx.displayName="TransitionContext";var SZ=(t=>(t.Visible="visible",t.Hidden="hidden",t))(SZ||{});function AZ(){let t=v.useContext(Xx);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function TZ(){let t=v.useContext(Qx);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Qx=v.createContext(null);Qx.displayName="NestingContext";function Zx(t){return"children"in t?Zx(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function MB(t,e){let r=ia(t),n=v.useRef([]),a=Tm(),s=Fo(),i=ve((h,g=ro.Hidden)=>{let y=n.current.findIndex(({el:x})=>x===h);y!==-1&&(Et(g,{[ro.Unmount](){n.current.splice(y,1)},[ro.Hidden](){n.current[y].state="hidden"}}),s.microTask(()=>{var x;!Zx(n)&&a.current&&((x=r.current)==null||x.call(r))}))}),l=ve(h=>{let g=n.current.find(({el:y})=>y===h);return g?g.state!=="visible"&&(g.state="visible"):n.current.push({el:h,state:"visible"}),()=>i(h,ro.Unmount)}),c=v.useRef([]),u=v.useRef(Promise.resolve()),d=v.useRef({enter:[],leave:[],idle:[]}),f=ve((h,g,y)=>{c.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([x])=>x!==h)),e==null||e.chains.current[g].push([h,new Promise(x=>{c.current.push(x)})]),e==null||e.chains.current[g].push([h,new Promise(x=>{Promise.all(d.current[g].map(([p,b])=>b)).then(()=>x())})]),g==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>y(g)):y(g)}),m=ve((h,g,y)=>{Promise.all(d.current[g].splice(0).map(([x,p])=>p)).then(()=>{var x;(x=c.current.shift())==null||x()}).then(()=>y(g))});return v.useMemo(()=>({children:n,register:l,unregister:i,onStart:f,onStop:m,wait:u,chains:d}),[l,i,n,f,m,d,u])}function kZ(){}let OZ=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function MP(t){var e;let r={};for(let n of OZ)r[n]=(e=t[n])!=null?e:kZ;return r}function EZ(t){let e=v.useRef(MP(t));return v.useEffect(()=>{e.current=MP(t)},[t]),e}let IZ="div",LB=ko.RenderStrategy;function PZ(t,e){var r,n;let{beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:m,leaveFrom:h,leaveTo:g,...y}=t,x=v.useRef(null),p=Qt(x,e),b=(r=y.unmount)==null||r?ro.Unmount:ro.Hidden,{show:N,appear:C,initial:j}=AZ(),[w,S]=v.useState(N?"visible":"hidden"),T=TZ(),{register:k,unregister:I}=T;v.useEffect(()=>k(x),[k,x]),v.useEffect(()=>{if(b===ro.Hidden&&x.current){if(N&&w!=="visible"){S("visible");return}return Et(w,{hidden:()=>I(x),visible:()=>k(x)})}},[w,x,k,I,N,b]);let E=ia({base:Vs(y.className),enter:Vs(c),enterFrom:Vs(u),enterTo:Vs(d),entered:Vs(f),leave:Vs(m),leaveFrom:Vs(h),leaveTo:Vs(g)}),P=EZ({beforeEnter:a,afterEnter:s,beforeLeave:i,afterLeave:l}),L=Zc();v.useEffect(()=>{if(L&&w==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,w,L]);let $=j&&!C,_=C&&N&&j,B=!L||$?"idle":N?"enter":"leave",U=vZ(0),D=ve(fe=>Et(fe,{enter:()=>{U.addFlag(Ht.Opening),P.current.beforeEnter()},leave:()=>{U.addFlag(Ht.Closing),P.current.beforeLeave()},idle:()=>{}})),R=ve(fe=>Et(fe,{enter:()=>{U.removeFlag(Ht.Opening),P.current.afterEnter()},leave:()=>{U.removeFlag(Ht.Closing),P.current.afterLeave()},idle:()=>{}})),F=MB(()=>{S("hidden"),I(x)},T),G=v.useRef(!1);CZ({immediate:_,container:x,classes:E,direction:B,onStart:ia(fe=>{G.current=!0,F.onStart(x,fe,D)}),onStop:ia(fe=>{G.current=!1,F.onStop(x,fe,R),fe==="leave"&&!Zx(F)&&(S("hidden"),I(x))})});let W=y,Z={ref:p};return _?W={...W,className:o0(y.className,...E.current.enter,...E.current.enterFrom)}:G.current&&(W.className=o0(y.className,(n=x.current)==null?void 0:n.className),W.className===""&&delete W.className),q.createElement(Qx.Provider,{value:F},q.createElement(Pk,{value:Et(w,{visible:Ht.Open,hidden:Ht.Closed})|U.flags},zt({ourProps:Z,theirProps:W,defaultTag:IZ,features:LB,visible:w==="visible",name:"Transition.Child"})))}function DZ(t,e){let{show:r,appear:n=!1,unmount:a=!0,...s}=t,i=v.useRef(null),l=Qt(i,e);Zc();let c=Sm();if(r===void 0&&c!==null&&(r=(c&Ht.Open)===Ht.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=v.useState(r?"visible":"hidden"),f=MB(()=>{d("hidden")}),[m,h]=v.useState(!0),g=v.useRef([r]);mt(()=>{m!==!1&&g.current[g.current.length-1]!==r&&(g.current.push(r),h(!1))},[g,r]);let y=v.useMemo(()=>({show:r,appear:n,initial:m}),[r,n,m]);v.useEffect(()=>{if(r)d("visible");else if(!Zx(f))d("hidden");else{let N=i.current;if(!N)return;let C=N.getBoundingClientRect();C.x===0&&C.y===0&&C.width===0&&C.height===0&&d("hidden")}},[r,f]);let x={unmount:a},p=ve(()=>{var N;m&&h(!1),(N=t.beforeEnter)==null||N.call(t)}),b=ve(()=>{var N;m&&h(!1),(N=t.beforeLeave)==null||N.call(t)});return q.createElement(Qx.Provider,{value:f},q.createElement(Xx.Provider,{value:y},zt({ourProps:{...x,as:v.Fragment,children:q.createElement(FB,{ref:l,...x,...s,beforeEnter:p,beforeLeave:b})},theirProps:{},defaultTag:v.Fragment,features:LB,visible:u==="visible",name:"Transition"})))}function _Z(t,e){let r=v.useContext(Xx)!==null,n=Sm()!==null;return q.createElement(q.Fragment,null,!r&&n?q.createElement(IS,{ref:e,...t}):q.createElement(FB,{ref:e,...t}))}let IS=Rt(DZ),FB=Rt(PZ),$Z=Rt(_Z),Cp=Object.assign(IS,{Child:$Z,Root:IS});function RZ({toggleSidebar:t,isSidebarOpen:e}){var u;const r=ue(),{user:n}=V(d=>d.auth),[a,s]=v.useState(!1),i=v.useRef(null),l=wm();v.useEffect(()=>{if(!a)return;function d(f){i.current&&!i.current.contains(f.target)&&s(!1)}return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[a]);const c=()=>{r(J3())};return o.jsxs("header",{className:"bg-white shadow-sm z-10 relative",children:[o.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16",children:[o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0 flex items-center lg:hidden",children:o.jsxs("button",{type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:t,children:[o.jsx("span",{className:"sr-only",children:e?"Close sidebar":"Open sidebar"}),e?o.jsx(uB,{className:"block h-6 w-6","aria-hidden":"true"}):o.jsx(lJ,{className:"block h-6 w-6","aria-hidden":"true"})]})}),o.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:o.jsx("div",{className:"text-xl font-semibold text-neutral-900"})})]}),o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:"ml-3 relative",children:o.jsxs(bl,{as:"div",className:"relative",children:[o.jsxs(bl.Button,{className:"bg-white rounded-full flex focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[o.jsx("span",{className:"sr-only",children:"Open user menu"}),o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-700 flex items-center justify-center text-white",children:((u=n==null?void 0:n.UserName)==null?void 0:u.charAt(0))||"U"})]}),o.jsx(Cp,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:o.jsxs(bl.Items,{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-neutral-100 focus:outline-none",children:[o.jsx("div",{className:"py-1",children:o.jsxs("div",{className:"px-4 py-2",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900 truncate",children:(n==null?void 0:n.UserName)||"User"}),o.jsx("p",{className:"hidden text-xs text-neutral-500",children:n==null?void 0:n.email})]})}),o.jsx("div",{className:"py-1",children:o.jsx(bl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/profile"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx($J,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Profile"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(bl.Item,{children:({active:d})=>o.jsxs("button",{onClick:()=>l("/change-password"),className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(TJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Change Password"]})})}),o.jsx("div",{className:"py-1",children:o.jsx(bl.Item,{children:({active:d})=>o.jsxs("button",{onClick:c,className:`${d?"bg-neutral-100 text-neutral-900":"text-neutral-700"} flex items-center px-4 py-2 text-sm w-full text-left`,children:[o.jsx(aJ,{className:"mr-3 h-5 w-5 text-neutral-400","aria-hidden":"true"}),"Sign out"]})})})]})})]})})})]})}),a&&o.jsxs("div",{ref:i,className:"absolute right-4 mt-2 w-80 sm:w-96 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:[o.jsx("div",{className:"p-4 border-b border-neutral-200",children:o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Notifications"})}),o.jsxs("div",{className:"divide-y divide-neutral-100 max-h-80 overflow-y-auto",children:[o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:o.jsx(MZ,{className:"h-5 w-5 text-primary-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"New ORS needs approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"ORS-2024-01-0023 from IT Department"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"30 minutes ago"})]})]})}),o.jsx("div",{className:"p-4 hover:bg-neutral-50 cursor-pointer",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"h-8 w-8 rounded-full bg-success-100 flex items-center justify-center",children:o.jsx(LZ,{className:"h-5 w-5 text-success-600"})})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"DV approved"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"DV-2024-01-0015 has been approved"}),o.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"2 hours ago"})]})]})})]}),o.jsx("div",{className:"p-2 border-t border-neutral-200 text-center",children:o.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-800",children:"View all notifications"})})]})]})}function MZ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}function LZ(t){return o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function FZ(){const t=wm(),e=Mo(),r=localStorage.getItem("token"),[n,a]=v.useState(!0);v.useEffect(()=>{const i=()=>{window.innerWidth<1024?a(!1):a(!0)};return window.addEventListener("resize",i),i(),()=>window.removeEventListener("resize",i)},[]),v.useEffect(()=>{window.innerWidth<1024&&a(!1)},[e.pathname]);const s=()=>{a(!n)};return r||t("/login"),o.jsxs("div",{className:"h-screen flex overflow-hidden bg-neutral-50",children:[n&&o.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-75 z-20",onClick:()=>a(!1)}),o.jsx("div",{className:`fixed inset-y-0 left-0 flex flex-col z-30 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${n?"translate-x-0":"-translate-x-full"}`,style:{width:"300px"},children:o.jsx(FJ,{})}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(RZ,{toggleSidebar:s,isSidebarOpen:n}),o.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:o.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:o.jsx(L3,{})})})]})]})}const BZ=()=>o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"w-full max-w-md space-y-8",children:o.jsx(L3,{})})});function qZ(){const[t,e]=v.useState(""),[r,n]=v.useState(""),a=ue(),{isLoading:s,error:i}=V(c=>c.auth),l=c=>{c.preventDefault(),a(jp({username:t,password:r}))};return o.jsx("div",{className:"bg-neutral-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-neutral-900",children:"LGU Management System"}),o.jsx("p",{className:"mt-2 text-center text-sm text-neutral-600",children:"Sign in to access your account"})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[o.jsxs("div",{className:"rounded-md space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-neutral-700",children:"Username"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,value:t,onChange:c=>e(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"admin"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-700",children:"Password"}),o.jsx("div",{className:"mt-1",children:o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:c=>n(c.target.value),className:"px-4 py-2 rounded-md border border-neutral-200 focus:ring-primary-500 focus:border-primary-500 block w-full",placeholder:"*********"})})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"form-checkbox"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]})})]}),i&&o.jsx("div",{className:"rounded-md bg-error-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Sk,{className:"h-5 w-5 text-error-400","aria-hidden":"true"})}),o.jsx("div",{className:"ml-3",children:o.jsx("p",{className:"text-sm font-medium text-error-800",children:i})})]})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:`btn btn-primary w-full flex justify-center items-center ${s?"opacity-70 cursor-not-allowed":""}`,children:s?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),o.jsx("div",{className:"text-center text-sm text-neutral-500 mt-8",children:" 2025 Local Government Unit. All rights reserved."})]})})}const VZ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Registration Page"})}),UZ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Forgot Password Page"})}),zZ=()=>o.jsx("div",{children:o.jsx("h1",{children:"Reset Password Page"})});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Om(t){return t+.5|0}const no=(t,e,r)=>Math.max(Math.min(t,r),e);function nd(t){return no(Om(t*2.55),0,255)}function bo(t){return no(Om(t*255),0,255)}function Za(t){return no(Om(t/2.55)/100,0,1)}function LP(t){return no(Om(t*100),0,100)}const On={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},PS=[..."0123456789ABCDEF"],WZ=t=>PS[t&15],HZ=t=>PS[(t&240)>>4]+PS[t&15],jh=t=>(t&240)>>4===(t&15),GZ=t=>jh(t.r)&&jh(t.g)&&jh(t.b)&&jh(t.a);function YZ(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&On[t[1]]*17,g:255&On[t[2]]*17,b:255&On[t[3]]*17,a:e===5?On[t[4]]*17:255}:(e===7||e===9)&&(r={r:On[t[1]]<<4|On[t[2]],g:On[t[3]]<<4|On[t[4]],b:On[t[5]]<<4|On[t[6]],a:e===9?On[t[7]]<<4|On[t[8]]:255})),r}const KZ=(t,e)=>t<255?e(t):"";function JZ(t){var e=GZ(t)?WZ:HZ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+KZ(t.a,e):void 0}const XZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function BB(t,e,r){const n=e*Math.min(r,1-r),a=(s,i=(s+t/30)%12)=>r-n*Math.max(Math.min(i-3,9-i,1),-1);return[a(0),a(8),a(4)]}function QZ(t,e,r){const n=(a,s=(a+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function ZZ(t,e,r){const n=BB(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function eee(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function Lk(t){const r=t.r/255,n=t.g/255,a=t.b/255,s=Math.max(r,n,a),i=Math.min(r,n,a),l=(s+i)/2;let c,u,d;return s!==i&&(d=s-i,u=l>.5?d/(2-s-i):d/(s+i),c=eee(r,n,a,d,s),c=c*60+.5),[c|0,u||0,l]}function Fk(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(bo)}function Bk(t,e,r){return Fk(BB,t,e,r)}function tee(t,e,r){return Fk(ZZ,t,e,r)}function ree(t,e,r){return Fk(QZ,t,e,r)}function qB(t){return(t%360+360)%360}function nee(t){const e=XZ.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?nd(+e[5]):bo(+e[5]));const a=qB(+e[2]),s=+e[3]/100,i=+e[4]/100;return e[1]==="hwb"?n=tee(a,s,i):e[1]==="hsv"?n=ree(a,s,i):n=Bk(a,s,i),{r:n[0],g:n[1],b:n[2],a:r}}function aee(t,e){var r=Lk(t);r[0]=qB(r[0]+e),r=Bk(r),t.r=r[0],t.g=r[1],t.b=r[2]}function see(t){if(!t)return;const e=Lk(t),r=e[0],n=LP(e[1]),a=LP(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${Za(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const FP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},BP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oee(){const t={},e=Object.keys(BP),r=Object.keys(FP);let n,a,s,i,l;for(n=0;n<e.length;n++){for(i=l=e[n],a=0;a<r.length;a++)s=r[a],l=l.replace(s,FP[s]);s=parseInt(BP[i],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let wh;function iee(t){wh||(wh=oee(),wh.transparent=[0,0,0,0]);const e=wh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const lee=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function cee(t){const e=lee.exec(t);let r=255,n,a,s;if(e){if(e[7]!==n){const i=+e[7];r=e[8]?nd(i):no(i*255,0,255)}return n=+e[1],a=+e[3],s=+e[5],n=255&(e[2]?nd(n):no(n,0,255)),a=255&(e[4]?nd(a):no(a,0,255)),s=255&(e[6]?nd(s):no(s,0,255)),{r:n,g:a,b:s,a:r}}}function uee(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Za(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const y1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,xl=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function dee(t,e,r){const n=xl(Za(t.r)),a=xl(Za(t.g)),s=xl(Za(t.b));return{r:bo(y1(n+r*(xl(Za(e.r))-n))),g:bo(y1(a+r*(xl(Za(e.g))-a))),b:bo(y1(s+r*(xl(Za(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Nh(t,e,r){if(t){let n=Lk(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=Bk(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function VB(t,e){return t&&Object.assign(e||{},t)}function qP(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=bo(t[3]))):(e=VB(t,{r:0,g:0,b:0,a:1}),e.a=bo(e.a)),e}function fee(t){return t.charAt(0)==="r"?cee(t):nee(t)}let UB=class DS{constructor(e){if(e instanceof DS)return e;const r=typeof e;let n;r==="object"?n=qP(e):r==="string"&&(n=YZ(e)||iee(e)||fee(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=VB(this._rgb);return e&&(e.a=Za(e.a)),e}set rgb(e){this._rgb=qP(e)}rgbString(){return this._valid?uee(this._rgb):void 0}hexString(){return this._valid?JZ(this._rgb):void 0}hslString(){return this._valid?see(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let s;const i=r===s?.5:r,l=2*i-1,c=n.a-a.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;s=1-u,n.r=255&u*n.r+s*a.r+.5,n.g=255&u*n.g+s*a.g+.5,n.b=255&u*n.b+s*a.b+.5,n.a=i*n.a+(1-i)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=dee(this._rgb,e._rgb,r)),this}clone(){return new DS(this.rgb)}alpha(e){return this._rgb.a=bo(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Om(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Nh(this._rgb,2,e),this}darken(e){return Nh(this._rgb,2,-e),this}saturate(e){return Nh(this._rgb,1,e),this}desaturate(e){return Nh(this._rgb,1,-e),this}rotate(e){return aee(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function za(){}const mee=(()=>{let t=0;return()=>t++})();function ze(t){return t==null}function Ot(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function He(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Vt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function nn(t,e){return Vt(t)?t:e}function Re(t,e){return typeof t>"u"?e:t}const hee=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,zB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function yt(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function st(t,e,r,n){let a,s,i;if(Ot(t))for(s=t.length,a=0;a<s;a++)e.call(r,t[a],a);else if(He(t))for(i=Object.keys(t),s=i.length,a=0;a<s;a++)e.call(r,t[i[a]],i[a])}function c0(t,e){let r,n,a,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],s=e[r],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function u0(t){if(Ot(t))return t.map(u0);if(He(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=u0(t[r[a]]);return e}return t}function WB(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function pee(t,e,r,n){if(!WB(t))return;const a=e[t],s=r[t];He(a)&&He(s)?xf(a,s,n):e[t]=u0(s)}function xf(t,e,r){const n=Ot(e)?e:[e],a=n.length;if(!He(t))return t;r=r||{};const s=r.merger||pee;let i;for(let l=0;l<a;++l){if(i=n[l],!He(i))continue;const c=Object.keys(i);for(let u=0,d=c.length;u<d;++u)s(c[u],t,i,r)}return t}function Sd(t,e){return xf(t,e,{merger:gee})}function gee(t,e,r){if(!WB(t))return;const n=e[t],a=r[t];He(n)&&He(a)?Sd(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=u0(a))}const VP={"":t=>t,x:t=>t.x,y:t=>t.y};function yee(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function bee(t){const e=yee(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Oo(t,e){return(VP[e]||(VP[e]=bee(e)))(t)}function qk(t){return t.charAt(0).toUpperCase()+t.slice(1)}const vf=t=>typeof t<"u",Eo=t=>typeof t=="function",UP=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function xee(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Je=Math.PI,Tt=2*Je,vee=Tt+Je,d0=Number.POSITIVE_INFINITY,jee=Je/180,Gt=Je/2,Jo=Je/4,zP=Je*2/3,ao=Math.log10,Oa=Math.sign;function Ad(t,e,r){return Math.abs(t-e)<r}function WP(t){const e=Math.round(t);t=Ad(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(ao(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function wee(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,s)=>a-s).pop(),e}function Nee(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function jc(t){return!Nee(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Cee(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function HB(t,e,r){let n,a,s;for(n=0,a=t.length;n<a;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function na(t){return t*(Je/180)}function Vk(t){return t*(180/Je)}function HP(t){if(!Vt(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function GB(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Je&&(s+=Tt),{angle:s,distance:a}}function _S(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function See(t,e){return(t-e+vee)%Tt-Je}function Tr(t){return(t%Tt+Tt)%Tt}function jf(t,e,r,n){const a=Tr(t),s=Tr(e),i=Tr(r),l=Tr(s-a),c=Tr(i-a),u=Tr(a-s),d=Tr(a-i);return a===s||a===i||n&&s===i||l>c&&u<d}function cr(t,e,r){return Math.max(e,Math.min(r,t))}function Aee(t){return cr(t,-32768,32767)}function as(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function Uk(t,e,r){r=r||(i=>t[i]<e);let n=t.length-1,a=0,s;for(;n-a>1;)s=a+n>>1,r(s)?a=s:n=s;return{lo:a,hi:n}}const ss=(t,e,r,n)=>Uk(t,r,n?a=>{const s=t[a][e];return s<r||s===r&&t[a+1][e]===r}:a=>t[a][e]<r),Tee=(t,e,r)=>Uk(t,r,n=>t[n][e]>=r);function kee(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const YB=["push","pop","shift","splice","unshift"];function Oee(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),YB.forEach(r=>{const n="_onData"+qk(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const i=a.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...s)}),i}})})}function GP(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(YB.forEach(s=>{delete t[s]}),delete t._chartjs)}function KB(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const JB=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function XB(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,JB.call(window,()=>{n=!1,t.apply(e,r)}))}}function Eee(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const zk=t=>t==="start"?"left":t==="end"?"right":"center",Ar=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Iee=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function QB(t,e,r){const n=e.length;let a=0,s=n;if(t._sorted){const{iScale:i,vScale:l,_parsed:c}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=i.axis,{min:f,max:m,minDefined:h,maxDefined:g}=i.getUserBounds();if(h){if(a=Math.min(ss(c,d,f).lo,r?n:ss(e,d,i.getPixelForValue(f)).lo),u){const y=c.slice(0,a+1).reverse().findIndex(x=>!ze(x[l.axis]));a-=Math.max(0,y)}a=cr(a,0,n-1)}if(g){let y=Math.max(ss(c,i.axis,m,!0).hi+1,r?0:ss(e,d,i.getPixelForValue(m),!0).hi+1);if(u){const x=c.slice(y-1).findIndex(p=>!ze(p[l.axis]));y+=Math.max(0,x)}s=cr(y,a,n)-a}else s=n-a}return{start:a,count:s}}function ZB(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),s}const Ch=t=>t===0||t===1,YP=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Tt/r)),KP=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Tt/r)+1,Td={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Gt)+1,easeOutSine:t=>Math.sin(t*Gt),easeInOutSine:t=>-.5*(Math.cos(Je*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ch(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ch(t)?t:YP(t,.075,.3),easeOutElastic:t=>Ch(t)?t:KP(t,.075,.3),easeInOutElastic(t){return Ch(t)?t:t<.5?.5*YP(t*2,.1125,.45):.5+.5*KP(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Td.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Td.easeInBounce(t*2)*.5:Td.easeOutBounce(t*2-1)*.5+.5};function Wk(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function JP(t){return Wk(t)?t:new UB(t)}function b1(t){return Wk(t)?t:new UB(t).saturate(.5).darken(.1).hexString()}const Pee=["x","y","borderWidth","radius","tension"],Dee=["color","borderColor","backgroundColor"];function _ee(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Dee},numbers:{type:"number",properties:Pee}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $ee(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const XP=new Map;function Ree(t,e){e=e||{};const r=t+JSON.stringify(e);let n=XP.get(r);return n||(n=new Intl.NumberFormat(t,e),XP.set(r,n)),n}function Em(t,e,r){return Ree(e,r).format(t)}const e6={values(t){return Ot(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(a="scientific"),s=Mee(t,r)}const i=ao(Math.abs(s)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Em(t,n,c)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(ao(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?e6.numeric.call(this,t,e,r):""}};function Mee(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var ev={formatters:e6};function Lee(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ev.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const zi=Object.create(null),$S=Object.create(null);function kd(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function x1(t,e,r){return typeof e=="string"?xf(kd(t,e),r):xf(kd(t,""),e)}class Fee{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>b1(a.backgroundColor),this.hoverBorderColor=(n,a)=>b1(a.borderColor),this.hoverColor=(n,a)=>b1(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return x1(this,e,r)}get(e){return kd(this,e)}describe(e,r){return x1($S,e,r)}override(e,r){return x1(zi,e,r)}route(e,r,n,a){const s=kd(this,e),i=kd(this,n),l="_"+r;Object.defineProperties(s,{[l]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],u=i[a];return He(c)?Object.assign({},u,c):Re(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var It=new Fee({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_ee,$ee,Lee]);function Bee(t){return!t||ze(t.size)||ze(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function f0(t,e,r,n,a){let s=e[a];return s||(s=e[a]=t.measureText(a).width,r.push(a)),s>n&&(n=s),n}function qee(t,e,r,n){n=n||{};let a=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let i=0;const l=r.length;let c,u,d,f,m;for(c=0;c<l;c++)if(f=r[c],f!=null&&!Ot(f))i=f0(t,a,s,i,f);else if(Ot(f))for(u=0,d=f.length;u<d;u++)m=f[u],m!=null&&!Ot(m)&&(i=f0(t,a,s,i,m));t.restore();const h=s.length/2;if(h>r.length){for(c=0;c<h;c++)delete a[s[c]];s.splice(0,h)}return i}function Xo(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function QP(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function RS(t,e,r,n){t6(t,e,r,n,null)}function t6(t,e,r,n,a){let s,i,l,c,u,d,f,m;const h=e.pointStyle,g=e.rotation,y=e.radius;let x=(g||0)*jee;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(x),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),h){default:a?t.ellipse(r,n,a/2,y,0,0,Tt):t.arc(r,n,y,0,Tt),t.closePath();break;case"triangle":d=a?a/2:y,t.moveTo(r+Math.sin(x)*d,n-Math.cos(x)*y),x+=zP,t.lineTo(r+Math.sin(x)*d,n-Math.cos(x)*y),x+=zP,t.lineTo(r+Math.sin(x)*d,n-Math.cos(x)*y),t.closePath();break;case"rectRounded":u=y*.516,c=y-u,i=Math.cos(x+Jo)*c,f=Math.cos(x+Jo)*(a?a/2-u:c),l=Math.sin(x+Jo)*c,m=Math.sin(x+Jo)*(a?a/2-u:c),t.arc(r-f,n-l,u,x-Je,x-Gt),t.arc(r+m,n-i,u,x-Gt,x),t.arc(r+f,n+l,u,x,x+Gt),t.arc(r-m,n+i,u,x+Gt,x+Je),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*y,d=a?a/2:c,t.rect(r-d,n-c,2*d,2*c);break}x+=Jo;case"rectRot":f=Math.cos(x)*(a?a/2:y),i=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+m,n-i),t.lineTo(r+f,n+l),t.lineTo(r-m,n+i),t.closePath();break;case"crossRot":x+=Jo;case"cross":f=Math.cos(x)*(a?a/2:y),i=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"star":f=Math.cos(x)*(a?a/2:y),i=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i),x+=Jo,f=Math.cos(x)*(a?a/2:y),i=Math.cos(x)*y,l=Math.sin(x)*y,m=Math.sin(x)*(a?a/2:y),t.moveTo(r-f,n-l),t.lineTo(r+f,n+l),t.moveTo(r+m,n-i),t.lineTo(r-m,n+i);break;case"line":i=a?a/2:Math.cos(x)*y,l=Math.sin(x)*y,t.moveTo(r-i,n-l),t.lineTo(r+i,n+l);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(x)*(a?a/2:y),n+Math.sin(x)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function os(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function tv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function rv(t){t.restore()}function Vee(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Uee(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function zee(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ze(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Wee(t,e,r,n,a){if(a.strikethrough||a.underline){const s=t.measureText(n),i=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=a.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(i,d),t.lineTo(l,d),t.stroke()}}function Hee(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Wi(t,e,r,n,a,s={}){const i=Ot(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let c,u;for(t.save(),t.font=a.string,zee(t,s),c=0;c<i.length;++c)u=i[c],s.backdrop&&Hee(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ze(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),Wee(t,r,n,u,s),n+=Number(a.lineHeight);t.restore()}function wf(t,e){const{x:r,y:n,w:a,h:s,radius:i}=e;t.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*Je,Je,!0),t.lineTo(r,n+s-i.bottomLeft),t.arc(r+i.bottomLeft,n+s-i.bottomLeft,i.bottomLeft,Je,Gt,!0),t.lineTo(r+a-i.bottomRight,n+s),t.arc(r+a-i.bottomRight,n+s-i.bottomRight,i.bottomRight,Gt,0,!0),t.lineTo(r+a,n+i.topRight),t.arc(r+a-i.topRight,n+i.topRight,i.topRight,0,-Gt,!0),t.lineTo(r+i.topLeft,n)}const Gee=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Yee=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kee(t,e){const r=(""+t).match(Gee);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const Jee=t=>+t||0;function Hk(t,e){const r={},n=He(e),a=n?Object.keys(e):e,s=He(t)?n?i=>Re(t[i],t[e[i]]):i=>t[i]:()=>t;for(const i of a)r[i]=Jee(s(i));return r}function r6(t){return Hk(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ti(t){return Hk(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Pr(t){const e=r6(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rr(t,e){t=t||{},e=e||It.font;let r=Re(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Re(t.style,e.style);n&&!(""+n).match(Yee)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Re(t.family,e.family),lineHeight:Kee(Re(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Re(t.weight,e.weight),string:""};return a.string=Bee(a),a}function ad(t,e,r,n){let a,s,i;for(a=0,s=t.length;a<s;++a)if(i=t[a],i!==void 0&&i!==void 0)return i}function Xee(t,e,r){const{min:n,max:a}=t,s=zB(e,(a-n)/2),i=(l,c)=>r&&l===0?0:l+c;return{min:i(n,-Math.abs(s)),max:i(a,s)}}function Bo(t,e){return Object.assign(Object.create(t),e)}function Gk(t,e=[""],r,n,a=()=>t[0]){const s=r||t;typeof n>"u"&&(n=o6("_fallback",t));const i={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:a,override:l=>Gk([l,...t],e,s,n)};return new Proxy(i,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return a6(l,c,()=>ste(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return eD(l).includes(c)},ownKeys(l){return eD(l)},set(l,c,u){const d=l._storage||(l._storage=a());return l[c]=d[c]=u,delete l._keys,!0}})}function wc(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:n6(t,n),setContext:s=>wc(t,s,r,n),override:s=>wc(t.override(s),e,r,n)};return new Proxy(a,{deleteProperty(s,i){return delete s[i],delete t[i],!0},get(s,i,l){return a6(s,i,()=>Zee(s,i,l))},getOwnPropertyDescriptor(s,i){return s._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,i){return Reflect.has(t,i)},ownKeys(){return Reflect.ownKeys(t)},set(s,i,l){return t[i]=l,delete s[i],!0}})}function n6(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:Eo(r)?r:()=>r,isIndexable:Eo(n)?n:()=>n}}const Qee=(t,e)=>t?t+qk(e):e,Yk=(t,e)=>He(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function a6(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function Zee(t,e,r){const{_proxy:n,_context:a,_subProxy:s,_descriptors:i}=t;let l=n[e];return Eo(l)&&i.isScriptable(e)&&(l=ete(e,l,t,r)),Ot(l)&&l.length&&(l=tte(e,l,t,i.isIndexable)),Yk(e,l)&&(l=wc(l,a,s&&s[e],i)),l}function ete(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(s,i||n);return l.delete(t),Yk(t,c)&&(c=Kk(a._scopes,a,t,c)),c}function tte(t,e,r,n){const{_proxy:a,_context:s,_subProxy:i,_descriptors:l}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(He(e[0])){const c=e,u=a._scopes.filter(d=>d!==c);e=[];for(const d of c){const f=Kk(u,a,t,d);e.push(wc(f,s,i&&i[t],l))}}return e}function s6(t,e,r){return Eo(t)?t(e,r):t}const rte=(t,e)=>t===!0?e:typeof t=="string"?Oo(e,t):void 0;function nte(t,e,r,n,a){for(const s of e){const i=rte(r,s);if(i){t.add(i);const l=s6(i._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==n)return l}else if(i===!1&&typeof n<"u"&&r!==n)return null}return!1}function Kk(t,e,r,n){const a=e._rootScopes,s=s6(e._fallback,r,n),i=[...t,...a],l=new Set;l.add(n);let c=ZP(l,i,r,s||r,n);return c===null||typeof s<"u"&&s!==r&&(c=ZP(l,i,s,c,n),c===null)?!1:Gk(Array.from(l),[""],a,s,()=>ate(e,r,n))}function ZP(t,e,r,n,a){for(;r;)r=nte(t,e,r,n,a);return r}function ate(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return Ot(a)&&He(r)?r:a||{}}function ste(t,e,r,n){let a;for(const s of e)if(a=o6(Qee(s,t),r),typeof a<"u")return Yk(t,a)?Kk(r,n,t,a):a}function o6(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function eD(t){let e=t._keys;return e||(e=t._keys=ote(t._scopes)),e}function ote(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function i6(t,e,r,n){const{iScale:a}=t,{key:s="r"}=this._parsing,i=new Array(n);let l,c,u,d;for(l=0,c=n;l<c;++l)u=l+r,d=e[u],i[l]={r:a.parse(Oo(d,s),u)};return i}const ite=Number.EPSILON||1e-14,Nc=(t,e)=>e<t.length&&!t[e].skip&&t[e],l6=t=>t==="x"?"y":"x";function lte(t,e,r,n){const a=t.skip?e:t,s=e,i=r.skip?e:r,l=_S(s,a),c=_S(i,s);let u=l/(l+c),d=c/(l+c);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const f=n*u,m=n*d;return{previous:{x:s.x-f*(i.x-a.x),y:s.y-f*(i.y-a.y)},next:{x:s.x+m*(i.x-a.x),y:s.y+m*(i.y-a.y)}}}function cte(t,e,r){const n=t.length;let a,s,i,l,c,u=Nc(t,0);for(let d=0;d<n-1;++d)if(c=u,u=Nc(t,d+1),!(!c||!u)){if(Ad(e[d],0,ite)){r[d]=r[d+1]=0;continue}a=r[d]/e[d],s=r[d+1]/e[d],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(i=3/Math.sqrt(l),r[d]=a*i*e[d],r[d+1]=s*i*e[d])}}function ute(t,e,r="x"){const n=l6(r),a=t.length;let s,i,l,c=Nc(t,0);for(let u=0;u<a;++u){if(i=l,l=c,c=Nc(t,u+1),!l)continue;const d=l[r],f=l[n];i&&(s=(d-i[r])/3,l[`cp1${r}`]=d-s,l[`cp1${n}`]=f-s*e[u]),c&&(s=(c[r]-d)/3,l[`cp2${r}`]=d+s,l[`cp2${n}`]=f+s*e[u])}}function dte(t,e="x"){const r=l6(e),n=t.length,a=Array(n).fill(0),s=Array(n);let i,l,c,u=Nc(t,0);for(i=0;i<n;++i)if(l=c,c=u,u=Nc(t,i+1),!!c){if(u){const d=u[e]-c[e];a[i]=d!==0?(u[r]-c[r])/d:0}s[i]=l?u?Oa(a[i-1])!==Oa(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}cte(t,a,s),ute(t,s,e)}function Sh(t,e,r){return Math.max(Math.min(t,r),e)}function fte(t,e){let r,n,a,s,i,l=os(t[0],e);for(r=0,n=t.length;r<n;++r)i=s,s=l,l=r<n-1&&os(t[r+1],e),s&&(a=t[r],i&&(a.cp1x=Sh(a.cp1x,e.left,e.right),a.cp1y=Sh(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Sh(a.cp2x,e.left,e.right),a.cp2y=Sh(a.cp2y,e.top,e.bottom)))}function mte(t,e,r,n,a){let s,i,l,c;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")dte(t,a);else{let u=n?t[t.length-1]:t[0];for(s=0,i=t.length;s<i;++s)l=t[s],c=lte(u,l,t[Math.min(s+1,i-(n?0:1))%i],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,u=l}e.capBezierPoints&&fte(t,r)}function Jk(){return typeof window<"u"&&typeof document<"u"}function Xk(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function m0(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const nv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function hte(t,e){return nv(t).getPropertyValue(e)}const pte=["top","right","bottom","left"];function ki(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const s=pte[a];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const gte=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function yte(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:s}=n;let i=!1,l,c;if(gte(a,s,t.target))l=a,c=s;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,i=!0}return{x:l,y:c,box:i}}function ii(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=nv(r),s=a.boxSizing==="border-box",i=ki(a,"padding"),l=ki(a,"border","width"),{x:c,y:u,box:d}=yte(t,r),f=i.left+(d&&l.left),m=i.top+(d&&l.top);let{width:h,height:g}=e;return s&&(h-=i.width+l.width,g-=i.height+l.height),{x:Math.round((c-f)/h*r.width/n),y:Math.round((u-m)/g*r.height/n)}}function bte(t,e,r){let n,a;if(e===void 0||r===void 0){const s=t&&Xk(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const i=s.getBoundingClientRect(),l=nv(s),c=ki(l,"border","width"),u=ki(l,"padding");e=i.width-u.width-c.width,r=i.height-u.height-c.height,n=m0(l.maxWidth,s,"clientWidth"),a=m0(l.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||d0,maxHeight:a||d0}}const Ah=t=>Math.round(t*10)/10;function xte(t,e,r,n){const a=nv(t),s=ki(a,"margin"),i=m0(a.maxWidth,t,"clientWidth")||d0,l=m0(a.maxHeight,t,"clientHeight")||d0,c=bte(t,e,r);let{width:u,height:d}=c;if(a.boxSizing==="content-box"){const m=ki(a,"border","width"),h=ki(a,"padding");u-=h.width+m.width,d-=h.height+m.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=Ah(Math.min(u,i,c.maxWidth)),d=Ah(Math.min(d,l,c.maxHeight)),u&&!d&&(d=Ah(u/2)),(e!==void 0||r!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,u=Ah(Math.floor(d*n))),{width:u,height:d}}function tD(t,e,r){const n=e||1,a=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const i=t.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${t.height}px`,i.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||i.height!==a||i.width!==s?(t.currentDevicePixelRatio=n,i.height=a,i.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const vte=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Jk()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function rD(t,e){const r=hte(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function li(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function jte(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function wte(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},i=li(t,a,r),l=li(a,s,r),c=li(s,e,r),u=li(i,l,r),d=li(l,c,r);return li(u,d,r)}const Nte=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Cte=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Xl(t,e,r){return t?Nte(e,r):Cte()}function c6(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function u6(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function d6(t){return t==="angle"?{between:jf,compare:See,normalize:Tr}:{between:as,compare:(e,r)=>e-r,normalize:e=>e}}function nD({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function Ste(t,e,r){const{property:n,start:a,end:s}=r,{between:i,normalize:l}=d6(n),c=e.length;let{start:u,end:d,loop:f}=t,m,h;if(f){for(u+=c,d+=c,m=0,h=c;m<h&&i(l(e[u%c][n]),a,s);++m)u--,d--;u%=c,d%=c}return d<u&&(d+=c),{start:u,end:d,loop:f,style:t.style}}function f6(t,e,r){if(!r)return[t];const{property:n,start:a,end:s}=r,i=e.length,{compare:l,between:c,normalize:u}=d6(n),{start:d,end:f,loop:m,style:h}=Ste(t,e,r),g=[];let y=!1,x=null,p,b,N;const C=()=>c(a,N,p)&&l(a,N)!==0,j=()=>l(s,p)===0||c(s,N,p),w=()=>y||C(),S=()=>!y||j();for(let T=d,k=d;T<=f;++T)b=e[T%i],!b.skip&&(p=u(b[n]),p!==N&&(y=c(p,a,s),x===null&&w()&&(x=l(p,a)===0?T:k),x!==null&&S()&&(g.push(nD({start:x,end:T,loop:m,count:i,style:h})),x=null),k=T,N=p));return x!==null&&g.push(nD({start:x,end:f,loop:m,count:i,style:h})),g}function m6(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const s=f6(n[a],t.points,e);s.length&&r.push(...s)}return r}function Ate(t,e,r,n){let a=0,s=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(s+=a);s>a&&t[s%e].skip;)s--;return s%=e,{start:a,end:s}}function Tte(t,e,r,n){const a=t.length,s=[];let i=e,l=t[e],c;for(c=e+1;c<=r;++c){const u=t[c%a];u.skip||u.stop?l.skip||(n=!1,s.push({start:e%a,end:(c-1)%a,loop:n}),e=i=u.stop?c:null):(i=c,l.skip&&(e=c)),l=u}return i!==null&&s.push({start:e%a,end:i%a,loop:n}),s}function kte(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const s=!!t._loop,{start:i,end:l}=Ate(r,a,s,n);if(n===!0)return aD(t,[{start:i,end:l,loop:s}],r,e);const c=l<i?l+a:l,u=!!t._fullLoop&&i===0&&l===a-1;return aD(t,Tte(r,i,c,u),r,e)}function aD(t,e,r,n){return!n||!n.setContext||!r?e:Ote(t,e,r,n)}function Ote(t,e,r,n){const a=t._chart.getContext(),s=sD(t.options),{_datasetIndex:i,options:{spanGaps:l}}=t,c=r.length,u=[];let d=s,f=e[0].start,m=f;function h(g,y,x,p){const b=l?-1:1;if(g!==y){for(g+=c;r[g%c].skip;)g-=b;for(;r[y%c].skip;)y+=b;g%c!==y%c&&(u.push({start:g%c,end:y%c,loop:x,style:p}),d=p,f=y%c)}}for(const g of e){f=l?f:g.start;let y=r[f%c],x;for(m=f+1;m<=g.end;m++){const p=r[m%c];x=sD(n.setContext(Bo(a,{type:"segment",p0:y,p1:p,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:i}))),Ete(x,d)&&h(f,m-1,g.loop,d),y=p,d=x}f<m-1&&h(f,m-1,g.loop,d)}return u}function sD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ete(t,e){if(!e)return!1;const r=[],n=function(a,s){return Wk(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Th(t,e,r){return t.options.clip?t[r]:e[r]}function Ite(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Th(r,e,"left"),right:Th(r,e,"right"),top:Th(n,e,"top"),bottom:Th(n,e,"bottom")}:e}function h6(t,e){const r=e._clip;if(r.disabled)return!1;const n=Ite(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Pte{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const s=r.listeners[a],i=r.duration;s.forEach(l=>l({chart:e,initial:r.initial,numSteps:i,currentStep:Math.min(n-r.start,i)}))}_refresh(){this._request||(this._running=!0,this._request=JB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const s=n.items;let i=s.length-1,l=!1,c;for(;i>=0;--i)c=s[i],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(s[i]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,n,e,"progress")),s.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ga=new Pte;const oD="transparent",Dte={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=JP(t||oD),a=n.valid&&JP(e||oD);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class _te{constructor(e,r,n,a){const s=r[n];a=ad([e.to,a,s,e.from]);const i=ad([e.from,s,a]);this._active=!0,this._fn=e.fn||Dte[e.type||typeof i],this._easing=Td[e.easing]||Td.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=i,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],s=n-this._start,i=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(i,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ad([e.to,r,a,e.from]),this._from=ad([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,s=this._from,i=this._loop,l=this._to;let c;if(this._active=s!==l&&(i||r<n),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=s;return}c=r/n%2,c=i&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class p6{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!He(e))return;const r=Object.keys(It.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!He(s))return;const i={};for(const l of r)i[l]=s[l];(Ot(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!n.has(l))&&n.set(l,i)})})}_animateOptions(e,r){const n=r.options,a=Rte(e,n);if(!a)return[];const s=this._createAnimations(a,n);return n.$shared&&$te(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,a=[],s=e.$animations||(e.$animations={}),i=Object.keys(r),l=Date.now();let c;for(c=i.length-1;c>=0;--c){const u=i[c];if(u.charAt(0)==="$")continue;if(u==="options"){a.push(...this._animateOptions(e,r));continue}const d=r[u];let f=s[u];const m=n.get(u);if(f)if(m&&f.active()){f.update(m,d,l);continue}else f.cancel();if(!m||!m.duration){e[u]=d;continue}s[u]=f=new _te(m,e,u,d),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Ga.add(this._chart,n),!0}}function $te(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const s=t[n[a]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function Rte(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function iD(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:a,end:n?a:s}}function Mte(t,e,r){if(r===!1)return!1;const n=iD(t,r),a=iD(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Lte(t){let e,r,n,a;return He(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function g6(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,s;for(a=0,s=n.length;a<s;++a)r.push(n[a].index);return r}function lD(t,e,r,n={}){const a=t.keys,s=n.mode==="single";let i,l,c,u;if(e===null)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(c=+a[i],c===r){if(d=!0,n.all)continue;break}u=t.values[c],Vt(u)&&(s||e===0||Oa(e)===Oa(u))&&(e+=u)}return!d&&!n.all?0:e}function Fte(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",i=Object.keys(t),l=new Array(i.length);let c,u,d;for(c=0,u=i.length;c<u;++c)d=i[c],l[c]={[a]:d,[s]:t[d]};return l}function v1(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function Bte(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function qte(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Vte(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function cD(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const s=t[a.index];if(r&&s>0||!r&&s<0)return a.index}return null}function uD(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:s,vScale:i,index:l}=n,c=s.axis,u=i.axis,d=Bte(s,i,n),f=e.length;let m;for(let h=0;h<f;++h){const g=e[h],{[c]:y,[u]:x}=g,p=g._stacks||(g._stacks={});m=p[u]=Vte(a,d,y),m[l]=x,m._top=cD(m,i,!0,n.type),m._bottom=cD(m,i,!1,n.type);const b=m._visualValues||(m._visualValues={});b[l]=x}}function j1(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Ute(t,e){return Bo(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zte(t,e,r){return Bo(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Ou(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const s=a._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const w1=t=>t==="reset"||t==="none",dD=(t,e)=>e?t:Object.assign({},t),Wte=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:g6(r,!0),values:null};class la{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=v1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ou(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,m,h,g)=>f==="x"?m:f==="r"?g:h,s=r.xAxisID=Re(n.xAxisID,j1(e,"x")),i=r.yAxisID=Re(n.yAxisID,j1(e,"y")),l=r.rAxisID=Re(n.rAxisID,j1(e,"r")),c=r.indexAxis,u=r.iAxisID=a(c,s,i,l),d=r.vAxisID=a(c,i,s,l);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(i),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&GP(this._data,this),e._stacked&&Ou(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(He(r)){const a=this._cachedMeta;this._data=Fte(r,a)}else if(n!==r){if(n){GP(n,this);const a=this._cachedMeta;Ou(a),a._parsed=[]}r&&Object.isExtensible(r)&&Oee(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const s=r._stacked;r._stacked=v1(r.vScale,r),r.stack!==n.stack&&(a=!0,Ou(r),r.stack=n.stack),this._resyncElements(e),(a||s!==r._stacked)&&(uD(this,r._parsed),r._stacked=v1(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:s,_stacked:i}=n,l=s.axis;let c=e===0&&r===a.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,f,m;if(this._parsing===!1)n._parsed=a,n._sorted=!0,m=a;else{Ot(a[e])?m=this.parseArrayData(n,a,e,r):He(a[e])?m=this.parseObjectData(n,a,e,r):m=this.parsePrimitiveData(n,a,e,r);const h=()=>f[l]===null||u&&f[l]<u[l];for(d=0;d<r;++d)n._parsed[d+e]=f=m[d],c&&(h()&&(c=!1),u=f);n._sorted=c}i&&uD(this,m)}parsePrimitiveData(e,r,n,a){const{iScale:s,vScale:i}=e,l=s.axis,c=i.axis,u=s.getLabels(),d=s===i,f=new Array(a);let m,h,g;for(m=0,h=a;m<h;++m)g=m+n,f[m]={[l]:d||s.parse(u[g],g),[c]:i.parse(r[g],g)};return f}parseArrayData(e,r,n,a){const{xScale:s,yScale:i}=e,l=new Array(a);let c,u,d,f;for(c=0,u=a;c<u;++c)d=c+n,f=r[d],l[c]={x:s.parse(f[0],d),y:i.parse(f[1],d)};return l}parseObjectData(e,r,n,a){const{xScale:s,yScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(a);let d,f,m,h;for(d=0,f=a;d<f;++d)m=d+n,h=r[m],u[d]={x:s.parse(Oo(h,l),m),y:i.parse(Oo(h,c),m)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,s=this._cachedMeta,i=r[e.axis],l={keys:g6(a,!0),values:r._stacks[e.axis]._visualValues};return lD(l,i,s.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const s=n[r.axis];let i=s===null?NaN:s;const l=a&&n._stacks[r.axis];a&&l&&(a.values=l,i=lD(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,i),e.max=Math.max(e.max,i)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,s=n._sorted&&e===n.iScale,i=a.length,l=this._getOtherScale(e),c=Wte(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=qte(l);let m,h;function g(){h=a[m];const y=h[l.axis];return!Vt(h[e.axis])||d>y||f<y}for(m=0;m<i&&!(!g()&&(this.updateRangeFromParsed(u,e,h,c),s));++m);if(s){for(m=i-1;m>=0;--m)if(!g()){this.updateRangeFromParsed(u,e,h,c);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,s,i;for(a=0,s=r.length;a<s;++a)i=r[a][e.axis],Vt(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Lte(Re(this.options.clip,Mte(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],s=r.chartArea,i=[],l=this._drawStart||0,c=this._drawCount||a.length-l,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,l,c),d=l;d<l+c;++d){const f=a[d];f.hidden||(f.active&&u?i.push(f):f.draw(e,s))}for(d=0;d<i.length;++d)i[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const i=this._cachedMeta.data[e];s=i.$context||(i.$context=zte(this.getContext(),e,i)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Ute(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",s=this._cachedDataOpts,i=e+"-"+r,l=s[i],c=this.enableOptionSharing&&vf(n);if(l)return dD(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],m=u.getOptionScopes(this.getDataset(),d),h=Object.keys(It.elements[e]),g=()=>this.getContext(n,a,r),y=u.resolveNamedOptions(m,h,g,f);return y.$shared&&(y.$shared=c,s[i]=Object.freeze(dD(y,c))),y}_resolveAnimations(e,r,n){const a=this.chart,s=this._cachedDataOpts,i=`animation-${r}`,l=s[i];if(l)return l;let c;if(a.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,r),m=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(m,this.getContext(e,n,r))}const u=new p6(a,c&&c.animations);return c&&c._cacheable&&(s[i]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||w1(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,s=this.getSharedOptions(n),i=this.includeOptions(r,s)||s!==a;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:i}}updateElement(e,r,n,a){w1(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!w1(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const s=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const a=n.length,s=r.length,i=Math.min(s,a);i&&this.parse(0,i),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,r,n=!0){const a=this._cachedMeta,s=a.data,i=e+r;let l;const c=u=>{for(u.length+=r,l=u.length-1;l>=i;l--)u[l]=u[l-r]};for(c(s),l=e;l<i;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Ou(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}me(la,"defaults",{}),me(la,"datasetElementType",null),me(la,"dataElementType",null);function Hte(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,s=r.length;a<s;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=KB(n.sort((a,s)=>a-s))}return t._cache.$bar}function Gte(t){const e=t.iScale,r=Hte(e,t.type);let n=e._length,a,s,i,l;const c=()=>{i===32767||i===-32768||(vf(l)&&(n=Math.min(n,Math.abs(i-l)||n)),l=i)};for(a=0,s=r.length;a<s;++a)i=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)i=e.getPixelForTick(a),c();return n}function Yte(t,e,r,n){const a=r.barThickness;let s,i;return ze(a)?(s=e.min*r.categoryPercentage,i=r.barPercentage):(s=a*n,i=1),{chunk:s/n,ratio:i,start:e.pixels[t]-s/2}}function Kte(t,e,r,n){const a=e.pixels,s=a[t];let i=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;i===null&&(i=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-i);const u=s-(s-Math.min(i,l))/2*c;return{chunk:Math.abs(l-i)/2*c/n,ratio:r.barPercentage,start:u}}function Jte(t,e,r,n){const a=r.parse(t[0],n),s=r.parse(t[1],n),i=Math.min(a,s),l=Math.max(a,s);let c=i,u=l;Math.abs(i)>Math.abs(l)&&(c=l,u=i),e[r.axis]=u,e._custom={barStart:c,barEnd:u,start:a,end:s,min:i,max:l}}function y6(t,e,r,n){return Ot(t)?Jte(t,e,r,n):e[r.axis]=r.parse(t,n),e}function fD(t,e,r,n){const a=t.iScale,s=t.vScale,i=a.getLabels(),l=a===s,c=[];let u,d,f,m;for(u=r,d=r+n;u<d;++u)m=e[u],f={},f[a.axis]=l||a.parse(i[u],u),c.push(y6(m,f,s,u));return c}function N1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Xte(t,e,r){return t!==0?Oa(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function Qte(t){let e,r,n,a,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",s="start"):(a="start",s="end"),{start:r,end:n,reverse:e,top:a,bottom:s}}function Zte(t,e,r,n){let a=e.borderSkipped;const s={};if(!a){t.borderSkipped=s;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:i,end:l,reverse:c,top:u,bottom:d}=Qte(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=u:(r._bottom||0)===n?a=d:(s[mD(d,i,l,c)]=!0,a=u)),s[mD(a,i,l,c)]=!0,t.borderSkipped=s}function mD(t,e,r,n){return n?(t=ere(t,e,r),t=hD(t,r,e)):t=hD(t,e,r),t}function ere(t,e,r){return t===e?r:t===r?e:t}function hD(t,e,r){return t==="start"?e:t==="end"?r:t}function tre(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class Sp extends la{parsePrimitiveData(e,r,n,a){return fD(e,r,n,a)}parseArrayData(e,r,n,a){return fD(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:s,vScale:i}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=i.axis==="x"?l:c,f=[];let m,h,g,y;for(m=n,h=n+a;m<h;++m)y=r[m],g={},g[s.axis]=s.parse(Oo(y,u),m),f.push(y6(Oo(y,d),g,i,m));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,s=this.getParsed(e),i=s._custom,l=N1(i)?"["+i.start+", "+i.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const s=a==="reset",{index:i,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:m}=this._getSharedOptions(r,a);for(let h=r;h<r+n;h++){const g=this.getParsed(h),y=s||ze(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(h),x=this._calculateBarIndexPixels(h,d),p=(g._stacks||{})[l.axis],b={horizontal:u,base:y.base,enableBorderRadius:!p||N1(g._custom)||i===p._top||i===p._bottom,x:u?y.head:x.center,y:u?x.center:y.head,height:u?x.size:Math.abs(y.size),width:u?Math.abs(y.size):x.size};m&&(b.options=f||this.resolveDataElementOptions(h,e[h].active?"active":a));const N=b.options||e[h].options;Zte(b,N,p,i),tre(b,N,d.ratio),this.updateElement(e[h],h,b,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,i=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[n.axis],u=d=>{const f=d._parsed.find(h=>h[n.axis]===c),m=f&&f[d.vScale.axis];if(ze(m)||isNaN(m))return!0};for(const d of a)if(!(r!==void 0&&u(d))&&((s===!1||i.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&i.push(d.stack),d.index===e))break;return i.length||i.push(void 0),i}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Re(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),s=r!==void 0?a.indexOf(r):-1;return s===-1?a.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let s,i;for(s=0,i=r.data.length;s<i;++s)a.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const l=e.barThickness;return{min:l||Gte(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:s,minBarLength:i}}=this,l=s||0,c=this.getParsed(e),u=c._custom,d=N1(u);let f=c[r.axis],m=0,h=n?this.applyStack(r,c,n):f,g,y;h!==f&&(m=h-f,h=f),d&&(f=u.barStart,h=u.barEnd-u.barStart,f!==0&&Oa(f)!==Oa(u.barEnd)&&(m=0),m+=f);const x=!ze(s)&&!d?s:m;let p=r.getPixelForValue(x);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(m+h):g=p,y=g-p,Math.abs(y)<i){y=Xte(y,r,l)*i,f===l&&(p-=y/2);const b=r.getPixelForDecimal(0),N=r.getPixelForDecimal(1),C=Math.min(b,N),j=Math.max(b,N);p=Math.max(Math.min(p,j),C),g=p+y,n&&!d&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(g)-r.getValueForPixel(p))}if(p===r.getPixelForValue(l)){const b=Oa(y)*r.getLineWidthForValue(l)/2;p+=b,y-=b}return{size:y,base:p,head:g,center:g+y/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,s=a.skipNull,i=Re(a.maxBarThickness,1/0);let l,c;const u=this._getAxisCount();if(r.grouped){const d=s?this._getStackCount(e):r.stackCount,f=a.barThickness==="flex"?Kte(e,r,a,d*u):Yte(e,r,a,d*u),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,h=this._getAxis().indexOf(Re(m,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+h;l=f.start+f.chunk*g+f.chunk/2,c=Math.min(i,f.chunk*f.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(i,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let s=0;for(;s<a;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}me(Sp,"id","bar"),me(Sp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),me(Sp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ap extends la{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const s=super.parsePrimitiveData(e,r,n,a);for(let i=0;i<s.length;i++)s[i]._custom=this.resolveDataElementOptions(i+n).radius;return s}parseArrayData(e,r,n,a){const s=super.parseArrayData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Re(l[2],this.resolveDataElementOptions(i+n).radius)}return s}parseObjectData(e,r,n,a){const s=super.parseObjectData(e,r,n,a);for(let i=0;i<s.length;i++){const l=r[n+i];s[i]._custom=Re(l&&l.r&&+l.r,this.resolveDataElementOptions(i+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y),u=i._custom;return{label:n[e]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(r,a),d=i.axis,f=l.axis;for(let m=r;m<r+n;m++){const h=e[m],g=!s&&this.getParsed(m),y={},x=y[d]=s?i.getPixelForDecimal(.5):i.getPixelForValue(g[d]),p=y[f]=s?l.getBasePixel():l.getPixelForValue(g[f]);y.skip=isNaN(x)||isNaN(p),u&&(y.options=c||this.resolveDataElementOptions(m,h.active?"active":a),s&&(y.options.radius=0)),this.updateElement(h,m,y,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Re(n&&n._custom,s),a}}me(Ap,"id","bubble"),me(Ap,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),me(Ap,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function rre(t,e,r){let n=1,a=1,s=0,i=0;if(e<Tt){const l=t,c=l+e,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),m=Math.sin(c),h=(N,C,j)=>jf(N,l,c,!0)?1:Math.max(C,C*r,j,j*r),g=(N,C,j)=>jf(N,l,c,!0)?-1:Math.min(C,C*r,j,j*r),y=h(0,u,f),x=h(Gt,d,m),p=g(Je,u,f),b=g(Je+Gt,d,m);n=(y-p)/2,a=(x-b)/2,s=-(y+p)/2,i=-(x+b)/2}return{ratioX:n,ratioY:a,offsetX:s,offsetY:i}}class xi extends la{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let s=c=>+n[c];if(He(n[e])){const{key:c="value"}=this._parsing;s=u=>+Oo(n[u],c)}let i,l;for(i=e,l=e+r;i<l;++i)a._parsed[i]=s(i)}}_getRotation(){return na(this.options.rotation-90)}_getCircumference(){return na(this.options.circumference)}_getRotationExtents(){let e=Tt,r=-Tt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,s=a._getRotation(),i=a._getCircumference();e=Math.min(e,s),r=Math.max(r,s+i)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,s=a.data,i=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-i)/2,0),c=Math.min(hee(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:m,ratioY:h,offsetX:g,offsetY:y}=rre(f,d,c),x=(n.width-i)/m,p=(n.height-i)/h,b=Math.max(Math.min(x,p)/2,0),N=zB(this.options.radius,b),C=Math.max(N*c,0),j=(N-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*N,this.offsetY=y*N,a.total=this.calculateTotal(),this.outerRadius=N-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/Tt)}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,l=i.chartArea,u=i.options.animation,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,m=s&&u.animateScale,h=m?0:this.innerRadius,g=m?0:this.outerRadius,{sharedOptions:y,includeOptions:x}=this._getSharedOptions(r,a);let p=this._getRotation(),b;for(b=0;b<r;++b)p+=this._circumference(b,s);for(b=r;b<r+n;++b){const N=this._circumference(b,s),C=e[b],j={x:d+this.offsetX,y:f+this.offsetY,startAngle:p,endAngle:p+N,circumference:N,outerRadius:g,innerRadius:h};x&&(j.options=y||this.resolveDataElementOptions(b,C.active?"active":a)),p+=N,this.updateElement(C,b,j,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const s=e._parsed[a];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Tt*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Em(r._parsed[e],n.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,s,i,l,c;if(!e){for(a=0,s=n.data.datasets.length;a<s;++a)if(n.isDatasetVisible(a)){i=n.getDatasetMeta(a),e=i.data,l=i.controller;break}}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Re(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}me(xi,"id","doughnut"),me(xi,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),me(xi,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),me(xi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class Tp extends la{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:s}=r,i=this.chart._animationsDisabled;let{start:l,count:c}=QB(r,a,i);this._drawStart=l,this._drawCount=c,ZB(r)&&(l=0,c=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=a;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!i,options:u},e),this.updateElements(a,l,c,e)}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(r,a),m=i.axis,h=l.axis,{spanGaps:g,segment:y}=this.options,x=jc(g)?g:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||a==="none",b=r+n,N=e.length;let C=r>0&&this.getParsed(r-1);for(let j=0;j<N;++j){const w=e[j],S=p?w:{};if(j<r||j>=b){S.skip=!0;continue}const T=this.getParsed(j),k=ze(T[h]),I=S[m]=i.getPixelForValue(T[m],j),E=S[h]=s||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[h],j);S.skip=isNaN(I)||isNaN(E)||k,S.stop=j>0&&Math.abs(T[m]-C[m])>x,y&&(S.parsed=T,S.raw=u.data[j]),f&&(S.options=d||this.resolveDataElementOptions(j,w.active?"active":a)),p||this.updateElement(w,j,S,a),C=T}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const s=a[0].size(this.resolveDataElementOptions(0)),i=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,s,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}me(Tp,"id","line"),me(Tp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),me(Tp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Od extends la{constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],s=Em(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,r,n,a){return i6.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(a/2,0),i=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),l=(s-i)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,r,n,a){const s=a==="reset",i=this.chart,c=i.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,m=u.getIndexAngle(0)-.5*Je;let h=m,g;const y=360/this.countVisibleElements();for(g=0;g<r;++g)h+=this._computeAngle(g,a,y);for(g=r;g<r+n;g++){const x=e[g];let p=h,b=h+this._computeAngle(g,a,y),N=i.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;h=b,s&&(c.animateScale&&(N=0),c.animateRotate&&(p=b=m));const C={x:d,y:f,innerRadius:0,outerRadius:N,startAngle:p,endAngle:b,options:this.resolveDataElementOptions(g,x.active?"active":a)};this.updateElement(x,g,C,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?na(this.resolveDataElementOptions(e,r).angle||n):0}}me(Od,"id","polarArea"),me(Od,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),me(Od,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((s,i)=>{const c=e.getDatasetMeta(0).controller.getStyle(i);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class MS extends xi{}me(MS,"id","pie"),me(MS,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class kp extends la{getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return i6.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],s=r.iScale.getLabels();if(n.points=a,e!=="resize"){const i=this.resolveDatasetElementOptions(e);this.options.showLine||(i.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===a.length,options:i};this.updateElement(n,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const s=this._cachedMeta.rScale,i=a==="reset";for(let l=r;l<r+n;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":a),d=s.getPointPositionForValue(l,this.getParsed(l).r),f=i?s.xCenter:d.x,m=i?s.yCenter:d.y,h={x:f,y:m,angle:d.angle,skip:isNaN(f)||isNaN(m),options:u};this.updateElement(c,l,h,a)}}}me(kp,"id","radar"),me(kp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),me(kp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Op extends la{getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:s}=r,i=this.getParsed(e),l=a.getLabelForValue(i.x),c=s.getLabelForValue(i.y);return{label:n[e]||"",value:"("+l+", "+c+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:s,count:i}=QB(r,n,a);if(this._drawStart=s,this._drawCount=i,ZB(r)&&(s=0,i=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=r;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:u},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,s,i,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const s=a==="reset",{iScale:i,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(d),m=this.includeOptions(a,f),h=i.axis,g=l.axis,{spanGaps:y,segment:x}=this.options,p=jc(y)?y:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||a==="none";let N=r>0&&this.getParsed(r-1);for(let C=r;C<r+n;++C){const j=e[C],w=this.getParsed(C),S=b?j:{},T=ze(w[g]),k=S[h]=i.getPixelForValue(w[h],C),I=S[g]=s||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,w,c):w[g],C);S.skip=isNaN(k)||isNaN(I)||T,S.stop=C>0&&Math.abs(w[h]-N[h])>p,x&&(S.parsed=w,S.raw=u.data[C]),m&&(S.options=f||this.resolveDataElementOptions(C,j.active?"active":a)),b||this.updateElement(j,C,S,a),N=w}this.updateSharedOptions(f,a,d)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let l=0;for(let c=r.length-1;c>=0;--c)l=Math.max(l,r[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const s=r[0].size(this.resolveDataElementOptions(0)),i=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,s,i)/2}}me(Op,"id","scatter"),me(Op,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),me(Op,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var nre=Object.freeze({__proto__:null,BarController:Sp,BubbleController:Ap,DoughnutController:xi,LineController:Tp,PieController:MS,PolarAreaController:Od,RadarController:kp,ScatterController:Op});function Qo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qk{constructor(e){me(this,"options");this.options=e||{}}static override(e){Object.assign(Qk.prototype,e)}init(){}formats(){return Qo()}parse(){return Qo()}format(){return Qo()}add(){return Qo()}diff(){return Qo()}startOf(){return Qo()}endOf(){return Qo()}}var are={_date:Qk};function sre(t,e,r,n){const{controller:a,data:s,_sorted:i}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&i&&s.length){const u=l._reversePixels?Tee:ss;if(n){if(a._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(e);if(f){const m=u(s,e,r-f),h=u(s,e,r+f);return{lo:m.lo,hi:h.hi}}}}else{const d=u(s,e,r);if(c){const{vScale:f}=a._cachedMeta,{_parsed:m}=t,h=m.slice(0,d.lo+1).reverse().findIndex(y=>!ze(y[f.axis]));d.lo-=Math.max(0,h);const g=m.slice(d.hi).findIndex(y=>!ze(y[f.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:s.length-1}}function av(t,e,r,n,a){const s=t.getSortedVisibleDatasetMetas(),i=r[e];for(let l=0,c=s.length;l<c;++l){const{index:u,data:d}=s[l],{lo:f,hi:m}=sre(s[l],e,i,a);for(let h=f;h<=m;++h){const g=d[h];g.skip||n(g,u,h)}}}function ore(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const s=e?Math.abs(n.x-a.x):0,i=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(i,2))}}function C1(t,e,r,n,a){const s=[];return!a&&!t.isPointInArea(e)||av(t,r,e,function(l,c,u){!a&&!os(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&s.push({element:l,datasetIndex:c,index:u})},!0),s}function ire(t,e,r,n){let a=[];function s(i,l,c){const{startAngle:u,endAngle:d}=i.getProps(["startAngle","endAngle"],n),{angle:f}=GB(i,{x:e.x,y:e.y});jf(f,u,d)&&a.push({element:i,datasetIndex:l,index:c})}return av(t,r,e,s),a}function lre(t,e,r,n,a,s){let i=[];const l=ore(r);let c=Number.POSITIVE_INFINITY;function u(d,f,m){const h=d.inRange(e.x,e.y,a);if(n&&!h)return;const g=d.getCenterPoint(a);if(!(!!s||t.isPointInArea(g))&&!h)return;const x=l(e,g);x<c?(i=[{element:d,datasetIndex:f,index:m}],c=x):x===c&&i.push({element:d,datasetIndex:f,index:m})}return av(t,r,e,u),i}function S1(t,e,r,n,a,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?ire(t,e,r,a):lre(t,e,r,n,a,s)}function pD(t,e,r,n,a){const s=[],i=r==="x"?"inXRange":"inYRange";let l=!1;return av(t,r,e,(c,u,d)=>{c[i]&&c[i](e[r],a)&&(s.push({element:c,datasetIndex:u,index:d}),l=l||c.inRange(e.x,e.y,a))}),n&&!l?[]:s}var cre={modes:{index(t,e,r,n){const a=ii(e,t),s=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?C1(t,a,s,n,i):S1(t,a,s,!1,n,i),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=l[0].index,f=u.data[d];f&&!f.skip&&c.push({element:f,datasetIndex:u.index,index:d})}),c):[]},dataset(t,e,r,n){const a=ii(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?C1(t,a,s,n,i):S1(t,a,s,!1,n,i);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let d=0;d<u.length;++d)l.push({element:u[d],datasetIndex:c,index:d})}return l},point(t,e,r,n){const a=ii(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return C1(t,a,s,n,i)},nearest(t,e,r,n){const a=ii(e,t),s=r.axis||"xy",i=r.includeInvisible||!1;return S1(t,a,s,r.intersect,n,i)},x(t,e,r,n){const a=ii(e,t);return pD(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=ii(e,t);return pD(t,a,"y",r.intersect,n)}}};const b6=["left","top","right","bottom"];function Eu(t,e){return t.filter(r=>r.pos===e)}function gD(t,e){return t.filter(r=>b6.indexOf(r.pos)===-1&&r.box.axis===e)}function Iu(t,e){return t.sort((r,n)=>{const a=e?n:r,s=e?r:n;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function ure(t){const e=[];let r,n,a,s,i,l;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:s,options:{stack:i,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&s+i,stackWeight:l});return e}function dre(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:s}=r;if(!n||!b6.includes(a))continue;const i=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});i.count++,i.weight+=s}return e}function fre(t,e){const r=dre(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let s,i,l;for(s=0,i=t.length;s<i;++s){l=t[s];const{fullSize:c}=l.box,u=r[l.stack],d=u&&l.stackWeight/u.weight;l.horizontal?(l.width=d?d*n:c&&e.availableWidth,l.height=a):(l.width=n,l.height=d?d*a:c&&e.availableHeight)}return r}function mre(t){const e=ure(t),r=Iu(e.filter(u=>u.box.fullSize),!0),n=Iu(Eu(e,"left"),!0),a=Iu(Eu(e,"right")),s=Iu(Eu(e,"top"),!0),i=Iu(Eu(e,"bottom")),l=gD(e,"x"),c=gD(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:a.concat(c).concat(i).concat(l),chartArea:Eu(e,"chartArea"),vertical:n.concat(a).concat(c),horizontal:s.concat(i).concat(l)}}function yD(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function x6(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function hre(t,e,r,n){const{pos:a,box:s}=r,i=t.maxPadding;if(!He(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[a]+=r.size}s.getPadding&&x6(i,s.getPadding());const l=Math.max(0,e.outerWidth-yD(i,t,"left","right")),c=Math.max(0,e.outerHeight-yD(i,t,"top","bottom")),u=l!==t.w,d=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:u,other:d}:{same:d,other:u}}function pre(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function gre(t,e){const r=e.maxPadding;function n(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(i=>{s[i]=Math.max(e[i],r[i])}),s}return n(t?["left","right"]:["top","bottom"])}function sd(t,e,r,n){const a=[];let s,i,l,c,u,d;for(s=0,i=t.length,u=0;s<i;++s){l=t[s],c=l.box,c.update(l.width||e.w,l.height||e.h,gre(l.horizontal,e));const{same:f,other:m}=hre(e,r,l,n);u|=f&&a.length,d=d||m,c.fullSize||a.push(l)}return u&&sd(a,e,r,n)||d}function kh(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function bD(t,e,r,n){const a=r.padding;let{x:s,y:i}=e;for(const l of t){const c=l.box,u=n[l.stack]||{placed:0,weight:1},d=l.stackWeight/u.weight||1;if(l.horizontal){const f=e.w*d,m=u.size||c.height;vf(u.start)&&(i=u.start),c.fullSize?kh(c,a.left,i,r.outerWidth-a.right-a.left,m):kh(c,e.left+u.placed,i,f,m),u.start=i,u.placed+=f,i=c.bottom}else{const f=e.h*d,m=u.size||c.width;vf(u.start)&&(s=u.start),c.fullSize?kh(c,s,a.top,m,r.outerHeight-a.bottom-a.top):kh(c,s,e.top+u.placed,m,f),u.start=s,u.placed+=f,s=c.right}}e.x=s,e.y=i}var Er={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=Pr(t.options.layout.padding),s=Math.max(e-a.width,0),i=Math.max(r-a.height,0),l=mre(t.boxes),c=l.vertical,u=l.horizontal;st(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=c.reduce((y,x)=>x.box.options&&x.box.options.display===!1?y:y+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:s,availableHeight:i,vBoxMaxWidth:s/2/d,hBoxMaxHeight:i/2}),m=Object.assign({},a);x6(m,Pr(n));const h=Object.assign({maxPadding:m,w:s,h:i,x:a.left,y:a.top},a),g=fre(c.concat(u),f);sd(l.fullSize,h,f,g),sd(c,h,f,g),sd(u,h,f,g)&&sd(c,h,f,g),pre(h),bD(l.leftAndTop,h,f,g),h.x+=h.w,h.y+=h.h,bD(l.rightAndBottom,h,f,g),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},st(l.chartArea,y=>{const x=y.box;Object.assign(x,t.chartArea),x.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class v6{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class yre extends v6{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ep="$chartjs",bre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xD=t=>t===null||t==="";function xre(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Ep]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",xD(a)){const s=rD(t,"width");s!==void 0&&(t.width=s)}if(xD(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=rD(t,"height");s!==void 0&&(t.height=s)}return t}const j6=vte?{passive:!0}:!1;function vre(t,e,r){t&&t.addEventListener(e,r,j6)}function jre(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,j6)}function wre(t,e){const r=bre[t.type]||t.type,{x:n,y:a}=ii(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function h0(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Nre(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||h0(l.addedNodes,n),i=i&&!h0(l.removedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Cre(t,e,r){const n=t.canvas,a=new MutationObserver(s=>{let i=!1;for(const l of s)i=i||h0(l.removedNodes,n),i=i&&!h0(l.addedNodes,n);i&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Nf=new Map;let vD=0;function w6(){const t=window.devicePixelRatio;t!==vD&&(vD=t,Nf.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Sre(t,e){Nf.size||window.addEventListener("resize",w6),Nf.set(t,e)}function Are(t){Nf.delete(t),Nf.size||window.removeEventListener("resize",w6)}function Tre(t,e,r){const n=t.canvas,a=n&&Xk(n);if(!a)return;const s=XB((l,c)=>{const u=a.clientWidth;r(l,c),u<a.clientWidth&&r()},window),i=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,d=c.contentRect.height;u===0&&d===0||s(u,d)});return i.observe(a),Sre(t,s),i}function A1(t,e,r){r&&r.disconnect(),e==="resize"&&Are(t)}function kre(t,e,r){const n=t.canvas,a=XB(s=>{t.ctx!==null&&r(wre(s,t))},t);return vre(n,e,a),a}class Ore extends v6{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(xre(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Ep])return!1;const n=r[Ep].initial;["height","width"].forEach(s=>{const i=n[s];ze(i)?r.removeAttribute(s):r.setAttribute(s,i)});const a=n.style||{};return Object.keys(a).forEach(s=>{r.style[s]=a[s]}),r.width=r.width,delete r[Ep],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),i={attach:Nre,detach:Cre,resize:Tre}[r]||kre;a[r]=i(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:A1,detach:A1,resize:A1}[r]||jre)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return xte(e,r,n,a)}isAttached(e){const r=e&&Xk(e);return!!(r&&r.isConnected)}}function Ere(t){return!Jk()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?yre:Ore}var lp;let Ps=(lp=class{constructor(){me(this,"x");me(this,"y");me(this,"active",!1);me(this,"options");me(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return jc(this.x)&&jc(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(s=>{a[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),a}},me(lp,"defaults",{}),me(lp,"defaultRoutes"),lp);function Ire(t,e){const r=t.options.ticks,n=Pre(t),a=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?_re(e):[],i=s.length,l=s[0],c=s[i-1],u=[];if(i>a)return $re(e,u,s,i/a),u;const d=Dre(s,e,a);if(i>0){let f,m;const h=i>1?Math.round((c-l)/(i-1)):null;for(Oh(e,u,d,ze(h)?0:l-h,l),f=0,m=i-1;f<m;f++)Oh(e,u,d,s[f],s[f+1]);return Oh(e,u,d,c,ze(h)?e.length:c+h),u}return Oh(e,u,d),u}function Pre(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function Dre(t,e,r){const n=Rre(t),a=e.length/r;if(!n)return Math.max(a,1);const s=wee(n);for(let i=0,l=s.length-1;i<l;i++){const c=s[i];if(c>a)return c}return Math.max(a,1)}function _re(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function $re(t,e,r,n){let a=0,s=r[0],i;for(n=Math.ceil(n),i=0;i<t.length;i++)i===s&&(e.push(t[i]),a++,s=r[a*n])}function Oh(t,e,r,n,a){const s=Re(n,0),i=Math.min(Re(a,t.length),t.length);let l=0,c,u,d;for(r=Math.ceil(r),a&&(c=a-n,r=c/Math.floor(c/r)),d=s;d<0;)l++,d=Math.round(s+l*r);for(u=Math.max(s,0);u<i;u++)u===d&&(e.push(t[u]),l++,d=Math.round(s+l*r))}function Rre(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Mre=t=>t==="left"?"right":t==="right"?"left":t,jD=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,wD=(t,e)=>Math.min(e||t,t);function ND(t,e){const r=[],n=t.length/e,a=t.length;let s=0;for(;s<a;s+=n)r.push(t[Math.floor(s)]);return r}function Lre(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),s=t._startPixel,i=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),u;if(!(r&&(n===1?u=Math.max(c-s,i-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(a-1))/2,c+=a<e?u:-u,c<s-l||c>i+l)))return c}function Fre(t,e){st(t,r=>{const n=r.gc,a=n.length/2;let s;if(a>e){for(s=0;s<a;++s)delete r.data[n[s]];n.splice(0,a)}})}function Pu(t){return t.drawTicks?t.tickLength:0}function CD(t,e){if(!t.display)return 0;const r=rr(t.font,e),n=Pr(t.padding);return(Ot(t.text)?t.text.length:1)*r.lineHeight+n.height}function Bre(t,e){return Bo(t,{scale:e,type:"scale"})}function qre(t,e,r){return Bo(t,{tick:r,index:e,type:"tick"})}function Vre(t,e,r){let n=zk(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Mre(n)),n}function Ure(t,e,r,n){const{top:a,left:s,bottom:i,right:l,chart:c}=t,{chartArea:u,scales:d}=c;let f=0,m,h,g;const y=i-a,x=l-s;if(t.isHorizontal()){if(h=Ar(n,s,l),He(r)){const p=Object.keys(r)[0],b=r[p];g=d[p].getPixelForValue(b)+y-e}else r==="center"?g=(u.bottom+u.top)/2+y-e:g=jD(t,r,e);m=l-s}else{if(He(r)){const p=Object.keys(r)[0],b=r[p];h=d[p].getPixelForValue(b)-x+e}else r==="center"?h=(u.left+u.right)/2-x+e:h=jD(t,r,e);g=Ar(n,i,a),f=r==="left"?-Gt:Gt}return{titleX:h,titleY:g,maxWidth:m,rotation:f}}class al extends Ps{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=nn(e,Number.POSITIVE_INFINITY),r=nn(r,Number.NEGATIVE_INFINITY),n=nn(n,Number.POSITIVE_INFINITY),a=nn(a,Number.NEGATIVE_INFINITY),{min:nn(e,n),max:nn(r,a),minDefined:Vt(e),maxDefined:Vt(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:s}=this.getUserBounds(),i;if(a&&s)return{min:r,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)i=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,i.min)),s||(n=Math.max(n,i.max));return r=s&&r>n?n:r,n=a&&r>n?r:n,{min:nn(r,nn(n,r)),max:nn(n,nn(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yt(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:s,ticks:i}=this.options,l=i.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Xee(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?ND(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),i.display&&(i.autoSkip||i.source==="auto")&&(this.ticks=Ire(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yt(this.options.afterUpdate,[this])}beforeSetDimensions(){yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,s;for(n=0,a=e.length;n<a;n++)s=e[n],s.label=yt(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=wD(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation;let i=a,l,c,u;if(!this._isVisible()||!r.display||a>=s||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const d=this._getLabelSizes(),f=d.widest.width,m=d.highest.height,h=cr(this.chart.width-f,0,this.maxWidth);l=e.offset?this.maxWidth/n:h/(n-1),f+6>l&&(l=h/(n-(e.offset?.5:1)),c=this.maxHeight-Pu(e.grid)-r.padding-CD(e.title,this.chart.options.font),u=Math.sqrt(f*f+m*m),i=Vk(Math.min(Math.asin(cr((d.highest.height+6)/l,-1,1)),Math.asin(cr(c/u,-1,1))-Math.asin(cr(m/u,-1,1)))),i=Math.max(a,Math.min(s,i))),this.labelRotation=i}afterCalculateLabelRotation(){yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:s}}=this,i=this._isVisible(),l=this.isHorizontal();if(i){const c=CD(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Pu(s)+c):(e.height=this.maxHeight,e.width=Pu(s)+c),n.display&&this.ticks.length){const{first:u,last:d,widest:f,highest:m}=this._getLabelSizes(),h=n.padding*2,g=na(this.labelRotation),y=Math.cos(g),x=Math.sin(g);if(l){const p=n.mirror?0:x*f.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+p+h)}else{const p=n.mirror?0:y*f.width+x*m.height;e.width=Math.min(this.maxWidth,e.width+p+h)}this._calculatePadding(u,d,x,y)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:s,padding:i},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,h=0;c?u?(m=a*e.width,h=n*r.height):(m=n*e.height,h=a*r.width):s==="start"?h=r.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,h=r.width/2),this.paddingLeft=Math.max((m-d+i)*this.width/(this.width-d),0),this.paddingRight=Math.max((h-f+i)*this.width/(this.width-f),0)}else{let d=r.height/2,f=e.height/2;s==="start"?(d=0,f=e.height):s==="end"&&(d=r.height,f=0),this.paddingTop=d+i,this.paddingBottom=f+i}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)ze(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=ND(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:s}=this,i=[],l=[],c=Math.floor(r/wD(r,n));let u=0,d=0,f,m,h,g,y,x,p,b,N,C,j;for(f=0;f<r;f+=c){if(g=e[f].label,y=this._resolveTickFontOptions(f),a.font=x=y.string,p=s[x]=s[x]||{data:{},gc:[]},b=y.lineHeight,N=C=0,!ze(g)&&!Ot(g))N=f0(a,p.data,p.gc,N,g),C=b;else if(Ot(g))for(m=0,h=g.length;m<h;++m)j=g[m],!ze(j)&&!Ot(j)&&(N=f0(a,p.data,p.gc,N,j),C+=b);i.push(N),l.push(C),u=Math.max(N,u),d=Math.max(C,d)}Fre(s,r);const w=i.indexOf(u),S=l.indexOf(d),T=k=>({width:i[k]||0,height:l[k]||0});return{first:T(0),last:T(r-1),widest:T(w),highest:T(S),widths:i,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return Aee(this._alignToPixels?Xo(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=qre(this.getContext(),e,n))}return this.$context||(this.$context=Bre(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=na(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),s=this._getLabelSizes(),i=e.autoSkipPadding||0,l=s?s.widest.width+i:0,c=s?s.highest.height+i:0;return this.isHorizontal()?c*n>l*a?l/n:c/a:c*a<l*n?c/n:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:s,position:i,border:l}=a,c=s.offset,u=this.isHorizontal(),f=this.ticks.length+(c?1:0),m=Pu(s),h=[],g=l.setContext(this.getContext()),y=g.display?g.width:0,x=y/2,p=function(B){return Xo(n,B,y)};let b,N,C,j,w,S,T,k,I,E,P,L;if(i==="top")b=p(this.bottom),S=this.bottom-m,k=b-x,E=p(e.top)+x,L=e.bottom;else if(i==="bottom")b=p(this.top),E=e.top,L=p(e.bottom)-x,S=b+x,k=this.top+m;else if(i==="left")b=p(this.right),w=this.right-m,T=b-x,I=p(e.left)+x,P=e.right;else if(i==="right")b=p(this.left),I=e.left,P=p(e.right)-x,w=b+x,T=this.left+m;else if(r==="x"){if(i==="center")b=p((e.top+e.bottom)/2+.5);else if(He(i)){const B=Object.keys(i)[0],U=i[B];b=p(this.chart.scales[B].getPixelForValue(U))}E=e.top,L=e.bottom,S=b+x,k=S+m}else if(r==="y"){if(i==="center")b=p((e.left+e.right)/2);else if(He(i)){const B=Object.keys(i)[0],U=i[B];b=p(this.chart.scales[B].getPixelForValue(U))}w=b-x,T=w-m,I=e.left,P=e.right}const $=Re(a.ticks.maxTicksLimit,f),_=Math.max(1,Math.ceil(f/$));for(N=0;N<f;N+=_){const B=this.getContext(N),U=s.setContext(B),D=l.setContext(B),R=U.lineWidth,F=U.color,G=D.dash||[],W=D.dashOffset,Z=U.tickWidth,fe=U.tickColor,Ce=U.tickBorderDash||[],ne=U.tickBorderDashOffset;C=Lre(this,N,c),C!==void 0&&(j=Xo(n,C,R),u?w=T=I=P=j:S=k=E=L=j,h.push({tx1:w,ty1:S,tx2:T,ty2:k,x1:I,y1:E,x2:P,y2:L,width:R,color:F,borderDash:G,borderDashOffset:W,tickWidth:Z,tickColor:fe,tickBorderDash:Ce,tickBorderDashOffset:ne}))}return this._ticksLength=f,this._borderValue=b,h}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:s}=n,i=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:d,mirror:f}=s,m=Pu(n.grid),h=m+d,g=f?-d:h,y=-na(this.labelRotation),x=[];let p,b,N,C,j,w,S,T,k,I,E,P,L="middle";if(a==="top")w=this.bottom-g,S=this._getXAxisLabelAlignment();else if(a==="bottom")w=this.top+g,S=this._getXAxisLabelAlignment();else if(a==="left"){const _=this._getYAxisLabelAlignment(m);S=_.textAlign,j=_.x}else if(a==="right"){const _=this._getYAxisLabelAlignment(m);S=_.textAlign,j=_.x}else if(r==="x"){if(a==="center")w=(e.top+e.bottom)/2+h;else if(He(a)){const _=Object.keys(a)[0],B=a[_];w=this.chart.scales[_].getPixelForValue(B)+h}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")j=(e.left+e.right)/2-h;else if(He(a)){const _=Object.keys(a)[0],B=a[_];j=this.chart.scales[_].getPixelForValue(B)}S=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?L="top":c==="end"&&(L="bottom"));const $=this._getLabelSizes();for(p=0,b=l.length;p<b;++p){N=l[p],C=N.label;const _=s.setContext(this.getContext(p));T=this.getPixelForTick(p)+s.labelOffset,k=this._resolveTickFontOptions(p),I=k.lineHeight,E=Ot(C)?C.length:1;const B=E/2,U=_.color,D=_.textStrokeColor,R=_.textStrokeWidth;let F=S;i?(j=T,S==="inner"&&(p===b-1?F=this.options.reverse?"left":"right":p===0?F=this.options.reverse?"right":"left":F="center"),a==="top"?u==="near"||y!==0?P=-E*I+I/2:u==="center"?P=-$.highest.height/2-B*I+I:P=-$.highest.height+I/2:u==="near"||y!==0?P=I/2:u==="center"?P=$.highest.height/2-B*I:P=$.highest.height-E*I,f&&(P*=-1),y!==0&&!_.showLabelBackdrop&&(j+=I/2*Math.sin(y))):(w=T,P=(1-E)*I/2);let G;if(_.showLabelBackdrop){const W=Pr(_.backdropPadding),Z=$.heights[p],fe=$.widths[p];let Ce=P-W.top,ne=0-W.left;switch(L){case"middle":Ce-=Z/2;break;case"bottom":Ce-=Z;break}switch(S){case"center":ne-=fe/2;break;case"right":ne-=fe;break;case"inner":p===b-1?ne-=fe:p>0&&(ne-=fe/2);break}G={left:ne,top:Ce,width:fe+W.width,height:Z+W.height,color:_.backdropColor}}x.push({label:C,font:k,textOffset:P,options:{rotation:y,color:U,strokeColor:D,strokeWidth:R,textAlign:F,textBaseline:L,translation:[j,w],backdrop:G}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-na(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:s}}=this.options,i=this._getLabelSizes(),l=e+s,c=i.widest.width;let u,d;return r==="left"?a?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d+=c)):(d=this.right-l,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d=this.left)):r==="right"?a?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=c/2):(u="left",d-=c)):(d=this.left+l,n==="near"?u="left":n==="center"?(u="center",d+=c/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:s,height:i}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,s,i),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,i;const l=(c,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,i=a.length;s<i;++s){const c=a[s];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,s=n.setContext(this.getContext()),i=n.display?s.width:0;if(!i)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,d,f,m;this.isHorizontal()?(u=Xo(e,this.left,i)-i/2,d=Xo(e,this.right,l)+l/2,f=m=c):(f=Xo(e,this.top,i)-i/2,m=Xo(e,this.bottom,l)+l/2,u=d=c),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(d,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&tv(n,a);const s=this.getLabelItems(e);for(const i of s){const l=i.options,c=i.font,u=i.label,d=i.textOffset;Wi(n,u,0,d,c,l)}a&&rv(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const s=rr(n.font),i=Pr(n.padding),l=n.align;let c=s.lineHeight/2;r==="bottom"||r==="center"||He(r)?(c+=i.bottom,Ot(n.text)&&(c+=s.lineHeight*(n.text.length-1))):c+=i.top;const{titleX:u,titleY:d,maxWidth:f,rotation:m}=Ure(this,c,r,l);Wi(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:Vre(l,r,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Re(e.grid&&e.grid.z,-1),a=Re(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==al.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let s,i;for(s=0,i=r.length;s<i;++s){const l=r[s];l[n]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return rr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Eh{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;Hre(r)&&(n=this.register(r));const a=this.items,s=e.id,i=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,zre(e,i,n),this.override&&It.override(e.id,e.overrides)),i}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in It[a]&&(delete It[a][n],this.override&&delete zi[n])}}function zre(t,e,r){const n=xf(Object.create(null),[r?It.get(r):{},It.get(e),t.defaults]);It.set(e,n),t.defaultRoutes&&Wre(e,t.defaultRoutes),t.descriptors&&It.describe(e,t.descriptors)}function Wre(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),s=[t].concat(n).join("."),i=e[r].split("."),l=i.pop(),c=i.join(".");It.route(s,a,c,l)})}function Hre(t){return"id"in t&&"defaults"in t}class Gre{constructor(){this.controllers=new Eh(la,"datasets",!0),this.elements=new Eh(Ps,"elements"),this.plugins=new Eh(Object,"plugins"),this.scales=new Eh(al,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const s=n||this._getRegistryForType(a);n||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):st(a,i=>{const l=n||this._getRegistryForType(i);this._exec(e,l,i)})})}_exec(e,r,n){const a=qk(e);yt(n["before"+a],[],n),r[e](n),yt(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var xa=new Gre;class Yre{constructor(){this._init=[]}notify(e,r,n,a){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),i=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),i}_notify(e,r,n,a){a=a||{};for(const s of e){const i=s.plugin,l=i[n],c=[r,a,s.options];if(yt(l,c,i)===!1&&a.cancelable)return!1}return!0}invalidate(){ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Re(n.options&&n.options.plugins,{}),s=Kre(n);return a===!1&&!r?[]:Xre(e,s,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(s,i)=>s.filter(l=>!i.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function Kre(t){const e={},r=[],n=Object.keys(xa.plugins.items);for(let s=0;s<n.length;s++)r.push(xa.getPlugin(n[s]));const a=t.plugins||[];for(let s=0;s<a.length;s++){const i=a[s];r.indexOf(i)===-1&&(r.push(i),e[i.id]=!0)}return{plugins:r,localIds:e}}function Jre(t,e){return!e&&t===!1?null:t===!0?{}:t}function Xre(t,{plugins:e,localIds:r},n,a){const s=[],i=t.getContext();for(const l of e){const c=l.id,u=Jre(n[c],a);u!==null&&s.push({plugin:l,options:Qre(t.config,{plugin:l,local:r[c]},u,i)})}return s}function Qre(t,{plugin:e,local:r},n,a){const s=t.pluginScopeKeys(e),i=t.getOptionScopes(n,s);return r&&e.defaults&&i.push(e.defaults),t.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function LS(t,e){const r=It.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function Zre(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function ene(t,e){return t===e?"_index_":"_value_"}function SD(t){if(t==="x"||t==="y"||t==="r")return t}function tne(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function FS(t,...e){if(SD(t))return t;for(const r of e){const n=r.axis||tne(r.position)||t.length>1&&SD(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function AD(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function rne(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return AD(t,"x",r[0])||AD(t,"y",r[0])}return{}}function nne(t,e){const r=zi[t.type]||{scales:{}},n=e.scales||{},a=LS(t.type,e),s=Object.create(null);return Object.keys(n).forEach(i=>{const l=n[i];if(!He(l))return console.error(`Invalid scale configuration for scale: ${i}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${i}`);const c=FS(i,l,rne(i,t),It.scales[l.type]),u=ene(c,a),d=r.scales||{};s[i]=Sd(Object.create(null),[{axis:c},l,d[c],d[u]])}),t.data.datasets.forEach(i=>{const l=i.type||t.type,c=i.indexAxis||LS(l,e),d=(zi[l]||{}).scales||{};Object.keys(d).forEach(f=>{const m=Zre(f,c),h=i[m+"AxisID"]||m;s[h]=s[h]||Object.create(null),Sd(s[h],[{axis:m},n[h],d[f]])})}),Object.keys(s).forEach(i=>{const l=s[i];Sd(l,[It.scales[l.type],It.scale])}),s}function N6(t){const e=t.options||(t.options={});e.plugins=Re(e.plugins,{}),e.scales=nne(t,e)}function C6(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ane(t){return t=t||{},t.data=C6(t.data),N6(t),t}const TD=new Map,S6=new Set;function Ih(t,e){let r=TD.get(t);return r||(r=e(),TD.set(t,r),S6.add(r)),r}const Du=(t,e,r)=>{const n=Oo(e,r);n!==void 0&&t.add(n)};class sne{constructor(e){this._config=ane(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=C6(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),N6(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ih(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Ih(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Ih(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Ih(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:s}=this,i=this._cachedScopes(e,n),l=i.get(r);if(l)return l;const c=new Set;r.forEach(d=>{e&&(c.add(e),d.forEach(f=>Du(c,e,f))),d.forEach(f=>Du(c,a,f)),d.forEach(f=>Du(c,zi[s]||{},f)),d.forEach(f=>Du(c,It,f)),d.forEach(f=>Du(c,$S,f))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),S6.has(r)&&i.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,zi[r]||{},It.datasets[r]||{},{type:r},It,$S]}resolveNamedOptions(e,r,n,a=[""]){const s={$shared:!0},{resolver:i,subPrefixes:l}=kD(this._resolverCache,e,a);let c=i;if(ine(i,r)){s.$shared=!1,n=Eo(n)?n():n;const u=this.createResolver(e,n,l);c=wc(i,n,u)}for(const u of r)s[u]=c[u];return s}createResolver(e,r,n=[""],a){const{resolver:s}=kD(this._resolverCache,e,n);return He(r)?wc(s,r,void 0,a):s}}function kD(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let s=n.get(a);return s||(s={resolver:Gk(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},n.set(a,s)),s}const one=t=>He(t)&&Object.getOwnPropertyNames(t).some(e=>Eo(t[e]));function ine(t,e){const{isScriptable:r,isIndexable:n}=n6(t);for(const a of e){const s=r(a),i=n(a),l=(i||s)&&t[a];if(s&&(Eo(l)||one(l))||i&&Ot(l))return!0}return!1}var lne="4.5.0";const cne=["top","bottom","left","right","chartArea"];function OD(t,e){return t==="top"||t==="bottom"||cne.indexOf(t)===-1&&e==="x"}function ED(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function ID(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),yt(r&&r.onComplete,[t],e)}function une(t){const e=t.chart,r=e.options.animation;yt(r&&r.onProgress,[t],e)}function A6(t){return Jk()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ip={},PD=t=>{const e=A6(t);return Object.values(Ip).filter(r=>r.canvas===e).pop()};function dne(t,e,r){const n=Object.keys(t);for(const a of n){const s=+a;if(s>=e){const i=t[a];delete t[a],(r>0||s>e)&&(t[s+r]=i)}}}function fne(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class Gs{static register(...e){xa.add(...e),DD()}static unregister(...e){xa.remove(...e),DD()}constructor(e,r){const n=this.config=new sne(r),a=A6(e),s=PD(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const i=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Ere(a)),this.platform.updateConfig(n);const l=this.platform.acquireContext(a,i.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=mee(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=i,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yre,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Eee(f=>this.update(f),i.resizeDelay||0),this._dataChanges=[],Ip[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ga.listen(this,"complete",ID),Ga.listen(this,"progress",une),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:s}=this;return ze(e)?r&&s?s:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():tD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return QP(this.canvas,this.ctx),this}stop(){return Ga.stop(this),this}resize(e,r){Ga.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,i=this.platform.getMaximumSize(a,e,r,s),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=i.width,this.height=i.height,this._aspectRatio=this.aspectRatio,tD(this,l,!0)&&(this.notifyPlugins("resize",{size:i}),yt(n.onResize,[this,i],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};st(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((i,l)=>(i[l]=!1,i),{});let s=[];r&&(s=s.concat(Object.keys(r).map(i=>{const l=r[i],c=FS(i,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),st(s,i=>{const l=i.options,c=l.id,u=FS(c,l),d=Re(l.type,i.dtype);(l.position===void 0||OD(l.position,u)!==OD(i.dposition))&&(l.position=i.dposition),a[c]=!0;let f=null;if(c in n&&n[c].type===d)f=n[c];else{const m=xa.getScale(d);f=new m({id:c,type:d,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(l,e)}),st(a,(i,l)=>{i||delete n[l]}),st(n,i=>{Er.configure(this,i,i.options),Er.addBox(this,i)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,s)=>a.index-s.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(ED("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const s=r[n];let i=this.getDatasetMeta(n);const l=s.type||this.config.type;if(i.type&&i.type!==l&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=l,i.indexAxis=s.indexAxis||LS(l,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const c=xa.getController(l),{datasetElementType:u,dataElementType:d}=It.datasets[l];Object.assign(c,{dataElementType:xa.getElement(d),datasetElementType:u&&xa.getElement(u)}),i.controller=new c(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){st(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let i=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:f}=this.getDatasetMeta(u),m=!a&&s.indexOf(f)===-1;f.buildOrUpdateElements(m),i=Math.max(+f.getMaxOverflow(),i)}i=this._minPadding=n.layout.autoPadding?i:0,this._updateLayout(i),a||st(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ED("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){st(this.scales,e=>{Er.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!UP(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:s}of r){const i=n==="_removeElements"?-s:s;dne(e,a,i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(i=>i[0]===s).map((i,l)=>l+","+i.splice(1).join(","))),a=n(0);for(let s=1;s<r;s++)if(!UP(a,n(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Er.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],st(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,Eo(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ga.has(this)?this.attached&&!Ga.running(this)&&Ga.start(this):(this.draw(),ID({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,s;for(a=0,s=r.length;a<s;++a){const i=r[a];(!e||i.visible)&&n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=h6(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&tv(r,a),e.controller.draw(),a&&rv(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return os(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const s=cre.modes[r];return typeof s=="function"?s(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(s=>s&&s._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",s=this.getDatasetMeta(e),i=s.controller._resolveAnimations(void 0,a);vf(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),i.update(s,{visible:n}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Ga.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),QP(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Ip[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,i)=>{r.addEventListener(this,s,i),e[s]=i},a=(s,i,l)=>{s.offsetX=i,s.offsetY=l,this._eventHandler(s)};st(this.options.events,s=>n(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(c,u)=>{r.addEventListener(this,c,u),e[c]=u},a=(c,u)=>{e[c]&&(r.removeEventListener(this,c,u),delete e[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)};let i;const l=()=>{a("attach",l),this.attached=!0,this.resize(),n("resize",s),n("detach",i)};i=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),n("attach",l)},r.isAttached(this.canvas)?l():i()}unbindEvents(){st(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},st(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let s,i,l,c;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){i=e[l];const u=i&&this.getDatasetMeta(i.datasetIndex).controller;u&&u[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:i})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[i],index:i}});!c0(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),i=s(r,e),l=n?e:s(e,r);i.length&&this.updateHoverStyle(i,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=i=>(i.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:s}=this,i=r,l=this._getActiveElements(e,a,n,i),c=xee(e),u=fne(e,this._lastEvent,n,c);n&&(this._lastEvent=null,yt(s.onHover,[e,l,this],this),c&&yt(s.onClick,[e,l,this],this));const d=!c0(l,a);return(d||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}me(Gs,"defaults",It),me(Gs,"instances",Ip),me(Gs,"overrides",zi),me(Gs,"registry",xa),me(Gs,"version",lne),me(Gs,"getChart",PD);function DD(){return st(Gs.instances,t=>t._plugins.invalidate())}function mne(t,e,r){const{startAngle:n,x:a,y:s,outerRadius:i,innerRadius:l,options:c}=e,{borderWidth:u,borderJoinStyle:d}=c,f=Math.min(u/i,Tr(n-r));if(t.beginPath(),t.arc(a,s,i-u/2,n+f/2,r-f/2),l>0){const m=Math.min(u/l,Tr(n-r));t.arc(a,s,l+u/2,r-m/2,n+m/2,!0)}else{const m=Math.min(u/2,i*Tr(n-r));if(d==="round")t.arc(a,s,m,r-Je/2,n+Je/2,!0);else if(d==="bevel"){const h=2*m*m,g=-h*Math.cos(r+Je/2)+a,y=-h*Math.sin(r+Je/2)+s,x=h*Math.cos(n+Je/2)+a,p=h*Math.sin(n+Je/2)+s;t.lineTo(g,y),t.lineTo(x,p)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function hne(t,e,r){const{startAngle:n,pixelMargin:a,x:s,y:i,outerRadius:l,innerRadius:c}=e;let u=a/l;t.beginPath(),t.arc(s,i,l,n-u,r+u),c>a?(u=a/c,t.arc(s,i,c,r+u,n-u,!0)):t.arc(s,i,a,r+Gt,n-Gt),t.closePath(),t.clip()}function pne(t){return Hk(t,["outerStart","outerEnd","innerStart","innerEnd"])}function gne(t,e,r,n){const a=pne(t.options.borderRadius),s=(r-e)/2,i=Math.min(s,n*e/2),l=c=>{const u=(r-Math.min(s,c))*n/2;return cr(c,0,Math.min(s,u))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:cr(a.innerStart,0,i),innerEnd:cr(a.innerEnd,0,i)}}function vl(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function p0(t,e,r,n,a,s){const{x:i,y:l,startAngle:c,pixelMargin:u,innerRadius:d}=e,f=Math.max(e.outerRadius+n+r-u,0),m=d>0?d+n+r+u:0;let h=0;const g=a-c;if(n){const _=d>0?d-n:0,B=f>0?f-n:0,U=(_+B)/2,D=U!==0?g*U/(U+n):g;h=(g-D)/2}const y=Math.max(.001,g*f-r/Je)/f,x=(g-y)/2,p=c+x+h,b=a-x-h,{outerStart:N,outerEnd:C,innerStart:j,innerEnd:w}=gne(e,m,f,b-p),S=f-N,T=f-C,k=p+N/S,I=b-C/T,E=m+j,P=m+w,L=p+j/E,$=b-w/P;if(t.beginPath(),s){const _=(k+I)/2;if(t.arc(i,l,f,k,_),t.arc(i,l,f,_,I),C>0){const R=vl(T,I,i,l);t.arc(R.x,R.y,C,I,b+Gt)}const B=vl(P,b,i,l);if(t.lineTo(B.x,B.y),w>0){const R=vl(P,$,i,l);t.arc(R.x,R.y,w,b+Gt,$+Math.PI)}const U=(b-w/m+(p+j/m))/2;if(t.arc(i,l,m,b-w/m,U,!0),t.arc(i,l,m,U,p+j/m,!0),j>0){const R=vl(E,L,i,l);t.arc(R.x,R.y,j,L+Math.PI,p-Gt)}const D=vl(S,p,i,l);if(t.lineTo(D.x,D.y),N>0){const R=vl(S,k,i,l);t.arc(R.x,R.y,N,p-Gt,k)}}else{t.moveTo(i,l);const _=Math.cos(k)*f+i,B=Math.sin(k)*f+l;t.lineTo(_,B);const U=Math.cos(I)*f+i,D=Math.sin(I)*f+l;t.lineTo(U,D)}t.closePath()}function yne(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l}=e;let c=e.endAngle;if(s){p0(t,e,r,n,c,a);for(let u=0;u<s;++u)t.fill();isNaN(l)||(c=i+(l%Tt||Tt))}return p0(t,e,r,n,c,a),t.fill(),c}function bne(t,e,r,n,a){const{fullCircles:s,startAngle:i,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:d,borderDash:f,borderDashOffset:m,borderRadius:h}=c,g=c.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=m,g?(t.lineWidth=u*2,t.lineJoin=d||"round"):(t.lineWidth=u,t.lineJoin=d||"bevel");let y=e.endAngle;if(s){p0(t,e,r,n,y,a);for(let x=0;x<s;++x)t.stroke();isNaN(l)||(y=i+(l%Tt||Tt))}g&&hne(t,e,y),c.selfJoin&&y-i>=Je&&h===0&&d!=="miter"&&mne(t,e,y),s||(p0(t,e,r,n,y,a),t.stroke())}class od extends Ps{constructor(r){super();me(this,"circumference");me(this,"endAngle");me(this,"fullCircles");me(this,"innerRadius");me(this,"outerRadius");me(this,"pixelMargin");me(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.getProps(["x","y"],a),{angle:i,distance:l}=GB(s,{x:r,y:n}),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:f,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),h=(this.options.spacing+this.options.borderWidth)/2,g=Re(m,u-c),y=jf(i,c,u)&&c!==u,x=g>=Tt||y,p=as(l,d+h,f+h);return x&&p}getCenterPoint(r){const{x:n,y:a,startAngle:s,endAngle:i,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:d}=this.options,f=(s+i)/2,m=(l+c+d+u)/2;return{x:n+Math.cos(f)*m,y:a+Math.sin(f)*m}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:a}=this,s=(n.offset||0)/4,i=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Tt?Math.floor(a/Tt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const c=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(c)*s,Math.sin(c)*s);const u=1-Math.sin(Math.min(Je,a||0)),d=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,yne(r,this,d,i,l),bne(r,this,d,i,l),r.restore()}}me(od,"id","arc"),me(od,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),me(od,"defaultRoutes",{backgroundColor:"backgroundColor"}),me(od,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function T6(t,e,r=e){t.lineCap=Re(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Re(r.borderDash,e.borderDash)),t.lineDashOffset=Re(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Re(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Re(r.borderWidth,e.borderWidth),t.strokeStyle=Re(r.borderColor,e.borderColor)}function xne(t,e,r){t.lineTo(r.x,r.y)}function vne(t){return t.stepped?Vee:t.tension||t.cubicInterpolationMode==="monotone"?Uee:xne}function k6(t,e,r={}){const n=t.length,{start:a=0,end:s=n-1}=r,{start:i,end:l}=e,c=Math.max(a,i),u=Math.min(s,l),d=a<i&&s<i||a>l&&s>l;return{count:n,start:c,loop:e.loop,ilen:u<c&&!d?n+u-c:u-c}}function jne(t,e,r,n){const{points:a,options:s}=e,{count:i,start:l,loop:c,ilen:u}=k6(a,r,n),d=vne(s);let{move:f=!0,reverse:m}=n||{},h,g,y;for(h=0;h<=u;++h)g=a[(l+(m?u-h:h))%i],!g.skip&&(f?(t.moveTo(g.x,g.y),f=!1):d(t,y,g,m,s.stepped),y=g);return c&&(g=a[(l+(m?u:0))%i],d(t,y,g,m,s.stepped)),!!c}function wne(t,e,r,n){const a=e.points,{count:s,start:i,ilen:l}=k6(a,r,n),{move:c=!0,reverse:u}=n||{};let d=0,f=0,m,h,g,y,x,p;const b=C=>(i+(u?l-C:C))%s,N=()=>{y!==x&&(t.lineTo(d,x),t.lineTo(d,y),t.lineTo(d,p))};for(c&&(h=a[b(0)],t.moveTo(h.x,h.y)),m=0;m<=l;++m){if(h=a[b(m)],h.skip)continue;const C=h.x,j=h.y,w=C|0;w===g?(j<y?y=j:j>x&&(x=j),d=(f*d+C)/++f):(N(),t.lineTo(C,j),g=w,f=0,y=x=j),p=j}N()}function BS(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?wne:jne}function Nne(t){return t.stepped?jte:t.tension||t.cubicInterpolationMode==="monotone"?wte:li}function Cne(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),T6(t,e.options),t.stroke(a)}function Sne(t,e,r,n){const{segments:a,options:s}=e,i=BS(e);for(const l of a)T6(t,s,l.style),t.beginPath(),i(t,e,l,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Ane=typeof Path2D=="function";function Tne(t,e,r,n){Ane&&!e.options.segment?Cne(t,e,r,n):Sne(t,e,r,n)}class so extends Ps{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;mte(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=kte(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],s=this.points,i=m6(this,{property:r,start:a,end:a});if(!i.length)return;const l=[],c=Nne(n);let u,d;for(u=0,d=i.length;u<d;++u){const{start:f,end:m}=i[u],h=s[f],g=s[m];if(h===g){l.push(h);continue}const y=Math.abs((a-h[r])/(g[r]-h[r])),x=c(h,g,y,n.stepped);x[r]=e[r],l.push(x)}return l.length===1?l[0]:l}pathSegment(e,r,n){return BS(this)(e,this,r,n)}path(e,r,n){const a=this.segments,s=BS(this);let i=this._loop;r=r||0,n=n||this.points.length-r;for(const l of a)i&=s(e,this,l,{start:r,end:r+n-1});return!!i}draw(e,r,n,a){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Tne(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}me(so,"id","line"),me(so,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),me(so,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),me(so,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function _D(t,e,r,n){const a=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<a.radius+a.hitRadius}class Pp extends Ps{constructor(r){super();me(this,"parsed");me(this,"skip");me(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,a){const s=this.options,{x:i,y:l}=this.getProps(["x","y"],a);return Math.pow(r-i,2)+Math.pow(n-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return _D(this,r,"x",n)}inYRange(r,n){return _D(this,r,"y",n)}getCenterPoint(r){const{x:n,y:a}=this.getProps(["x","y"],r);return{x:n,y:a}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const a=n&&r.borderWidth||0;return(n+a)*2}draw(r,n){const a=this.options;this.skip||a.radius<.1||!os(this,n,this.size(a)/2)||(r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.fillStyle=a.backgroundColor,RS(r,a,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}me(Pp,"id","point"),me(Pp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),me(Pp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function O6(t,e){const{x:r,y:n,base:a,width:s,height:i}=t.getProps(["x","y","base","width","height"],e);let l,c,u,d,f;return t.horizontal?(f=i/2,l=Math.min(r,a),c=Math.max(r,a),u=n-f,d=n+f):(f=s/2,l=r-f,c=r+f,u=Math.min(n,a),d=Math.max(n,a)),{left:l,top:u,right:c,bottom:d}}function oo(t,e,r,n){return t?0:cr(e,r,n)}function kne(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,s=r6(n);return{t:oo(a.top,s.top,0,r),r:oo(a.right,s.right,0,e),b:oo(a.bottom,s.bottom,0,r),l:oo(a.left,s.left,0,e)}}function One(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,s=Ti(a),i=Math.min(e,r),l=t.borderSkipped,c=n||He(a);return{topLeft:oo(!c||l.top||l.left,s.topLeft,0,i),topRight:oo(!c||l.top||l.right,s.topRight,0,i),bottomLeft:oo(!c||l.bottom||l.left,s.bottomLeft,0,i),bottomRight:oo(!c||l.bottom||l.right,s.bottomRight,0,i)}}function Ene(t){const e=O6(t),r=e.right-e.left,n=e.bottom-e.top,a=kne(t,r/2,n/2),s=One(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}function T1(t,e,r,n){const a=e===null,s=r===null,l=t&&!(a&&s)&&O6(t,n);return l&&(a||as(e,l.left,l.right))&&(s||as(r,l.top,l.bottom))}function Ine(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Pne(t,e){t.rect(e.x,e.y,e.w,e.h)}function k1(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,i=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+s,h:t.h+i,radius:t.radius}}class Dp extends Ps{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:s,outer:i}=Ene(this),l=Ine(i.radius)?wf:Pne;e.save(),(i.w!==s.w||i.h!==s.h)&&(e.beginPath(),l(e,k1(i,r,s)),e.clip(),l(e,k1(s,-r,i)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,k1(s,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return T1(this,e,r,n)}inXRange(e,r){return T1(this,e,null,r)}inYRange(e,r){return T1(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+a)/2:r,y:s?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}me(Dp,"id","bar"),me(Dp,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),me(Dp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Dne=Object.freeze({__proto__:null,ArcElement:od,BarElement:Dp,LineElement:so,PointElement:Pp});const qS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$D=qS.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function E6(t){return qS[t%qS.length]}function I6(t){return $D[t%$D.length]}function _ne(t,e){return t.borderColor=E6(e),t.backgroundColor=I6(e),++e}function $ne(t,e){return t.backgroundColor=t.data.map(()=>E6(e++)),e}function Rne(t,e){return t.backgroundColor=t.data.map(()=>I6(e++)),e}function Mne(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof xi?e=$ne(r,e):a instanceof Od?e=Rne(r,e):a&&(e=_ne(r,e))}}function RD(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Lne(t){return t&&(t.borderColor||t.backgroundColor)}function Fne(){return It.borderColor!=="rgba(0,0,0,0.1)"||It.backgroundColor!=="rgba(0,0,0,0.1)"}var Bne={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:s}=a,i=RD(n)||Lne(a)||s&&RD(s)||Fne();if(!r.forceOverride&&i)return;const l=Mne(t);n.forEach(l)}};function qne(t,e,r,n,a){const s=a.samples||n;if(s>=r)return t.slice(e,e+r);const i=[],l=(r-2)/(s-2);let c=0;const u=e+r-1;let d=e,f,m,h,g,y;for(i[c++]=t[d],f=0;f<s-2;f++){let x=0,p=0,b;const N=Math.floor((f+1)*l)+1+e,C=Math.min(Math.floor((f+2)*l)+1,r)+e,j=C-N;for(b=N;b<C;b++)x+=t[b].x,p+=t[b].y;x/=j,p/=j;const w=Math.floor(f*l)+1+e,S=Math.min(Math.floor((f+1)*l)+1,r)+e,{x:T,y:k}=t[d];for(h=g=-1,b=w;b<S;b++)g=.5*Math.abs((T-x)*(t[b].y-k)-(T-t[b].x)*(p-k)),g>h&&(h=g,m=t[b],y=b);i[c++]=m,d=y}return i[c++]=t[u],i}function Vne(t,e,r,n){let a=0,s=0,i,l,c,u,d,f,m,h,g,y;const x=[],p=e+r-1,b=t[e].x,C=t[p].x-b;for(i=e;i<e+r;++i){l=t[i],c=(l.x-b)/C*n,u=l.y;const j=c|0;if(j===d)u<g?(g=u,f=i):u>y&&(y=u,m=i),a=(s*a+l.x)/++s;else{const w=i-1;if(!ze(f)&&!ze(m)){const S=Math.min(f,m),T=Math.max(f,m);S!==h&&S!==w&&x.push({...t[S],x:a}),T!==h&&T!==w&&x.push({...t[T],x:a})}i>0&&w!==h&&x.push(t[w]),x.push(l),d=j,s=0,g=y=u,f=m=h=i}}return x}function P6(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function MD(t){t.data.datasets.forEach(e=>{P6(e)})}function Une(t,e){const r=e.length;let n=0,a;const{iScale:s}=t,{min:i,max:l,minDefined:c,maxDefined:u}=s.getUserBounds();return c&&(n=cr(ss(e,s.axis,i).lo,0,r-1)),u?a=cr(ss(e,s.axis,l).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var zne={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){MD(t);return}const n=t.width;t.data.datasets.forEach((a,s)=>{const{_data:i,indexAxis:l}=a,c=t.getDatasetMeta(s),u=i||a.data;if(ad([l,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const d=t.scales[c.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:f,count:m}=Une(c,u);const h=r.threshold||4*n;if(m<=h){P6(a);return}ze(i)&&(a._data=u,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(r.algorithm){case"lttb":g=qne(u,f,m,n,r);break;case"min-max":g=Vne(u,f,m,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=g})},destroy(t){MD(t)}};function Wne(t,e,r){const n=t.segments,a=t.points,s=e.points,i=[];for(const l of n){let{start:c,end:u}=l;u=sv(c,u,a);const d=VS(r,a[c],a[u],l.loop);if(!e.segments){i.push({source:l,target:d,start:a[c],end:a[u]});continue}const f=m6(e,d);for(const m of f){const h=VS(r,s[m.start],s[m.end],m.loop),g=f6(l,a,h);for(const y of g)i.push({source:y,target:m,start:{[r]:LD(d,h,"start",Math.max)},end:{[r]:LD(d,h,"end",Math.min)}})}}return i}function VS(t,e,r,n){if(n)return;let a=e[t],s=r[t];return t==="angle"&&(a=Tr(a),s=Tr(s)),{property:t,start:a,end:s}}function Hne(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,s=[];return e.segments.forEach(({start:i,end:l})=>{l=sv(i,l,a);const c=a[i],u=a[l];n!==null?(s.push({x:c.x,y:n}),s.push({x:u.x,y:n})):r!==null&&(s.push({x:r,y:c.y}),s.push({x:r,y:u.y}))}),s}function sv(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function LD(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function D6(t,e){let r=[],n=!1;return Ot(t)?(n=!0,r=t):r=Hne(t,e),r.length?new so({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function FD(t){return t&&t.fill!==!1}function Gne(t,e,r){let a=t[e].fill;const s=[e];let i;if(!r)return a;for(;a!==!1&&s.indexOf(a)===-1;){if(!Vt(a))return a;if(i=t[a],!i)return!1;if(i.visible)return a;s.push(a),a=i.fill}return!1}function Yne(t,e,r){const n=Qne(t);if(He(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return Vt(a)&&Math.floor(a)===a?Kne(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Kne(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function Jne(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:He(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Xne(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:He(t)?n=t.value:n=e.getBaseValue(),n}function Qne(t){const e=t.options,r=e.fill;let n=Re(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Zne(t){const{scale:e,index:r,line:n}=t,a=[],s=n.segments,i=n.points,l=eae(e,r);l.push(D6({x:null,y:e.bottom},n));for(let c=0;c<s.length;c++){const u=s[c];for(let d=u.start;d<=u.end;d++)tae(a,i[d],l)}return new so({points:a,options:{}})}function eae(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const s=n[a];if(s.index===e)break;s.hidden||r.unshift(s.dataset)}return r}function tae(t,e,r){const n=[];for(let a=0;a<r.length;a++){const s=r[a],{first:i,last:l,point:c}=rae(s,e,"x");if(!(!c||i&&l)){if(i)n.unshift(c);else if(t.push(c),!l)break}}t.push(...n)}function rae(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],s=t.segments,i=t.points;let l=!1,c=!1;for(let u=0;u<s.length;u++){const d=s[u],f=i[d.start][r],m=i[d.end][r];if(as(a,f,m)){l=a===f,c=a===m;break}}return{first:l,last:c,point:n}}class _6{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:s,radius:i}=this;return r=r||{start:0,end:Tt},e.arc(a,s,i,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,s=e.angle;return{x:r+Math.cos(s)*a,y:n+Math.sin(s)*a,angle:s}}}function nae(t){const{chart:e,fill:r,line:n}=t;if(Vt(r))return aae(e,r);if(r==="stack")return Zne(t);if(r==="shape")return!0;const a=sae(t);return a instanceof _6?a:D6(a,n)}function aae(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function sae(t){return(t.scale||{}).getPointPositionForValue?iae(t):oae(t)}function oae(t){const{scale:e={},fill:r}=t,n=Jne(r,e);if(Vt(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function iae(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,s=n.reverse?e.max:e.min,i=Xne(r,e,s),l=[];if(n.grid.circular){const c=e.getPointPositionForValue(0,s);return new _6({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(i)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,i));return l}function O1(t,e,r){const n=nae(e),{chart:a,index:s,line:i,scale:l,axis:c}=e,u=i.options,d=u.fill,f=u.backgroundColor,{above:m=f,below:h=f}=d||{},g=a.getDatasetMeta(s),y=h6(a,g);n&&i.points.length&&(tv(t,r),lae(t,{line:i,target:n,above:m,below:h,area:r,scale:l,axis:c,clip:y}),rv(t))}function lae(t,e){const{line:r,target:n,above:a,below:s,area:i,scale:l,clip:c}=e,u=r._loop?"angle":e.axis;t.save();let d=s;s!==a&&(u==="x"?(BD(t,n,i.top),E1(t,{line:r,target:n,color:a,scale:l,property:u,clip:c}),t.restore(),t.save(),BD(t,n,i.bottom)):u==="y"&&(qD(t,n,i.left),E1(t,{line:r,target:n,color:s,scale:l,property:u,clip:c}),t.restore(),t.save(),qD(t,n,i.right),d=a)),E1(t,{line:r,target:n,color:d,scale:l,property:u,clip:c}),t.restore()}function BD(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[sv(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,r),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function qD(t,e,r){const{segments:n,points:a}=e;let s=!0,i=!1;t.beginPath();for(const l of n){const{start:c,end:u}=l,d=a[c],f=a[sv(c,u,a)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(r,d.y),t.lineTo(d.x,d.y)),i=!!e.pathSegment(t,l,{move:i}),i?t.closePath():t.lineTo(r,f.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function E1(t,e){const{line:r,target:n,property:a,color:s,scale:i,clip:l}=e,c=Wne(r,n,a);for(const{source:u,target:d,start:f,end:m}of c){const{style:{backgroundColor:h=s}={}}=u,g=n!==!0;t.save(),t.fillStyle=h,cae(t,i,l,g&&VS(a,f,m)),t.beginPath();const y=!!r.pathSegment(t,u);let x;if(g){y?t.closePath():VD(t,n,m,a);const p=!!n.pathSegment(t,d,{move:y,reverse:!0});x=y&&p,x||VD(t,n,f,a)}t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}function cae(t,e,r,n){const a=e.chart.chartArea,{property:s,start:i,end:l}=n||{};if(s==="x"||s==="y"){let c,u,d,f;s==="x"?(c=i,u=a.top,d=l,f=a.bottom):(c=a.left,u=i,d=a.right,f=l),t.beginPath(),r&&(c=Math.max(c,r.left),d=Math.min(d,r.right),u=Math.max(u,r.top),f=Math.min(f,r.bottom)),t.rect(c,u,d-c,f-u),t.clip()}}function VD(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var uae={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let s,i,l,c;for(i=0;i<n;++i)s=t.getDatasetMeta(i),l=s.dataset,c=null,l&&l.options&&l instanceof so&&(c={visible:t.isDatasetVisible(i),index:i,fill:Yne(l,i,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(i=0;i<n;++i)c=a[i],!(!c||c.fill===!1)&&(c.fill=Gne(a,i,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let i=a.length-1;i>=0;--i){const l=a[i].$filler;l&&(l.line.updateControlPoints(s,l.axis),n&&l.fill&&O1(t.ctx,l,s))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const s=n[a].$filler;FD(s)&&O1(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!FD(n)||r.drawTime!=="beforeDatasetDraw"||O1(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const UD=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},dae=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let zD=class extends Ps{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=yt(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=rr(n.font),s=a.size,i=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=UD(n,s);let u,d;r.font=a.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(i,s,l,c)+10):(d=this.maxHeight,u=this._fitCols(i,a,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:s,maxWidth:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],d=a+l;let f=e;s.textAlign="left",s.textBaseline="middle";let m=-1,h=-d;return this.legendItems.forEach((g,y)=>{const x=n+r/2+s.measureText(g.text).width;(y===0||u[u.length-1]+x+2*l>i)&&(f+=d,u[u.length-(y>0?0:1)]=0,h+=d,m++),c[y]={left:0,top:h,row:m,width:x,height:a},u[u.length-1]+=x+l}),f}_fitCols(e,r,n,a){const{ctx:s,maxHeight:i,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],d=i-e;let f=l,m=0,h=0,g=0,y=0;return this.legendItems.forEach((x,p)=>{const{itemWidth:b,itemHeight:N}=fae(n,r,s,x,a);p>0&&h+N+2*l>d&&(f+=m+l,u.push({width:m,height:h}),g+=m+l,y++,m=h=0),c[p]={left:g,top:h,col:y,width:b,height:N},m=Math.max(m,b),h+=N+l}),f+=m,u.push({width:m,height:h}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:s}}=this,i=Xl(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=Ar(n,this.left+a,this.right-this.lineWidths[l]);for(const u of r)l!==u.row&&(l=u.row,c=Ar(n,this.left+a,this.right-this.lineWidths[l])),u.top+=this.top+e+a,u.left=i.leftForLtr(i.x(c),u.width),c+=u.width+a}else{let l=0,c=Ar(n,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const u of r)u.col!==l&&(l=u.col,c=Ar(n,this.top+e+a,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+a,u.left=i.leftForLtr(i.x(u.left),u.width),c+=u.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tv(e,this),this._draw(),rv(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:s,labels:i}=e,l=It.color,c=Xl(e.rtl,this.left,this.width),u=rr(i.font),{padding:d}=i,f=u.size,m=f/2;let h;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=u.string;const{boxWidth:g,boxHeight:y,itemHeight:x}=UD(i,f),p=function(w,S,T){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;a.save();const k=Re(T.lineWidth,1);if(a.fillStyle=Re(T.fillStyle,l),a.lineCap=Re(T.lineCap,"butt"),a.lineDashOffset=Re(T.lineDashOffset,0),a.lineJoin=Re(T.lineJoin,"miter"),a.lineWidth=k,a.strokeStyle=Re(T.strokeStyle,l),a.setLineDash(Re(T.lineDash,[])),i.usePointStyle){const I={radius:y*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:k},E=c.xPlus(w,g/2),P=S+m;t6(a,I,E,P,i.pointStyleWidth&&g)}else{const I=S+Math.max((f-y)/2,0),E=c.leftForLtr(w,g),P=Ti(T.borderRadius);a.beginPath(),Object.values(P).some(L=>L!==0)?wf(a,{x:E,y:I,w:g,h:y,radius:P}):a.rect(E,I,g,y),a.fill(),k!==0&&a.stroke()}a.restore()},b=function(w,S,T){Wi(a,T.text,w,S+x/2,u,{strikethrough:T.hidden,textAlign:c.textAlign(T.textAlign)})},N=this.isHorizontal(),C=this._computeTitleHeight();N?h={x:Ar(s,this.left+d,this.right-n[0]),y:this.top+d+C,line:0}:h={x:this.left+d,y:Ar(s,this.top+C+d,this.bottom-r[0].height),line:0},c6(this.ctx,e.textDirection);const j=x+d;this.legendItems.forEach((w,S)=>{a.strokeStyle=w.fontColor,a.fillStyle=w.fontColor;const T=a.measureText(w.text).width,k=c.textAlign(w.textAlign||(w.textAlign=i.textAlign)),I=g+m+T;let E=h.x,P=h.y;c.setWidth(this.width),N?S>0&&E+I+d>this.right&&(P=h.y+=j,h.line++,E=h.x=Ar(s,this.left+d,this.right-n[h.line])):S>0&&P+j>this.bottom&&(E=h.x=E+r[h.line].width+d,h.line++,P=h.y=Ar(s,this.top+C+d,this.bottom-r[h.line].height));const L=c.x(E);if(p(L,P,w),E=Iee(k,E+g+m,N?E+I:this.right,e.rtl),b(c.x(E),P,w),N)h.x+=I+d;else if(typeof w.text!="string"){const $=u.lineHeight;h.y+=$6(w,$)+d}else h.y+=j}),u6(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=rr(r.font),a=Pr(r.padding);if(!r.display)return;const s=Xl(e.rtl,this.left,this.width),i=this.ctx,l=r.position,c=n.size/2,u=a.top+c;let d,f=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+u,f=Ar(e.align,f,this.right-m);else{const g=this.columnSizes.reduce((y,x)=>Math.max(y,x.height),0);d=u+Ar(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const h=Ar(l,f,f+m);i.textAlign=s.textAlign(zk(l)),i.textBaseline="middle",i.strokeStyle=r.color,i.fillStyle=r.color,i.font=n.string,Wi(i,r.text,h,d,n)}_computeTitleHeight(){const e=this.options.title,r=rr(e.font),n=Pr(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,s;if(as(e,this.left,this.right)&&as(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(a=s[n],as(e,a.left,a.left+a.width)&&as(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!pae(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,s=dae(a,n);a&&!s&&yt(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&yt(r.onHover,[e,n,this],this)}else n&&yt(r.onClick,[e,n,this],this)}};function fae(t,e,r,n,a){const s=mae(n,t,e,r),i=hae(a,n,e.lineHeight);return{itemWidth:s,itemHeight:i}}function mae(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((s,i)=>s.length>i.length?s:i)),e+r.size/2+n.measureText(a).width}function hae(t,e,r){let n=t;return typeof e.text!="string"&&(n=$6(e,r)),n}function $6(t,e){const r=t.text?t.text.length:0;return e*r}function pae(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var gae={id:"legend",_element:zD,start(t,e,r){const n=t.legend=new zD({ctx:t.ctx,options:r,chart:t});Er.configure(t,n,r),Er.addBox(t,n)},stop(t){Er.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Er.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:s,useBorderRadius:i,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(r?0:void 0),d=Pr(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:a||u.textAlign,borderRadius:i&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Zk extends Ps{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=Ot(n.text)?n.text.length:1;this._padding=Pr(n.padding);const s=a*rr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:s,options:i}=this,l=i.align;let c=0,u,d,f;return this.isHorizontal()?(d=Ar(l,n,s),f=r+e,u=s-n):(i.position==="left"?(d=n+e,f=Ar(l,a,r),c=Je*-.5):(d=s-e,f=Ar(l,r,a),c=Je*.5),u=a-r),{titleX:d,titleY:f,maxWidth:u,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=rr(r.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(s);Wi(e,r.text,0,0,n,{color:r.color,maxWidth:c,rotation:u,textAlign:zk(r.align),textBaseline:"middle",translation:[i,l]})}}function yae(t,e){const r=new Zk({ctx:t.ctx,options:e,chart:t});Er.configure(t,r,e),Er.addBox(t,r),t.titleBlock=r}var bae={id:"title",_element:Zk,start(t,e,r){yae(t,r)},stop(t){const e=t.titleBlock;Er.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Er.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ph=new WeakMap;var xae={id:"subtitle",start(t,e,r){const n=new Zk({ctx:t.ctx,options:r,chart:t});Er.configure(t,n,r),Er.addBox(t,n),Ph.set(t,n)},stop(t){Er.removeBox(t,Ph.get(t)),Ph.delete(t)},beforeUpdate(t,e,r){const n=Ph.get(t);Er.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const id={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,s=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),a+=c.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((l,c)=>l+c)/n.size,y:a/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,s,i,l;for(s=0,i=t.length;s<i;++s){const c=t[s].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),d=_S(e,u);d<a&&(a=d,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,n=c.y}return{x:r,y:n}}};function ya(t,e){return e&&(Ot(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ya(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function vae(t,e){const{element:r,datasetIndex:n,index:a}=e,s=t.getDatasetMeta(n).controller,{label:i,value:l}=s.getLabelAndValue(a);return{chart:t,label:i,parsed:s.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function WD(t,e){const r=t.chart.ctx,{body:n,footer:a,title:s}=t,{boxWidth:i,boxHeight:l}=e,c=rr(e.bodyFont),u=rr(e.titleFont),d=rr(e.footerFont),f=s.length,m=a.length,h=n.length,g=Pr(e.padding);let y=g.height,x=0,p=n.reduce((C,j)=>C+j.before.length+j.lines.length+j.after.length,0);if(p+=t.beforeBody.length+t.afterBody.length,f&&(y+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),p){const C=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;y+=h*C+(p-h)*c.lineHeight+(p-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let b=0;const N=function(C){x=Math.max(x,r.measureText(C).width+b)};return r.save(),r.font=u.string,st(t.title,N),r.font=c.string,st(t.beforeBody.concat(t.afterBody),N),b=e.displayColors?i+2+e.boxPadding:0,st(n,C=>{st(C.before,N),st(C.lines,N),st(C.after,N)}),b=0,r.font=d.string,st(t.footer,N),r.restore(),x+=g.width,{width:x,height:y}}function jae(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function wae(t,e,r,n){const{x:a,width:s}=n,i=r.caretSize+r.caretPadding;if(t==="left"&&a+s+i>e.width||t==="right"&&a-s-i<0)return!0}function Nae(t,e,r,n){const{x:a,width:s}=r,{width:i,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=a<=(l+c)/2?"left":"right":a<=s/2?u="left":a>=i-s/2&&(u="right"),wae(u,t,e,r)&&(u="center"),u}function HD(t,e,r){const n=r.yAlign||e.yAlign||jae(t,r);return{xAlign:r.xAlign||e.xAlign||Nae(t,e,r,n),yAlign:n}}function Cae(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Sae(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function GD(t,e,r,n){const{caretSize:a,caretPadding:s,cornerRadius:i}=t,{xAlign:l,yAlign:c}=r,u=a+s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:h}=Ti(i);let g=Cae(e,l);const y=Sae(e,c,u);return c==="center"?l==="left"?g+=u:l==="right"&&(g-=u):l==="left"?g-=Math.max(d,m)+a:l==="right"&&(g+=Math.max(f,h)+a),{x:cr(g,0,n.width-e.width),y:cr(y,0,n.height-e.height)}}function Dh(t,e,r){const n=Pr(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function YD(t){return ya([],Ya(t))}function Aae(t,e,r){return Bo(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function KD(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const R6={beforeTitle:za,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:za,beforeBody:za,beforeLabel:za,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return ze(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:za,afterBody:za,beforeFooter:za,footer:za,afterFooter:za};function Lr(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?R6[e].call(r,n):a}var bC;let JD=(bC=class extends Ps{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,s=new p6(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Aae(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Lr(n,"beforeTitle",this,e),s=Lr(n,"title",this,e),i=Lr(n,"afterTitle",this,e);let l=[];return l=ya(l,Ya(a)),l=ya(l,Ya(s)),l=ya(l,Ya(i)),l}getBeforeBody(e,r){return YD(Lr(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return st(e,s=>{const i={before:[],lines:[],after:[]},l=KD(n,s);ya(i.before,Ya(Lr(l,"beforeLabel",this,s))),ya(i.lines,Lr(l,"label",this,s)),ya(i.after,Ya(Lr(l,"afterLabel",this,s))),a.push(i)}),a}getAfterBody(e,r){return YD(Lr(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Lr(n,"beforeFooter",this,e),s=Lr(n,"footer",this,e),i=Lr(n,"afterFooter",this,e);let l=[];return l=ya(l,Ya(a)),l=ya(l,Ya(s)),l=ya(l,Ya(i)),l}_createItems(e){const r=this._active,n=this.chart.data,a=[],s=[],i=[];let l=[],c,u;for(c=0,u=r.length;c<u;++c)l.push(vae(this.chart,r[c]));return e.filter&&(l=l.filter((d,f,m)=>e.filter(d,f,m,n))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,n))),st(l,d=>{const f=KD(e.callbacks,d);a.push(Lr(f,"labelColor",this,d)),s.push(Lr(f,"labelPointStyle",this,d)),i.push(Lr(f,"labelTextColor",this,d))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=i,this.dataPoints=l,l}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let s,i=[];if(!a.length)this.opacity!==0&&(s={opacity:0});else{const l=id[n.position].call(this,a,this._eventPosition);i=this._createItems(n),this.title=this.getTitle(i,n),this.beforeBody=this.getBeforeBody(i,n),this.body=this.getBody(i,n),this.afterBody=this.getAfterBody(i,n),this.footer=this.getFooter(i,n);const c=this._size=WD(this,n),u=Object.assign({},l,c),d=HD(this.chart,n,u),f=GD(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=i,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const s=this.getCaretPosition(e,n,a);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:s}=this,{caretSize:i,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=Ti(l),{x:m,y:h}=e,{width:g,height:y}=r;let x,p,b,N,C,j;return s==="center"?(C=h+y/2,a==="left"?(x=m,p=x-i,N=C+i,j=C-i):(x=m+g,p=x+i,N=C-i,j=C+i),b=x):(a==="left"?p=m+Math.max(c,d)+i:a==="right"?p=m+g-Math.max(u,f)-i:p=this.caretX,s==="top"?(N=h,C=N-i,x=p-i,b=p+i):(N=h+y,C=N+i,x=p+i,b=p-i),j=N),{x1:x,x2:p,x3:b,y1:N,y2:C,y3:j}}drawTitle(e,r,n){const a=this.title,s=a.length;let i,l,c;if(s){const u=Xl(n.rtl,this.x,this.width);for(e.x=Dh(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",i=rr(n.titleFont),l=n.titleSpacing,r.fillStyle=n.titleColor,r.font=i.string,c=0;c<s;++c)r.fillText(a[c],u.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+l,c+1===s&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,r,n,a,s){const i=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=s,d=rr(s.bodyFont),f=Dh(this,"left",s),m=a.x(f),h=c<d.lineHeight?(d.lineHeight-c)/2:0,g=r.y+h;if(s.usePointStyle){const y={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},x=a.leftForLtr(m,u)+u/2,p=g+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,RS(e,y,x,p),e.strokeStyle=i.borderColor,e.fillStyle=i.backgroundColor,RS(e,y,x,p)}else{e.lineWidth=He(i.borderWidth)?Math.max(...Object.values(i.borderWidth)):i.borderWidth||1,e.strokeStyle=i.borderColor,e.setLineDash(i.borderDash||[]),e.lineDashOffset=i.borderDashOffset||0;const y=a.leftForLtr(m,u),x=a.leftForLtr(a.xPlus(m,1),u-2),p=Ti(i.borderRadius);Object.values(p).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,wf(e,{x:y,y:g,w:u,h:c,radius:p}),e.fill(),e.stroke(),e.fillStyle=i.backgroundColor,e.beginPath(),wf(e,{x,y:g+1,w:u-2,h:c-2,radius:p}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,g,u,c),e.strokeRect(y,g,u,c),e.fillStyle=i.backgroundColor,e.fillRect(x,g+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:s,bodyAlign:i,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=n,f=rr(n.bodyFont);let m=f.lineHeight,h=0;const g=Xl(n.rtl,this.x,this.width),y=function(T){r.fillText(T,g.x(e.x+h),e.y+m/2),e.y+=m+s},x=g.textAlign(i);let p,b,N,C,j,w,S;for(r.textAlign=i,r.textBaseline="middle",r.font=f.string,e.x=Dh(this,x,n),r.fillStyle=n.bodyColor,st(this.beforeBody,y),h=l&&x!=="right"?i==="center"?u/2+d:u+2+d:0,C=0,w=a.length;C<w;++C){for(p=a[C],b=this.labelTextColors[C],r.fillStyle=b,st(p.before,y),N=p.lines,l&&N.length&&(this._drawColorBox(r,e,C,g,n),m=Math.max(f.lineHeight,c)),j=0,S=N.length;j<S;++j)y(N[j]),m=f.lineHeight;st(p.after,y)}h=0,m=f.lineHeight,st(this.afterBody,y),e.y-=s}drawFooter(e,r,n){const a=this.footer,s=a.length;let i,l;if(s){const c=Xl(n.rtl,this.x,this.width);for(e.x=Dh(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=c.textAlign(n.footerAlign),r.textBaseline="middle",i=rr(n.footerFont),r.fillStyle=n.footerColor,r.font=i.string,l=0;l<s;++l)r.fillText(a[l],c.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:s,yAlign:i}=this,{x:l,y:c}=e,{width:u,height:d}=n,{topLeft:f,topRight:m,bottomLeft:h,bottomRight:g}=Ti(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+f,c),i==="top"&&this.drawCaret(e,r,n,a),r.lineTo(l+u-m,c),r.quadraticCurveTo(l+u,c,l+u,c+m),i==="center"&&s==="right"&&this.drawCaret(e,r,n,a),r.lineTo(l+u,c+d-g),r.quadraticCurveTo(l+u,c+d,l+u-g,c+d),i==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(l+h,c+d),r.quadraticCurveTo(l,c+d,l,c+d-h),i==="center"&&s==="left"&&this.drawCaret(e,r,n,a),r.lineTo(l,c+f),r.quadraticCurveTo(l,c,l+f,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,s=n&&n.y;if(a||s){const i=id[e.position].call(this,this._active,this._eventPosition);if(!i)return;const l=this._size=WD(this,e),c=Object.assign({},i,this._size),u=HD(r,e,c),d=GD(e,c,u,r);(a._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const i=Pr(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,a,r),c6(e,r.textDirection),s.y+=i.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),u6(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!c0(n,a),i=this._positionChanged(a,r);(s||i)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],i=this._getActiveElements(e,s,r,n),l=this._positionChanged(i,e),c=r||!c0(i,s)||l;return c&&(this._active=i,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,n,a){const s=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const i=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&i.reverse(),i}_positionChanged(e,r){const{caretX:n,caretY:a,options:s}=this,i=id[s.position].call(this,e,r);return i!==!1&&(n!==i.x||a!==i.y)}},me(bC,"positioners",id),bC);var Tae={id:"tooltip",_element:JD,positioners:id,afterInit(t,e,r){r&&(t.tooltip=new JD({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:R6},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},kae=Object.freeze({__proto__:null,Colors:Bne,Decimation:zne,Filler:uae,Legend:gae,SubTitle:xae,Title:bae,Tooltip:Tae});const Oae=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Eae(t,e,r,n){const a=t.indexOf(e);if(a===-1)return Oae(t,e,r,n);const s=t.lastIndexOf(e);return a!==s?r:a}const Iae=(t,e)=>t===null?null:cr(Math.round(t),0,e);function XD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class US extends al{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:s}of r)n[a]===s&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(ze(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Eae(n,e,Re(r,e),this._addedLabels),Iae(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let i=e;i<=r;i++)a.push({value:i});return a}getLabelForValue(e){return XD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}me(US,"id","category"),me(US,"defaults",{ticks:{callback:XD}});function Pae(t,e){const r=[],{bounds:a,step:s,min:i,max:l,precision:c,count:u,maxTicks:d,maxDigits:f,includeBounds:m}=t,h=s||1,g=d-1,{min:y,max:x}=e,p=!ze(i),b=!ze(l),N=!ze(u),C=(x-y)/(f+1);let j=WP((x-y)/g/h)*h,w,S,T,k;if(j<1e-14&&!p&&!b)return[{value:y},{value:x}];k=Math.ceil(x/j)-Math.floor(y/j),k>g&&(j=WP(k*j/g/h)*h),ze(c)||(w=Math.pow(10,c),j=Math.ceil(j*w)/w),a==="ticks"?(S=Math.floor(y/j)*j,T=Math.ceil(x/j)*j):(S=y,T=x),p&&b&&s&&Cee((l-i)/s,j/1e3)?(k=Math.round(Math.min((l-i)/j,d)),j=(l-i)/k,S=i,T=l):N?(S=p?i:S,T=b?l:T,k=u-1,j=(T-S)/k):(k=(T-S)/j,Ad(k,Math.round(k),j/1e3)?k=Math.round(k):k=Math.ceil(k));const I=Math.max(HP(j),HP(S));w=Math.pow(10,ze(c)?I:c),S=Math.round(S*w)/w,T=Math.round(T*w)/w;let E=0;for(p&&(m&&S!==i?(r.push({value:i}),S<i&&E++,Ad(Math.round((S+E*j)*w)/w,i,QD(i,C,t))&&E++):S<i&&E++);E<k;++E){const P=Math.round((S+E*j)*w)/w;if(b&&P>l)break;r.push({value:P})}return b&&m&&T!==l?r.length&&Ad(r[r.length-1].value,l,QD(l,C,t))?r[r.length-1].value=l:r.push({value:l}):(!b||T===l)&&r.push({value:T}),r}function QD(t,e,{horizontal:r,minRotation:n}){const a=na(n),s=(r?Math.sin(a):Math.cos(a))||.001,i=.75*e*(""+t).length;return Math.min(e/s,i)}class g0 extends al{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:s}=this;const i=c=>a=r?a:c,l=c=>s=n?s:c;if(e){const c=Oa(a),u=Oa(s);c<0&&u<0?l(0):c>0&&u>0&&i(0)}if(a===s){let c=s===0?1:Math.abs(s*.05);l(s+c),e||i(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,i=Pae(a,s);return e.bounds==="ticks"&&HB(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Em(e,this.chart.options.locale,this.options.ticks.format)}}class zS extends g0{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Vt(e)?e:0,this.max=Vt(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=na(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}me(zS,"id","linear"),me(zS,"defaults",{ticks:{callback:ev.formatters.numeric}});const Cf=t=>Math.floor(ao(t)),Zo=(t,e)=>Math.pow(10,Cf(t)+e);function ZD(t){return t/Math.pow(10,Cf(t))===1}function e_(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function Dae(t,e){const r=e-t;let n=Cf(r);for(;e_(t,e,n)>10;)n++;for(;e_(t,e,n)<10;)n--;return Math.min(n,Cf(t))}function _ae(t,{min:e,max:r}){e=nn(t.min,e);const n=[],a=Cf(e);let s=Dae(e,r),i=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,u=Math.round((e-c)*i)/i,d=Math.floor((e-c)/l/10)*l*10;let f=Math.floor((u-d)/Math.pow(10,s)),m=nn(t.min,Math.round((c+d+f*Math.pow(10,s))*i)/i);for(;m<r;)n.push({value:m,major:ZD(m),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(s++,f=2,i=s>=0?1:i),m=Math.round((c+d+f*Math.pow(10,s))*i)/i;const h=nn(t.max,m);return n.push({value:h,major:ZD(h),significand:f}),n}class WS extends al{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=g0.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return Vt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Vt(e)?Math.max(0,e):null,this.max=Vt(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Vt(this._userMin)&&(this.min=e===Zo(this.min,0)?Zo(this.min,-1):Zo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const s=l=>n=e?n:l,i=l=>a=r?a:l;n===a&&(n<=0?(s(1),i(10)):(s(Zo(n,-1)),i(Zo(a,1)))),n<=0&&s(Zo(a,-1)),a<=0&&i(Zo(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=_ae(r,this);return e.bounds==="ticks"&&HB(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Em(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ao(e),this._valueRange=ao(this.max)-ao(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ao(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}me(WS,"id","logarithmic"),me(WS,"defaults",{ticks:{callback:ev.formatters.logarithmic,major:{enabled:!0}}});function HS(t){const e=t.ticks;if(e.display&&t.display){const r=Pr(e.backdropPadding);return Re(e.font&&e.font.size,It.font.size)+r.height}return 0}function $ae(t,e,r){return r=Ot(r)?r:[r],{w:qee(t,e.string,r),h:r.length*e.lineHeight}}function t_(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function Rae(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],s=t._pointLabels.length,i=t.options.pointLabels,l=i.centerPointLabels?Je/s:0;for(let c=0;c<s;c++){const u=i.setContext(t.getPointLabelContext(c));a[c]=u.padding;const d=t.getPointPosition(c,t.drawingArea+a[c],l),f=rr(u.font),m=$ae(t.ctx,f,t._pointLabels[c]);n[c]=m;const h=Tr(t.getIndexAngle(c)+l),g=Math.round(Vk(h)),y=t_(g,d.x,m.w,0,180),x=t_(g,d.y,m.h,90,270);Mae(r,e,h,y,x)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=Bae(t,n,a)}function Mae(t,e,r,n,a){const s=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let l=0,c=0;n.start<e.l?(l=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-l)):n.end>e.r&&(l=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/i,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/i,t.b=Math.max(t.b,e.b+c))}function Lae(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:s,padding:i,size:l}=r,c=t.getPointPosition(e,n+a+i,s),u=Math.round(Vk(Tr(c.angle+Gt))),d=Uae(c.y,l.h,u),f=qae(u),m=Vae(c.x,l.w,f);return{visible:!0,x:c.x,y:d,textAlign:f,left:m,top:d,right:m+l.w,bottom:d+l.h}}function Fae(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:s}=t;return!(os({x:r,y:n},e)||os({x:r,y:s},e)||os({x:a,y:n},e)||os({x:a,y:s},e))}function Bae(t,e,r){const n=[],a=t._pointLabels.length,s=t.options,{centerPointLabels:i,display:l}=s.pointLabels,c={extra:HS(s)/2,additionalAngle:i?Je/a:0};let u;for(let d=0;d<a;d++){c.padding=r[d],c.size=e[d];const f=Lae(t,d,c);n.push(f),l==="auto"&&(f.visible=Fae(f,u),f.visible&&(u=f))}return n}function qae(t){return t===0||t===180?"center":t<180?"left":"right"}function Vae(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Uae(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function zae(t,e,r){const{left:n,top:a,right:s,bottom:i}=r,{backdropColor:l}=e;if(!ze(l)){const c=Ti(e.borderRadius),u=Pr(e.backdropPadding);t.fillStyle=l;const d=n-u.left,f=a-u.top,m=s-n+u.width,h=i-a+u.height;Object.values(c).some(g=>g!==0)?(t.beginPath(),wf(t,{x:d,y:f,w:m,h,radius:c}),t.fill()):t.fillRect(d,f,m,h)}}function Wae(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const s=t._pointLabelItems[a];if(!s.visible)continue;const i=n.setContext(t.getPointLabelContext(a));zae(r,i,s);const l=rr(i.font),{x:c,y:u,textAlign:d}=s;Wi(r,t._pointLabels[a],c,u+l.lineHeight/2,l,{color:i.color,textAlign:d,textBaseline:"middle"})}}function M6(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Tt);else{let s=t.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let i=1;i<n;i++)s=t.getPointPosition(i,e),a.lineTo(s.x,s.y)}}function Hae(t,e,r,n,a){const s=t.ctx,i=e.circular,{color:l,lineWidth:c}=e;!i&&!n||!l||!c||r<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),M6(t,r,i,n),s.closePath(),s.stroke(),s.restore())}function Gae(t,e,r){return Bo(t,{label:r,index:e,type:"pointLabel"})}class ld extends g0{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Pr(HS(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=Vt(e)&&!isNaN(e)?e:0,this.max=Vt(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/HS(this.options))}generateTickLabels(e){g0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=yt(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Rae(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Tt/(this._pointLabels.length||1),n=this.options.startAngle||0;return Tr(e*r+na(n))}getDistanceFromCenterForValue(e){if(ze(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(ze(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return Gae(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Gt+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),M6(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:s}=r,i=this._pointLabels.length;let l,c,u;if(r.pointLabels.display&&Wae(this,i),a.display&&this.ticks.forEach((d,f)=>{if(f!==0||f===0&&this.min<0){c=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(f),h=a.setContext(m),g=s.setContext(m);Hae(this,h,c,i,g)}}),n.display){for(e.save(),l=i-1;l>=0;l--){const d=n.setContext(this.getPointLabelContext(l)),{color:f,lineWidth:m}=d;!m||!f||(e.lineWidth=m,e.strokeStyle=f,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let s,i;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(c)),d=rr(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),u.showLabelBackdrop){e.font=d.string,i=e.measureText(l.label).width,e.fillStyle=u.backdropColor;const f=Pr(u.backdropPadding);e.fillRect(-i/2-f.left,-s-d.size/2-f.top,i+f.width,d.size+f.height)}Wi(e,l.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}me(ld,"id","radialLinear"),me(ld,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ev.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),me(ld,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),me(ld,"descriptors",{angleLines:{_fallback:"grid"}});const ov={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ur=Object.keys(ov);function r_(t,e){return t-e}function n_(t,e){if(ze(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:s}=t._parseOpts;let i=e;return typeof n=="function"&&(i=n(i)),Vt(i)||(i=typeof n=="string"?r.parse(i,n):r.parse(i)),i===null?null:(a&&(i=a==="week"&&(jc(s)||s===!0)?r.startOf(i,"isoWeek",s):r.startOf(i,a)),+i)}function a_(t,e,r,n){const a=Ur.length;for(let s=Ur.indexOf(t);s<a-1;++s){const i=ov[Ur[s]],l=i.steps?i.steps:Number.MAX_SAFE_INTEGER;if(i.common&&Math.ceil((r-e)/(l*i.size))<=n)return Ur[s]}return Ur[a-1]}function Yae(t,e,r,n,a){for(let s=Ur.length-1;s>=Ur.indexOf(r);s--){const i=Ur[s];if(ov[i].common&&t._adapter.diff(a,n,i)>=e-1)return i}return Ur[r?Ur.indexOf(r):0]}function Kae(t){for(let e=Ur.indexOf(t)+1,r=Ur.length;e<r;++e)if(ov[Ur[e]].common)return Ur[e]}function s_(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=Uk(r,e),s=r[n]>=e?r[n]:r[a];t[s]=!0}}function Jae(t,e,r,n){const a=t._adapter,s=+a.startOf(e[0].value,n),i=e[e.length-1].value;let l,c;for(l=s;l<=i;l=+a.add(l,1,n))c=r[l],c>=0&&(e[c].major=!0);return e}function o_(t,e,r){const n=[],a={},s=e.length;let i,l;for(i=0;i<s;++i)l=e[i],a[l]=i,n.push({value:l,major:!1});return s===0||!r?n:Jae(t,n,a,r)}class Sf extends al{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new are._date(e.adapters.date);a.init(r),Sd(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:n_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:s,minDefined:i,maxDefined:l}=this.getUserBounds();function c(u){!i&&!isNaN(u.min)&&(a=Math.min(a,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!i||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Vt(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),s=Vt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,i=this.max,l=kee(a,s,i);return this._unit=r.unit||(n.autoSkip?a_(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Yae(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Kae(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),o_(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,s;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const i=e.length<3?.5:.25;r=cr(r,0,i),n=cr(n,0,i),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,s=a.time,i=s.unit||a_(s.minUnit,r,n,this._getLabelCapacity(r)),l=Re(a.ticks.stepSize,1),c=i==="week"?s.isoWeekday:!1,u=jc(c)||c===!0,d={};let f=r,m,h;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":i),e.diff(n,r,i)>1e5*l)throw new Error(r+" and "+n+" are too far apart with stepSize of "+l+" "+i);const g=a.ticks.source==="data"&&this.getDataTimestamps();for(m=f,h=0;m<n;m=+e.add(m,l,i),h++)s_(d,m,g);return(m===n||a.bounds==="ticks"||h===1)&&s_(d,m,g),Object.keys(d).sort(r_).map(y=>+y)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,s=this._unit,i=r||a[s];return this._adapter.format(e,i)}_tickFormatFunction(e,r,n,a){const s=this.options,i=s.ticks.callback;if(i)return yt(i,[e,r,n],this);const l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],f=u&&l[u],m=n[r],h=u&&f&&m&&m.major;return this._adapter.format(e,a||(h?f:d))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=na(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(a),i=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:n*s+l*i,h:n*i+l*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,o_(this,[e],this._majorUnit),a),i=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/i.w:this.height/i.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(n_(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return KB(e.sort(r_))}}me(Sf,"id","time"),me(Sf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function _h(t,e,r){let n=0,a=t.length-1,s,i,l,c;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=ss(t,"pos",e)),{pos:s,time:l}=t[n],{pos:i,time:c}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=ss(t,"time",e)),{time:s,pos:l}=t[n],{time:i,pos:c}=t[a]);const u=i-s;return u?l+(c-l)*(e-s)/u:l}class GS extends Sf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=_h(r,this.min),this._tableRange=_h(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],s=[];let i,l,c,u,d;for(i=0,l=e.length;i<l;++i)u=e[i],u>=r&&u<=n&&a.push(u);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(i=0,l=a.length;i<l;++i)d=a[i+1],c=a[i-1],u=a[i],Math.round((d+c)/2)!==u&&s.push({time:u,pos:i/(l-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(_h(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return _h(this._table,n*this._tableRange+this._minPos,!0)}}me(GS,"id","timeseries"),me(GS,"defaults",Sf.defaults);var Xae=Object.freeze({__proto__:null,CategoryScale:US,LinearScale:zS,LogarithmicScale:WS,RadialLinearScale:ld,TimeScale:Sf,TimeSeriesScale:GS});const Qae=[nre,Dne,kae,Xae];Gs.register(...Qae);const Zae=[{name:"Settings",icon:o.jsx(oB,{className:"h-6 w-6"}),path:"/settings/departments"},{name:"Disbursement",icon:o.jsx(oJ,{className:"h-6 w-6"}),path:"/disbursement/obligation-requests"},{name:"Collections",icon:o.jsx(NJ,{className:"h-6 w-6"}),path:"/collections/community-tax"},{name:"Budget",icon:o.jsx(SP,{className:"h-6 w-6"}),path:"/budget/details"},{name:"Applications",icon:o.jsx(SP,{className:"h-6 w-6"}),path:"/applications/business-permits"},{name:"Reports",icon:o.jsx(NS,{className:"h-6 w-6"}),path:"/reports/general-ledger"},{name:"BIR Reports",icon:o.jsx(iB,{className:"h-6 w-6"}),path:"/reports/bir"}];function ese(){const{user:t}=V(n=>n.auth),[e,r]=v.useState(!0);return v.useEffect(()=>{const n=setTimeout(()=>{r(!1)},1e3);return()=>clearTimeout(n)},[]),o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Dashboard"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Welcome back"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Zae.map(n=>o.jsxs(Jl,{to:n.path,className:"bg-white hover:bg-blue-50 border border-gray-200 rounded-xl shadow-md p-5 flex items-center gap-4 transition-transform transform hover:scale-105",children:[o.jsx("div",{className:"text-blue-600 bg-blue-100 p-2 rounded-full",children:n.icon}),o.jsx("span",{className:"text-lg font-medium text-gray-800",children:n.name})]},n.name))})]})}function tse(){return o.jsx("div",{className:"min-h-screen bg-neutral-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsxs("div",{className:"bg-white py-8 px-4 shadow-md sm:rounded-lg sm:px-10 text-center",children:[o.jsx("div",{className:"text-6xl font-bold text-primary-600 mb-4",children:"404"}),o.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-2",children:"Page Not Found"}),o.jsx("p",{className:"text-neutral-600 mb-6",children:"The page you are looking for doesn't exist or has been moved."}),o.jsx(Jl,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Return to Dashboard"})]})})})}var rse=function(e){return nse(e)&&!ase(e)};function nse(t){return!!t&&typeof t=="object"}function ase(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||ise(t)}var sse=typeof Symbol=="function"&&Symbol.for,ose=sse?Symbol.for("react.element"):60103;function ise(t){return t.$$typeof===ose}function lse(t){return Array.isArray(t)?[]:{}}function y0(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Af(lse(t),t,e):t}function cse(t,e,r){return t.concat(e).map(function(n){return y0(n,r)})}function use(t,e,r){var n={};return r.isMergeableObject(t)&&Object.keys(t).forEach(function(a){n[a]=y0(t[a],r)}),Object.keys(e).forEach(function(a){!r.isMergeableObject(e[a])||!t[a]?n[a]=y0(e[a],r):n[a]=Af(t[a],e[a],r)}),n}function Af(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||cse,r.isMergeableObject=r.isMergeableObject||rse;var n=Array.isArray(e),a=Array.isArray(t),s=n===a;return s?n?r.arrayMerge(t,e,r):use(t,e,r):y0(e,r)}Af.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,a){return Af(n,a,r)},{})};var YS=Af,L6=typeof global=="object"&&global&&global.Object===Object&&global,dse=typeof self=="object"&&self&&self.Object===Object&&self,Ba=L6||dse||Function("return this")(),Io=Ba.Symbol,F6=Object.prototype,fse=F6.hasOwnProperty,mse=F6.toString,_u=Io?Io.toStringTag:void 0;function hse(t){var e=fse.call(t,_u),r=t[_u];try{t[_u]=void 0;var n=!0}catch{}var a=mse.call(t);return n&&(e?t[_u]=r:delete t[_u]),a}var pse=Object.prototype,gse=pse.toString;function yse(t){return gse.call(t)}var bse="[object Null]",xse="[object Undefined]",i_=Io?Io.toStringTag:void 0;function sl(t){return t==null?t===void 0?xse:bse:i_&&i_ in Object(t)?hse(t):yse(t)}function B6(t,e){return function(r){return t(e(r))}}var eO=B6(Object.getPrototypeOf,Object);function ol(t){return t!=null&&typeof t=="object"}var vse="[object Object]",jse=Function.prototype,wse=Object.prototype,q6=jse.toString,Nse=wse.hasOwnProperty,Cse=q6.call(Object);function l_(t){if(!ol(t)||sl(t)!=vse)return!1;var e=eO(t);if(e===null)return!0;var r=Nse.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&q6.call(r)==Cse}function Sse(){this.__data__=[],this.size=0}function V6(t,e){return t===e||t!==t&&e!==e}function iv(t,e){for(var r=t.length;r--;)if(V6(t[r][0],e))return r;return-1}var Ase=Array.prototype,Tse=Ase.splice;function kse(t){var e=this.__data__,r=iv(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Tse.call(e,r,1),--this.size,!0}function Ose(t){var e=this.__data__,r=iv(e,t);return r<0?void 0:e[r][1]}function Ese(t){return iv(this.__data__,t)>-1}function Ise(t,e){var r=this.__data__,n=iv(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Ds(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ds.prototype.clear=Sse;Ds.prototype.delete=kse;Ds.prototype.get=Ose;Ds.prototype.has=Ese;Ds.prototype.set=Ise;function Pse(){this.__data__=new Ds,this.size=0}function Dse(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function _se(t){return this.__data__.get(t)}function $se(t){return this.__data__.has(t)}function Im(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Rse="[object AsyncFunction]",Mse="[object Function]",Lse="[object GeneratorFunction]",Fse="[object Proxy]";function U6(t){if(!Im(t))return!1;var e=sl(t);return e==Mse||e==Lse||e==Rse||e==Fse}var I1=Ba["__core-js_shared__"],c_=function(){var t=/[^.]+$/.exec(I1&&I1.keys&&I1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Bse(t){return!!c_&&c_ in t}var qse=Function.prototype,Vse=qse.toString;function il(t){if(t!=null){try{return Vse.call(t)}catch{}try{return t+""}catch{}}return""}var Use=/[\\^$.*+?()[\]{}|]/g,zse=/^\[object .+?Constructor\]$/,Wse=Function.prototype,Hse=Object.prototype,Gse=Wse.toString,Yse=Hse.hasOwnProperty,Kse=RegExp("^"+Gse.call(Yse).replace(Use,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jse(t){if(!Im(t)||Bse(t))return!1;var e=U6(t)?Kse:zse;return e.test(il(t))}function Xse(t,e){return t==null?void 0:t[e]}function ll(t,e){var r=Xse(t,e);return Jse(r)?r:void 0}var Tf=ll(Ba,"Map"),kf=ll(Object,"create");function Qse(){this.__data__=kf?kf(null):{},this.size=0}function Zse(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var eoe="__lodash_hash_undefined__",toe=Object.prototype,roe=toe.hasOwnProperty;function noe(t){var e=this.__data__;if(kf){var r=e[t];return r===eoe?void 0:r}return roe.call(e,t)?e[t]:void 0}var aoe=Object.prototype,soe=aoe.hasOwnProperty;function ooe(t){var e=this.__data__;return kf?e[t]!==void 0:soe.call(e,t)}var ioe="__lodash_hash_undefined__";function loe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kf&&e===void 0?ioe:e,this}function Hi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Hi.prototype.clear=Qse;Hi.prototype.delete=Zse;Hi.prototype.get=noe;Hi.prototype.has=ooe;Hi.prototype.set=loe;function coe(){this.size=0,this.__data__={hash:new Hi,map:new(Tf||Ds),string:new Hi}}function uoe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function lv(t,e){var r=t.__data__;return uoe(e)?r[typeof e=="string"?"string":"hash"]:r.map}function doe(t){var e=lv(this,t).delete(t);return this.size-=e?1:0,e}function foe(t){return lv(this,t).get(t)}function moe(t){return lv(this,t).has(t)}function hoe(t,e){var r=lv(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function qo(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}qo.prototype.clear=coe;qo.prototype.delete=doe;qo.prototype.get=foe;qo.prototype.has=moe;qo.prototype.set=hoe;var poe=200;function goe(t,e){var r=this.__data__;if(r instanceof Ds){var n=r.__data__;if(!Tf||n.length<poe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new qo(n)}return r.set(t,e),this.size=r.size,this}function eu(t){var e=this.__data__=new Ds(t);this.size=e.size}eu.prototype.clear=Pse;eu.prototype.delete=Dse;eu.prototype.get=_se;eu.prototype.has=$se;eu.prototype.set=goe;function yoe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var u_=function(){try{var t=ll(Object,"defineProperty");return t({},"",{}),t}catch{}}();function z6(t,e,r){e=="__proto__"&&u_?u_(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var boe=Object.prototype,xoe=boe.hasOwnProperty;function W6(t,e,r){var n=t[e];(!(xoe.call(t,e)&&V6(n,r))||r===void 0&&!(e in t))&&z6(t,e,r)}function cv(t,e,r,n){var a=!r;r||(r={});for(var s=-1,i=e.length;++s<i;){var l=e[s],c=void 0;c===void 0&&(c=t[l]),a?z6(r,l,c):W6(r,l,c)}return r}function voe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var joe="[object Arguments]";function d_(t){return ol(t)&&sl(t)==joe}var H6=Object.prototype,woe=H6.hasOwnProperty,Noe=H6.propertyIsEnumerable,Coe=d_(function(){return arguments}())?d_:function(t){return ol(t)&&woe.call(t,"callee")&&!Noe.call(t,"callee")},Pm=Array.isArray;function Soe(){return!1}var G6=typeof dn=="object"&&dn&&!dn.nodeType&&dn,f_=G6&&typeof fn=="object"&&fn&&!fn.nodeType&&fn,Aoe=f_&&f_.exports===G6,m_=Aoe?Ba.Buffer:void 0,Toe=m_?m_.isBuffer:void 0,Y6=Toe||Soe,koe=9007199254740991,Ooe=/^(?:0|[1-9]\d*)$/;function Eoe(t,e){var r=typeof t;return e=e??koe,!!e&&(r=="number"||r!="symbol"&&Ooe.test(t))&&t>-1&&t%1==0&&t<e}var Ioe=9007199254740991;function K6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ioe}var Poe="[object Arguments]",Doe="[object Array]",_oe="[object Boolean]",$oe="[object Date]",Roe="[object Error]",Moe="[object Function]",Loe="[object Map]",Foe="[object Number]",Boe="[object Object]",qoe="[object RegExp]",Voe="[object Set]",Uoe="[object String]",zoe="[object WeakMap]",Woe="[object ArrayBuffer]",Hoe="[object DataView]",Goe="[object Float32Array]",Yoe="[object Float64Array]",Koe="[object Int8Array]",Joe="[object Int16Array]",Xoe="[object Int32Array]",Qoe="[object Uint8Array]",Zoe="[object Uint8ClampedArray]",eie="[object Uint16Array]",tie="[object Uint32Array]",wt={};wt[Goe]=wt[Yoe]=wt[Koe]=wt[Joe]=wt[Xoe]=wt[Qoe]=wt[Zoe]=wt[eie]=wt[tie]=!0;wt[Poe]=wt[Doe]=wt[Woe]=wt[_oe]=wt[Hoe]=wt[$oe]=wt[Roe]=wt[Moe]=wt[Loe]=wt[Foe]=wt[Boe]=wt[qoe]=wt[Voe]=wt[Uoe]=wt[zoe]=!1;function rie(t){return ol(t)&&K6(t.length)&&!!wt[sl(t)]}function tO(t){return function(e){return t(e)}}var J6=typeof dn=="object"&&dn&&!dn.nodeType&&dn,Ed=J6&&typeof fn=="object"&&fn&&!fn.nodeType&&fn,nie=Ed&&Ed.exports===J6,P1=nie&&L6.process,Cc=function(){try{var t=Ed&&Ed.require&&Ed.require("util").types;return t||P1&&P1.binding&&P1.binding("util")}catch{}}(),h_=Cc&&Cc.isTypedArray,aie=h_?tO(h_):rie,sie=Object.prototype,oie=sie.hasOwnProperty;function X6(t,e){var r=Pm(t),n=!r&&Coe(t),a=!r&&!n&&Y6(t),s=!r&&!n&&!a&&aie(t),i=r||n||a||s,l=i?voe(t.length,String):[],c=l.length;for(var u in t)(e||oie.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Eoe(u,c)))&&l.push(u);return l}var iie=Object.prototype;function rO(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||iie;return t===r}var lie=B6(Object.keys,Object),cie=Object.prototype,uie=cie.hasOwnProperty;function die(t){if(!rO(t))return lie(t);var e=[];for(var r in Object(t))uie.call(t,r)&&r!="constructor"&&e.push(r);return e}function Q6(t){return t!=null&&K6(t.length)&&!U6(t)}function nO(t){return Q6(t)?X6(t):die(t)}function fie(t,e){return t&&cv(e,nO(e),t)}function mie(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var hie=Object.prototype,pie=hie.hasOwnProperty;function gie(t){if(!Im(t))return mie(t);var e=rO(t),r=[];for(var n in t)n=="constructor"&&(e||!pie.call(t,n))||r.push(n);return r}function aO(t){return Q6(t)?X6(t,!0):gie(t)}function yie(t,e){return t&&cv(e,aO(e),t)}var Z6=typeof dn=="object"&&dn&&!dn.nodeType&&dn,p_=Z6&&typeof fn=="object"&&fn&&!fn.nodeType&&fn,bie=p_&&p_.exports===Z6,g_=bie?Ba.Buffer:void 0,y_=g_?g_.allocUnsafe:void 0;function xie(t,e){if(e)return t.slice();var r=t.length,n=y_?y_(r):new t.constructor(r);return t.copy(n),n}function eq(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function vie(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}function tq(){return[]}var jie=Object.prototype,wie=jie.propertyIsEnumerable,b_=Object.getOwnPropertySymbols,sO=b_?function(t){return t==null?[]:(t=Object(t),vie(b_(t),function(e){return wie.call(t,e)}))}:tq;function Nie(t,e){return cv(t,sO(t),e)}function rq(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var Cie=Object.getOwnPropertySymbols,nq=Cie?function(t){for(var e=[];t;)rq(e,sO(t)),t=eO(t);return e}:tq;function Sie(t,e){return cv(t,nq(t),e)}function aq(t,e,r){var n=e(t);return Pm(t)?n:rq(n,r(t))}function Aie(t){return aq(t,nO,sO)}function Tie(t){return aq(t,aO,nq)}var KS=ll(Ba,"DataView"),JS=ll(Ba,"Promise"),XS=ll(Ba,"Set"),QS=ll(Ba,"WeakMap"),x_="[object Map]",kie="[object Object]",v_="[object Promise]",j_="[object Set]",w_="[object WeakMap]",N_="[object DataView]",Oie=il(KS),Eie=il(Tf),Iie=il(JS),Pie=il(XS),Die=il(QS),es=sl;(KS&&es(new KS(new ArrayBuffer(1)))!=N_||Tf&&es(new Tf)!=x_||JS&&es(JS.resolve())!=v_||XS&&es(new XS)!=j_||QS&&es(new QS)!=w_)&&(es=function(t){var e=sl(t),r=e==kie?t.constructor:void 0,n=r?il(r):"";if(n)switch(n){case Oie:return N_;case Eie:return x_;case Iie:return v_;case Pie:return j_;case Die:return w_}return e});var _ie=Object.prototype,$ie=_ie.hasOwnProperty;function Rie(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&$ie.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var C_=Ba.Uint8Array;function oO(t){var e=new t.constructor(t.byteLength);return new C_(e).set(new C_(t)),e}function Mie(t,e){var r=e?oO(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Lie=/\w*$/;function Fie(t){var e=new t.constructor(t.source,Lie.exec(t));return e.lastIndex=t.lastIndex,e}var S_=Io?Io.prototype:void 0,A_=S_?S_.valueOf:void 0;function Bie(t){return A_?Object(A_.call(t)):{}}function qie(t,e){var r=e?oO(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Vie="[object Boolean]",Uie="[object Date]",zie="[object Map]",Wie="[object Number]",Hie="[object RegExp]",Gie="[object Set]",Yie="[object String]",Kie="[object Symbol]",Jie="[object ArrayBuffer]",Xie="[object DataView]",Qie="[object Float32Array]",Zie="[object Float64Array]",ele="[object Int8Array]",tle="[object Int16Array]",rle="[object Int32Array]",nle="[object Uint8Array]",ale="[object Uint8ClampedArray]",sle="[object Uint16Array]",ole="[object Uint32Array]";function ile(t,e,r){var n=t.constructor;switch(e){case Jie:return oO(t);case Vie:case Uie:return new n(+t);case Xie:return Mie(t,r);case Qie:case Zie:case ele:case tle:case rle:case nle:case ale:case sle:case ole:return qie(t,r);case zie:return new n;case Wie:case Yie:return new n(t);case Hie:return Fie(t);case Gie:return new n;case Kie:return Bie(t)}}var T_=Object.create,lle=function(){function t(){}return function(e){if(!Im(e))return{};if(T_)return T_(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function cle(t){return typeof t.constructor=="function"&&!rO(t)?lle(eO(t)):{}}var ule="[object Map]";function dle(t){return ol(t)&&es(t)==ule}var k_=Cc&&Cc.isMap,fle=k_?tO(k_):dle,mle="[object Set]";function hle(t){return ol(t)&&es(t)==mle}var O_=Cc&&Cc.isSet,ple=O_?tO(O_):hle,gle=1,yle=2,ble=4,sq="[object Arguments]",xle="[object Array]",vle="[object Boolean]",jle="[object Date]",wle="[object Error]",oq="[object Function]",Nle="[object GeneratorFunction]",Cle="[object Map]",Sle="[object Number]",iq="[object Object]",Ale="[object RegExp]",Tle="[object Set]",kle="[object String]",Ole="[object Symbol]",Ele="[object WeakMap]",Ile="[object ArrayBuffer]",Ple="[object DataView]",Dle="[object Float32Array]",_le="[object Float64Array]",$le="[object Int8Array]",Rle="[object Int16Array]",Mle="[object Int32Array]",Lle="[object Uint8Array]",Fle="[object Uint8ClampedArray]",Ble="[object Uint16Array]",qle="[object Uint32Array]",pt={};pt[sq]=pt[xle]=pt[Ile]=pt[Ple]=pt[vle]=pt[jle]=pt[Dle]=pt[_le]=pt[$le]=pt[Rle]=pt[Mle]=pt[Cle]=pt[Sle]=pt[iq]=pt[Ale]=pt[Tle]=pt[kle]=pt[Ole]=pt[Lle]=pt[Fle]=pt[Ble]=pt[qle]=!0;pt[wle]=pt[oq]=pt[Ele]=!1;function Id(t,e,r,n,a,s){var i,l=e&gle,c=e&yle,u=e&ble;if(i!==void 0)return i;if(!Im(t))return t;var d=Pm(t);if(d){if(i=Rie(t),!l)return eq(t,i)}else{var f=es(t),m=f==oq||f==Nle;if(Y6(t))return xie(t,l);if(f==iq||f==sq||m&&!a){if(i=c||m?{}:cle(t),!l)return c?Sie(t,yie(i,t)):Nie(t,fie(i,t))}else{if(!pt[f])return a?t:{};i=ile(t,f,l)}}s||(s=new eu);var h=s.get(t);if(h)return h;s.set(t,i),ple(t)?t.forEach(function(x){i.add(Id(x,e,r,x,t,s))}):fle(t)&&t.forEach(function(x,p){i.set(p,Id(x,e,r,p,t,s))});var g=u?c?Tie:Aie:c?aO:nO,y=d?void 0:g(t);return yoe(y||t,function(x,p){y&&(p=x,x=t[p]),W6(i,p,Id(x,e,r,p,t,s))}),i}var Vle=1,Ule=4;function cd(t){return Id(t,Vle|Ule)}var E_=Array.isArray,I_=Object.keys,zle=Object.prototype.hasOwnProperty,Wle=typeof Element<"u";function ZS(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=E_(t),n=E_(e),a,s,i;if(r&&n){if(s=t.length,s!=e.length)return!1;for(a=s;a--!==0;)if(!ZS(t[a],e[a]))return!1;return!0}if(r!=n)return!1;var l=t instanceof Date,c=e instanceof Date;if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var u=t instanceof RegExp,d=e instanceof RegExp;if(u!=d)return!1;if(u&&d)return t.toString()==e.toString();var f=I_(t);if(s=f.length,s!==I_(e).length)return!1;for(a=s;a--!==0;)if(!zle.call(e,f[a]))return!1;if(Wle&&t instanceof Element&&e instanceof Element)return t===e;for(a=s;a--!==0;)if(i=f[a],!(i==="_owner"&&t.$$typeof)&&!ZS(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var Hle=function(e,r){try{return ZS(e,r)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||n.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}};const Ys=et(Hle);var Gle=4;function P_(t){return Id(t,Gle)}function lq(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var Yle="[object Symbol]";function iO(t){return typeof t=="symbol"||ol(t)&&sl(t)==Yle}var Kle="Expected a function";function lO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Kle);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(lO.Cache||qo),r}lO.Cache=qo;var Jle=500;function Xle(t){var e=lO(t,function(n){return r.size===Jle&&r.clear(),n}),r=e.cache;return e}var Qle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zle=/\\(\\)?/g,ece=Xle(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Qle,function(r,n,a,s){e.push(a?s.replace(Zle,"$1"):n||r)}),e});function tce(t){if(typeof t=="string"||iO(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var D_=Io?Io.prototype:void 0,__=D_?D_.toString:void 0;function cq(t){if(typeof t=="string")return t;if(Pm(t))return lq(t,cq)+"";if(iO(t))return __?__.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function rce(t){return t==null?"":cq(t)}function uq(t){return Pm(t)?lq(t,tce):iO(t)?[t]:eq(ece(rce(t)))}var dq={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dr=typeof Symbol=="function"&&Symbol.for,cO=dr?Symbol.for("react.element"):60103,uO=dr?Symbol.for("react.portal"):60106,uv=dr?Symbol.for("react.fragment"):60107,dv=dr?Symbol.for("react.strict_mode"):60108,fv=dr?Symbol.for("react.profiler"):60114,mv=dr?Symbol.for("react.provider"):60109,hv=dr?Symbol.for("react.context"):60110,dO=dr?Symbol.for("react.async_mode"):60111,pv=dr?Symbol.for("react.concurrent_mode"):60111,gv=dr?Symbol.for("react.forward_ref"):60112,yv=dr?Symbol.for("react.suspense"):60113,nce=dr?Symbol.for("react.suspense_list"):60120,bv=dr?Symbol.for("react.memo"):60115,xv=dr?Symbol.for("react.lazy"):60116,ace=dr?Symbol.for("react.block"):60121,sce=dr?Symbol.for("react.fundamental"):60117,oce=dr?Symbol.for("react.responder"):60118,ice=dr?Symbol.for("react.scope"):60119;function Sn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case cO:switch(t=t.type,t){case dO:case pv:case uv:case fv:case dv:case yv:return t;default:switch(t=t&&t.$$typeof,t){case hv:case gv:case xv:case bv:case mv:return t;default:return e}}case uO:return e}}}function fq(t){return Sn(t)===pv}ct.AsyncMode=dO;ct.ConcurrentMode=pv;ct.ContextConsumer=hv;ct.ContextProvider=mv;ct.Element=cO;ct.ForwardRef=gv;ct.Fragment=uv;ct.Lazy=xv;ct.Memo=bv;ct.Portal=uO;ct.Profiler=fv;ct.StrictMode=dv;ct.Suspense=yv;ct.isAsyncMode=function(t){return fq(t)||Sn(t)===dO};ct.isConcurrentMode=fq;ct.isContextConsumer=function(t){return Sn(t)===hv};ct.isContextProvider=function(t){return Sn(t)===mv};ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===cO};ct.isForwardRef=function(t){return Sn(t)===gv};ct.isFragment=function(t){return Sn(t)===uv};ct.isLazy=function(t){return Sn(t)===xv};ct.isMemo=function(t){return Sn(t)===bv};ct.isPortal=function(t){return Sn(t)===uO};ct.isProfiler=function(t){return Sn(t)===fv};ct.isStrictMode=function(t){return Sn(t)===dv};ct.isSuspense=function(t){return Sn(t)===yv};ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===uv||t===pv||t===fv||t===dv||t===yv||t===nce||typeof t=="object"&&t!==null&&(t.$$typeof===xv||t.$$typeof===bv||t.$$typeof===mv||t.$$typeof===hv||t.$$typeof===gv||t.$$typeof===sce||t.$$typeof===oce||t.$$typeof===ice||t.$$typeof===ace)};ct.typeOf=Sn;dq.exports=ct;var lce=dq.exports,fO=lce,cce={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},uce={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},dce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mq={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mO={};mO[fO.ForwardRef]=dce;mO[fO.Memo]=mq;function $_(t){return fO.isMemo(t)?mq:mO[t.$$typeof]||cce}var fce=Object.defineProperty,mce=Object.getOwnPropertyNames,R_=Object.getOwnPropertySymbols,hce=Object.getOwnPropertyDescriptor,pce=Object.getPrototypeOf,M_=Object.prototype;function hq(t,e,r){if(typeof e!="string"){if(M_){var n=pce(e);n&&n!==M_&&hq(t,n,r)}var a=mce(e);R_&&(a=a.concat(R_(e)));for(var s=$_(t),i=$_(e),l=0;l<a.length;++l){var c=a[l];if(!uce[c]&&!(r&&r[c])&&!(i&&i[c])&&!(s&&s[c])){var u=hce(e,c);try{fce(t,c,u)}catch{}}}}return t}var gce=hq;const yce=et(gce);function Lt(){return Lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lt.apply(this,arguments)}function bce(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function hO(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function L_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var vv=v.createContext(void 0);vv.displayName="FormikContext";var pO=vv.Provider,xce=vv.Consumer;function gO(){var t=v.useContext(vv);return t}var F_=function(e){return Array.isArray(e)&&e.length===0},Br=function(e){return typeof e=="function"},tu=function(e){return e!==null&&typeof e=="object"},vce=function(e){return String(Math.floor(Number(e)))===e},D1=function(e){return Object.prototype.toString.call(e)==="[object String]"},pq=function(e){return v.Children.count(e)===0},_1=function(e){return tu(e)&&Br(e.then)};function or(t,e,r,n){n===void 0&&(n=0);for(var a=uq(e);t&&n<a.length;)t=t[a[n++]];return n!==a.length&&!t||t===void 0?r:t}function Ea(t,e,r){for(var n=P_(t),a=n,s=0,i=uq(e);s<i.length-1;s++){var l=i[s],c=or(t,i.slice(0,s+1));if(c&&(tu(c)||Array.isArray(c)))a=a[l]=P_(c);else{var u=i[s+1];a=a[l]=vce(u)&&Number(u)>=0?[]:{}}}return(s===0?t:a)[i[s]]===r?t:(r===void 0?delete a[i[s]]:a[i[s]]=r,s===0&&r===void 0&&delete n[i[s]],n)}function gq(t,e,r,n){r===void 0&&(r=new WeakMap),n===void 0&&(n={});for(var a=0,s=Object.keys(t);a<s.length;a++){var i=s[a],l=t[i];tu(l)?r.get(l)||(r.set(l,!0),n[i]=Array.isArray(l)?[]:{},gq(l,e,r,n[i])):n[i]=e}return n}function jce(t,e){switch(e.type){case"SET_VALUES":return Lt({},t,{values:e.payload});case"SET_TOUCHED":return Lt({},t,{touched:e.payload});case"SET_ERRORS":return Ys(t.errors,e.payload)?t:Lt({},t,{errors:e.payload});case"SET_STATUS":return Lt({},t,{status:e.payload});case"SET_ISSUBMITTING":return Lt({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Lt({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Lt({},t,{values:Ea(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Lt({},t,{touched:Ea(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Lt({},t,{errors:Ea(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Lt({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Lt({},t,{touched:gq(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Lt({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Lt({},t,{isSubmitting:!1});default:return t}}var ei={},$h={};function tt(t){var e=t.validateOnChange,r=e===void 0?!0:e,n=t.validateOnBlur,a=n===void 0?!0:n,s=t.validateOnMount,i=s===void 0?!1:s,l=t.isInitialValid,c=t.enableReinitialize,u=c===void 0?!1:c,d=t.onSubmit,f=hO(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=Lt({validateOnChange:r,validateOnBlur:a,validateOnMount:i,onSubmit:d},f),h=v.useRef(m.initialValues),g=v.useRef(m.initialErrors||ei),y=v.useRef(m.initialTouched||$h),x=v.useRef(m.initialStatus),p=v.useRef(!1),b=v.useRef({});v.useEffect(function(){return p.current=!0,function(){p.current=!1}},[]);var N=v.useState(0),C=N[1],j=v.useRef({values:cd(m.initialValues),errors:cd(m.initialErrors)||ei,touched:cd(m.initialTouched)||$h,status:cd(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),w=j.current,S=v.useCallback(function(J){var Y=j.current;j.current=jce(Y,J),Y!==j.current&&C(function(de){return de+1})},[]),T=v.useCallback(function(J,Y){return new Promise(function(de,ce){var we=m.validate(J,Y);we==null?de(ei):_1(we)?we.then(function(Pe){de(Pe||ei)},function(Pe){ce(Pe)}):de(we)})},[m.validate]),k=v.useCallback(function(J,Y){var de=m.validationSchema,ce=Br(de)?de(Y):de,we=Y&&ce.validateAt?ce.validateAt(Y,J):Nce(J,ce);return new Promise(function(Pe,Ue){we.then(function(){Pe(ei)},function(Mt){Mt.name==="ValidationError"?Pe(wce(Mt)):Ue(Mt)})})},[m.validationSchema]),I=v.useCallback(function(J,Y){return new Promise(function(de){return de(b.current[J].validate(Y))})},[]),E=v.useCallback(function(J){var Y=Object.keys(b.current).filter(function(ce){return Br(b.current[ce].validate)}),de=Y.length>0?Y.map(function(ce){return I(ce,or(J,ce))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(de).then(function(ce){return ce.reduce(function(we,Pe,Ue){return Pe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Pe&&(we=Ea(we,Y[Ue],Pe)),we},{})})},[I]),P=v.useCallback(function(J){return Promise.all([E(J),m.validationSchema?k(J):{},m.validate?T(J):{}]).then(function(Y){var de=Y[0],ce=Y[1],we=Y[2],Pe=YS.all([de,ce,we],{arrayMerge:Cce});return Pe})},[m.validate,m.validationSchema,E,T,k]),L=En(function(J){return J===void 0&&(J=w.values),S({type:"SET_ISVALIDATING",payload:!0}),P(J).then(function(Y){return p.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:Y})),Y})});v.useEffect(function(){i&&p.current===!0&&Ys(h.current,m.initialValues)&&L(h.current)},[i,L]);var $=v.useCallback(function(J){var Y=J&&J.values?J.values:h.current,de=J&&J.errors?J.errors:g.current?g.current:m.initialErrors||{},ce=J&&J.touched?J.touched:y.current?y.current:m.initialTouched||{},we=J&&J.status?J.status:x.current?x.current:m.initialStatus;h.current=Y,g.current=de,y.current=ce,x.current=we;var Pe=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!J&&!!J.isSubmitting,errors:de,touched:ce,status:we,values:Y,isValidating:!!J&&!!J.isValidating,submitCount:J&&J.submitCount&&typeof J.submitCount=="number"?J.submitCount:0}})};if(m.onReset){var Ue=m.onReset(w.values,he);_1(Ue)?Ue.then(Pe):Pe()}else Pe()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);v.useEffect(function(){p.current===!0&&!Ys(h.current,m.initialValues)&&u&&(h.current=m.initialValues,$(),i&&L(h.current))},[u,m.initialValues,$,i,L]),v.useEffect(function(){u&&p.current===!0&&!Ys(g.current,m.initialErrors)&&(g.current=m.initialErrors||ei,S({type:"SET_ERRORS",payload:m.initialErrors||ei}))},[u,m.initialErrors]),v.useEffect(function(){u&&p.current===!0&&!Ys(y.current,m.initialTouched)&&(y.current=m.initialTouched||$h,S({type:"SET_TOUCHED",payload:m.initialTouched||$h}))},[u,m.initialTouched]),v.useEffect(function(){u&&p.current===!0&&!Ys(x.current,m.initialStatus)&&(x.current=m.initialStatus,S({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var _=En(function(J){if(b.current[J]&&Br(b.current[J].validate)){var Y=or(w.values,J),de=b.current[J].validate(Y);return _1(de)?(S({type:"SET_ISVALIDATING",payload:!0}),de.then(function(ce){return ce}).then(function(ce){S({type:"SET_FIELD_ERROR",payload:{field:J,value:ce}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:J,value:de}}),Promise.resolve(de))}else if(m.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),k(w.values,J).then(function(ce){return ce}).then(function(ce){S({type:"SET_FIELD_ERROR",payload:{field:J,value:or(ce,J)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=v.useCallback(function(J,Y){var de=Y.validate;b.current[J]={validate:de}},[]),U=v.useCallback(function(J){delete b.current[J]},[]),D=En(function(J,Y){S({type:"SET_TOUCHED",payload:J});var de=Y===void 0?a:Y;return de?L(w.values):Promise.resolve()}),R=v.useCallback(function(J){S({type:"SET_ERRORS",payload:J})},[]),F=En(function(J,Y){var de=Br(J)?J(w.values):J;S({type:"SET_VALUES",payload:de});var ce=Y===void 0?r:Y;return ce?L(de):Promise.resolve()}),G=v.useCallback(function(J,Y){S({type:"SET_FIELD_ERROR",payload:{field:J,value:Y}})},[]),W=En(function(J,Y,de){S({type:"SET_FIELD_VALUE",payload:{field:J,value:Y}});var ce=de===void 0?r:de;return ce?L(Ea(w.values,J,Y)):Promise.resolve()}),Z=v.useCallback(function(J,Y){var de=Y,ce=J,we;if(!D1(J)){J.persist&&J.persist();var Pe=J.target?J.target:J.currentTarget,Ue=Pe.type,Mt=Pe.name,Fs=Pe.id,Va=Pe.value,Yo=Pe.checked;Pe.outerHTML;var Bs=Pe.options,Ko=Pe.multiple;de=Y||Mt||Fs,ce=/number|range/.test(Ue)?(we=parseFloat(Va),isNaN(we)?"":we):/checkbox/.test(Ue)?Ace(or(w.values,de),Yo,Va):Bs&&Ko?Sce(Bs):Va}de&&W(de,ce)},[W,w.values]),fe=En(function(J){if(D1(J))return function(Y){return Z(Y,J)};Z(J)}),Ce=En(function(J,Y,de){Y===void 0&&(Y=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:J,value:Y}});var ce=de===void 0?a:de;return ce?L(w.values):Promise.resolve()}),ne=v.useCallback(function(J,Y){J.persist&&J.persist();var de=J.target,ce=de.name,we=de.id;de.outerHTML;var Pe=Y||ce||we;Ce(Pe,!0)},[Ce]),K=En(function(J){if(D1(J))return function(Y){return ne(Y,J)};ne(J)}),ie=v.useCallback(function(J){Br(J)?S({type:"SET_FORMIK_STATE",payload:J}):S({type:"SET_FORMIK_STATE",payload:function(){return J}})},[]),X=v.useCallback(function(J){S({type:"SET_STATUS",payload:J})},[]),ee=v.useCallback(function(J){S({type:"SET_ISSUBMITTING",payload:J})},[]),H=En(function(){return S({type:"SUBMIT_ATTEMPT"}),L().then(function(J){var Y=J instanceof Error,de=!Y&&Object.keys(J).length===0;if(de){var ce;try{if(ce=je(),ce===void 0)return}catch(we){throw we}return Promise.resolve(ce).then(function(we){return p.current&&S({type:"SUBMIT_SUCCESS"}),we}).catch(function(we){if(p.current)throw S({type:"SUBMIT_FAILURE"}),we})}else if(p.current&&(S({type:"SUBMIT_FAILURE"}),Y))throw J})}),z=En(function(J){J&&J.preventDefault&&Br(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&Br(J.stopPropagation)&&J.stopPropagation(),H().catch(function(Y){console.warn("Warning: An unhandled error was caught from submitForm()",Y)})}),he={resetForm:$,validateForm:L,validateField:_,setErrors:R,setFieldError:G,setFieldTouched:Ce,setFieldValue:W,setStatus:X,setSubmitting:ee,setTouched:D,setValues:F,setFormikState:ie,submitForm:H},je=En(function(){return d(w.values,he)}),ke=En(function(J){J&&J.preventDefault&&Br(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&Br(J.stopPropagation)&&J.stopPropagation(),$()}),Ne=v.useCallback(function(J){return{value:or(w.values,J),error:or(w.errors,J),touched:!!or(w.touched,J),initialValue:or(h.current,J),initialTouched:!!or(y.current,J),initialError:or(g.current,J)}},[w.errors,w.touched,w.values]),sr=v.useCallback(function(J){return{setValue:function(de,ce){return W(J,de,ce)},setTouched:function(de,ce){return Ce(J,de,ce)},setError:function(de){return G(J,de)}}},[W,Ce,G]),An=v.useCallback(function(J){var Y=tu(J),de=Y?J.name:J,ce=or(w.values,de),we={name:de,value:ce,onChange:fe,onBlur:K};if(Y){var Pe=J.type,Ue=J.value,Mt=J.as,Fs=J.multiple;Pe==="checkbox"?Ue===void 0?we.checked=!!ce:(we.checked=!!(Array.isArray(ce)&&~ce.indexOf(Ue)),we.value=Ue):Pe==="radio"?(we.checked=ce===Ue,we.value=Ue):Mt==="select"&&Fs&&(we.value=we.value||[],we.multiple=!0)}return we},[K,fe,w.values]),Tn=v.useMemo(function(){return!Ys(h.current,w.values)},[h.current,w.values]),Ls=v.useMemo(function(){return typeof l<"u"?Tn?w.errors&&Object.keys(w.errors).length===0:l!==!1&&Br(l)?l(m):l:w.errors&&Object.keys(w.errors).length===0},[l,Tn,w.errors,m]),kn=Lt({},w,{initialValues:h.current,initialErrors:g.current,initialTouched:y.current,initialStatus:x.current,handleBlur:K,handleChange:fe,handleReset:ke,handleSubmit:z,resetForm:$,setErrors:R,setFormikState:ie,setFieldTouched:Ce,setFieldValue:W,setFieldError:G,setStatus:X,setSubmitting:ee,setTouched:D,setValues:F,submitForm:H,validateForm:L,validateField:_,isValid:Ls,dirty:Tn,unregisterField:U,registerField:B,getFieldProps:An,getFieldMeta:Ne,getFieldHelpers:sr,validateOnBlur:a,validateOnChange:r,validateOnMount:i});return kn}function $e(t){var e=tt(t),r=t.component,n=t.children,a=t.render,s=t.innerRef;return v.useImperativeHandle(s,function(){return e}),v.createElement(pO,{value:e},r?v.createElement(r,e):a?a(e):n?Br(n)?n(e):pq(n)?null:v.Children.only(n):null)}function wce(t){var e={};if(t.inner){if(t.inner.length===0)return Ea(e,t.path,t.message);for(var a=t.inner,r=Array.isArray(a),n=0,a=r?a:a[Symbol.iterator]();;){var s;if(r){if(n>=a.length)break;s=a[n++]}else{if(n=a.next(),n.done)break;s=n.value}var i=s;or(e,i.path)||(e=Ea(e,i.path,i.message))}}return e}function Nce(t,e,r,n){r===void 0&&(r=!1);var a=eA(t);return e[r?"validateSync":"validate"](a,{abortEarly:!1,context:a})}function eA(t){var e=Array.isArray(t)?[]:{};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=String(r);Array.isArray(t[n])===!0?e[n]=t[n].map(function(a){return Array.isArray(a)===!0||l_(a)?eA(a):a!==""?a:void 0}):l_(t[n])?e[n]=eA(t[n]):e[n]=t[n]!==""?t[n]:void 0}return e}function Cce(t,e,r){var n=t.slice();return e.forEach(function(s,i){if(typeof n[i]>"u"){var l=r.clone!==!1,c=l&&r.isMergeableObject(s);n[i]=c?YS(Array.isArray(s)?[]:{},s,r):s}else r.isMergeableObject(s)?n[i]=YS(t[i],s,r):t.indexOf(s)===-1&&n.push(s)}),n}function Sce(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function Ace(t,e,r){if(typeof t=="boolean")return!!e;var n=[],a=!1,s=-1;if(Array.isArray(t))n=t,s=t.indexOf(r),a=s>=0;else if(!r||r=="true"||r=="false")return!!e;return e&&r&&!a?n.concat(r):a?n.slice(0,s).concat(n.slice(s+1)):n}var Tce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect;function En(t){var e=v.useRef(t);return Tce(function(){e.current=t}),v.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current.apply(void 0,n)},[])}function kce(t){var e=gO(),r=e.getFieldProps,n=e.getFieldMeta,a=e.getFieldHelpers,s=e.registerField,i=e.unregisterField,l=tu(t),c=l?t:{name:t},u=c.name,d=c.validate;v.useEffect(function(){return u&&s(u,{validate:d}),function(){u&&i(u)}},[s,i,u,d]);var f=v.useMemo(function(){return a(u)},[a,u]);return[r(c),n(u),f]}var Be=v.forwardRef(function(t,e){var r=t.action,n=hO(t,["action"]),a=r??"#",s=gO(),i=s.handleReset,l=s.handleSubmit;return v.createElement("form",Lt({onSubmit:l,ref:e,onReset:i,action:a},n))});Be.displayName="Form";function Oce(t){var e=function(a){return v.createElement(xce,null,function(s){return v.createElement(t,Lt({},a,{formik:s}))})},r=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+r+")",yce(e,t)}var Ece=function(e,r,n){var a=Gi(e),s=a[r];return a.splice(r,1),a.splice(n,0,s),a},Ice=function(e,r,n){var a=Gi(e),s=a[r];return a[r]=a[n],a[n]=s,a},$1=function(e,r,n){var a=Gi(e);return a.splice(r,0,n),a},Pce=function(e,r,n){var a=Gi(e);return a[r]=n,a},Gi=function(e){if(e){if(Array.isArray(e))return[].concat(e);var r=Object.keys(e).map(function(n){return parseInt(n)}).reduce(function(n,a){return a>n?a:n},0);return Array.from(Lt({},e,{length:r+1}))}else return[]},B_=function(e,r){var n=typeof e=="function"?e:r;return function(a){if(Array.isArray(a)||tu(a)){var s=Gi(a);return n(s)}return a}},yq=function(t){bce(e,t);function e(n){var a;return a=t.call(this,n)||this,a.updateArrayField=function(s,i,l){var c=a.props,u=c.name,d=c.formik.setFormikState;d(function(f){var m=B_(l,s),h=B_(i,s),g=Ea(f.values,u,s(or(f.values,u))),y=l?m(or(f.errors,u)):void 0,x=i?h(or(f.touched,u)):void 0;return F_(y)&&(y=void 0),F_(x)&&(x=void 0),Lt({},f,{values:g,errors:l?Ea(f.errors,u,y):f.errors,touched:i?Ea(f.touched,u,x):f.touched})})},a.push=function(s){return a.updateArrayField(function(i){return[].concat(Gi(i),[cd(s)])},!1,!1)},a.handlePush=function(s){return function(){return a.push(s)}},a.swap=function(s,i){return a.updateArrayField(function(l){return Ice(l,s,i)},!0,!0)},a.handleSwap=function(s,i){return function(){return a.swap(s,i)}},a.move=function(s,i){return a.updateArrayField(function(l){return Ece(l,s,i)},!0,!0)},a.handleMove=function(s,i){return function(){return a.move(s,i)}},a.insert=function(s,i){return a.updateArrayField(function(l){return $1(l,s,i)},function(l){return $1(l,s,null)},function(l){return $1(l,s,null)})},a.handleInsert=function(s,i){return function(){return a.insert(s,i)}},a.replace=function(s,i){return a.updateArrayField(function(l){return Pce(l,s,i)},!1,!1)},a.handleReplace=function(s,i){return function(){return a.replace(s,i)}},a.unshift=function(s){var i=-1;return a.updateArrayField(function(l){var c=l?[s].concat(l):[s];return i=c.length,c},function(l){return l?[null].concat(l):[null]},function(l){return l?[null].concat(l):[null]}),i},a.handleUnshift=function(s){return function(){return a.unshift(s)}},a.handleRemove=function(s){return function(){return a.remove(s)}},a.handlePop=function(){return function(){return a.pop()}},a.remove=a.remove.bind(L_(a)),a.pop=a.pop.bind(L_(a)),a}var r=e.prototype;return r.componentDidUpdate=function(a){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Ys(or(a.formik.values,a.name),or(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(a){var s;return this.updateArrayField(function(i){var l=i?Gi(i):[];return s||(s=l[a]),Br(l.splice)&&l.splice(a,1),Br(l.every)&&l.every(function(c){return c===void 0})?[]:l},!0,!0),s},r.pop=function(){var a;return this.updateArrayField(function(s){var i=s.slice();return a||(a=i&&i.pop&&i.pop()),i},!0,!0),a},r.render=function(){var a={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,i=s.component,l=s.render,c=s.children,u=s.name,d=s.formik,f=hO(d,["validate","validationSchema"]),m=Lt({},a,{form:f,name:u});return i?v.createElement(i,m):l?l(m):c?typeof c=="function"?c(m):pq(c)?null:v.Children.only(c):null},e}(v.Component);yq.defaultProps={validateOnChange:!0};var Wr=Oce(yq);function cl(t){this._maxSize=t,this.clear()}cl.prototype.clear=function(){this._size=0,this._values=Object.create(null)};cl.prototype.get=function(t){return this._values[t]};cl.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Dce=/[^.^\]^[]+|(?=\[\]|\.\.)/g,bq=/^\d+$/,_ce=/^\d/,$ce=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Rce=/^\s*(['"]?)(.*?)(\1)\s*$/,yO=512,q_=new cl(yO),V_=new cl(yO),U_=new cl(yO),Oi={Cache:cl,split:tA,normalizePath:R1,setter:function(t){var e=R1(t);return V_.get(t)||V_.set(t,function(n,a){for(var s=0,i=e.length,l=n;s<i-1;){var c=e[s];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;l=l[e[s++]]}l[e[s]]=a})},getter:function(t,e){var r=R1(t);return U_.get(t)||U_.set(t,function(a){for(var s=0,i=r.length;s<i;)if(a!=null||!e)a=a[r[s++]];else return;return a})},join:function(t){return t.reduce(function(e,r){return e+(bO(r)||bq.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){Mce(Array.isArray(t)?t:tA(t),e,r)}};function R1(t){return q_.get(t)||q_.set(t,tA(t).map(function(e){return e.replace(Rce,"$2")}))}function tA(t){return t.match(Dce)||[""]}function Mce(t,e,r){var n=t.length,a,s,i,l;for(s=0;s<n;s++)a=t[s],a&&(Bce(a)&&(a='"'+a+'"'),l=bO(a),i=!l&&/^\d+$/.test(a),e.call(r,a,l,i,s,t))}function bO(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Lce(t){return t.match(_ce)&&!t.match(bq)}function Fce(t){return $ce.test(t)}function Bce(t){return!bO(t)&&(Lce(t)||Fce(t))}const qce=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,jv=t=>t.match(qce)||[],wv=t=>t[0].toUpperCase()+t.slice(1),xO=(t,e)=>jv(t).join(e).toLowerCase(),xq=t=>jv(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Vce=t=>wv(xq(t)),Uce=t=>xO(t,"_"),zce=t=>xO(t,"-"),Wce=t=>wv(xO(t," ")),Hce=t=>jv(t).map(wv).join(" ");var M1={words:jv,upperFirst:wv,camelCase:xq,pascalCase:Vce,snakeCase:Uce,kebabCase:zce,sentenceCase:Wce,titleCase:Hce},vO={exports:{}};vO.exports=function(t){return vq(Gce(t),t)};vO.exports.array=vq;function vq(t,e){var r=t.length,n=new Array(r),a={},s=r,i=Yce(e),l=Kce(t);for(e.forEach(function(u){if(!l.has(u[0])||!l.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||c(t[s],s,new Set);return n;function c(u,d,f){if(f.has(u)){var m;try{m=", node was:"+JSON.stringify(u)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!l.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!a[d]){a[d]=!0;var h=i.get(u)||new Set;if(h=Array.from(h),d=h.length){f.add(u);do{var g=h[--d];c(g,l.get(g),f)}while(d);f.delete(u)}n[--r]=u}}}function Gce(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var a=t[r];e.add(a[0]),e.add(a[1])}return Array.from(e)}function Yce(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var a=t[r];e.has(a[0])||e.set(a[0],new Set),e.has(a[1])||e.set(a[1],new Set),e.get(a[0]).add(a[1])}return e}function Kce(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Jce=vO.exports;const Xce=et(Jce),Qce=Object.prototype.toString,Zce=Error.prototype.toString,eue=RegExp.prototype.toString,tue=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",rue=/^Symbol\((.*)\)(.*)$/;function nue(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function z_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return nue(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return tue.call(t).replace(rue,"Symbol($1)");const n=Qce.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Zce.call(t)+"]":n==="RegExp"?eue.call(t):null}function fs(t,e){let r=z_(t,e);return r!==null?r:JSON.stringify(t,function(n,a){let s=z_(this[n],e);return s!==null?s:a},2)}function jq(t){return t==null?[]:[].concat(t)}let wq,Nq,Cq,aue=/\$\{\s*(\w+)\s*\}/g;wq=Symbol.toStringTag;class W_{constructor(e,r,n,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[wq]="Error",this.name="ValidationError",this.value=r,this.path=n,this.type=a,this.errors=[],this.inner=[],jq(e).forEach(s=>{if(Vr.isError(s)){this.errors.push(...s.errors);const i=s.inner.length?s.inner:[s];this.inner.push(...i)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Nq=Symbol.hasInstance;Cq=Symbol.toStringTag;class Vr extends Error{static formatError(e,r){const n=r.label||r.path||"this";return r=Object.assign({},r,{path:n,originalPath:r.path}),typeof e=="string"?e.replace(aue,(a,s)=>fs(r[s])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,a,s){const i=new W_(e,r,n,a);if(s)return i;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Cq]="Error",this.name=i.name,this.message=i.message,this.type=i.type,this.value=i.value,this.path=i.path,this.errors=i.errors,this.inner=i.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Vr)}static[Nq](e){return W_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let va={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const a=n!=null&&n!==r?` (cast from the value \`${fs(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${fs(r,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${fs(r,!0)}\``+a}},Fr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},zs={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},rA={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},nA={isValue:"${path} field must be ${value}"},_p={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},$p={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},sue={notType:t=>{const{path:e,value:r,spec:n}=t,a=n.types.length;if(Array.isArray(r)){if(r.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${r.length} for value: \`${fs(r,!0)}\``;if(r.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${r.length} for value: \`${fs(r,!0)}\``}return Vr.formatError(va.notType,t)}};Object.assign(Object.create(null),{mixed:va,string:Fr,number:zs,date:rA,object:_p,array:$p,boolean:nA,tuple:sue});const Nv=t=>t&&t.__isYupSchema__;class b0{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:a,otherwise:s}=r,i=typeof n=="function"?n:(...l)=>l.every(c=>c===n);return new b0(e,(l,c)=>{var u;let d=i(...l)?a:s;return(u=d==null?void 0:d(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(s=>s.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),a=this.fn(n,e,r);if(a===void 0||a===e)return e;if(!Nv(a))throw new TypeError("conditions must return a schema object");return a.resolve(r)}}const Rh={context:"$",value:"."};function Of(t,e){return new Vo(t,e)}class Vo{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Rh.context,this.isValue=this.key[0]===Rh.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Rh.context:this.isValue?Rh.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Oi.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let a=this.isContext?n:this.isValue?e:r;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Vo.prototype.__isYupRef=!0;const aa=t=>t==null;function jl(t){function e({value:r,path:n="",options:a,originalValue:s,schema:i},l,c){const{name:u,test:d,params:f,message:m,skipAbsent:h}=t;let{parent:g,context:y,abortEarly:x=i.spec.abortEarly,disableStackTrace:p=i.spec.disableStackTrace}=a;function b(E){return Vo.isRef(E)?E.getValue(r,g,y):E}function N(E={}){const P=Object.assign({value:r,originalValue:s,label:i.spec.label,path:E.path||n,spec:i.spec,disableStackTrace:E.disableStackTrace||p},f,E.params);for(const $ of Object.keys(P))P[$]=b(P[$]);const L=new Vr(Vr.formatError(E.message||m,P),r,P.path,E.type||u,P.disableStackTrace);return L.params=P,L}const C=x?l:c;let j={path:n,parent:g,type:u,from:a.from,createError:N,resolve:b,options:a,originalValue:s,schema:i};const w=E=>{Vr.isError(E)?C(E):E?c(null):C(N())},S=E=>{Vr.isError(E)?C(E):l(E)};if(h&&aa(r))return w(!0);let k;try{var I;if(k=d.call(j,r,j),typeof((I=k)==null?void 0:I.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${j.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(k).then(w,S)}}catch(E){S(E);return}w(k)}return e.OPTIONS=t,e}function oue(t,e,r,n=r){let a,s,i;return e?(Oi.forEach(e,(l,c,u)=>{let d=c?l.slice(1,l.length-1):l;t=t.resolve({context:n,parent:a,value:r});let f=t.type==="tuple",m=u?parseInt(d,10):0;if(t.innerType||f){if(f&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${i}" must contain an index to the tuple element, e.g. "${i}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);a=r,r=r&&r[m],t=f?t.spec.types[m]:t.innerType}if(!u){if(!t.fields||!t.fields[d])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${i} which is a type: "${t.type}")`);a=r,r=r&&r[d],t=t.fields[d]}s=d,i=c?"["+l+"]":"."+l}),{schema:t,parent:a,parentPath:s}):{parent:a,parentPath:e,schema:t}}class x0 extends Set{describe(){const e=[];for(const r of this.values())e.push(Vo.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new x0(this.values())}merge(e,r){const n=this.clone();return e.forEach(a=>n.add(a)),r.forEach(a=>n.delete(a)),n}}function Fl(t,e=new Map){if(Nv(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=Fl(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,a]of t.entries())r.set(n,Fl(a,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(Fl(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,a]of Object.entries(t))r[n]=Fl(a,e)}else throw Error(`Unable to clone ${t}`);return r}class jn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new x0,this._blacklist=new x0,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(va.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=Fl(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const a=Object.assign({},r.spec,n.spec);return n.spec=a,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(s=>{e.tests.forEach(i=>{s.test(i.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((a,s)=>s.resolve(a,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,a,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),a=r.assert==="ignore-optionality",s=n._cast(e,r);if(r.assert!==!1&&!n.isType(s)){if(a&&aa(s))return s;let i=fs(e),l=fs(s);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${i} 
`+(l!==i?`result of cast: ${l}`:""))}return s}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((a,s)=>s.call(this,a,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,a){let{path:s,originalValue:i=e,strict:l=this.spec.strict}=r,c=e;l||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let d of Object.values(this.internalTests))d&&u.push(d);this.runTests({path:s,value:c,originalValue:i,options:r,tests:u},n,d=>{if(d.length)return a(d,c);this.runTests({path:s,value:c,originalValue:i,options:r,tests:this.tests},n,a)})}runTests(e,r,n){let a=!1,{tests:s,value:i,originalValue:l,path:c,options:u}=e,d=y=>{a||(a=!0,r(y,i))},f=y=>{a||(a=!0,n(y,i))},m=s.length,h=[];if(!m)return f([]);let g={value:i,originalValue:l,path:c,options:u,schema:this};for(let y=0;y<s.length;y++){const x=s[y];x(g,d,function(b){b&&(Array.isArray(b)?h.push(...b):h.push(b)),--m<=0&&f(h)})}}asNestedTest({key:e,index:r,parent:n,parentPath:a,originalParent:s,options:i}){const l=e??r;if(l==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof l=="number";let u=n[l];const d=Object.assign({},i,{strict:!0,parent:n,value:u,originalValue:s[l],key:void 0,[c?"index":"key"]:l,path:c||l.includes(".")?`${a||""}[${c?l:`"${l}"`}]`:(a?`${a}.`:"")+e});return(f,m,h)=>this.resolve(d)._validate(u,d,m,h)}validate(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return new Promise((i,l)=>a._validate(e,r,(c,u)=>{Vr.isError(c)&&(c.value=u),l(c)},(c,u)=>{c.length?l(new Vr(c,u,void 0,void 0,s)):i(u)}))}validateSync(e,r){var n;let a=this.resolve(Object.assign({},r,{value:e})),s,i=(n=r==null?void 0:r.disableStackTrace)!=null?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},r,{sync:!0}),(l,c)=>{throw Vr.isError(l)&&(l.value=c),l},(l,c)=>{if(l.length)throw new Vr(l,e,void 0,void 0,i);s=c}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(Vr.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(Vr.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):Fl(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=jl({message:r,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=jl({message:r,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=va.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=va.notNull){return this.nullability(!1,e)}required(e=va.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=va.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),a=jl(r),s=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(i=>!(i.OPTIONS.name===r.name&&(s||i.OPTIONS.test===a.OPTIONS.test))),n.tests.push(a),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),a=jq(e).map(s=>new Vo(s));return a.forEach(s=>{s.isSibling&&n.deps.push(s.key)}),n.conditions.push(typeof r=="function"?new b0(a,r):b0.fromOptions(a,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=jl({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=va.oneOf){let n=this.clone();return e.forEach(a=>{n._whitelist.add(a),n._blacklist.delete(a)}),n.internalTests.whiteList=jl({message:r,name:"oneOf",skipAbsent:!0,test(a){let s=this.schema._whitelist,i=s.resolveAll(this.resolve);return i.includes(a)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:i}})}}),n}notOneOf(e,r=va.notOneOf){let n=this.clone();return e.forEach(a=>{n._blacklist.add(a),n._whitelist.delete(a)}),n.internalTests.blacklist=jl({message:r,name:"notOneOf",test(a){let s=this.schema._blacklist,i=s.resolveAll(this.resolve);return i.includes(a)?this.createError({params:{values:Array.from(s).join(", "),resolved:i}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:a,optional:s,nullable:i}=r.spec;return{meta:a,label:n,optional:s,nullable:i,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,d)=>d.findIndex(f=>f.name===c.name)===u)}}}jn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])jn.prototype[`${t}At`]=function(e,r,n={}){const{parent:a,parentPath:s,schema:i}=oue(this,e,r,n.context);return i[t](a&&a[s],Object.assign({},n,{parent:a,path:e}))};for(const t of["equals","is"])jn.prototype[t]=jn.prototype.oneOf;for(const t of["not","nope"])jn.prototype[t]=jn.prototype.notOneOf;function Yi(){return new Sq}class Sq extends jn{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=nA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return aa(r)||r===!0}})}isFalse(e=nA.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return aa(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Yi.prototype=Sq.prototype;const iue=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function lue(t){const e=aA(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let r=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(r=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(r=0-r)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+r,e.second,e.millisecond)}function aA(t){var e,r;const n=iue.exec(t);return n?{year:Wa(n[1]),month:Wa(n[2],1)-1,day:Wa(n[3],1),hour:Wa(n[4]),minute:Wa(n[5]),second:Wa(n[6]),millisecond:n[7]?Wa(n[7].substring(0,3)):0,precision:(e=(r=n[7])==null?void 0:r.length)!=null?e:void 0,z:n[8]||void 0,plusMinus:n[9]||void 0,hourOffset:Wa(n[10]),minuteOffset:Wa(n[11])}:null}function Wa(t,e=0){return Number(t)||e}let cue=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,uue=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,due=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,fue="^\\d{4}-\\d{2}-\\d{2}",mue="\\d{2}:\\d{2}:\\d{2}",hue="(([+-]\\d{2}(:?\\d{2})?)|Z)",pue=new RegExp(`${fue}T${mue}(\\.\\d+)?${hue}$`),gue=t=>aa(t)||t===t.trim(),yue={}.toString();function O(){return new Aq}class Aq extends jn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===yue?e:a})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||va.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=Fr.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=Fr.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=Fr.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,a,s;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:a,name:s}=r:a=r),this.test({name:s||"matches",message:a||Fr.matches,params:{regex:e},skipAbsent:!0,test:i=>i===""&&n||i.search(e)!==-1})}email(e=Fr.email){return this.matches(cue,{name:"email",message:e,excludeEmptyString:!0})}url(e=Fr.url){return this.matches(uue,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Fr.uuid){return this.matches(due,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let r="",n,a;return e&&(typeof e=="object"?{message:r="",allowOffset:n=!1,precision:a=void 0}=e:r=e),this.matches(pue,{name:"datetime",message:r||Fr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||Fr.datetime_offset,params:{allowOffset:n},skipAbsent:!0,test:s=>{if(!s||n)return!0;const i=aA(s);return i?!!i.z:!1}}).test({name:"datetime_precision",message:r||Fr.datetime_precision,params:{precision:a},skipAbsent:!0,test:s=>{if(!s||a==null)return!0;const i=aA(s);return i?i.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Fr.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:gue})}lowercase(e=Fr.lowercase){return this.transform(r=>aa(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>aa(r)||r===r.toLowerCase()})}uppercase(e=Fr.uppercase){return this.transform(r=>aa(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>aa(r)||r===r.toUpperCase()})}}O.prototype=Aq.prototype;let bue=t=>t!=+t;function re(){return new Tq}class Tq extends jn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!bue(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let a=e;if(typeof a=="string"){if(a=a.replace(/\s/g,""),a==="")return NaN;a=+a}return n.isType(a)||a===null?a:parseFloat(a)})})}min(e,r=zs.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=zs.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=zs.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=zs.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=zs.positive){return this.moreThan(0,e)}negative(e=zs.negative){return this.lessThan(0,e)}integer(e=zs.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>aa(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(a=>aa(a)?a:Math[e](a))}}re.prototype=Tq.prototype;let kq=new Date(""),xue=t=>Object.prototype.toString.call(t)==="[object Date]";function Me(){return new Dm}class Dm extends jn{constructor(){super({type:"date",check(e){return xue(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=lue(e),isNaN(e)?Dm.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Vo.isRef(e))n=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=a}return n}min(e,r=rA.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(n)}})}max(e,r=rA.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(n)}})}}Dm.INVALID_DATE=kq;Me.prototype=Dm.prototype;Me.INVALID_DATE=kq;function vue(t,e=[]){let r=[],n=new Set,a=new Set(e.map(([i,l])=>`${i}-${l}`));function s(i,l){let c=Oi.split(i)[0];n.add(c),a.has(`${l}-${c}`)||r.push([l,c])}for(const i of Object.keys(t)){let l=t[i];n.add(i),Vo.isRef(l)&&l.isSibling?s(l.path,i):Nv(l)&&"deps"in l&&l.deps.forEach(c=>s(c,i))}return Xce.array(Array.from(n),r).reverse()}function H_(t,e){let r=1/0;return t.some((n,a)=>{var s;if((s=e.path)!=null&&s.includes(n))return r=a,!0}),r}function Oq(t){return(e,r)=>H_(t,e)-H_(t,r)}const Eq=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function Rp(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=Rp(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Rp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Rp)}):"optional"in t?t.optional():t}const jue=(t,e)=>{const r=[...Oi.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),a=Oi.getter(Oi.join(r),!0)(t);return!!(a&&n in a)};let G_=t=>Object.prototype.toString.call(t)==="[object Object]";function Y_(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const wue=Oq([]);function oe(t){return new Iq(t)}class Iq extends jn{constructor(e){super({type:"object",check(r){return G_(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=wue,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let a=super._cast(e,r);if(a===void 0)return this.getDefault(r);if(!this._typeCheck(a))return a;let s=this.fields,i=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,l=[].concat(this._nodes,Object.keys(a).filter(f=>!this._nodes.includes(f))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),d=!1;for(const f of l){let m=s[f],h=f in a;if(m){let g,y=a[f];u.path=(r.path?`${r.path}.`:"")+f,m=m.resolve({value:y,context:r.context,parent:c});let x=m instanceof jn?m.spec:void 0,p=x==null?void 0:x.strict;if(x!=null&&x.strip){d=d||f in a;continue}g=!r.__validating||!p?m.cast(a[f],u):a[f],g!==void 0&&(c[f]=g)}else h&&!i&&(c[f]=a[f]);(h!==f in c||c[f]!==a[f])&&(d=!0)}return d?c:a}_validate(e,r={},n,a){let{from:s=[],originalValue:i=e,recursive:l=this.spec.recursive}=r;r.from=[{schema:this,value:i},...s],r.__validating=!0,r.originalValue=i,super._validate(e,r,n,(c,u)=>{if(!l||!G_(u)){a(c,u);return}i=i||u;let d=[];for(let f of this._nodes){let m=this.fields[f];!m||Vo.isRef(m)||d.push(m.asNestedTest({options:r,key:f,parent:u,parentPath:r.path,originalParent:i}))}this.runTests({tests:d,value:u,originalValue:i,options:r},n,f=>{a(f.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[a,s]of Object.entries(this.fields)){const i=n[a];n[a]=i===void 0?s:i}return r.withMutation(a=>a.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var a;const s=this.fields[n];let i=e;(a=i)!=null&&a.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[n]})),r[n]=s&&"getDefault"in s?s.getDefault(i):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=vue(e,r),n._sortErrors=Oq(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let a=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),a=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),a)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return Rp(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r,this._excludedEdges.filter(([n,a])=>e.includes(n)&&e.includes(a)))}omit(e){const r=[];for(const n of Object.keys(this.fields))e.includes(n)||r.push(n);return this.pick(r)}from(e,r,n){let a=Oi.getter(e,!0);return this.transform(s=>{if(!s)return s;let i=s;return jue(s,e)&&(i=Object.assign({},s),n||delete i[e],i[r]=a(s)),i})}json(){return this.transform(Eq)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||_p.exact,test(r){if(r==null)return!0;const n=Y_(this.schema,r);return n.length===0||this.createError({params:{properties:n.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,r=_p.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(a){if(a==null)return!0;const s=Y_(this.schema,a);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=_p.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const a of Object.keys(r))n[e(a)]=r[a];return n})}camelCase(){return this.transformKeys(M1.camelCase)}snakeCase(){return this.transformKeys(M1.snakeCase)}constantCase(){return this.transformKeys(e=>M1.snakeCase(e).toUpperCase())}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[s,i]of Object.entries(r.fields)){var a;let l=e;(a=l)!=null&&a.value&&(l=Object.assign({},l,{parent:l.value,value:l.value[s]})),n.fields[s]=i.describe(l)}return n}}oe.prototype=Iq.prototype;function hn(t){return new Pq(t)}class Pq extends jn{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let a=!1;const s=n.map((i,l)=>{const c=this.innerType.cast(i,Object.assign({},r,{path:`${r.path||""}[${l}]`}));return c!==i&&(a=!0),c});return a?s:n}_validate(e,r={},n,a){var s;let i=this.innerType,l=(s=r.recursive)!=null?s:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var d;if(!l||!i||!this._typeCheck(u)){a(c,u);return}let f=new Array(u.length);for(let h=0;h<u.length;h++){var m;f[h]=i.asNestedTest({options:r,index:h,parent:u,parentPath:r.path,originalParent:(m=r.originalValue)!=null?m:e})}this.runTests({value:u,tests:f,originalValue:(d=r.originalValue)!=null?d:e,options:r},n,h=>a(h.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(Eq)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!Nv(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+fs(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=$p.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||$p.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||$p.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,a,s)=>!e(n,a,s):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){const r=(e?this.resolve(e):this).clone(),n=super.describe(e);if(r.innerType){var a;let s=e;(a=s)!=null&&a.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),n.innerType=r.innerType.describe(s)}return n}}hn.prototype=Pq.prototype;function Nue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Cue=v.forwardRef(Nue);function Sue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Aue=v.forwardRef(Sue);function Tue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const kue=v.forwardRef(Tue);function Oue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const Eue=v.forwardRef(Oue);function Iue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),v.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Pue=v.forwardRef(Iue);function Due({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const _ue=v.forwardRef(Due);function $ue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const ru=v.forwardRef($ue);function Rue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const Mue=v.forwardRef(Rue);function Lue({title:t,titleId:e,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Fue=v.forwardRef(Lue);function ye({columns:t,data:e=[],pagination:r=!0,search:n=!0,actions:a=[],loading:s=!1,onRowClick:i=null,emptyMessage:l="No data available"}){const[c,u]=v.useState(1),[d,f]=v.useState(10),[m,h]=v.useState(""),[g,y]=v.useState({key:null,direction:"asc"}),x=Array.isArray(e)?e:[],b=[...x.filter(k=>Object.values(k).some(I=>I!=null&&I.toString().toLowerCase().includes(m.toLowerCase())))].sort((k,I)=>{if(!g.key)return 0;const E=k[g.key],P=I[g.key];return E==null?1:P==null?-1:typeof E=="string"&&typeof P=="string"?g.direction==="asc"?E.localeCompare(P):P.localeCompare(E):g.direction==="asc"?E-P:P-E}),N=Math.ceil(b.length/d),C=b.slice((c-1)*d,c*d),j=k=>{let I="asc";g.key===k&&g.direction==="asc"&&(I="desc"),y({key:k,direction:I})},w=k=>{u(k)},S=k=>{f(Number(k.target.value)),u(1)},T=k=>{h(k.target.value),u(1)};return s?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"Loading..."}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Please wait while we fetch the data."})]})}):x.length===0?o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"px-4 py-5 sm:p-6 text-center",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"mt-2 text-lg font-medium text-neutral-900",children:"No data available"}),o.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l})]})}):o.jsxs("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 overflow-hidden",children:[n&&o.jsx("div",{className:"px-4 py-3 border-b border-neutral-200 bg-neutral-50",children:o.jsxs("div",{className:"relative rounded-md shadow-sm",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(_ue,{className:"h-5 w-5 text-neutral-400","aria-hidden":"true"})}),o.jsx("input",{type:"text",className:"block w-full pl-10 pr-12 py-2 sm:text-sm border-neutral-300 rounded-md focus:ring-primary-500 focus:border-primary-500",placeholder:"Search",value:m,onChange:T})]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[o.jsx("thead",{className:"bg-neutral-50",children:o.jsxs("tr",{children:[t.map(k=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",onClick:()=>k.sortable!==!1&&j(k.key),children:o.jsxs("div",{className:"flex items-center gap-1",children:[" ",o.jsx("span",{children:k.header}),k.sortable!==!1&&o.jsxs("span",{className:"flex flex-col shrink-0",children:[" ",o.jsx(kue,{className:`h-3 w-3 ${g.key===k.key&&g.direction==="asc"?"text-primary-600":"text-neutral-400"}`}),o.jsx(Aue,{className:`h-3 w-3 -mt-1 ${g.key===k.key&&g.direction==="desc"?"text-primary-600":"text-neutral-400"}`})]})]})},k.key)),a.length>0&&o.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-neutral-500 uppercase tracking-wider cursor-pointer whitespace-nowrap",children:o.jsx("span",{children:"Actions"})})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:C.map((k,I)=>o.jsxs("tr",{className:i?"hover:bg-neutral-50 cursor-pointer":"",onClick:i?()=>i(k):void 0,children:[t.map(E=>o.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${E.className||"text-neutral-500"}`,children:E.render?E.render(k[E.key],k):k[E.key]},`${k.id||I}-${E.key}`)),typeof a=="function"?(()=>{const E=a(k);return(E==null?void 0:E.length)>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:E.map((P,L)=>o.jsx("button",{onClick:$=>{$.stopPropagation(),P.onClick(k)},className:P.className||"text-primary-600 hover:text-primary-900",title:P.title,children:P.icon?o.jsx(P.icon,{className:"h-5 w-5","aria-hidden":"true"}):P.label},L))})})():a.length>0&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a.map((E,P)=>o.jsx("button",{onClick:L=>{L.stopPropagation(),E.onClick(k)},className:E.className||"text-primary-600 hover:text-primary-900",title:E.title,children:E.icon?o.jsx(E.icon,{className:"h-5 w-5","aria-hidden":"true"}):E.label},P))})]},k.id||I))})]})}),r&&N>0&&o.jsxs("div",{className:"px-2 py-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 border-t border-neutral-200 bg-neutral-50 sm:px-6",children:[o.jsxs("div",{className:"text-sm text-neutral-700 text-center sm:text-left",children:["Showing"," ",o.jsx("span",{className:"font-medium",children:Math.min((c-1)*d+1,b.length)})," ","to"," ",o.jsx("span",{className:"font-medium",children:Math.min(c*d,b.length)})," ","of ",o.jsx("span",{className:"font-medium",children:b.length})," results"]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between sm:justify-end sm:gap-4 gap-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("label",{htmlFor:"rows-per-page",className:"text-sm text-neutral-700 whitespace-nowrap",children:"Rows per page"}),o.jsx("select",{id:"rows-per-page",name:"rows-per-page",className:"block w-auto pl-3 pr-8 py-1 text-sm border border-neutral-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",value:d,onChange:S,children:[5,10,25,50].map(k=>o.jsx("option",{value:k,children:k},k))})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>w(c-1),disabled:c===1,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Bue,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>w(c+1),disabled:c===N,className:"inline-flex items-center px-2 py-2 rounded-md border border-neutral-300 bg-white text-sm font-medium text-neutral-500 hover:bg-neutral-100 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(que,{className:"h-5 w-5"})})]})]})]})]})}function Bue(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}function que(t){return o.jsx("svg",{...t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})}function A({label:t,name:e,type:r="text",placeholder:n="",required:a=!1,disabled:s=!1,readOnly:i=!1,className:l="",options:c=[],value:u,onChange:d,onBlur:f,error:m,touched:h,helperText:g,...y}){const x=m&&h,p=()=>{switch(r){case"textarea":return o.jsx("textarea",{id:e,name:e,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,rows:y.rows||3,className:_e("form-textarea border border-gray-300 px-4 py-2",x&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y});case"multiselect":return o.jsx("select",{id:e,name:e,disabled:s,multiple:!0,value:u||[],onChange:b=>{const N=Array.from(b.target.selectedOptions).map(C=>C.value);d({target:{name:e,value:N}})},onBlur:f,className:_e("form-select border border-gray-300 px-4 py-2 h-auto",x&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y,children:c.map(b=>o.jsx("option",{value:b.value,children:b.label},b.value))});case"select":return o.jsxs("select",{id:e,name:e,disabled:s,value:u,onChange:d,onBlur:f,className:_e("form-select border border-gray-300 px-4 py-2",x&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y,children:[o.jsx("option",{value:"",children:y.defaultOption||"Select"}),c.map(b=>o.jsx("option",{value:b.value,children:b.label},b.value))]});case"checkbox":return o.jsx("div",{className:"flex items-center h-full",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:e,name:e,type:"checkbox",disabled:s,checked:u,onChange:d,onBlur:f,className:_e("form-checkbox",x&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y}),o.jsx("label",{htmlFor:e,className:"ml-2 block text-sm text-neutral-700",children:t})]})});case"radio":return o.jsx("div",{className:"space-y-2",children:c.map(b=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:`${e}-${b.value}`,name:e,type:"radio",value:b.value,disabled:s,checked:u===b.value,onChange:d,onBlur:f,className:_e("form-radio ",x&&"border-error-300 text-error-900 focus:ring-error-500 focus:border-error-500",l),...y}),o.jsx("label",{htmlFor:`${e}-${b.value}`,className:"ml-2 block text-sm text-neutral-700",children:b.label})]},b.value))});case"date":case"number":case"email":case"password":case"text":default:return o.jsx("input",{id:e,name:e,type:r,placeholder:n,disabled:s,readOnly:i,value:u,onChange:d,onBlur:f,className:_e("form-input border border-gray-300 px-4 py-2",x&&"border-error-300 text-error-900 placeholder-error-300 focus:ring-error-500 focus:border-error-500",l),...y})}};return o.jsxs("div",{className:`form-group ${r==="checkbox"?"":"space-y-1"}`,children:[r!=="checkbox"&&o.jsxs("label",{htmlFor:e,className:"form-label",children:[t," ",a&&o.jsx("span",{className:"text-error-500",children:"*"})]}),p(),x?o.jsx("div",{className:"mt-1 text-error-600 text-sm",children:m}):g?o.jsx("div",{className:"mt-1 text-neutral-500 text-xs",children:g}):null]})}function ae({isOpen:t,onClose:e,title:r,size:n="md",children:a,footer:s=null}){const i={sm:"sm:max-w-lg",md:"sm:max-w-xl",lg:"sm:max-w-2xl",xl:"sm:max-w-4xl",xxxl:"sm:max-w-7xl",full:"sm:max-w-full sm:h-screen"};return o.jsx(Cp.Root,{show:t,as:v.Fragment,children:o.jsx(m1,{as:"div",className:"fixed inset-0 z-50 overflow-y-auto",onClose:e,children:o.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:p-0",children:[o.jsx(Cp.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:o.jsx(m1.Overlay,{className:"fixed inset-0 bg-black bg-opacity-75 transition-opacity"})}),o.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true",children:""}),o.jsx(Cp.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:o.jsxs("div",{className:`inline-block w-full align-bottom sm:align-middle bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 ${i[n]}`,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-neutral-200",children:[o.jsx(m1.Title,{as:"h3",className:"text-lg font-medium text-neutral-900",children:r}),o.jsxs("button",{type:"button",className:"rounded-md text-neutral-400 hover:text-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:e,children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(uB,{className:"h-6 w-6","aria-hidden":"true"})]})]}),o.jsx("div",{className:"p-3 sm:px-6 sm:py-4",children:a}),s&&o.jsx("div",{className:"px-6 py-3 bg-neutral-50 border-t border-neutral-200",children:s})]})})]})})})}const Cv="https://staging-engine.testthelink.online",Vue=[],Uue={departments:Vue,department:null,isLoading:!1,error:null},Vn=M("departments/fetchDepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Cv}/department`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Mp=M("departments/addDepartment",async(t,e)=>{try{const r=await fetch(`${Cv}/department`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Lp=M("departments/updateDepartment",async(t,e)=>{try{const r=await fetch(`${Cv}/department/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fp=M("department/deleteDepartment",async(t,e)=>{try{const r=await fetch(`${Cv}/department/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dq=pe({name:"departments",initialState:Uue,reducers:{setDepartment:(t,e)=>{t.department=e.payload},resetDepartmentState:t=>{t.department=null,t.error=null}},extraReducers:t=>{t.addCase(Vn.pending,e=>{e.isLoading=!0}).addCase(Vn.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=r.payload,e.error=null}).addCase(Vn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Mp.pending,e=>{e.isLoading=!0}).addCase(Mp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments.push(r.payload),e.error=null}).addCase(Mp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Lp.pending,e=>{e.isLoading=!0}).addCase(Lp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.departments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.departments[n]=r.payload),e.error=null}).addCase(Lp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Fp.pending,e=>{e.isLoading=!0}).addCase(Fp.fulfilled,(e,r)=>{e.isLoading=!1,e.departments=e.departments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Fp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setDepartment:g7e,resetDepartmentState:y7e}=Dq.actions,zue=Dq.reducer;function Wue(){const t=ue(),{departments:e,isLoading:r,error:n}=V(C=>C.departments),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Vn())},[t]);const m=oe().shape({Code:O().required("Department code is required").max(10,"Department code must be at most 10 characters").test("unique-code","Department code already exists",function(C){return C?!e.some(w=>w.Code.trim().toLowerCase()===C.trim().toLowerCase()&&(!i||w.ID!==i.ID)):!0}),Name:O().required("Department name is required").max(100,"Department name must be at most 100 characters").test("unique-name","Department name already exists",function(C){return C?!e.some(w=>w.Name.trim().toLowerCase()===C.trim().toLowerCase()&&(!i||w.ID!==i.ID)):!0})}),h=()=>{l(null),s(!0)},g=C=>{l(C),s(!0)},y=C=>{f(C),u(!0)},x=()=>{d&&(t(Fp(d.ID)),u(!1),f(null))},p=(C,{resetForm:j})=>{t(i?Lp({...C,ID:i.ID}):Mp(C)),s(!1),j()},b=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Department Name",sortable:!0}],N=[{icon:Se,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Departments"}),o.jsx("p",{children:"Manage LGU departments and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Department"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:b,data:e,actions:N,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Department":"Add Department",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:m,onSubmit:p,children:({values:C,errors:j,touched:w,handleChange:S,handleBlur:T,isSubmitting:k})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Department Code",name:"Code",type:"text",required:!0,placeholder:"Enter department code",value:C.Code,onChange:S,onBlur:T,error:j.Code,touched:w.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Department Name",name:"Name",type:"text",required:!0,placeholder:"Enter department name",value:C.Name,onChange:S,onBlur:T,error:j.Name,touched:w.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the department"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.departmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const Sv="https://staging-engine.testthelink.online",Hue=[],Gue={currencies:Hue,currency:null,isLoading:!1,error:null},Pd=M("currencies/fetchCurrencies",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Sv}/currency`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Bp=M("currencies/addCurrency",async(t,e)=>{try{const r=await fetch(`${Sv}/currency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),qp=M("currencies/updateCurrency",async(t,e)=>{try{const r=await fetch(`${Sv}/currency/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Vp=M("currency/deleteCurrency",async(t,e)=>{try{const r=await fetch(`${Sv}/currency/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_q=pe({name:"currencies",initialState:Gue,reducers:{setCurrency:(t,e)=>{t.currency=e.payload},resetCurrencyState:t=>{t.currency=null,t.error=null}},extraReducers:t=>{t.addCase(Pd.pending,e=>{e.isLoading=!0}).addCase(Pd.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=r.payload,e.error=null}).addCase(Pd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Bp.pending,e=>{e.isLoading=!0}).addCase(Bp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies.push(r.payload),e.error=null}).addCase(Bp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(qp.pending,e=>{e.isLoading=!0}).addCase(qp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.currencies.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.currencies[n]=r.payload),e.error=null}).addCase(qp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Vp.pending,e=>{e.isLoading=!0}).addCase(Vp.fulfilled,(e,r)=>{e.isLoading=!1,e.currencies=e.currencies.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Vp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setCurrency:b7e,resetCurrencyState:x7e}=_q.actions,Yue=_q.reducer,Kue=oe().shape({Code:O().required("Code is required").max(10,"Code must be at most 10 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters")});function Jue(){const t=ue(),{currencies:e,isLoading:r,error:n}=V(N=>N.currencies),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Pd())},[t]);const m=()=>{l(null),s(!0)},h=N=>{l(N),s(!0)},g=N=>{f(N),u(!0)},y=()=>{d&&(t(Vp(d.ID)),u(!1),f(null))},x=(N,{resetForm:C})=>{t(i?qp({...N,ID:i.ID}):Bp(N)),s(!1),C()},p=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Currency Name",sortable:!0}],b=[{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Currencies"}),o.jsx("p",{children:"Manage LGU currencies and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Currency"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:p,data:e,actions:b,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Currency":"Add Currency",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:Kue,onSubmit:x,children:({values:N,errors:C,touched:j,handleChange:w,handleBlur:S,isSubmitting:T})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter currency code",value:N.Code,onChange:w,onBlur:S,error:C.Code,touched:j.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter currency name",value:N.Name,onChange:w,onBlur:S,error:C.Name,touched:j.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the currency ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const Av="https://staging-engine.testthelink.online",Xue=[],Que={subdepartments:Xue,subdepartment:null,isLoading:!1,error:null},Up=M("subdepartments/fetchSubdepartments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Av}/subDepartment`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch departments");return a.items}catch(r){return e.rejectWithValue(r.message)}}),zp=M("subdepartments/addSubdepartment",async(t,e)=>{try{const r=await fetch(`${Av}/subDepartment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add subdepartment");return n}catch(r){return e.rejectWithValue(r.message)}}),Wp=M("subdepartments/updateSubdepartment",async(t,e)=>{try{const r=await fetch(`${Av}/subDepartment/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update department");return n}catch(r){return e.rejectWithValue(r.message)}}),Hp=M("subdepartments/deleteSubdepartment",async(t,e)=>{try{const r=await fetch(`${Av}/subDepartment/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete department")}return t}catch(r){return e.rejectWithValue(r.message)}}),$q=pe({name:"subdepartments",initialState:Que,reducers:{setSubdepartment:(t,e)=>{t.subdepartment=e.payload},resetSubdepartmentState:t=>{t.subdepartment=null,t.error=null}},extraReducers:t=>{t.addCase(Up.pending,e=>{e.isLoading=!0}).addCase(Up.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=r.payload,e.error=null}).addCase(Up.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(zp.pending,e=>{e.isLoading=!0}).addCase(zp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments.push(r.payload),e.error=null}).addCase(zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Wp.pending,e=>{e.isLoading=!0}).addCase(Wp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subdepartments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subdepartments[n]=r.payload),e.error=null}).addCase(Wp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Hp.pending,e=>{e.isLoading=!0}).addCase(Hp.fulfilled,(e,r)=>{e.isLoading=!1,e.subdepartments=e.subdepartments.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Hp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubdepartment:v7e,resetSubdepartmentState:j7e}=$q.actions,Zue=$q.reducer;function ede(){const t=ue(),{subdepartments:e,isLoading:r}=V(j=>j.subdepartments||{}),{departments:n}=V(j=>j.departments),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Up()),t(Vn())},[t]);const m=oe().shape({Code:O().required("Subdepartment code is required").max(15,"Subdepartment code must be at most 15 characters").test("unique-code","Subdepartment code already exists in this department",function(j){if(!j||!this.parent.DepartmentID)return!0;const w=j.trim().toLowerCase();return!(e==null?void 0:e.some(T=>T.Code.trim().toLowerCase()===w&&T.DepartmentID===this.parent.DepartmentID&&(!i||T.ID!==i.ID)))}),Name:O().required("Subdepartment name is required").max(100,"Subdepartment name must be at most 100 characters").test("unique-name","Subdepartment name already exists in this department",function(j){if(!j||!this.parent.DepartmentID)return!0;const w=j.trim().toLowerCase();return!(e==null?void 0:e.some(T=>T.Name.trim().toLowerCase()===w&&T.DepartmentID===this.parent.DepartmentID&&(!i||T.ID!==i.ID)))}),DepartmentID:re().required("Department is required")}),h=e.map(j=>{var w;return{...j,departmentName:((w=n.find(S=>S.ID===j.DepartmentID))==null?void 0:w.Name)||"N/A"}}),g=()=>{l(null),s(!0)},y=j=>{l(j),s(!0)},x=j=>{f(j),u(!0)},p=()=>{d&&(t(Hp(d.ID)),u(!1),f(null))},b=(j,{resetForm:w})=>{var k;const S=((k=n.find(I=>I.ID===Number(j.DepartmentID)))==null?void 0:k.Name)||"",T={...j,departmentName:S};t(i?Wp({...T,ID:i.ID}):zp(T)),s(!1),w()},N=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Subdepartment Name",sortable:!0},{key:"departmentName",header:"Department",sortable:!0}],C=[{icon:Se,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:x,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Subdepartments"}),o.jsx("p",{children:"Manage LGU subdepartments and their details"})]}),o.jsxs("button",{type:"button",onClick:g,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Subdepartment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N,data:h,actions:C,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Subdepartment":"Add Subdepartment",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",DepartmentID:(i==null?void 0:i.DepartmentID)||""},validationSchema:m,onSubmit:b,children:({values:j,errors:w,touched:S,handleChange:T,handleBlur:k,isSubmitting:I})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Subdepartment Code",name:"Code",type:"text",required:!0,placeholder:"Enter subdepartment code",value:j.Code,onChange:T,onBlur:k,error:w.Code,touched:S.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Subdepartment Name",name:"Name",type:"text",required:!0,placeholder:"Enter subdepartment name",value:j.Name,onChange:T,onBlur:k,error:w.Name,touched:S.Name}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Department",name:"DepartmentID",type:"select",required:!0,value:j.DepartmentID,onChange:T,onBlur:k,error:w.DepartmentID,touched:S.DepartmentID,options:n.map(E=>({value:E.ID,label:E.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:I,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the subdepartment"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.subdepartmentName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}const Tv="https://staging-engine.testthelink.online",tde=[],rde={users:tde,user:null,isLoading:!1,error:null},Dd=M("users/fetchUsers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Tv}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a.items}catch(r){return e.rejectWithValue(r.message)}}),Ql=M("users/addUser",async(t,e)=>{try{const r=await fetch(`${Tv}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to add user");return n}catch(r){return e.rejectWithValue(r.message)}}),Zl=M("users/updateUser",async(t,e)=>{try{const r=await fetch(`${Tv}/users/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||n.error||"Failed to update user");return n}catch(r){return e.rejectWithValue(r.message)}}),Gp=M("users/deleteUser",async(t,e)=>{try{const r=await fetch(`${Tv}/users/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Rq=pe({name:"users",initialState:rde,reducers:{setUser:(t,e)=>{t.user=e.payload},resetUserState:t=>{t.user=null,t.error=null}},extraReducers:t=>{t.addCase(Dd.pending,e=>{e.isLoading=!0}).addCase(Dd.fulfilled,(e,r)=>{e.isLoading=!1,e.users=r.payload,e.error=null}).addCase(Dd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Ql.pending,e=>{e.isLoading=!0}).addCase(Ql.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.users)||(e.users=[]),e.users.push(r.payload),e.error=null}).addCase(Ql.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zl.pending,e=>{e.isLoading=!0}).addCase(Zl.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.users.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.users[n]=r.payload),e.error=null}).addCase(Zl.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gp.pending,e=>{e.isLoading=!0}).addCase(Gp.fulfilled,(e,r)=>{e.isLoading=!1,e.users=e.users.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Gp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setUser:w7e,resetUserState:N7e}=Rq.actions,nde=Rq.reducer,kv="https://staging-engine.testthelink.online",ade=[],sde={employees:ade,employee:null,isLoading:!1,error:null},Un=M("employees/fetchEmployees",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${kv}/employee`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Yp=M("employees/addEmployee",async(t,e)=>{try{const r=await fetch(`${kv}/employee`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add employee");return n}catch(r){return e.rejectWithValue(r.message)}}),Kp=M("employees/updateEmployee",async(t,e)=>{try{const r=await fetch(`${kv}/employee/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jp=M("employees/deleteEmployee",async(t,e)=>{try{const r=await fetch(`${kv}/employee/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mq=pe({name:"employees",initialState:sde,reducers:{setEmployee:(t,e)=>{t.employee=e.payload},resetEmployeeState:t=>{t.employee=null,t.error=null}},extraReducers:t=>{t.addCase(Un.pending,e=>{e.isLoading=!0}).addCase(Un.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=r.payload,e.error=null}).addCase(Un.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Yp.pending,e=>{e.isLoading=!0}).addCase(Yp.fulfilled,(e,r)=>{e.isLoading=!1,e.employees.push(r.payload),e.error=null}).addCase(Yp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Kp.pending,e=>{e.isLoading=!0}).addCase(Kp.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employees.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.employees[n]=r.payload),e.error=null}).addCase(Kp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Jp.pending,e=>{e.isLoading=!0}).addCase(Jp.fulfilled,(e,r)=>{e.isLoading=!1,e.employees=e.employees.filter(n=>n.ID!==r.payload),e.error=null}).addCase(Jp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setEmployee:C7e,resetEmployeeState:S7e}=Mq.actions,ode=Mq.reducer,Ov="https://staging-engine.testthelink.online",ide=[],ec=M("userroles/fetchUserroles",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ov}/userAccess`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Xp=M("userroles/addUserrole",async(t,e)=>{try{const r=await fetch(`${Ov}/userAccess`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),sA=M("userroles/updateUserrole",async(t,e)=>{try{const r=await fetch(`${Ov}/userAccess/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Qp=M("userroles/deleteUserrole",async(t,e)=>{try{const r=await fetch(`${Ov}/userAccess/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),lde=pe({name:"userroles",initialState:{userroles:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ec.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ec.fulfilled,(e,r)=>{e.isLoading=!1,e.userroles=Array.isArray(r.payload)?r.payload:[]}).addCase(ec.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch user roles",console.warn("Failed to fetch user roles, using mock data.",e.error),e.userroles=ide}).addCase(Xp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xp.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles.push(r.payload)}).addCase(Xp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add user role",console.error("Failed to add user role:",e.error)}).addCase(sA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.userroles.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.userroles)||(e.userroles=[]),e.userroles[n]=r.payload)}).addCase(Qp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qp.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.userroles)||(e.userroles=[]),e.userroles=e.userroles.filter(n=>n.ID!==r.payload)}).addCase(Qp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete user role",console.error("Failed to delete user role:",e.error)})}}),cde=lde.reducer,ude=oe().shape({UserName:O().required("User name is required"),UserAccessID:O().required("User Access is required"),Password:O().required("Password is required").min(6,"Password must be at least 6 characters"),ConfirmPassword:O().oneOf([Of("Password"),null],"Passwords must match").required("Confirm Password is required"),EmployeeID:O().required("Choose Employee is required")});function dde(){const t=ue(),{users:e,isLoading:r}=V(L=>L.users),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,g]=v.useState(null),{userroles:y,isLoading:x}=V(L=>L.userroles),p=y.map(L=>({value:L.ID,label:L.Description})),{employees:b,isLoading:N}=V(L=>L.employees),C=b.map(L=>({value:L.ID,label:`${L.FirstName} ${L.LastName}`}));v.useEffect(()=>{t(Dd()),t(Un()),t(ec())},[t]);const j=()=>{i(null),a(!0)},w=L=>{i(L),a(!0)},S=L=>{d(L),c(!0)},T=()=>{u&&(t(Gp(u.ID)),c(!1),d(null))},k=async(L,{resetForm:$,setErrors:_,setSubmitting:B})=>{const U={...L};try{if(s){const D=await t(Zl({...U,ID:s.ID})).unwrap();Zl.fulfilled.match(D)?(a(!1),$()):Zl.rejected.match(D)&&_({general:D.payload||"Failed to update user."})}else{const D=await t(Ql(U)).unwrap();Ql.fulfilled.match(D)?(a(!1),$()):Ql.rejected.match(D)&&_({general:D.payload||"Failed to add user."})}}catch(D){console.log(D),_({general:"Unexpected error occurred."})}finally{B(!1)}},I=[{key:"UserName",header:"User Name",sortable:!0},{key:"UserAccessValue",header:"User Access",sortable:!0}],E=[{icon:Se,title:"Edit",onClick:w,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:S,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],P=e.map(L=>{var $;return{...L,UserAccessValue:($=y.find(_=>_.ID===L.UserAccessID))==null?void 0:$.Description}});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Users"}),o.jsx("p",{children:"Manage system users and their access rights"})]}),o.jsxs("button",{type:"button",onClick:j,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:I,data:P,actions:E,loading:r||x||N})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User":"Add User",children:o.jsx($e,{initialValues:{UserName:(s==null?void 0:s.UserName)||"",UserAccessID:(s==null?void 0:s.UserAccessID)||"",Password:"",ConfirmPassword:"",EmployeeID:(s==null?void 0:s.EmployeeID)||""},validationSchema:ude,onSubmit:k,children:({values:L,errors:$,touched:_,handleChange:B,handleBlur:U,isSubmitting:D})=>o.jsxs(Be,{className:"space-y-4",children:[$.general&&o.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded text-sm",children:$.general}),o.jsx(A,{className:"p-3 focus:outline-none",label:"User Name",name:"UserName",type:"text",required:!0,placeholder:"Enter user name",value:L.UserName,onChange:B,onBlur:U,error:$.UserName,touched:_.UserName}),o.jsx(A,{className:"p-3 focus:outline-none",label:"User Access",name:"UserAccessID",type:"select",required:!0,value:L.UserAccessID,onChange:B,onBlur:U,error:$.UserAccessID,touched:_.UserAccessID,options:p}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Password",name:"Password",type:"password",required:!0,placeholder:"Enter password",value:L.Password,onChange:B,onBlur:U,error:$.Password,touched:_.Password}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Confirm Password",name:"ConfirmPassword",type:"password",required:!0,placeholder:"Confirm password",value:L.ConfirmPassword,onChange:B,onBlur:U,error:$.ConfirmPassword,touched:_.ConfirmPassword}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Choose Employee",name:"EmployeeID",type:"select",required:!0,value:L.EmployeeID,onChange:B,onBlur:U,error:$.EmployeeID,touched:_.EmployeeID,options:C}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:D,className:"btn btn-primary",children:D?"Saving...":s?"Update":"Save"})]})]})})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the user"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.UserName}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:T,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ev="https://staging-engine.testthelink.online",fde=[],mde={accounts:fde,account:null,isLoading:!1,error:null},pn=M("chartOfAccounts/fetchAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Ev}/chartofAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Zp=M("chartOfAccounts/addAccount",async(t,e)=>{try{const r=await fetch(`${Ev}/chartofAccounts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),eg=M("chartOfAccounts/updateAccount",async(t,e)=>{try{const r=await fetch(`${Ev}/chartofAccounts/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),tg=M("chartOfAccounts/deleteAccount",async(t,e)=>{try{const r=await fetch(`${Ev}/chartofAccounts/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Lq=pe({name:"chartOfAccounts",initialState:mde,reducers:{setAccount:(t,e)=>{t.account=e.payload},resetAccountState:t=>{t.account=null,t.error=null}},extraReducers:t=>{t.addCase(pn.pending,e=>{e.isLoading=!0}).addCase(pn.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts=r.payload,e.error=null}).addCase(pn.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zp.pending,e=>{e.isLoading=!0}).addCase(Zp.fulfilled,(e,r)=>{e.isLoading=!1,e.accounts.push(r.payload),e.error=null}).addCase(Zp.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eg.pending,e=>{e.isLoading=!0}).addCase(eg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accounts.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accounts[n]=r.payload),e.error=null}).addCase(eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.accounts)||(e.accounts=[]),e.accounts=e.accounts.filter(n=>n.ID!==r.payload)}).addCase(tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete account",console.error("Failed to delete account:",e.error)})}}),{setAccount:A7e,resetAccountState:T7e}=Lq.actions,hde=Lq.reducer,Iv="https://staging-engine.testthelink.online",pde=[],gde={accountGroups:pde,accountGroup:null,isLoading:!1,error:null},tc=M("accountGroups/fetchAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Iv}/accountType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),rg=M("accountGroups/addAccountGroup",async(t,e)=>{try{const r=await fetch(`${Iv}/accountType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ng=M("accountGroups/updateAccountGroup",async(t,e)=>{try{const r=await fetch(`${Iv}/accountType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ag=M("accountGroups/deleteAccountGroup",async(t,e)=>{try{const r=await fetch(`${Iv}/accountType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Fq=pe({name:"accountGroups",initialState:gde,reducers:{setAccountGroup:(t,e)=>{t.accountGroup=e.payload},resetAccountGroupState:t=>{t.accountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(tc.pending,e=>{e.isLoading=!0}).addCase(tc.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=r.payload,e.error=null}).addCase(tc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(rg.pending,e=>{e.isLoading=!0}).addCase(rg.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups.push(r.payload),e.error=null}).addCase(rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ng.pending,e=>{e.isLoading=!0}).addCase(ng.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.accountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.accountGroups[n]=r.payload),e.error=null}).addCase(ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ag.pending,e=>{e.isLoading=!0}).addCase(ag.fulfilled,(e,r)=>{e.isLoading=!1,e.accountGroups=e.accountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setAccountGroup:k7e,resetAccountGroupState:O7e}=Fq.actions,yde=Fq.reducer,Pv="https://staging-engine.testthelink.online",bde=[],xde={majorAccountGroups:bde,majorAccountGroup:null,isLoading:!1,error:null},rc=M("majorAccountGroups/fetchMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Pv}/accountSubType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),sg=M("majorAccountGroups/addMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Pv}/accountSubType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),og=M("majorAccountGroups/updateMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Pv}/accountSubType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),ig=M("majorAccountGroups/deleteMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Pv}/accountSubType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bq=pe({name:"majorAccountGroups",initialState:xde,reducers:{setMajorAccountGroup:(t,e)=>{t.majorAccountGroup=e.payload},resetMajorAccountGroupState:t=>{t.majorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(rc.pending,e=>{e.isLoading=!0}).addCase(rc.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=r.payload,e.error=null}).addCase(rc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sg.pending,e=>{e.isLoading=!0}).addCase(sg.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups.push(r.payload),e.error=null}).addCase(sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(og.pending,e=>{e.isLoading=!0}).addCase(og.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.majorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.majorAccountGroups[n]=r.payload),e.error=null}).addCase(og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ig.pending,e=>{e.isLoading=!0}).addCase(ig.fulfilled,(e,r)=>{e.isLoading=!1,e.majorAccountGroups=e.majorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMajorAccountGroup:E7e,resetMajorAccountGroupState:I7e}=Bq.actions,vde=Bq.reducer,Dv="https://staging-engine.testthelink.online",jde=[],wde={subMajorAccountGroups:jde,subMajorAccountGroup:null,isLoading:!1,error:null},_d=M("subMajorAccountGroups/fetchSubMajorAccountGroups",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Dv}/accountCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(console.log("Fetched sub major account groups:",a),!n.ok)throw new Error(a.message||"Failed to fetch sub major account groups");return a}catch(r){return e.rejectWithValue(r.message)}}),lg=M("subMajorAccountGroups/addSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Dv}/accountCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),cg=M("subMajorAccountGroups/updateSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Dv}/accountCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update sub major account group");return n}catch(r){return e.rejectWithValue(r.message)}}),ug=M("subMajorAccountGroups/deleteSubMajorAccountGroup",async(t,e)=>{try{const r=await fetch(`${Dv}/accountCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete sub major account group")}return t}catch(r){return e.rejectWithValue(r.message)}}),qq=pe({name:"subMajorAccountGroups",initialState:wde,reducers:{setSubMajorAccountGroup:(t,e)=>{t.subMajorAccountGroup=e.payload},resetSubMajorAccountGroupState:t=>{t.subMajorAccountGroup=null,t.error=null}},extraReducers:t=>{t.addCase(_d.pending,e=>{e.isLoading=!0}).addCase(_d.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=r.payload,e.error=null}).addCase(_d.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lg.pending,e=>{e.isLoading=!0}).addCase(lg.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups.push(r.payload),e.error=null}).addCase(lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cg.pending,e=>{e.isLoading=!0}).addCase(cg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subMajorAccountGroups.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.subMajorAccountGroups[n]=r.payload),e.error=null}).addCase(cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ug.pending,e=>{e.isLoading=!0}).addCase(ug.fulfilled,(e,r)=>{e.isLoading=!1,e.subMajorAccountGroups=e.subMajorAccountGroups.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setSubMajorAccountGroup:P7e,resetSubMajorAccountGroupState:D7e}=qq.actions,Nde=qq.reducer;var Vq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},K_=q.createContext&&q.createContext(Vq),Cde=["attr","size","title"];function Sde(t,e){if(t==null)return{};var r=Ade(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ade(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v0.apply(this,arguments)}function J_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function j0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J_(Object(r),!0).forEach(function(n){Tde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tde(t,e,r){return e=kde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kde(t){var e=Ode(t,"string");return typeof e=="symbol"?e:e+""}function Ode(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uq(t){return t&&t.map((e,r)=>q.createElement(e.tag,j0({key:r},e.attr),Uq(e.child)))}function jO(t){return e=>q.createElement(Ede,v0({attr:j0({},t.attr)},e),Uq(t.child))}function Ede(t){var e=r=>{var{attr:n,size:a,title:s}=t,i=Sde(t,Cde),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),q.createElement("svg",v0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:j0(j0({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&q.createElement("title",null,s),t.children)};return K_!==void 0?q.createElement(K_.Consumer,null,r=>e(r)):e(Vq)}function Ide(t){return jO({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Pde(t){return jO({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function Dde(t){return jO({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Sa=({options:t,label:e,placeholder:r="Search...",error:n,touched:a,required:s=!1,onSelect:i,selectedValue:l})=>{const[c,u]=v.useState(""),d=c===""?t:t.filter(m=>m.label.toLowerCase().includes(c.toLowerCase())),f=()=>{i(""),u("")};return o.jsx("div",{className:"w-full max-w-xs",children:o.jsx(yl,{value:l,onChange:i,children:({open:m})=>o.jsxs(o.Fragment,{children:[o.jsxs(yl.Label,{className:"block text-sm font-medium text-gray-700 mb-1",children:[e,s&&o.jsx("span",{className:"text-red-500",children:" *"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:`relative w-full cursor-default overflow-hidden rounded-md bg-white text-left shadow-sm sm:text-sm transition-all duration-200 ${a&&n?"border border-red-500":"border border-gray-300"}`,children:[o.jsx(yl.Input,{className:"w-full py-2.5 pl-3 pr-10 text-sm leading-5 focus-visible:outline-none text-gray-900",placeholder:r,displayValue:h=>{var g;return((g=t.find(y=>y.value===h))==null?void 0:g.label)||""},onChange:h=>u(h.target.value)}),o.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 space-x-1",children:[l&&o.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(Dde,{className:"h-4 w-4"})}),o.jsx(yl.Button,{className:"text-gray-400 hover:text-gray-500 transition-colors",children:o.jsx(Ide,{className:`h-5 w-5 transition-transform duration-200 ${m?"rotate-180":""}`})})]})]}),a&&n&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),o.jsx(yl.Options,{className:"absolute z-50 mt-1.5 w-full max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm animate-fadeIn",children:d.length===0&&c!==""?o.jsx("div",{className:"relative cursor-default select-none py-2 px-4 text-gray-500",children:"No results found"}):d.map(h=>o.jsx(yl.Option,{className:({active:g,selected:y})=>`relative cursor-default select-none py-2 pl-2 pr-4 transition-colors ${g?"bg-blue-50 text-blue-700":""}
                         ${y?"font-medium text-blue-900 bg-blue-100":"font-normal text-gray-900"}
                         `,value:h.value,children:o.jsx("span",{children:h.label})},h.value))})]})]})})})},_de=({accountGroups:t,majorAccountGroups:e,subMajorAccountGroups:r})=>{var i,l;const{values:n,setFieldValue:a}=gO(),s=(c,u)=>{const d=u.find(f=>f.ID===c);return d?d.Code:""};return v.useEffect(()=>{if(n.AccountTypeID&&n.AccountSubTypeID&&n.AccountCategoryID&&n.Code){const c=s(n.AccountTypeID,t),u=s(n.AccountSubTypeID,e),d=s(n.AccountCategoryID,r),f=`${c}-${u}-${d}-${n.Code}`;a("AccountCode",f)}},[n.AccountTypeID,n.AccountSubTypeID,n.AccountCategoryID,n.Code]),o.jsx(A,{className:"p-3 focus:outline-none bg-gray-200 cursor-not-allowed",label:"Account No",name:"AccountCode",type:"text",required:!0,placeholder:"e.g., 03-02-02-65465",value:n.AccountCode,readOnly:!0,error:(i=n.errors)==null?void 0:i.AccountCode,touched:(l=n.touched)==null?void 0:l.AccountCode})},$de=oe().shape({AccountCode:O().required("Account no is required").max(20,"Account no must be at most 20 characters"),Code:O().required("General Ledger Code is required").max(10,"General Ledger Code must be at most 10 characters"),Name:O().required("Account title is required").max(100,"Account title must be at most 100 characters"),Description:O().max(250,"Description must be at most 250 characters"),AccountTypeID:O().required("Account group is required"),AccountSubTypeID:O().required("Major account group is required"),AccountCategoryID:O().required("Sub Major account group is required"),NormalBalance:O().required("Normal balance is required")});function Rde({initialData:t,onClose:e}){const r=ue(),{accountGroups:n}=V(d=>d.accountGroups),{majorAccountGroups:a}=V(d=>d.majorAccountGroups),{subMajorAccountGroups:s}=V(d=>d.subMajorAccountGroups),[i,l]=v.useState(!1);v.useEffect(()=>{r(tc()),r(rc()),r(_d())},[r]);const c=t?{...t}:{AccountCode:"",Code:"",Name:"",Description:"",AccountTypeID:"",AccountSubTypeID:"",AccountCategoryID:"",NormalBalance:""},u=d=>{l(!0);const f=t?eg({...d,ID:t.ID}):Zp(d);r(f).unwrap().then(()=>{e()}).catch(m=>{console.error("Error submitting account:",m)}).finally(()=>{l(!1)})};return o.jsx($e,{initialValues:c,validationSchema:$de,onSubmit:u,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isValid:y,setFieldValue:x})=>{var p;return o.jsxs(Be,{className:"space-y-4",children:[o.jsx("div",{className:"",children:o.jsx(_de,{accountGroups:n,majorAccountGroups:a,subMajorAccountGroups:s})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"General Ledger Code",name:"Code",type:"text",required:!0,placeholder:"e.g., 65465",value:d.Code,onChange:h,onBlur:g,error:f.Code,touched:m.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Account Title",name:"Name",type:"text",required:!0,placeholder:"Enter account title",value:d.Name,onChange:h,onBlur:g,error:f.Name,touched:m.Name}),o.jsx(Sa,{label:"Account Group",options:n.map(b=>({label:`${b.Name} (${b.Code})`,value:b.ID})),placeholder:"Select Account Group",onSelect:b=>{x("AccountTypeID",b||"")},selectedValue:d.AccountTypeID||"",required:!0,error:f.AccountTypeID,touched:m.AccountTypeID}),o.jsx(Sa,{label:"Major Account Group",options:a.map(b=>({label:`${b.Name} (${b.Code})`,value:b.ID})),placeholder:"Select Major Account Group",onSelect:b=>{x("AccountSubTypeID",b||"")},selectedValue:((p=a.find(b=>b.ID===d.AccountSubTypeID))==null?void 0:p.ID)||"",required:!0,error:f.AccountSubTypeID,touched:m.AccountSubTypeID}),o.jsx(Sa,{label:"Sub Major Account Group",options:s.map(b=>({label:`${b.Name} (${b.Code})`,value:b.ID})),placeholder:"Select Sub Major Account Group",onSelect:b=>{x("AccountCategoryID",b||"")},selectedValue:d.AccountCategoryID||"",required:!0,error:f.AccountCategoryID,touched:m.AccountCategoryID})]}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"textarea",placeholder:"Enter account description",value:d.Description,onChange:h,onBlur:g,error:f.Description,touched:m.Description,rows:2}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsx(A,{className:"p-3 focus:outline-none",label:"Normal Balance",name:"NormalBalance",type:"select",required:!0,value:d.NormalBalance,onChange:h,onBlur:g,error:f.NormalBalance,touched:m.NormalBalance,options:[{value:"Debit",label:"Debit"},{value:"Credit",label:"Credit"}]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i||!y,className:"btn btn-primary",children:i?"Saving...":t?"Update":"Save"})]})]})}})}/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),X_=t=>{const e=Lde(t);return e.charAt(0).toUpperCase()+e.slice(1)},zq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Fde=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>v.createElement("svg",{ref:c,...Bde,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:zq("lucide",a),...!s&&!Fde(l)&&{"aria-hidden":"true"},...l},[...i.map(([u,d])=>v.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=(t,e)=>{const r=v.forwardRef(({className:n,...a},s)=>v.createElement(qde,{ref:s,iconNode:e,className:zq(`lucide-${Mde(X_(t))}`,`lucide-${t}`,n),...a}));return r.displayName=X_(t),r};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Wq=fr("building",Vde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wO=fr("calendar",Ude);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]],Wde=fr("circle-arrow-left",zde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Hq=fr("credit-card",Hde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yde=fr("eye-off",Gde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gq=fr("eye",Kde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xde=fr("file-text",Jde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zde=fr("map-pin",Qde);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Q_=fr("paperclip",efe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Yq=fr("pencil",tfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],NO=fr("plus",rfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],oA=fr("printer",nfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sfe=fr("search",afe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],un=fr("trash-2",ofe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],ul=fr("trash",ife);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_v=fr("user",lfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CO=fr("users",cfe);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dfe=fr("x",ufe);function ffe(){const t=ue(),{accounts:e,isLoading:r}=V(b=>b.chartOfAccounts),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(pn())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(tg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete account:",b)}},y=()=>{a(!1),i(null)},x=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NormalBalance",header:"Normal Balance",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Chart of Accounts"}),o.jsx("p",{children:"Manage account codes and their settings"})]}),o.jsx("div",{className:"flex gap-4 items-center ",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r})}),o.jsx(ae,{isOpen:n,onClose:y,title:s?"Edit Account":"Add Account",size:"lg",children:o.jsx(Rde,{initialData:s,onClose:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the account "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const mfe=oe().shape({Code:O().required("Code is required").max(10,"Code must be at most 10 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters")});function hfe(){const t=ue(),{accountGroups:e,isLoading:r,error:n}=V(N=>N.accountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(tc())},[t]);const m=()=>{l(null),s(!0)},h=N=>{l(N),s(!0)},g=N=>{f(N),u(!0)},y=()=>{d&&(t(ag(d.ID)),u(!1),f(null))},x=(N,{resetForm:C})=>{t(i?ng({...N,ID:i.ID}):rg(N)),s(!1),C()},p=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Account Type",sortable:!0}],b=[{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Types"}),o.jsx("p",{children:"Manage account types and their details"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:p,data:e,actions:b,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Type":"Add Account Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||""},validationSchema:mfe,onSubmit:x,children:({values:N,errors:C,touched:j,handleChange:w,handleBlur:S,isSubmitting:T})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:N.Code,onChange:w,onBlur:S,error:C.Code,touched:j.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:N.Name,onChange:w,onBlur:S,error:C.Name,touched:j.Name}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:T,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}const pfe=oe().shape({Code:O().required("Code is required").max(15,"Code must be at most 15 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters"),AccountTypeID:re().required("Account Type is required")});function gfe(){const t=ue(),{majorAccountGroups:e,isLoading:r}=V(C=>C.majorAccountGroups),{accountGroups:n}=V(C=>C.accountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(rc()),t(tc())},[t]);const m=e.map(C=>{const j=n.find(w=>w.ID===C.AccountTypeID);return{...C,accountTypeName:j?j.Name:"N/A"}}),h=()=>{l(null),s(!0)},g=C=>{l(C),s(!0)},y=C=>{f(C),u(!0)},x=()=>{d&&(t(ig(d.ID)),u(!1),f(null))},p=(C,{resetForm:j})=>{var T;const w=((T=n.find(k=>k.ID===Number(C.AccountTypeID)))==null?void 0:T.Name)||"",S={...C,accountTypeName:w};t(i?og({...S,ID:i.ID}):sg(S)),s(!1),j()},b=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountTypeName",header:"Account Type",sortable:!0}],N=[{icon:Se,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Sub-Types"}),o.jsx("p",{children:"Manage account sub-types and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Sub-Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:b,data:m,actions:N,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Sub-Type":"Add Account Sub-Type",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:pfe,onSubmit:p,children:({values:C,errors:j,touched:w,handleChange:S,handleBlur:T,isSubmitting:k})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:C.Code,onChange:S,onBlur:T,error:j.Code,touched:w.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:C.Name,onChange:S,onBlur:T,error:j.Name,touched:w.Name}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountTypeID",type:"select",required:!0,value:C.AccountTypeID,onChange:S,onBlur:T,error:j.AccountTypeID,touched:w.AccountTypeID,options:n.map(I=>({value:I.ID,label:I.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}const yfe=oe().shape({Code:O().required("Code is required").max(15,"Code must be at most 15 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters"),AccountSubTypeID:re().required("Account Sub Type is required")});function bfe(){const t=ue(),{subMajorAccountGroups:e,isLoading:r}=V(C=>C.subMajorAccountGroups),{majorAccountGroups:n}=V(C=>C.majorAccountGroups),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(_d()),t(rc())},[t]);const m=e.map(C=>{const j=n.find(w=>w.ID===C.AccountSubTypeID);return{...C,accountSubTypeName:j?j.Name:"N/A"}}),h=()=>{l(null),s(!0)},g=C=>{l(C),s(!0)},y=C=>{f(C),u(!0)},x=()=>{d&&(t(ug(d.ID)),u(!1),f(null))},p=(C,{resetForm:j})=>{var T;const w=((T=n.find(k=>k.ID===Number(C.AccountSubTypeID)))==null?void 0:T.Name)||"",S={...C,accountSubTypeName:w};t(i?cg({...S,ID:i.ID}):lg(S)),s(!1),j()},b=[{key:"Code",header:"Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Name",header:"Name",sortable:!0},{key:"accountSubTypeName",header:"Account Type",sortable:!0}],N=[{icon:Se,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Account Category"}),o.jsx("p",{children:"Manage account categories and their details"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Account Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:b,data:m,actions:N,loading:r})}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Account Category":"Add Account Category",children:o.jsx($e,{initialValues:{Code:(i==null?void 0:i.Code)||"",Name:(i==null?void 0:i.Name)||"",AccountTypeID:(i==null?void 0:i.AccountTypeID)||""},validationSchema:yfe,onSubmit:p,children:({values:C,errors:j,touched:w,handleChange:S,handleBlur:T,isSubmitting:k})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Code",name:"Code",type:"text",required:!0,placeholder:"Enter code",value:C.Code,onChange:S,onBlur:T,error:j.Code,touched:w.Code}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter name",value:C.Name,onChange:S,onBlur:T,error:j.Name,touched:w.Name}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Account Type",name:"AccountSubTypeID",type:"select",required:!0,value:C.AccountSubTypeID,onChange:S,onBlur:T,error:j.AccountSubTypeID,touched:w.AccountSubTypeID,options:n.map(I=>({value:I.ID,label:I.Name}))}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:k,className:"btn btn-primary",children:"Save"})]})]})})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete"," ",o.jsx("span",{className:"font-medium",children:d==null?void 0:d.Name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}function xfe({initialData:t,onSubmit:e,onClose:r,regionOptions:n=[],provinceOptions:a=[],municipalityOptions:s=[],barangayOptions:i=[],industryOptions:l=[],taxCodeOptions:c=[],vendorTypeOptions:u=[],paymentTermsOptions:d=[],modeOfPaymentOptions:f=[]}){const m=oe({Code:O().required("Code is required"),TIN:O().required("TIN is required"),Name:O().required("Name is required"),PhoneNumber:O(),MobileNumber:O().required("Mobile number is required"),EmailAddress:O().email("Invalid email").required("Email is required"),Website:O(),RegionID:O().required("Region is required"),ProvinceID:O().required("Province is required"),MunicipalityID:O().required("Municipality is required"),BarangayID:O().required("Barangay is required"),StreetAddress:O().required("Street address is required"),ZIPCode:O().required("Zip code is required"),TypeID:O().required("Vendor type is required"),RDO:O().required("Revenue District Office is required"),IndustryTypeID:O().required("Industry is required"),TaxCodeID:O().required("Tax code is required"),PaymentTermsID:O().required("Payment terms are required"),Vatable:Yi(),PaymentMethodID:O().required("Mode of payment is required"),ContactPerson:O().required("Contact person is required"),DeliveryLeadTime:re().required("Delivery lead time is required").typeError("Must be a number")}),h=tt({initialValues:t||{Code:"",TIN:"",Name:"",PhoneNumber:"",MobileNumber:"",EmailAddress:"",Website:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",StreetAddress:"",ZIPCode:"",TypeID:"",RDO:"",IndustryTypeID:"",TaxCodeID:"",PaymentTermsID:"",Vatable:!1,PaymentMethodID:"",ContactPerson:"",DeliveryLeadTime:""},validationSchema:m,onSubmit:N=>{e(N)}}),{values:g,handleChange:y,handleBlur:x,errors:p,touched:b}=h;return o.jsxs("form",{onSubmit:h.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:g.Code,onChange:y,onBlur:x,error:p.Code,touched:b.Code,required:!0}),o.jsx(A,{label:"TIN",name:"TIN",type:"text",value:g.TIN,onChange:y,onBlur:x,error:p.TIN,touched:b.TIN,required:!0})]}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:g.Name,onChange:y,onBlur:x,error:p.Name,touched:b.Name,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Phone Number",name:"PhoneNumber",type:"text",value:g.PhoneNumber,onChange:y,onBlur:x}),o.jsx(A,{label:"Mobile Number",name:"MobileNumber",type:"text",value:g.MobileNumber,onChange:y,onBlur:x,error:p.MobileNumber,touched:b.MobileNumber,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Email",name:"EmailAddress",type:"email",value:g.EmailAddress,onChange:y,onBlur:x,error:p.EmailAddress,touched:b.EmailAddress,required:!0}),o.jsx(A,{label:"Website",name:"Website",type:"text",value:g.Website,onChange:y,onBlur:x})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Region",name:"RegionID",type:"select",options:n,value:g.RegionID,onChange:y,onBlur:x,error:p.RegionID,touched:b.RegionID,required:!0}),o.jsx(A,{label:"Province",name:"ProvinceID",type:"select",options:a,value:g.ProvinceID,onChange:y,onBlur:x,error:p.ProvinceID,touched:b.ProvinceID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Municipality",name:"MunicipalityID",type:"select",options:s,value:g.MunicipalityID,onChange:y,onBlur:x,error:p.MunicipalityID,touched:b.MunicipalityID,required:!0}),o.jsx(A,{label:"Barangay",name:"BarangayID",type:"select",options:i,value:g.BarangayID,onChange:y,onBlur:x,error:p.BarangayID,touched:b.BarangayID,required:!0})]}),o.jsx(A,{label:"Street Address",name:"StreetAddress",type:"textarea",value:g.StreetAddress,onChange:y,onBlur:x,error:p.StreetAddress,touched:b.StreetAddress,required:!0}),o.jsx(A,{label:"Zip Code",name:"ZIPCode",type:"text",value:g.ZIPCode,onChange:y,onBlur:x,error:p.ZIPCode,touched:b.ZIPCode,required:!0}),o.jsx("hr",{className:"border-t border-neutral-300 my-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Vendor Type",name:"TypeID",type:"select",options:u,value:g.TypeID,onChange:y,onBlur:x,error:p.TypeID,touched:b.TypeID,required:!0}),o.jsx(A,{label:"Revenue District Office",name:"RDO",type:"text",value:g.RDO,onChange:y,onBlur:x,error:p.RDO,touched:b.RDO,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Industry",name:"IndustryTypeID",type:"select",options:l,value:g.IndustryTypeID,onChange:y,onBlur:x,error:p.IndustryTypeID,touched:b.IndustryTypeID,required:!0}),o.jsx(A,{label:"Tax Code",name:"TaxCodeID",type:"select",options:c,value:g.TaxCodeID,onChange:y,onBlur:x,error:p.TaxCodeID,touched:b.TaxCodeID,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Payment Terms",name:"PaymentTermsID",type:"select",options:d,value:g.PaymentTermsID,onChange:y,onBlur:x,error:p.PaymentTermsID,touched:b.PaymentTermsID,required:!0}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:g.Vatable,onChange:y,onBlur:x}),o.jsx("label",{htmlFor:"Vatable",children:"Vatable"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Mode of Payment",name:"PaymentMethodID",type:"select",options:f,value:g.PaymentMethodID,onChange:y,onBlur:x,error:p.PaymentMethodID,touched:b.PaymentMethodID,required:!0}),o.jsx(A,{label:"Contact Person",name:"ContactPerson",type:"text",value:g.ContactPerson,onChange:y,onBlur:x,error:p.ContactPerson,touched:b.ContactPerson,required:!0})]}),o.jsx(A,{label:"Delivery Lead Time (days)",name:"DeliveryLeadTime",type:"number",value:g.DeliveryLeadTime,onChange:y,onBlur:x,error:p.DeliveryLeadTime,touched:b.DeliveryLeadTime,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h.isSubmitting,children:h.isSubmitting?"Saving...":"Save"})]})]})}const $v="https://staging-engine.testthelink.online",vfe=[],ms=M("vendorDetails/fetchVendorDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${$v}/vendor`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),dg=M("vendorDetails/addVendorDetails",async(t,e)=>{try{const r=await fetch(`${$v}/vendor`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iA=M("vendorDetails/updateVendorDetails",async(t,e)=>{try{const r=await fetch(`${$v}/vendor/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),fg=M("vendorDetails/deleteVendorDetails",async(t,e)=>{try{const r=await fetch(`${$v}/vendor/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),jfe=pe({name:"vendorDetails",initialState:{vendorDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ms.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ms.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(ms.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor details",console.warn("Failed to fetch vendor details, using mock data.",e.error),e.vendorDetails=vfe}).addCase(dg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails.push(r.payload)}).addCase(dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor details",console.error("Failed to add vendor details:",e.error)}).addCase(iA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails[n]=r.payload)}).addCase(fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorDetails)||(e.vendorDetails=[]),e.vendorDetails=e.vendorDetails.filter(n=>n.ID!==r.payload)}).addCase(fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor details",console.error("Failed to delete vendor details:",e.error)})}}),wfe=jfe.reducer,Rv="https://staging-engine.testthelink.online",Nfe=[],Ei=M("regions/fetchRegions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Rv}/region`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),mg=M("regions/addRegion",async(t,e)=>{try{const r=await fetch(`${Rv}/region`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),lA=M("regions/updateRegion",async(t,e)=>{try{const r=await fetch(`${Rv}/region/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hg=M("regions/deleteRegion",async(t,e)=>{try{const r=await fetch(`${Rv}/region/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Cfe=pe({name:"regions",initialState:{regions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ei.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ei.fulfilled,(e,r)=>{e.isLoading=!1,e.regions=Array.isArray(r.payload)?r.payload:[]}).addCase(Ei.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch regions",console.warn("Failed to fetch regions, using mock data.",e.error),e.regions=Nfe}).addCase(mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions.push(r.payload)}).addCase(mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add region",console.error("Failed to add region:",e.error)}).addCase(lA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.regions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.regions)||(e.regions=[]),e.regions[n]=r.payload)}).addCase(hg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.regions)||(e.regions=[]),e.regions=e.regions.filter(n=>n.ID!==r.payload)}).addCase(hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete region",console.error("Failed to delete region:",e.error)})}}),Sfe=Cfe.reducer,Mv="https://staging-engine.testthelink.online",Afe=[],xo=M("provinces/fetchProvinces",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mv}/province`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),pg=M("provinces/addProvince",async(t,e)=>{try{const r=await fetch(`${Mv}/province`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),cA=M("provinces/updateProvince",async(t,e)=>{try{const r=await fetch(`${Mv}/province/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gg=M("provinces/deleteProvince",async(t,e)=>{try{const r=await fetch(`${Mv}/province/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Tfe=pe({name:"provinces",initialState:{provinces:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(xo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xo.fulfilled,(e,r)=>{e.isLoading=!1,e.provinces=Array.isArray(r.payload)?r.payload:[]}).addCase(xo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch provinces",console.warn("Failed to fetch provinces, using mock data.",e.error),e.provinces=Afe}).addCase(pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces.push(r.payload)}).addCase(pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add province",console.error("Failed to add province:",e.error)}).addCase(cA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.provinces.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.provinces)||(e.provinces=[]),e.provinces[n]=r.payload)}).addCase(gg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.provinces)||(e.provinces=[]),e.provinces=e.provinces.filter(n=>n.ID!==r.payload)}).addCase(gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete province",console.error("Failed to delete province:",e.error)})}}),kfe=Tfe.reducer,Lv="https://staging-engine.testthelink.online",Ofe=[],vo=M("municipalities/fetchMunicipalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lv}/municipality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),yg=M("municipalities/addMunicipality",async(t,e)=>{try{const r=await fetch(`${Lv}/municipality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),uA=M("municipalities/updateMunicipality",async(t,e)=>{try{const r=await fetch(`${Lv}/municipality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),bg=M("municipalities/deleteMunicipality",async(t,e)=>{try{const r=await fetch(`${Lv}/municipality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Efe=pe({name:"municipalities",initialState:{municipalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(vo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vo.fulfilled,(e,r)=>{e.isLoading=!1,e.municipalities=Array.isArray(r.payload)?r.payload:[]}).addCase(vo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch municipalities",console.warn("Failed to fetch municipalities, using mock data.",e.error),e.municipalities=Ofe}).addCase(yg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities.push(r.payload)}).addCase(yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add municipality",console.error("Failed to add municipality:",e.error)}).addCase(uA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.municipalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities[n]=r.payload)}).addCase(bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.municipalities)||(e.municipalities=[]),e.municipalities=e.municipalities.filter(n=>n.ID!==r.payload)}).addCase(bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete municipality",console.error("Failed to delete municipality:",e.error)})}}),Ife=Efe.reducer,Fv="https://staging-engine.testthelink.online",Pfe=[],Ii=M("barangays/fetchBarangays",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Fv}/barangay`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),xg=M("barangays/addBarangay",async(t,e)=>{try{const r=await fetch(`${Fv}/barangay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),dA=M("barangays/updateBarangay",async(t,e)=>{try{const r=await fetch(`${Fv}/barangay/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),vg=M("barangays/deleteBarangay",async(t,e)=>{try{const r=await fetch(`${Fv}/barangay/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dfe=pe({name:"barangays",initialState:{barangays:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ii.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ii.fulfilled,(e,r)=>{e.isLoading=!1,e.barangays=Array.isArray(r.payload)?r.payload:[]}).addCase(Ii.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch barangays",console.warn("Failed to fetch barangays, using mock data.",e.error),e.barangays=Pfe}).addCase(xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays.push(r.payload)}).addCase(xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add barangay",console.error("Failed to add barangay:",e.error)}).addCase(dA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.barangays.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.barangays)||(e.barangays=[]),e.barangays[n]=r.payload)}).addCase(vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.barangays)||(e.barangays=[]),e.barangays=e.barangays.filter(n=>n.ID!==r.payload)}).addCase(vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete barangay",console.error("Failed to delete barangay:",e.error)})}}),_fe=Dfe.reducer,Bv="https://staging-engine.testthelink.online",$fe=[],$d=M("vendorTypes/fetchVendorTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Bv}/vendorType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jg=M("vendorTypes/addVendorType",async(t,e)=>{try{const r=await fetch(`${Bv}/vendorType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),fA=M("vendorTypes/updateVendorType",async(t,e)=>{try{const r=await fetch(`${Bv}/vendorType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),wg=M("vendorTypes/deleteVendorType",async(t,e)=>{try{const r=await fetch(`${Bv}/vendorType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Rfe=pe({name:"vendorTypes",initialState:{vendorTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase($d.pending,e=>{e.isLoading=!0,e.error=null}).addCase($d.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorTypes=Array.isArray(r.payload)?r.payload:[]}).addCase($d.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor types",console.warn("Failed to fetch vendor types, using mock data.",e.error),e.vendorTypes=$fe}).addCase(jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes.push(r.payload)}).addCase(jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor type",console.error("Failed to add vendor type:",e.error)}).addCase(fA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes[n]=r.payload)}).addCase(wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorTypes)||(e.vendorTypes=[]),e.vendorTypes=e.vendorTypes.filter(n=>n.ID!==r.payload)}).addCase(wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor type",console.error("Failed to delete vendor type:",e.error)})}}),Mfe=Rfe.reducer,qv="https://staging-engine.testthelink.online",Lfe=[],nc=M("industries/fetchIndustries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qv}/industryType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ng=M("industries/addIndustry",async(t,e)=>{try{const r=await fetch(`${qv}/industryType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),mA=M("industries/updateIndustry",async(t,e)=>{try{const r=await fetch(`${qv}/industryType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cg=M("industries/deleteIndustry",async(t,e)=>{try{const r=await fetch(`${qv}/industryType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ffe=pe({name:"industries",initialState:{industries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(nc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nc.fulfilled,(e,r)=>{e.isLoading=!1,e.industries=Array.isArray(r.payload)?r.payload:[]}).addCase(nc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch industries",console.warn("Failed to fetch industries, using mock data.",e.error),e.industries=Lfe}).addCase(Ng.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ng.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries.push(r.payload)}).addCase(Ng.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add industry",console.error("Failed to add industry:",e.error)}).addCase(mA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.industries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.industries)||(e.industries=[]),e.industries[n]=r.payload)}).addCase(Cg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.industries)||(e.industries=[]),e.industries=e.industries.filter(n=>n.ID!==r.payload)}).addCase(Cg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete industry",console.error("Failed to delete industry:",e.error)})}}),Bfe=Ffe.reducer,Vv="https://staging-engine.testthelink.online",qfe=[],ca=M("taxCodes/fetchTaxCodes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vv}/taxCode`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Sg=M("taxCodes/addTaxCode",async(t,e)=>{try{const r=await fetch(`${Vv}/taxCode`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),hA=M("taxCodes/updateTaxCode",async(t,e)=>{try{const r=await fetch(`${Vv}/taxCode/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ag=M("taxCodes/deleteTaxCode",async(t,e)=>{try{const r=await fetch(`${Vv}/taxCode/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Vfe=pe({name:"taxCodes",initialState:{taxCodes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ca.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ca.fulfilled,(e,r)=>{e.isLoading=!1,e.taxCodes=Array.isArray(r.payload)?r.payload:[]}).addCase(ca.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax codes",console.warn("Failed to fetch tax codes, using mock data.",e.error),e.taxCodes=qfe}).addCase(Sg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes.push(r.payload)}).addCase(Sg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax code",console.error("Failed to add tax code:",e.error)}).addCase(hA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxCodes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes[n]=r.payload)}).addCase(Ag.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ag.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxCodes)||(e.taxCodes=[]),e.taxCodes=e.taxCodes.filter(n=>n.ID!==r.payload)}).addCase(Ag.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax code",console.error("Failed to delete tax code:",e.error)})}}),Ufe=Vfe.reducer,Uv="https://staging-engine.testthelink.online",zfe=[],ac=M("paymentTerms/fetchPaymentTerms",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Uv}/paymentTerms`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Tg=M("paymentTerms/addPaymentTerm",async(t,e)=>{try{const r=await fetch(`${Uv}/paymentTerms`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),pA=M("paymentTerms/updatePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Uv}/paymentTerms/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),kg=M("paymentTerms/deletePaymentTerm",async(t,e)=>{try{const r=await fetch(`${Uv}/paymentTerms/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Wfe=pe({name:"paymentTerms",initialState:{paymentTerms:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ac.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ac.fulfilled,(e,r)=>{e.isLoading=!1,e.paymentTerms=Array.isArray(r.payload)?r.payload:[]}).addCase(ac.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch payment terms",console.warn("Failed to fetch payment terms, using mock data.",e.error),e.paymentTerms=zfe}).addCase(Tg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms.push(r.payload)}).addCase(Tg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add payment term",console.error("Failed to add payment term:",e.error)}).addCase(pA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.paymentTerms.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms[n]=r.payload)}).addCase(kg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.paymentTerms)||(e.paymentTerms=[]),e.paymentTerms=e.paymentTerms.filter(n=>n.ID!==r.payload)}).addCase(kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete payment term",console.error("Failed to delete payment term:",e.error)})}}),Hfe=Wfe.reducer,zv="https://staging-engine.testthelink.online",Gfe=[],sc=M("modeOfPayments/fetchModeOfPayments",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${zv}/paymentMethod`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Og=M("modeOfPayments/addModeOfPayment",async(t,e)=>{try{const r=await fetch(`${zv}/paymentMethod`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),gA=M("modeOfPayments/updateModeOfPayment",async(t,e)=>{try{const r=await fetch(`${zv}/paymentMethod/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Eg=M("modeOfPayments/deleteModeOfPayment",async(t,e)=>{try{const r=await fetch(`${zv}/paymentMethod/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Yfe=pe({name:"modeOfPayments",initialState:{modeOfPayments:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(sc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(sc.fulfilled,(e,r)=>{e.isLoading=!1,e.modeOfPayments=Array.isArray(r.payload)?r.payload:[]}).addCase(sc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch mode of payments",console.warn("Failed to fetch mode of payments, using mock data.",e.error),e.modeOfPayments=Gfe}).addCase(Og.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Og.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments.push(r.payload)}).addCase(Og.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add mode of payment",console.error("Failed to add mode of payment:",e.error)}).addCase(gA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modeOfPayments.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments[n]=r.payload)}).addCase(Eg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Eg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modeOfPayments)||(e.modeOfPayments=[]),e.modeOfPayments=e.modeOfPayments.filter(n=>n.ID!==r.payload)}).addCase(Eg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete mode of payment",console.error("Failed to delete mode of payment:",e.error)})}}),Kfe=Yfe.reducer;function Jfe(){const t=ue(),{vendorDetails:e,isLoading:r}=V(F=>F.vendorDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{regions:f}=V(F=>F.regions),{provinces:m}=V(F=>F.provinces),{municipalities:h}=V(F=>F.municipalities),{barangays:g}=V(F=>F.barangays),{vendorTypes:y}=V(F=>F.vendorTypes),{industries:x}=V(F=>F.industries),{taxCodes:p}=V(F=>F.taxCodes),{paymentTerms:b}=V(F=>F.paymentTerms),{modeOfPayments:N}=V(F=>F.modeOfPayments);v.useEffect(()=>{t(ms()),t(Ei()),t(xo()),t(vo()),t(Ii()),t($d()),t(nc()),t(ca()),t(ac()),t(sc())},[t]);const C=f.map(F=>({value:F.ID,label:F.Name})),j=m.map(F=>({value:F.ID,label:F.Name})),w=h.map(F=>({value:F.ID,label:F.Name})),S=g.map(F=>({value:F.ID,label:F.Name})),T=y.map(F=>({value:F.ID,label:F.Name})),k=x.map(F=>({value:F.ID,label:F.Name})),I=p.map(F=>({value:F.ID,label:F.Code})),E=b.map(F=>({value:F.ID,label:F.Name})),P=N.map(F=>({value:F.ID,label:F.Name})),L=()=>{i(null),a(!0)},$=F=>{i(F),a(!0)},_=F=>{d(F),c(!0)},B=async()=>{if(u)try{await t(fg(u.ID)).unwrap(),c(!1),d(null)}catch(F){console.error("Failed to delete vendor details:",F)}},U=F=>{t(s?iA({...F,ID:s.ID}):dg(F)),a(!1)},D=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Vendor",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:F=>{const G=b.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method ID"},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:F=>{const G=N.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"DeliveryLeadTime",header:"Time (no. of Days)",sortable:!0,render:F=>F||"0"},{key:"TIN",header:"TIN",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:F=>F?"Yes":"No"},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:F=>{const G=p.find(W=>W.ID==F);return(G==null?void 0:G.Code)||"N/A"}},{key:"TypeID",header:"Vendor Type",sortable:!0,render:F=>{const G=y.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:F=>{const G=x.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"ContactPerson",header:"Contact Person",sortable:!0},{key:"PhoneNumber",header:"Phone Number",sortable:!0},{key:"MobileNumber",header:"Mobile Number",sortable:!0},{key:"EmailAddress",header:"Email Address",sortable:!0},{key:"Website",header:"Website",sortable:!0,render:F=>F||"No website"},{key:"StreetAddress",header:"StreetAddress",sortable:!0},{key:"BarangayID",header:"Barangay",sortable:!0,render:F=>{const G=g.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"MunicipalityID",header:"Municipality",sortable:!0,render:F=>{const G=h.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"ProvinceID",header:"Province",sortable:!0,render:F=>{const G=m.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"RegionID",header:"Region",sortable:!0,render:F=>{const G=f.find(W=>W.ID==F);return(G==null?void 0:G.Name)||"N/A"}},{key:"ZIPCode",header:"ZIPCode",sortable:!0}],R=[{icon:Se,title:"Edit",onClick:$,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:_,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Details"}),o.jsx("p",{children:"Manage Vendor Details"})]}),o.jsxs("button",{type:"button",onClick:L,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Details"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:D,data:e,actions:R,loading:r,emptyMessage:"No vendor details found. Click 'Add Vendor Details' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Details":"Add Vendor Details",children:o.jsx(xfe,{initialData:s,onClose:()=>a(!1),onSubmit:U,regionOptions:C,provinceOptions:j,municipalityOptions:w,barangayOptions:S,vendorTypeOptions:T,industryOptions:k,taxCodeOptions:I,paymentTermsOptions:E,modeOfPaymentOptions:P})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor details "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:B,className:"btn btn-danger",children:"Delete"})]})]})]})}function Xfe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:O().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const Wv="https://staging-engine.testthelink.online",Qfe=[],Ig=M("vendorCustomerTypes/fetchVendorCustomerTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Wv}/vendorCustomerType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Pg=M("vendorCustomerTypes/addVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${Wv}/vendorCustomerType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),yA=M("vendorCustomerTypes/updateVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${Wv}/vendorCustomerType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dg=M("vendorCustomerTypes/deleteVendorCustomerType",async(t,e)=>{try{const r=await fetch(`${Wv}/vendorCustomerType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Zfe=pe({name:"vendorCustomerTypes",initialState:{vendorCustomerTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ig.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ig.fulfilled,(e,r)=>{e.isLoading=!1,e.vendorCustomerTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Ig.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch vendor customer types",console.warn("Failed to fetch vendor customer types, using mock data.",e.error),e.vendorCustomerTypes=Qfe}).addCase(Pg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes.push(r.payload)}).addCase(Pg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add vendor customer type",console.error("Failed to add vendor customer type:",e.error)}).addCase(yA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendorCustomerTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes[n]=r.payload)}).addCase(Dg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.vendorCustomerTypes)||(e.vendorCustomerTypes=[]),e.vendorCustomerTypes=e.vendorCustomerTypes.filter(n=>n.ID!==r.payload)}).addCase(Dg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete vendor customer type",console.error("Failed to delete vendor customer type:",e.error)})}}),eme=Zfe.reducer;function tme(){const t=ue(),{vendorCustomerTypes:e,isLoading:r}=V(b=>b.vendorCustomerTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ig())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Dg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete vendor customer type:",b)}},y=b=>{t(s?yA({...b,ID:s.ID}):Pg(b)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Customer Types"}),o.jsx("p",{children:"Manage Vendor Customer Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Customer Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No vendor customer types found. Click 'Add Vendor Customer Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Customer Type":"Add Vendor Customer Type",children:o.jsx(Xfe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor customer type "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function rme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:O().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function nme(){const t=ue(),{vendorTypes:e,isLoading:r}=V(b=>b.vendorTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t($d())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(wg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete vendor type:",b)}},y=b=>{t(s?fA({...b,ID:s.ID}):jg(b)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Vendor Types"}),o.jsx("p",{children:"Manage Vendor Types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Vendor Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No vendor types found. Click 'Add Vendor Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Vendor Type":"Add Vendor Type",children:o.jsx(rme,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the vendor type "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function ame({initialData:t,onSubmit:e,onClose:r}){const n=oe({Description:O().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const Hv="https://staging-engine.testthelink.online",sme=[],Rd=M("modules/fetchModules",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Hv}/module`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),_g=M("modules/addModule",async(t,e)=>{try{const r=await fetch(`${Hv}/module`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),bA=M("modules/updateModule",async(t,e)=>{try{const r=await fetch(`${Hv}/module/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),$g=M("modules/deleteModule",async(t,e)=>{try{const r=await fetch(`${Hv}/module/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ome=pe({name:"modules",initialState:{modules:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Rd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rd.fulfilled,(e,r)=>{e.isLoading=!1,e.modules=Array.isArray(r.payload)?r.payload:[]}).addCase(Rd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch modules",console.warn("Failed to fetch modules, using mock data.",e.error),e.modules=sme}).addCase(_g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules.push(r.payload)}).addCase(_g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add module",console.error("Failed to add module:",e.error)}).addCase(bA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.modules.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.modules)||(e.modules=[]),e.modules[n]=r.payload)}).addCase($g.pending,e=>{e.isLoading=!0,e.error=null}).addCase($g.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.modules)||(e.modules=[]),e.modules=e.modules.filter(n=>n.ID!==r.payload)}).addCase($g.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete module",console.error("Failed to delete module:",e.error)})}}),ime=ome.reducer;function lme(){const t=ue(),{modules:e,isLoading:r}=V(b=>b.modules),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Rd())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t($g(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete module:",b)}},y=b=>{t(s?bA({...b,ID:s.ID}):_g(b)),a(!1)},x=[{key:"Description",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Modules"}),o.jsx("p",{children:"Manage Modules"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Module"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No modules found. Click 'Add Module' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Module":"Add Module",children:o.jsx(ame,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the module "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Gv="https://staging-engine.testthelink.online",cme=[],oc=M("positions/fetchPositions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Gv}/position`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Rg=M("positions/addPosition",async(t,e)=>{try{const r=await fetch(`${Gv}/position`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xA=M("positions/updatePosition",async(t,e)=>{try{const r=await fetch(`${Gv}/position/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Mg=M("positions/deletePosition",async(t,e)=>{try{const r=await fetch(`${Gv}/position/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ume=pe({name:"positions",initialState:{positions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(oc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oc.fulfilled,(e,r)=>{e.isLoading=!1,e.positions=Array.isArray(r.payload)?r.payload:[]}).addCase(oc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch positions",console.warn("Failed to fetch positions, using mock data.",e.error),e.positions=cme}).addCase(Rg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Rg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions.push(r.payload)}).addCase(Rg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add position",console.error("Failed to add position:",e.error)}).addCase(xA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.positions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.positions)||(e.positions=[]),e.positions[n]=r.payload)}).addCase(Mg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Mg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.positions)||(e.positions=[]),e.positions=e.positions.filter(n=>n.ID!==r.payload)}).addCase(Mg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete position",console.error("Failed to delete position:",e.error)})}}),dme=ume.reducer,Yv="https://staging-engine.testthelink.online",fme=[],Md=M("employmentStatuses/fetchEmploymentStatuses",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Yv}/employmentStatus`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Lg=M("employmentStatuses/addEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${Yv}/employmentStatus`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),vA=M("employmentStatuses/updateEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${Yv}/employmentStatus/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Fg=M("employmentStatuses/deleteEmploymentStatus",async(t,e)=>{try{const r=await fetch(`${Yv}/employmentStatus/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),mme=pe({name:"employmentStatuses",initialState:{employmentStatuses:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Md.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Md.fulfilled,(e,r)=>{e.isLoading=!1,e.employmentStatuses=Array.isArray(r.payload)?r.payload:[]}).addCase(Md.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch employment statuses",console.warn("Failed to fetch employment statuses, using mock data.",e.error),e.employmentStatuses=fme}).addCase(Lg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Lg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses.push(r.payload)}).addCase(Lg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add employment status",console.error("Failed to add employment status:",e.error)}).addCase(vA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.employmentStatuses.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses[n]=r.payload)}).addCase(Fg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.employmentStatuses)||(e.employmentStatuses=[]),e.employmentStatuses=e.employmentStatuses.filter(n=>n.ID!==r.payload)}).addCase(Fg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete employment status",console.error("Failed to delete employment status:",e.error)})}}),hme=mme.reducer,pme=oe().shape({FirstName:O().required("First name is required").max(100,"First name must be at most 100 characters"),LastName:O().required("Last name is required").max(100,"Last name must be at most 100 characters"),MiddleName:O().max(100,"Middle name must be at most 100 characters"),Birthday:Me().required("Birth date is required").max(new Date,"Birth date cannot be in the future"),Gender:O().required("Gender is required"),civilStatus:O().required("Civil status is required"),StreetAddress:O().required("Address is required").max(200,"Address must be at most 200 characters"),MobileNumber:O().required("Contact number is required"),EmailAddress:O().email("Invalid email address").required("Email is required"),DepartmentID:re().required("Department is required"),PositionID:O().required("Position is required"),EmploymentStatusID:O().required("Employment status is required"),DateHired:Me().required("Date hired is required"),TIN:O(),GSIS:O(),Philhealth:O(),Pagibig:O(),Active:O().required("Status is required")});function gme({initialData:t,onClose:e}){const r=ue();v.useEffect(()=>{r(Vn()),r(oc()),r(Md())},[r]);const{departments:n}=V(x=>x.departments),a=V(x=>x.departments.isLoading),s=n.map(x=>({value:x.ID,label:x.Name})),{positions:i}=V(x=>x.positions),l=V(x=>x.positions.isLoading),c=i.map(x=>({value:x.ID,label:x.Name})),{employmentStatuses:u}=V(x=>x.employmentStatuses),d=V(x=>x.employmentStatuses.isLoading),f=u.map(x=>({value:x.ID,label:x.Name})),[m,h]=v.useState(!1),g=t?{...t}:{FirstName:"",LastName:"",MiddleName:"",Birthday:"",Gender:"",civilStatus:"",StreetAddress:"",MobileNumber:"",EmailAddress:"",DepartmentID:"",PositionID:"",EmploymentStatusID:"",DateHired:new Date().toISOString().split("T")[0],TIN:"",GSIS:"",Philhealth:"",Pagibig:"",Active:"Active"},y=x=>{var C;h(!0);const p=((C=n.find(j=>j.value===Number(x.DepartmentID)))==null?void 0:C.label)||"",b={...x,DepartmentID:Number(x.DepartmentID),departmentName:p},N=t?Kp({...b,id:t.id,employeeCode:t.employeeCode}):Yp(b);r(N).unwrap().then(()=>{e()}).catch(j=>{console.error("Error submitting employee:",j)}).finally(()=>{h(!1)})};return o.jsx($e,{initialValues:g,validationSchema:pme,onSubmit:y,enableReinitialize:!0,children:({values:x,errors:p,touched:b,handleChange:N,handleBlur:C,isValid:j})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"I. Personal Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[o.jsx(A,{label:"First name",name:"FirstName",type:"text",required:!0,value:x.FirstName,onChange:N,onBlur:C,error:p.FirstName,touched:b.FirstName}),o.jsx(A,{label:"Middle name",name:"MiddleName",type:"text",value:x.MiddleName,onChange:N,onBlur:C,error:p.MiddleName,touched:b.MiddleName}),o.jsx(A,{label:"Last name",name:"LastName",type:"text",required:!0,value:x.LastName,onChange:N,onBlur:C,error:p.LastName,touched:b.LastName}),o.jsx(A,{label:"Gender",name:"Gender",type:"select",required:!0,value:x.Gender,onChange:N,onBlur:C,error:p.Gender,touched:b.Gender,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}]}),o.jsx(A,{label:"Birthdate",name:"Birthday",type:"date",required:!0,value:x.Birthday,onChange:N,onBlur:C,error:p.Birthday,touched:b.Birthday})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"II. Address & Contact Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Address Information"}),o.jsx(A,{label:"Region",name:"Region",type:"select",options:[],value:x.Region||"REGION VI (WESTERN VISAYAS)",onChange:N,readOnly:!0}),o.jsx(A,{label:"Province",name:"Province",type:"select",options:[],value:x.Province||"AKLAN",onChange:N,readOnly:!0}),o.jsx(A,{label:"Municipality",name:"Municipality",type:"select",options:[],value:x.Municipality||"ALTAVAS",onChange:N,readOnly:!0}),o.jsx(A,{label:"Barangay",name:"Barangay",type:"select",options:[],value:x.Barangay||"Cabangila",onChange:N,readOnly:!0}),o.jsx(A,{label:"Street Address",name:"StreetAddress",type:"text",required:!0,value:x.StreetAddress||"242",onChange:N,onBlur:C,error:p.StreetAddress,touched:b.StreetAddress})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Contact Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Nationality",name:"Nationality",type:"text",value:x.Nationality||"Filipino",onChange:N,readOnly:!0}),o.jsx(A,{label:"Zip Code",name:"ZipCode",type:"text",value:x.ZipCode||"24",onChange:N,readOnly:!0})]}),o.jsx(A,{label:"Mobile Number",name:"MobileNumber",type:"text",required:!0,value:x.MobileNumber||"+639123456789",onChange:N,onBlur:C,error:p.MobileNumber,touched:b.MobileNumber}),o.jsx(A,{label:"Email",name:"EmailAddress",type:"email",required:!0,value:x.EmailAddress||"juandelacruz@gmail.com",onChange:N,onBlur:C,error:p.EmailAddress,touched:b.EmailAddress}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Emergency Contact",name:"EmergencyContact",type:"text",value:x.EmergencyContact||"Maria",onChange:N,readOnly:!0}),o.jsx(A,{label:"Emergency Number",name:"EmergencyNumber",type:"text",value:x.EmergencyNumber||"+639669388800",onChange:N,readOnly:!0})]})]})]})]}),o.jsxs("div",{className:"pb-4",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"III. Employment and IDs"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"ID Number",name:"IDNumber",type:"text",value:x.IDNumber||"1",onChange:N,readOnly:!0}),o.jsx(A,{label:"TIN",name:"TIN",type:"text",value:x.TIN||"1241",onChange:N,onBlur:C,error:p.TIN,touched:b.TIN})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"PAG-IBIG",name:"Pagibig",type:"text",value:x.Pagibig||"636",onChange:N,onBlur:C,error:p.Pagibig,touched:b.Pagibig}),o.jsx(A,{label:"GSIS",name:"GSIS",type:"text",value:x.GSIS||"1245",onChange:N,onBlur:C,error:p.GSIS,touched:b.GSIS})]}),o.jsx(A,{label:"Philhealth",name:"Philhealth",type:"text",value:x.Philhealth||"6341",onChange:N,onBlur:C,error:p.Philhealth,touched:b.Philhealth}),o.jsx(A,{label:"Department",name:"DepartmentID",type:"select",required:!0,value:x.DepartmentID||"Office of the Mayor",onChange:N,onBlur:C,error:p.DepartmentID,touched:b.DepartmentID,options:s,disabled:a})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Date Hired",name:"DateHired",type:"date",required:!0,value:x.DateHired||"2024-06-10",onChange:N,onBlur:C,error:p.DateHired,touched:b.DateHired}),o.jsx(A,{label:"Employment Status",name:"EmploymentStatusID",type:"select",required:!0,value:x.EmploymentStatusID||"Active",onChange:N,onBlur:C,error:p.EmploymentStatusID,touched:b.EmploymentStatusID,options:f,disabled:d})]}),o.jsx(A,{label:"Employment Status Date",name:"EmploymentStatusDate",type:"date",value:x.EmploymentStatusDate||"2024-06-10",onChange:N,readOnly:!0}),o.jsx(A,{label:"Position",name:"PositionID",type:"select",required:!0,value:x.PositionID||"Mayor",onChange:N,onBlur:C,error:p.PositionID,touched:b.PositionID,options:c,disabled:l}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",className:"btn btn-outline",children:"Choose"})})}),o.jsx("div",{className:"mt-2",children:o.jsxs("p",{className:"text-sm text-gray-500",children:[x.FirstName||"Juan",","," ",x.MiddleName||"Santos",","," ",x.LastName||"Dela Cruz"," - ",x.TIN||"1241"," -"," ",x.DepartmentID||"Office of the Mayor"]})})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m||!j,className:"btn btn-primary",children:m?"Saving...":t?"Update":"Save"})]})]})})}function yme(){const t=ue(),{employees:e,isLoading:r}=V(b=>b.employees),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Un())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=()=>{u&&(t(Jp(u.ID)),c(!1),d(null))},y=()=>{a(!1),i(null)},x=[{key:"IDNumber",header:"ID Number",sortable:!0,className:"font-medium text-neutral-900"},{key:"FirstName",header:"First Name",sortable:!0},{key:"MiddleName",header:"Middle Name",sortable:!0},{key:"LastName",header:"Last Name",sortable:!0},{key:"Department",header:"Department",sortable:!0,render:b=>(b==null?void 0:b.Name)||""},{key:"Position",header:"Position",sortable:!0,render:b=>(b==null?void 0:b.Name)||""},{key:"EmploymentStatus",header:"Employment Status",sortable:!0,render:b=>(b==null?void 0:b.Name)||""}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employees"}),o.jsx("p",{children:"Manage employee information and records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employee"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r})}),o.jsx(ae,{isOpen:n,onClose:y,title:s?"Edit Employee":"Add Employee",size:"lg",children:o.jsx(gme,{initialData:s,onClose:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the employee"," ",o.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.FirstName," ",u==null?void 0:u.LastName]}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone and may affect related records in the system."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function bme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:O().required("Employment Status is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Employment Status",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function xme(){const t=ue(),{employmentStatuses:e,isLoading:r}=V(b=>b.employmentStatuses),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Md())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Fg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete employment status:",b)}},y=b=>{t(s?vA({...b,ID:s.ID}):Lg(b)),a(!1)},x=[{key:"Name",header:"Employment Status",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Employment Status"}),o.jsx("p",{children:"Manage Employment Statuses"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Employment Status"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No employment statuses found. Click 'Add Employment Status' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Employment Status":"Add Employment Status",children:o.jsx(bme,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the employment status "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function vme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:O().required("Position is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Position Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function jme(){const t=ue(),{positions:e,isLoading:r}=V(b=>b.positions),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(oc())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Mg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete position:",b)}},y=b=>{t(s?xA({...b,ID:s.ID}):Rg(b)),a(!1)},x=[{key:"Name",header:"Position",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Position"}),o.jsx("p",{children:"Manage Positions"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Position"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No positions found. Click 'Add Position' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Position":"Add Position",children:o.jsx(vme,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the position "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function wme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Description:O().required("User Role is required")}),a=tt({initialValues:t||{Description:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Role",name:"Description",type:"text",value:a.values.Description,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Description,touched:a.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Nme(){const t=ue(),{userroles:e,isLoading:r}=V(b=>b.userroles),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ec())},[t]);const f=()=>{i(null),a(!0)},m=b=>{if(b.Description=="Administrator"){vr.error("The 'Administrator' role cannot be edited.");return}i(b),a(!0)},h=b=>{if(b.Description=="Administrator"){vr.error("The 'Administrator' role cannot be deleted.");return}d(b),c(!0)},g=async()=>{if(u)try{await t(Qp(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete user role:",b)}},y=b=>{t(s?sA({...b,ID:s.ID}):Xp(b)),a(!1)},x=[{key:"Description",header:"User Role",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"User Roles"}),o.jsx("p",{children:"Manage User Roles"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add User Role"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No user roles found. Click 'Add User Role' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit User Role":"Add User Role",children:o.jsx(wme,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the user role "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Cme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:O().required("Nationality is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Nationality Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}const Kv="https://staging-engine.testthelink.online",Sme=[],Ld=M("nationalities/fetchNationalities",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Kv}/nationality`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Bg=M("nationalities/addNationality",async(t,e)=>{try{const r=await fetch(`${Kv}/nationality`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),jA=M("nationalities/updateNationality",async(t,e)=>{try{const r=await fetch(`${Kv}/nationality/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),qg=M("nationalities/deleteNationality",async(t,e)=>{try{const r=await fetch(`${Kv}/nationality/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ame=pe({name:"nationalities",initialState:{nationalities:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ld.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ld.fulfilled,(e,r)=>{e.isLoading=!1,e.nationalities=Array.isArray(r.payload)?r.payload:[]}).addCase(Ld.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch nationalities",console.warn("Failed to fetch nationalities, using mock data.",e.error),e.nationalities=Sme}).addCase(Bg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities.push(r.payload)}).addCase(Bg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add nationality",console.error("Failed to add nationality:",e.error)}).addCase(jA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.nationalities.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities[n]=r.payload)}).addCase(qg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.nationalities)||(e.nationalities=[]),e.nationalities=e.nationalities.filter(n=>n.ID!==r.payload)}).addCase(qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete nationality",console.error("Failed to delete nationality:",e.error)})}}),Tme=Ame.reducer;function kme(){const t=ue(),{nationalities:e,isLoading:r}=V(b=>b.nationalities),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ld())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(qg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete nationality:",b)}},y=b=>{t(s?jA({...b,ID:s.ID}):Bg(b)),a(!1)},x=[{key:"Name",header:"Nationality",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Nationalities"}),o.jsx("p",{children:"Manage Nationalities"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Nationality"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No nationalities found. Click 'Add Nationality' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Nationality":"Add Nationality",children:o.jsx(Cme,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the nationality "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ke={required:"This field is required",positiveNumber:"Amount must be greater than 0",futureDate:"Date cannot be in the future"};oe().shape({date:Me().required(Ke.required).max(new Date,Ke.futureDate),reference:O().max(50,"Reference number too long"),particulars:O().required(Ke.required).max(500,"Particulars too long"),debitEntries:hn().of(oe().shape({accountCode:O().required("Account code is required"),amount:re().required("Amount is required").moreThan(0,Ke.positiveNumber)})).min(1,"At least one debit entry is required"),creditEntries:hn().of(oe().shape({accountCode:O().required("Account code is required"),amount:re().required("Amount is required").moreThan(0,Ke.positiveNumber)})).min(1,"At least one credit entry is required")}).test("balancedEntries","Total debits must equal total credits",function(t){if(!t.debitEntries||!t.creditEntries)return!0;const e=t.debitEntries.reduce((n,a)=>n+(Number(a.amount)||0),0),r=t.creditEntries.reduce((n,a)=>n+(Number(a.amount)||0),0);return Math.abs(e-r)<.01});const Z_=oe().shape({date:Me().required(Ke.required).max(new Date,Ke.futureDate),period:O().required(Ke.required),stallNumber:O().required(Ke.required).matches(/^[A-Z]-\d{3}$/,"Invalid stall number format (e.g., A-101)"),stallType:O().required(Ke.required),stallOwner:O().required(Ke.required).max(100,"Name too long"),amount:re().required(Ke.required).moreThan(0,Ke.positiveNumber)});oe().shape({certificateNo:O().required("Certificate number is required").matches(/^[A-Z0-9-]+$/,"Certificate number can only contain uppercase letters, numbers, and hyphens"),date:Me().required("Date is required").max(new Date,"Date cannot be in the future"),placeOfIssue:O().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters").max(100,"Place of issue must not exceed 100 characters"),name:O().required("Full name is required").min(2,"Name must be at least 2 characters").max(100,"Name must not exceed 100 characters"),address:O().required("Address is required").min(5,"Address must be at least 5 characters").max(200,"Address must not exceed 200 characters"),tin:O().matches(/^$|^\d{9}(\d{3})?$/,"Invalid TIN format (9 or 12 digits)").nullable(),civilStatus:O().required("Civil status is required").oneOf(["single","married","widowed","separated","divorced"],"Invalid civil status"),nationality:O().required("Nationality is required").min(2,"Nationality must be at least 2 characters").max(50,"Nationality must not exceed 50 characters"),occupation:O().required("Occupation/Business is required").min(2,"Occupation/Business must be at least 2 characters").max(100,"Occupation/Business must not exceed 100 characters"),placeOfBirth:O().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters").max(100,"Place of birth must not exceed 100 characters"),dateOfBirth:Me().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future"),gender:O().required("Gender is required").oneOf(["male","female"],"Invalid gender"),height:re().min(0,"Height cannot be negative").max(300,"Height seems too large").nullable(),weight:re().min(0,"Weight cannot be negative").max(1e3,"Weight seems too large").nullable(),contactNumber:O().matches(/^$|^[0-9+\s-()]+$/,"Invalid contact number format").max(20,"Contact number must not exceed 20 characters").nullable(),businessGrossReceipts:re().min(0,"Amount cannot be negative").nullable(),occupationGrossReceipts:re().min(0,"Amount cannot be negative").nullable(),realPropertyIncome:re().min(0,"Amount cannot be negative").nullable(),purpose:O().required("Purpose is required").min(5,"Purpose must be at least 5 characters").max(500,"Purpose must not exceed 500 characters"),amount:re().required("Amount is required").min(0,"Amount must be greater than or equal to 0").max(1e6,"Amount must not exceed 1,000,000"),interest:re().min(0,"Interest cannot be negative").nullable()});oe().shape({date:Me().required(Ke.required).max(new Date,Ke.futureDate),tdNumber:O().required(Ke.required).matches(/^TD-\d{3}-\d{4}$/,"Invalid TD number format (e.g., TD-123-2024)"),taxpayerName:O().required(Ke.required).max(100,"Name too long"),location:O().required(Ke.required).max(200,"Location too long"),basicTax:re().required(Ke.required).moreThan(0,Ke.positiveNumber),sef:re().required(Ke.required).moreThan(0,Ke.positiveNumber),penalty:re().min(0,"Amount cannot be negative")});const Ome=oe().shape({Name:O().required(Ke.required).max(100,"Name too long"),MunicipalityCode:O().required(Ke.required),ProvinceCode:O().required(Ke.required),RegionCode:O().required(Ke.required)}),Eme=oe().shape({Name:O().required(Ke.required).max(100,"Name too long"),ProvinceCode:O().required(Ke.required),RegionCode:O().required(Ke.required)}),Ime=oe().shape({Name:O().required(Ke.required).max(100,"Name too long"),RegionCode:O().required(Ke.required)}),e$=oe().shape({Name:O().required(Ke.required).max(100,"Name too long")});oe().shape({id:O().required("ID is required"),status:O().required("Status is required").oneOf(["posted","rejected","approved"],"Invalid status"),invoiceDate:Me().required("Invoice date is required").max(new Date,"Invoice date cannot be in the future"),payorName:O().required("Payor name is required").min(2,"Payor name must be at least 2 characters").max(100,"Payor name must not exceed 100 characters"),date:Me().required("Date is required").max(new Date,"Date cannot be in the future"),agency:O().required("Agency is required").min(2,"Agency must be at least 2 characters").max(100,"Agency must not exceed 100 characters"),fund:O().required("Fund is required").oneOf(["General funds","Other fund option 1","Other fund option 2"],"Invalid fund option"),taxpayerType:O().required("Taxpayer type is required").oneOf(["Individual","Corporation"],"Invalid taxpayer type")});function Pme(){const[t,e]=v.useState("region"),[r,n]=v.useState(!1),[a,s]=v.useState(null),[i,l]=v.useState(!1),[c,u]=v.useState(null),d={region:"Regions",province:"Provinces",municipality:"Municipalities",barangay:"Barangays"},f=ue(),{regions:m}=V($=>$.regions),{provinces:h}=V($=>$.provinces),{municipalities:g}=V($=>$.municipalities),{barangays:y}=V($=>$.barangays);v.useEffect(()=>{f(Ei()),f(xo()),f(vo()),f(Ii())},[f]);const x=()=>{switch(t){case"region":return e$;case"province":return Ime;case"municipality":return Eme;case"barangay":return Ome;default:return e$}},p=()=>{switch(t){case"region":return[{key:"Name",header:"Region",sortable:!0}];case"province":return[{key:"RegionName",header:"Region",sortable:!0},{key:"Name",header:"Province",sortable:!0}];case"municipality":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"Name",header:"Municipality",sortable:!0}];case"barangay":return[{key:"RegionName",header:"Region",sortable:!0},{key:"ProvinceName",header:"Province",sortable:!0},{key:"MunicipalityName",header:"Municipality",sortable:!0},{key:"Name",header:"Barangay",sortable:!0}];default:return[]}},b=()=>{switch(t){case"region":return m;case"province":return h.map($=>({...$,RegionName:P($.RegionCode,m)}));case"municipality":return g.map($=>({...$,RegionName:P($.RegionCode,m),ProvinceName:P($.ProvinceCode,h)}));case"barangay":return y.map($=>({...$,RegionName:P($.RegionCode,m),ProvinceName:P($.ProvinceCode,h),MunicipalityName:P($.MunicipalityCode,g)}));default:return[]}},N=()=>{switch(t){case"region":return mg;case"province":return pg;case"municipality":return yg;case"barangay":return xg;default:return null}},C=()=>{switch(t){case"region":return lA;case"province":return cA;case"municipality":return uA;case"barangay":return dA;default:return null}},j=()=>{switch(t){case"region":return hg;case"province":return gg;case"municipality":return bg;case"barangay":return vg;default:return null}},w=[{icon:Se,title:"Edit",onClick:$=>T($),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:$=>k($),className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],S=()=>{s(null),n(!0)},T=$=>{s($),n(!0)},k=$=>{u($),l(!0)},I=()=>{c&&(f(j()(c.ID)),l(!1),u(null))};v.useEffect(()=>{r&&E.resetForm({values:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""}})},[r,a]);const E=tt({initialValues:a||{Name:"",RegionCode:"",ProvinceCode:"",MunicipalityCode:""},enableReinitialize:!0,validationSchema:x(),onSubmit:async($,{setSubmitting:_})=>{const B=a?C():N(),U=a?{...a,...$}:$;await f(B(U)).unwrap(),n(!1),_(!1)}}),P=($,_)=>{const B=_.find(U=>U.ID.toString()===$.toString());return B?B.Name:""},L=()=>{const $={formik:E,onChange:E.handleChange,onBlur:E.handleBlur,required:!0};switch(console.log("Active Tab:",t),t){case"region":return o.jsx(A,{label:"Region",name:"Name",type:"text",placeholder:"Enter region name",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,...$});case"province":return o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Province",name:"Name",type:"text",placeholder:"Enter province name",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,...$}),o.jsx(A,{label:"Region",name:"RegionCode",type:"select",options:m.map(_=>({value:_.ID,label:_.Name})),value:E.values.RegionCode,error:E.errors.RegionCode,touched:E.touched.RegionCode,...$})]});case"municipality":return o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Municipality",name:"Name",type:"text",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,placeholder:"Enter municipality name",...$}),o.jsx(A,{label:"Province",name:"ProvinceCode",type:"select",options:h.map(_=>({value:_.ID,label:_.Name})),value:E.values.ProvinceCode,error:E.errors.ProvinceCode,touched:E.touched.ProvinceCode,onChange:_=>{const B=_.target.value,U=h.find(D=>D.ID.toString()===B.toString());E.setFieldValue("ProvinceCode",B),U&&E.setFieldValue("RegionCode",U.RegionCode)},onBlur:E.handleBlur,required:!0}),o.jsx(A,{label:"Region",name:"RegionCode",type:"text",value:P(E.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});case"barangay":return o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Barangay",name:"Name",type:"text",value:E.values.Name,error:E.errors.Name,touched:E.touched.Name,placeholder:"Enter barangay name",...$}),o.jsx(A,{label:"Municipality",name:"MunicipalityCode",type:"select",options:g.map(_=>({value:_.ID,label:_.Name})),value:E.values.MunicipalityCode,error:E.errors.MunicipalityCode,touched:E.touched.MunicipalityCode,onChange:_=>{const B=_.target.value,U=g.find(D=>D.ID.toString()===B.toString());E.setFieldValue("MunicipalityCode",B),U&&(E.setFieldValue("ProvinceCode",U.ProvinceCode),E.setFieldValue("RegionCode",U.RegionCode))},onBlur:E.handleBlur,required:!0}),o.jsx(A,{label:"Province",name:"ProvinceCode",type:"text",value:P(E.values.ProvinceCode,h),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"}),o.jsx(A,{label:"Region",name:"RegionCode",type:"text",value:P(E.values.RegionCode,m),readOnly:!0,className:"bg-gray-100 cursor-not-allowed"})]});default:return null}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Locations"}),o.jsx("p",{children:"Manage regions, provinces, municipalities, and barangays"})]}),o.jsxs("button",{type:"button",onClick:S,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add ",t.charAt(0).toUpperCase()+t.slice(1)]})]})}),o.jsx("div",{className:"flex mb-6 border-b border-neutral-200",children:o.jsx("nav",{className:"-mb-px flex flex-wrap gap-x-10 gap-y-0",children:["region","province","municipality","barangay"].map($=>o.jsx("button",{onClick:()=>e($),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===$?"border-primary-500 text-primary-600":"border-transparent text-neutral-500 hover:text-neutral-700 hover:border-neutral-300"}`,children:d[$]},$))})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:p(),data:b(),actions:w,pagination:!0})}),o.jsx(ae,{isOpen:r,onClose:()=>n(!1),title:a?`Edit ${t}`:`New ${t}`,children:o.jsxs("form",{onSubmit:E.handleSubmit,className:"p-4 space-y-4",children:[L(),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E.isSubmitting,children:E.isSubmitting?"Saving...":a?"Update":"Save"})]})]})}),o.jsx(ae,{isOpen:i,onClose:()=>l(!1),title:"Confirm Delete",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete this ",t,"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 mt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:I,className:"btn btn-danger",children:"Delete"})]})]})})]})}const Jv="https://staging-engine.testthelink.online",Dme=[],Fd=M("ppeCategories/fetchPpeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Jv}/ppeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Vg=M("ppeCategories/addPpeCategory",async(t,e)=>{try{const r=await fetch(`${Jv}/ppeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),wA=M("ppeCategories/updatePpeCategory",async(t,e)=>{try{const r=await fetch(`${Jv}/ppeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ug=M("ppeCategories/deletePpeCategory",async(t,e)=>{try{const r=await fetch(`${Jv}/ppeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),_me=pe({name:"ppeCategories",initialState:{ppeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Fd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Fd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE categories",console.warn("Failed to fetch PPE categories, using mock data.",e.error),e.ppeCategories=Dme}).addCase(Vg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories.push(r.payload)}).addCase(Vg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE category",console.error("Failed to add PPE category:",e.error)}).addCase(wA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories[n]=r.payload)}).addCase(Ug.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ug.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeCategories)||(e.ppeCategories=[]),e.ppeCategories=e.ppeCategories.filter(n=>n.ID!==r.payload)}).addCase(Ug.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE category",console.error("Failed to delete PPE category:",e.error)})}}),$me=_me.reducer,Xv="https://staging-engine.testthelink.online",Rme=[],Bd=M("ppeSuppliers/fetchPpeSuppliers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xv}/ppeSupplier`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),zg=M("ppeSuppliers/addPpeSupplier",async(t,e)=>{try{const r=await fetch(`${Xv}/ppeSupplier`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),NA=M("ppeSuppliers/updatePpeSupplier",async(t,e)=>{try{const r=await fetch(`${Xv}/ppeSupplier/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Wg=M("ppeSuppliers/deletePpeSupplier",async(t,e)=>{try{const r=await fetch(`${Xv}/ppeSupplier/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Mme=pe({name:"ppeSuppliers",initialState:{ppeSuppliers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Bd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bd.fulfilled,(e,r)=>{e.isLoading=!1,e.ppeSuppliers=Array.isArray(r.payload)?r.payload:[]}).addCase(Bd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch PPE suppliers",console.warn("Failed to fetch PPE suppliers, using mock data.",e.error),e.ppeSuppliers=Rme}).addCase(zg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers.push(r.payload)}).addCase(zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add PPE supplier",console.error("Failed to add PPE supplier:",e.error)}).addCase(NA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppeSuppliers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers[n]=r.payload)}).addCase(Wg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.ppeSuppliers)||(e.ppeSuppliers=[]),e.ppeSuppliers=e.ppeSuppliers.filter(n=>n.ID!==r.payload)}).addCase(Wg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete PPE supplier",console.error("Failed to delete PPE supplier:",e.error)})}}),Lme=Mme.reducer,Qv="https://staging-engine.testthelink.online",Fme=[],Bme=[{value:"Building",label:"Building"},{value:"Equipment",label:"Equipment"},{value:"Vehicle",label:"Vehicle"}],qme=[{value:"Supplier1",label:"Supplier 1"},{value:"Supplier2",label:"Supplier 2"}],Vme={ppes:Fme,ppe:null,isLoading:!1,error:null,categories:Bme,suppliers:qme},Hg=M("ppes/fetchPPEs",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Qv}/ppe`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Gg=M("ppes/addPPE",async(t,e)=>{try{const r=await fetch(`${Qv}/ppe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),Yg=M("ppes/updatePPE",async(t,e)=>{try{const r=await fetch(`${Qv}/ppe/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Kg=M("ppes/deletePPE",async(t,e)=>{try{const r=await fetch(`${Qv}/ppe/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Kq=pe({name:"ppes",initialState:Vme,reducers:{setPPE:(t,e)=>{t.ppe=e.payload},resetPPEResource:t=>{t.ppe=null,t.error=null},addCategory:(t,e)=>{t.categories.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.categories.push({value:e.payload,label:e.payload})},addSupplier:(t,e)=>{t.suppliers.some(r=>r.value.toLowerCase()===e.payload.toLowerCase())||t.suppliers.push({value:e.payload,label:e.payload})}},extraReducers:t=>{t.addCase(Hg.pending,e=>{e.isLoading=!0}).addCase(Hg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=r.payload,e.error=null}).addCase(Hg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Gg.pending,e=>{e.isLoading=!0}).addCase(Gg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes.push(r.payload),e.error=null}).addCase(Gg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Yg.pending,e=>{e.isLoading=!0}).addCase(Yg.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.ppes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.ppes[n]=r.payload),e.error=null}).addCase(Yg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Kg.pending,e=>{e.isLoading=!0}).addCase(Kg.fulfilled,(e,r)=>{e.isLoading=!1,e.ppes=e.ppes.filter(n=>n.id!==r.payload),e.error=null}).addCase(Kg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setPPE:_7e,resetPPEResource:$7e,addCategory:R7e,addSupplier:M7e}=Kq.actions,Ume=Kq.reducer,zme=oe().shape({CategoryID:O().required("Category is required"),Description:O().required("Description is required"),DepreciationRate:re().typeError("Must be a number").required("Depreciation Rate is required"),DepreciationValue:re().typeError("Must be a number").required("Depreciation Value is required"),NetBookValue:re().typeError("Must be a number").required("Net Book Value is required"),SupplierID:O().required("Supplier is required"),PPENumber:O().required("PPE Number is required"),Unit:O().required("Unit is required"),Barcode:O().required("Barcode is required"),Quantity:re().typeError("Must be a number").required("Quantity is required"),Cost:re().typeError("Must be a number").required("Cost is required"),DateAcquired:O().required("Date acquired is required"),EstimatedUsefulLife:re().typeError("Must be a number").required("Estimated useful life is required"),PONumber:O().required("PO Number is required"),PRNumber:O().required("PR Number is required"),InvoiceNumber:O().required("Invoice Number is required"),AIRNumber:O().required("AIR Number is required"),RISNumber:O().required("RIS Number is required"),Remarks:O()});function Wme({initialData:t,onClose:e}){const r=ue(),[n,a]=v.useState(!1),{ppeSuppliers:s}=V(u=>u.ppeSuppliers),{ppeCategories:i}=V(u=>u.ppeCategories);v.useEffect(()=>{r(Fd()),r(Bd())},[r]);const l=t?{...t}:{CategoryID:"",Description:"",DepreciationRate:"",DepreciationValue:"",NetBookValue:"",SupplierID:"",PPENumber:"",Unit:"",Barcode:"",Quantity:"",Cost:"",DateAcquired:"",EstimatedUsefulLife:1,PONumber:"",PRNumber:"",InvoiceNumber:"",AIRNumber:"",RISNumber:"",Remarks:""},c=u=>{a(!0);const d=t&&t.ID?Yg({...u,ID:t.ID}):Gg(u);r(d).unwrap().then(()=>{e()}).catch(f=>{console.error("Error submitting PPE:",f)}).finally(()=>{a(!1)})};return o.jsx($e,{initialValues:l,validationSchema:zme,onSubmit:c,enableReinitialize:!0,children:({values:u,errors:d,touched:f,handleChange:m,handleBlur:h,setFieldValue:g})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsx(A,{className:"p-3 focus:outline-none",label:"PPE Category",name:"CategoryID",type:"select",required:!0,value:u.CategoryID,onBlur:h,onChange:m,error:d.CategoryID,touched:f.CategoryID,options:i.map(y=>({value:y.ID,label:y.Name}))})}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Description",name:"Description",type:"text",required:!0,value:u.Description,onChange:m,onBlur:h,error:d.Description,touched:f.Description}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Depreciation Rate (%)",name:"DepreciationRate",type:"number",required:!0,value:u.DepreciationRate,onChange:m,onBlur:h,error:d.DepreciationRate,touched:f.DepreciationRate}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Depreciation Value",name:"DepreciationValue",type:"number",required:!0,value:u.DepreciationValue,onChange:m,onBlur:h,error:d.DepreciationValue,touched:f.DepreciationValue}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Net Book Value",name:"NetBookValue",type:"number",required:!0,value:u.NetBookValue,onChange:m,onBlur:h,error:d.NetBookValue,touched:f.NetBookValue}),o.jsx("div",{children:o.jsx(A,{className:"p-3 focus:outline-none",label:"Supplier",name:"SupplierID",type:"select",required:!0,value:u.SupplierID,onBlur:h,onChange:m,error:d.SupplierID,touched:f.SupplierID,options:s.map(y=>({value:y.ID,label:y.Name}))})}),o.jsx(A,{className:"p-3 focus:outline-none",label:"PPE Number",name:"PPENumber",type:"text",required:!0,value:u.PPENumber,onChange:m,onBlur:h,error:d.PPENumber,touched:f.PPENumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Unit",name:"Unit",type:"text",required:!0,value:u.Unit,onChange:m,onBlur:h,error:d.Unit,touched:f.Unit}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Barcode",name:"Barcode",type:"text",required:!0,value:u.Barcode,onChange:m,onBlur:h,error:d.Barcode,touched:f.Barcode}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Quantity",name:"Quantity",type:"number",required:!0,value:u.Quantity,onChange:m,onBlur:h,error:d.Quantity,touched:f.Quantity}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Cost",name:"Cost",type:"number",required:!0,value:u.Cost,onChange:m,onBlur:h,error:d.Cost,touched:f.Cost}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Date Acquired",name:"DateAcquired",type:"date",required:!0,value:u.DateAcquired,onChange:m,onBlur:h,error:d.DateAcquired,touched:f.DateAcquired}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Estimated Useful Life (years)",name:"EstimatedUsefulLife",type:"number",required:!0,value:u.EstimatedUsefulLife,onChange:m,onBlur:h,error:d.EstimatedUsefulLife,touched:f.EstimatedUsefulLife}),o.jsx(A,{className:"p-3 focus:outline-none",label:"PO Number",name:"PONumber",type:"text",required:!0,value:u.PONumber,onChange:m,onBlur:h,error:d.PONumber,touched:f.PONumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"PR Number",name:"PRNumber",type:"text",required:!0,value:u.PRNumber,onChange:m,onBlur:h,error:d.PRNumber,touched:f.PRNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,value:u.InvoiceNumber,onChange:m,onBlur:h,error:d.InvoiceNumber,touched:f.InvoiceNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"AIR Number",name:"AIRNumber",type:"text",required:!0,value:u.AIRNumber,onChange:m,onBlur:h,error:d.AIRNumber,touched:f.AIRNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"RIS Number",name:"RISNumber",type:"text",required:!0,value:u.RISNumber,onChange:m,onBlur:h,error:d.RISNumber,touched:f.RISNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Remarks",name:"Remarks",type:"textarea",value:u.Remarks,onChange:m,onBlur:h,error:d.Remarks,touched:f.Remarks,rows:2})]}),o.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:n,children:"Save"})]})]})})}const Hme=[{key:"CategoryID",header:"PPE Category"},{key:"Description",header:"Description"},{key:"DepreciationRate",header:"Depreciation Rate (%)"},{key:"DepreciationValue",header:"Depreciation Value"},{key:"NetBookValue",header:"Net Book Value"},{key:"Supplier",header:"Supplier"},{key:"PPENumber",header:"PPE Number"},{key:"Unit",header:"Unit"},{key:"Barcode",header:"Barcode"},{key:"Quantity",header:"Quantity"},{key:"Cost",header:"Cost"},{key:"DateAcquired",header:"Date Acquired"},{key:"EstimatedUsefulLife",header:"Estimated Useful Life (years)"},{key:"PONumber",header:"PO Number"},{key:"PRNumber",header:"PR Number"},{key:"InvoiceNumber",header:"Invoice Number"},{key:"AIRNumber",header:"AIR Number"},{key:"RISNumber",header:"RIS Number"},{key:"Remarks",header:"Remarks"}];function Gme(){const t=ue(),{ppes:e,isLoading:r}=V(C=>C.ppes),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(null);v.useEffect(()=>{t(Hg())},[t]);const u=()=>{c(null),a(!0)},d=()=>{i(!0)},f=()=>{window.print()},m=()=>{i(!1)},h=C=>{c(C),a(!0)},g=C=>{window.confirm("Are you sure you want to delete this PPE entry?")&&t(Kg(C.ID))},y=()=>{a(!1),c(null)},x=Hme.map(C=>({key:C.key,header:C.header,sortable:!0,className:"text-neutral-900"})),p=[{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:g,className:"text-danger-600 hover:text-danger-900 p-1 rounded-full hover:bg-danger-50"}],b=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}],N=[{label:"Name 1 ",value:"1"},{label:"Name 2",value:"2"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between gap-4 flex-col",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE"}),o.jsx("p",{children:"Manage Property, Plant, and Equipment records"})]}),o.jsxs("div",{className:"flex gap-2 ml-auto max-sm:flex-col max-sm:w-full",children:[o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE"]}),o.jsxs("button",{type:"button",onClick:d,className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(oA,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print Acknowledgement"]}),o.jsxs("button",{type:"button",onClick:()=>window.print(),className:"btn btn-primary flex items-center justify-center max-sm:w-full",children:[o.jsx(oA,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r})}),o.jsx(ae,{isOpen:n,onClose:y,title:l?"Edit PPE":"Add PPE",size:"lg",children:o.jsx(Wme,{initialData:l,onClose:y})}),o.jsx(ae,{isOpen:s,onClose:m,title:"PPE Acknowledgement",size:"md",hideCloseButton:!0,children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx(A,{label:"Acknowledging No. 1",type:"select",name:"acknowledgingNo1",options:N,value:"Juan S. Dela Cruz"})}),o.jsx("div",{className:"mb-6",children:o.jsx(A,{label:"Acknowledging No. 2",type:"select",name:"acknowledgingNo1",options:b,value:"Juan S. Dela Cruz"})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:m,className:"btn btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:f,className:"btn btn-primary",children:"Print"})]})]})})]})}function Yme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:O().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Kme(){const t=ue(),{ppeCategories:e,isLoading:r}=V(b=>b.ppeCategories),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Fd())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Ug(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete PPE category:",b)}},y=b=>{t(s?wA({...b,ID:s.ID}):Vg(b)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Categories"}),o.jsx("p",{children:"Manage PPE Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No PPE categories found. Click 'Add PPE Category' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Category":"Add PPE Category",children:o.jsx(Yme,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE category "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Jme({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:O().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Xme(){const t=ue(),{ppeSuppliers:e,isLoading:r}=V(b=>b.ppeSuppliers),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Bd())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Wg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete PPE supplier:",b)}},y=b=>{t(s?NA({...b,ID:s.ID}):zg(b)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"PPE Suppliers"}),o.jsx("p",{children:"Manage PPE Suppliers"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add PPE Supplier"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No PPE suppliers found. Click 'Add PPE Supplier' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit PPE Supplier":"Add PPE Supplier",children:o.jsx(Jme,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the PPE supplier "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const Zv="https://staging-engine.testthelink.online",Qme=[],qd=M("documentDetails/fetchDocumentDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Zv}/documentType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Jg=M("documentDetails/addDocumentDetail",async(t,e)=>{try{const r=await fetch(`${Zv}/documentType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),CA=M("documentDetails/updateDocumentDetail",async(t,e)=>{try{const r=await fetch(`${Zv}/documentType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Xg=M("documentDetails/deleteDocumentDetail",async(t,e)=>{try{const r=await fetch(`${Zv}/documentType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Zme=pe({name:"documentDetails",initialState:{documentDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(qd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qd.fulfilled,(e,r)=>{e.isLoading=!1,e.documentDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(qd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document details",console.warn("Failed to fetch document details, using mock data.",e.error),e.documentDetails=Qme}).addCase(Jg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails.push(r.payload)}).addCase(Jg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document detail",console.error("Failed to add document detail:",e.error)}).addCase(CA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails[n]=r.payload)}).addCase(Xg.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xg.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentDetails)||(e.documentDetails=[]),e.documentDetails=e.documentDetails.filter(n=>n.ID!==r.payload)}).addCase(Xg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document detail",console.error("Failed to delete document detail:",e.error)})}}),ehe=Zme.reducer,the=[{value:"1 - First",label:"1 - First"},{value:"2 - Second",label:"2 - Second"},{value:"3 - Third",label:"3 - Third"}],rhe=oe().shape({});function nhe({initialData:t,onClose:e,onSubmit:r}){const[n,a]=v.useState((t==null?void 0:t.AllorMajority)||"ALL"),s=ue(),{documentDetails:i}=V(y=>y.documentDetails),{positions:l}=V(y=>y.positions),{employees:c}=V(y=>y.employees);v.useEffect(()=>{s(qd()),s(oc()),s(Un())},[s]);const u=t||{DocumentTypeID:"",SequenceLevel:"",AllorMajority:"ALL",NumberofApprover:""},[d,f]=v.useState((t==null?void 0:t.approvers)||[{type:"Position",value:"",amountFrom:"",amountTo:""}]),m=()=>{f([...d,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}])},h=y=>{const x=[...d];x.splice(y,1),f(x)},g=(y,x)=>{const p=[...d];p[y]=x,f(p)};return o.jsx($e,{initialValues:u,validationSchema:rhe,onSubmit:(y,{setSubmitting:x})=>{const p=d.map(N=>({PositionorEmployee:N.type,PositionorEmployeeID:N.value,AmountFrom:N.amountFrom,AmountTo:N.amountTo})),b={...y,AllorMajority:n,approvers:p};r(b),x(!1)},enableReinitialize:!0,children:({values:y,errors:x,touched:p,handleChange:b,handleBlur:N,setFieldValue:C,isSubmitting:j})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Document Type",name:"DocumentTypeID",type:"select",required:!0,value:y.DocumentTypeID,onChange:b,onBlur:N,error:x.DocumentTypeID,touched:p.DocumentTypeID,options:i.map(w=>({value:w.ID,label:w.Name}))}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Sequence Level",name:"SequenceLevel",type:"select",required:!0,value:y.SequenceLevel,onChange:b,onBlur:N,error:x.SequenceLevel,touched:p.SequenceLevel,options:the}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Approval Rule ",o.jsx("span",{className:"text-error-500",children:"*"})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"ALL",checked:n==="ALL",onChange:()=>a("ALL"),className:"form-radio"}),o.jsx("span",{children:"ALL"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:"AllorMajority",value:"Majority",checked:n==="Majority",onChange:()=>a("Majority"),className:"form-radio"}),o.jsx("span",{children:"Majority"}),o.jsxs("select",{name:"NumberofApprover",value:y.NumberofApprover||"",onChange:b,onBlur:N,disabled:n!=="Majority",className:"ml-2 w-24 p-2 border border-neutral-300 rounded focus:outline-none",children:[o.jsx("option",{value:"",children:"Select"}),Array.from({length:10},(w,S)=>o.jsx("option",{value:S+1,children:S+1},S+1))]})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"form-label mb-2",children:["Approvers ",o.jsx("span",{className:"text-error-500",children:"*"})]}),d.map((w,S)=>{var T,k,I;return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col gap-4 mb-4 border p-4 rounded-md relative",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Position",checked:w.type==="Position",onChange:()=>g(S,{type:"Position",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Position"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"radio",name:`approverType-${S}`,value:"Employee",checked:w.type==="Employee",onChange:()=>g(S,{type:"Employee",value:"",amountFrom:"",amountTo:"",errors:{}}),className:"form-radio"}),o.jsx("span",{children:"Employee"})]})]}),o.jsxs("div",{className:"w-full md:w-1/3",children:[o.jsxs("select",{className:"w-full p-2 border rounded",value:w.value,onChange:E=>g(S,{...w,value:E.target.value}),children:[o.jsx("option",{value:"",children:"Select"}),(w.type==="Position"?l:c).map(E=>o.jsx("option",{value:E.ID,children:w.type==="Position"?E.Name:`${E.FirstName} ${E.MiddleName} ${E.LastName}`},E.ID))]}),((T=w.errors)==null?void 0:T.value)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.errors.value})]}),d.length>1&&o.jsx("button",{type:"button",onClick:()=>h(S),className:"btn btn-sm btn-error text-red-500",children:o.jsx(Fe,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount From",className:"w-full p-2 border rounded",value:w.amountFrom,onChange:E=>g(S,{...w,amountFrom:E.target.value})}),((k=w.errors)==null?void 0:k.amountFrom)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.errors.amountFrom})]}),o.jsxs("div",{className:"w-full md:w-1/2",children:[o.jsx("input",{type:"number",placeholder:"Amount To",className:"w-full p-2 border rounded",value:w.amountTo,onChange:E=>g(S,{...w,amountTo:E.target.value})}),((I=w.errors)==null?void 0:I.amountTo)&&o.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.errors.amountTo})]})]})]}),S<d.length-1&&o.jsx("hr",{className:"mb-4 border-gray-300"})]},S)}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:m,children:"+ Add More"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:j,children:"Save"})]})]})})}const ej="https://staging-engine.testthelink.online",ahe=[],she={approvalMatrix:ahe,matrix:null,isLoading:!1,error:null},Qg=M("approvalMatrix/fetchApprovalMatrix",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ej}/approvalMatrix`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Zg=M("approvalMatrix/addApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${ej}/approvalMatrix`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ey=M("approvalMatrix/updateApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${ej}/approvalMatrix/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ty=M("approvalMatrix/deleteApprovalMatrix",async(t,e)=>{try{const r=await fetch(`${ej}/approvalMatrix/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Jq=pe({name:"approvalMatrix",initialState:she,reducers:{setMatrix:(t,e)=>{t.matrix=e.payload},resetMatrixState:t=>{t.matrix=null,t.error=null}},extraReducers:t=>{t.addCase(Qg.pending,e=>{e.isLoading=!0}).addCase(Qg.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=r.payload,e.error=null}).addCase(Qg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Zg.pending,e=>{e.isLoading=!0}).addCase(Zg.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix.push(r.payload),e.error=null}).addCase(Zg.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ey.pending,e=>{e.isLoading=!0}).addCase(ey.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.approvalMatrix.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.approvalMatrix[n]=r.payload),e.error=null}).addCase(ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ty.pending,e=>{e.isLoading=!0}).addCase(ty.fulfilled,(e,r)=>{e.isLoading=!1,e.approvalMatrix=e.approvalMatrix.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setMatrix:L7e,resetMatrixState:F7e}=Jq.actions,ohe=Jq.reducer;function ihe(){const t=ue(),{approvalMatrix:e,isLoading:r,error:n}=V(N=>N.approvalMatrix),[a,s]=v.useState(!1),[i,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null);v.useEffect(()=>{t(Qg())},[t]);const m=()=>{l(null),s(!0)},h=N=>{var S;const C=((S=N.Approvers)==null?void 0:S.map(T=>({type:T.PositionorEmployee,value:T.PositionorEmployeeID,amountFrom:Number(T.AmountFrom),amountTo:Number(T.AmountTo)})))||[],{Approvers:j,...w}=N;l({...w,approvers:C}),s(!0)},g=N=>{f(N),u(!0)},y=async()=>{if(d)try{await t(ty(d.ID)).unwrap(),u(!1),f(null)}catch(N){console.error("Failed to delete approval matrix:",N)}},x=async N=>{try{i?await t(ey({...N,ID:i.ID})).unwrap():await t(Zg(N)).unwrap(),s(!1)}catch(C){console.error("Failed to submit approval matrix:",C)}},p=[{key:"DocumentTypeName",header:"Document Type",sortable:!0},{key:"SequenceLevel",header:"Sequence Level",sortable:!0},{key:"AllorMajority",header:"All or Majority",sortable:!0},{key:"NumberofApprover",header:"No of Approvers",sortable:!0}],b=[{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Approval Matrix"}),o.jsx("p",{children:"Manage approval matrix for document types"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Approval Matrix"]})]})}),o.jsxs("div",{className:"mt-4",children:[o.jsx(ye,{columns:p,data:e,actions:b,loading:r}),n&&o.jsx("div",{className:"text-error-600 mt-2",children:n})]}),o.jsx(ae,{isOpen:a,onClose:()=>s(!1),title:i?"Edit Approval Matrix":"Add Approval Matrix",children:o.jsx(nhe,{initialData:i,onClose:()=>s(!1),onSubmit:x})}),o.jsxs(ae,{isOpen:c,onClose:()=>u(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsx("p",{className:"text-neutral-700",children:"Are you sure you want to delete this approval matrix entry?"}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})}function lhe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}lhe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var SO=t=>typeof t=="number"&&!isNaN(t),Ef=t=>typeof t=="string",Xq=t=>typeof t=="function",che=t=>Ef(t)||SO(t),uhe=t=>v.isValidElement(t)||Ef(t)||Xq(t)||SO(t),dhe=1,Qq=()=>`${dhe++}`,Ia=new Map,SA=[],t$=new Set,Zq=()=>Ia.size>0,fhe=(t,{containerId:e})=>{var r;return(r=Ia.get(e||1))==null?void 0:r.toasts.get(t)};function mhe(t,e){var r;if(e)return!!((r=Ia.get(e))!=null&&r.isToastActive(t));let n=!1;return Ia.forEach(a=>{a.isToastActive(t)&&(n=!0)}),n}function hhe(t){if(!Zq()){SA=SA.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||che(t))Ia.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Ia.get(t.containerId);e?e.removeToast(t.id):Ia.forEach(r=>{r.removeToast(t.id)})}}var phe=(t={})=>{Ia.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function ghe(t,e){uhe(t)&&(Zq()||SA.push({content:t,options:e}),Ia.forEach(r=>{r.buildToast(t,e)}))}function eV(t,e){Ia.forEach(r=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===r.id)&&r.toggle(t,e==null?void 0:e.id)})}function yhe(t){return t$.add(t),()=>{t$.delete(t)}}function bhe(t){return t&&(Ef(t.toastId)||SO(t.toastId))?t.toastId:Qq()}function _m(t,e){return ghe(t,e),e.toastId}function tj(t,e){return{...e,type:e&&e.type||t,toastId:bhe(e)}}function rj(t){return(e,r)=>_m(e,tj(t,r))}function St(t,e){return _m(t,tj("default",e))}St.loading=(t,e)=>_m(t,tj("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function xhe(t,{pending:e,error:r,success:n},a){let s;e&&(s=Ef(e)?St.loading(e,a):St.loading(e.render,{...a,...e}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){St.dismiss(s);return}let m={type:u,...i,...a,data:f},h=Ef(d)?{render:d}:d;return s?St.update(s,{...m,...h}):St(h.render,{...m,...h}),f},c=Xq(t)?t():t;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}St.promise=xhe;St.success=rj("success");St.info=rj("info");St.error=rj("error");St.warning=rj("warning");St.warn=St.warning;St.dark=(t,e)=>_m(t,tj("default",{theme:"dark",...e}));function vhe(t){hhe(t)}St.dismiss=vhe;St.clearWaitingQueue=phe;St.isActive=mhe;St.update=(t,e={})=>{let r=fhe(t,e);if(r){let{props:n,content:a}=r,s={delay:100,...n,...e,toastId:e.toastId||t,updateId:Qq()};s.toastId!==t&&(s.staleId=t);let i=s.render||a;delete s.render,_m(i,s)}};St.done=t=>{St.update(t,{progress:1})};St.onChange=yhe;St.play=t=>eV(!0,t);St.pause=t=>eV(!1,t);const nj="https://staging-engine.testthelink.online",jhe=[],whe={banks:jhe,bank:null,isLoading:!1,error:null},ry=M("banks/fetchBanks",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${nj}/bank`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ny=M("banks/addBank",async(t,e)=>{try{const r=await fetch(`${nj}/bank`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),ay=M("banks/updateBank",async(t,e)=>{try{const r=await fetch(`${nj}/bank/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),sy=M("bank/deleteBank",async(t,e)=>{try{const r=await fetch(`${nj}/bank/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),tV=pe({name:"banks",initialState:whe,reducers:{setBank:(t,e)=>{t.bank=e.payload},resetBankState:t=>{t.bank=null,t.error=null}},extraReducers:t=>{t.addCase(ry.pending,e=>{e.isLoading=!0}).addCase(ry.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=r.payload,e.error=null}).addCase(ry.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ny.pending,e=>{e.isLoading=!0}).addCase(ny.fulfilled,(e,r)=>{e.isLoading=!1,e.banks.push(r.payload),e.error=null}).addCase(ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ay.pending,e=>{e.isLoading=!0}).addCase(ay.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.banks.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.banks[n]=r.payload),e.error=null}).addCase(ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sy.pending,e=>{e.isLoading=!0}).addCase(sy.fulfilled,(e,r)=>{e.isLoading=!1,e.banks=e.banks.filter(n=>n.ID!==r.payload),e.error=null}).addCase(sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setBank:B7e,resetBankState:q7e}=tV.actions,Nhe=tV.reducer,Che=oe().shape({BranchCode:O().required("Branch code is required").max(20,"Branch code must be at most 20 characters"),Branch:O().required("Branch is required").max(100,"Branch name must be at most 100 characters"),Name:O().required("Name is required").max(100,"Name must be at most 100 characters"),Address:O().required("Address is required").max(200,"Address must be at most 200 characters"),AccountNumber:O().required("Account number is required"),SwiftCode:O().required("Swift code is required").max(11,"SWIFT code must be at most 11 characters").matches(/^[A-Za-z0-9]+$/,"SWIFT code must contain only uppercase letters and numbers"),IBAN:O().required("IBAN is required").max(34,"IBAN must be at most 34 characters").matches(/^[A-Za-z0-9]+$/,"IBAN must contain only uppercase letters and numbers"),Balance:re().required("Balance is required").min(0,"Balance cannot be negative"),CurrencyID:O().required("Currency is required")});function She({initialData:t,onClose:e}){const r=ue(),[n,a]=v.useState(!1),{currencies:s}=V(c=>c.currencies);v.useEffect(()=>{r(Pd())},[r]);const i=t?{...t}:{BranchCode:"",Branch:"",Name:"",Address:"",AccountNumber:"",SwiftCode:"",IBAN:"",Balance:"",CurrencyID:""},l=c=>{a(!0);const u={...c},d=t?ay({...u,ID:t.ID}):ny(u);r(d).unwrap().then(()=>{e()}).catch(f=>{console.error("Error submitting bank:",f)}).finally(()=>{a(!1)})};return o.jsx($e,{initialValues:i,validationSchema:Che,onSubmit:l,enableReinitialize:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isValid:h,setFieldValue:g})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Branch Code",name:"BranchCode",type:"text",required:!0,placeholder:"Enter branch code",value:c.BranchCode,onChange:f,onBlur:m,error:u.BranchCode,touched:d.BranchCode}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Branch",name:"Branch",type:"text",required:!0,placeholder:"Enter branch name",value:c.Branch,onChange:f,onBlur:m,error:u.Branch,touched:d.Branch}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Name",name:"Name",type:"text",required:!0,placeholder:"Enter bank name",value:c.Name,onChange:f,onBlur:m,error:u.Name,touched:d.Name})]}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Address",name:"Address",type:"textarea",required:!0,placeholder:"Enter complete address",value:c.Address,onChange:f,onBlur:m,error:u.Address,touched:d.Address,rows:2}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Account Number",name:"AccountNumber",type:"text",required:!0,placeholder:"Enter account number",value:c.AccountNumber,onChange:f,onBlur:m,error:u.AccountNumber,touched:d.AccountNumber}),o.jsx(A,{className:"p-3 focus:outline-none uppercase",label:"SWIFT Code",name:"SwiftCode",type:"text",required:!0,placeholder:"Enter SWIFT code",value:c.SwiftCode,onChange:f,onBlur:m,error:u.SwiftCode,touched:d.SwiftCode}),o.jsx(A,{className:"p-3 focus:outline-none uppercase",label:"IBAN",name:"IBAN",type:"text",required:!0,placeholder:"Enter IBAN",value:c.IBAN,onChange:f,onBlur:m,error:u.IBAN,touched:d.IBAN})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Balance",name:"Balance",type:"number",required:!0,placeholder:"Enter balance",value:c.Balance,onChange:f,onBlur:m,error:u.Balance,touched:d.Balance}),o.jsx("div",{className:"space-y-2",children:o.jsx(A,{className:"p-3 focus:outline-none",label:"Currency",name:"CurrencyID",type:"select",required:!0,value:c.CurrencyID,onChange:f,onBlur:m,error:u.CurrencyID,touched:d.CurrencyID,options:s.map(y=>({value:y.ID,label:y.Code+" - "+y.Name}))})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:n||!h,className:"btn btn-primary",children:n?"Saving...":t?"Update Bank":"Save Bank"})]})]})})}const Ahe=()=>{const t=ue(),{banks:e=[],isLoading:r}=V(b=>b.banks),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ry())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=()=>{a(!1),i(null)},g=b=>{d(b),c(!0)},y=async()=>{if(u)try{await t(sy(u.ID)).unwrap(),St.success("Bank deleted successfully"),c(!1),d(null)}catch(b){St.error(b.message||"Failed to delete bank")}},x=[{key:"BranchCode",header:"Branch Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"Branch",header:"Branch",sortable:!0},{key:"Name",header:"Bank Name",sortable:!0},{key:"AccountNumber",header:"Account Number",sortable:!0},{key:"Balance",header:"Balance",sortable:!0},{key:"CurrencyID",header:"CurrencyID",sortable:!0},{key:"Currency",header:"Currency",sortable:!0,render:b=>(b==null?void 0:b.Code)||"N/A"}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:g,className:"text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Bank Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage bank accounts and their details"})]}),o.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Bank"]})]}),o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No banks found. Click 'Add Bank' to create one."}),o.jsx(ae,{isOpen:n,onClose:h,title:s?"Edit Bank":"Add Bank",size:"lg",children:o.jsx(She,{initialData:s,onClose:h})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the bank"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})},The=({document:t,onClose:e,documentTypeCategoryOptions:r=[]})=>{const n=ue(),a=oe({Name:O().required("Name is required"),Code:O().required("Code is required"),Prefix:O().required("Prefix is required"),Suffix:O().required("Suffix is required"),StartNumber:re().required("Start number is required").min(1,"Start number must be at least 1"),CurrentNumber:re().required("Current number is required").min(1,"Current number must be at least 1"),DocumentTypeCategoryID:O().required("Document type category is required")}),s={Name:(t==null?void 0:t.Name)||"",Code:(t==null?void 0:t.Code)||"",Prefix:(t==null?void 0:t.Prefix)||"",Suffix:(t==null?void 0:t.Suffix)||"",StartNumber:(t==null?void 0:t.StartNumber)||1,CurrentNumber:(t==null?void 0:t.CurrentNumber)||1,DocumentTypeCategoryID:(t==null?void 0:t.DocumentTypeCategoryID)||""},i=async(l,{setSubmitting:c})=>{try{t?await n(CA({...l,ID:t.ID})).unwrap():await n(Jg(l)).unwrap(),e()}catch(u){console.error("Failed to save document details:",u)}finally{c(!1)}};return o.jsx($e,{initialValues:s,validationSchema:a,onSubmit:i,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,setFieldValue:m,isSubmitting:h})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",required:!0,value:l.Name,onChange:d,onBlur:f,error:c.Name,touched:u.Name,placeholder:"Enter document name"}),o.jsx(A,{label:"Code",name:"Code",type:"text",required:!0,value:l.Code,onChange:d,onBlur:f,error:c.Code,touched:u.Code,placeholder:"Enter document code"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Prefix",name:"Prefix",type:"text",required:!0,value:l.Prefix,onChange:d,onBlur:f,error:c.Prefix,touched:u.Prefix,placeholder:"Enter document prefix"}),o.jsx(A,{label:"Suffix",name:"Suffix",type:"text",required:!0,value:l.Suffix,onChange:d,onBlur:f,error:c.Suffix,touched:u.Suffix,placeholder:"Enter document suffix"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Start Number",name:"StartNumber",type:"number",required:!0,value:l.StartNumber,onChange:d,onBlur:f,error:c.StartNumber,touched:u.StartNumber,min:"1"}),o.jsx(A,{label:"Current Number",name:"CurrentNumber",type:"number",required:!0,value:l.CurrentNumber,onChange:d,onBlur:f,error:c.CurrentNumber,touched:u.CurrentNumber,min:"1"})]}),o.jsx("div",{className:"space-y-2",children:o.jsx(A,{label:"Document Type Category",name:"DocumentTypeCategoryID",type:"select",required:!0,value:l.DocumentTypeCategoryID,onChange:d,onBlur:f,error:c.DocumentTypeCategoryID,touched:u.DocumentTypeCategoryID,options:r})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?"Saving...":t?"Update":"Create"})]})]})})},aj="https://staging-engine.testthelink.online",khe=[],Vd=M("documentTypeCategories/fetchDocumentTypeCategories",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${aj}/documentTypeCategory`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),oy=M("documentTypeCategories/addDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${aj}/documentTypeCategory`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),AA=M("documentTypeCategories/updateDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${aj}/documentTypeCategory/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),iy=M("documentTypeCategories/deleteDocumentTypeCategory",async(t,e)=>{try{const r=await fetch(`${aj}/documentTypeCategory/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ohe=pe({name:"documentTypeCategories",initialState:{documentTypeCategories:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Vd.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vd.fulfilled,(e,r)=>{e.isLoading=!1,e.documentTypeCategories=Array.isArray(r.payload)?r.payload:[]}).addCase(Vd.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch document type categories",console.warn("Failed to fetch document type categories, using mock data.",e.error),e.documentTypeCategories=khe}).addCase(oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories.push(r.payload)}).addCase(oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add document type category",console.error("Failed to add document type category:",e.error)}).addCase(AA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.documentTypeCategories.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories[n]=r.payload)}).addCase(iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.documentTypeCategories)||(e.documentTypeCategories=[]),e.documentTypeCategories=e.documentTypeCategories.filter(n=>n.ID!==r.payload)}).addCase(iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete document type category",console.error("Failed to delete document type category:",e.error)})}}),Ehe=Ohe.reducer,Ihe=()=>{const t=ue(),{documentDetails:e,isLoading:r}=V(N=>N.documentDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),{documentTypeCategories:f}=V(N=>N.documentTypeCategories),m=f.map(N=>({value:N.ID,label:N.Name}));v.useEffect(()=>{t(qd()),t(Vd())},[t]);const h=()=>{i(null),a(!0)},g=N=>{i(N),a(!0)},y=N=>{d(N),c(!0)},x=async()=>{if(u)try{await t(Xg(u.ID)).unwrap(),c(!1),d(null)}catch(N){console.error("Failed to delete document detail:",N)}},p=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Prefix",header:"Prefix"},{key:"Suffix",header:"Suffix"},{key:"StartNumber",header:"Start Number"},{key:"CurrentNumber",header:"Current Number"}],b=N=>{const C=[{icon:Se,title:"Edit",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return N.ID>32&&C.push({icon:Fe,title:"Delete",onClick:y,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}),C};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Document Details"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage document details and their numbering"})]}),o.jsxs("button",{onClick:h,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Document Detail"]})]}),o.jsx(ye,{columns:p,data:e,actions:b,loading:r,emptyMessage:"No document details found. Click 'Add Document Detail' to create one."}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Detail":"Add Document Detail",size:"lg",children:o.jsx(The,{document:s,onClose:()=>a(!1),documentTypeCategoryOptions:m})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the document detail for"," ",o.jsx("span",{className:"font-medium",children:u==null?void 0:u.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})};function Phe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:O().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Dhe(){const t=ue(),{documentTypeCategories:e,isLoading:r}=V(b=>b.documentTypeCategories),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Vd())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(iy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete document type category:",b)}},y=b=>{t(s?AA({...b,ID:s.ID}):oy(b)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Document Type Categories"}),o.jsx("p",{children:"Manage Document Type Categories"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Document Type Category"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No document type categories found. Click 'Add Document Type Category' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Document Type Category":"Add Document Type Category",children:o.jsx(Phe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the document type category "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const sj="https://staging-engine.testthelink.online",_he=[],hs=M("items/fetchItems",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${sj}/item`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ly=M("items/addItem",async(t,e)=>{try{const r=await fetch(`${sj}/item`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),TA=M("items/updateItem",async(t,e)=>{try{const r=await fetch(`${sj}/item/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),cy=M("items/deleteItem",async(t,e)=>{try{const r=await fetch(`${sj}/item/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),$he=pe({name:"items",initialState:{items:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(hs.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hs.fulfilled,(e,r)=>{e.isLoading=!1,e.items=Array.isArray(r.payload)?r.payload:[]}).addCase(hs.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch items",console.warn("Failed to fetch items, using mock data.",e.error),e.items=_he}).addCase(ly.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ly.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items.push(r.payload)}).addCase(ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item",console.error("Failed to add item:",e.error)}).addCase(TA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(TA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.items.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.items)||(e.items=[]),e.items[n]=r.payload)}).addCase(cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.items)||(e.items=[]),e.items=e.items.filter(n=>n.ID!==r.payload)}).addCase(cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item",console.error("Failed to delete item:",e.error)})}}),Rhe=$he.reducer,oj="https://staging-engine.testthelink.online",Mhe=[],Pa=M("itemUnits/fetchItemUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${oj}/itemUnit`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),uy=M("itemUnits/addItemUnit",async(t,e)=>{try{const r=await fetch(`${oj}/itemUnit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),kA=M("itemUnits/updateItemUnit",async(t,e)=>{try{const r=await fetch(`${oj}/itemUnit/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),dy=M("itemUnits/deleteItemUnit",async(t,e)=>{try{const r=await fetch(`${oj}/itemUnit/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Lhe=pe({name:"itemUnits",initialState:{itemUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Pa.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pa.fulfilled,(e,r)=>{e.isLoading=!1,e.itemUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(Pa.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch item units",console.warn("Failed to fetch item units, using mock data.",e.error),e.itemUnits=Mhe}).addCase(uy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits.push(r.payload)}).addCase(uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add item unit",console.error("Failed to add item unit:",e.error)}).addCase(kA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.itemUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits[n]=r.payload)}).addCase(dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.itemUnits)||(e.itemUnits=[]),e.itemUnits=e.itemUnits.filter(n=>n.ID!==r.payload)}).addCase(dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete item unit",console.error("Failed to delete item unit:",e.error)})}}),Fhe=Lhe.reducer,Bhe=({item:t,onClose:e})=>{const r=ue(),{accounts:n}=V(d=>d.chartOfAccounts),{itemUnits:a}=V(d=>d.itemUnits),{taxCodes:s}=V(d=>d.taxCodes);v.useEffect(()=>{r(Pa()),r(ca()),r(pn())},[r]);const i=[{value:"Purchase",label:"Purchase"},{value:"Sales",label:"Sales"},{value:"Inventory",label:"Inventory"}],l=oe({Code:O().required("Code is required"),Name:O().required("Name is required"),ChargeAccountID:O().required("Charge Account is required"),UnitID:O().required("Unit is required"),TAXCodeID:O().required("Tax Code is required"),PurchaseOrSales:O().required("Type is required"),TaxRate:re().required("Tax Rate is required").min(0,"Tax Rate cannot be negative"),EWT:re().required("EWT is required").min(0,"EWT cannot be negative"),Vatable:Yi().required("Vatable is required")}),c={Code:(t==null?void 0:t.Code)||"",Name:(t==null?void 0:t.Name)||"",ChargeAccountID:(t==null?void 0:t.ChargeAccountID)||"",UnitID:(t==null?void 0:t.UnitID)||"",TAXCodeID:(t==null?void 0:t.TAXCodeID)||"",PurchaseOrSales:(t==null?void 0:t.PurchaseOrSales)||"",TaxRate:(t==null?void 0:t.TaxRate)||0,EWT:(t==null?void 0:t.EWT)||0,Vatable:(t==null?void 0:t.Vatable)||!1},u=async(d,{setSubmitting:f})=>{try{t?await r(TA({...d,ID:t.ID})).unwrap():await r(ly(d)).unwrap(),e()}catch(m){console.error("Failed to save item:",m)}finally{f(!1)}};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:y})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",required:!0,value:d.Code,onChange:h,onBlur:g,error:f.Code,touched:m.Code,placeholder:"Enter item code"}),o.jsx(A,{label:"Name",name:"Name",type:"text",required:!0,value:d.Name,onChange:h,onBlur:g,error:f.Name,touched:m.Name,placeholder:"Enter item name"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Charge Account",name:"ChargeAccountID",type:"select",required:!0,value:d.ChargeAccountID,onChange:h,onBlur:g,error:f.ChargeAccountID,touched:m.ChargeAccountID,options:n.map(x=>({value:x.ID,label:x.Name}))}),o.jsx(A,{label:"Type",name:"PurchaseOrSales",type:"select",required:!0,value:d.PurchaseOrSales,onChange:h,onBlur:g,error:f.PurchaseOrSales,touched:m.PurchaseOrSales,options:i}),o.jsx(A,{label:"Unit",name:"UnitID",type:"select",required:!0,value:d.UnitID,onChange:h,onBlur:g,error:f.UnitID,touched:m.UnitID,options:a.map(x=>({value:x.ID,label:x.Code+" - "+x.Name}))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Tax Code",name:"TAXCodeID",type:"select",required:!0,value:d.TAXCodeID,onChange:h,onBlur:g,error:f.TAXCodeID,touched:m.TAXCodeID,options:s.map(x=>({value:x.ID,label:x.Code}))}),o.jsx(A,{label:"Tax Rate",name:"TaxRate",type:"number",required:!0,value:d.TaxRate,onChange:h,onBlur:g,error:f.TaxRate,touched:m.TaxRate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"EWT",name:"EWT",type:"number",required:!0,value:d.EWT,onChange:h,onBlur:g,error:f.EWT,touched:m.EWT}),o.jsx("div",{className:"flex items-center mt-5",children:o.jsx(A,{label:"Vatable",name:"Vatable",type:"checkbox",checked:d.Vatable,onChange:h,onBlur:g,error:f.Vatable,touched:m.Vatable})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,children:y?"Saving...":t?"Update":"Create"})]})]})})},qhe=()=>{const t=ue(),{items:e,isLoading:r}=V(w=>w.items),{itemUnits:n,isLoading:a}=V(w=>w.itemUnits),{taxCodes:s,isLoading:i}=V(w=>w.taxCodes),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,g]=v.useState(null);v.useEffect(()=>{t(hs()),t(Pa()),t(ca())},[t]);const y=()=>{d(null),c(!0)},x=w=>{d(w),c(!0)},p=w=>{g(w),m(!0)},b=async()=>{if(h)try{await t(cy(h.ID)).unwrap(),m(!1),g(null)}catch(w){console.error("Failed to delete item:",w)}},N=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"PurchaseOrSales",header:"Type",sortable:!0},{key:"TAXCodeValue",header:"Tax Code",sortable:!0},{key:"unitName",header:"Unit Name",sortable:!0},{key:"EWT",header:"EWT",sortable:!0},{key:"Vatable",header:"Vatable",sortable:!0,render:w=>o.jsx("span",{className:`inline-flex rounded-full px-2 text-xs font-semibold leading-5 ${w===!0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:w?"Yes":"No"})}],C=e.map(w=>{var S,T;return{...w,unitName:((S=n==null?void 0:n.find(k=>k.ID===w.UnitID))==null?void 0:S.Name)||"N/A",TAXCodeValue:((T=s==null?void 0:s.find(k=>k.ID===w.TAXCodeID))==null?void 0:T.Code)||"N/A"}}),j=[{icon:Se,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Item List"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage inventory items, assets, and services"})]}),o.jsxs("button",{onClick:y,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Item"]})]}),o.jsx(ye,{columns:N,data:C,actions:j,loading:r||a||i,emptyMessage:"No items found. Click 'Add Item' to create one."}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Item":"Add Item",size:"lg",children:o.jsx(Bhe,{item:u,onClose:()=>c(!1)})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the item"," ",o.jsx("span",{className:"font-medium",children:h==null?void 0:h.name}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})},Vhe=oe().shape({MarriageServiceInvoice:O().required("Marriage Service Invoice account is required"),BurialServiceInvoice:O().required("Burial Service Invoice account is required"),DueFromLGU:O().required("Due From LGU account is required"),DueFromRate:re().required("Due From Rate is required"),DueToLGU:O().required("Due To LGU account is required"),DueToRate:re().required("Due To Rate is required"),RealPropertyTax:O().required("Real Property Tax account is required"),RealPropertyTaxRate:re().required("Real Property Tax Rate is required")}),Uhe=({initialData:t,onClose:e,onSubmit:r,invoiceChargeAccounts:n=[]})=>{const a=ue(),s=V(l=>{var c;return((c=l.chartOfAccounts)==null?void 0:c.accounts)||[]});v.useEffect(()=>{a(pn())},[a]);const i=n.reduce((l,c)=>{switch(c.ID){case 1:l.MarriageServiceInvoice=c.ChartofAccountsID;break;case 2:l.BurialServiceInvoice=c.ChartofAccountsID;break;case 3:l.DueFromLGU=c.ChartofAccountsID,l.DueFromRate=c.Rate??0;break;case 4:l.DueToLGU=c.ChartofAccountsID,l.DueToRate=c.Rate??0;break;case 5:l.RealPropertyTax=c.ChartofAccountsID,l.RealPropertyTaxRate=c.Rate??0;break}return l},{});return!n||n.length===0?o.jsx("div",{className:"text-neutral-500",children:"Loading charge accounts..."}):o.jsx($e,{initialValues:{MarriageServiceInvoice:i.MarriageServiceInvoice||"",BurialServiceInvoice:i.BurialServiceInvoice||"",DueFromLGU:i.DueFromLGU||"",DueFromRate:i.DueFromRate||0,DueToLGU:i.DueToLGU||"",DueToRate:i.DueToRate||0,RealPropertyTax:i.RealPropertyTax||"",RealPropertyTaxRate:i.RealPropertyTaxRate||0},validationSchema:Vhe,onSubmit:r,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Charge Account of Service Invoice"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(A,{label:"Marriage Service Invoice",name:"MarriageServiceInvoice",type:"select",required:!0,value:l.MarriageServiceInvoice,onChange:d,onBlur:f,error:c.MarriageServiceInvoice,touched:u.MarriageServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(A,{label:"Burial Service Invoice",name:"BurialServiceInvoice",type:"select",required:!0,value:l.BurialServiceInvoice,onChange:d,onBlur:f,error:c.BurialServiceInvoice,touched:u.BurialServiceInvoice,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Real Property Tax Shares Settings"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due to LGUs"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Account",name:"DueToLGU",type:"select",required:!0,value:l.DueToLGU,onChange:d,onBlur:f,error:c.DueToLGU,touched:u.DueToLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(A,{label:"Rate",name:"DueToRate",type:"number",required:!0,value:l.DueToRate,onChange:d,onBlur:f,error:c.DueToRate,touched:u.DueToRate})]})]}),o.jsxs("div",{className:"bg-neutral-50 p-4 rounded-lg space-y-4",children:[o.jsx("h4",{className:"font-medium text-neutral-700",children:"Due From Local Government Units"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Account",name:"DueFromLGU",type:"select",required:!0,value:l.DueFromLGU,onChange:d,onBlur:f,error:c.DueFromLGU,touched:u.DueFromLGU,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(A,{label:"Rate",name:"DueFromRate",type:"number",required:!0,value:l.DueFromRate,onChange:d,onBlur:f,error:c.DueFromRate,touched:u.DueFromRate})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900",children:"Special Education Funds"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Real Property Tax",name:"RealPropertyTax",type:"select",required:!0,value:l.RealPropertyTax,onChange:d,onBlur:f,error:c.RealPropertyTax,touched:u.RealPropertyTax,options:(s||[]).map(h=>({value:h.ID,label:h.Name}))}),o.jsx(A,{label:"Rate",name:"RealPropertyTaxRate",type:"number",required:!0,value:l.RealPropertyTaxRate,onChange:d,onBlur:f,error:c.RealPropertyTaxRate,touched:u.RealPropertyTaxRate})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:m,className:"btn btn-primary",children:"Save"})]})]})})},rV="https://staging-engine.testthelink.online",fy=M("chartOfAccounts/fetchInvoiceChargeAccounts",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rV}/serviceInvoiceAccounts`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),zhe=M("invoiceChargeAccounts/addInvoiceChargeAccount",async t=>{try{return{...t,id:Date.now(),status:"Active"}}catch(e){throw console.warn("Failed to add invoice charge account:",e),e}}),nV=M("invoiceChargeAccounts/updateInvoiceChargeAccount",async(t,e)=>{try{const r=await fetch(`${rV}/serviceInvoiceAccounts/1`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Whe=M("invoiceChargeAccounts/deleteInvoiceChargeAccount",async t=>{try{return t}catch(e){throw console.warn("Failed to delete invoice charge account:",e),e}}),Hhe={invoiceChargeAccounts:[],isLoading:!1,error:null},Ghe=pe({name:"invoiceChargeAccounts",initialState:Hhe,reducers:{},extraReducers:t=>{t.addCase(fy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fy.fulfilled,(e,r)=>{e.isLoading=!1,e.invoiceChargeAccounts=r.payload}).addCase(fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(zhe.fulfilled,(e,r)=>{e.invoiceChargeAccounts.push(r.payload)}).addCase(nV.fulfilled,(e,r)=>{const n=e.invoiceChargeAccounts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.invoiceChargeAccounts[n]=r.payload)}).addCase(Whe.fulfilled,(e,r)=>{e.invoiceChargeAccounts=e.invoiceChargeAccounts.filter(n=>n.id!==r.payload)})}}),Yhe=Ghe.reducer;function Khe(){const t=ue(),{invoiceChargeAccounts:e}=V(n=>n.invoiceChargeAccounts);v.useEffect(()=>{t(fy())},[t]);const r=async(n,{setSubmitting:a})=>{try{await t(nV(n)).unwrap(),a(!1)}catch(s){console.error("Failed to save invoice charge account:",s),a(!1)}};return o.jsx("div",{children:o.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:o.jsx(Uhe,{onSubmit:r,invoiceChargeAccounts:e})})})}function Jhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:O().required("Code is required"),Name:O().required("Name is required")}),a=tt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Xhe(){const t=ue(),{itemUnits:e,isLoading:r}=V(b=>b.itemUnits),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Pa())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(dy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete item unit:",b)}},y=b=>{t(s?kA({...b,ID:s.ID}):uy(b)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Item Units"}),o.jsx("p",{children:"Manage item units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Item Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No item units found. Click 'Add Item Unit' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Item Unit":"Add Item Unit",children:o.jsx(Jhe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the item unit "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Qhe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Type:O().required("Type is required"),Description:O().required("Description is required")});return o.jsx($e,{initialValues:t||{Type:"",Description:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(A,{label:"Type",name:"Type",type:"text",value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(A,{label:"Description",name:"Description",type:"textarea",value:a.Description,onChange:l,onBlur:c,error:s.Description,touched:i.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const ij="https://staging-engine.testthelink.online",Zhe=[],Ud=M("projectTypes/fetchProjectTypes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${ij}/projectType`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),my=M("projectTypes/addProjectType",async(t,e)=>{try{const r=await fetch(`${ij}/projectType`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),OA=M("projectTypes/updateProjectType",async(t,e)=>{try{const r=await fetch(`${ij}/projectType/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),hy=M("projectTypes/deleteProjectType",async(t,e)=>{try{const r=await fetch(`${ij}/projectType/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),epe=pe({name:"projectTypes",initialState:{projectTypes:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Ud.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ud.fulfilled,(e,r)=>{e.isLoading=!1,e.projectTypes=Array.isArray(r.payload)?r.payload:[]}).addCase(Ud.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project types",console.warn("Failed to fetch project types, using mock data.",e.error),e.projectTypes=Zhe}).addCase(my.pending,e=>{e.isLoading=!0,e.error=null}).addCase(my.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes.push(r.payload)}).addCase(my.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project type",console.error("Failed to add project type:",e.error)}).addCase(OA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(OA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectTypes.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes[n]=r.payload)}).addCase(hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectTypes)||(e.projectTypes=[]),e.projectTypes=e.projectTypes.filter(n=>n.ID!==r.payload)}).addCase(hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project type",console.error("Failed to delete project type:",e.error)})}}),tpe=epe.reducer;function rpe(){const t=ue(),{projectTypes:e,isLoading:r}=V(b=>b.projectTypes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Ud())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(hy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete project type:",b)}},y=b=>{t(s?OA({...b,ID:s.ID}):my(b)),a(!1)},x=[{key:"Type",header:"Type",sortable:!0},{key:"Description",header:"Description",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Types"}),o.jsx("p",{children:"Manage project types"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Type"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No project types found. Click 'Add Project Type' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Type":"Add Project Type",children:o.jsx(Qhe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project type "',u==null?void 0:u.Type,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function npe({initialData:t,onSubmit:e,onClose:r}){const n=ue(),{projectTypes:a,loading:s}=V(c=>c.projectTypes);v.useEffect(()=>{n(Ud())},[n]);const i=oe({Title:O().required("Title is required"),ProjectTypeID:O().required("Project Type is required"),StartDate:Me().required("Start Date is required"),EndDate:Me().required("End Date is required"),Description:O().required("Description is required")}),l=tt({initialValues:t||{Title:"",ProjectTypeID:"",StartDate:"",EndDate:"",Description:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Project Title",name:"Title",type:"text",value:l.values.Title,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Title,touched:l.touched.Title,required:!0}),o.jsx(A,{label:"Project Type",name:"ProjectTypeID",type:"select",options:a.map(c=>({label:c.Type,value:c.ID})),value:l.values.ProjectTypeID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.ProjectTypeID,touched:l.touched.ProjectTypeID,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Start Date",name:"StartDate",type:"date",value:l.values.StartDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.StartDate,touched:l.touched.StartDate,required:!0}),o.jsx(A,{label:"End Date",name:"EndDate",type:"date",value:l.values.EndDate,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.EndDate,touched:l.touched.EndDate,required:!0})]}),o.jsx(A,{label:"Description",name:"Description",type:"textarea",rows:3,value:l.values.Description,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.Description,touched:l.touched.Description,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>setIsModalOpen(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}const lj="https://staging-engine.testthelink.online",ape=[],Pi=M("projectDetails/fetchProjectDetails",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${lj}/project`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),py=M("projectDetails/addProjectDetail",async(t,e)=>{try{const r=await fetch(`${lj}/project`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),EA=M("projectDetails/updateProjectDetail",async(t,e)=>{try{const r=await fetch(`${lj}/project/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),gy=M("projectDetails/deleteProjectDetail",async(t,e)=>{try{const r=await fetch(`${lj}/project/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),spe=pe({name:"projectDetails",initialState:{projectDetails:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Pi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Pi.fulfilled,(e,r)=>{e.isLoading=!1,e.projectDetails=Array.isArray(r.payload)?r.payload:[]}).addCase(Pi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch project details",console.warn("Failed to fetch project details, using mock data.",e.error),e.projectDetails=ape}).addCase(py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails.push(r.payload)}).addCase(py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add project detail",console.error("Failed to add project detail:",e.error)}).addCase(EA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(EA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.projectDetails.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails[n]=r.payload)}).addCase(gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.projectDetails)||(e.projectDetails=[]),e.projectDetails=e.projectDetails.filter(n=>n.ID!==r.payload)}).addCase(gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete project detail",console.error("Failed to delete project detail:",e.error)})}}),ope=spe.reducer;function ipe(){const t=ue(),{projectDetails:e,isLoading:r}=V(b=>b.projectDetails),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Pi())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(gy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete project detail:",b)}},y=b=>{t(s?EA({...b,ID:s.ID}):py(b)),a(!1)},x=[{key:"Title",header:"Project Title",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0},{key:"EndDate",header:"End Date",sortable:!0},{key:"ProjectTypeID",header:"Project Type",sortable:!0},{key:"Description",header:"Description",sortable:!1}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Project Details"}),o.jsx("p",{children:"Manage project details"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Project Detail"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No project details found. Click 'Add Project Detail' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Project Detail":"Add Project Detail",size:"lg",children:o.jsx(npe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the project "',u==null?void 0:u.projectTitle,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function lpe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:O().required("Code is required"),Name:O().required("Name is required")});return o.jsx($e,{initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}const cj="https://staging-engine.testthelink.online",cpe=[],upe={financialStatements:cpe,financialStatement:null,isLoading:!1,error:null},yy=M("financialStatements/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${cj}/financialStatement`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),by=M("financialStatements/addFinancialStatement",async(t,e)=>{try{const r=await fetch(`${cj}/financialStatement`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),xy=M("financialStatements/updateFinancialStatement",async(t,e)=>{try{const r=await fetch(`${cj}/financialStatement/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),vy=M("financialStatements/deleteFinancialStatement",async(t,e)=>{try{const r=await fetch(`${cj}/financialStatement/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),aV=pe({name:"financialStatements",initialState:upe,reducers:{setFinancialStatement:(t,e)=>{t.financialStatement=e.payload},resetFinancialStatementState:t=>{t.financialStatement=null,t.error=null}},extraReducers:t=>{t.addCase(yy.pending,e=>{e.isLoading=!0}).addCase(yy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload,e.error=null}).addCase(yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(by.pending,e=>{e.isLoading=!0}).addCase(by.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements.push(r.payload),e.error=null}).addCase(by.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(xy.pending,e=>{e.isLoading=!0}).addCase(xy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.financialStatements.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.financialStatements[n]=r.payload),e.error=null}).addCase(xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(vy.pending,e=>{e.isLoading=!0}).addCase(vy.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=e.financialStatements.filter(n=>n.ID!==r.payload),e.error=null}).addCase(vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setFinancialStatement:V7e,resetFinancialStatementState:U7e}=aV.actions,dpe=aV.reducer;function fpe(){const t=ue(),{financialStatements:e,isLoading:r}=V(b=>b.financialStatements),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(yy())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(vy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete financial statement:",b)}},y=b=>{t(s?xy({...b,ID:s.ID}):by(b)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Financial Statements"}),o.jsx("p",{children:"Manage financial statements"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Financial Statement"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No financial statements found. Click 'Add Financial Statement' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Financial Statement":"Add Financial Statement",children:o.jsx(lpe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the financial statement "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function mpe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:O().required("Code is required"),Name:O().required("Name is required"),Year:re().required("Year is required").min(2e3,"Year must be 2000 or later"),MonthStart:O().required("Month Start is required"),MonthEnd:O().required("Month End is required")}),a=[{value:"January",label:"January"},{value:"February",label:"February"},{value:"March",label:"March"},{value:"April",label:"April"},{value:"May",label:"May"},{value:"June",label:"June"},{value:"July",label:"July"},{value:"August",label:"August"},{value:"September",label:"September"},{value:"October",label:"October"},{value:"November",label:"November"},{value:"December",label:"December"}];return o.jsx($e,{initialValues:t||{Code:"",Name:"",Year:new Date().getFullYear(),MonthStart:"",MonthEnd:""},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:s,errors:i,touched:l,handleChange:c,handleBlur:u,handleSubmit:d,isSubmitting:f})=>o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:s.Code,onChange:c,onBlur:u,error:i.Code,touched:l.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:s.Name,onChange:c,onBlur:u,error:i.Name,touched:l.Name,required:!0}),o.jsx(A,{label:"Year",name:"Year",type:"number",value:s.Year,onChange:c,onBlur:u,error:i.Year,touched:l.Year,required:!0}),o.jsx(A,{label:"Month Start",name:"MonthStart",type:"select",value:s.MonthStart,onChange:c,onBlur:u,error:i.MonthStart,touched:l.MonthStart,options:a,required:!0}),o.jsx(A,{label:"Month End",name:"MonthEnd",type:"select",value:s.MonthEnd,onChange:c,onBlur:u,error:i.MonthEnd,touched:l.MonthEnd,options:a,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})]})]})})}const uj="https://staging-engine.testthelink.online",hpe=[],jo=M("fiscalYears/fetchFiscalYears",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${uj}/fiscalYear`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),jy=M("fiscalYears/addFiscalYear",async(t,e)=>{try{const r=await fetch(`${uj}/fiscalYear`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),IA=M("fiscalYears/updateFiscalYear",async(t,e)=>{try{const r=await fetch(`${uj}/fiscalYear/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),wy=M("fiscalYears/deleteFiscalYear",async(t,e)=>{try{const r=await fetch(`${uj}/fiscalYear/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ppe=pe({name:"fiscalYears",initialState:{fiscalYears:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(jo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jo.fulfilled,(e,r)=>{e.isLoading=!1,e.fiscalYears=Array.isArray(r.payload)?r.payload:[]}).addCase(jo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch fiscal years",console.warn("Failed to fetch fiscal years, using mock data.",e.error),e.fiscalYears=hpe}).addCase(jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears.push(r.payload)}).addCase(jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fiscal year",console.error("Failed to add fiscal year:",e.error)}).addCase(IA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(IA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fiscalYears.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears[n]=r.payload)}).addCase(wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.fiscalYears)||(e.fiscalYears=[]),e.fiscalYears=e.fiscalYears.filter(n=>n.ID!==r.payload)}).addCase(wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fiscal year",console.error("Failed to delete fiscal year:",e.error)})}}),gpe=ppe.reducer;function ype(){const t=ue(),{fiscalYears:e,isLoading:r}=V(b=>b.fiscalYears),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(jo())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(wy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete fiscal year:",b)}},y=b=>{t(s?IA({...b,id:s.ID}):jy(b)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"Year",header:"Year",sortable:!0},{key:"MonthStart",header:"Month Start",sortable:!0},{key:"MonthEnd",header:"Month End",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Fiscal Years"}),o.jsx("p",{children:"Manage fiscal years"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Fiscal Year"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No fiscal years found. Click 'Add Fiscal Year' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Fiscal Year":"Add Fiscal Year",children:o.jsx(mpe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the fiscal year "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const bpe=[{value:"Individual",label:"Individual"},{value:"Corporate",label:"Corporate"}];function xpe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Type:O().required("Type is required"),Code:O().required("Code is required"),Name:O().required("Nature of Payment is required"),Rate:re().required("Rate is required").min(0,"Rate cannot be negative").max(100,"Rate cannot exceed 100%")});return o.jsx($e,{initialValues:t||{Type:"",Code:"",Name:"",Rate:0},validationSchema:n,onSubmit:e,enableReinitialize:!0,children:({values:a,errors:s,touched:i,handleChange:l,handleBlur:c,handleSubmit:u,isSubmitting:d})=>o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsx(A,{label:"Type",name:"Type",type:"select",options:bpe,value:a.Type,onChange:l,onBlur:c,error:s.Type,touched:i.Type,required:!0}),o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.Code,onChange:l,onBlur:c,error:s.Code,touched:i.Code,required:!0}),o.jsx(A,{label:"Rate (%)",name:"Rate",type:"number",step:"0.01",value:a.Rate,onChange:l,onBlur:c,error:s.Rate,touched:i.Rate,required:!0}),o.jsx(A,{label:"Nature of Payment",name:"Name",type:"textarea",value:a.Name,onChange:l,onBlur:c,error:s.Name,touched:i.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Saving...":"Save"})]})]})})}function vpe(){const t=ue(),{taxCodes:e,isLoading:r}=V(b=>b.taxCodes),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ca())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Ag(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete tax code:",b)}},y=b=>{t(s?hA({...b,ID:s.ID}):Sg(b)),a(!1)},x=[{key:"Type",header:"Type",sortable:!0},{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Nature of Payment",sortable:!0},{key:"Rate",header:"Rate (%)",sortable:!0,render:b=>`${b} %`}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Codes"}),o.jsx("p",{children:"Manage tax codes"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Code"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No tax codes found. Click 'Add Tax Code' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Code":"Add Tax Code",children:o.jsx(xpe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax code "',u==null?void 0:u.code,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function jpe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:O().required("Code is required"),Name:O().required("Name is required")}),a=tt({initialValues:t||{Code:"",Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function wpe(){const t=ue(),{modeOfPayments:e,isLoading:r}=V(b=>b.modeOfPayments),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(sc())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Eg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete mode of payment:",b)}},y=b=>{t(s?gA({...b,ID:s.ID}):Og(b)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Mode of Payments"}),o.jsx("p",{children:"Manage mode of payments"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Mode of Payment"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No mode of payments found. Click 'Add Mode of Payment' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Mode of Payment":"Add Mode of Payment",children:o.jsx(jpe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the mode of payment "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Npe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Code:O().required("Code is required"),Name:O().required("Name is required"),NumberOfDays:re().required("Number of Days is required").integer("Number of Days must be an integer").min(0,"Number of Days cannot be negative")}),a=tt({initialValues:t||{Code:"",Name:"",NumberOfDays:0},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Code",name:"Code",type:"text",value:a.values.Code,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Code,touched:a.touched.Code,required:!0}),o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsx(A,{label:"Number of Days",name:"NumberOfDays",type:"number",value:a.values.NumberOfDays,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NumberOfDays,touched:a.touched.NumberOfDays,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Cpe(){const t=ue(),{paymentTerms:e,isLoading:r}=V(b=>b.paymentTerms),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(ac())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(kg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete payment term:",b)}},y=b=>{t(s?pA({...b,ID:s.ID}):Tg(b)),a(!1)},x=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"NumberOfDays",header:"Number of Days",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Payment Terms"}),o.jsx("p",{children:"Manage payment terms"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Payment Term"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No payment terms found. Click 'Add Payment Term' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Payment Term":"Add Payment Term",children:o.jsx(Npe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the payment term "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Spe({initialData:t,onSubmit:e,onClose:r}){const n=oe({Name:O().required("Name is required")}),a=tt({initialValues:t||{Name:""},validationSchema:n,onSubmit:s=>{e(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"Name",type:"text",value:a.values.Name,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.Name,touched:a.touched.Name,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Saving...":"Save"})]})]})}function Ape(){const t=ue(),{industries:e,isLoading:r}=V(b=>b.industries),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(nc())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Cg(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete industry:",b)}},y=b=>{t(s?mA({...b,ID:s.ID}):Ng(b)),a(!1)},x=[{key:"Name",header:"Name",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Industries"}),o.jsx("p",{children:"Manage industries"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Industry"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No industries found. Click 'Add Industry' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Industry":"Add Industry",children:o.jsx(Spe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the industry "',u==null?void 0:u.name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Tpe({initialData:t,onSubmit:e,onClose:r}){const n=ue();v.useEffect(()=>{n(Ei()),n(xo()),n(vo()),n(Ii())},[n]);const{regions:a}=V(y=>y.regions),{provinces:s}=V(y=>y.provinces),{municipalities:i}=V(y=>y.municipalities),{barangays:l}=V(y=>y.barangays),c=oe({FirstName:O().required("First Name is required"),MiddleName:O(),LastName:O().required("Last Name is required"),Gender:O().required("Gender is required"),Citizenship:O().required("Citizenship is required"),DateOfBirth:Me().required("Date of Birth is required"),PlaceOfBirth:O().required("Place of Birth is required"),Occupation:O().required("Occupation is required"),CivilStatus:O().required("Civil Status is required"),TIN:O().required("TIN is required"),EmailAddress:O().email().required("Email is required"),RegionID:O().required("Region is required"),ProvinceID:O().required("Province is required"),MunicipalityID:O().required("Municipality is required"),BarangayID:O().required("Barangay is required"),ZIPCode:O().required("ZIP Code is required"),StreetAddress:O().required("Street Address is required"),RDO:O().required("RDO is required")}),u=tt({initialValues:t||{FirstName:"",MiddleName:"",LastName:"",Gender:"",Citizenship:"",DateOfBirth:"",PlaceOfBirth:"",Occupation:"",CivilStatus:"",TIN:"",EmailAddress:"",RegionID:"",ProvinceID:"",MunicipalityID:"",BarangayID:"",ZIPCode:"",StreetAddress:"",RDO:""},validationSchema:c,onSubmit:e}),{values:d,handleChange:f,handleBlur:m,errors:h,touched:g}=u;return o.jsxs("form",{onSubmit:u.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"First Name",name:"FirstName",value:d.FirstName,onChange:f,onBlur:m,error:h.FirstName,touched:g.FirstName,required:!0}),o.jsx(A,{label:"Middle Name",name:"MiddleName",value:d.MiddleName,onChange:f,onBlur:m,error:h.MiddleName,touched:g.MiddleName}),o.jsx(A,{label:"Last Name",name:"LastName",value:d.LastName,onChange:f,onBlur:m,error:h.LastName,touched:g.LastName,required:!0}),o.jsx(A,{label:"Gender",name:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],value:d.Gender,onChange:f,onBlur:m,error:h.Gender,touched:g.Gender,required:!0}),o.jsx(A,{label:"Citizenship",name:"Citizenship",value:d.Citizenship,onChange:f,onBlur:m,error:h.Citizenship,touched:g.Citizenship,required:!0}),o.jsx(A,{label:"Date of Birth",name:"DateOfBirth",type:"date",value:d.DateOfBirth,onChange:f,onBlur:m,error:h.DateOfBirth,touched:g.DateOfBirth,required:!0}),o.jsx(A,{label:"Place of Birth",name:"PlaceOfBirth",value:d.PlaceOfBirth,onChange:f,onBlur:m,error:h.PlaceOfBirth,touched:g.PlaceOfBirth,required:!0}),o.jsx(A,{label:"Occupation",name:"Occupation",value:d.Occupation,onChange:f,onBlur:m,error:h.Occupation,touched:g.Occupation,required:!0}),o.jsx(A,{label:"Civil Status",name:"CivilStatus",type:"select",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widowed",label:"Widowed"},{value:"Separated",label:"Separated"},{value:"Divorced",label:"Divorced"}],value:d.CivilStatus,onChange:f,onBlur:m,error:h.CivilStatus,touched:g.CivilStatus,required:!0}),o.jsx(A,{label:"TIN",name:"TIN",value:d.TIN,onChange:f,onBlur:m,error:h.TIN,touched:g.TIN,required:!0}),o.jsx(A,{label:"Email",name:"EmailAddress",type:"email",value:d.EmailAddress,onChange:f,onBlur:m,error:h.EmailAddress,touched:g.EmailAddress,required:!0}),o.jsx(A,{label:"Region",name:"RegionID",type:"select",options:a.map(y=>({value:y.ID,label:y.Name})),value:d.RegionID,onChange:f,onBlur:m,error:h.RegionID,touched:g.RegionID,required:!0}),o.jsx(A,{label:"Province",name:"ProvinceID",type:"select",options:s.map(y=>({value:y.ID,label:y.Name})),value:d.ProvinceID,onChange:f,onBlur:m,error:h.ProvinceID,touched:g.ProvinceID,required:!0}),o.jsx(A,{label:"Municipality",name:"MunicipalityID",type:"select",options:i.map(y=>({value:y.ID,label:y.Name})),value:d.MunicipalityID,onChange:f,onBlur:m,error:h.MunicipalityID,touched:g.MunicipalityID,required:!0}),o.jsx(A,{label:"Barangay",name:"BarangayID",type:"select",options:l.map(y=>({value:y.ID,label:y.Name})),value:d.BarangayID,onChange:f,onBlur:m,error:h.BarangayID,touched:g.BarangayID,required:!0}),o.jsx(A,{label:"ZIP Code",name:"ZIPCode",value:d.ZIPCode,onChange:f,onBlur:m,error:h.ZIPCode,touched:g.ZIPCode,required:!0}),o.jsx(A,{label:"Street Address",name:"StreetAddress",type:"textarea",rows:2,value:d.StreetAddress,onChange:f,onBlur:m,error:h.StreetAddress,touched:g.StreetAddress,required:!0}),o.jsx(A,{label:"Revenue District Office",name:"RDO",value:d.RDO,onChange:f,onBlur:m,error:h.RDO,touched:g.RDO,required:!0})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const dj="https://staging-engine.testthelink.online",kpe=[],Da=M("customers/fetchCustomers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dj}/customer`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ny=M("customers/addCustomer",async(t,e)=>{try{const r=await fetch(`${dj}/customer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),PA=M("customers/updateCustomer",async(t,e)=>{try{const r=await fetch(`${dj}/customer/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Cy=M("customers/deleteCustomer",async(t,e)=>{try{const r=await fetch(`${dj}/customer/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Ope=pe({name:"customers",initialState:{customers:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Da.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Da.fulfilled,(e,r)=>{e.isLoading=!1,e.customers=Array.isArray(r.payload)?r.payload:[]}).addCase(Da.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch customers",console.warn("Failed to fetch customer details, using mock data.",e.error),e.customers=kpe}).addCase(Ny.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ny.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers.push(r.payload)}).addCase(Ny.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add customer",console.error("Failed to add customer:",e.error)}).addCase(PA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(PA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.customers.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.customers)||(e.customers=[]),e.customers[n]=r.payload)}).addCase(Cy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.customers)||(e.customers=[]),e.customers=e.customers.filter(n=>n.ID!==r.payload)}).addCase(Cy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete customer",console.error("Failed to delete customer:",e.error)})}}),Epe=Ope.reducer;function Ipe(){const t=ue(),{customers:e,isLoading:r}=V(w=>w.customers),{industries:n}=V(w=>w.industries),{taxCodes:a}=V(w=>w.taxCodes),{paymentTerms:s}=V(w=>w.paymentTerms),{modeOfPayments:i}=V(w=>w.modeOfPayments),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,g]=v.useState(null);v.useEffect(()=>{t(Da()),t(nc()),t(ca()),t(ac()),t(sc())},[t]);const y=()=>{d(null),c(!0)},x=w=>{d(w),c(!0)},p=w=>{console.log("Delete customer:",w),g(w),m(!0)},b=async()=>{if(h)try{await t(Cy(h.ID)).unwrap(),m(!1),g(null)}catch(w){console.error("Failed to delete Individual/Citizen:",w)}},N=w=>{t(u?PA({...w,ID:u.ID}):Ny(w)),c(!1)},C=[{key:"Code",header:"Code",sortable:!0},{key:"Name",header:"Name",sortable:!0},{key:"TIN",header:"TIN",sortable:!0},{key:"PaymentTermsID",header:"Payment Terms",sortable:!0,render:w=>{const S=s.find(T=>T.ID==w);return(S==null?void 0:S.Name)||"N/A"}},{key:"PaymentMethodID",header:"Payment Method",sortable:!0,render:w=>{const S=i.find(T=>T.ID==w);return(S==null?void 0:S.Name)||"N/A"}},{key:"TaxCodeID",header:"Tax Code",sortable:!0,render:w=>{const S=a.find(T=>T.ID==w);return(S==null?void 0:S.Code)||"N/A"}},{key:"IndustryTypeID",header:"Industry Type",sortable:!0,render:w=>{const S=n.find(T=>T.ID==w);return(S==null?void 0:S.Name)||"N/A"}},{key:"ZIPCode",header:"ZIP Code",sortable:!0},{key:"PlaceofIncorporation",header:"Place of Incorporation",sortable:!0},{key:"KindofOrganization",header:"Kind of Organization",sortable:!0},{key:"DateofRegistration",header:"Date of Registration",sortable:!0}],j=[{icon:Se,title:"Edit",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Individuals/Citizens"}),o.jsx("p",{children:"Manage Individuals/Citizens"})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Individual/Citizen"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:C,data:e,actions:j,loading:r,emptyMessage:"No individuals/citizens found. Click 'Add Individual/Citizen' to create one."})}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:u?"Edit Individual/Citizen":"Add Individual/Citizen",size:"lg",children:o.jsx(Tpe,{initialData:u,onClose:()=>c(!1),onSubmit:N})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the individual/citizen "',h==null?void 0:h.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn btn-danger",children:"Delete"})]})]})]})}const Ppe={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500",info:"bg-info-600 text-white hover:bg-info-700 focus:ring-info-500"},Dpe={sm:"px-2.5 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function dt({children:t,variant:e="primary",size:r="md",className:n="",disabled:a=!1,type:s="button",onClick:i,...l}){return o.jsx("button",{type:s,className:_e("inline-flex items-center justify-center font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",Ppe[e],Dpe[r],a&&"opacity-50 cursor-not-allowed",n),disabled:a,onClick:i,...l,children:t})}function _pe({initialData:t,onSubmit:e,onClose:r}){const n=ue(),{customers:a}=V(b=>b.customers);v.useEffect(()=>{n(Da())},[n]);const s=tt({initialValues:{T_D_No:"",PropertyID:"",OwnerID:"",OwnerTIN:"",OwnerTelephoneNumber:"",OwnerAddress:"",BeneficialorAdminUserID:"",BeneficialorAdminTIN:"",BeneficialorAdminAddress:"",BeneficialorAdminTelephoneNumber:"",OCT_TCT_CLOA_Number:"",SurveyNumber:"",LotNumber:"",CCT:"",BlockNumber:"",Dated:"",North:"",South:"",East:"",West:"",Taxable:!1,CancelTDNumber:"",PreviousAssessedValue:"",KindofProperty:"",Storeys:"",Description:"",ActualUse:"",Classification:"",AssessmentLevel:"",MarketValue:"",AmountInWords:"",Memoranda:"",...t||{}},validationSchema:oe({T_D_No:re().required("TD No. is required"),PropertyID:re().required("Property ID is required")}),onSubmit:b=>{e({...b,assessmentRows:i})}}),[i,l]=v.useState(()=>{var b;return(b=t==null?void 0:t.AssessmentRows)!=null&&b.length?t.AssessmentRows.map(N=>({...N})):[{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}]}),{values:c,handleChange:u,handleBlur:d,errors:f,touched:m,handleSubmit:h,isSubmitting:g}=s,y=()=>{l([...i,{Kind:"",Classification:"",Area:"",MarketValue:"",ActualUse:"",AssessmentLevel:"",AssessmentValue:""}])},x=b=>{if(i.length===1)return;const N=[...i];N.splice(b,1),l(N)},p=(b,N,C)=>{const j=[...i];j[b][N]=C,l(j)};return o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{required:!0,label:"TD No.",name:"T_D_No",type:"number",value:c.T_D_No,onChange:u,onBlur:d,error:f.T_D_No,touched:m.T_D_No}),o.jsx(A,{required:!0,label:"Property Identification No.",name:"PropertyID",type:"number",value:c.PropertyID,onChange:u,onBlur:d,error:f.PropertyID,touched:m.PropertyID})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(A,{label:"Owner",name:"OwnerID",type:"select",options:a.map(b=>({value:b.ID,label:b.Name})),value:c.OwnerID,onChange:u,onBlur:d,error:f.OwnerID,touched:m.OwnerID}),o.jsx(A,{label:"TIN",name:"OwnerTIN",type:"number",value:c.OwnerTIN,onChange:u,onBlur:d,error:f.OwnerTIN,touched:m.OwnerTIN}),o.jsx(A,{label:"Owner Telephone No.",name:"OwnerTelephoneNumber",type:"number",value:c.OwnerTelephoneNumber,onChange:u,onBlur:d,error:f.OwnerTelephoneNumber,touched:m.OwnerTelephoneNumber}),o.jsx(A,{label:"Address",name:"OwnerAddress",type:"text",value:c.OwnerAddress,onChange:u,onBlur:d,error:f.OwnerAddress,touched:m.OwnerAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsx(A,{label:"Beneficial/Administrator User",options:a.map(b=>({value:b.ID,label:b.Name})),name:"BeneficialorAdminUserID",type:"select",value:c.BeneficialorAdminUserID,onChange:u,onBlur:d,error:f.BeneficialorAdminUserID,touched:m.BeneficialorAdminUserID}),o.jsx(A,{label:"Beneficial/Admin User TIN",name:"BeneficialorAdminTIN",type:"number",value:c.BeneficialorAdminTIN,onChange:u,onBlur:d,error:f.BeneficialorAdminTIN,touched:m.BeneficialorAdminTIN}),o.jsx(A,{label:"Beneficial/Administrator Telephone No.",name:"BeneficialorAdminTelephoneNumber",type:"number",value:c.BeneficialorAdminTelephoneNumber,onChange:u,onBlur:d,error:f.BeneficialorAdminTelephoneNumber,touched:m.BeneficialorAdminTelephoneNumber}),o.jsx(A,{label:"Beneficial/Administrator Address",name:"BeneficialorAdminAddress",type:"text",value:c.BeneficialorAdminAddress,onChange:u,onBlur:d,error:f.BeneficialorAdminAddress,touched:m.BeneficialorAdminAddress})]}),o.jsxs("fieldset",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-300",children:[o.jsx(A,{label:"OCT/TCTCLOA No.",name:"OCT_TCT_CLOA_Number",type:"number",value:c.OCT_TCT_CLOA_Number,onChange:u,onBlur:d,error:f.OCT_TCT_CLOA_Number,touched:m.OCT_TCT_CLOA_Number}),o.jsx(A,{label:"Survey No.",name:"SurveyNumber",type:"number",value:c.SurveyNumber,onChange:u,onBlur:d,error:f.SurveyNumber,touched:m.SurveyNumber}),o.jsx(A,{label:"Lot No.",name:"LotNumber",type:"text",value:c.LotNumber,onChange:u,onBlur:d,error:f.LotNumber,touched:m.LotNumber}),o.jsx(A,{label:"CCT",name:"CCT",type:"text",value:c.CCT,onChange:u,onBlur:d,error:f.CCT,touched:m.CCT}),o.jsx(A,{label:"Block No.",name:"BlockNumber",type:"text",value:c.BlockNumber,onChange:u,onBlur:d,error:f.BlockNumber,touched:m.BlockNumber}),o.jsx(A,{label:"Dated",name:"Dated",type:"date",value:c.Dated,onChange:u,onBlur:d,error:f.Dated,touched:m.Dated})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Boundaries:"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"North",name:"North",type:"text",value:c.North,onChange:u,onBlur:d,error:f.North,touched:m.North}),o.jsx(A,{label:"South",name:"South",type:"text",value:c.South,onChange:u,onBlur:d,error:f.South,touched:m.South}),o.jsx(A,{label:"East",name:"East",type:"text",value:c.East,onChange:u,onBlur:d,error:f.East,touched:m.East}),o.jsx(A,{label:"West",name:"West",type:"text",value:c.West,onChange:u,onBlur:d,error:f.West,touched:m.West})]}),o.jsx("div",{className:"mt-4",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Taxable",checked:c.Taxable,onChange:u,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"ml-2 text-sm",children:"Taxable"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"This Declaration cancels TD No."}),o.jsx("select",{name:"CancelTDNumber",value:c.CancelTDNumber,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:o.jsx("option",{value:"",children:"Select TD No."})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Effectivity of Assessment/Reassessment"}),o.jsx("input",{type:"text",name:"Effectivity",value:c.Effectivity,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Owner:"}),o.jsx("input",{type:"text",name:"ownerPrevious",value:c.ownerPrevious,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Previous Assessed Value:"}),o.jsx("input",{type:"number",name:"PreviousAssessedValue",value:c.PreviousAssessedValue,onChange:u,onBlur:d,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Kind",name:"KindofProperty",type:"text",value:c.KindofProperty,onChange:u,onBlur:d,error:f.KindofProperty,touched:m.KindofProperty}),o.jsx(A,{label:"Number of Storeys",name:"Storeys",type:"number",value:c.Storeys,onChange:u,onBlur:d,error:f.Storeys,touched:m.Storeys})]}),o.jsx(A,{label:"Description",name:"Description",type:"textarea",value:c.Description,onChange:u,onBlur:d,error:f.Description,touched:m.Description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 border border-gray-300",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kind:"}),o.jsxs("select",{name:"kind",value:c.kind,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Kind"}),o.jsx("option",{value:"LAND",children:"LAND"}),o.jsx("option",{value:"BUILDING",children:"BUILDING"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Actual Use:"}),o.jsxs("select",{name:"ActualUse",value:c.ActualUse,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Use"}),o.jsx("option",{value:"RESIDENTIAL",children:"RESIDENTIAL"}),o.jsx("option",{value:"COMMERCIAL",children:"COMMERCIAL"}),o.jsx("option",{value:"INDUSTRIAL",children:"INDUSTRIAL"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Classification:"}),o.jsxs("select",{name:"Classification",value:c.Classification,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"Select Classification"}),o.jsx("option",{value:"A",children:"A"}),o.jsx("option",{value:"B",children:"B"}),o.jsx("option",{value:"C",children:"C"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Area Size:"}),o.jsx("input",{type:"text",name:"AreaSize",value:c.AreaSize,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Assessment Level:"}),o.jsx("input",{type:"number",name:"AssessmentLevel",value:c.AssessmentLevel,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Market Value:"}),o.jsx("input",{type:"number",name:"MarketValue",value:c.MarketValue,onChange:u,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Assessment Details"}),o.jsxs(dt,{type:"button",onClick:y,className:"bg-green-600 hover:bg-green-700 text-white",children:[o.jsx(NO,{className:"w-4 h-4 mr-1"}),"ADD"]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsx("tr",{children:["Kind","Classification","Area","Market Value","Actual Use","Assessment Level","Assessment Value","Actions"].map(b=>o.jsx("th",{className:"border border-gray-300 p-2 text-sm",children:b},b))})}),o.jsx("tbody",{children:i.map((b,N)=>o.jsxs("tr",{children:[["Kind","Classification","Area","MarketValue","ActualUse","AssessmentLevel","AssessmentValue"].map(C=>o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:b[C],onChange:j=>p(N,C,j.target.value),className:"w-full p-1 border-0 focus:ring-1 focus:ring-blue-500"})},C)),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx(dt,{type:"button",onClick:()=>x(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:i.length===1,children:o.jsx(un,{className:"w-4 h-4"})})})]},N))})]})})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amounts in Words:"}),o.jsx("textarea",{name:"AmountInWords",value:c.AmountInWords,onChange:u,onBlur:d,rows:"2",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"p-4 border border-gray-300",children:[o.jsx("label",{className:"block text-sm font-medium mb-1 bg-red-100 p-2",children:"Memoranda:"}),o.jsx("textarea",{name:"Memoranda",value:c.Memoranda,onChange:u,onBlur:d,rows:"4",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":"Save"})]})]})}const fj="https://staging-engine.testthelink.online",$pe=[],Sy=M("taxDeclarations/fetchTaxDeclarations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${fj}/propertyTaxDeclaration`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ay=M("taxDeclarations/addTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${fj}/propertyTaxDeclaration`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),DA=M("taxDeclarations/updateTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${fj}/propertyTaxDeclaration/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ty=M("taxDeclarations/deleteTaxDeclaration",async(t,e)=>{try{const r=await fetch(`${fj}/propertyTaxDeclaration/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Rpe=pe({name:"taxDeclarations",initialState:{taxDeclarations:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Sy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Sy.fulfilled,(e,r)=>{e.isLoading=!1,e.taxDeclarations=Array.isArray(r.payload)?r.payload:[]}).addCase(Sy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch tax declarations",console.warn("Failed to fetch tax declarations, using mock data.",e.error),e.taxDeclarations=$pe}).addCase(Ay.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ay.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations.push(r.payload)}).addCase(Ay.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add tax declaration",console.error("Failed to add tax declaration:",e.error)}).addCase(DA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(DA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.taxDeclarations.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations[n]=r.payload)}).addCase(Ty.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ty.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.taxDeclarations)||(e.taxDeclarations=[]),e.taxDeclarations=e.taxDeclarations.filter(n=>n.ID!==r.payload)}).addCase(Ty.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete tax declaration",console.error("Failed to delete tax declaration:",e.error)})}}),Mpe=Rpe.reducer;function Lpe(){const t=ue(),{taxDeclarations:e,isLoading:r}=V(b=>b.taxDeclarations),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Sy())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Ty(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete tax declaration:",b)}},y=b=>{t(s?DA({...b,ID:s.ID}):Ay(b)),a(!1)},x=[{key:"T_D_No",header:"Tax Declaration No.",sortable:!0},{key:"PropertyID",header:"Property ID",sortable:!0},{key:"OwnerID",header:"Owner ID",sortable:!0},{key:"OwnerTIN",header:"Owner TIN",sortable:!0},{key:"OwnerAddress",header:"Owner Address",sortable:!0},{key:"OwnerTelephoneNumber",header:"Owner Telephone No.",sortable:!0},{key:"BeneficialorAdminUserID",header:"Beneficial/Administrator User",sortable:!0},{key:"BeneficialorAdminTIN",header:"Beneficial/Administrator TIN",sortable:!0},{key:"BeneficialorAdminAddress",header:"Beneficial/Administrator Address",sortable:!0},{key:"BeneficialorAdminTelephoneNumber",header:"Beneficial/Administrator Telephone No.",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Tax Declarations"}),o.jsx("p",{children:"Manage Tax Declarations"})]}),o.jsxs("div",{className:"flex gap-4 items-center",children:[o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Tax Declaration"]}),o.jsx(A,{type:"select",name:"year",label:"Year",placeholder:"Select a year",options:[{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}]})]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No tax declarations found. Click 'Add Tax Declaration' to create one."})}),o.jsx(ae,{size:"xl",isOpen:n,onClose:()=>a(!1),title:s?"Edit Tax Declaration":"Add Tax Declaration",children:o.jsx(_pe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the tax declaration "',u==null?void 0:u.T_D_No,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}const mj="https://staging-engine.testthelink.online",Fpe=[],ky=M("generalRevisions/fetchGeneralRevisions",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${mj}/generalRevision`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Oy=M("generalRevisions/addGeneralRevision",async(t,e)=>{try{const r=await fetch(`${mj}/generalRevision`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),_A=M("generalRevisions/updateGeneralRevision",async(t,e)=>{try{const r=await fetch(`${mj}/generalRevision/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Ey=M("generalRevisions/deleteGeneralRevision",async(t,e)=>{try{const r=await fetch(`${mj}/generalRevision/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Bpe=pe({name:"generalRevisions",initialState:{generalRevisions:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ky.fulfilled,(e,r)=>{e.isLoading=!1,e.generalRevisions=Array.isArray(r.payload)?r.payload:[]}).addCase(ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch general revisions",console.warn("Failed to fetch general revisions, using mock data.",e.error),e.generalRevisions=Fpe}).addCase(Oy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Oy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions.push(r.payload)}).addCase(Oy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add general revision",console.error("Failed to add general revision:",e.error)}).addCase(_A.pending,e=>{e.isLoading=!0,e.error=null}).addCase(_A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.generalRevisions.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions[n]=r.payload)}).addCase(Ey.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ey.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.generalRevisions)||(e.generalRevisions=[]),e.generalRevisions=e.generalRevisions.filter(n=>n.ID!==r.payload)}).addCase(Ey.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete general revision",console.error("Failed to delete general revision:",e.error)})}}),qpe=Bpe.reducer,Vpe=({initialData:t,onSubmit:e,onCancel:r,isEdit:n})=>{const a=ue(),{employees:s}=V(u=>u.employees);v.useEffect(()=>{a(Un())},[a]);const i=oe().shape({General_Revision_Date_Year:O().required("Required"),GeneralRevisionCode:O().required("Required"),TaxDeclarationCode:O().required("Required")}),l=tt({initialValues:t||{General_Revision_Date_Year:"",GeneralRevisionCode:"",TaxDeclarationCode:"",CityorMunicipalityAssessor:"",CityorMunicipalityAssistantAssessor:"",ProvincialAssessor:"",ProvincialAssistantAssessor:""},validationSchema:i,onSubmit:u=>{e(u)}}),c=s.map(u=>({value:u.ID,label:`${u.LastName}, ${u.FirstName}`}));return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"General Revision Date (Year)",name:"General_Revision_Date_Year",type:"number",value:l.values.General_Revision_Date_Year,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.General_Revision_Date_Year,touched:l.touched.General_Revision_Date_Year,required:!0}),o.jsx(A,{label:"General Revision Code",name:"GeneralRevisionCode",type:"text",value:l.values.GeneralRevisionCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.GeneralRevisionCode,touched:l.touched.GeneralRevisionCode,required:!0})]}),o.jsx(A,{label:"General Revision Tax Declaration Code",name:"TaxDeclarationCode",type:"text",value:l.values.TaxDeclarationCode,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.TaxDeclarationCode,touched:l.touched.TaxDeclarationCode,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["// TODO CHANGE THIS",o.jsx(Sa,{label:"City Or Municipality Assessor",options:c,placeholder:"Select Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssessor,error:l.errors.CityorMunicipalityAssessor,touched:l.touched.CityorMunicipalityAssessor}),o.jsx(Sa,{label:"Assistant City Or Municipality Assessor",options:c,placeholder:"Select Assistant Assessor",onSelect:u=>{l.setFieldValue("CityorMunicipalityAssistantAssessor",u||"")},selectedValue:l.values.CityorMunicipalityAssistantAssessor,error:l.errors.CityorMunicipalityAssistantAssessor,touched:l.touched.CityorMunicipalityAssistantAssessor}),o.jsx(Sa,{label:"Provincial Assessor",options:c,placeholder:"Select Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssessor",u||"")},selectedValue:c.find(l.values.ProvincialAssessor),error:l.errors.ProvincialAssessor,touched:l.touched.ProvincialAssessor}),o.jsx(Sa,{label:"Assistant Provincial Assessor",options:c,placeholder:"Select Assistant Provincial Assessor",onSelect:u=>{l.setFieldValue("ProvincialAssistantAssessor",u||"")},selectedValue:l.values.ProvincialAssistantAssessor,error:l.errors.ProvincialAssistantAssessor,touched:l.touched.ProvincialAssistantAssessor})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})},Upe=()=>{const t=ue(),{generalRevisions:e,isLoading:r}=V(b=>b.generalRevisions),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(null);v.useEffect(()=>{t(ky())},[t]);const f=()=>{c(null),a(!0)},m=b=>{c(b),a(!0)},h=b=>{t(l?_A({...b,ID:l.ID}):Oy(b)),a(!1)},g=b=>{d(b),i(!0)},y=()=>{u&&(t(Ey(u.ID)),i(!1))},x=[{key:"General_Revision_Date_Year",header:"General Revision Date (Year)",sortable:!0},{key:"GeneralRevisionCode",header:"General Revision Code",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:g,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Revisions"}),o.jsx("p",{children:"Manage General Revision Records"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Revision"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,actions:p,data:e,loading:r,emptyMessage:"No general revisions found. Click 'Add Revision' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:l?"Edit General Revision":"Add General Revision",size:"lg",children:o.jsx(Vpe,{initialData:l,onClose:()=>a(!1),onSubmit:h})}),o.jsxs(ae,{isOpen:s,onClose:()=>i(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:["Are you sure you want to delete the revision"," ",o.jsx("strong",{children:u==null?void 0:u.revisionYear}),"?"]}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:y,className:"btn btn-danger",children:"Delete"})]})]})]})};function zpe({initialData:t,onSubmit:e,onClose:r}){const n=new Date().getFullYear(),a=oe({GeneralRevisionYear:re().required("General Revision Year is required"),Classification:O().required("Classification is required"),Unit:O().required("Unit is required"),ActualUse:O().required("Actual Use is required"),SubClassification:O().required("Sub Class No is required"),Price:re().required("Unit Value is required"),Location:O().required("Location or Description is required")}),s=tt({initialValues:t||{GeneralRevisionYear:n,Classification:"",Unit:"",ActualUse:"",SubClassification:"",Price:"",Location:""},validationSchema:a,onSubmit:c=>{e(c)}}),i=[{value:"AGRICULTURAL",label:"AGRICULTURAL"},{value:"BUILDING",label:"BUILDING"},{value:"COMMERCIAL",label:"COMMERCIAL"},{value:"INDUSTRIAL",label:"INDUSTRIAL"},{value:"RESIDENTIAL",label:"RESIDENTIAL"}],l=()=>{if(!s.values.Classification)return[];const u={AGRICULTURAL:"A",BUILDING:"B",COMMERCIAL:"C",INDUSTRIAL:"I",RESIDENTIAL:"R"}[s.values.Classification];return u?Array.from({length:6},(d,f)=>({value:`${u}${f+1}`,label:`${u}${f+1}`})):[]};return v.useEffect(()=>{if(s.values.Classification&&s.values.SubClassification){const c=s.values.SubClassification.charAt(0),u=s.values.Classification.charAt(0);c!==u&&s.setFieldValue("SubClassification","")}},[s.values.Classification]),o.jsxs("form",{onSubmit:s.handleSubmit,className:"space-y-4",children:[o.jsx(A,{label:"General Revision Year",name:"GeneralRevisionYear",type:"number",value:s.values.GeneralRevisionYear,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.GeneralRevisionYear,touched:s.touched.GeneralRevisionYear,required:!0}),o.jsx(A,{label:"Classification",name:"Classification",type:"select",options:i,value:s.values.Classification,onChange:c=>{s.handleChange(c),s.setFieldValue("SubClassification","")},onBlur:s.handleBlur,error:s.errors.Classification,touched:s.touched.Classification,required:!0}),o.jsx(A,{label:"Sub Class No.",name:"SubClassification",type:"select",options:l(),value:s.values.SubClassification,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.SubClassification,touched:s.touched.SubClassification,required:!0,disabled:!s.values.Classification}),o.jsx(A,{label:"Unit",name:"Unit",type:"select",options:[{value:"sqm",label:"Square Meter"},{value:"hec",label:"Hectare"}],value:s.values.Unit,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Unit,touched:s.touched.Unit,required:!0}),o.jsx(A,{label:"Actual Use",name:"ActualUse",type:"text",value:s.values.ActualUse,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.ActualUse,touched:s.touched.ActualUse,required:!0}),o.jsx(A,{label:"Unit Value",name:"Price",type:"number",value:s.values.Price,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Price,touched:s.touched.Price,required:!0}),o.jsx(A,{label:"Location or Description",name:"Location",type:"textarea",value:s.values.Location,onChange:s.handleChange,onBlur:s.handleBlur,error:s.errors.Location,touched:s.touched.Location,required:!0}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s.isSubmitting,children:s.isSubmitting?"Saving...":"Save"})]})]})}const hj="https://staging-engine.testthelink.online",Wpe=[],Iy=M("baseUnits/fetchBaseUnits",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${hj}/scheduleofBaseunitMarketValue`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Py=M("baseUnits/addBaseUnit",async(t,e)=>{try{const r=await fetch(`${hj}/scheduleofBaseunitMarketValue`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),$A=M("baseUnits/updateBaseUnit",async(t,e)=>{try{const r=await fetch(`${hj}/scheduleofBaseunitMarketValue/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Dy=M("baseUnits/deleteBaseUnit",async(t,e)=>{try{const r=await fetch(`${hj}/scheduleofBaseunitMarketValue/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Hpe=pe({name:"baseUnits",initialState:{baseUnits:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Iy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Iy.fulfilled,(e,r)=>{e.isLoading=!1,e.baseUnits=Array.isArray(r.payload)?r.payload:[]}).addCase(Iy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch base units",console.warn("Failed to fetch base units, using mock data.",e.error),e.baseUnits=Wpe}).addCase(Py.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Py.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits.push(r.payload)}).addCase(Py.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add base unit",console.error("Failed to add base unit:",e.error)}).addCase($A.pending,e=>{e.isLoading=!0,e.error=null}).addCase($A.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.baseUnits.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits[n]=r.payload)}).addCase(Dy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Dy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.baseUnits)||(e.baseUnits=[]),e.baseUnits=e.baseUnits.filter(n=>n.ID!==r.payload)}).addCase(Dy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete base unit",console.error("Failed to delete base unit:",e.error)})}}),Gpe=Hpe.reducer;function Ype(){const t=ue(),{baseUnits:e,isLoading:r}=V(b=>b.baseUnits),[n,a]=v.useState(!1),[s,i]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Iy())},[t]);const f=()=>{i(null),a(!0)},m=b=>{i(b),a(!0)},h=b=>{d(b),c(!0)},g=async()=>{if(u)try{await t(Dy(u.ID)).unwrap(),c(!1),d(null)}catch(b){console.error("Failed to delete base unit:",b)}},y=b=>{t(s?$A({...b,ID:s.ID}):Py(b)),a(!1)},x=[{key:"GeneralRevisionYear",header:"General Revision Year",sortable:!0},{key:"Classification",header:"Classification",sortable:!0},{key:"Location",header:"Location",sortable:!0},{key:"Unit",header:"Unit",sortable:!0},{key:"ActualUse",header:"Actual Use",sortable:!0},{key:"SubClassification",header:"Sub Classification",sortable:!0},{key:"Price",header:"Sub Classification",sortable:!0}],p=[{icon:Se,title:"Edit",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:h,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Base Units"}),o.jsx("p",{children:"Manage Base Units"})]}),o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Base Unit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p,loading:r,emptyMessage:"No base units found. Click 'Add Base Unit' to create one."})}),o.jsx(ae,{isOpen:n,onClose:()=>a(!1),title:s?"Edit Base Unit":"Add Base Unit",children:o.jsx(zpe,{initialData:s,onClose:()=>a(!1),onSubmit:y})}),o.jsxs(ae,{isOpen:l,onClose:()=>c(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the base unit "',u==null?void 0:u.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:g,className:"btn btn-danger",children:"Delete"})]})]})]})}function Ki(t){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(t)}function Kpe(t,e){if(Ki(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sV(t){var e=Kpe(t,"string");return Ki(e)=="symbol"?e:e+""}function ud(t,e,r){return(e=sV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(r),!0).forEach(function(n){ud(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jpe(t){if(Array.isArray(t))return t}function Xpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function oV(t,e){if(t){if(typeof t=="string")return RA(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RA(t,e):void 0}}function Qpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ps(t,e){return Jpe(t)||Xpe(t,e)||oV(t,e)||Qpe()}function Zpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _s(t,e){if(t==null)return{};var r,n,a=Zpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var ege=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function tge(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,d=t.onInputChange,f=t.onMenuClose,m=t.onMenuOpen,h=t.value,g=_s(t,ege),y=v.useState(l!==void 0?l:r),x=ps(y,2),p=x[0],b=x[1],N=v.useState(c!==void 0?c:a),C=ps(N,2),j=C[0],w=C[1],S=v.useState(h!==void 0?h:i),T=ps(S,2),k=T[0],I=T[1],E=v.useCallback(function(D,R){typeof u=="function"&&u(D,R),I(D)},[u]),P=v.useCallback(function(D,R){var F;typeof d=="function"&&(F=d(D,R)),b(F!==void 0?F:D)},[d]),L=v.useCallback(function(){typeof m=="function"&&m(),w(!0)},[m]),$=v.useCallback(function(){typeof f=="function"&&f(),w(!1)},[f]),_=l!==void 0?l:p,B=c!==void 0?c:j,U=h!==void 0?h:k;return Oe(Oe({},g),{},{inputValue:_,menuIsOpen:B,onChange:E,onInputChange:P,onMenuClose:$,onMenuOpen:L,value:U})}function Ie(){return Ie=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ie.apply(null,arguments)}function rge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sV(n.key),n)}}function nge(t,e,r){return e&&n$(t.prototype,e),r&&n$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},MA(t,e)}function age(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function w0(t){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w0(t)}function iV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iV=function(){return!!t})()}function sge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oge(t,e){if(e&&(Ki(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sge(t)}function ige(t){var e=iV();return function(){var r,n=w0(t);if(e){var a=w0(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return oge(this,r)}}function lge(t){if(Array.isArray(t))return RA(t)}function cge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AO(t){return lge(t)||cge(t)||oV(t)||uge()}function dge(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function fge(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var mge=function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fge(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=dge(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Sr="-ms-",N0="-moz-",Qe="-webkit-",lV="comm",TO="rule",kO="decl",hge="@import",cV="@keyframes",pge="@layer",gge=Math.abs,pj=String.fromCharCode,yge=Object.assign;function bge(t,e){return yr(t,0)^45?(((e<<2^yr(t,0))<<2^yr(t,1))<<2^yr(t,2))<<2^yr(t,3):0}function uV(t){return t.trim()}function xge(t,e){return(t=e.exec(t))?t[0]:t}function Ze(t,e,r){return t.replace(e,r)}function LA(t,e){return t.indexOf(e)}function yr(t,e){return t.charCodeAt(e)|0}function If(t,e,r){return t.slice(e,r)}function ja(t){return t.length}function OO(t){return t.length}function Mh(t,e){return e.push(t),t}function vge(t,e){return t.map(e).join("")}var gj=1,Sc=1,dV=0,en=0,Kt=0,nu="";function yj(t,e,r,n,a,s,i){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:gj,column:Sc,length:i,return:""}}function $u(t,e){return yge(yj("",null,null,"",null,null,0),t,{length:-t.length},e)}function jge(){return Kt}function wge(){return Kt=en>0?yr(nu,--en):0,Sc--,Kt===10&&(Sc=1,gj--),Kt}function gn(){return Kt=en<dV?yr(nu,en++):0,Sc++,Kt===10&&(Sc=1,gj++),Kt}function _a(){return yr(nu,en)}function _y(){return en}function $m(t,e){return If(nu,t,e)}function Pf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fV(t){return gj=Sc=1,dV=ja(nu=t),en=0,[]}function mV(t){return nu="",t}function $y(t){return uV($m(en-1,FA(t===91?t+2:t===40?t+1:t)))}function Nge(t){for(;(Kt=_a())&&Kt<33;)gn();return Pf(t)>2||Pf(Kt)>3?"":" "}function Cge(t,e){for(;--e&&gn()&&!(Kt<48||Kt>102||Kt>57&&Kt<65||Kt>70&&Kt<97););return $m(t,_y()+(e<6&&_a()==32&&gn()==32))}function FA(t){for(;gn();)switch(Kt){case t:return en;case 34:case 39:t!==34&&t!==39&&FA(Kt);break;case 40:t===41&&FA(t);break;case 92:gn();break}return en}function Sge(t,e){for(;gn()&&t+Kt!==57;)if(t+Kt===84&&_a()===47)break;return"/*"+$m(e,en-1)+"*"+pj(t===47?t:gn())}function Age(t){for(;!Pf(_a());)gn();return $m(t,en)}function Tge(t){return mV(Ry("",null,null,null,[""],t=fV(t),0,[0],t))}function Ry(t,e,r,n,a,s,i,l,c){for(var u=0,d=0,f=i,m=0,h=0,g=0,y=1,x=1,p=1,b=0,N="",C=a,j=s,w=n,S=N;x;)switch(g=b,b=gn()){case 40:if(g!=108&&yr(S,f-1)==58){LA(S+=Ze($y(b),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:S+=$y(b);break;case 9:case 10:case 13:case 32:S+=Nge(g);break;case 92:S+=Cge(_y()-1,7);continue;case 47:switch(_a()){case 42:case 47:Mh(kge(Sge(gn(),_y()),e,r),c);break;default:S+="/"}break;case 123*y:l[u++]=ja(S)*p;case 125*y:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+d:p==-1&&(S=Ze(S,/\f/g,"")),h>0&&ja(S)-f&&Mh(h>32?s$(S+";",n,r,f-1):s$(Ze(S," ","")+";",n,r,f-2),c);break;case 59:S+=";";default:if(Mh(w=a$(S,e,r,u,d,a,l,N,C=[],j=[],f),s),b===123)if(d===0)Ry(S,e,w,w,C,s,f,l,j);else switch(m===99&&yr(S,3)===110?100:m){case 100:case 108:case 109:case 115:Ry(t,w,w,n&&Mh(a$(t,w,w,0,0,a,l,N,a,C=[],f),j),a,j,f,l,n?C:j);break;default:Ry(S,w,w,w,[""],j,0,l,j)}}u=d=h=0,y=p=1,N=S="",f=i;break;case 58:f=1+ja(S),h=g;default:if(y<1){if(b==123)--y;else if(b==125&&y++==0&&wge()==125)continue}switch(S+=pj(b),b*y){case 38:p=d>0?1:(S+="\f",-1);break;case 44:l[u++]=(ja(S)-1)*p,p=1;break;case 64:_a()===45&&(S+=$y(gn())),m=_a(),d=f=ja(N=S+=Age(_y())),b++;break;case 45:g===45&&ja(S)==2&&(y=0)}}return s}function a$(t,e,r,n,a,s,i,l,c,u,d){for(var f=a-1,m=a===0?s:[""],h=OO(m),g=0,y=0,x=0;g<n;++g)for(var p=0,b=If(t,f+1,f=gge(y=i[g])),N=t;p<h;++p)(N=uV(y>0?m[p]+" "+b:Ze(b,/&\f/g,m[p])))&&(c[x++]=N);return yj(t,e,r,a===0?TO:l,c,u,d)}function kge(t,e,r){return yj(t,e,r,lV,pj(jge()),If(t,2,-2),0)}function s$(t,e,r,n){return yj(t,e,r,kO,If(t,0,n),If(t,n+1,-1),n)}function ic(t,e){for(var r="",n=OO(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function Oge(t,e,r,n){switch(t.type){case pge:if(t.children.length)break;case hge:case kO:return t.return=t.return||t.value;case lV:return"";case cV:return t.return=t.value+"{"+ic(t.children,n)+"}";case TO:t.value=t.props.join(",")}return ja(r=ic(t.children,n))?t.return=t.value+"{"+r+"}":""}function Ege(t){var e=OO(t);return function(r,n,a,s){for(var i="",l=0;l<e;l++)i+=t[l](r,n,a,s)||"";return i}}function Ige(t){return function(e){e.root||(e=e.return)&&t(e)}}function Pge(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Dge=function(e,r,n){for(var a=0,s=0;a=s,s=_a(),a===38&&s===12&&(r[n]=1),!Pf(s);)gn();return $m(e,en)},_ge=function(e,r){var n=-1,a=44;do switch(Pf(a)){case 0:a===38&&_a()===12&&(r[n]=1),e[n]+=Dge(en-1,r,n);break;case 2:e[n]+=$y(a);break;case 4:if(a===44){e[++n]=_a()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=pj(a)}while(a=gn());return e},$ge=function(e,r){return mV(_ge(fV(e),r))},o$=new WeakMap,Rge=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!o$.get(n))&&!a){o$.set(e,!0);for(var s=[],i=$ge(r,s),l=n.props,c=0,u=0;c<i.length;c++)for(var d=0;d<l.length;d++,u++)e.props[u]=s[c]?i[c].replace(/&\f/g,l[d]):l[d]+" "+i[c]}}},Mge=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function hV(t,e){switch(bge(t,e)){case 5103:return Qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+t+N0+t+Sr+t+t;case 6828:case 4268:return Qe+t+Sr+t+t;case 6165:return Qe+t+Sr+"flex-"+t+t;case 5187:return Qe+t+Ze(t,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+Sr+"flex-$1$2")+t;case 5443:return Qe+t+Sr+"flex-item-"+Ze(t,/flex-|-self/,"")+t;case 4675:return Qe+t+Sr+"flex-line-pack"+Ze(t,/align-content|flex-|-self/,"")+t;case 5548:return Qe+t+Sr+Ze(t,"shrink","negative")+t;case 5292:return Qe+t+Sr+Ze(t,"basis","preferred-size")+t;case 6060:return Qe+"box-"+Ze(t,"-grow","")+Qe+t+Sr+Ze(t,"grow","positive")+t;case 4554:return Qe+Ze(t,/([^-])(transform)/g,"$1"+Qe+"$2")+t;case 6187:return Ze(Ze(Ze(t,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),t,"")+t;case 5495:case 3959:return Ze(t,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Ze(Ze(t,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+Sr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+t+t;case 4095:case 3583:case 4068:case 2532:return Ze(t,/(.+)-inline(.+)/,Qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ja(t)-1-e>6)switch(yr(t,e+1)){case 109:if(yr(t,e+4)!==45)break;case 102:return Ze(t,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+N0+(yr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~LA(t,"stretch")?hV(Ze(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(yr(t,e+1)!==115)break;case 6444:switch(yr(t,ja(t)-3-(~LA(t,"!important")&&10))){case 107:return Ze(t,":",":"+Qe)+t;case 101:return Ze(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(yr(t,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+Sr+"$2box$3")+t}break;case 5936:switch(yr(t,e+11)){case 114:return Qe+t+Sr+Ze(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qe+t+Sr+Ze(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qe+t+Sr+Ze(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Qe+t+Sr+t+t}return t}var Lge=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case kO:e.return=hV(e.value,e.length);break;case cV:return ic([$u(e,{value:Ze(e.value,"@","@"+Qe)})],a);case TO:if(e.length)return vge(e.props,function(s){switch(xge(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ic([$u(e,{props:[Ze(s,/:(read-\w+)/,":"+N0+"$1")]})],a);case"::placeholder":return ic([$u(e,{props:[Ze(s,/:(plac\w+)/,":"+Qe+"input-$1")]}),$u(e,{props:[Ze(s,/:(plac\w+)/,":"+N0+"$1")]}),$u(e,{props:[Ze(s,/:(plac\w+)/,Sr+"input-$1")]})],a)}return""})}},Fge=[Lge],Bge=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var x=y.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var a=e.stylisPlugins||Fge,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(y){for(var x=y.getAttribute("data-emotion").split(" "),p=1;p<x.length;p++)s[x[p]]=!0;l.push(y)});var c,u=[Rge,Mge];{var d,f=[Oge,Ige(function(y){d.insert(y)})],m=Ege(u.concat(a,f)),h=function(x){return ic(Tge(x),m)};c=function(x,p,b,N){d=b,h(x?x+"{"+p.styles+"}":p.styles),N&&(g.inserted[p.name]=!0)}}var g={key:r,sheet:new mge({key:r,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return g.sheet.hydrate(l),g},qge=!0;function Vge(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var pV=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||qge===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},Uge=function(e,r,n){pV(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function zge(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Wge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hge=/[A-Z]|^ms/g,Gge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gV=function(e){return e.charCodeAt(1)===45},i$=function(e){return e!=null&&typeof e!="boolean"},L1=Pge(function(t){return gV(t)?t:t.replace(Hge,"-$&").toLowerCase()}),l$=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Gge,function(n,a,s){return wa={name:a,styles:s,next:wa},a})}return Wge[e]!==1&&!gV(e)&&typeof r=="number"&&r!==0?r+"px":r};function Df(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return wa={name:a.name,styles:a.styles,next:wa},a.name;var s=r;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)wa={name:i.name,styles:i.styles,next:wa},i=i.next;var l=s.styles+";";return l}return Yge(t,e,r)}case"function":{if(t!==void 0){var c=wa,u=r(t);return wa=c,Df(t,e,u)}break}}var d=r;return d}function Yge(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Df(t,e,r[a])+";";else for(var s in r){var i=r[s];if(typeof i!="object"){var l=i;i$(l)&&(n+=L1(s)+":"+l$(s,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&e==null)for(var c=0;c<i.length;c++)i$(i[c])&&(n+=L1(s)+":"+l$(s,i[c])+";");else{var u=Df(t,e,i);switch(s){case"animation":case"animationName":{n+=L1(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var c$=/label:\s*([^\s;{]+)\s*(;|$)/g,wa;function yV(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";wa=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=Df(r,e,s);else{var i=s;a+=i[0]}for(var l=1;l<t.length;l++)if(a+=Df(r,e,t[l]),n){var c=s;a+=c[l]}c$.lastIndex=0;for(var u="",d;(d=c$.exec(a))!==null;)u+="-"+d[1];var f=zge(a)+u;return{name:f,styles:a,next:wa}}var Kge=function(e){return e()},Jge=Co.useInsertionEffect?Co.useInsertionEffect:!1,Xge=Jge||Kge,bV=v.createContext(typeof HTMLElement<"u"?Bge({key:"css"}):null);bV.Provider;var Qge=function(e){return v.forwardRef(function(r,n){var a=v.useContext(bV);return e(r,a,n)})},Zge=v.createContext({}),EO={}.hasOwnProperty,BA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",eye=function(e,r){var n={};for(var a in r)EO.call(r,a)&&(n[a]=r[a]);return n[BA]=e,n},tye=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return pV(r,n,a),Xge(function(){return Uge(r,n,a)}),null},rye=Qge(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[BA],s=[n],i="";typeof t.className=="string"?i=Vge(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=yV(s,void 0,v.useContext(Zge));i+=e.key+"-"+l.name;var c={};for(var u in t)EO.call(t,u)&&u!=="css"&&u!==BA&&(c[u]=t[u]);return c.className=i,r&&(c.ref=r),v.createElement(v.Fragment,null,v.createElement(tye,{cache:e,serialized:l,isStringTag:typeof a=="string"}),v.createElement(a,c))}),nye=rye,Ae=function(e,r){var n=arguments;if(r==null||!EO.call(r,"css"))return v.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=nye,s[1]=eye(e,r);for(var i=2;i<a;i++)s[i]=n[i];return v.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Ae||(Ae={}));function IO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return yV(e)}function aye(){var t=IO.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function sye(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const oye=Math.min,iye=Math.max,C0=Math.round,Lh=Math.floor,S0=t=>({x:t,y:t});function lye(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function bj(){return typeof window<"u"}function xV(t){return jV(t)?(t.nodeName||"").toLowerCase():"#document"}function Ss(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vV(t){var e;return(e=(jV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jV(t){return bj()?t instanceof Node||t instanceof Ss(t).Node:!1}function cye(t){return bj()?t instanceof Element||t instanceof Ss(t).Element:!1}function PO(t){return bj()?t instanceof HTMLElement||t instanceof Ss(t).HTMLElement:!1}function u$(t){return!bj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ss(t).ShadowRoot}function wV(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=DO(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function uye(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dye(t){return["html","body","#document"].includes(xV(t))}function DO(t){return Ss(t).getComputedStyle(t)}function fye(t){if(xV(t)==="html")return t;const e=t.assignedSlot||t.parentNode||u$(t)&&t.host||vV(t);return u$(e)?e.host:e}function NV(t){const e=fye(t);return dye(e)?t.ownerDocument?t.ownerDocument.body:t.body:PO(e)&&wV(e)?e:NV(e)}function A0(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=NV(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),i=Ss(a);if(s){const l=qA(i);return e.concat(i,i.visualViewport||[],wV(a)?a:[],l&&r?A0(l):[])}return e.concat(a,A0(a,[],r))}function qA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mye(t){const e=DO(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=PO(t),s=a?t.offsetWidth:r,i=a?t.offsetHeight:n,l=C0(r)!==s||C0(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function _O(t){return cye(t)?t:t.contextElement}function d$(t){const e=_O(t);if(!PO(e))return S0(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=mye(e);let i=(s?C0(r.width):r.width)/n,l=(s?C0(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const hye=S0(0);function pye(t){const e=Ss(t);return!uye()||!e.visualViewport?hye:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gye(t,e,r){return!1}function f$(t,e,r,n){e===void 0&&(e=!1);const a=t.getBoundingClientRect(),s=_O(t);let i=S0(1);e&&(i=d$(t));const l=gye()?pye(s):S0(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=Ss(s),h=n;let g=m,y=qA(g);for(;y&&n&&h!==g;){const x=d$(y),p=y.getBoundingClientRect(),b=DO(y),N=p.left+(y.clientLeft+parseFloat(b.paddingLeft))*x.x,C=p.top+(y.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=N,u+=C,g=Ss(y),y=qA(g)}}return lye({width:d,height:f,x:c,y:u})}function CV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yye(t,e){let r=null,n;const a=vV(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||e(),!m||!h)return;const g=Lh(f),y=Lh(a.clientWidth-(d+m)),x=Lh(a.clientHeight-(f+h)),p=Lh(d),N={rootMargin:-g+"px "+-y+"px "+-x+"px "+-p+"px",threshold:iye(0,oye(1,c))||1};let C=!0;function j(w){const S=w[0].intersectionRatio;if(S!==c){if(!C)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!CV(u,t.getBoundingClientRect())&&i(),C=!1}try{r=new IntersectionObserver(j,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,N)}r.observe(t)}return i(!0),s}function bye(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=_O(t),d=a||s?[...u?A0(u):[],...A0(e)]:[];d.forEach(p=>{a&&p.addEventListener("scroll",r,{passive:!0}),s&&p.addEventListener("resize",r)});const f=u&&l?yye(u,r):null;let m=-1,h=null;i&&(h=new ResizeObserver(p=>{let[b]=p;b&&b.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var N;(N=h)==null||N.observe(e)})),r()}),u&&!c&&h.observe(u),h.observe(e));let g,y=c?f$(t):null;c&&x();function x(){const p=f$(t);y&&!CV(y,p)&&r(),y=p,g=requestAnimationFrame(x)}return r(),()=>{var p;d.forEach(b=>{a&&b.removeEventListener("scroll",r),s&&b.removeEventListener("resize",r)}),f==null||f(),(p=h)==null||p.disconnect(),h=null,c&&cancelAnimationFrame(g)}}var VA=v.useLayoutEffect,xye=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],T0=function(){};function vye(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function jye(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(vye(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var m$=function(e){return Eye(e)?e.filter(Boolean):Ki(e)==="object"&&e!==null?[e]:[]},SV=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=_s(e,xye);return Oe({},r)},Ut=function(e,r,n){var a=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},i(r,e),l)}};function xj(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function wye(t){return xj(t)?window.innerHeight:t.clientHeight}function AV(t){return xj(t)?window.pageYOffset:t.scrollTop}function k0(t,e){if(xj(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Nye(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function Cye(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Fh(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T0,a=AV(t),s=e-a,i=10,l=0;function c(){l+=i;var u=Cye(l,a,s,r);k0(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function h$(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?k0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&k0(t,Math.max(e.offsetTop-a,0))}function Sye(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function p$(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Aye(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var TV=!1,Tye={get passive(){return TV=!0}},Bh=typeof window<"u"?window:{};Bh.addEventListener&&Bh.removeEventListener&&(Bh.addEventListener("p",T0,Tye),Bh.removeEventListener("p",T0,!1));var kye=TV;function Oye(t){return t!=null}function Eye(t){return Array.isArray(t)}function qh(t,e,r){return t?e:r}var Iye=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(i){var l=ps(i,1),c=l[0];return!n.includes(c)});return s.reduce(function(i,l){var c=ps(l,2),u=c[0],d=c[1];return i[u]=d,i},{})},Pye=["children","innerProps"],Dye=["children","innerProps"];function _ye(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,c=Nye(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,m=r.getBoundingClientRect(),h=m.bottom,g=m.height,y=m.top,x=r.offsetParent.getBoundingClientRect(),p=x.top,b=i?window.innerHeight:wye(c),N=AV(c),C=parseInt(getComputedStyle(r).marginBottom,10),j=parseInt(getComputedStyle(r).marginTop,10),w=p-j,S=b-y,T=w+N,k=f-N-y,I=h-b+N+C,E=N+y-j,P=160;switch(a){case"auto":case"bottom":if(S>=g)return{placement:"bottom",maxHeight:e};if(k>=g&&!i)return s&&Fh(c,I,P),{placement:"bottom",maxHeight:e};if(!i&&k>=n||i&&S>=n){s&&Fh(c,I,P);var L=i?S-C:k-C;return{placement:"bottom",maxHeight:L}}if(a==="auto"||i){var $=e,_=i?w:T;return _>=n&&($=Math.min(_-C-l,e)),{placement:"top",maxHeight:$}}if(a==="bottom")return s&&k0(c,I),{placement:"bottom",maxHeight:e};break;case"top":if(w>=g)return{placement:"top",maxHeight:e};if(T>=g&&!i)return s&&Fh(c,E,P),{placement:"top",maxHeight:e};if(!i&&T>=n||i&&w>=n){var B=e;return(!i&&T>=n||i&&w>=n)&&(B=i?w-j:T-j),s&&Fh(c,E,P),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function $ye(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var kV=function(e){return e==="auto"?"bottom":e},Rye=function(e,r){var n,a=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,c=s.colors;return Oe((n={label:"menu"},ud(n,$ye(a),"100%"),ud(n,"position","absolute"),ud(n,"width","100%"),ud(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},OV=v.createContext(null),Mye=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=v.useContext(OV)||{},d=u.setPortalPlacement,f=v.useRef(null),m=v.useState(a),h=ps(m,2),g=h[0],y=h[1],x=v.useState(null),p=ps(x,2),b=p[0],N=p[1],C=c.spacing.controlHeight;return VA(function(){var j=f.current;if(j){var w=i==="fixed",S=l&&!w,T=_ye({maxHeight:a,menuEl:j,minHeight:n,placement:s,shouldScroll:S,isFixedPosition:w,controlHeight:C});y(T.maxHeight),N(T.placement),d==null||d(T.placement)}},[a,s,i,l,n,d,C]),r({ref:f,placerProps:Oe(Oe({},e),{},{placement:b||kV(s),maxHeight:g})})},Lye=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Ae("div",Ie({},Ut(e,"menu",{menu:!0}),{ref:n},a),r)},Fye=Lye,Bye=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Oe({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},qye=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Ae("div",Ie({},Ut(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},EV=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Oe({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Vye=EV,Uye=EV,zye=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=_s(e,Pye);return Ae("div",Ie({},Ut(Oe(Oe({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Wye=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=_s(e,Dye);return Ae("div",Ie({},Ut(Oe(Oe({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},Hye=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},Gye=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,c=v.useRef(null),u=v.useRef(null),d=v.useState(kV(i)),f=ps(d,2),m=f[0],h=f[1],g=v.useMemo(function(){return{setPortalPlacement:h}},[]),y=v.useState(null),x=ps(y,2),p=x[0],b=x[1],N=v.useCallback(function(){if(a){var S=Sye(a),T=l==="fixed"?0:window.pageYOffset,k=S[m]+T;(k!==(p==null?void 0:p.offset)||S.left!==(p==null?void 0:p.rect.left)||S.width!==(p==null?void 0:p.rect.width))&&b({offset:k,rect:S})}},[a,l,m,p==null?void 0:p.offset,p==null?void 0:p.rect.left,p==null?void 0:p.rect.width]);VA(function(){N()},[N]);var C=v.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=bye(a,c.current,N,{elementResize:"ResizeObserver"in window}))},[a,N]);VA(function(){C()},[C]);var j=v.useCallback(function(S){c.current=S,C()},[C]);if(!r&&l!=="fixed"||!p)return null;var w=Ae("div",Ie({ref:j},Ut(Oe(Oe({},e),{},{offset:p.offset,position:l,rect:p.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Ae(OV.Provider,{value:g},r?Bx.createPortal(w,r):w)},Yye=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Kye=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Ae("div",Ie({},Ut(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},Jye=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Oe({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Xye=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Ae("div",Ie({},Ut(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},Qye=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Zye=function(e){var r=e.children,n=e.innerProps;return Ae("div",Ie({},Ut(e,"indicatorsContainer",{indicators:!0}),n),r)},g$,ebe=["size"],tbe=["innerProps","isRtl","size"],rbe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},IV=function(e){var r=e.size,n=_s(e,ebe);return Ae("svg",Ie({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:rbe},n))},$O=function(e){return Ae(IV,Ie({size:20},e),Ae("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},PV=function(e){return Ae(IV,Ie({size:20},e),Ae("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},DV=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Oe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},nbe=DV,abe=function(e){var r=e.children,n=e.innerProps;return Ae("div",Ie({},Ut(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Ae(PV,null))},sbe=DV,obe=function(e){var r=e.children,n=e.innerProps;return Ae("div",Ie({},Ut(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Ae($O,null))},ibe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,i=a.colors;return Oe({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},lbe=function(e){var r=e.innerProps;return Ae("span",Ie({},r,Ut(e,"indicatorSeparator",{"indicator-separator":!0})))},cbe=aye(g$||(g$=sye([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),ube=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Oe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},F1=function(e){var r=e.delay,n=e.offset;return Ae("span",{css:IO({animation:"".concat(cbe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},dbe=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,i=_s(e,tbe);return Ae("div",Ie({},Ut(Oe(Oe({},i),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Ae(F1,{delay:0,offset:n}),Ae(F1,{delay:160,offset:!0}),Ae(F1,{delay:320,offset:!n}))},fbe=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,c=s.spacing;return Oe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:a?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},mbe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Ae("div",Ie({ref:s},Ut(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),r)},hbe=mbe,pbe=["data"],gbe=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},ybe=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,d=e.theme,f=e.selectProps;return Ae("div",Ie({},Ut(e,"group",{group:!0}),c),Ae(i,Ie({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),Ae("div",null,r))},bbe=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Oe({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},xbe=function(e){var r=SV(e);r.data;var n=_s(r,pbe);return Ae("div",Ie({},Ut(e,"groupHeading",{"group-heading":!0}),n))},vbe=ybe,jbe=["innerRef","isDisabled","isHidden","inputClassName"],wbe=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,i=s.spacing,l=s.colors;return Oe(Oe({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},Nbe),r?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},_V={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Nbe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Oe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},_V)},Cbe=function(e){return Oe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},_V)},Sbe=function(e){var r=e.cx,n=e.value,a=SV(e),s=a.innerRef,i=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=_s(a,jbe);return Ae("div",Ie({},Ut(e,"input",{"input-container":!0}),{"data-value":n||""}),Ae("input",Ie({className:r({input:!0},c),ref:s,style:Cbe(l),disabled:i},u)))},Abe=Sbe,Tbe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors;return Oe({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},kbe=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Oe({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Obe=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Oe({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},$V=function(e){var r=e.children,n=e.innerProps;return Ae("div",n,r)},Ebe=$V,Ibe=$V;function Pbe(t){var e=t.children,r=t.innerProps;return Ae("div",Ie({role:"button"},r),e||Ae($O,{size:14}))}var Dbe=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,d=n.Label,f=n.Remove;return Ae(u,{data:a,innerProps:Oe(Oe({},Ut(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:c},Ae(d,{data:a,innerProps:Oe({},Ut(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Ae(f,{data:a,innerProps:Oe(Oe({},Ut(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},_be=Dbe,$be=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,c=i.colors;return Oe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},Rbe=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Ae("div",Ie({},Ut(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),r)},Mbe=Rbe,Lbe=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Oe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},Fbe=function(e){var r=e.children,n=e.innerProps;return Ae("div",Ie({},Ut(e,"placeholder",{placeholder:!0}),n),r)},Bbe=Fbe,qbe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,i=a.colors;return Oe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Vbe=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Ae("div",Ie({},Ut(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Ube=Vbe,zbe={ClearIndicator:obe,Control:hbe,DropdownIndicator:abe,DownChevron:PV,CrossIcon:$O,Group:vbe,GroupHeading:xbe,IndicatorsContainer:Zye,IndicatorSeparator:lbe,Input:Abe,LoadingIndicator:dbe,Menu:Fye,MenuList:qye,MenuPortal:Gye,LoadingMessage:Wye,NoOptionsMessage:zye,MultiValue:_be,MultiValueContainer:Ebe,MultiValueLabel:Ibe,MultiValueRemove:Pbe,Option:Mbe,Placeholder:Bbe,SelectContainer:Kye,SingleValue:Ube,ValueContainer:Xye},Wbe=function(e){return Oe(Oe({},zbe),e.components)},y$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Hbe(t,e){return!!(t===e||y$(t)&&y$(e))}function Gbe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Hbe(t[r],e[r]))return!1;return!0}function Ybe(t,e){e===void 0&&(e=Gbe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var i=t.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}var Kbe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Jbe=function(e){return Ae("span",Ie({css:Kbe},e))},b$=Jbe,Xbe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,d=e.isAppleDevice,f=function(y,x){return y&&y.length?"".concat(y.indexOf(x)+1," of ").concat(y.length):""};if(r==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var m=c?" disabled":"",h="".concat(u?" selected":"").concat(m);return"".concat(i).concat(h,", ").concat(f(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Qbe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,d=e.isAppleDevice,f=c.ariaLiveMessages,m=c.getOptionLabel,h=c.inputValue,g=c.isMulti,y=c.isOptionDisabled,x=c.isSearchable,p=c.menuIsOpen,b=c.options,N=c.screenReaderStatus,C=c.tabSelectsValue,j=c.isLoading,w=c["aria-label"],S=c["aria-live"],T=v.useMemo(function(){return Oe(Oe({},Xbe),f||{})},[f]),k=v.useMemo(function(){var _="";if(r&&T.onChange){var B=r.option,U=r.options,D=r.removedValue,R=r.removedValues,F=r.value,G=function(ie){return Array.isArray(ie)?null:ie},W=D||B||G(F),Z=W?m(W):"",fe=U||R||void 0,Ce=fe?fe.map(m):[],ne=Oe({isDisabled:W&&y(W,l),label:Z,labels:Ce},r);_=T.onChange(ne)}return _},[r,T,y,l,m]),I=v.useMemo(function(){var _="",B=n||a,U=!!(n&&l&&l.includes(n));if(B&&T.onFocus){var D={focused:B,label:m(B),isDisabled:y(B,l),isSelected:U,options:s,context:B===n?"menu":"value",selectValue:l,isAppleDevice:d};_=T.onFocus(D)}return _},[n,a,m,y,T,s,l,d]),E=v.useMemo(function(){var _="";if(p&&b.length&&!j&&T.onFilter){var B=N({count:s.length});_=T.onFilter({inputValue:h,resultsMessage:B})}return _},[s,h,p,T,b,N,j]),P=(r==null?void 0:r.action)==="initial-input-focus",L=v.useMemo(function(){var _="";if(T.guidance){var B=a?"value":p?"menu":"input";_=T.guidance({"aria-label":w,context:B,isDisabled:n&&y(n,l),isMulti:g,isSearchable:x,tabSelectsValue:C,isInitialFocus:P})}return _},[w,n,a,g,y,x,p,T,l,C,P]),$=Ae(v.Fragment,null,Ae("span",{id:"aria-selection"},k),Ae("span",{id:"aria-focused"},I),Ae("span",{id:"aria-results"},E),Ae("span",{id:"aria-guidance"},L));return Ae(v.Fragment,null,Ae(b$,{id:u},P&&$),Ae(b$,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!P&&$))},Zbe=Qbe,UA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],e0e=new RegExp("["+UA.map(function(t){return t.letters}).join("")+"]","g"),RV={};for(var B1=0;B1<UA.length;B1++)for(var q1=UA[B1],V1=0;V1<q1.letters.length;V1++)RV[q1.letters[V1]]=q1.base;var MV=function(e){return e.replace(e0e,function(r){return RV[r]})},t0e=Ybe(MV),x$=function(e){return e.replace(/^\s+|\s+$/g,"")},r0e=function(e){return"".concat(e.label," ").concat(e.value)},n0e=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Oe({ignoreCase:!0,ignoreAccents:!0,stringify:r0e,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,i=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?x$(n):n,f=c?x$(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=t0e(d),f=MV(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},a0e=["innerRef"];function s0e(t){var e=t.innerRef,r=_s(t,a0e),n=Iye(r,"onExited","in","enter","exit","appear");return Ae("input",Ie({ref:e},n,{css:IO({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var o0e=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function i0e(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,i=v.useRef(!1),l=v.useRef(!1),c=v.useRef(0),u=v.useRef(null),d=v.useCallback(function(x,p){if(u.current!==null){var b=u.current,N=b.scrollTop,C=b.scrollHeight,j=b.clientHeight,w=u.current,S=p>0,T=C-j-N,k=!1;T>p&&i.current&&(n&&n(x),i.current=!1),S&&l.current&&(s&&s(x),l.current=!1),S&&p>T?(r&&!i.current&&r(x),w.scrollTop=C,k=!0,i.current=!0):!S&&-p>N&&(a&&!l.current&&a(x),w.scrollTop=0,k=!0,l.current=!0),k&&o0e(x)}},[r,n,a,s]),f=v.useCallback(function(x){d(x,x.deltaY)},[d]),m=v.useCallback(function(x){c.current=x.changedTouches[0].clientY},[]),h=v.useCallback(function(x){var p=c.current-x.changedTouches[0].clientY;d(x,p)},[d]),g=v.useCallback(function(x){if(x){var p=kye?{passive:!1}:!1;x.addEventListener("wheel",f,p),x.addEventListener("touchstart",m,p),x.addEventListener("touchmove",h,p)}},[h,m,f]),y=v.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",m,!1),x.removeEventListener("touchmove",h,!1))},[h,m,f]);return v.useEffect(function(){if(e){var x=u.current;return g(x),function(){y(x)}}},[e,g,y]),function(x){u.current=x}}var v$=["boxSizing","height","overflow","paddingRight","position"],j$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function w$(t){t.cancelable&&t.preventDefault()}function N$(t){t.stopPropagation()}function C$(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function S$(){return"ontouchstart"in window||navigator.maxTouchPoints}var A$=!!(typeof window<"u"&&window.document&&window.document.createElement),Ru=0,wl={capture:!1,passive:!1};function l0e(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=v.useRef({}),s=v.useRef(null),i=v.useCallback(function(c){if(A$){var u=document.body,d=u&&u.style;if(n&&v$.forEach(function(g){var y=d&&d[g];a.current[g]=y}),n&&Ru<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,h=window.innerWidth-m+f||0;Object.keys(j$).forEach(function(g){var y=j$[g];d&&(d[g]=y)}),d&&(d.paddingRight="".concat(h,"px"))}u&&S$()&&(u.addEventListener("touchmove",w$,wl),c&&(c.addEventListener("touchstart",C$,wl),c.addEventListener("touchmove",N$,wl))),Ru+=1}},[n]),l=v.useCallback(function(c){if(A$){var u=document.body,d=u&&u.style;Ru=Math.max(Ru-1,0),n&&Ru<1&&v$.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&S$()&&(u.removeEventListener("touchmove",w$,wl),c&&(c.removeEventListener("touchstart",C$,wl),c.removeEventListener("touchmove",N$,wl)))}},[n]);return v.useEffect(function(){if(e){var c=s.current;return i(c),function(){l(c)}}},[e,i,l]),function(c){s.current=c}}var c0e=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},u0e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function d0e(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=i0e({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:c}),d=l0e({isEnabled:r}),f=function(h){u(h),d(h)};return Ae(v.Fragment,null,r&&Ae("div",{onClick:c0e,css:u0e}),e(f))}var f0e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},m0e=function(e){var r=e.name,n=e.onFocus;return Ae("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:f0e,value:"",onChange:function(){}})},h0e=m0e;function RO(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function p0e(){return RO(/^iPhone/i)}function LV(){return RO(/^Mac/i)}function g0e(){return RO(/^iPad/i)||LV()&&navigator.maxTouchPoints>1}function y0e(){return p0e()||g0e()}function b0e(){return LV()||y0e()}var x0e=function(e){return e.label},v0e=function(e){return e.label},j0e=function(e){return e.value},w0e=function(e){return!!e.isDisabled},N0e={clearIndicator:sbe,container:Yye,control:fbe,dropdownIndicator:nbe,group:gbe,groupHeading:bbe,indicatorsContainer:Qye,indicatorSeparator:ibe,input:wbe,loadingIndicator:ube,loadingMessage:Uye,menu:Rye,menuList:Bye,menuPortal:Hye,multiValue:Tbe,multiValueLabel:kbe,multiValueRemove:Obe,noOptionsMessage:Vye,option:$be,placeholder:Lbe,singleValue:qbe,valueContainer:Jye},C0e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},S0e=4,FV=4,A0e=38,T0e=FV*2,k0e={baseUnit:FV,controlHeight:A0e,menuGutter:T0e},U1={borderRadius:S0e,colors:C0e,spacing:k0e},O0e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:p$(),captureMenuScroll:!p$(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:n0e(),formatGroupLabel:x0e,getOptionLabel:v0e,getOptionValue:j0e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:w0e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Aye(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function T$(t,e,r,n){var a=VV(t,e,r),s=UV(t,e,r),i=qV(t,e),l=O0(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:i,value:l,index:n}}function My(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(i,l){return T$(t,i,e,l)}).filter(function(i){return O$(t,i)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=T$(t,r,e,n);return O$(t,s)?s:void 0}).filter(Oye)}function BV(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,AO(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function k$(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,AO(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function E0e(t,e){return BV(My(t,e))}function O$(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,i=e.label,l=e.value;return(!WV(t)||!s)&&zV(t,{label:i,value:l,data:a},n)}function I0e(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function P0e(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var z1=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},qV=function(e,r){return e.getOptionLabel(r)},O0=function(e,r){return e.getOptionValue(r)};function VV(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function UV(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=O0(t,e);return r.some(function(a){return O0(t,a)===n})}function zV(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var WV=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},D0e=1,HV=function(t){age(r,t);var e=ige(r);function r(n){var a;if(rge(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=b0e(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,m=f.closeMenuOnSelect,h=f.isMulti,g=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:g}),m&&(a.setState({inputIsHiddenAfterUpdate:!h}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,h=a.state.selectValue,g=f&&a.isOptionSelected(c,h),y=a.isOptionDisabled(c,h);if(g){var x=a.getOptionValue(c);a.setValue(h.filter(function(p){return a.getOptionValue(p)!==x}),"deselect-option",c)}else if(!y)f?a.setValue([].concat(AO(h),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:m});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),m=d.filter(function(g){return a.getOptionValue(g)!==f}),h=qh(u,m,m[0]||null);a.onChange(h,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(qh(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=qh(c,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return z1(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return k$(My(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return jye.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return qV(a.props,c)},a.getOptionValue=function(c){return O0(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=N0e[c](u,d);f.boxSizing="border-box";var m=a.props.styles[c];return m?m(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return Wbe(a.props)},a.buildCategorizedOptions=function(){return My(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return BV(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Oe({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&xj(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),h=5;a.userIsDragging=f>h||m>h}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return WV(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,h=u.inputValue,g=u.isClearable,y=u.isDisabled,x=u.menuIsOpen,p=u.onKeyDown,b=u.tabSelectsValue,N=u.openMenuOnFocus,C=a.state,j=C.focusedOption,w=C.focusedValue,S=C.selectValue;if(!y&&!(typeof p=="function"&&(p(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||h)return;a.focusValue("previous");break;case"ArrowRight":if(!d||h)return;a.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(w)a.removeValue(w);else{if(!f)return;d?a.popValue():g&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!x||!b||!j||N&&a.isOptionSelected(j,S))return;a.selectOption(j);break;case"Enter":if(c.keyCode===229)break;if(x){if(!j||a.isComposing)return;a.selectOption(j);break}return;case"Escape":x?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:h}),a.onMenuClose()):g&&m&&a.clearValue();break;case" ":if(h)return;if(!x){a.openMenu("first");break}if(!j)return;a.selectOption(j);break;case"ArrowUp":x?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":x?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!x)return;a.focusOption("pageup");break;case"PageDown":if(!x)return;a.focusOption("pagedown");break;case"Home":if(!x)return;a.focusOption("first");break;case"End":if(!x)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++D0e),a.state.selectValue=m$(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),l=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[l],a.state.focusedOptionId=z1(s,i[l])}return a}return nge(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&h$(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!i&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(h$(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,l=i.selectValue,c=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=i.indexOf(l);l||(c=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(i);i||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(U1):Oe(Oe({},U1),this.props.theme):U1}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,h=f.isRtl,g=f.options,y=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:l,getValue:c,hasValue:y,isMulti:m,isRtl:h,options:g,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return VV(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return UV(this.props,a,s)}},{key:"filterOption",value:function(a,s){return zV(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,h=this.getComponents(),g=h.Input,y=this.state,x=y.inputIsHidden,p=y.ariaSelection,b=this.commonProps,N=l||this.getElementId("input"),C=Oe(Oe(Oe({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(p==null?void 0:p.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?v.createElement(g,Ie({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:N,innerRef:this.getInputRef,isDisabled:s,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},C)):v.createElement(s0e,Ie({id:N,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:T0,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,h=this.props,g=h.controlShouldRenderValue,y=h.isDisabled,x=h.isMulti,p=h.inputValue,b=h.placeholder,N=this.state,C=N.selectValue,j=N.focusedValue,w=N.isFocused;if(!this.hasValue()||!g)return p?null:v.createElement(f,Ie({},m,{key:"placeholder",isDisabled:y,isFocused:w,innerProps:{id:this.getElementId("placeholder")}}),b);if(x)return C.map(function(T,k){var I=T===j,E="".concat(a.getOptionLabel(T),"-").concat(a.getOptionValue(T));return v.createElement(i,Ie({},m,{components:{Container:l,Label:c,Remove:u},isFocused:I,isDisabled:y,key:E,index:k,removeProps:{onClick:function(){return a.removeValue(T)},onTouchEnd:function(){return a.removeValue(T)},onMouseDown:function(L){L.preventDefault()}},data:T}),a.formatOptionLabel(T,"value"))});if(p)return null;var S=C[0];return v.createElement(d,Ie({},m,{data:S,isDisabled:y}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(s,Ie({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return v.createElement(s,Ie({},i,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return v.createElement(i,Ie({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return v.createElement(s,Ie({},i,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,h=s.Option,g=this.commonProps,y=this.state.focusedOption,x=this.props,p=x.captureMenuScroll,b=x.inputValue,N=x.isLoading,C=x.loadingMessage,j=x.minMenuHeight,w=x.maxMenuHeight,S=x.menuIsOpen,T=x.menuPlacement,k=x.menuPosition,I=x.menuPortalTarget,E=x.menuShouldBlockScroll,P=x.menuShouldScrollIntoView,L=x.noOptionsMessage,$=x.onMenuScrollToTop,_=x.onMenuScrollToBottom;if(!S)return null;var B=function(Z,fe){var Ce=Z.type,ne=Z.data,K=Z.isDisabled,ie=Z.isSelected,X=Z.label,ee=Z.value,H=y===ne,z=K?void 0:function(){return a.onOptionHover(ne)},he=K?void 0:function(){return a.selectOption(ne)},je="".concat(a.getElementId("option"),"-").concat(fe),ke={id:je,onClick:he,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:ie};return v.createElement(h,Ie({},g,{innerProps:ke,data:ne,isDisabled:K,isSelected:ie,key:je,label:X,type:Ce,value:ee,isFocused:H,innerRef:H?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(Z.data,"menu"))},U;if(this.hasOptions())U=this.getCategorizedOptions().map(function(W){if(W.type==="group"){var Z=W.data,fe=W.options,Ce=W.index,ne="".concat(a.getElementId("group"),"-").concat(Ce),K="".concat(ne,"-heading");return v.createElement(i,Ie({},g,{key:ne,data:Z,options:fe,Heading:l,headingProps:{id:K,data:W.data},label:a.formatGroupLabel(W.data)}),W.options.map(function(ie){return B(ie,"".concat(Ce,"-").concat(ie.index))}))}else if(W.type==="option")return B(W,"".concat(W.index))});else if(N){var D=C({inputValue:b});if(D===null)return null;U=v.createElement(f,g,D)}else{var R=L({inputValue:b});if(R===null)return null;U=v.createElement(m,g,R)}var F={minMenuHeight:j,maxMenuHeight:w,menuPlacement:T,menuPosition:k,menuShouldScrollIntoView:P},G=v.createElement(Mye,Ie({},g,F),function(W){var Z=W.ref,fe=W.placerProps,Ce=fe.placement,ne=fe.maxHeight;return v.createElement(c,Ie({},g,F,{innerRef:Z,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:N,placement:Ce}),v.createElement(d0e,{captureEnabled:p,onTopArrive:$,onBottomArrive:_,lockEnabled:E},function(K){return v.createElement(u,Ie({},g,{innerRef:function(X){a.getMenuListRef(X),K(X)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:a.getElementId("listbox")},isLoading:N,maxHeight:ne,focusedOption:y}),U)}))});return I||k==="fixed"?v.createElement(d,Ie({},g,{appendTo:I,controlElement:this.controlRef,menuPlacement:T,menuPosition:k}),G):G}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return v.createElement(h0e,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(i){var m=f.map(function(y){return a.getOptionValue(y)}).join(i);return v.createElement("input",{name:u,type:"hidden",value:m})}else{var h=f.length>0?f.map(function(y,x){return v.createElement("input",{key:"i-".concat(x),name:u,type:"hidden",value:a.getOptionValue(y)})}):v.createElement("input",{name:u,type:"hidden",value:""});return v.createElement("div",null,h)}else{var g=f[0]?this.getOptionValue(f[0]):"";return v.createElement("input",{name:u,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return v.createElement(Zbe,Ie({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,h=u.menuIsOpen,g=this.state.isFocused,y=this.commonProps=this.getCommonProps();return v.createElement(l,Ie({},y,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:g}),this.renderLiveRegion(),v.createElement(s,Ie({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:g,menuIsOpen:h}),v.createElement(c,Ie({},y,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),v.createElement(i,Ie({},y,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,h=a.options,g=a.value,y=a.menuIsOpen,x=a.inputValue,p=a.isMulti,b=m$(g),N={};if(i&&(g!==i.value||h!==i.options||y!==i.menuIsOpen||x!==i.inputValue)){var C=y?E0e(a,b):[],j=y?k$(My(a,b),"".concat(m,"-option")):[],w=l?I0e(s,b):null,S=P0e(s,C),T=z1(j,S);N={selectValue:b,focusedOption:S,focusedOptionId:T,focusableOptionsWithIds:j,focusedValue:w,clearFocusValueOnUpdate:!1}}var k=c!=null&&a!==i?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},I=u,E=d&&f;return d&&!E&&(I={value:qh(p,b,b[0]||null),options:b,action:"initial-input-focus"},E=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(I=null),Oe(Oe(Oe({},N),k),{},{prevProps:a,ariaSelection:I,prevWasFocused:E})}}]),r}(v.Component);HV.defaultProps=O0e;var _0e=v.forwardRef(function(t,e){var r=tge(t);return v.createElement(HV,Ie({ref:e},r))}),xr=_0e;function _f({price:t="",quantity:e="",taxRate:r="",discountPercent:n="",vatable:a=!1,ewtRate:s=0,vatRate:i=12}){const l=parseFloat(t)||0,c=parseFloat(e)||0,u=parseFloat(r)||0,d=(parseFloat(n)||0)/100,f=parseFloat(s)||0;let m=0,h=0,g=0,y=0,x=0,p=0,b=0,N=0,C=0;return a?(m=l*c,h=+(m*d).toFixed(2),y=+(m-h).toFixed(2),g=+(y*i/(100+i)).toFixed(2),x=+(y-g).toFixed(2)):(m=l*c,h=+(m*d).toFixed(2),g=+(m*i/100).toFixed(2),x=+(m-h).toFixed(2),y=+(x+g).toFixed(2)),p=+(x*u/100*-1).toFixed(2),b=+(x*f/100*-1).toFixed(2),N=+(p+b).toFixed(2),C=a?+(y+N).toFixed(2):+(x+N).toFixed(2),{subtotalBeforeDiscount:m,discount:h,vat:g,subtotalTaxIncluded:y,subtotalTaxExcluded:x,withheld:p,ewt:b,ewtrate:f,totalDeduction:N,subtotal:C}}function GV({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=oe({ResponsibilityCenter:O().required("Required"),ChargeAccountID:O().required("Required"),ItemID:O().required("Required"),Remarks:O().required("Required"),FPP:O().required("Required"),Price:re().required("Required"),Quantity:re().required("Required"),ItemUnitID:O().required("Required"),TAXCodeID:O().required("Required"),DiscountRate:re().required("Required")}),d=tt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",FPP:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,DiscountRate:0,subtotal:0},validationSchema:u,onSubmit:g=>{const y=i.find(C=>String(C.ID)===String(g.TAXCodeID)),x=_f({price:g.Price,quantity:g.Quantity,taxRate:(y==null?void 0:y.Rate)||0,discountPercent:g.DiscountRate,vatable:g.Vatable,ewtRate:g.withheldEWT}),p=r.find(C=>String(C.value)===String(g.ResponsibilityCenter)),b=l.find(C=>String(C.value)===String(g.ChargeAccountID)),N=n.find(C=>String(C.value)===String(g.ItemID));t({...g,...x,responsibilityCenterName:p?p.label:"",chargeAccountName:b?b.label:"",itemName:N?N.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","DiscountRate","TAXCodeID","Vatable"].some(p=>d.values[p]!==f.current[p]))return;f.current={...d.values};const y=i.find(p=>String(p.ID)===String(d.values.TAXCodeID)),x=_f({price:d.values.Price,quantity:d.values.Quantity,taxRate:(y==null?void 0:y.Rate)||0,discountPercent:d.values.DiscountRate,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});x.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",x.subtotal,!1),x.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",x.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.DiscountRate,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(g=>String(g.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0}),d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ResponsibilityCenter})]}),o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0}),d.touched.ChargeAccountID&&d.errors.ChargeAccountID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ChargeAccountID})]}),o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0}),d.touched.ItemID&&d.errors.ItemID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(A,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0}),d.touched.Remarks&&d.errors.Remarks&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Remarks})]}),o.jsxs("div",{children:[o.jsx(A,{type:"text",label:"FPP",name:"FPP",...d.getFieldProps("FPP"),required:!0}),d.touched.FPP&&d.errors.FPP&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.FPP})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(A,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0}),d.touched.Price&&d.errors.Price&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Price})]}),o.jsxs("div",{children:[o.jsx(A,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0}),d.touched.Quantity&&d.errors.Quantity&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.Quantity})]}),o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0}),d.touched.ItemUnitID&&d.errors.ItemUnitID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.ItemUnitID})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(A,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0}),d.touched.TAXCodeID&&d.errors.TAXCodeID&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.TAXCodeID})]}),o.jsx("div",{children:o.jsx(A,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsxs("div",{children:[o.jsx(A,{type:"number",label:"Discount %",name:"DiscountRate",...d.getFieldProps("DiscountRate"),required:!0}),d.touched.DiscountRate&&d.errors.DiscountRate&&o.jsx("p",{className:"text-red-500 text-sm",children:d.errors.DiscountRate})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:o.jsx(A,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const YV="https://staging-engine.testthelink.online",$0e={obligationRequests:[],obligationRequest:null,isLoading:!1,error:null},Ly=M("obligationRequests/fetchObligationRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${YV}/obligationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),W1=M("obligationRequests/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Fy=M("obligationRequests/create",async(t,e)=>{try{const r=await fetch(`${YV}/obligationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),By=M("obligationRequests/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),KV=pe({name:"obligationRequests",initialState:$0e,reducers:{resetObligationRequestState:t=>{t.obligationRequest=null,t.error=null}},extraReducers:t=>{t.addCase(Ly.pending,e=>{e.isLoading=!0}).addCase(Ly.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests=r.payload}).addCase(Ly.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(W1.pending,e=>{e.isLoading=!0}).addCase(W1.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequest=r.payload}).addCase(W1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Fy.pending,e=>{e.isLoading=!0}).addCase(Fy.fulfilled,(e,r)=>{e.isLoading=!1,e.obligationRequests.push(r.payload)}).addCase(Fy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(By.pending,e=>{e.isLoading=!0}).addCase(By.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.obligationRequests.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.obligationRequests[n]=r.payload)}).addCase(By.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetObligationRequestState:z7e}=KV.actions,R0e=KV.reducer,E$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],M0e=oe().shape({obrNo:O(),obrDate:Me().required("Date is required"),payeeType:O().required("Payee type is required"),payeeId:O().required("Payee selection is required"),responsibilityCenter:O().required("Responsibility Center is required"),fund:O().required("Fund is required"),fiscalYear:O().required("Fiscal Year is required"),project:O().required("Project is required"),accountingEntries:hn().min(1,"At least one item is required")});function L0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:g=[],budgetOptions:y=[],taxCodeFull:x=[]}){const p=ue(),b=v.useRef(null),[N,C]=v.useState(!1),[j,w]=v.useState(null),[S,T]=v.useState(null),[k,I]=v.useState(!1),[E,P]=v.useState([]),L=(D,R)=>{const F=D.reduce((Z,fe)=>Z+Number(fe.amount||0),0),G=R.reduce((Z,fe)=>Z+Number(fe.amount||0),0),W=F-G;return{grossAmount:F,totalTaxes:G,netAmount:W}},$={description:"",amount:"",accountCode:""},_={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[$],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=D=>{C(!0),L(D.items,D.taxes);const R=new FormData;D.payeeType==="Employee"?(R.append("EmployeeID",D.payeeId),R.append("VendorID",""),R.append("CustomerID","")):D.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",D.payeeId),R.append("CustomerID","")):D.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",D.payeeId)),R.append("PayeeType",D.payeeType),R.append("Payee",(j==null?void 0:j.Name)||(j==null?void 0:j.FirstName)+" "+(j==null?void 0:j.MiddleName)+" "+(j==null?void 0:j.LastName)||""),R.append("Address",(j==null?void 0:j.StreetAddress)||""),R.append("InvoiceNumber",D.obrNo),R.append("InvoiceDate",D.obrDate),R.append("ResponsibilityCenter",D.responsibilityCenter);const F=D.accountingEntries.reduce((ne,K)=>ne+Number(K.subtotal||0),0),G=D.accountingEntries.reduce((ne,K)=>ne+Number(K.ewt||0),0),W=D.accountingEntries.reduce((ne,K)=>ne+Number(K.withheld||0),0),Z=D.accountingEntries.reduce((ne,K)=>ne+Number(K.vat||0),0),fe=D.accountingEntries.reduce((ne,K)=>ne+Number(K.discount||0),0);R.append("Total",F.toFixed(2)),R.append("EWT",G.toFixed(2)),R.append("WithheldAmount",W.toFixed(2)),R.append("Vat_Total",Z.toFixed(2)),R.append("Discounts",fe.toFixed(2)),R.append("FundsID",D.fund),R.append("FiscalYearID",D.fiscalYear),R.append("ProjectID",D.project),R.append("TravelID",""),R.append("Items",JSON.stringify(D.accountingEntries)),D.Attachments.forEach((ne,K)=>{ne.File?R.append(`Attachments[${K}].File`,ne.File):ne.ID&&R.append(`Attachments[${K}].ID`,ne.ID)});const Ce=t?By({formData:R,id:t.ID}):Fy(R);p(Ce).unwrap().then(()=>{De.success("Success"),e()}).catch(ne=>{De.error((ne==null?void 0:ne.message)||"Failed to submit")}).finally(()=>{C(!1)})},U=({type:D})=>{switch(D){case"Employee":return o.jsx(CO,{className:"w-5 h-5"});case"Vendor":return o.jsx(Ck,{className:"w-5 h-5"});case"Individual":return o.jsx(_v,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:b,initialValues:_,validationSchema:M0e,onSubmit:B,enableReinitialize:!0,children:({values:D,errors:R,touched:F,handleChange:G,handleBlur:W,setFieldValue:Z,setFieldTouched:fe,isValid:Ce})=>{L(D.items,D.taxes);const K=E$.map(H=>({value:H.value,label:H.label})).find(H=>H.value===D.payeeType),ie=H=>{w(null),Z("payeeType",H),Z("payeeName",""),Z("payeeId",""),Z("payeeAddress",""),Z("officeUnitProject",""),Z("orsNumber","")},X=H=>{let z=null;switch(D.payeeType){case"Employee":z=s.find(he=>he.ID===H);break;case"Vendor":z=i.find(he=>he.ID===H);break;case"Individual":z=l.find(he=>he.ID===H);break}w(z),Z("payeeName",z==null?void 0:z.Name),Z("payeeId",z==null?void 0:z.ID)},ee=H=>{switch(H){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Be,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:E$.map(H=>o.jsxs("button",{type:"button",onClick:()=>ie(H.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${D.payeeType===H.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(U,{type:H.value}),o.jsx("span",{className:"ml-3 font-medium",children:H.label})]},H.value))}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),D.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",K==null?void 0:K.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:ee(D.payeeType),value:ee(D.payeeType).find(H=>H.value===D.payeeId)||null,onChange:H=>X(H.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),j&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(K==null?void 0:K.label)==="Employee"?`${j.FirstName||""} ${j.MiddleName||""} ${j.LastName||""}`.trim():((K==null?void 0:K.label)==="Vendor"||(K==null?void 0:K.label)==="Individual",j.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((K==null?void 0:K.label)==="Employee"||(K==null?void 0:K.label)==="Vendor"||(K==null?void 0:K.label)==="Individual",j.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(A,{type:"text",label:"OBR No.",name:"obrNo",value:D.obrNo,onChange:G,onBlur:W,error:R.obrNo,touched:F.obrNo,readOnly:!0,disabled:!0,className:"pointer-events-none bg-gray-100"}),o.jsx(A,{type:"date",label:"Date",name:"obrDate",value:D.obrDate,onChange:G,onBlur:W,error:R.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Responsibility Center"," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:c,value:c.find(H=>H.value===D.responsibilityCenter)||null,onChange:H=>Z("responsibilityCenter",H.value),onBlur:()=>fe("responsibilityCenter",!0),className:"react-select-container",classNamePrefix:"react-select"}),R.responsibilityCenter&&F.responsibilityCenter&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.responsibilityCenter})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:u,value:u.find(H=>H.value===D.fund)||null,onChange:H=>Z("fund",H.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:f,value:f.find(H=>H.value===D.fiscalYear)||null,onChange:H=>Z("fiscalYear",H.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:d,value:d.find(H=>H.value===D.project)||null,onChange:H=>Z("project",H.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(Wr,{name:"accountingEntries",children:({push:H,remove:z})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>I(!0),children:"+ Item"})]}),D.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"PARTICULARS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),D.accountingEntries.map((he,je)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:he.responsibilityCenterName}),o.jsx("span",{children:he.Remarks}),o.jsx("span",{children:he.itemName}),o.jsx("span",{children:he.FPP}),o.jsx("span",{children:he.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(he.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>z(je),className:"text-red-600 text-xs",children:""})})]},je)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:D.accountingEntries.reduce((he,je)=>he+Number(je.subtotal),0).toFixed(2)})]})]}),o.jsx(ae,{isOpen:k,onClose:()=>I(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(GV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:g,budgetOptions:y,taxCodeFull:x,onClose:()=>I(!1),onSubmit:he=>{H(he),I(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(Wr,{name:"Attachments",render:({remove:H,push:z})=>{var he;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>z({File:null}),children:"+ Attachment"})]}),(he=D.Attachments)==null?void 0:he.map((je,ke)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[je.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${je.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:je.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${ke}].ID`,value:je.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${ke+1}`}),o.jsx("input",{type:"file",name:`Attachments[${ke}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ne=>Z(`Attachments[${ke}].File`,Ne.currentTarget.files[0]),onBlur:W,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>H(ke),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(un,{className:"w-4 h-4"})})]},ke))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function F0e({dv:t,onClose:e,onEdit:r}){const n=i=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(i),a=i=>new Date(i).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=i=>{let l="bg-neutral-100 text-neutral-800";switch(i){case"Pending Certification":l="bg-warning-100 text-warning-800";break;case"Pending Approval":l="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":l="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":l="bg-error-100 text-error-800";break}return l};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${s(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Se,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(tl,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"DV Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"DV Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.dvNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dvDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"ORS Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.orsNumber||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.modeOfPayment})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Payee Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.payeeAddress||"N/A"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Particulars"}),o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsx("p",{className:"text-sm text-neutral-700 whitespace-pre-line",children:t.particulars})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Gross Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-neutral-900",children:n(t.grossAmount)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Total Deductions"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-error-600",children:n(t.totalDeductions)})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Net Amount"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.netAmount)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(sB,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(aB,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Certification"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(cB,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for certification"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const MO="https://staging-engine.testthelink.online",JV=[{ID:1,Name:"Fund A",Code:101},{ID:2,Name:"Fund B",Code:102},{ID:3,Name:"Fund C",Code:103}],Xr=M("funds/fetchFunds",async(t,e)=>{try{const r=localStorage.getItem("token");return JV}catch(r){return e.rejectWithValue(r.message)}}),H1=M("funds/addFund",async(t,e)=>{try{const r=await fetch(`${MO}/funds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),I$=M("funds/updateFund",async(t,e)=>{try{const r=await fetch(`${MO}/funds/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(subFund)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),G1=M("funds/deleteFund",async(t,e)=>{try{const r=await fetch(`${MO}/funds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),B0e=pe({name:"funds",initialState:{funds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Xr.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xr.fulfilled,(e,r)=>{e.isLoading=!1,e.funds=Array.isArray(r.payload)?r.payload:[]}).addCase(Xr.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch funds",console.warn("Failed to fetch funds, using mock data.",e.error),e.funds=JV}).addCase(H1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(H1.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.funds)||(e.funds=[]),e.funds.push(r.payload)}).addCase(H1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add fund",console.error("Failed to add fund:",e.error)}).addCase(I$.pending,e=>{e.isLoading=!0,e.error=null}).addCase(I$.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.funds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.funds)||(e.funds=[]),e.funds[n]=r.payload)}).addCase(G1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(G1.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.funds)||(e.funds=[]),e.funds=e.funds.filter(n=>n.ID!==r.payload)}).addCase(G1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete fund",console.error("Failed to delete fund:",e.error)})}}),q0e=B0e.reducer,V0e=[{ID:"1",Name:"Budget 1"}],wo=M("budget/fetchBudgets",async(t,e)=>{try{return V0e}catch(r){return e.rejectWithValue(r.message)}}),Y1=M("budget/createBudget",async t=>(await new Promise(r=>{setTimeout(()=>{r({data:{id:Date.now(),...t,status:"active"}})},1e3)})).data),K1=M("budget/updateBudget",async({id:t,budgetData:e})=>(await new Promise(n=>{setTimeout(()=>{n({data:{id:t,...e}})},1e3)})).data),J1=M("budget/deleteBudget",async t=>(await new Promise(e=>{setTimeout(()=>{e()},1e3)}),t)),U0e={budgets:[],isLoading:!1,error:null},z0e=pe({name:"budget",initialState:U0e,reducers:{},extraReducers:t=>{t.addCase(wo.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wo.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=r.payload}).addCase(wo.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(Y1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Y1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets.push(r.payload)}).addCase(Y1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(K1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(K1.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.budgets.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.budgets[n]=r.payload)}).addCase(K1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(J1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(J1.fulfilled,(e,r)=>{e.isLoading=!1,e.budgets=e.budgets.filter(n=>n.id!==r.payload)}).addCase(J1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),W0e=z0e.reducer;function H0e(){const t=ue(),{obligationRequests:e,isLoading:r}=V(w=>w.obligationRequests),{employees:n}=V(w=>w.employees),{customers:a}=V(w=>w.customers),{vendorDetails:s}=V(w=>w.vendorDetails),{departments:i}=V(w=>w.departments),{projectDetails:l}=V(w=>w.projectDetails),{funds:c}=V(w=>w.funds),{fiscalYears:u}=V(w=>w.fiscalYears),{items:d}=V(w=>w.items),{taxCodes:f}=V(w=>w.taxCodes),{itemUnits:m}=V(w=>w.itemUnits),{budgets:h}=V(w=>w.budget),[g,y]=v.useState("list"),[x,p]=v.useState(null);v.useEffect(()=>{t(Ly()),t(Un()),t(Da()),t(ms()),t(Vn()),t(Pi()),t(Xr()),t(jo()),t(hs()),t(ca()),t(Pa()),t(wo())},[t]);const b=()=>{p(null),y("form")},N=w=>{p(w),y("form")},C=()=>{y("list"),p(null)},j=[{key:"Status",header:"Status",sortable:!0,render:w=>{let S="bg-neutral-100 text-neutral-800";switch(w){case"Requested":S="bg-warning-100 text-warning-800";break;case"Pending Approval":S="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":S="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":S="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:w})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:w=>new Date(w).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[g==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Requests"}),o.jsx("p",{children:"Manage obligation requests"})]}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:w=>{var T;const S=[];return((T=w.Transaction)==null?void 0:T.Status)==="Rejected"&&S.push({icon:Se,title:"Edit",onClick:()=>N(w),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S},loading:r})})]}),g==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:x?"Edit Obligation Request":"Create Obligation Request"}),o.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," an obligation request"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(L0e,{initialData:x,employeeOptions:n.map(w=>({value:w.ID,label:w.FirstName+" "+w.MiddleName+" "+w.LastName})),vendorOptions:s.map(w=>({value:w.ID,label:w.Name})),individualOptions:a.map(w=>({value:w.ID,label:w.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(w=>({value:w.ID,label:w.Name})),fundOptions:c.map(w=>({value:w.ID,label:w.Name})),projectOptions:l.map(w=>({value:w.ID,label:w.Title})),fiscalYearOptions:u.map(w=>({value:w.ID,label:w.Name})),particularsOptions:d.map(w=>({value:w.ID,label:w.Name})),unitOptions:m.map(w=>({value:w.ID,label:w.Name})),taxCodeOptions:f.map(w=>({value:w.ID,label:w.Name})),budgetOptions:h.map(w=>({value:w.ID,label:w.Name})),taxCodeFull:f,onCancel:C,onSubmitSuccess:C,onClose:C})})]}),g==="details"&&x&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Obligation Request Details"}),o.jsx("p",{children:"View and manage obligation request details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>N(x),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(F0e,{or:x,onBack:C})})]})]})}function XV(t){const e=Number(t);if(Number.isNaN(e))return"";const r=Math.floor(e),n=Math.round((e-r)*100);let a=`${zA(r)} PESOS`;return n>0&&(a+=` AND ${n.toString().padStart(2,"0")}/100`),a.trim()}function zA(t){if(t===0)return"ZERO";if(t<0)return`MINUS ${zA(Math.abs(t))}`;const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],r=["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];let n="";const a=(s,i)=>{s>0&&(n+=`${zA(s)} ${i} `)};return a(Math.floor(t/1e12),"TRILLION"),t%=1e12,a(Math.floor(t/1e9),"BILLION"),t%=1e9,a(Math.floor(t/1e6),"MILLION"),t%=1e6,a(Math.floor(t/1e3),"THOUSAND"),t%=1e3,a(Math.floor(t/100),"HUNDRED"),t%=100,t>0&&(n&&(n+="AND "),t<20?n+=e[t]:(n+=r[Math.floor(t/10)],t%10&&(n+=`-${e[t%10]}`))),n.trim()}const LO="https://staging-engine.testthelink.online",G0e={disbursementVouchers:[],disbursementVoucher:null,isLoading:!1,error:null,requestOptions:[],requestOptionsLoading:!1,requestOptionsError:null},qy=M("disbursementVouchers/fetchRequestOptions",async({requestType:t,payeeType:e,payeeId:r},n)=>{try{const a=localStorage.getItem("token"),s=`${LO}/disbursementVoucher/selectListForDV?type=${encodeURIComponent(e)}&requestType=${encodeURIComponent(t)}&id=${r}`,i=await fetch(s,{headers:{Authorization:`Bearer ${a}`}}),l=await i.json();if(!i.ok)throw new Error(l.error||l.message||"Failed to fetch request options");return l}catch(a){return n.rejectWithValue(a.message)}}),Vy=M("disbursementVouchers/fetchDisbursementVouchers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${LO}/disbursementVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),X1=M("disbursementVouchers/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().disbursementVouchers.disbursementVouchers.find(i=>i.id===t);s?r(s):n(new Error("Disbursement voucher not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),Uy=M("disbursementVouchers/create",async(t,e)=>{try{const r=await fetch(`${LO}/disbursementVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),zy=M("disbursementVouchers/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),QV=pe({name:"disbursementVouchers",initialState:G0e,reducers:{resetDisbursementVoucherState:t=>{t.disbursementVoucher=null,t.error=null}},extraReducers:t=>{t.addCase(Vy.pending,e=>{e.isLoading=!0}).addCase(Vy.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers=r.payload}).addCase(Vy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(X1.pending,e=>{e.isLoading=!0}).addCase(X1.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVoucher=r.payload}).addCase(X1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(Uy.pending,e=>{e.isLoading=!0}).addCase(Uy.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementVouchers.push(r.payload)}).addCase(Uy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(zy.pending,e=>{e.isLoading=!0}).addCase(zy.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.disbursementVouchers.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.disbursementVouchers[n]=r.payload)}).addCase(zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(qy.pending,e=>{e.requestOptionsLoading=!0,e.requestOptionsError=null}).addCase(qy.fulfilled,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptions=r.payload}).addCase(qy.rejected,(e,r)=>{e.requestOptionsLoading=!1,e.requestOptionsError=r.payload})}}),{resetDisbursementVoucherState:W7e}=QV.actions,Y0e=QV.reducer,P$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],K0e=[{value:"Obligation Request",label:"Obligation Request"},{value:"FURS",label:"FURS"},{value:"Standalone Request",label:"Standalone Request"}];function J0e({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:g=[],budgetOptions:y=[],taxCodeFull:x=[],chartOfAccountsOptions:p=[]}){const b=ue(),N=v.useRef(null),[C,j]=v.useState(!1),[w,S]=v.useState(null),[T,k]=v.useState(null),[I,E]=v.useState(null),[P,L]=v.useState(!1),[$,_]=v.useState([]),[B,U]=v.useState((t==null?void 0:t.modeOfPayment)||""),D=()=>oe().shape({payeeType:O().required("Payee type is required"),payeeId:O().required("Payee selection is required"),accountingEntries:I==="Standalone Request"?hn():hn().min(1,"At least one item is required"),contraAccount:O().required("Contra Account is required"),modeOfPayment:O().required("Mode of Payment is required"),bank:B==="Check"?O().required("Bank is required"):O(),checkNumber:B==="Check"?O().required("Check Number is required"):O(),receivedPaymentBy:O().required("Received Payment By is required")}),{requestOptions:R,requestOptionsLoading:F,requestOptionsError:G}=V(K=>K.disbursementVouchers),W=(K,ie)=>{const X=K.reduce((z,he)=>z+Number(he.amount||0),0),ee=ie.reduce((z,he)=>z+Number(he.amount||0),0),H=X-ee;return{grossAmount:X,totalTaxes:ee,netAmount:H}},Z={description:"",amount:"",accountCode:""},fe={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",responsibilityCenter:(t==null?void 0:t.responsibilityCenter)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[Z],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[],OBR_LinkID:(t==null?void 0:t.OBR_LinkID)||"",contraAccount:(t==null?void 0:t.contraAccount)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",bank:(t==null?void 0:t.bank)||"",checkNumber:(t==null?void 0:t.checkNumber)||"",receivedPaymentBy:(t==null?void 0:t.receivedPaymentBy)||""},Ce=K=>{j(!0),W(K.items,K.taxes);const ie=new FormData;K.payeeType==="Employee"?(ie.append("EmployeeID",K.payeeId),ie.append("VendorID",""),ie.append("CustomerID","")):K.payeeType==="Vendor"?(ie.append("EmployeeID",""),ie.append("VendorID",K.payeeId),ie.append("CustomerID","")):K.payeeType==="Individual"&&(ie.append("EmployeeID",""),ie.append("VendorID",""),ie.append("CustomerID",K.payeeId)),ie.append("PayeeType",K.payeeType),ie.append("Payee",(w==null?void 0:w.Name)||(w==null?void 0:w.FirstName)+" "+(w==null?void 0:w.MiddleName)+" "+(w==null?void 0:w.LastName)||""),ie.append("Address",(w==null?void 0:w.StreetAddress)||""),ie.append("InvoiceNumber",K.obrNo),ie.append("InvoiceDate",K.obrDate),ie.append("ResponsibilityCenter",K.responsibilityCenter);const X=K.accountingEntries.reduce((ke,Ne)=>ke+Number(Ne.subtotal||0),0),ee=K.accountingEntries.reduce((ke,Ne)=>ke+Number(Ne.ewt||0),0),H=K.accountingEntries.reduce((ke,Ne)=>ke+Number(Ne.withheld||0),0),z=K.accountingEntries.reduce((ke,Ne)=>ke+Number(Ne.vat||0),0),he=K.accountingEntries.reduce((ke,Ne)=>ke+Number(Ne.discount||0),0);ie.append("Total",X.toFixed(2)),ie.append("EWT",ee.toFixed(2)),ie.append("WithheldAmount",H.toFixed(2)),ie.append("Vat_Total",z.toFixed(2)),ie.append("Discounts",he.toFixed(2)),ie.append("FundsID",K.fund),ie.append("FiscalYearID",K.fiscalYear),ie.append("ProjectID",K.project),ie.append("TravelID",""),ie.append("Items",JSON.stringify(K.accountingEntries)),K.Attachments.forEach((ke,Ne)=>{ke.File?ie.append(`Attachments[${Ne}].File`,ke.File):ke.ID&&ie.append(`Attachments[${Ne}].ID`,ke.ID)}),ie.append("OBR_LinkID",K.OBR_LinkID||""),ie.append("ContraAccountID",K.contraAccount),ie.append("ModeOfPayment",K.modeOfPayment),ie.append("BankID",K.bank),ie.append("CheckNumber",K.checkNumber),ie.append("ReceivedPaymentBy",K.receivedPaymentBy);const je=t?zy({formData:ie,id:t.ID}):Uy(ie);b(je).unwrap().then(()=>{De.success("Success"),e()}).catch(ke=>{De.error((ke==null?void 0:ke.message)||"Failed to submit")}).finally(()=>{j(!1)})},ne=({type:K})=>{switch(K){case"Employee":return o.jsx(CO,{className:"w-5 h-5"});case"Vendor":return o.jsx(Ck,{className:"w-5 h-5"});case"Individual":return o.jsx(_v,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:N,initialValues:fe,validationSchema:D(),onSubmit:Ce,enableReinitialize:!0,children:({values:K,errors:ie,touched:X,handleChange:ee,handleBlur:H,setFieldValue:z,setFieldTouched:he,isValid:je})=>{W(K.items,K.taxes);const Ne=P$.map(Y=>({value:Y.value,label:Y.label})).find(Y=>Y.value===K.payeeType),sr=Y=>{S(null),z("payeeType",Y),z("payeeName",""),z("payeeId",""),z("payeeAddress",""),z("officeUnitProject",""),z("orsNumber","")},An=Y=>{k(null),z("requestType",Y),E(Y),Y==="Standalone Request"&&z("accountingEntries",[]),K.payeeType&&K.payeeId&&Y&&b(qy({requestType:Y,payeeType:K.payeeType,payeeId:K.payeeId}))},Tn=Y=>{var we,Pe;k(Y);const ce=(((we=Y==null?void 0:Y.raw)==null?void 0:we.TransactionItemsAll)||[]).map(Ue=>{var Va,Yo,Bs,Ko,GE,YE,KE;const Mt={Price:Ue.Price??0,Quantity:Ue.Quantity??1,DiscountRate:Ue.DiscountRate??0,Vatable:Ue.Vatable,withheldEWT:Ue.EWTRate??0},Fs=_f({price:Mt.Price,quantity:Mt.Quantity,taxRate:Ue.TaxRate||0,discountPercent:Mt.DiscountRate,vatable:Mt.Vatable,ewtRate:Mt.withheldEWT});return{...Ue,...Fs,itemName:((Va=Ue.Item)==null?void 0:Va.Name)||"",subtotal:Ue.AmountDue||0,Remarks:Ue.Remarks||"",FPP:Ue.FPP||"",accountCode:((Bs=(Yo=Ue.ChargeAccount)==null?void 0:Yo.ChartofAccounts)==null?void 0:Bs.AccountCode)||"",accountName:((GE=(Ko=Ue.ChargeAccount)==null?void 0:Ko.ChartofAccounts)==null?void 0:GE.Name)||"",fundCode:((KE=(YE=Y==null?void 0:Y.raw)==null?void 0:YE.sourceFunds)==null?void 0:KE.Code)||""}});N.current&&(N.current.setFieldValue("accountingEntries",ce),N.current.setFieldValue("OBR_LinkID",((Pe=Y==null?void 0:Y.raw)==null?void 0:Pe.LinkID)||""))},Ls=Y=>{let de=null;switch(K.payeeType){case"Employee":de=s.find(ce=>ce.ID===Y);break;case"Vendor":de=i.find(ce=>ce.ID===Y);break;case"Individual":de=l.find(ce=>ce.ID===Y);break}S(de),z("payeeName",de==null?void 0:de.Name),z("payeeId",de==null?void 0:de.ID)},kn=Y=>{switch(Y){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}},J=Y=>{U(Y.target.value),ee(Y),Y.target.value==="Cash"&&(z("bank",""),z("checkNumber",""))};return o.jsxs(Be,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:P$.map(Y=>o.jsxs("button",{type:"button",onClick:()=>sr(Y.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${K.payeeType===Y.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(ne,{type:Y.value}),o.jsx("span",{className:"ml-3 font-medium",children:Y.label})]},Y.value))}),ie.payeeType&&X.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ie.payeeType})]}),K.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",Ne==null?void 0:Ne.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:kn(K.payeeType),onChange:Y=>Ls(Y.value),value:kn(K.payeeType).find(Y=>Y.value===K.payeeId)||null,className:"react-select-container",classNamePrefix:"react-select"}),ie.payeeType&&X.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ie.payeeType})]}),w&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(Ne==null?void 0:Ne.label)==="Employee"?`${w.FirstName||""} ${w.MiddleName||""} ${w.LastName||""}`.trim():((Ne==null?void 0:Ne.label)==="Vendor"||(Ne==null?void 0:Ne.label)==="Individual",w.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((Ne==null?void 0:Ne.label)==="Employee"||(Ne==null?void 0:Ne.label)==="Vendor"||(Ne==null?void 0:Ne.label)==="Individual",w.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Request for Payment"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Request Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:K0e.map(Y=>o.jsx("button",{type:"button",onClick:()=>An(Y.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${K.requestType===Y.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:o.jsx("span",{className:"ml-3 font-medium",children:Y.label})},Y.value))}),ie.requestType&&X.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ie.requestType})]}),K.requestType!=="Standalone Request"&&o.jsxs("div",{className:"lg:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Request ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:R.map(Y=>{var ce,we,Pe,Ue,Mt,Fs,Va,Yo,Bs,Ko;let de="";return K.payeeType==="Employee"?de=`${((ce=Y.Employee)==null?void 0:ce.FirstName)||""} ${((we=Y.Employee)==null?void 0:we.MiddleName)||""} ${((Pe=Y.Employee)==null?void 0:Pe.LastName)||""}`.trim():K.payeeType==="Individual"?!((Ue=Y.Employee)!=null&&Ue.FirstName)&&!((Mt=Y.Employee)!=null&&Mt.MiddleName)&&!((Fs=Y.Employee)!=null&&Fs.LastName)?de=Y.Name||"N/A":de=`${((Va=Y.Employee)==null?void 0:Va.FirstName)||""} ${((Yo=Y.Employee)==null?void 0:Yo.MiddleName)||""} ${((Bs=Y.Employee)==null?void 0:Bs.LastName)||""}`.trim():K.payeeType==="Vendor"&&(de=Y.Name||"N/A"),{value:Y.ID,label:`${Y.InvoiceNumber||""}  ${de}  ${Y.TIN||""}  ${Y.InvoiceDate}  ${((Ko=Y.sourceFunds)==null?void 0:Ko.Code)||""}`,raw:Y}}),isLoading:F,value:T,onChange:Tn,placeholder:F?"Loading":G?`Error: ${G}`:"Select request",className:"react-select-container",classNamePrefix:"react-select"}),ie.requestType&&X.requestType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ie.requestType})]})]})]}),o.jsx("hr",{}),o.jsx(Wr,{name:"accountingEntries",children:({push:Y,remove:de})=>o.jsxs(o.Fragment,{children:[K.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"AMOUNT"}),o.jsx("span",{children:"AMOUNT DUE"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{children:"FUND CODE"})]}),K.accountingEntries.map((ce,we)=>o.jsxs("div",{className:"grid grid-cols-8 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:ce.itemName}),o.jsx("span",{children:parseFloat(ce.subtotal).toFixed(2)}),o.jsx("span",{children:parseFloat(ce.subtotal).toFixed(2)}),o.jsx("span",{children:ce.Remarks}),o.jsx("span",{children:ce.FPP}),o.jsx("span",{children:ce.accountCode}),o.jsx("span",{children:ce.accountName}),o.jsx("span",{children:ce.fundCode}),o.jsx("div",{className:"col-span-8 text-right",children:o.jsx("button",{type:"button",onClick:()=>de(we),className:"text-red-600 text-xs",children:""})})]},we)),o.jsxs("div",{className:"grid grid-cols-8 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-7 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:K.accountingEntries.reduce((ce,we)=>ce+Number(we.subtotal||0),0).toFixed(2)})]}),o.jsx("div",{className:"grid grid-cols-1 gap-2 font-semibold pt-2 border-t",children:o.jsx("div",{className:"text-right",children:XV(K.accountingEntries.reduce((ce,we)=>ce+Number(we.subtotal||0),0).toFixed(2))})})]}),o.jsx(ae,{isOpen:P,onClose:()=>L(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(GV,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:g,budgetOptions:y,taxCodeFull:x,onClose:()=>L(!1),onSubmit:ce=>{Y(ce),L(!1)}})})]})}),ie.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ie.accountingEntries}),o.jsx("hr",{}),(()=>{const Y={};K.accountingEntries.forEach(ce=>{console.log("entry",ce);const we=ce.TaxName||"N/A",Pe=ce.TaxRate||0,Ue=Number(ce.WithheldAmount||0),Mt=`${we}-${Pe}`;Y[Mt]||(Y[Mt]={taxName:we,taxRate:Pe,withheld:0}),Y[Mt].withheld+=Ue});const de=Object.values(Y);return de.length?o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Taxes"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm font-semibold",children:[o.jsx("span",{children:"Tax Name"}),o.jsx("span",{className:"text-right",children:"TaxRate%"}),o.jsx("span",{className:"text-right",children:"TotalWithheld"})]}),de.map(({taxName:ce,taxRate:we,withheld:Pe},Ue)=>o.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm border p-2 rounded",children:[o.jsx("span",{children:ce}),o.jsx("span",{className:"text-right",children:parseFloat(we).toFixed(2)}),o.jsx("span",{className:"text-right",children:Pe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})})]},Ue))]}):null})(),o.jsx("hr",{}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Payment Details"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contra Account"}),o.jsx(xr,{name:"contraAccount",options:p,onChange:Y=>z("contraAccount",Y==null?void 0:Y.value),value:p.find(Y=>Y.value===K.contraAccount)||null,classNamePrefix:"react-select"}),ie.contraAccount&&X.contraAccount&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:ie.contraAccount})]}),o.jsx("div",{children:o.jsx(A,{type:"select",label:"Mode of Payment",name:"modeOfPayment",options:[{value:"Cash",label:"Cash"},{value:"Check",label:"Check"},{value:"Others",label:"Others"}],value:K.modeOfPayment,onChange:J,onBlur:H,error:ie.modeOfPayment,touched:X.modeOfPayment,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[B==="Check"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsx(A,{type:"text",label:"Bank",name:"bank",value:K.bank,onChange:ee,onBlur:H,error:ie.bank,touched:X.bank,required:B==="Check"})}),o.jsx("div",{children:o.jsx(A,{type:"text",label:"Check No.",name:"checkNumber",value:K.checkNumber,onChange:ee,onBlur:H,error:ie.checkNumber,touched:X.checkNumber,required:B==="Check"})})]}),o.jsx("div",{children:o.jsx(A,{type:"text",label:"Received Payment By",name:"receivedPaymentBy",value:K.receivedPaymentBy,onChange:ee,onBlur:H,error:ie.receivedPaymentBy,touched:X.receivedPaymentBy,required:!0})})]})]}),o.jsx("hr",{}),o.jsx(Wr,{name:"Attachments",render:({remove:Y,push:de})=>{var ce;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>de({File:null}),children:"+ Attachment"})]}),(ce=K.Attachments)==null?void 0:ce.map((we,Pe)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[we.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${we.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:we.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${Pe}].ID`,value:we.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${Pe+1}`}),o.jsx("input",{type:"file",name:`Attachments[${Pe}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:Ue=>z(`Attachments[${Pe}].File`,Ue.currentTarget.files[0]),onBlur:H,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>Y(Pe),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(un,{className:"w-4 h-4"})})]},Pe))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function X0e(){const t=ue(),{disbursementVouchers:e,isLoading:r}=V(S=>S.disbursementVouchers),{employees:n}=V(S=>S.employees),{customers:a}=V(S=>S.customers),{vendorDetails:s}=V(S=>S.vendorDetails),{departments:i}=V(S=>S.departments),{projectDetails:l}=V(S=>S.projectDetails),{funds:c}=V(S=>S.funds),{fiscalYears:u}=V(S=>S.fiscalYears),{items:d}=V(S=>S.items),{taxCodes:f}=V(S=>S.taxCodes),{itemUnits:m}=V(S=>S.itemUnits),{budgets:h}=V(S=>S.budget),g=V(S=>{var T;return((T=S.chartOfAccounts)==null?void 0:T.accounts)||[]}),[y,x]=v.useState("list"),[p,b]=v.useState(null);v.useEffect(()=>{t(Vy()),t(Un()),t(Da()),t(ms()),t(Vn()),t(Pi()),t(Xr()),t(jo()),t(hs()),t(ca()),t(Pa()),t(wo()),t(pn())},[t]);const N=()=>{b(null),x("form")},C=S=>{b(S),x("form")},j=()=>{x("list"),b(null)},w=[{key:"Status",header:"Status",sortable:!0,render:S=>{let T="bg-neutral-100 text-neutral-800";switch(S){case"Requested":T="bg-warning-100 text-warning-800";break;case"Pending Approval":T="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":T="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":T="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T}`,children:S})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:S=>new Date(S).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"ResponsibilityCenterName",header:"Responsibility Center",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[y==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Vouchers"}),o.jsx("p",{children:"Manage disbursement vouchers"})]}),o.jsxs("button",{type:"button",onClick:N,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create DV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:w,data:e,actions:S=>{var k;const T=[];return((k=S.Transaction)==null?void 0:k.Status)==="Rejected"&&T.push({icon:Se,title:"Edit",onClick:()=>handleEditOR(S),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),T},loading:r})})]}),y==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:j,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:p?"Edit Disbursement Voucher":"Create Disbursement Voucher"}),o.jsxs("p",{children:["Fill out the form to"," ",p?"update":"create"," a disbursement voucher"]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(J0e,{initialData:p,employeeOptions:n.map(S=>({value:S.ID,label:S.FirstName+" "+S.MiddleName+" "+S.LastName})),vendorOptions:s.map(S=>({value:S.ID,label:S.Name})),individualOptions:a.map(S=>({value:S.ID,label:S.Name})),chartOfAccountsOptions:(g||[]).map(S=>({value:S.ID,label:S.AccountCode+" - "+S.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(S=>({value:S.ID,label:S.Name})),fundOptions:c.map(S=>({value:S.ID,label:S.Name})),projectOptions:l.map(S=>({value:S.ID,label:S.Title})),fiscalYearOptions:u.map(S=>({value:S.ID,label:S.Name})),particularsOptions:d.map(S=>({value:S.ID,label:S.Name})),unitOptions:m.map(S=>({value:S.ID,label:S.Name})),taxCodeOptions:f.map(S=>({value:S.ID,label:S.Name})),budgetOptions:h.map(S=>({value:S.ID,label:S.Name})),taxCodeFull:f,onCancel:j,onSubmitSuccess:j,onClose:j})})]}),y==="details"&&p&&o.jsx("div",{children:o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:j,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Disbursement Voucher Details"}),o.jsx("p",{children:"View and manage disbursement voucher details"})]})]}),o.jsxs("button",{type:"button",onClick:()=>C(p),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit DV"]})]})})})]})}function Q0e({initialData:t,onSubmit:e,onClose:r,officeOptions:n,employeeOptions:a}){const s="https://staging-engine.testthelink.online",{departments:i}=V(b=>b.departments),{employees:l}=V(b=>b.employees),{budgets:c}=V(b=>b.budget);console.log("Budgets:",c);const u=ue();v.useEffect(()=>{u(Vn()),u(Un()),u(wo())},[u]);const d=oe({BudgetID:O().required("Office is required"),DateStart:Me().required("Start Date is required"),DateEnd:Me().required("End Date is required"),Place:O().required("Place/Office to be visited is required"),Venue:O().required("Venue/Destination is required"),Remarks:O(),Purpose:O().required("Purpose of Travel is required"),Travelers:hn().of(oe({TravelerID:O().required("Employee is required")})).min(1,"At least one traveler is required"),TravelPayments:hn().of(oe({Amount:re().required("Amount is required"),BudgetID:O().required("Budget of Fund is required"),Type:O().required("Type is required")})).min(1,"At least one expense is required"),TravelDocuments:hn().of(oe({Name:O().required("Document name is required")})).min(1,"At least one document is required")}),f=tt({initialValues:t||{BudgetID:"",DateStart:"",DateEnd:"",Place:"",Venue:"",Remarks:"",Purpose:"",Plane:!1,Vessels:!1,PUV:!1,ServiceVehicle:!1,RentedVehicle:!1,Travelers:[{TravelerID:""}],TravelPayments:[{Amount:"",BudgetID:"",Type:""}],TravelDocuments:[{Name:""}],Attachments:[]},validationSchema:d,onSubmit:async(b,N)=>{const C=new FormData;for(const j in b)j==="Attachments"?b.Attachments.forEach((w,S)=>{w.File?C.append(`Attachments[${S}].File`,w.File):w.ID&&C.append(`Attachments[${S}].ID`,w.ID)}):C.append(j,JSON.stringify(b[j]));try{await e(C)}catch(j){console.error(j)}finally{N(!1)}}}),{values:m,handleChange:h,handleBlur:g,errors:y,touched:x,isSubmitting:p}=f;return o.jsx(pO,{value:f,children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"space-y-4",children:[o.jsx(A,{type:"select",label:"Office",name:"BudgetID",options:i.map(b=>({value:b.ID,label:b.Name})),value:m.BudgetID,onChange:h,onBlur:g,error:y.BudgetID,touched:x.BudgetID,required:!0}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Start Date",name:"DateStart",type:"date",value:m.DateStart,onChange:h,onBlur:g,error:y.DateStart,touched:x.DateStart,required:!0}),o.jsx(A,{label:"End Date",name:"DateEnd",type:"date",value:m.DateEnd,onChange:h,onBlur:g,error:y.DateEnd,touched:x.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{label:"Place/Office to be visited",name:"Place",type:"text",value:m.Place,onChange:h,onBlur:g,error:y.Place,touched:x.Place,required:!0}),o.jsx(A,{label:"Venue/Destination",name:"Venue",type:"text",value:m.Venue,onChange:h,onBlur:g,error:y.Venue,touched:x.Venue,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(A,{type:"textarea",label:"Remarks",name:"Remarks",value:m.Remarks,onChange:h,onBlur:g,error:y.Remarks,touched:x.Remarks}),o.jsx(A,{type:"textarea",label:"Purpose of Travel",name:"Purpose",value:m.Purpose,onChange:h,onBlur:g,error:y.Purpose,touched:x.Purpose,required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"font-medium block mb-2",children:"Means of Transportation"}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Plane",checked:m.Plane,onChange:h,onBlur:g}),o.jsx("span",{children:"Plane"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"Vessels",checked:m.Vessels,onChange:h,onBlur:g}),o.jsx("span",{children:"Ship/Boat"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"PUV",checked:m.PUV,onChange:h,onBlur:g}),o.jsx("span",{children:"PUV"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"ServiceVehicle",checked:m.ServiceVehicle,onChange:h,onBlur:g}),o.jsx("span",{children:"LGU Service Vehicle"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",name:"RentedVehicle",checked:m.RentedVehicle,onChange:h,onBlur:g}),o.jsx("span",{children:"Vehicle for Rent"})]})]})]}),o.jsx("hr",{}),o.jsx(Wr,{name:"Travelers",render:({remove:b,push:N})=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Travelers"}),o.jsx(dt,{type:"button",onClick:()=>N({TravelerID:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),m.Travelers.map((C,j)=>{var w,S,T,k;return o.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[o.jsx(A,{type:"select",label:`Employee ${j+1}`,name:`Travelers[${j}].TravelerID`,options:l.map(I=>({value:I.ID,label:I.FirstName+" "+I.MiddleName+" "+I.LastName})),value:C.TravelerID,onChange:h,onBlur:g,error:(S=(w=y.Travelers)==null?void 0:w[j])==null?void 0:S.TravelerID,touched:(k=(T=x.Travelers)==null?void 0:T[j])==null?void 0:k.TravelerID,className:"min-w-[300px]",required:!0}),o.jsx(dt,{type:"button",onClick:()=>b(j),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.Travelers.length===1,children:o.jsx(un,{className:"w-4 h-4"})})]},j)})]})}),o.jsx("hr",{}),o.jsx(Wr,{name:"TravelPayments",render:({remove:b,push:N})=>{var C,j;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Expenses"}),o.jsx(dt,{type:"button",onClick:()=>N({Amount:"",BudgetID:"",Type:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.TravelPayments)==null?void 0:C.map((w,S)=>{var T,k,I,E,P,L,$,_,B,U,D,R;return o.jsxs("div",{className:"flex flex-wrap items-center items-end gap-4 mb-2",children:[o.jsx(A,{type:"number",label:"Amount",name:`TravelPayments[${S}].Amount`,value:w.Amount,onChange:h,onBlur:g,error:(k=(T=y.TravelPayments)==null?void 0:T[S])==null?void 0:k.Amount,touched:(E=(I=x.TravelPayments)==null?void 0:I[S])==null?void 0:E.Amount,className:"max-w-[180px] flex-1",required:!0}),o.jsx(A,{type:"select",label:"Source of Fund",name:`TravelPayments[${S}].BudgetID`,options:c.map(F=>({value:F.ID,label:F.Name})),value:w.BudgetID,onChange:h,onBlur:g,error:(L=(P=y.TravelPayments)==null?void 0:P[S])==null?void 0:L.BudgetID,touched:(_=($=x.TravelPayments)==null?void 0:$[S])==null?void 0:_.BudgetID,className:"min-w-[200px] flex-1",required:!0}),o.jsx(A,{type:"select",label:"Type",name:`TravelPayments[${S}].Type`,options:[{label:"One Time Payment",value:"1"},{label:"Per Day",value:"2"}],value:w.Type,onChange:h,onBlur:g,error:(U=(B=y.TravelPayments)==null?void 0:B[S])==null?void 0:U.Type,touched:(R=(D=x.TravelPayments)==null?void 0:D[S])==null?void 0:R.Type,className:"min-w-[100px] flex-1",required:!0}),o.jsx(dt,{type:"button",onClick:()=>b(S),className:"bg-red-600 hover:bg-red-700 text-white p-1 mt-2",disabled:m.TravelPayments.length===1,children:o.jsx(un,{className:"w-4 h-4"})})]},S)}),o.jsxs("div",{className:"flex justify-end text-right mt-4",children:[o.jsx("label",{className:"font-semibold mr-2",children:"Total:"}),o.jsx("span",{className:"",children:(j=m.TravelPayments)==null?void 0:j.reduce((w,S)=>{const T=parseFloat(S.Amount);return w+(isNaN(T)?0:T)},0).toFixed(2)})]})]})}}),o.jsx("hr",{}),o.jsx(Wr,{name:"TravelDocuments",render:({remove:b,push:N})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Documents Required"}),o.jsx(dt,{type:"button",onClick:()=>N({Name:""}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.TravelDocuments)==null?void 0:C.map((j,w)=>{var S,T,k,I;return o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[o.jsx(A,{type:"text",label:`Document ${w+1}`,name:`TravelDocuments[${w}].Name`,value:j.Name,onChange:h,onBlur:g,error:(T=(S=y.TravelDocuments)==null?void 0:S[w])==null?void 0:T.Name,touched:(I=(k=x.TravelDocuments)==null?void 0:k[w])==null?void 0:I.Name,className:"flex-1 min-w-[300px]",required:!0}),o.jsx(dt,{type:"button",onClick:()=>b(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:m.TravelDocuments.length===1,children:o.jsx(un,{className:"w-4 h-4"})})]},w)})]})}}),o.jsx("hr",{}),o.jsx(Wr,{name:"Attachments",render:({remove:b,push:N})=>{var C;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(dt,{type:"button",onClick:()=>N({File:null}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),(C=m.Attachments)==null?void 0:C.map((j,w)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[j.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${s}/uploads/${j.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:j.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${w}].ID`,value:j.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${w+1}`}),o.jsx("input",{type:"file",name:`Attachments[${w}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:S=>f.setFieldValue(`Attachments[${w}].File`,S.currentTarget.files[0]),onBlur:g,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>b(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(un,{className:"w-4 h-4"})})]},w))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(dt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Saving...":"Save"})]})]})})}function Z0e({to:t,onClose:e,onEdit:r}){const n=l=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(l),a=l=>new Date(l).toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric"}),s=l=>new Date(l).toLocaleString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),i=l=>{let c="bg-neutral-100 text-neutral-800";switch(l){case"Pending Recommendation":c="bg-warning-100 text-warning-800";break;case"Pending Approval":c="bg-primary-100 text-primary-800";break;case"Approved":case"Liquidated":c="bg-success-100 text-success-800";break;case"Cancelled":c="bg-error-100 text-error-800";break}return c};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${i(t.status)}`,children:t.status}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",onClick:r,children:[o.jsx(Se,{className:"h-4 w-4 mr-2"}),"Edit"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(tl,{className:"h-4 w-4 mr-2"}),"Print"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Travel Order Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"TO Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.toNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.toDate)})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Created By"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.preparedBy})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date Created"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:a(t.dateCreated)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Employee Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Employee Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.employeeName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Position"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.position})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Department"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:t.department})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Travel Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:o.jsxs("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Destination"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.destination})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Means of Travel"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:t.meansOfTravel||"Not specified"})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Departure"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.departureDate)})]}),o.jsxs("div",{children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Return"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900",children:s(t.returnDate)})]})]})}),o.jsxs("div",{className:"p-4 rounded-lg bg-white border border-neutral-200",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Purpose"}),o.jsx("dd",{className:"mt-1 text-sm text-neutral-900 whitespace-pre-line",children:t.purpose})]}),o.jsxs("div",{className:"p-4 rounded-lg bg-success-50 border border-success-200",children:[o.jsx("dt",{className:"text-sm font-medium text-success-700",children:"Estimated Expenses"}),o.jsx("dd",{className:"mt-1 text-2xl font-semibold text-success-700",children:n(t.estimatedExpenses)})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"Approval Workflow"}),o.jsx("div",{className:"overflow-hidden bg-white border border-neutral-200 rounded-lg",children:o.jsx("div",{className:"px-4 py-5 sm:p-6",children:o.jsxs("ol",{className:"relative border-l border-neutral-200 ml-3",children:[o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-success-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(sB,{className:"w-5 h-5 text-success-600"})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Prepared"}),o.jsx("p",{className:"text-sm text-neutral-500",children:t.preparedBy})]}),o.jsx("time",{className:"text-sm text-neutral-500",children:a(t.dateCreated)})]})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-warning-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(aB,{className:"w-5 h-5 text-warning-600"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Recommendation"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Pending..."})]})})]}),o.jsxs("li",{className:"mb-6 ml-6",children:[o.jsx("span",{className:"absolute flex items-center justify-center w-8 h-8 bg-neutral-100 rounded-full -left-4 ring-4 ring-white",children:o.jsx(cB,{className:"w-5 h-5 text-neutral-400"})}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Approval"}),o.jsx("p",{className:"text-sm text-neutral-500",children:"Waiting for recommendation"})]})})]})]})})})]}),o.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Close"})})]})}const vj="https://staging-engine.testthelink.online",exe=[],Wy=M("travelOrders/fetchTravelOrders",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${vj}/travelOrder`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Hy=M("travelOrders/addTravelOrder",async(t,e)=>{try{const r=await fetch(`${vj}/travelOrder`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),WA=M("travelOrders/updateTravelOrder",async(t,e)=>{try{let r,n={method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:null};t instanceof FormData?(r=t.get("ID"),t.delete("ID"),n.body=t):(r=t.ID,n.headers["Content-Type"]="application/json",n.body=JSON.stringify(t));const a=await fetch(`${vj}/travelOrder/${r}`,n),s=await a.json();if(!a.ok)throw new Error(s.error||s.message||"Failed to update");return s}catch(r){return e.rejectWithValue(r.message)}}),Gy=M("travelOrders/deleteTravelOrder",async(t,e)=>{try{const r=await fetch(`${vj}/travelOrder/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),txe=pe({name:"travelOrders",initialState:{travelOrders:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Wy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Wy.fulfilled,(e,r)=>{e.isLoading=!1,e.travelOrders=Array.isArray(r.payload)?r.payload:[]}).addCase(Wy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch travel orders",console.warn("Failed to fetch travel orders, using mock data.",e.error),e.travelOrders=exe}).addCase(Hy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders.push(r.payload)}).addCase(Hy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add travel order",console.error("Failed to add travel order:",e.error)}).addCase(WA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(WA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.travelOrders.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders[n]=r.payload)}).addCase(Gy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Gy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.travelOrders)||(e.travelOrders=[]),e.travelOrders=e.travelOrders.filter(n=>n.ID!==r.payload)}).addCase(Gy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete travel order",console.error("Failed to delete travel order:",e.error)})}}),rxe=txe.reducer;function nxe(){const t=ue(),{travelOrders:e,isLoading:r}=V(p=>p.travelOrders),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(Wy())},[t]);const f=async p=>{try{u?await t(WA({...p,ID:u.ID})).unwrap():await t(Hy(p)).unwrap(),i(!1),d(null),De.success("Success")}catch(b){throw De.error(b||"Failed"),b}},m=()=>{d(null),i(!0)},h=async()=>{if(u)try{await t(Gy(u.ID)).unwrap(),a(!1),d(null)}catch(p){console.error("Failed to delete travel order:",p)}},g=()=>{i(!1),d(null)},y=()=>{c(!1),d(null)},x=[{key:"TransactionStatus",header:"Status",sortable:!0,render:p=>{let b="bg-neutral-100 text-neutral-800";switch(p){case"Requested":b="bg-warning-100 text-warning-800";break;case"Approval Progress":b="bg-primary-100 text-primary-800";break;case"Rejected":b="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b}`,children:p})}},{key:"BudgetDepartmentName",header:"Office",sortable:!0},{key:"DateCreated",header:"Date of Filing",sortable:!0},{key:"InvoiceNumber",header:"Travel Order No.",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position/Designation",header:"Position/Designation",sortable:!0},{key:"No_of_Days",header:"No. of Days",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Travel Orders"}),o.jsx("p",{children:"Manage travel orders and authorizations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create Travel Order"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:x,data:e,actions:p=>[],loading:r})}),o.jsx(ae,{isOpen:s,onClose:g,title:u?"Edit Travel Order":"Create Travel Order",size:"xl",children:o.jsx(Q0e,{initialData:u,onSubmit:f,onClose:g})}),o.jsx(ae,{isOpen:l,onClose:y,title:"Travel Order Details",size:"lg",children:u&&o.jsx(Z0e,{to:u,onClose:y,onEdit:()=>{c(!1),i(!0)},officeOptions:[],employeeOptions:[]})}),o.jsxs(ae,{isOpen:n,onClose:()=>a(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the travel order "',u==null?void 0:u.TravelOrderNumber,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>a(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",children:"Delete"})]})]})]})}const axe="https://staging-engine.testthelink.online";function sxe({initialData:t,onSubmit:e,onClose:r,typeOptions:n,fundOptions:a,centerOptions:s,accountOptions:i}){const[l,c]=v.useState(""),[u,d]=v.useState((t==null?void 0:t.JEVType)||""),f=oe({JEVType:O().required("Type is required"),FundsID:O().required("Fund is required"),InvoiceDate:Me().required("Date is required"),SAI_No:O(),Remarks:O().required("Particulars are required"),ObligationRequestNumber:O(),CheckNumber:O(),CheckDate:Me(),AccountingEntries:hn().of(oe({ResponsibilityCenter:O().required("Required"),AccountExplanation:O().required("Required"),Debit:re().nullable().typeError("Must be a number").required("Debit is required"),Credit:re().nullable().typeError("Must be a number").required("Credit is required")})).min(1,"At least one entry is required")}),m=tt({initialValues:t||{JEVType:"",FundsID:"",InvoiceDate:"",SAI_No:"",Remarks:"",Payee:"",ObligationRequestNumber:"",CheckNumber:"",CheckDate:"",AccountingEntries:[{ResponsibilityCenter:"",AccountExplanation:"",Debit:0,Credit:0}],Attachments:[]},validationSchema:f,onSubmit:async(N,C)=>{const j=N.AccountingEntries.reduce((T,k)=>T+(parseFloat(k.Debit)||0),0),w=N.AccountingEntries.reduce((T,k)=>T+(parseFloat(k.Credit)||0),0);if(j!==w){c("Total Debit must be equal to Total Credit.");return}else c("");const S=new FormData;for(const T in N)T==="Attachments"?N.Attachments.forEach((k,I)=>{k.File?S.append(`Attachments[${I}].File`,k.File):k.ID&&S.append(`Attachments[${I}].ID`,k.ID)}):S.append(T,JSON.stringify(N[T]));try{await e(S)}catch(T){console.error(T)}finally{C(!1)}}}),h=N=>{d(N.target.value),m.handleChange(N)},{values:g,handleChange:y,handleBlur:x,errors:p,touched:b}=m;return o.jsx(pO,{value:m,children:o.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(A,{type:"select",label:"Type",name:"JEVType",options:n,value:g.JEVType,onChange:h,onBlur:x,error:p.JEVType,touched:b.JEVType,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundsID",options:a,value:g.FundsID,onChange:y,onBlur:x,error:p.FundsID,touched:b.FundsID,required:!0}),o.jsx(A,{type:"date",label:"Invoice Date",name:"InvoiceDate",value:g.InvoiceDate,onChange:y,onBlur:x,error:p.InvoiceDate,touched:b.InvoiceDate,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(A,{type:"text",label:"DV No",name:"SAI_No",value:g.SAI_No,onChange:y,onBlur:x,error:p.SAI_No,touched:b.SAI_No}),o.jsx(A,{type:"text",label:"Remarks",name:"Remarks",value:g.Remarks,onChange:y,onBlur:x,error:p.Remarks,touched:b.Remarks,required:!0}),o.jsx(A,{type:"text",label:"Payee",name:"Payee",value:g.Payee,onChange:y,onBlur:x,error:p.Payee,touched:b.Payee})]}),u==="Check Disbursement"&&o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(A,{type:"text",label:"OBR No",name:"ObligationRequestNumber",value:g.ObligationRequestNumber,onChange:y,onBlur:x,error:p.ObligationRequestNumber,touched:b.ObligationRequestNumber}),o.jsx(A,{type:"text",label:"Check No",name:"CheckNumber",value:g.CheckNumber,onChange:y,onBlur:x,error:p.CheckNumber,touched:b.CheckNumber}),o.jsx(A,{type:"date",label:"Check Date",name:"CheckDate",value:g.CheckDate,onChange:y,onBlur:x,error:p.CheckDate,touched:b.CheckDate})]}),o.jsx("hr",{}),o.jsx(Wr,{name:"AccountingEntries",render:({remove:N,push:C})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Accounting Entries"}),o.jsx(dt,{type:"button",onClick:()=>C({ResponsibilityCenter:"",AccountExplanation:"",PR:"",Debit:0,Credit:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),g.AccountingEntries.map((j,w)=>{var k,I,E,P,L,$,_,B,U,D,R,F,G,W;const S=parseFloat(j.Debit)>0,T=parseFloat(j.Credit)>0;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[o.jsx(A,{className:"flex-1 min-w-[200px]",type:"select",label:"Responsibility Center",name:`AccountingEntries[${w}].ResponsibilityCenter`,options:s,value:j.ResponsibilityCenter,onChange:y,onBlur:x,error:(I=(k=p.AccountingEntries)==null?void 0:k[w])==null?void 0:I.ResponsibilityCenter,touched:(P=(E=b.AccountingEntries)==null?void 0:E[w])==null?void 0:P.ResponsibilityCenter,required:!0}),o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Accounts and Explanation"," ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(xr,{label:"Accounts and Explanation",options:i,placeholder:"Select an account...",isSearchable:!0,onChange:Z=>m.setFieldValue(`AccountingEntries[${w}].AccountExplanation`,(Z==null?void 0:Z.value)||""),name:`AccountingEntries[${w}].AccountExplanation`,value:i.find(Z=>Z.value===j.AccountExplanation)||null,onBlur:x,required:!0}),(($=(L=p.AccountingEntries)==null?void 0:L[w])==null?void 0:$.AccountExplanation)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:p.AccountingEntries[w].AccountExplanation})]}),o.jsx(A,{className:"flex-1 max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Debit",name:`AccountingEntries[${w}].Debit`,value:j.Debit,onChange:Z=>{Z.target.value&&parseFloat(Z.target.value)>0&&m.setFieldValue(`AccountingEntries[${w}].Credit`,0),y(Z)},onBlur:x,error:(B=(_=p.AccountingEntries)==null?void 0:_[w])==null?void 0:B.Debit,touched:(D=(U=b.AccountingEntries)==null?void 0:U[w])==null?void 0:D.Debit,disabled:T,required:!T}),o.jsx(A,{className:"flex-1 max-w-[150px] disabled:bg-gray-200 disabled:cursor-not-allowed",type:"number",label:"Credit",name:`AccountingEntries[${w}].Credit`,value:j.Credit,onChange:Z=>{Z.target.value&&parseFloat(Z.target.value)>0&&m.setFieldValue(`AccountingEntries[${w}].Debit`,0),y(Z)},onBlur:x,error:(F=(R=p.AccountingEntries)==null?void 0:R[w])==null?void 0:F.Credit,touched:(W=(G=b.AccountingEntries)==null?void 0:G[w])==null?void 0:W.Credit,disabled:S,required:!S})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(dt,{type:"button",onClick:()=>N(w),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:g.AccountingEntries.length===1,children:o.jsx(un,{className:"w-4 h-4"})})})]},w)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-green-600 font-bold",children:[g.AccountingEntries.reduce((j,w)=>j+(parseFloat(w.Debit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(debit)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"text-red-600 font-bold",children:[g.AccountingEntries.reduce((j,w)=>j+(parseFloat(w.Credit)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(credit)"})]})})]})]})}),o.jsx("hr",{}),o.jsx(Wr,{name:"Attachments",render:({remove:N,push:C})=>{var j;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"mb-2 mt-10",children:[o.jsx("label",{className:"font-medium",children:"Attachments"}),o.jsx(dt,{type:"button",onClick:()=>C({File:null}),className:"btn btn-sm btn-primary ml-5",children:"+ Add"})]}),(j=g.Attachments)==null?void 0:j.map((w,S)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[w.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${axe}/uploads/${w.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:w.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${S}].ID`,value:w.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${S+1}`}),o.jsx("input",{type:"file",name:`Attachments[${S}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:T=>m.setFieldValue(`Attachments[${S}].File`,T.currentTarget.files[0]),onBlur:x,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>N(S),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(un,{className:"w-4 h-4"})})]},S))]})}}),l&&o.jsx("div",{className:"text-red-600 text-sm font-medium text-right",children:l}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx(dt,{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{type:"submit",className:"btn btn-primary",disabled:m.isSubmitting,children:m.isSubmitting?"Saving...":"Save"})]})]})})}const jj="https://staging-engine.testthelink.online",oxe=[],Yy=M("journalEntries/fetchJournalEntries",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${jj}/journalEntryVoucher`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Ky=M("journalEntries/addJournalEntry",async(t,e)=>{try{const r=await fetch(`${jj}/journalEntryVoucher`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),HA=M("journalEntries/updateJournalEntry",async(t,e)=>{try{const r=await fetch(`${jj}/journalEntryVoucher/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),Jy=M("journalEntries/deleteJournalEntry",async(t,e)=>{try{const r=await fetch(`${jj}/journalEntryVoucher/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),ixe=pe({name:"journalEntries",initialState:{journalEntries:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(Yy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Yy.fulfilled,(e,r)=>{e.isLoading=!1,e.journalEntries=Array.isArray(r.payload)?r.payload:[]}).addCase(Yy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch journal entries",console.warn("Failed to fetch journal entries, using mock data.",e.error),e.journalEntries=oxe}).addCase(Ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ky.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries.push(r.payload)}).addCase(Ky.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add journal entry",console.error("Failed to add journal entry:",e.error)}).addCase(HA.pending,e=>{e.isLoading=!0,e.error=null}).addCase(HA.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.journalEntries.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries[n]=r.payload)}).addCase(Jy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Jy.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.journalEntries)||(e.journalEntries=[]),e.journalEntries=e.journalEntries.filter(n=>n.ID!==r.payload)}).addCase(Jy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete journal entry",console.error("Failed to delete journal entry:",e.error)})}}),lxe=ixe.reducer;function cxe(){var N;const{departments:t}=V(C=>C.departments),{accounts:e}=V(C=>C.chartOfAccounts),r=[{label:"Cash Disbursement",value:"Cash Disbursement"},{label:"Check Disbursement",value:"Check Disbursement"},{label:"Collection",value:"Collection"},{label:"Others",value:"Others"}],n=[{label:"General Fund",value:"1"},{label:"Trust Fund",value:"2"},{label:"Special Education Fund",value:"3"}],a=ue(),{journalEntries:s,isLoading:i}=V(C=>C.journalEntries),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,m]=v.useState(!1),[h,g]=v.useState(null);v.useEffect(()=>{a(Yy()),a(Vn()),a(pn())},[a]);const y=()=>{d(null),c(!0)},x=async()=>{if(h)try{await a(Jy(h.ID)).unwrap(),m(!1),g(null)}catch(C){console.error("Failed to delete journal entry:",C)}},p=async C=>{try{u?await a(HA({...C,ID:u.ID})).unwrap():await a(Ky(C)).unwrap(),c(!1),d(null),De.success("Success")}catch(j){throw De.error(j||"Failed"),j}},b=[{key:"Status",header:"Status",sortable:!0,render:C=>{let j="bg-neutral-100 text-neutral-800";switch(C){case"Requested":j="bg-warning-100 text-warning-800";break;case"Posted":j="bg-primary-100 text-primary-800";break;case"Rejected":j="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j}`,children:C})}},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"InvoiceDate",header:"Invoice Date",sortable:!0},{key:"InvoiceNumber",header:"Invoice No.",sortable:!0},{key:"JEVType",header:"Jev Type",sortable:!0},{key:"FundsName",header:"Fund",sortable:!0},{key:"ObligationRequestNumber",header:"OBR No.",sortable:!0},{key:"SAI_No",header:"DV No.",sortable:!0},{key:"CheckNumber",header:"Check Number",sortable:!0},{key:"CheckDate",header:"Check Date",sortable:!0},{key:"Total",header:"Total",sortable:!0}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Journal Entries Voucher "}),o.jsx("p",{children:"Manage your Journal Entries"})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add JEV"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:b,data:s,actions:C=>[],loading:i,emptyMessage:"No journal entries found. Click 'Add JEV' to create one."})}),o.jsx(ae,{size:"xxxl",isOpen:l,onClose:()=>c(!1),title:u?"Edit Journal Entry Voucher":"Add Journal Entry Voucher",children:o.jsx(sxe,{typeOptions:r,fundOptions:n,centerOptions:t.filter(C=>C.Active).map(C=>({label:C.Name,value:C.ID})),accountOptions:e.filter(C=>C.Active).map(C=>({label:C.AccountCode+" "+C.Name,value:C.ID})),initialData:u?{...u,AccountingEntries:((N=u.JournalEntries)==null?void 0:N.map(C=>{const j=e.find(w=>w.AccountCode===C.AccountCode&&w.Name===C.AccountName);return{ResponsibilityCenter:C.ResponsibilityCenter||"",AccountExplanation:(j==null?void 0:j.ID)||"",PR:C.PR||"",Debit:C.Debit||0,Credit:C.Credit||0}}))||[]}:null,onClose:()=>c(!1),onSubmit:p})}),o.jsxs(ae,{isOpen:f,onClose:()=>m(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the journal entry "',h==null?void 0:h.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>m(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:x,className:"btn btn-danger",children:"Delete"})]})]})]})}function uxe({chartOfAccounts:t=[],funds:e=[],disbursementTypes:r=[],onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=oe({DateStart:O().required("Start Date is required"),DateEnd:O().required("End Date is required"),ChartOfAccountID:O().required("Chart of Accounts is required"),FundID:O().required("Fund is required"),DisbursementType:O().required("Disbursement Type is required")}),c={DateStart:"",DateEnd:"",ChartOfAccountID:"",FundID:"",DisbursementType:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:y})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-1",children:[o.jsx(A,{label:"Start Date",name:"DateStart",type:"date",value:d.DateStart,onChange:h,onBlur:g,error:f.DateStart,touched:m.DateStart,required:!0}),o.jsx(A,{label:"End Date",name:"DateEnd",type:"date",value:d.DateEnd,onChange:h,onBlur:g,error:f.DateEnd,touched:m.DateEnd,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{type:"select",label:"Chart of Accounts",name:"ChartOfAccountID",options:t.map(x=>({value:x.ID,label:x.Name})),value:d.ChartOfAccountID,onChange:h,onBlur:g,error:f.ChartOfAccountID,touched:m.ChartOfAccountID,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundID",options:e.map(x=>({value:x.ID,label:x.Name})),value:d.FundID,onChange:h,onBlur:g,error:f.FundID,touched:m.FundID,required:!0}),o.jsx(A,{type:"select",label:"Disbursement Type",name:"DisbursementType",options:r.map(x=>({value:x.value,label:x.label})),value:d.DisbursementType,onChange:h,onBlur:g,error:f.DisbursementType,touched:m.DisbursementType,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const dxe="https://staging-engine.testthelink.online",fxe={disbursementJournals:[],isLoading:!1,error:null},Xy=M("disbursementJournal/fetchJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${dxe}/disbursementJournals/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),Q1=M("disbursementJournal/exportJournals",async t=>(console.log("Exporting journals with filters:",t),!0)),ZV=pe({name:"disbursementJournal",initialState:fxe,reducers:{resetDisbursementJournalState:t=>{t.disbursementJournals=[],t.error=null}},extraReducers:t=>{t.addCase(Xy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Xy.fulfilled,(e,r)=>{e.isLoading=!1,e.disbursementJournals=r.payload}).addCase(Xy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(Q1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Q1.fulfilled,e=>{e.isLoading=!1}).addCase(Q1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetDisbursementJournalState:mxe}=ZV.actions,hxe=ZV.reducer;function pxe(){const t="https://staging-engine.testthelink.online",e=ue(),{disbursementJournals:r,isLoading:n,error:a}=V(m=>m.disbursementJournal),s=V(m=>{var h;return((h=m.chartOfAccounts)==null?void 0:h.accounts)||[]}),{funds:i}=V(m=>m.funds),l=[{value:"Check",label:"Check"},{value:"Collection",label:"Collection"},{value:"Cash",label:"Cash"},{value:"General",label:"General"}];v.useEffect(()=>{e(mxe()),e(pn()),e(Xr())},[e]);const c=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),u=[{key:"Municipality",header:"Municipality",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"Date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"CheckNo",header:"Check No.",sortable:!0},{key:"VoucherNo",header:"Voucher No.",sortable:!0},{key:"JEVNo",header:"JEV No.",sortable:!0},{key:"Claimant",header:"Claimant",sortable:!0},{key:"Particulars",header:"Particulars",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:m=>c(m),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"StartDate",header:"Start Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"EndDate",header:"End Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()}],d=async m=>{try{const h=await fetch(`${t}/disbursementJournals/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({DisbursementType:m.DisbursementType,modeOfPayment:m.modeOfPayment,startDate:m.startDate,endDate:m.endDate,fundID:m.fundID,code:m.code})});if(!h.ok)throw new Error("Server response was not ok");const g=await h.blob(),y=h.headers.get("Content-Disposition");let x=`Disbursement_Journals_${m.DisbursementType}.xlsx`;y&&y.includes("filename=")&&(x=y.split("filename=")[1].replace(/['"]/g,""));const p=window.URL.createObjectURL(g),b=document.createElement("a");b.href=p,b.download=x,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(p)}catch(h){console.error("Export failed:",h),alert(h.message||"Failed to export disbursement journal")}},f=m=>{e(Xy(m))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Disbursement Journal"}),o.jsx("p",{children:"Generate disbursement journal reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(uxe,{chartOfAccounts:s,funds:i,disbursementTypes:l,onExportExcel:d,onView:f,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:u,data:r,loading:n,pagination:!0})})]})}function gxe({funds:t=[],onView:e,onGenerateJournal:r,onExportExcel:n}){const a=v.useRef(null),s=oe({DateStart:O().required("Start Date is required"),DateEnd:O().required("End Date is required"),FundID:O().required("Fund is required")}),i={DateStart:"",DateEnd:"",FundID:""},l=(c,{setSubmitting:u})=>{const d=a.current;d==="view"?e(c):d==="generate"?r(c):d==="export"&&n(c),u(!1),a.current=null};return o.jsx($e,{initialValues:i,validationSchema:s,onSubmit:l,validateOnMount:!0,children:({values:c,errors:u,touched:d,handleChange:f,handleBlur:m,isSubmitting:h})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsx(A,{label:"Start Date",name:"DateStart",type:"date",value:c.DateStart,onChange:f,onBlur:m,error:u.DateStart,touched:d.DateStart,required:!0}),o.jsx(A,{label:"End Date",name:"DateEnd",type:"date",value:c.DateEnd,onChange:f,onBlur:m,error:u.DateEnd,touched:d.DateEnd,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundID",options:t.map(g=>({value:g.ID,label:g.Name})),value:c.FundID,onChange:f,onBlur:m,error:u.FundID,touched:d.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,onClick:()=>a.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:h,children:"Generate Journal"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:h,onClick:()=>a.current="export",children:"Export to Excel"})]})]})})}const yxe="https://staging-engine.testthelink.online",bxe={generalJournals:[],isLoading:!1,error:null},Qy=M("generalJournal/fetchGeneralJournals",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${yxe}/generalJournal/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general journals:",r),e.rejectWithValue(r.message)}}),Z1=M("generalJournal/exportGeneralJournals",async t=>!0),eU=pe({name:"generalJournal",initialState:bxe,reducers:{resetGeneralJournalState:t=>{t.generalJournals=[],t.error=null}},extraReducers:t=>{t.addCase(Qy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Qy.fulfilled,(e,r)=>{e.isLoading=!1,e.generalJournals=r.payload}).addCase(Qy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(Z1.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Z1.fulfilled,e=>{e.isLoading=!1}).addCase(Z1.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralJournalState:xxe}=eU.actions,vxe=eU.reducer;function jxe(){const t="https://staging-engine.testthelink.online",e=ue(),{generalJournals:r,isLoading:n,error:a}=V(d=>d.generalJournal),{funds:s}=V(d=>d.funds),i=d=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(d);v.useEffect(()=>{e(xxe()),e(Xr())},[e]);const l=[{key:"Date",header:"Date",sortable:!0,render:d=>new Date(d).toLocaleDateString()},{key:"VoucherNo",header:"Voucher No",sortable:!0},{key:"Remarks",header:"Remarks",sortable:!0},{key:"AccountCode",header:"Account Code",sortable:!0},{key:"S/L",header:"S/L",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:d=>i(d),className:"text-right"},{key:"Approver",header:"Approver",sortable:!0},{key:"Position",header:"Position",sortable:!0}],c=async d=>{try{const f=await fetch(`${t}/generalJournal/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:d.startDate,endDate:d.endDate,fundID:d.fundID})});if(!f.ok)throw new Error("Server response was not ok");const m=await f.blob(),h=f.headers.get("Content-Disposition");let g="General_Journal.xlsx";h&&h.includes("filename=")&&(g=h.split("filename=")[1].replace(/['"]/g,""));const y=window.URL.createObjectURL(m),x=document.createElement("a");x.href=y,x.download=g,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(y)}catch(f){console.error("Export failed:",f),alert(f.message||"Failed to export general journal")}},u=d=>{e(Qy(d))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Journal"}),o.jsx("p",{children:"Generate general journal reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(gxe,{funds:s,onExportExcel:c,onView:u,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:l,data:r,loading:n,pagination:!0})})]})}function wxe({fiscalYears:t=[],onSubmit:e,onAddClick:r,onTransferClick:n}){const a=oe({FiscalYearID:O().required("Fiscal Year is required")}),s={FiscalYearID:""};return o.jsx($e,{initialValues:s,validationSchema:a,validateOnMount:!0,onSubmit:e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsx(Be,{children:o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[o.jsx("div",{className:"w-auto sm:w-auto",children:o.jsx(A,{type:"select",label:"Fiscal Year",name:"FiscalYearID",options:t,value:i.FiscalYearID,onChange:u,onBlur:d,error:l.FiscalYearID,touched:c.FiscalYearID,required:!0})}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:"Search"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Add"}),o.jsx("button",{type:"button",className:"btn btn-outline",onClick:n,children:"Transfer"})]})]})})})}const Rm="https://staging-engine.testthelink.online",Nxe={beginningBalance:[],isLoading:!1,error:null},vi=M("beginningBalance/fetchBalance",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Rm}/beginningBalance/list`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return console.log("Error fetching beginning balance:",r),e.rejectWithValue(r.message)}}),Zy=M("beginningBalance/addBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Rm}/beginningBalance`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),eb=M("beginningBalance/updateBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Rm}/beginningBalance/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),tb=M("beginningBalance/transferBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Rm}/beginningBalance/transfer`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),rb=M("beginningBalance/deleteBeginningBalance",async(t,e)=>{try{const r=await fetch(`${Rm}/beginningBalance/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),tU=pe({name:"beginningBalance",initialState:Nxe,reducers:{resetBeginningBalanceState:t=>{t.beginningBalance=[],t.error=null}},extraReducers:t=>{t.addCase(vi.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vi.fulfilled,(e,r)=>{e.isLoading=!1,e.beginningBalance=r.payload}).addCase(vi.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(Zy.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Zy.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(Zy.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(eb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(eb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.beginningBalance.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance[n]=r.payload)}).addCase(eb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to update beginning balance"}).addCase(tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tb.fulfilled,(e,r)=>{e.isLoading=!1}).addCase(tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message}).addCase(rb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.beginningBalance)||(e.beginningBalance=[]),e.beginningBalance=e.beginningBalance.filter(n=>n.ID!==r.payload)}).addCase(rb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete beginning balance",console.error("Failed to delete beginning balance:",e.error)})}}),{resetBeginningBalanceState:D$}=tU.actions,Cxe=tU.reducer;function Sxe({initialData:t,onSubmit:e,onClose:r,fiscalYears:n=[],fundsOptions:a=[],chartOfAccountsOptions:s=[]}){const i=oe({FiscalYearID:O().required("Fiscal Year is required"),FundsID:O().required("Funds are required"),BeginningBalance:re().typeError("Must be a number").required("Beginning Balance is required"),ChartofAccountsCode:O().required("Chart of Accounts is required")}),l=tt({initialValues:t||{FiscalYearID:"",FundsID:"",BeginningBalance:"",ChartofAccountsCode:""},validationSchema:i,onSubmit:c=>{e(c)}});return o.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx(A,{label:"Fiscal Year",name:"FiscalYearID",type:"select",options:n,value:l.values.FiscalYearID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FiscalYearID,touched:l.touched.FiscalYearID,required:!0,className:"w-full"}),o.jsx(A,{label:"Funds",name:"FundsID",type:"select",options:a,value:l.values.FundsID,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.FundsID,touched:l.touched.FundsID,required:!0,className:"w-full"}),o.jsx(A,{label:"Beginning Balance",name:"BeginningBalance",type:"number",value:l.values.BeginningBalance,onChange:l.handleChange,onBlur:l.handleBlur,error:l.errors.BeginningBalance,touched:l.touched.BeginningBalance,required:!0,className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Chart of Accounts ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(xr,{options:s,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsCode",value:s.find(c=>String(c.value)===String(l.values.ChartofAccountsCode))||null,onChange:c=>l.setFieldValue("ChartofAccountsCode",(c==null?void 0:c.value)||""),onBlur:l.handleBlur}),l.touched.ChartofAccountsCode&&l.errors.ChartofAccountsCode&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:l.errors.ChartofAccountsCode})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l.isSubmitting,children:l.isSubmitting?"Saving...":"Save"})]})]})}function Axe({onSubmit:t,onClose:e,fiscalYears:r=[]}){const n=oe({PreviousFiscalYearID:O().required("Previous Fiscal Year is required"),NextFiscalYearID:O().required("Next Fiscal Year is required").test("not-same","Previous and Next Fiscal Years cannot be the same",function(s){return s!==this.parent.PreviousFiscalYearID})}),a=tt({initialValues:{PreviousFiscalYearID:"",NextFiscalYearID:""},validationSchema:n,onSubmit:s=>{t(s)}});return o.jsxs("form",{onSubmit:a.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Previous Fiscal Year",name:"PreviousFiscalYearID",type:"select",options:r,value:a.values.PreviousFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.PreviousFiscalYearID,touched:a.touched.PreviousFiscalYearID,required:!0}),o.jsx(A,{label:"Next Fiscal Year",name:"NextFiscalYearID",type:"select",options:r,value:a.values.NextFiscalYearID,onChange:a.handleChange,onBlur:a.handleBlur,error:a.errors.NextFiscalYearID,touched:a.touched.NextFiscalYearID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a.isSubmitting,children:a.isSubmitting?"Transferring...":"Transfer"})]})]})}function Txe(t,e){return t?t.length>e?t.slice(0,e)+"...":t:""}function kxe(){const t=V(P=>{var L;return((L=P.chartOfAccounts)==null?void 0:L.accounts)||[]}),{funds:e}=V(P=>P.funds),r=ue(),{fiscalYears:n}=V(P=>P.fiscalYears),{beginningBalance:a,isLoading:s,error:i}=V(P=>P.beginningBalance),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(null),[h,g]=v.useState(!1),[y,x]=v.useState(null),[p,b]=v.useState(null);v.useEffect(()=>{r(D$()),r(jo()),r(Xr()),r(pn())},[r]);const N=async P=>{try{f?await r(eb(P)).unwrap():await r(Zy(P)).unwrap(),De.success("Success"),p&&await r(vi(p)).unwrap()}catch(L){De.error(L||"Failed")}finally{c(!1)}},C=async P=>{try{await r(tb(P)).unwrap(),r(D$()),await r(vi({FiscalYearID:P.NextFiscalYearID})).unwrap(),p&&await r(vi(p)).unwrap(),De.success("Success")}catch(L){De.error(L||"Transfer failed")}finally{d(!1)}},j=()=>{m(null),c(!0)},w=P=>{m(P),c(!0)},S=P=>{x(P),g(!0)},T=async()=>{if(y)try{await r(rb(y.ID)).unwrap(),g(!1),x(null),De.success("Deleted")}catch(P){De.error(P||"Failed")}},k=[{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"FundName",header:"Funds",sortable:!0},{key:"AccountName",header:"Account",sortable:!0},{key:"BeginningBalance",header:"Beginning Balance",sortable:!0}],I=[{icon:Se,title:"Edit",onClick:w,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Fe,title:"Delete",onClick:S,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],E=async(P,{setSubmitting:L})=>{try{b(P),await r(vi(P)).unwrap()}catch($){console.error("Fetch failed:",$)}finally{L(!1)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Beginning Balance"}),o.jsx("p",{children:"Generate beginning balance reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(wxe,{fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onSubmit:E,onAddClick:j,onTransferClick:()=>d(!0),onClose:()=>{}})}),o.jsx(ae,{isOpen:l,onClose:()=>c(!1),title:f?"Edit Beginning Balance":"Add Beginning Balance",size:"xl",children:o.jsx(Sxe,{onSubmit:N,initialData:f,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),fundsOptions:e.map(P=>({value:P.ID,label:P.Name})),onClose:()=>c(!1),chartOfAccountsOptions:t.map(P=>({value:P.ID,label:`${P.AccountCode} - ${P.Name} - [${Txe(P.Description,50)}]`}))})}),o.jsx(ae,{isOpen:u,onClose:()=>d(!1),title:"Transfer Beginning Balance",size:"lg",children:o.jsx(Axe,{onSubmit:C,fiscalYears:n.map(P=>({value:P.ID,label:P.Name})),onClose:()=>d(!1)})}),o.jsxs(ae,{isOpen:h,onClose:()=>g(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the beginning balance "',y==null?void 0:y.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>g(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:T,className:"btn btn-danger",children:"Delete"})]})]}),i&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:i})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:k,actions:I,data:a,loading:s,pagination:!0})})]})}const Oxe=oe().shape({ResponsibilityCenter:O().required("Department is required"),OfficeUnitProject:O().required("Section is required"),ContraAccountID:O().required("Charge Account is required"),InvoiceNumber:O().required("PR Number is required"),SAI_No:O(),ObligationRequestNumber:O(),InvoiceDate:Me().required("PR Date is required"),SAIDate:Me(),ALOBSDate:Me(),Remarks:O().required("Purpose is required"),Items:hn().of(oe({ItemID:O().required("Required"),Quantity:O().required("Required"),Unit:O().required("Required"),Cost:re().nullable().typeError("Must be a number").required("Cost is required")})).min(1,"At least one entry is required")});function Exe({initialData:t,onSubmit:e,onClose:r,departmentsOptions:n=[],chartOfAccountsOptions:a=[],itemsOptions:s=[],itemsUnitsOptions:i=[]}){const[l,c]=v.useState(!1),u=t?{...t,Items:t.PurchaseItems||[]}:{ResponsibilityCenter:"",OfficeUnitProject:"",InvoiceNumber:"",ContraAccountID:"",SAI_No:"",ObligationRequestNumber:"",InvoiceDate:"",SAIDate:"",ALOBSDate:"",Remarks:"",Items:[{ItemID:"",Quantity:0,Unit:"",Cost:0}]};return o.jsx($e,{initialValues:u,validationSchema:Oxe,onSubmit:e,enableReinitialize:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,setFieldValue:y})=>o.jsxs(Be,{className:"space-y-1",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"Department",name:"ResponsibilityCenter",type:"select",required:!0,value:d.ResponsibilityCenter,onChange:h,onBlur:g,error:f.ResponsibilityCenter,touched:m.ResponsibilityCenter,options:n}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Section",name:"OfficeUnitProject",type:"text",required:!0,value:d.OfficeUnitProject,onChange:h,onBlur:g,error:f.OfficeUnitProject,touched:m.OfficeUnitProject}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Charge Account",name:"ContraAccountID",type:"select",required:!0,value:d.ContraAccountID,onChange:h,onBlur:g,error:f.ContraAccountID,touched:m.ContraAccountID,options:a})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"PR No.",name:"InvoiceNumber",type:"text",required:!0,value:d.InvoiceNumber,onChange:h,onBlur:g,error:f.InvoiceNumber,touched:m.InvoiceNumber}),o.jsx(A,{className:"p-3 focus:outline-none",label:"SAI No.",name:"SAI_No",type:"text",value:d.SAI_No,onChange:h,onBlur:g,error:f.SAI_No,touched:m.SAI_No}),o.jsx(A,{className:"p-3 focus:outline-none",label:"ALOBS No.",name:"ObligationRequestNumber",type:"text",value:d.ObligationRequestNumber,onChange:h,onBlur:g,error:f.ObligationRequestNumber,touched:m.ObligationRequestNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{className:"p-3 focus:outline-none",label:"PR Date",name:"InvoiceDate",type:"date",required:!0,value:d.InvoiceDate,onChange:h,onBlur:g,error:f.InvoiceDate,touched:m.InvoiceDate}),o.jsx(A,{className:"p-3 focus:outline-none",label:"SAI Date",name:"SAIDate",type:"date",value:d.SAIDate,onChange:h,onBlur:g,error:f.SAIDate,touched:m.SAIDate}),o.jsx(A,{className:"p-3 focus:outline-none",label:"ALOBS Date",name:"ALOBSDate",type:"date",value:d.ALOBSDate,onChange:h,onBlur:g,error:f.ALOBSDate,touched:m.ALOBSDate})]}),o.jsx(A,{className:"p-3 focus:outline-none",label:"Purpose",name:"Remarks",type:"text",required:!0,value:d.Remarks,onChange:h,onBlur:g,error:f.Remarks,touched:m.Remarks}),o.jsx("hr",{className:"!mt-5 !mb-5"}),o.jsx(Wr,{name:"Items",render:({remove:x,push:p})=>o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("label",{className:"font-medium",children:"Items"}),o.jsx(dt,{type:"button",onClick:()=>p({ItemID:"",Quantity:0,Unit:"",Cost:0}),className:"btn btn-sm btn-primary",children:"+ Add"})]}),d.Items.map((b,N)=>{var C,j,w,S,T,k,I,E,P,L,$,_,B,U;return o.jsxs("div",{className:"space-y-2 border p-4 rounded-md bg-neutral-50",children:[o.jsxs("div",{className:"flex flex-wrap gap-2 w-full",children:[o.jsxs("div",{className:"flex-1 min-w-[200px]",children:[o.jsx("div",{children:o.jsxs("label",{className:"form-label",children:["Item ",o.jsx("span",{className:"text-error-500",children:"*"})]})}),o.jsx(xr,{label:"Item",options:s,placeholder:"Select item...",isSearchable:!0,onChange:D=>y(`Items[${N}].ItemID`,(D==null?void 0:D.value)||""),name:`Items[${N}].ItemID`,value:s.find(D=>D.value===b.ItemID)||null,onBlur:g,required:!0}),((j=(C=f.Items)==null?void 0:C[N])==null?void 0:j.ItemID)&&o.jsx("div",{className:"text-sm text-red-600 mt-1",children:f.Items[N].ItemID})]}),o.jsx(A,{className:"flex-1 max-w-[180px]",type:"number",label:"Quantity",name:`Items[${N}].Quantity`,value:b.Quantity,onChange:h,onBlur:g,error:(S=(w=f.Items)==null?void 0:w[N])==null?void 0:S.Quantity,touched:(k=(T=m.Items)==null?void 0:T[N])==null?void 0:k.Quantity,required:!0}),o.jsx(A,{className:"flex-1 max-w-[150px]",type:"select",label:"Unit",name:`Items[${N}].Unit`,value:b.Unit,onChange:h,onBlur:g,options:i,error:(E=(I=f.Items)==null?void 0:I[N])==null?void 0:E.Unit,touched:(L=(P=m.Items)==null?void 0:P[N])==null?void 0:L.Unit,required:!0}),o.jsx(A,{className:"flex-1 max-w-[200px]",type:"number",label:"Cost",name:`Items[${N}].Cost`,value:b.Cost,onChange:h,onBlur:g,error:(_=($=f.Items)==null?void 0:$[N])==null?void 0:_.Cost,touched:(U=(B=m.Items)==null?void 0:B[N])==null?void 0:U.Cost,required:!0})]}),o.jsx("div",{className:"flex justify-end pt-0",children:o.jsx(dt,{type:"button",onClick:()=>x(N),className:"bg-red-600 hover:bg-red-700 text-white p-1",disabled:d.Items.length===1,children:o.jsx(un,{className:"w-4 h-4"})})})]},N)}),o.jsxs("div",{className:"grid grid-cols-6 gap-4 border-t pt-4 font-semibold",children:[o.jsx("div",{className:"col-span-2 text-right",children:"Total:"}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((b,N)=>b+(parseFloat(N.Cost)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Estimated Cost)"})]})}),o.jsx("div",{className:"col-span-2 text-right",children:o.jsxs("div",{className:"font-bold",children:[d.Items.reduce((b,N)=>b+(parseFloat(N.Cost)||0)*(parseFloat(N.Quantity)||0),0).toFixed(2)," ",o.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Cost)"})]})})]})]})}),o.jsxs("div",{className:"flex justify-end space-x-2 !mt-5",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:r,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:l,children:"Save"})]})]})})}const wj="https://staging-engine.testthelink.online",Ixe=[],Pxe={purchaseRequests:Ixe,isLoading:!1,error:null},nb=M("purchaseRequests/fetchPurchaseRequests",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${wj}/purchaseRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),ab=M("purchaseRequests/addPurchaseRequest",async(t,e)=>{try{const r=await fetch(`${wj}/purchaseRequest`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),sb=M("purchaseRequests/updatePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${wj}/purchaseRequest/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),ob=M("purchaseRequests/deletePurchaseRequest",async(t,e)=>{try{const r=await fetch(`${wj}/purchaseRequest/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.error||n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),Dxe=pe({name:"purchaseRequests",initialState:Pxe,reducers:{},extraReducers:t=>{t.addCase(nb.pending,e=>{e.isLoading=!0}).addCase(nb.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=r.payload,e.error=null}).addCase(nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ab.pending,e=>{e.isLoading=!0}).addCase(ab.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests.push(r.payload),e.error=null}).addCase(ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(sb.pending,e=>{e.isLoading=!0}).addCase(sb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.purchaseRequests.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(e.purchaseRequests[n]=r.payload),e.error=null}).addCase(sb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(ob.pending,e=>{e.isLoading=!0}).addCase(ob.fulfilled,(e,r)=>{e.isLoading=!1,e.purchaseRequests=e.purchaseRequests.filter(n=>n.ID!==r.payload),e.error=null}).addCase(ob.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),_xe=Dxe.reducer;function $xe(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),{departments:a}=V(j=>j.departments),s=V(j=>{var w;return((w=j.chartOfAccounts)==null?void 0:w.accounts)||[]}),{items:i}=V(j=>j.items),{itemUnits:l}=V(j=>j.itemUnits),{purchaseRequests:c,isLoading:u}=V(j=>j.purchaseRequests),[d,f]=v.useState(!1),[m,h]=v.useState(null),g=ue();v.useEffect(()=>{g(Vn()),g(pn()),g(hs()),g(Pa()),g(nb())},[]);const y=()=>{n(null),e(!0)},x=()=>{e(!1),n(null)},p=async()=>{if(m)try{await g(ob(m.ID)).unwrap(),f(!1),h(null),De.success("Deleted")}catch(j){De.error(j||"Failed")}},b=async j=>{try{const w=j.Items.reduce((k,I)=>k+(parseFloat(I.Cost)||0),0),S=j.Items.reduce((k,I)=>k+(parseFloat(I.Cost)||0)*(parseFloat(I.Quantity)||0),0),T={...j,Total:w.toFixed(2),AmountReceived:S.toFixed(2)};r?await g(sb(T)).unwrap():await g(ab(T)).unwrap(),De.success("Success")}catch(w){De.error(w||"Failed")}finally{e(!1)}},N=[{key:"ChartOfAccountsName",header:"Charge Account",sortable:!0},{key:"Status",header:"Status",sortable:!0},{key:"RequestedByName",header:"Requested By",sortable:!0},{key:"DepartmentName",header:"Department",sortable:!0},{key:"Remarks",header:"Purpose",sortable:!0},{key:"OfficeUnitProject",header:"Section",sortable:!0},{key:"InvoiceNumber",header:"PR No.",sortable:!0},{key:"InvoiceDate",header:"PR Date",sortable:!0},{key:"SAI_No",header:"SAI No.",sortable:!0},{key:"SAIDate",header:"SAI Date",sortable:!0},{key:"ObligationRequestNumber",header:"ALOBS No.",sortable:!0},{key:"ALOBSDate",header:"ALOBS Date",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"AmountReceived",header:"Estimated Total",sortable:!0}],C=[];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Purchase Requests"}),o.jsx("p",{children:"Manage purchase requests and authorizations"})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Add Purchase Request"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:N,actions:C,data:c,loading:u})}),o.jsx(ae,{isOpen:t,onClose:x,title:r?"Edit Purchase Request":"Add Purchase Request",size:"xxxl",children:o.jsx(Exe,{initialData:r,departmentsOptions:a.map(j=>({value:j.ID,label:j.Name})),chartOfAccountsOptions:s.map(j=>({value:j.ID,label:j.Name})),itemsOptions:i.map(j=>({value:j.ID,label:j.Name})),itemsUnitsOptions:l.map(j=>({value:j.ID,label:j.Name})),onSubmit:b,onClose:x})}),o.jsxs(ae,{isOpen:d,onClose:()=>f(!1),title:"Confirm Delete",children:[o.jsxs("div",{className:"py-3",children:[o.jsxs("p",{className:"text-neutral-700",children:['Are you sure you want to delete the purchase request "',m==null?void 0:m.Name,'"?']}),o.jsx("p",{className:"text-sm text-neutral-500 mt-2",children:"This action cannot be undone."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:p,className:"btn btn-danger",children:"Delete"})]})]})]})}oe({number:O().required("Number is required"),date:Me().required("Date is required"),payee:O().required("Payee is required"),address:O().required("Address is required"),fund:O().required("Fund is required"),fiscalYear:O().required("Fiscal Year is required"),project:O().required("Project is required")});function Rxe({onSubmit:t,onClose:e,responsibilityOptions:r=[],particularsOptions:n=[],unitOptions:a=[],taxCodeOptions:s=[],taxCodeFull:i=[],budgetOptions:l=[],initialData:c}){var h;const u=oe({ResponsibilityCenter:O().required("Required"),ChargeAccountID:O().required("Required"),ItemID:O().required("Required"),Remarks:O().required("Required"),Price:re().required("Required"),Quantity:re().required("Required"),ItemUnitID:O().required("Required"),TAXCodeID:O().required("Required")}),d=tt({initialValues:c||{ResponsibilityCenter:"",ChargeAccountID:"",ItemID:"",Remarks:"",Price:"",Quantity:1,ItemUnitID:"",TAXCodeID:"",Vatable:!1,withheldEWT:0,subtotal:0},validationSchema:u,onSubmit:g=>{const y=i.find(C=>String(C.ID)===String(g.TAXCodeID)),x=_f({price:g.Price,quantity:g.Quantity,taxRate:(y==null?void 0:y.Rate)||0,vatable:g.Vatable,ewtRate:g.withheldEWT}),p=r.find(C=>String(C.value)===String(g.ResponsibilityCenter)),b=l.find(C=>String(C.value)===String(g.ChargeAccountID)),N=n.find(C=>String(C.value)===String(g.ItemID));t({...g,...x,responsibilityCenterName:p?p.label:"",chargeAccountName:b?b.label:"",itemName:N?N.label:""}),e()}}),f=v.useRef({...d.values});v.useEffect(()=>{if(!["Price","Quantity","TAXCodeID","Vatable"].some(p=>d.values[p]!==f.current[p]))return;f.current={...d.values};const y=i.find(p=>String(p.ID)===String(d.values.TAXCodeID)),x=_f({price:d.values.Price,quantity:d.values.Quantity,taxRate:(y==null?void 0:y.Rate)||0,vatable:d.values.Vatable,ewtRate:d.values.withheldEWT});x.subtotal!==d.values.subtotal&&d.setFieldValue("subtotal",x.subtotal,!1),x.withheld!==d.values.withheldEWT&&d.setFieldValue("withheldEWT",x.withheld,!1)},[d.values.Price,d.values.Quantity,d.values.TAXCodeID,d.values.Vatable,d.values.withheldEWT,i]);const m=((h=i.find(g=>String(g.ID)===String(d.values.TAXCodeID)))==null?void 0:h.Rate)??"";return o.jsxs("form",{onSubmit:d.handleSubmit,className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(A,{type:"select",label:"Responsibility Center",name:"ResponsibilityCenter",options:r,...d.getFieldProps("ResponsibilityCenter"),required:!0,error:d.touched.ResponsibilityCenter&&d.errors.ResponsibilityCenter,touched:d.touched.ResponsibilityCenter})}),o.jsx("div",{children:o.jsx(A,{type:"select",label:"Charge Account",name:"ChargeAccountID",options:l,...d.getFieldProps("ChargeAccountID"),required:!0,error:d.touched.ChargeAccountID&&d.errors.ChargeAccountID,touched:d.touched.ChargeAccountID})}),o.jsx("div",{children:o.jsx(A,{type:"select",label:"Particulars",name:"ItemID",options:n,...d.getFieldProps("ItemID"),required:!0,error:d.touched.ItemID&&d.errors.ItemID,touched:d.touched.ItemID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(A,{type:"number",label:"Item Price",name:"Price",...d.getFieldProps("Price"),required:!0,error:d.touched.Price&&d.errors.Price,touched:d.touched.Price})}),o.jsx("div",{children:o.jsx(A,{type:"number",label:"Quantity",name:"Quantity",...d.getFieldProps("Quantity"),required:!0,error:d.touched.Quantity&&d.errors.Quantity,touched:d.touched.Quantity})}),o.jsx("div",{children:o.jsx(A,{type:"select",label:"Unit",name:"ItemUnitID",options:a,...d.getFieldProps("ItemUnitID"),required:!0,error:d.touched.ItemUnitID&&d.errors.ItemUnitID,touched:d.touched.ItemUnitID})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx("div",{children:o.jsx(A,{type:"select",label:"Tax Code",name:"TAXCodeID",options:s,...d.getFieldProps("TAXCodeID"),required:!0,error:d.touched.TAXCodeID&&d.errors.TAXCodeID,touched:d.touched.TAXCodeID})}),o.jsx("div",{children:o.jsx(A,{type:"number",label:"Withheld / EWT",name:"withheldEWT",value:d.values.withheldEWT,readOnly:!0,disabled:!0})}),o.jsx(A,{type:"number",label:"Tax Rate (%)",name:"TaxRateDisplay",value:m,disabled:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[o.jsx(A,{type:"text",label:"Remarks",name:"Remarks",...d.getFieldProps("Remarks"),required:!0,error:d.touched.Remarks&&d.errors.Remarks,touched:d.touched.Remarks}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"Vatable",checked:d.values.Vatable,onChange:d.handleChange,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Vatable"})]})]}),o.jsxs("div",{className:"font-semibold text-right",children:["SubTotal:",Number(d.values.subtotal||0).toFixed(2)]}),o.jsxs("div",{className:"flex justify-end gap-2 border-t pt-4",children:[o.jsx("button",{type:"button",className:"btn btn-outline",onClick:e,children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}const rU="https://staging-engine.testthelink.online",Mxe={fundUtilizations:[],fundUtilization:null,isLoading:!1,error:null},ib=M("fundUtilizations/fetchFundUtilizations",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rU}/fundUtilizationRequest`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),eN=M("fundUtilizations/fetchById",async(t,e)=>{try{return new Promise((r,n)=>{setTimeout(()=>{const s=e.getState().obligationRequests.obligationRequests.find(i=>i.id===t);s?r(s):n(new Error("Obligation request not found"))},500)})}catch(r){return e.rejectWithValue(r.message)}}),lb=M("fundUtilizations/create",async(t,e)=>{try{const r=await fetch(`${rU}/fundUtilizationRequest`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:t}),n=await r.json();if(!r.ok)throw new Error(n.error||n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r)}}),cb=M("fundUtilizations/update",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),nU=pe({name:"fundUtilizations",initialState:Mxe,reducers:{resetFundUtilizationState:t=>{t.fundUtilization=null,t.error=null}},extraReducers:t=>{t.addCase(ib.pending,e=>{e.isLoading=!0}).addCase(ib.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations=r.payload}).addCase(ib.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(eN.pending,e=>{e.isLoading=!0}).addCase(eN.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilization=r.payload}).addCase(eN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lb.pending,e=>{e.isLoading=!0}).addCase(lb.fulfilled,(e,r)=>{e.isLoading=!1,e.fundUtilizations.push(r.payload)}).addCase(lb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(cb.pending,e=>{e.isLoading=!0}).addCase(cb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.fundUtilizations.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.fundUtilizations[n]=r.payload)}).addCase(cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{resetFundUtilizationState:H7e}=nU.actions,Lxe=nU.reducer,_$=[{value:"Employee",label:"Employee"},{value:"Vendor",label:"Vendor"},{value:"Individual",label:"Individual"}],Fxe=oe().shape({obrNo:O().required("No. is required"),obrDate:Me().required("Date is required"),payeeType:O().required("Payee type is required"),payeeId:O().required("Payee selection is required"),fund:O().required("Fund is required"),fiscalYear:O().required("Fiscal Year is required"),project:O().required("Project is required"),accountingEntries:hn().min(1,"At least one item is required")});function Bxe({initialData:t,onClose:e,employeeOptions:r=[],vendorOptions:n=[],individualOptions:a=[],employeeData:s=[],vendorData:i=[],individualData:l=[],departmentOptions:c=[],fundOptions:u=[],projectOptions:d=[],fiscalYearOptions:f=[],particularsOptions:m=[],unitOptions:h=[],taxCodeOptions:g=[],budgetOptions:y=[],taxCodeFull:x=[]}){const p=ue(),b=v.useRef(null),[N,C]=v.useState(!1),[j,w]=v.useState(null),[S,T]=v.useState(null),[k,I]=v.useState(!1),[E,P]=v.useState([]),L=(D,R)=>{const F=D.reduce((Z,fe)=>Z+Number(fe.amount||0),0),G=R.reduce((Z,fe)=>Z+Number(fe.amount||0),0),W=F-G;return{grossAmount:F,totalTaxes:G,netAmount:W}},$={description:"",amount:"",accountCode:""},_={obrNo:(t==null?void 0:t.obrNo)||"",obrDate:(t==null?void 0:t.obrDate)||new Date().toISOString().split("T")[0],dvDate:(t==null?void 0:t.dvDate)||new Date().toISOString().split("T")[0],paymentDate:(t==null?void 0:t.paymentDate)||new Date().toISOString().split("T")[0],payeeType:(t==null?void 0:t.payeeType)||"",payeeName:(t==null?void 0:t.payeeName)||"",payeeId:(t==null?void 0:t.payeeId)||"",payeeAddress:(t==null?void 0:t.payeeAddress)||"",officeUnitProject:(t==null?void 0:t.officeUnitProject)||"",orsNumber:(t==null?void 0:t.orsNumber)||"",requestForPayment:(t==null?void 0:t.requestForPayment)||"",modeOfPayment:(t==null?void 0:t.modeOfPayment)||"",items:Array.isArray(t==null?void 0:t.items)&&t.items.length>0?t.items:[$],taxes:Array.isArray(t==null?void 0:t.taxes)?t.taxes:[],contraAccounts:Array.isArray(t==null?void 0:t.contraAccounts)&&t.contraAccounts.length>0?t.contraAccounts:[{code:"",account:"",amount:"",normalBalance:""}],accountingEntries:Array.isArray(t==null?void 0:t.accountingEntries)?t.accountingEntries:[],Attachments:Array.isArray(t==null?void 0:t.Attachments)?t.Attachments:[]},B=D=>{C(!0),L(D.items,D.taxes);const R=new FormData;D.payeeType==="Employee"?(R.append("EmployeeID",D.payeeId),R.append("VendorID",""),R.append("CustomerID","")):D.payeeType==="Vendor"?(R.append("EmployeeID",""),R.append("VendorID",D.payeeId),R.append("CustomerID","")):D.payeeType==="Individual"&&(R.append("EmployeeID",""),R.append("VendorID",""),R.append("CustomerID",D.payeeId)),R.append("PayeeType",D.payeeType),R.append("Payee",(j==null?void 0:j.Name)||(j==null?void 0:j.FirstName)+" "+(j==null?void 0:j.MiddleName)+" "+(j==null?void 0:j.LastName)||""),R.append("Address",(j==null?void 0:j.StreetAddress)||""),R.append("InvoiceNumber",D.obrNo),R.append("InvoiceDate",D.obrDate);const F=D.accountingEntries.reduce((ne,K)=>ne+Number(K.subtotal||0),0),G=D.accountingEntries.reduce((ne,K)=>ne+Number(K.ewt||0),0),W=D.accountingEntries.reduce((ne,K)=>ne+Number(K.withheld||0),0),Z=D.accountingEntries.reduce((ne,K)=>ne+Number(K.vat||0),0),fe=D.accountingEntries.reduce((ne,K)=>ne+Number(K.discount||0),0);R.append("Total",F.toFixed(2)),R.append("EWT",G.toFixed(2)),R.append("WithheldAmount",W.toFixed(2)),R.append("Vat_Total",Z.toFixed(2)),R.append("Discounts",fe.toFixed(2)),R.append("FundsID",D.fund),R.append("FiscalYearID",D.fiscalYear),R.append("ProjectID",D.project),R.append("TravelID",""),R.append("Items",JSON.stringify(D.accountingEntries)),D.Attachments.forEach((ne,K)=>{ne.File?R.append(`Attachments[${K}].File`,ne.File):ne.ID&&R.append(`Attachments[${K}].ID`,ne.ID)});const Ce=t?cb({formData:R,id:t.ID}):lb(R);p(Ce).unwrap().then(()=>{De.success("Success"),e()}).catch(ne=>{De.error((ne==null?void 0:ne.message)||"Failed to submit"),console.error("Error submitting DV:",ne)}).finally(()=>{C(!1)})},U=({type:D})=>{switch(D){case"Employee":return o.jsx(CO,{className:"w-5 h-5"});case"Vendor":return o.jsx(Ck,{className:"w-5 h-5"});case"Individual":return o.jsx(_v,{className:"w-5 h-5"});default:return null}};return o.jsx("div",{children:o.jsx("div",{className:"max-w-7xl mx-auto p-2 sm:p-6 bg-white",children:o.jsx($e,{innerRef:b,initialValues:_,validationSchema:Fxe,onSubmit:B,enableReinitialize:!0,children:({values:D,errors:R,touched:F,handleChange:G,handleBlur:W,setFieldValue:Z,isValid:fe})=>{L(D.items,D.taxes);const ne=_$.map(ee=>({value:ee.value,label:ee.label})).find(ee=>ee.value===D.payeeType),K=ee=>{w(null),Z("payeeType",ee),Z("payeeName",""),Z("payeeId",""),Z("payeeAddress",""),Z("officeUnitProject",""),Z("orsNumber","")},ie=ee=>{let H=null;switch(D.payeeType){case"Employee":H=s.find(z=>z.ID===ee);break;case"Vendor":H=i.find(z=>z.ID===ee);break;case"Individual":H=l.find(z=>z.ID===ee);break}w(H),Z("payeeName",H==null?void 0:H.Name),Z("payeeId",H==null?void 0:H.ID)},X=ee=>{switch(ee){case"Employee":return r;case"Vendor":return n;case"Individual":return a;default:return[]}};return o.jsxs(Be,{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Payee Information"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payee Type ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("div",{className:"space-y-2",children:_$.map(ee=>o.jsxs("button",{type:"button",onClick:()=>K(ee.value),className:`w-full flex items-center px-4 py-3 text-left border rounded-lg transition-all duration-200 ${D.payeeType===ee.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400 text-gray-700"}`,children:[o.jsx(U,{type:ee.value}),o.jsx("span",{className:"ml-3 font-medium",children:ee.label})]},ee.value))}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),D.payeeType&&o.jsxs("div",{className:"lg:col-span-1",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select ",ne==null?void 0:ne.label," ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:X(D.payeeType),value:X(D.payeeType).find(ee=>ee.value===D.payeeId)||null,onChange:ee=>ie(ee.value),className:"react-select-container",classNamePrefix:"react-select"}),R.payeeType&&F.payeeType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.payeeType})]}),j&&o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:o.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Payee:"}),o.jsx("div",{className:"text-sm text-gray-900",children:(ne==null?void 0:ne.label)==="Employee"?`${j.FirstName||""} ${j.MiddleName||""} ${j.LastName||""}`.trim():((ne==null?void 0:ne.label)==="Vendor"||(ne==null?void 0:ne.label)==="Individual",j.Name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Address:"}),o.jsx("div",{className:"text-sm text-gray-900",children:((ne==null?void 0:ne.label)==="Employee"||(ne==null?void 0:ne.label)==="Vendor"||(ne==null?void 0:ne.label)==="Individual",j.StreetAddress)})]})]})})})})]})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsx(A,{type:"text",label:"No.",name:"obrNo",value:D.obrNo,onChange:G,onBlur:W,error:R.obrNo,touched:F.obrNo,required:!0}),o.jsx(A,{type:"date",label:"Date",name:"obrDate",value:D.obrDate,onChange:G,onBlur:W,error:R.obrDate,touched:F.obrDate,required:!0})]}),o.jsx("hr",{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fund ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:u,value:u.find(ee=>ee.value===D.fund)||null,onChange:ee=>Z("fund",ee.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fund&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fund})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Fiscal Year ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:f,value:f.find(ee=>ee.value===D.fiscalYear)||null,onChange:ee=>Z("fiscalYear",ee.value),className:"react-select-container",classNamePrefix:"react-select"}),R.fiscalYear&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.fiscalYear})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Project ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:d,value:d.find(ee=>ee.value===D.project)||null,onChange:ee=>Z("project",ee.value),className:"react-select-container",classNamePrefix:"react-select"}),R.project&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.project})]})]}),o.jsx(Wr,{name:"accountingEntries",children:({push:ee,remove:H})=>o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Items"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>I(!0),children:"+ Item"})]}),D.accountingEntries.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold text-sm",children:[o.jsx("span",{children:"RC"}),o.jsx("span",{children:"REMARKS"}),o.jsx("span",{children:"ITEM"}),o.jsx("span",{children:"FPP"}),o.jsx("span",{children:"ACCOUNT CODE"}),o.jsx("span",{className:"text-right",children:"SUB-TOTAL"})]}),D.accountingEntries.map((z,he)=>o.jsxs("div",{className:"grid grid-cols-6 gap-2 text-sm items-center border p-2 rounded",children:[o.jsx("span",{children:z.responsibilityCenterName}),o.jsx("span",{children:z.Remarks}),o.jsx("span",{children:z.itemName}),o.jsx("span",{children:z.FPP}),o.jsx("span",{children:z.chargeAccountName}),o.jsx("span",{className:"text-right",children:parseFloat(z.subtotal).toFixed(2)}),o.jsx("div",{className:"col-span-6 text-right",children:o.jsx("button",{type:"button",onClick:()=>H(he),className:"text-red-600 text-xs",children:""})})]},he)),o.jsxs("div",{className:"grid grid-cols-6 gap-2 font-semibold pt-2 border-t",children:[o.jsx("div",{className:"col-span-5 text-right",children:"Total:"}),o.jsx("div",{className:"text-right",children:D.accountingEntries.reduce((z,he)=>z+Number(he.subtotal),0).toFixed(2)})]})]}),o.jsx(ae,{isOpen:k,onClose:()=>I(!1),title:"Add Accounting Entry",size:"xl",children:o.jsx(Rxe,{initialData:null,responsibilityOptions:c,particularsOptions:m,unitOptions:h,taxCodeOptions:g,budgetOptions:y,taxCodeFull:x,onClose:()=>I(!1),onSubmit:z=>{ee(z),I(!1)}})})]})}),R.accountingEntries&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.accountingEntries}),o.jsx("hr",{}),o.jsx(Wr,{name:"Attachments",render:({remove:ee,push:H})=>{var z;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Attachments"}),o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>H({File:null}),children:"+ Attachment"})]}),(z=D.Attachments)==null?void 0:z.map((he,je)=>o.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[he.ID?o.jsxs("div",{className:"flex-1",children:[o.jsx("a",{href:`${API_URL}/uploads/${he.DataImage}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:he.DataName}),o.jsx("input",{type:"hidden",name:`Attachments[${je}].ID`,value:he.ID})]}):o.jsxs("div",{className:"flex-1 min-w-[300px]",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:`File ${je+1}`}),o.jsx("input",{type:"file",name:`Attachments[${je}].File`,accept:".pdf,.doc,.docx,.xls,.xlsx,image/*",onChange:ke=>Z(`Attachments[${je}].File`,ke.currentTarget.files[0]),onBlur:W,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),o.jsx(dt,{type:"button",onClick:()=>ee(je),className:"bg-red-600 hover:bg-red-700 text-white p-1",children:o.jsx(un,{className:"w-4 h-4"})})]},je))]})}}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}})})})}function qxe(){const t=ue(),{fundUtilizations:e,isLoading:r}=V(w=>w.fundUtilizations),{employees:n}=V(w=>w.employees),{customers:a}=V(w=>w.customers),{vendorDetails:s}=V(w=>w.vendorDetails),{departments:i}=V(w=>w.departments),{projectDetails:l}=V(w=>w.projectDetails),{funds:c}=V(w=>w.funds),{fiscalYears:u}=V(w=>w.fiscalYears),{items:d}=V(w=>w.items),{taxCodes:f}=V(w=>w.taxCodes),{itemUnits:m}=V(w=>w.itemUnits),{budgets:h}=V(w=>w.budget),[g,y]=v.useState("list"),[x,p]=v.useState(null);v.useEffect(()=>{t(ib()),t(Un()),t(Da()),t(ms()),t(Vn()),t(Pi()),t(Xr()),t(jo()),t(hs()),t(ca()),t(Pa()),t(wo())},[t]);const b=()=>{p(null),y("form")},N=w=>{p(w),y("form")},C=()=>{y("list"),p(null)},j=[{key:"Status",header:"Status",sortable:!0,render:w=>{let S="bg-neutral-100 text-neutral-800";switch(w){case"Requested":S="bg-warning-100 text-warning-800";break;case"Pending Approval":S="bg-primary-100 text-primary-800";break;case"Approved for Payment":case"Paid":S="bg-success-100 text-success-800";break;case"Cancelled":case"Rejected":S="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${S}`,children:w})}},{key:"InvoiceDate",header:"Invoice Date",sortable:!0,render:w=>new Date(w).toLocaleDateString()},{key:"InvoiceNumber",header:"Invoice Number",sortable:!0},{key:"Total",header:"Total",sortable:!0},{key:"FiscalYearName",header:"Fiscal Year",sortable:!0},{key:"ProjectName",header:"Project",sortable:!0},{key:"CustomerID",header:"CustomerID",sortable:!0}];return o.jsxs("div",{children:[g==="list"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("h1",{children:"Fund Utilization Request & Status"})}),o.jsxs("button",{type:"button",onClick:b,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Create"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:j,data:e,actions:w=>{var T;const S=[];return((T=w.Transaction)==null?void 0:T.Status)==="Rejected"&&S.push({icon:Se,title:"Edit",onClick:()=>N(w),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}),S},loading:r})})]}),g==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:C,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{children:x?"Edit Fund Utilization Request":"Create Fund Utilization Request"}),o.jsxs("p",{children:["Fill out the form to"," ",x?"update":"create"," a fund utilization request."]})]})]})})}),o.jsx("div",{className:"mt-4",children:o.jsx(Bxe,{initialData:x,employeeOptions:n.map(w=>({value:w.ID,label:w.FirstName+" "+w.MiddleName+" "+w.LastName})),vendorOptions:s.map(w=>({value:w.ID,label:w.Name})),individualOptions:a.map(w=>({value:w.ID,label:w.Name})),employeeData:n,vendorData:s,individualData:a,departmentOptions:i.map(w=>({value:w.ID,label:w.Name})),fundOptions:c.map(w=>({value:w.ID,label:w.Name})),projectOptions:l.map(w=>({value:w.ID,label:w.Title})),fiscalYearOptions:u.map(w=>({value:w.ID,label:w.Name})),particularsOptions:d.map(w=>({value:w.ID,label:w.Name})),unitOptions:m.map(w=>({value:w.ID,label:w.Name})),taxCodeOptions:f.map(w=>({value:w.ID,label:w.Name})),budgetOptions:h.map(w=>({value:w.ID,label:w.Name})),taxCodeFull:f,onCancel:C,onSubmitSuccess:C,onClose:C})})]})]})}const aU=t=>{const e=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE"],r=["TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"],n=["","TEN","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"];if(t===0)return"ZERO";let a="";const s=t.toString().split(".");let i=parseInt(s[0]);return i>=1e3&&(a+=e[Math.floor(i/1e3)]+" THOUSAND ",i%=1e3),i>=100&&(a+=e[Math.floor(i/100)]+" HUNDRED ",i%=100),i>=20?(a+=n[Math.floor(i/10)]+" ",i%=10):i>=10&&(a+=r[i-10]+" ",i=0),i>0&&(a+=e[i]+" "),s.length>1&&parseInt(s[1])&&(a+="AND "+parseInt(s[1])+"/100"),a.trim()},Vxe=oe({Year:re().typeError("Year must be a number").required("Year is required").min(1900,"Year must be after 1900").max(new Date().getFullYear(),"Year cannot be in the future"),PlaceIssued:O().required("Place of issue is required").min(2,"Place of issue must be at least 2 characters"),DateIssued:Me().required("Date issued is required").max(new Date,"Date issued cannot be in the future"),CCNumber:O().required("Certificate number is required").min(3,"Certificate number must be at least 3 characters"),TIN:O().matches(/^[0-9-]*$/,"TIN must contain only numbers and dashes").nullable(),LastName:O().required("Last Name is required").min(2,"Last Name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"Last Name can only contain letters, spaces, hyphens, and apostrophes"),FirstName:O().required("First name is required").min(2,"First name must be at least 2 characters").matches(/^[a-zA-Z\s-']+$/,"First name can only contain letters, spaces, hyphens, and apostrophes"),MiddleName:O().matches(/^[a-zA-Z\s-']*$/,"Middle name can only contain letters, spaces, hyphens, and apostrophes").nullable(),Address:O().required("Address is required").min(10,"Address must be at least 10 characters"),Citizenship:O().required("Citizenship is required"),ICRNo:O().matches(/^[0-9-]*$/,"ICR number must contain only numbers and dashes").nullable(),PlaceOfBirth:O().required("Place of birth is required").min(2,"Place of birth must be at least 2 characters"),BirthDate:Me().required("Date of birth is required").max(new Date,"Date of birth cannot be in the future").test("age","Must be at least 18 years old",function(t){if(!t)return!1;const e=new Date,r=new Date(t),n=e.getFullYear()-r.getFullYear(),a=e.getMonth()-r.getMonth();return a<0||a===0&&e.getDate()<r.getDate()?n-1>=18:n>=18}),CivilStatus:O().required("Civil status is required"),Occupation:O().required("Profession/Occupation is required").min(2,"Profession must be at least 2 characters"),Gender:O().required("Sex is required"),HeightFeet:re().typeError("Feet must be a number").required("Feet is required").min(3,"Minimum height is 3 feet").max(8,"Maximum height is 8 feet").integer("Feet must be a whole number"),HeightInches:re().typeError("Inches must be a number").required("Inches is required").min(0,"Inches cannot be negative").max(11,"Inches must be between 0 and 11").test("total-height",`Total height must be between 3'0" and 8'11"`,function(t){const e=this.parent.HeightFeet;if(!e||t===void 0)return!0;const r=e*12+t;return r>=36&&r<=107}),Weight:re().typeError("Weight must be a number").required("Weight is required").min(30,"Weight must be at least 30 kg").max(300,"Weight must not exceed 300 kg"),BasicTax:re().required("Basic tax is required").min(0,"Basic tax cannot be negative").max(1e4,"Basic tax cannot exceed 10,000"),BusinessEarnings:re().typeError("Must be a number").min(0,"Gross receipts cannot be negative").nullable(),BusinessTaxDue:re().typeError("Must be a number").min(0,"Gross receipts tax cannot be negative").nullable(),OccupationEarnings:re().min(0,"Salaries cannot be negative").nullable(),OccupationTaxDue:re().min(0,"Salaries tax cannot be negative").nullable(),IncomeProperty:re().min(0,"Real property income cannot be negative").nullable(),PropertyTaxDue:re().min(0,"Real property tax cannot be negative").nullable(),Total:re().required("Total tax is required").min(0,"Total tax cannot be negative").max(1e4,"Total tax cannot exceed 10,000"),Interest:re().min(0,"Interest cannot be negative").max(100,"Interest cannot exceed 100%").nullable(),AmountReceived:re().required("Total amount paid is required").min(0,"Total amount paid cannot be negative"),Remarks:O().max(500,"Remarks cannot exceed 500 characters").nullable(),AmountinWords:O().max(500,"Amount in words cannot exceed 500 characters")}),$$=({selectedCustomer:t=null,initialData:e=null,onCancel:r,onSubmitForm:n,isReadOnly:a=!1})=>{const s=[{value:"Afghan",label:"Afghan"},{value:"Filipino",label:"Filipino"},{value:"American",label:"American"},{value:"Other",label:"Other"}],i=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],l=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],c=y=>{if(!y)return"";const x=parseFloat(y);return Math.floor(x/12).toString()},u=y=>{if(!y)return"";const x=parseFloat(y);return Math.round(x%12).toString()},f=tt({initialValues:(()=>{const y=(e==null?void 0:e.Customer)||t,x=(y==null?void 0:y.Height)||"",p=x?c(x):"",b=x?u(x):"";return{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",TIN:(e==null?void 0:e.TIN)||(y==null?void 0:y.TIN)||"",LastName:(y==null?void 0:y.LastName)||"",FirstName:(y==null?void 0:y.FirstName)||"",MiddleName:(y==null?void 0:y.MiddleName)||"",Address:(y==null?void 0:y.StreetAddress)||"",Citizenship:(y==null?void 0:y.Citizenship)||"",ICRNo:(y==null?void 0:y.ICRNumber)||"",PlaceOfBirth:(y==null?void 0:y.PlaceofBirth)||"",CivilStatus:(y==null?void 0:y.CivilStatus)||"",Occupation:(y==null?void 0:y.Occupation)||"",Gender:(y==null?void 0:y.Gender)||"",HeightFeet:p,HeightInches:b,Weight:(y==null?void 0:y.Weight)||"",BirthDate:(y==null?void 0:y.Birthdate)||"",BasicTax:(e==null?void 0:e.BasicTax)||"",BusinessEarnings:(e==null?void 0:e.BusinessEarnings)||"",BusinessTaxDue:(e==null?void 0:e.BusinessTaxDue)||"",OccupationEarnings:(e==null?void 0:e.OccupationEarnings)||"",OccupationTaxDue:(e==null?void 0:e.OccupationTaxDue)||"",IncomeProperty:(e==null?void 0:e.IncomeProperty)||"",PropertyTaxDue:(e==null?void 0:e.PropertyTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountReceived:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""}})(),validationSchema:Vxe,onSubmit:y=>{const p=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",ID:e.ID,CustomerID:e.CustomerID,...m(y)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...m(y)};n(p)}}),m=y=>{const x={...y,Year:String(y.Year),Height:String(y.Height),Weight:String(y.Weight),InputOne:Number(y.BusinessEarnings),InputTwo:Number(y.OccupationEarnings),InputThree:Number(y.IncomeProperty),OutputOne:Number(y.BusinessTaxDue),OutputTwo:Number(y.OccupationTaxDue),OutputThree:Number(y.PropertyTaxDue),Municipality:y.PlaceIssued,AmountPaid:Number(y.AmountReceived),Words:y.AmountinWords,Profession:y.Occupation};return delete x.BusinessEarnings,delete x.OccupationEarnings,delete x.IncomeProperty,delete x.BusinessTaxDue,delete x.OccupationTaxDue,delete x.PropertyTaxDue,delete x.PlaceIssued,delete x.AmountReceived,delete x.AmountinWords,delete x.Occupation,x},h=y=>({name:y,value:f.values[y]||"",onChange:f.handleChange,onBlur:f.handleBlur,error:f.touched[y]&&f.errors[y],disabled:a});v.useEffect(()=>{g()},[f.values.AmountReceived]);const g=()=>{const y=f.values.Total,x=aU(y);f.setFieldValue("AmountinWords",x)};return o.jsx("div",{className:"min-h-screen",children:o.jsxs("form",{onSubmit:f.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(wO,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-6 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(A,{label:"Year",...h("Year"),type:"number",disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Year&&f.errors.Year,touched:f.touched.Year,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Place of Issue",...h("PlaceIssued"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceIssued&&f.errors.PlaceIssued,touched:f.touched.PlaceIssued,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Date Issued",...h("DateIssued"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.DateIssued&&f.errors.DateIssued,touched:f.touched.DateIssued,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"OR No.",...h("CCNumber"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600",error:f.touched.CCNumber&&f.errors.CCNumber,touched:f.touched.CCNumber,required:!0})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(A,{label:"TIN (if Any)",...h("TIN"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"000-000-000-000",error:f.touched.TIN&&f.errors.TIN,touched:f.touched.TIN})}),o.jsx("div",{className:"hidden md:block"}),o.jsx("div",{className:"hidden lg:block"}),o.jsx("div",{className:"bg-gray-100 text-center px-3 py-1 text-sm font-medium flex items-center justify-center",children:"TAXPAYER'S COPY"})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(_v,{className:"h-5 w-5"}),"Personal Information"]})}),o.jsxs("div",{className:"p-6 pt-2",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsx("div",{children:o.jsx(A,{label:"Last Name",...h("LastName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.LastName&&f.errors.LastName,touched:f.touched.LastName})}),o.jsx("div",{children:o.jsx(A,{label:"First Name",...h("FirstName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.FirstName&&f.errors.FirstName,touched:f.touched.FirstName})}),o.jsx("div",{children:o.jsx(A,{label:"Middle Name",...h("MiddleName"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.MiddleName&&f.errors.MiddleName,touched:f.touched.MiddleName})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(A,{label:"Address",...h("Address"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Address&&f.errors.Address,touched:f.touched.Address,required:!0}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(A,{label:"Citizenship",...h("Citizenship"),type:"select",options:s,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Citizenship&&f.errors.Citizenship,touched:f.touched.Citizenship,required:!0}),o.jsx(A,{label:"ICR No.",...h("ICRNo"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.ICRNo&&f.errors.ICRNo,touched:f.touched.ICRNo}),o.jsx(A,{label:"Place of Birth",...h("PlaceOfBirth"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.PlaceOfBirth&&f.errors.PlaceOfBirth,touched:f.touched.PlaceOfBirth,required:!0}),o.jsx(A,{label:"Date of Birth",...h("BirthDate"),type:"date",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",required:!0,error:f.touched.BirthDate&&f.errors.BirthDate,touched:f.touched.BirthDate})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{children:o.jsx(A,{label:"Civil Status",...h("CivilStatus"),type:"radio",options:i,error:f.touched.CivilStatus&&f.errors.CivilStatus,touched:f.touched.CivilStatus,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Profession/Occupation",...h("Occupation"),className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Occupation&&f.errors.Occupation,touched:f.touched.Occupation,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Sex",...h("Gender"),type:"radio",options:l,error:f.touched.Gender&&f.errors.Gender,touched:f.touched.Gender,required:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{children:o.jsx(A,{label:"Height (feet)",...h("HeightFeet"),type:"text",min:"3",max:"8",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightFeet&&f.errors.HeightFeet,touched:f.touched.HeightFeet,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Height (inches)",...h("HeightInches"),type:"text",min:"0",max:"11",step:"1",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.HeightInches&&f.errors.HeightInches,touched:f.touched.HeightInches,required:!0})}),o.jsx("div",{children:o.jsx(A,{label:"Weight (kg)",...h("Weight"),type:"text",min:"30",max:"300",className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500",error:f.touched.Weight&&f.errors.Weight,touched:f.touched.Weight,required:!0})})]})]})]})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(Hq,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-6 pt-2",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. Basic Community Tax (5.00) or Exempted (1.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsx("div",{children:o.jsx(A,{label:"Taxable Amount:",...h("BasicTax"),type:"text",min:"0",step:"0.01",className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500",error:f.touched.BasicTax&&f.errors.BasicTax,touched:f.touched.BasicTax,required:!0})})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. Additional Community Tax (tax not exceed 5,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. Gross receipts or earnings derived from business during the preceding year (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(A,{label:"Taxable Amount:",...h("BusinessEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.BusinessEarnings&&f.errors.BusinessEarnings,touched:f.touched.BusinessEarnings})}),o.jsx("div",{children:o.jsx(A,{label:"Community Due Amount:",...h("BusinessTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.BusinessTaxDue&&f.errors.BusinessTaxDue,touched:f.touched.BusinessTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. Salaries or gross receipt or earnings derived from exercise of Occupation or pursuit of any occupation (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(A,{label:"Taxable Amount:",...h("OccupationEarnings"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.OccupationEarnings&&f.errors.OccupationEarnings,touched:f.touched.OccupationEarnings})}),o.jsx("div",{children:o.jsx(A,{label:"Community Due Amount:",...h("OccupationTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.OccupationTaxDue&&f.errors.OccupationTaxDue,touched:f.touched.OccupationTaxDue})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"3. Income from real property (1.00 for every 1,000)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{children:o.jsx(A,{label:"Taxable Amount:",...h("IncomeProperty"),type:"text",min:"0",step:"0.01",className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount",error:f.touched.IncomeProperty&&f.errors.IncomeProperty,touched:f.touched.IncomeProperty})}),o.jsx("div",{children:o.jsx(A,{label:"Community Due Amount:",...h("PropertyTaxDue"),type:"text",min:"0",step:"0.01",className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax",error:f.touched.PropertyTaxDue&&f.errors.PropertyTaxDue,touched:f.touched.PropertyTaxDue})})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Total"}),o.jsx(A,{...h("Total"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Total&&f.errors.Total,touched:f.touched.Total})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"Interest %"}),o.jsx(A,{...h("Interest"),type:"text",min:"0",max:"100",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.Interest&&f.errors.Interest,touched:f.touched.Interest})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"Total Amount Paid"}),o.jsx(A,{...h("AmountReceived"),type:"text",min:"0",step:"0.01",className:"w-full text-right font-mono bg-white/20 border-white/30 text-white placeholder-white/70 font-bold text-lg px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-white/50",error:f.touched.AmountReceived&&f.errors.AmountReceived,touched:f.touched.AmountReceived})]}),o.jsx("div",{className:"flex items-end md:items-center justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsxs("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:[f.values.AmountinWords||"ZERO"," PESOS"]})]})})]})}),o.jsx(A,{label:"Remarks",...h("Remarks"),type:"textarea",className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(dt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",disabled:!f.isValid||f.isSubmitting,children:f.isSubmitting?"Generating...":"Generate Certificate"})]}),!f.isValid&&Object.keys(f.errors).length>0&&o.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Sk,{className:"h-5 w-5 text-red-500"})}),o.jsx("div",{className:"ml-3",children:o.jsxs("h3",{className:"text-sm font-medium text-red-800",children:["There ",Object.keys(f.errors).length===1?"is":"are"," ",Object.keys(f.errors).length," error",Object.keys(f.errors).length===1?"":"s"," in your form"]})})]})})]})})},Mm="https://staging-engine.testthelink.online",Uxe=[],lc=M("communityTax/fetchCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mm}/community-tax/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),tN=M("communityTax/fetchCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mm}/community-tax/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),ub=M("communityTax/addCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mm}/community-tax/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),rN=M("communityTax/updateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mm}/community-tax/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),db=M("communityTax/deleteCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Mm}/community-tax/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),sU=pe({name:"communityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(lc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(lc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(lc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community taxes",console.warn("Failed to fetch community taxes, using mock data.",e.error),e.records=Uxe}).addCase(tN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(tN.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(tN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch community tax record"}).addCase(ub.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ub.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(ub.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add community tax record",console.error("Failed to add community tax record:",e.error)}).addCase(rN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(rN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update community tax record",console.error("Failed to update community tax record:",e.error)}).addCase(db.pending,e=>{e.isLoading=!0,e.error=null}).addCase(db.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(db.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete community tax record",console.error("Failed to delete community tax record:",e.error)})}}),{clearCurrentCommunityTax:G7e}=sU.actions,zxe=sU.reducer;function Wxe(){const t=ue(),{records:e,isLoading:r}=V($=>$.communityTax),{customers:n,isLoading:a}=V($=>$.customers),[s,i]=v.useState("list"),[l,c]=v.useState(null),[u,d]=v.useState(""),[f,m]=v.useState(!1),[h,g]=v.useState({});v.useEffect(()=>{t(lc()),t(Da())},[t]);const y=()=>{c(null),i("form")},x=$=>{c($),i("details")},p=$=>{c($),i("form"),console.log("Edit certificate:",$),L($.CustomerID)},b=$=>{console.log("Print certificate:",$)},N=()=>{i("list"),c(null),g(null)},C=async $=>{try{await t(db($.ID)).unwrap(),t(lc())}catch(_){console.error("Error deleting certificate:",_)}},j=e==null?void 0:e.filter($=>{var B,U,D,R;const _=u.toLowerCase();return((B=$==null?void 0:$.LinkID)==null?void 0:B.toLowerCase().includes(_))||((U=$==null?void 0:$.CustomerName)==null?void 0:U.toLowerCase().includes(_))||((R=(D=$==null?void 0:$.Customer)==null?void 0:D.StreetAddress)==null?void 0:R.toLowerCase().includes(_))}),w=[{key:"LinkID",header:"Certificate No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Taxpayer Name",sortable:!0,className:"text-right"},{key:"Total",header:"Total Amount",sortable:!0,render:$=>S($),className:"text-right"},{key:"AmountReceived",header:"Received Amount",sortable:!0,render:$=>S($),className:"text-right"},{key:"InvoiceDate",header:"Date",sortable:!0,render:$=>new Date($).toLocaleDateString()},{key:"Employee",header:"Employee",sortable:!0},{key:"Status",header:"Status",sortable:!0,render:$=>T($)}],S=$=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format($||0),T=$=>{let _="bg-neutral-100 text-neutral-800";switch($){case"Requested":_="bg-success-100 text-success-800";break;case"Posted":_="bg-warning-100 text-warning-800";break;case"Cancelled":_="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_}`,children:$})},k=[{icon:Cm,title:"View",onClick:x,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Se,title:"Edit",onClick:p,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:ul,title:"Delete",onClick:C,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],I=()=>{m(!0)},E=()=>{m(!1)},P=async $=>{try{await t(ub($)).unwrap(),t(lc()),vr.success("Certificate saved successfully.")}catch(_){console.error("Error saving certificate:",_),vr.error("Failed to save certificate. Please try again.")}finally{N()}},L=$=>{const _=n.find(B=>B.ID===$);g(_)};return o.jsxs("div",{className:"container mx-auto p-2 sm:px-4 sm:py-8",children:[s==="list"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Community Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage community tax certificates"})]}),o.jsxs("button",{type:"button",onClick:y,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ye,{columns:w,data:j,actions:k,loading:r||a,onRowClick:x})})]}),s==="form"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:l?"Edit Community Tax Certificate (INDIVIDUAL)":"Community Tax Certificate (INDIVIDUAL)"}),o.jsx("p",{className:"text-gray-600",children:l?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[o.jsx(Sa,{options:(n==null?void 0:n.map($=>({label:$.Name,value:$.ID})))||[],placeholder:"Choose Citizen",selectedValue:h==null?void 0:h.ID,onSelect:L,label:"Choose Citizen",required:!0}),o.jsx("button",{type:"button",onClick:I,className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:h?o.jsx($$,{selectedCustomer:h,initialData:l,onCancel:N,onSubmitForm:P},h==null?void 0:h.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a Citizen first to start"," "]})})]}),s==="details"&&l&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6  gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:N,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>p(l),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>b(l),className:"btn btn-outline flex items-center",children:[o.jsx(tl,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx($$,{initialData:l,onCancel:N,isReadOnly:!0})})]}),o.jsx(ae,{isOpen:f,onClose:E,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}const Hxe=oe().shape({Year:O().required("Year is required").matches(/^\d{4}$/,"Year must be 4 digits"),PlaceIssued:O().required("Place of issue is required").max(100,"Place of issue must be less than 100 characters"),DateIssued:Me().required("Date issued is required").max(new Date,"Date cannot be in the future"),CCNumber:O().required("Certificate number is required").matches(/^[A-Za-z0-9-]+$/,"Only letters, numbers and hyphens allowed"),Name:O().required("Company name is required").max(200,"Company name must be less than 200 characters"),TIN:O().matches(/^\d{3}-\d{3}-\d{3}-\d{3}$|^\d{9}$|^$/,"TIN must be 9 digits or in XXX-XXX-XXX-XXX format"),Address:O().required("Business address is required").max(300,"Address must be less than 300 characters"),dateOfRegistration:Me().required("Registration date is required"),KindofOrganization:O().required("Organization type is required").oneOf(["Corporation","Partnership","Association"],"Invalid organization type"),PlaceofIncorporation:O().required("Place of incorporation is required"),NatureOfOrganization:O().required("Business nature is required"),BasicTax:re().typeError("Must be a number").min(0,"Cannot be negative").required("Basic tax is required"),assessedValueRealProperty:re().typeError("Must be a number").min(0,"Cannot be negative"),assessedValueTax:re().typeError("Must be a number").min(0,"Cannot be negative"),grossReceipts:re().typeError("Must be a number").min(0,"Cannot be negative"),grossReceiptsTax:re().typeError("Must be a number").min(0,"Cannot be negative"),Total:re().typeError("Must be a number").min(0,"Cannot be negative").required("Total is required"),Interest:re().typeError("Must be a number").min(0,"Cannot be negative"),AmountPaid:re().typeError("Must be a number").min(0,"Cannot be negative").required("Total amount paid is required"),Remarks:O().max(500,"Remarks must be less than 500 characters"),AmountinWords:O().max(500,"Amount in words cannot exceed 500 characters")}),R$=({selectedVendor:t=null,initialData:e=null,onBack:r,onSubmitSuccess:n,readOnly:a})=>{const s=[{value:"Corporation",label:"Corporation"},{value:"Partnership",label:"Partnership"},{value:"Association",label:"Association"}],i=(e==null?void 0:e.Customer)||t;console.log("Customer Source:",i);const l=tt({initialValues:{Year:(e==null?void 0:e.Year)||"",PlaceIssued:(e==null?void 0:e.PlaceIssued)||"",DateIssued:(e==null?void 0:e.InvoiceDate)||"",CCNumber:(e==null?void 0:e.InvoiceNumber)||"",Name:(e==null?void 0:e.CustomerName)||"",TIN:(e==null?void 0:e.TIN)||"",Address:(i==null?void 0:i.StreetAddress)||"",dateOfRegistration:(i==null?void 0:i.DateofRegistration)||"",KindofOrganization:(i==null?void 0:i.KindofOrganization)||"Corporation",PlaceofIncorporation:(i==null?void 0:i.PlaceofIncorporation)||"",NatureOfOrganization:(i==null?void 0:i.NatureOfOrganization)||"",BasicTax:(e==null?void 0:e.BasicTax)||0,assessedValueRealProperty:(e==null?void 0:e.BusinessEarnings)||"",assessedValueTax:(e==null?void 0:e.BusinessTaxDue)||"",grossReceipts:(e==null?void 0:e.OccupationEarnings)||"",grossReceiptsTax:(e==null?void 0:e.OccupationTaxDue)||"",Total:(e==null?void 0:e.Total)||"",Interest:(e==null?void 0:e.Interest)||"",AmountPaid:(e==null?void 0:e.AmountReceived)||"",Remarks:(e==null?void 0:e.Remarks)||"",AmountinWords:(e==null?void 0:e.AmountinWords)||""},validationSchema:Hxe,onSubmit:d=>{const m=!!e?{IsNew:"false",IsSelectedFromIndividual:"true",CustomerID:e==null?void 0:e.CustomerID,ID:e.ID,...c(d)}:{IsNew:"true",IsSelectedFromIndividual:"true",CustomerID:t==null?void 0:t.ID,...c(d)};console.log("Submitted values:",m),n(m)}}),c=d=>{const f={...d,InputOne:Number(d.assessedValueRealProperty),InputTwo:Number(d.grossReceipts),OutputOne:Number(d.assessedValueTax),OutputTwo:Number(d.grossReceiptsTax),BasicTax:Number(d.BasicTax),Total:Number(d.Total),AmountPaid:Number(d.AmountPaid),Interest:Number(d.Interest),Words:d.AmountinWords};return delete f.assessedValueRealProperty,delete f.assessedValueTax,delete f.grossReceipts,delete f.grossReceiptsTax,delete f.AmountinWords,f};v.useEffect(()=>{u()},[l.values.AmountPaid]);const u=()=>{const d=l.values.Total,f=aU(d);l.setFieldValue("AmountinWords",f)};return console.log("Formik Values:",l.errors),o.jsxs("div",{className:"min-h-screen",children:[o.jsxs("form",{onSubmit:l.handleSubmit,className:"max-w-6xl mx-auto space-y-6",children:[o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(wO,{className:"h-5 w-5"}),"Certificate Information"]})}),o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx(A,{label:"Year",name:"Year",value:l.values.Year,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.Year&&l.errors.Year?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Year}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Place of Issue (City/Mun/Province)",name:"PlaceIssued",value:l.values.PlaceIssued,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.PlaceIssued&&l.errors.PlaceIssued?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.PlaceIssued}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Date Issued",name:"DateIssued",type:"date",value:l.values.DateIssued,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.DateIssued&&l.errors.DateIssued?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.DateIssued}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Certificate No.",name:"CCNumber",value:l.values.CCNumber,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500 font-bold text-blue-600"}),l.touched.CCNumber&&l.errors.CCNumber?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.CCNumber}):null]})]}),o.jsx("div",{className:"text-right mb-4",children:o.jsx("span",{className:"bg-gray-100 px-3 py-1 text-sm font-medium",children:"TAXPAYER'S COPY"})})]})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(Wq,{className:"h-5 w-5"}),"Company Information"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(A,{label:"Company's Full Name",name:"Name",value:l.values.Name,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.Name&&l.errors.Name?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Name}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"TIN (if Any)",name:"TIN",value:l.values.TIN,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.TIN&&l.errors.TIN?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.TIN}):null]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(A,{label:o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(Zde,{className:"h-4 w-4"}),"Address of Principal Place of Business"]}),name:"Address",value:l.values.Address,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.Address&&l.errors.Address?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Address}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Date of Registration/Incorporation",name:"dateOfRegistration",type:"date",value:l.values.dateOfRegistration,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.dateOfRegistration&&l.errors.dateOfRegistration?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.dateOfRegistration}):null]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx(A,{label:"Kind of Organization",name:"KindofOrganization",type:"radio",value:l.values.KindofOrganization,onChange:l.handleChange,options:s,disabled:a}),l.touched.KindofOrganization&&l.errors.KindofOrganization?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.KindofOrganization}):null]}),o.jsxs("div",{children:[o.jsx(A,{label:"Place of Incorporation",name:"PlaceofIncorporation",value:l.values.PlaceofIncorporation,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.PlaceofIncorporation&&l.errors.PlaceofIncorporation?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.PlaceofIncorporation}):null]})]}),o.jsxs("div",{children:[o.jsx(A,{label:"Kind/Nature of Business",name:"NatureOfOrganization",value:l.values.NatureOfOrganization,onChange:l.handleChange,disabled:a,className:"border-blue-200 focus:border-blue-500 focus:ring-blue-500"}),l.touched.NatureOfOrganization&&l.errors.NatureOfOrganization?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.NatureOfOrganization}):null]})]})})]}),o.jsxs("div",{className:"rounded-lg border bg-white text-card-foreground shadow-lg bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"flex flex-col space-y-1.5 p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:o.jsxs("h3",{className:"text-2xl font-semibold leading-none tracking-tight flex items-center gap-2",children:[o.jsx(Hq,{className:"h-5 w-5"}),"Tax Assessment"]})}),o.jsx("div",{className:"p-2 sm:p-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"A. BASIC COMMUNITY TAX ( 500.00)"}),o.jsx("div",{className:"flex justify-end gap-3",children:o.jsxs("div",{children:[o.jsx(A,{name:"BasicTax",label:"Community Due Amount:",value:l.values.BasicTax,onChange:l.handleChange,disabled:a,className:"w-32 text-right font-mono border-blue-200 focus:border-blue-500"}),l.touched.BasicTax&&l.errors.BasicTax?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.BasicTax}):null]})})]}),o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-lg text-blue-900 mb-4",children:"B. ADDITIONAL COMMUNITY TAX (tax not exceed 10,000.00)"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"1. ASSESSED VALUE OF REAL PROPERTY OWNED IN THE PHILIPPINES (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{children:[o.jsx(A,{name:"assessedValueRealProperty",value:l.values.assessedValueRealProperty,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),l.touched.assessedValueRealProperty&&l.errors.assessedValueRealProperty?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.assessedValueRealProperty}):null]}),o.jsxs("div",{children:[o.jsx(A,{name:"assessedValueTax",value:l.values.assessedValueTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),l.touched.assessedValueTax&&l.errors.assessedValueTax?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.assessedValueTax}):null]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 items-center py-3 border-b border-blue-200",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("p",{className:"text-sm text-gray-700",children:"2. GROSS RECEIPTS, INCLUDING DIVIDENDS/EARNINGS DERIVED FROM BUSINESS IN THE PHIL. DURING THE PRECEDING YEAR (2.00 FOR EVERY 5,000.00)"})}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{children:[o.jsx(A,{name:"grossReceipts",value:l.values.grossReceipts,onChange:l.handleChange,label:"Taxable Amount:",disabled:a,className:"text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Amount"}),l.touched.grossReceipts&&l.errors.grossReceipts?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.grossReceipts}):null]}),o.jsxs("div",{children:[o.jsx(A,{name:"grossReceiptsTax",value:l.values.grossReceiptsTax,onChange:l.handleChange,label:"Community Due Amount:",disabled:a,className:"w-24 text-right font-mono border-blue-200 focus:border-blue-500",placeholder:"Tax"}),l.touched.grossReceiptsTax&&l.errors.grossReceiptsTax?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.grossReceiptsTax}):null]})]})]})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[o.jsx("div",{className:"md:w-1/3 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-1 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"TOTAL"}),o.jsx(A,{name:"Total",value:l.values.Total,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),l.touched.Total&&l.errors.Total?o.jsx("div",{className:"text-red-300 text-sm mt-1",children:l.errors.Total}):null]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-medium block",children:"INTEREST %"}),o.jsx(A,{name:"Interest",value:l.values.Interest,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),l.touched.Interest&&l.errors.Interest?o.jsx("div",{className:"text-red-300 text-sm mt-1",children:l.errors.Interest}):null]})]})}),o.jsx("div",{className:"md:w-1/3",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"font-bold text-lg block",children:"TOTAL AMOUNT PAID"}),o.jsx(A,{name:"AmountPaid",value:l.values.AmountPaid,onChange:l.handleChange,disabled:a,className:"w-full px-3 py-2 rounded bg-white/20 border border-white/30 text-right font-mono font-bold text-lg text-white focus:ring-2 focus:ring-white/50 focus:outline-none"}),l.touched.AmountPaid&&l.errors.AmountPaid?o.jsx("div",{className:"text-red-300 text-sm mt-1",children:l.errors.AmountPaid}):null]})}),o.jsx("div",{className:"md:w-1/3 flex justify-center md:justify-end",children:o.jsxs("div",{className:"text-center md:text-right w-full md:w-auto",children:[o.jsx("p",{className:"text-sm text-white/80 mb-1",children:"(in words)"}),o.jsxs("p",{className:"font-bold text-lg bg-white/10 px-3 py-2 rounded-lg inline-block w-full md:w-auto",children:[l.values.AmountinWords||"ZERO"," PESOS"]})]})})]})}),o.jsxs("div",{children:[o.jsx(A,{label:"Remarks",name:"Remarks",type:"textarea",value:l.values.Remarks,onChange:l.handleChange,disabled:a,className:"min-h-24 border-blue-200 focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter any additional Remarks here...",rows:3}),l.touched.Remarks&&l.errors.Remarks?o.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.Remarks}):null]})]})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Close"}),o.jsx(dt,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white text-lg rounded-md transition-colors",children:l.isSubmitting?"Generating...":"Generate Certificate"})]})]}),!l.isValid&&Object.keys(l.errors).length>0&&o.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Sk,{className:"h-5 w-5 text-red-500"})}),o.jsx("div",{className:"ml-3",children:o.jsxs("h3",{className:"text-sm font-medium text-red-800",children:["There ",Object.keys(l.errors).length===1?"is":"are"," ",Object.keys(l.errors).length," error",Object.keys(l.errors).length===1?"":"s"," in your form"]})})]})})]})},Lm="https://staging-engine.testthelink.online",Gxe=[],cc=M("corporateCommunityTax/fetchCorporateCommunityTaxes",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lm}/corporate-ctc/getall`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community taxes");return a}catch(r){return e.rejectWithValue(r.message)}}),nN=M("corporateCommunityTax/fetchCorporateCommunityTaxById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lm}/corporate-ctc/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),fb=M("corporateCommunityTax/addCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lm}/corporate-ctc/save`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),aN=M("corporateCommunityTax/updateCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lm}/corporate-ctc/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update corporate community tax record");return a}catch(r){return e.rejectWithValue(r.message)}}),mb=M("corporateCommunityTax/deleteCorporateCommunityTax",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Lm}/corporate-ctc/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete corporate community tax record")}return t}catch(r){return e.rejectWithValue(r.message)}}),oU=pe({name:"corporateCommunityTax",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentCorporateCommunityTax:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(cc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cc.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(cc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community taxes",console.warn("Failed to fetch corporate community taxes, using mock data.",e.error),e.records=Gxe}).addCase(nN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nN.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(nN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch corporate community tax record"}).addCase(fb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(fb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add corporate community tax record",console.error("Failed to add corporate community tax record:",e.error)}).addCase(aN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(aN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.id===r.payload.id&&(e.currentRecord=r.payload)}).addCase(aN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update corporate community tax record",console.error("Failed to update corporate community tax record:",e.error)}).addCase(mb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.id!==r.payload),e.currentRecord&&e.currentRecord.id===r.payload&&(e.currentRecord=null)}).addCase(mb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete corporate community tax record",console.error("Failed to delete corporate community tax record:",e.error)})}}),{clearCurrentCorporateCommunityTax:Y7e}=oU.actions,Yxe=oU.reducer;function Kxe(){const[t,e]=v.useState("list"),[r,n]=v.useState(null),[a,s]=v.useState(!1),[i,l]=v.useState(null),{records:c,isLoading:u}=V(E=>E.corporateCommunityTax),{vendorDetails:d,isLoading:f}=V(E=>E.vendorDetails),m=ue();v.useEffect(()=>{m(ms()),m(cc())},[m]);const h=()=>{n(null),e("form")},g=E=>{n(E),e("details")},y=E=>{n(E),console.log("Edit certificate:",E),I(E.CustomerID),e("form")},x=E=>{console.log("Print certificate:",E)},p=()=>{e("list"),n(null),l(null)},b=[{key:"CustomerID",header:"Customer ID",sortable:!0,className:"font-medium text-neutral-900"},{key:"CustomerName",header:"Customer Name",sortable:!0},{key:"Total",header:"Total",sortable:!0,render:E=>N(E),className:"text-right"},{key:"AmountReceived",header:"Amount Received",sortable:!0,render:E=>N(E),className:"text-right"},{key:"Earnings",header:"Earnings",sortable:!0,render:E=>N(E),className:"text-right"},{key:"TaxDue",header:"Tax Due",sortable:!0,render:E=>N(E),className:"text-right"},{key:"Year",header:"Year",sortable:!0},{key:"IssuedBy",header:"Issued By",sortable:!0},{key:"Status",header:"Status",render:E=>C(E)}],N=E=>E>=1e6?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(E):new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(E),C=E=>{let P="bg-neutral-100 text-neutral-800";switch(E){case"Posted":P="bg-green-100 text-green-800";break;case"Requested":P="bg-yellow-100 text-yellow-800";break;case"Cancelled":P="bg-red-100 text-red-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P}`,children:E})},w=[{icon:Cm,title:"View",onClick:g,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Se,title:"Edit",onClick:y,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:ul,title:"Delete",onClick:async E=>{try{await m(mb(E.ID)).unwrap(),m(cc()),console.log("Certificate deleted and data reFetched"),vr.success("Certificate deleted successfully.")}catch(P){console.error("Error deleting certificate:",P),vr.error("Failed to delete certificate. Please try again.")}finally{p()}},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}],S=()=>{s(!0)},T=()=>{s(!1)},k=async E=>{try{await m(fb(E)).unwrap(),m(cc()),vr.success("Certificate saved successfully.")}catch(P){console.error("Error saving certificate:",P),vr.error("Failed to save certificate. Please try again.")}finally{p()}},I=E=>{const P=d.find(L=>L.ID===E);l(P),console.log("Selected vendor:",P)};return o.jsxs("div",{className:"container mx-auto  sm:px-4 sm:py-8",children:[t==="list"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Corporation Tax Certificate"}),o.jsx("p",{className:"text-gray-600",children:"Manage corporation tax certificates"})]}),o.jsxs("button",{type:"button",onClick:h,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Certificate"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ye,{columns:b,data:c,actions:w,loading:f||u,onRowClick:g})})]}),t==="form"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-6 flex-col  gap-8",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:p,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:r?"Edit Community Tax Certificate (CORPORATE)":"Community Tax Certificate (CORPORATE)"}),o.jsx("p",{className:"text-gray-600",children:r?"Update the certificate details":"Fill out the form to create a new certificate"})]})]}),o.jsxs("div",{className:"flex items-end gap-2 justify-end w-full",children:[o.jsx(Sa,{options:(d==null?void 0:d.map(E=>({label:E.Name,value:E.ID})))||[],selectedValue:i==null?void 0:i.ID,label:"Choose Vendor",placeholder:"Choose Vendor",onSelect:I,required:!0}),o.jsx("button",{type:"button",onClick:S,className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:i?o.jsx(R$,{selectedVendor:i,initialData:r,onCancel:p,onSubmitSuccess:k,readOnly:!1},i==null?void 0:i.ID):o.jsxs("h2",{className:"text-2xl font-bold text-gray-800 text-center h-[50vh]",children:["Please select a vendor first to start"," "]})})]}),t==="details"&&r&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:p,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Certificate Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage certificate details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>y(r),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>x(r),className:"btn btn-outline flex items-center",children:[o.jsx(tl,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(R$,{initialData:r,readOnly:!0,onBack:p})})]}),o.jsx(ae,{isOpen:a,onClose:T,title:"General Ledger View",size:"lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fund Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ledger Item"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Code"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Debit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credit"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Document Type Name"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"4-01-01-050"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"General Fund"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Cash - Local Tr..."}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"1-01-01-010"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"96.00"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"0"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Community Tax"})]})]})]})})})]})}function Jxe(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),a=[{id:1,receiptNumber:"MC-2024-01-0001",date:"2024-01-15",stallNumber:"A-101",stallType:"Dry Goods",stallOwner:"John Smith",period:"January 2024",amount:1500,status:"Paid"},{id:2,receiptNumber:"MC-2024-01-0002",date:"2024-01-15",stallNumber:"B-203",stallType:"Wet Market",stallOwner:"Jane Doe",period:"January 2024",amount:2e3,status:"Paid"}],s=m=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(m),i=[{key:"receiptNumber",header:"Receipt No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"date",header:"Date",sortable:!0,render:m=>new Date(m).toLocaleDateString()},{key:"stallNumber",header:"Stall No.",sortable:!0},{key:"stallType",header:"Type",sortable:!0},{key:"stallOwner",header:"Owner",sortable:!0},{key:"period",header:"Period",sortable:!0},{key:"amount",header:"Amount",sortable:!0,render:m=>s(m),className:"text-right"},{key:"status",header:"Status",sortable:!0,render:m=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m==="Paid"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:m})}],l=[{icon:Cm,title:"View",onClick:m=>u(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Se,title:"Edit",onClick:m=>d(m),className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{n(m),e(!0)},f=async(m,{setSubmitting:h})=>{try{await Z_.validate(m,{abortEarly:!1}),console.log("Form data:",m),e(!1)}catch(g){console.error("Validation errors:",g.errors)}finally{h(!1)}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Market Collections"}),o.jsx("p",{children:"Manage market stall rental collections"})]}),o.jsxs("button",{type:"button",onClick:c,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"New Collection"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:i,data:a,actions:l,pagination:!0})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Collection":"New Collection",size:"lg",children:o.jsx($e,{initialValues:{date:new Date().toISOString().split("T")[0],stallNumber:"",stallType:"",stallOwner:"",period:"",amount:"",...r},validationSchema:Z_,onSubmit:f,children:({values:m,errors:h,touched:g,handleChange:y,handleBlur:x,isSubmitting:p})=>o.jsxs(Be,{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Date",name:"date",type:"date",required:!0,value:m.date,onChange:y,onBlur:x,error:h.date,touched:g.date}),o.jsx(A,{label:"Period",name:"period",type:"select",required:!0,value:m.period,onChange:y,onBlur:x,error:h.period,touched:g.period,options:[{value:"January 2024",label:"January 2024"},{value:"February 2024",label:"February 2024"},{value:"March 2024",label:"March 2024"}]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Stall Number",name:"stallNumber",type:"text",required:!0,placeholder:"Enter stall number",value:m.stallNumber,onChange:y,onBlur:x,error:h.stallNumber,touched:g.stallNumber}),o.jsx(A,{label:"Stall Type",name:"stallType",type:"select",required:!0,value:m.stallType,onChange:y,onBlur:x,error:h.stallType,touched:g.stallType,options:[{value:"Dry Goods",label:"Dry Goods"},{value:"Wet Market",label:"Wet Market"},{value:"Food Stall",label:"Food Stall"}]})]}),o.jsx(A,{label:"Stall Owner",name:"stallOwner",type:"text",required:!0,placeholder:"Enter stall owner name",value:m.stallOwner,onChange:y,onBlur:x,error:h.stallOwner,touched:g.stallOwner}),o.jsx(A,{label:"Amount",name:"amount",type:"number",required:!0,placeholder:"0.00",value:m.amount,onChange:y,onBlur:x,error:h.amount,touched:g.amount,min:"0",step:"0.01"}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:p,className:"btn btn-primary",children:p?"Saving...":r?"Update":"Save"})]})]})})})]})}function iU(t,e){return function(){return t.apply(e,arguments)}}const{toString:Xxe}=Object.prototype,{getPrototypeOf:FO}=Object,{iterator:Nj,toStringTag:lU}=Symbol,Cj=(t=>e=>{const r=Xxe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ma=t=>(t=t.toLowerCase(),e=>Cj(e)===t),Sj=t=>e=>typeof e===t,{isArray:au}=Array,$f=Sj("undefined");function Qxe(t){return t!==null&&!$f(t)&&t.constructor!==null&&!$f(t.constructor)&&Qr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const cU=ma("ArrayBuffer");function Zxe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&cU(t.buffer),e}const eve=Sj("string"),Qr=Sj("function"),uU=Sj("number"),Aj=t=>t!==null&&typeof t=="object",tve=t=>t===!0||t===!1,hb=t=>{if(Cj(t)!=="object")return!1;const e=FO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(lU in t)&&!(Nj in t)},rve=ma("Date"),nve=ma("File"),ave=ma("Blob"),sve=ma("FileList"),ove=t=>Aj(t)&&Qr(t.pipe),ive=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Qr(t.append)&&((e=Cj(t))==="formdata"||e==="object"&&Qr(t.toString)&&t.toString()==="[object FormData]"))},lve=ma("URLSearchParams"),[cve,uve,dve,fve]=["ReadableStream","Request","Response","Headers"].map(ma),mve=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fm(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),au(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let l;for(n=0;n<i;n++)l=s[n],e.call(null,t[l],l,t)}}function dU(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fU=t=>!$f(t)&&t!==ji;function GA(){const{caseless:t}=fU(this)&&this||{},e={},r=(n,a)=>{const s=t&&dU(e,a)||a;hb(e[s])&&hb(n)?e[s]=GA(e[s],n):hb(n)?e[s]=GA({},n):au(n)?e[s]=n.slice():e[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Fm(arguments[n],r);return e}const hve=(t,e,r,{allOwnKeys:n}={})=>(Fm(e,(a,s)=>{r&&Qr(a)?t[s]=iU(a,r):t[s]=a},{allOwnKeys:n}),t),pve=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),gve=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},yve=(t,e,r,n)=>{let a,s,i;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),s=a.length;s-- >0;)i=a[s],(!n||n(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=r!==!1&&FO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},bve=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},xve=t=>{if(!t)return null;if(au(t))return t;let e=t.length;if(!uU(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},vve=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&FO(Uint8Array)),jve=(t,e)=>{const n=(t&&t[Nj]).call(t);let a;for(;(a=n.next())&&!a.done;){const s=a.value;e.call(t,s[0],s[1])}},wve=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Nve=ma("HTMLFormElement"),Cve=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),M$=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Sve=ma("RegExp"),mU=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Fm(r,(a,s)=>{let i;(i=e(a,s,t))!==!1&&(n[s]=i||a)}),Object.defineProperties(t,n)},Ave=t=>{mU(t,(e,r)=>{if(Qr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Qr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Tve=(t,e)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return au(t)?n(t):n(String(t).split(e)),r},kve=()=>{},Ove=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Eve(t){return!!(t&&Qr(t.append)&&t[lU]==="FormData"&&t[Nj])}const Ive=t=>{const e=new Array(10),r=(n,a)=>{if(Aj(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const s=au(n)?[]:{};return Fm(n,(i,l)=>{const c=r(i,a+1);!$f(c)&&(s[l]=c)}),e[a]=void 0,s}}return n};return r(t,0)},Pve=ma("AsyncFunction"),Dve=t=>t&&(Aj(t)||Qr(t))&&Qr(t.then)&&Qr(t.catch),hU=((t,e)=>t?setImmediate:e?((r,n)=>(ji.addEventListener("message",({source:a,data:s})=>{a===ji&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ji.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Qr(ji.postMessage)),_ve=typeof queueMicrotask<"u"?queueMicrotask.bind(ji):typeof process<"u"&&process.nextTick||hU,$ve=t=>t!=null&&Qr(t[Nj]),Q={isArray:au,isArrayBuffer:cU,isBuffer:Qxe,isFormData:ive,isArrayBufferView:Zxe,isString:eve,isNumber:uU,isBoolean:tve,isObject:Aj,isPlainObject:hb,isReadableStream:cve,isRequest:uve,isResponse:dve,isHeaders:fve,isUndefined:$f,isDate:rve,isFile:nve,isBlob:ave,isRegExp:Sve,isFunction:Qr,isStream:ove,isURLSearchParams:lve,isTypedArray:vve,isFileList:sve,forEach:Fm,merge:GA,extend:hve,trim:mve,stripBOM:pve,inherits:gve,toFlatObject:yve,kindOf:Cj,kindOfTest:ma,endsWith:bve,toArray:xve,forEachEntry:jve,matchAll:wve,isHTMLForm:Nve,hasOwnProperty:M$,hasOwnProp:M$,reduceDescriptors:mU,freezeMethods:Ave,toObjectSet:Tve,toCamelCase:Cve,noop:kve,toFiniteNumber:Ove,findKey:dU,global:ji,isContextDefined:fU,isSpecCompliantForm:Eve,toJSONObject:Ive,isAsyncFn:Pve,isThenable:Dve,setImmediate:hU,asap:_ve,isIterable:$ve};function Le(t,e,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Q.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const pU=Le.prototype,gU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{gU[t]={value:t}});Object.defineProperties(Le,gU);Object.defineProperty(pU,"isAxiosError",{value:!0});Le.from=(t,e,r,n,a,s)=>{const i=Object.create(pU);return Q.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Le.call(i,t.message,e,r,n,a),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const Rve=null;function YA(t){return Q.isPlainObject(t)||Q.isArray(t)}function yU(t){return Q.endsWith(t,"[]")?t.slice(0,-2):t}function L$(t,e,r){return t?t.concat(e).map(function(a,s){return a=yU(a),!r&&s?"["+a+"]":a}).join(r?".":""):e}function Mve(t){return Q.isArray(t)&&!t.some(YA)}const Lve=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Tj(t,e,r){if(!Q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!Q.isUndefined(x[y])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Q.isDate(g))return g.toISOString();if(Q.isBoolean(g))return g.toString();if(!c&&Q.isBlob(g))throw new Le("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(g)||Q.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,x){let p=g;if(g&&!x&&typeof g=="object"){if(Q.endsWith(y,"{}"))y=n?y:y.slice(0,-2),g=JSON.stringify(g);else if(Q.isArray(g)&&Mve(g)||(Q.isFileList(g)||Q.endsWith(y,"[]"))&&(p=Q.toArray(g)))return y=yU(y),p.forEach(function(N,C){!(Q.isUndefined(N)||N===null)&&e.append(i===!0?L$([y],C,s):i===null?y:y+"[]",u(N))}),!1}return YA(g)?!0:(e.append(L$(x,y,s),u(g)),!1)}const f=[],m=Object.assign(Lve,{defaultVisitor:d,convertValue:u,isVisitable:YA});function h(g,y){if(!Q.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));f.push(g),Q.forEach(g,function(p,b){(!(Q.isUndefined(p)||p===null)&&a.call(e,p,Q.isString(b)?b.trim():b,y,m))===!0&&h(p,y?y.concat(b):[b])}),f.pop()}}if(!Q.isObject(t))throw new TypeError("data must be an object");return h(t),e}function F$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function BO(t,e){this._pairs=[],t&&Tj(t,this,e)}const bU=BO.prototype;bU.append=function(e,r){this._pairs.push([e,r])};bU.toString=function(e){const r=e?function(n){return e.call(this,n,F$)}:F$;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Fve(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xU(t,e,r){if(!e)return t;const n=r&&r.encode||Fve;Q.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(e,r):s=Q.isURLSearchParams(e)?e.toString():new BO(e,r).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class B${constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const vU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bve=typeof URLSearchParams<"u"?URLSearchParams:BO,qve=typeof FormData<"u"?FormData:null,Vve=typeof Blob<"u"?Blob:null,Uve={isBrowser:!0,classes:{URLSearchParams:Bve,FormData:qve,Blob:Vve},protocols:["http","https","file","blob","url","data"]},qO=typeof window<"u"&&typeof document<"u",KA=typeof navigator=="object"&&navigator||void 0,zve=qO&&(!KA||["ReactNative","NativeScript","NS"].indexOf(KA.product)<0),Wve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hve=qO&&window.location.href||"http://localhost",Gve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qO,hasStandardBrowserEnv:zve,hasStandardBrowserWebWorkerEnv:Wve,navigator:KA,origin:Hve},Symbol.toStringTag,{value:"Module"})),Or={...Gve,...Uve};function Yve(t,e){return Tj(t,new Or.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return Or.isNode&&Q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function Kve(t){return Q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Jve(t){const e={},r=Object.keys(t);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],e[s]=t[s];return e}function jU(t){function e(r,n,a,s){let i=r[s++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=s>=r.length;return i=!i&&Q.isArray(a)?a.length:i,c?(Q.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l):((!a[i]||!Q.isObject(a[i]))&&(a[i]=[]),e(r,n,a[i],s)&&Q.isArray(a[i])&&(a[i]=Jve(a[i])),!l)}if(Q.isFormData(t)&&Q.isFunction(t.entries)){const r={};return Q.forEachEntry(t,(n,a)=>{e(Kve(n),a,r,0)}),r}return null}function Xve(t,e,r){if(Q.isString(t))try{return(e||JSON.parse)(t),Q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Bm={transitional:vU,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=Q.isObject(e);if(s&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return a?JSON.stringify(jU(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yve(e,this.formSerializer).toString();if((l=Q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Tj(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Xve(e)):e}],transformResponse:[function(e){const r=this.transitional||Bm.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Le.from(l,Le.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Or.classes.FormData,Blob:Or.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],t=>{Bm.headers[t]={}});const Qve=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zve=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||e[r]&&Qve[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},q$=Symbol("internals");function Mu(t){return t&&String(t).trim().toLowerCase()}function pb(t){return t===!1||t==null?t:Q.isArray(t)?t.map(pb):String(t)}function eje(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const tje=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function sN(t,e,r,n,a){if(Q.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!Q.isString(e)){if(Q.isString(n))return e.indexOf(n)!==-1;if(Q.isRegExp(n))return n.test(e)}}function rje(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function nje(t,e){const r=Q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,s,i){return this[n].call(this,e,a,s,i)},configurable:!0})})}let Zr=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function s(l,c,u){const d=Mu(c);if(!d)throw new Error("header name must be a non-empty string");const f=Q.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=pb(l))}const i=(l,c)=>Q.forEach(l,(u,d)=>s(u,d,c));if(Q.isPlainObject(e)||e instanceof this.constructor)i(e,r);else if(Q.isString(e)&&(e=e.trim())&&!tje(e))i(Zve(e),r);else if(Q.isObject(e)&&Q.isIterable(e)){let l={},c,u;for(const d of e){if(!Q.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?Q.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Mu(e),e){const n=Q.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return eje(a);if(Q.isFunction(r))return r.call(this,a,n);if(Q.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Mu(e),e){const n=Q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||sN(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function s(i){if(i=Mu(i),i){const l=Q.findKey(n,i);l&&(!r||sN(n,n[l],l,r))&&(delete n[l],a=!0)}}return Q.isArray(e)?e.forEach(s):s(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!e||sN(this,this[s],s,e,!0))&&(delete this[s],a=!0)}return a}normalize(e){const r=this,n={};return Q.forEach(this,(a,s)=>{const i=Q.findKey(n,s);if(i){r[i]=pb(a),delete r[s];return}const l=e?rje(s):String(s).trim();l!==s&&delete r[s],r[l]=pb(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Q.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&Q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[q$]=this[q$]={accessors:{}}).accessors,a=this.prototype;function s(i){const l=Mu(i);n[l]||(nje(a,i),n[l]=!0)}return Q.isArray(e)?e.forEach(s):s(e),this}};Zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(Zr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Q.freezeMethods(Zr);function oN(t,e){const r=this||Bm,n=e||r,a=Zr.from(n.headers);let s=n.data;return Q.forEach(t,function(l){s=l.call(r,s,a.normalize(),e?e.status:void 0)}),a.normalize(),s}function wU(t){return!!(t&&t.__CANCEL__)}function su(t,e,r){Le.call(this,t??"canceled",Le.ERR_CANCELED,e,r),this.name="CanceledError"}Q.inherits(su,Le,{__CANCEL__:!0});function NU(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Le("Request failed with status code "+r.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function aje(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sje(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,s=0,i;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[s];i||(i=u),r[a]=c,n[a]=u;let f=s,m=0;for(;f!==a;)m+=r[f++],f=f%t;if(a=(a+1)%t,a===s&&(s=(s+1)%t),u-i<e)return;const h=d&&u-d;return h?Math.round(m*1e3/h):void 0}}function oje(t,e){let r=0,n=1e3/e,a,s;const i=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?i(u,d):(a=u,s||(s=setTimeout(()=>{s=null,i(a)},n-f)))},()=>a&&i(a)]}const E0=(t,e,r=3)=>{let n=0;const a=sje(50,250);return oje(s=>{const i=s.loaded,l=s.lengthComputable?s.total:void 0,c=i-n,u=a(c),d=i<=l;n=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},V$=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},U$=t=>(...e)=>Q.asap(()=>t(...e)),ije=Or.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Or.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Or.origin),Or.navigator&&/(msie|trident)/i.test(Or.navigator.userAgent)):()=>!0,lje=Or.hasStandardBrowserEnv?{write(t,e,r,n,a,s){const i=[t+"="+encodeURIComponent(e)];Q.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),Q.isString(n)&&i.push("path="+n),Q.isString(a)&&i.push("domain="+a),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cje(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function uje(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function CU(t,e,r){let n=!cje(e);return t&&(n||r==!1)?uje(t,e):e}const z$=t=>t instanceof Zr?{...t}:t;function Ji(t,e){e=e||{};const r={};function n(u,d,f,m){return Q.isPlainObject(u)&&Q.isPlainObject(d)?Q.merge.call({caseless:m},u,d):Q.isPlainObject(d)?Q.merge({},d):Q.isArray(d)?d.slice():d}function a(u,d,f,m){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function s(u,d){if(!Q.isUndefined(d))return n(void 0,d)}function i(u,d){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,f)=>a(z$(u),z$(d),f,!0)};return Q.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||a,m=f(t[d],e[d],d);Q.isUndefined(m)&&f!==l||(r[d]=m)}),r}const SU=t=>{const e=Ji({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:l}=e;e.headers=i=Zr.from(i),e.url=xU(CU(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Q.isFormData(r)){if(Or.hasStandardBrowserEnv||Or.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Or.hasStandardBrowserEnv&&(n&&Q.isFunction(n)&&(n=n(e)),n||n!==!1&&ije(e.url))){const u=a&&s&&lje.read(s);u&&i.set(a,u)}return e},dje=typeof XMLHttpRequest<"u",fje=dje&&function(t){return new Promise(function(r,n){const a=SU(t);let s=a.data;const i=Zr.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,m,h,g;function y(){h&&h(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function p(){if(!x)return;const N=Zr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:N,config:t,request:x};NU(function(S){r(S),y()},function(S){n(S),y()},j),x=null}"onloadend"in x?x.onloadend=p:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(p)},x.onabort=function(){x&&(n(new Le("Request aborted",Le.ECONNABORTED,t,x)),x=null)},x.onerror=function(){n(new Le("Network Error",Le.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||vU;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),n(new Le(C,j.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,x)),x=null},s===void 0&&i.setContentType(null),"setRequestHeader"in x&&Q.forEach(i.toJSON(),function(C,j){x.setRequestHeader(j,C)}),Q.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),u&&([m,g]=E0(u,!0),x.addEventListener("progress",m)),c&&x.upload&&([f,h]=E0(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=N=>{x&&(n(!N||N.type?new su(null,t,x):N),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const b=aje(a.url);if(b&&Or.protocols.indexOf(b)===-1){n(new Le("Unsupported protocol "+b+":",Le.ERR_BAD_REQUEST,t));return}x.send(s||null)})},mje=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Le?d:new su(d instanceof Error?d.message:d))}};let i=e&&setTimeout(()=>{i=null,s(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>Q.asap(l),c}},hje=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},pje=async function*(t,e){for await(const r of gje(t))yield*hje(r,e)},gje=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},W$=(t,e,r,n)=>{const a=pje(t,e);let s=0,i,l=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=s+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},kj=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",AU=kj&&typeof ReadableStream=="function",yje=kj&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),TU=(t,...e)=>{try{return!!t(...e)}catch{return!1}},bje=AU&&TU(()=>{let t=!1;const e=new Request(Or.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),H$=64*1024,JA=AU&&TU(()=>Q.isReadableStream(new Response("").body)),I0={stream:JA&&(t=>t.body)};kj&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!I0[e]&&(I0[e]=Q.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,n)})})})(new Response);const xje=async t=>{if(t==null)return 0;if(Q.isBlob(t))return t.size;if(Q.isSpecCompliantForm(t))return(await new Request(Or.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(t)||Q.isArrayBuffer(t))return t.byteLength;if(Q.isURLSearchParams(t)&&(t=t+""),Q.isString(t))return(await yje(t)).byteLength},vje=async(t,e)=>{const r=Q.toFiniteNumber(t.getContentLength());return r??xje(e)},jje=kj&&(async t=>{let{url:e,method:r,data:n,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=SU(t);u=u?(u+"").toLowerCase():"text";let h=mje([a,s&&s.toAbortSignal()],i),g;const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let x;try{if(c&&bje&&r!=="get"&&r!=="head"&&(x=await vje(d,n))!==0){let j=new Request(e,{method:"POST",body:n,duplex:"half"}),w;if(Q.isFormData(n)&&(w=j.headers.get("content-type"))&&d.setContentType(w),j.body){const[S,T]=V$(x,E0(U$(c)));n=W$(j.body,H$,S,T)}}Q.isString(f)||(f=f?"include":"omit");const p="credentials"in Request.prototype;g=new Request(e,{...m,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:p?f:void 0});let b=await fetch(g,m);const N=JA&&(u==="stream"||u==="response");if(JA&&(l||N&&y)){const j={};["status","statusText","headers"].forEach(k=>{j[k]=b[k]});const w=Q.toFiniteNumber(b.headers.get("content-length")),[S,T]=l&&V$(w,E0(U$(l),!0))||[];b=new Response(W$(b.body,H$,S,()=>{T&&T(),y&&y()}),j)}u=u||"text";let C=await I0[Q.findKey(I0,u)||"text"](b,t);return!N&&y&&y(),await new Promise((j,w)=>{NU(j,w,{data:C,headers:Zr.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:g})})}catch(p){throw y&&y(),p&&p.name==="TypeError"&&/Load failed|fetch/i.test(p.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,t,g),{cause:p.cause||p}):Le.from(p,p&&p.code,t,g)}}),XA={http:Rve,xhr:fje,fetch:jje};Q.forEach(XA,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const G$=t=>`- ${t}`,wje=t=>Q.isFunction(t)||t===null||t===!1,kU={getAdapter:t=>{t=Q.isArray(t)?t:[t];const{length:e}=t;let r,n;const a={};for(let s=0;s<e;s++){r=t[s];let i;if(n=r,!wje(r)&&(n=XA[(i=String(r)).toLowerCase()],n===void 0))throw new Le(`Unknown adapter '${i}'`);if(n)break;a[i||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(G$).join(`
`):" "+G$(s[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:XA};function iN(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new su(null,t)}function Y$(t){return iN(t),t.headers=Zr.from(t.headers),t.data=oN.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kU.getAdapter(t.adapter||Bm.adapter)(t).then(function(n){return iN(t),n.data=oN.call(t,t.transformResponse,n),n.headers=Zr.from(n.headers),n},function(n){return wU(n)||(iN(t),n&&n.response&&(n.response.data=oN.call(t,t.transformResponse,n.response),n.response.headers=Zr.from(n.response.headers))),Promise.reject(n)})}const OU="1.10.0",Oj={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Oj[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const K$={};Oj.transitional=function(e,r,n){function a(s,i){return"[Axios v"+OU+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,l)=>{if(e===!1)throw new Le(a(i," has been removed"+(r?" in "+r:"")),Le.ERR_DEPRECATED);return r&&!K$[i]&&(K$[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,i,l):!0}};Oj.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Nje(t,e,r){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const s=n[a],i=e[s];if(i){const l=t[s],c=l===void 0||i(l,s,t);if(c!==!0)throw new Le("option "+s+" must be "+c,Le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Le("Unknown option "+s,Le.ERR_BAD_OPTION)}}const gb={assertOptions:Nje,validators:Oj},ga=gb.validators;let Di=class{constructor(e){this.defaults=e||{},this.interceptors={request:new B$,response:new B$}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ji(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&gb.assertOptions(n,{silentJSONParsing:ga.transitional(ga.boolean),forcedJSONParsing:ga.transitional(ga.boolean),clarifyTimeoutError:ga.transitional(ga.boolean)},!1),a!=null&&(Q.isFunction(a)?r.paramsSerializer={serialize:a}:gb.assertOptions(a,{encode:ga.function,serialize:ga.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),gb.assertOptions(r,{baseUrl:ga.spelling("baseURL"),withXsrfToken:ga.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=s&&Q.merge(s.common,s[r.method]);s&&Q.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=Zr.concat(i,s);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,f=0,m;if(!c){const g=[Y$.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),m=g.length,d=Promise.resolve(r);f<m;)d=d.then(g[f++],g[f++]);return d}m=l.length;let h=r;for(f=0;f<m;){const g=l[f++],y=l[f++];try{h=g(h)}catch(x){y.call(this,x);break}}try{d=Y$.call(this,h)}catch(g){return Promise.reject(g)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Ji(this.defaults,e);const r=CU(e.baseURL,e.url,e.allowAbsoluteUrls);return xU(r,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Di.prototype[e]=function(r,n){return this.request(Ji(n||{},{method:e,url:r,data:(n||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function r(n){return function(s,i,l){return this.request(Ji(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Di.prototype[e]=r(),Di.prototype[e+"Form"]=r(!0)});let Cje=class EU{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const i=new Promise(l=>{n.subscribe(l),s=l}).then(a);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,l){n.reason||(n.reason=new su(s,i,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new EU(function(a){e=a}),cancel:e}}};function Sje(t){return function(r){return t.apply(null,r)}}function Aje(t){return Q.isObject(t)&&t.isAxiosError===!0}const QA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(QA).forEach(([t,e])=>{QA[e]=t});function IU(t){const e=new Di(t),r=iU(Di.prototype.request,e);return Q.extend(r,Di.prototype,e,{allOwnKeys:!0}),Q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return IU(Ji(t,a))},r}const lt=IU(Bm);lt.Axios=Di;lt.CanceledError=su;lt.CancelToken=Cje;lt.isCancel=wU;lt.VERSION=OU;lt.toFormData=Tj;lt.AxiosError=Le;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=Sje;lt.isAxiosError=Aje;lt.mergeConfig=Ji;lt.AxiosHeaders=Zr;lt.formToJSON=t=>jU(Q.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=kU.getAdapter;lt.HttpStatusCode=QA;lt.default=lt;const{Axios:X7e,AxiosError:Q7e,CanceledError:Z7e,isCancel:eWe,CancelToken:tWe,VERSION:rWe,all:nWe,Cancel:aWe,isAxiosError:sWe,spread:oWe,toFormData:iWe,AxiosHeaders:lWe,HttpStatusCode:cWe,formToJSON:uWe,getAdapter:dWe,mergeConfig:fWe}=lt,lN=M("generalServiceReceipts/fetchGeneralServiceReceipts",async()=>(await lt.get("/api/general-service-receipts")).data),cN=M("generalServiceReceipts/createGeneralServiceReceipt",async t=>(await lt.post("/api/general-service-receipts",t)).data),uN=M("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e})=>(await lt.put(`/api/general-service-receipts/${t}`,e)).data),dN=M("generalServiceReceipts/deleteGeneralServiceReceipt",async t=>(await lt.delete(`/api/general-service-receipts/${t}`),t)),Tje={receipts:[],loading:!1,error:null},PU=pe({name:"generalServiceReceipts",initialState:Tje,reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(lN.pending,e=>{e.loading=!0,e.error=null}).addCase(lN.fulfilled,(e,r)=>{e.loading=!1,e.receipts=r.payload}).addCase(lN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(cN.pending,e=>{e.loading=!0,e.error=null}).addCase(cN.fulfilled,(e,r)=>{e.loading=!1,e.receipts.push(r.payload)}).addCase(cN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(uN.pending,e=>{e.loading=!0,e.error=null}).addCase(uN.fulfilled,(e,r)=>{e.loading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.receipts[n]=r.payload)}).addCase(uN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message}).addCase(dN.pending,e=>{e.loading=!0,e.error=null}).addCase(dN.fulfilled,(e,r)=>{e.loading=!1,e.receipts=e.receipts.filter(n=>n.id!==r.payload)}).addCase(dN.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message})}}),{clearError:mWe}=PU.actions,kje=PU.reducer,Oje=oe().shape({title:O().required("Title is required"),name:O().required("Name is required"),deceasedName:O().required("Deceased name is required"),nationality:O().required("Nationality is required"),age:re().required("Age is required").min(0,"Age must be positive"),dateOfDeath:Me().required("Date of death is required"),causeOfDeath:O().required("Cause of death is required"),cemeteryName:O().required("Cemetery name is required"),serviceType:O().required("Service type is required"),isInfectious:Yi(),isEmbalmed:Yi(),dispositionRemarks:O().when("serviceType",{is:t=>["disinter","remove"].includes(t),then:O().required("Disposition remarks are required")}),invoiceDate:Me().required("Invoice date is required"),paymentMethod:O().required("Payment method is required"),amountReceived:re().required("Amount received is required").min(0,"Amount must be positive"),referenceNumber:O(),remarks:O()});function Eje({initialData:t,onClose:e,onSubmit:r}){const[n,a]=v.useState(!1),[s,i]=v.useState([]),[l,c]=v.useState(null),u=t||{title:"mr",name:"",deceasedName:"",nationality:"",age:"",dateOfDeath:"",causeOfDeath:"",cemeteryName:"",serviceType:"inter",isInfectious:!1,isEmbalmed:!1,dispositionRemarks:"",invoiceDate:new Date().toISOString().split("T")[0],paymentMethod:"",amountReceived:"",referenceNumber:"",remarks:""},d=(y,x)=>{const p=y.target.value;x("serviceType",p),a(p!=="inter")},f=[{value:"shewin_pua_ola",label:"Shewin, Pua, Ola"},{value:"john_doe",label:"Doe, John"},{value:"jane_smith",label:"Smith, Jane"}],m=y=>{if(y.target.files){const x=Array.from(y.target.files).map(p=>({file:p,id:Math.random().toString(36).substring(2,9),name:p.name,size:p.size,type:p.type}));i(p=>[...p,...x])}},h=y=>{i(x=>x.filter(p=>p.id!==y))},g=async(y,{setSubmitting:x})=>{try{c(null);const p={...y,attachments:s};await r(p),e()}catch(p){c(p.message||"Submission failed. Please try again.")}finally{x(!1)}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:u,validationSchema:Oje,onSubmit:g,enableReinitialize:!0,children:({values:y,errors:x,touched:p,handleChange:b,setFieldValue:N,isSubmitting:C})=>o.jsxs(Be,{className:"space-y-4 p-4 bg-white rounded-lg",children:[l&&o.jsx("div",{className:"p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg",children:l}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:m,className:`block w-full text-sm text-gray-500\r
                  file:mr-4 file:py-2 file:px-4\r
                  file:rounded-md file:border-0\r
                  file:text-sm file:font-medium\r
                  file:bg-blue-50 file:text-blue-700\r
                  hover:file:bg-blue-100`})]}),s.length>0&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Selected Files:"}),o.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(j=>o.jsxs("li",{className:"py-2 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(lB,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600 truncate max-w-xs",children:j.name}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",Ije(j.size),")"]})]}),o.jsx("button",{type:"button",onClick:()=>h(j.id),className:"text-red-500 hover:text-red-700",children:o.jsx(ul,{className:"h-5 w-5"})})]},j.id))})]})]}),o.jsx("div",{className:"text-center",children:o.jsx(A,{name:"receiptNumber",type:"text",value:"BU-RE-36AL-CEIPT",readOnly:!0,className:"font-bold text-center"})}),o.jsx("div",{children:o.jsx(A,{label:"MR. / MRS.",name:"name",type:"select",options:f,placeholder:"Select name",required:!0,error:p.name&&x.name})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(A,{label:"Name",name:"deceasedName",type:"select",options:f,required:!0,error:p.deceasedName&&x.deceasedName}),o.jsx(A,{label:"Nationality",name:"nationality",type:"select",options:[{value:"filipino",label:"Filipino"},{value:"non-filipino",label:"Non-Filipino"}],required:!0,error:p.nationality&&x.nationality}),o.jsx(A,{label:"Age",name:"age",type:"number",required:!0,error:p.age&&x.age}),o.jsx(A,{label:"Sex",name:"sex",type:"select",options:[{value:"male",label:"Male"},{value:"female",label:"Female"}],required:!0,error:p.sex&&x.sex}),o.jsx(A,{label:"Date of Death",name:"dateOfDeath",type:"date",required:!0,error:p.dateOfDeath&&x.dateOfDeath}),o.jsx(A,{label:"Cause of Death",name:"causeOfDeath",type:"text",required:!0,error:p.causeOfDeath&&x.causeOfDeath}),o.jsx(A,{label:"Name of Cemetery",name:"cemeteryName",type:"text",required:!0,error:p.cemeteryName&&x.cemeteryName})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block font-medium",children:"Service Type"}),o.jsx("div",{className:"flex space-x-4",children:["inter","disinter","remove"].map(j=>o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",name:"serviceType",value:j,checked:y.serviceType===j,onChange:w=>d(w,N),className:"form-radio"}),o.jsx("span",{className:"ml-2",children:j.toUpperCase()})]},j))}),p.serviceType&&x.serviceType&&o.jsx("div",{className:"text-red-500 text-sm mt-1",children:x.serviceType})]}),n&&o.jsxs("div",{className:"space-y-4 pl-6 border-l-2 border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isInfectious",checked:y.isInfectious,onChange:b,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Infectious"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"checkbox",name:"isEmbalmed",checked:y.isEmbalmed,onChange:b,className:"form-checkbox"}),o.jsx("span",{className:"ml-2",children:"Embalmed"})]})]}),o.jsx(A,{label:"Disposition of Remains",name:"dispositionRemarks",type:"textarea",rows:2,required:y.serviceType!=="inter",error:p.dispositionRemarks&&x.dispositionRemarks})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Invoice Date",name:"invoiceDate",type:"date",required:!0,error:p.invoiceDate&&x.invoiceDate}),o.jsx(A,{label:"Payment Method",name:"paymentMethod",type:"select",options:[{value:"cash",label:"Cash"},{value:"check",label:"Check"},{value:"card",label:"Credit Card"}],required:!0,error:p.paymentMethod&&x.paymentMethod}),o.jsx(A,{label:"Amount Received",name:"amountReceived",type:"number",required:!0,min:"0",error:p.amountReceived&&x.amountReceived}),o.jsx(A,{label:"Reference Number",name:"referenceNumber",type:"text",error:p.referenceNumber&&x.referenceNumber})]}),o.jsx(A,{label:"Remarks",name:"remarks",type:"textarea",rows:2,error:p.remarks&&x.remarks}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",children:C?"Submitting...":"Submit"})]})]})})]})}function Ije(t){if(t===0)return"0 Bytes";const e=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,n)).toFixed(2))+" "+r[n]}const qm="https://staging-engine.testthelink.online",Pje=[],yb=M("burialRecords/fetchBurialRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/burialRecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial records");return a}catch(r){return e.rejectWithValue(r.message)}}),fN=M("burialRecords/fetchBurialRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/burialRecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),mN=M("burialRecords/addBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/burialRecord`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),hN=M("burialRecords/updateBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/burialRecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update burial record");return a}catch(r){return e.rejectWithValue(r.message)}}),pN=M("burialRecords/deleteBurialRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${qm}/burialRecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete burial record")}return t}catch(r){return e.rejectWithValue(r.message)}}),DU=pe({name:"burialRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(yb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yb.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(yb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial records",console.warn("Failed to fetch burial records, using mock data.",e.error),e.records=Pje}).addCase(fN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fN.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(fN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch burial record"}).addCase(mN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mN.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(mN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add burial record",console.error("Failed to add burial record:",e.error)}).addCase(hN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hN.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(hN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update burial record",console.error("Failed to update burial record:",e.error)}).addCase(pN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pN.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(pN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete burial record",console.error("Failed to delete burial record:",e.error)})}}),{clearCurrentRecord:hWe}=DU.actions,Dje=DU.reducer;function _je(){const t=ue(),{nationalities:e,isLoading:r}=V(j=>j.nationalities),{users:n,isLoading:a}=V(j=>j.users),{municipalities:s,isLoading:i}=V(j=>j.municipalities),{provinces:l,isLoading:c}=V(j=>j.provinces),{records:u,isLoading:d}=V(j=>j.burialRecords),[f,m]=v.useState(!1),[h,g]=v.useState(null);v.useEffect(()=>{t(Ld()),t(Dd()),t(vo()),t(xo()),t(yb())},[t]);const y=[{header:"Receipt No",accessor:"receiptNo"},{header:"Name",accessor:"name"},{header:"Deceased Name",accessor:"deceasedName"},{header:"Date of Death",accessor:"dateOfDeath"},{header:"Service Type",accessor:"serviceType"},{header:"Actions",accessor:"actions",cell:j=>o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>p(j),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),o.jsx("button",{onClick:()=>b(j.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})}],x=()=>{g(null),m(!0)},p=j=>{g(j),m(!0)},b=j=>{setReceipts(receipts.filter(w=>w.id!==j))},N=()=>{m(!1),g(null)},C=j=>{if(h)setReceipts(receipts.map(w=>w.id===h.id?{...j,id:w.id}:w));else{const w={...j,id:Date.now()};setReceipts([...receipts,w])}N()};return console.log({burialRecord:u}),o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Burial Service Receipts"}),o.jsxs("button",{onClick:x,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add New Receipt"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:y,data:u,className:"min-w-full divide-y divide-gray-200"})}),o.jsx(ae,{isOpen:f,onClose:N,title:h?"Edit Burial Service Receipt":"New Burial Service Receipt",children:o.jsx(Eje,{initialData:h,onClose:N,onSubmit:C,nationalities:e,municipalities:s,provinces:l,users:n})})]})}const $je=oe().shape({invoiceNumber:O().required("Invoice number is required"),customer:O().required("Customer is required"),customerAge:re().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),remarks:O().required("Remarks are required"),invoiceDate:Me().required("Invoice date is required"),cenomar:O().required("CENOMAR is required"),marryTo:O().required('"Marry to" is required'),marryToAge:re().required("Age is required").positive("Age must be positive").integer("Age must be a whole number"),registerNumber:O().required("Register number is required"),price:re().required("Price is required").min(0,"Price cannot be negative"),remainingBalance:re().required("Balance is required").min(0,"Balance cannot be negative"),amountReceived:re().required("Amount received is required").min(0,"Amount cannot be negative")});function Rje({initialData:t,onClose:e,onSubmit:r}){const[n,a]=v.useState(!1),[s,i]=v.useState([]),l=t||{invoiceNumber:"MA-RE-30GE-CEIPT",customer:"",customerAge:"",remarks:"",invoiceDate:new Date().toISOString().split("T")[0],cenomar:"",marryTo:"",marryToAge:"",registerNumber:"",price:1002,remainingBalance:0,amountReceived:0},c=async h=>{a(!0);try{await r(h),e()}catch(g){console.error("Error submitting form:",g)}finally{a(!1)}},u=h=>{if(h.target.files){const g=Array.from(h.target.files).map(y=>({file:y,id:Math.random().toString(36).substring(2,9),name:y.name,size:y.size,type:y.type}));i(y=>[...y,...g])}},d=h=>{i(g=>g.filter(y=>y.id!==h))};function f(h){if(h===0)return"0 Bytes";const g=1024,y=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(h)/Math.log(g));return parseFloat((h/Math.pow(g,x)).toFixed(2))+" "+y[x]}const m=[{label:"Marry to 1",value:"Marry to 1"},{label:"Marry to 2",value:"Marry to 2"},{label:"Marry to 3",value:"Marry to 3"},{label:"Marry to 4",value:"Marry to 4"},{label:"Marry to 5",value:"Marry to 5"}];return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full pt-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:l,validationSchema:$je,onSubmit:c,enableReinitialize:!0,children:({values:h,errors:g,touched:y,handleChange:x,handleBlur:p})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"font-bold mb-2",children:"Attachments"}),o.jsx("input",{type:"file",multiple:!0,onChange:u,className:`block w-full text-sm text-gray-500\r
                file:mr-4 file:py-2 file:px-4\r
                file:rounded-md file:border-0\r
                file:text-sm file:font-medium\r
                file:bg-blue-50 file:text-blue-700\r
                hover:file:bg-blue-100`})]}),s.length>0&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Selected Files:"}),o.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(b=>o.jsxs("li",{className:"py-2 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(lB,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600 truncate max-w-xs",children:b.name}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",f(b.size),")"]})]}),o.jsx("button",{type:"button",onClick:()=>d(b.id),className:"text-red-500 hover:text-red-700",children:o.jsx(ul,{className:"h-5 w-5"})})]},b.id))})]})]}),o.jsx(A,{label:"Invoice Number",name:"invoiceNumber",type:"text",required:!0,value:h.invoiceNumber,onChange:x,onBlur:p,error:g.invoiceNumber,touched:y.invoiceNumber}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Customer",name:"customer",type:"text",required:!0,value:h.customer,onChange:x,onBlur:p,error:g.customer,touched:y.customer}),o.jsx(A,{label:"Age",name:"customerAge",type:"number",required:!0,value:h.customerAge,onChange:x,onBlur:p,error:g.customerAge,touched:y.customerAge,min:"1"})]}),o.jsx(A,{label:"Remarks",name:"remarks",type:"textarea",rows:3,required:!0,value:h.remarks,onChange:x,onBlur:p,error:g.remarks,touched:y.remarks}),o.jsx(A,{label:"Invoice Date",name:"invoiceDate",type:"date",required:!0,value:h.invoiceDate,onChange:x,onBlur:p,error:g.invoiceDate,touched:y.invoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"CENOMAR",name:"cenomar",type:"text",required:!0,value:h.cenomar,onChange:x,onBlur:p,error:g.cenomar,touched:y.cenomar}),o.jsx(A,{label:"Marry to",name:"marryTo",type:"select",required:!0,options:m,value:h.marryTo,onChange:x,onBlur:p,error:g.marryTo,touched:y.marryTo})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Age",name:"marryToAge",type:"number",required:!0,value:h.marryToAge,onChange:x,onBlur:p,error:g.marryToAge,touched:y.marryToAge,min:"1"}),o.jsx(A,{label:"Register Number",name:"registerNumber",type:"text",required:!0,value:h.registerNumber,onChange:x,onBlur:p,error:g.registerNumber,touched:y.registerNumber})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{label:"Price",name:"price",type:"number",required:!0,value:h.price,onChange:x,onBlur:p,error:g.price,touched:y.price,min:"0"}),o.jsx(A,{label:"Remaining Balance",name:"remainingBalance",type:"number",required:!0,value:h.remainingBalance,onChange:x,onBlur:p,error:g.remainingBalance,touched:y.remainingBalance,min:"0"}),o.jsx(A,{label:"Amount Received",name:"amountReceived",type:"number",required:!0,value:h.amountReceived,onChange:x,onBlur:p,error:g.amountReceived,touched:y.amountReceived,min:"0"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:n,children:t?"Update":"Create"})]})]})})]})}function Mje(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a,s]=v.useState([]),i=m=>{const h={id:Date.now(),...m};s([...a,h])},l=m=>{s(a.map(h=>h.id===r.id?{...h,...m}:h))},c=m=>{s(a.filter(h=>h.id!==m))},u=m=>{n(m),e(!0)},d=()=>{n(null),e(!1)},f=[{header:"Status",accessor:"status"},{header:"AP/AR",accessor:"apAr"},{header:"Customer",accessor:"customer"},{header:"Total Amount",accessor:"totalAmount"},{header:"Amount Received",accessor:"amountReceived"},{header:"Credit",accessor:"credit"},{header:"Debit",accessor:"debit"},{header:"EWT",accessor:"ewt"},{header:"Withheld Amount",accessor:"withheldAmount"},{header:"Total",accessor:"total"},{header:"Discount (%)",accessor:"discountPercent"},{header:"Amount Due",accessor:"amountDue"},{header:"Actions",accessor:"actions",cell:({row:m})=>o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>u(m.original),className:"text-blue-600 hover:text-blue-800",children:o.jsx(Se,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>c(m.original.id),className:"text-red-600 hover:text-red-800",children:o.jsx(Fe,{className:"h-5 w-5"})})]})}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Marriage Service Receipts"}),o.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2"}),"Add Receipt"]})]}),o.jsx(ye,{columns:f,data:a,className:"bg-white rounded-lg shadow"}),o.jsx(ae,{isOpen:t,onClose:d,title:r?"Edit Receipt":"Add Receipt",children:o.jsx(Rje,{initialData:r,onClose:d,onSubmit:r?l:i})})]})}const _U=6048e5,Lje=864e5,$U=6e4,RU=36e5,J$=Symbol.for("constructDateFrom");function As(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&J$ in t?t[J$](e):t instanceof Date?new t.constructor(e):new Date(e)}function wn(t,e){return As(e||t,t)}let Fje={};function Ej(){return Fje}function Rf(t,e){var l,c,u,d;const r=Ej(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=wn(t,e==null?void 0:e.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function P0(t,e){return Rf(t,{...e,weekStartsOn:1})}function MU(t,e){const r=wn(t,e==null?void 0:e.in),n=r.getFullYear(),a=As(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=P0(a),i=As(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=P0(i);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function X$(t){const e=wn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Bje(t,...e){const r=As.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Q$(t,e){const r=wn(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function qje(t,e,r){const[n,a]=Bje(r==null?void 0:r.in,t,e),s=Q$(n),i=Q$(a),l=+s-X$(s),c=+i-X$(i);return Math.round((l-c)/Lje)}function Vje(t,e){const r=MU(t,e),n=As(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),P0(n)}function Uje(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function zje(t){return!(!Uje(t)&&typeof t!="number"||isNaN(+wn(t)))}function Wje(t,e){const r=wn(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Hje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gje=(t,e,r)=>{let n;const a=Hje[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function gN(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Yje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xje={date:gN({formats:Yje,defaultWidth:"full"}),time:gN({formats:Kje,defaultWidth:"full"}),dateTime:gN({formats:Jje,defaultWidth:"full"})},Qje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zje=(t,e,r,n)=>Qje[t];function Lu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=t.formattingValues[l]||t.formattingValues[i]}else{const i=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[i]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const ewe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},twe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},awe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},swe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},owe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},iwe={ordinalNumber:owe,era:Lu({values:ewe,defaultWidth:"wide"}),quarter:Lu({values:twe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lu({values:rwe,defaultWidth:"wide"}),day:Lu({values:nwe,defaultWidth:"wide"}),dayPeriod:Lu({values:awe,defaultWidth:"wide",formattingValues:swe,defaultFormattingWidth:"wide"})};function Fu(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?cwe(l,f=>f.test(i)):lwe(l,f=>f.test(i));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}function lwe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function cwe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function uwe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let i=t.valueCallback?t.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=e.slice(a.length);return{value:i,rest:l}}}const dwe=/^(\d+)(th|st|nd|rd)?/i,fwe=/\d+/i,mwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hwe={any:[/^b/i,/^(a|c)/i]},pwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gwe={any:[/1/i,/2/i,/3/i,/4/i]},ywe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xwe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nwe={ordinalNumber:uwe({matchPattern:dwe,parsePattern:fwe,valueCallback:t=>parseInt(t,10)}),era:Fu({matchPatterns:mwe,defaultMatchWidth:"wide",parsePatterns:hwe,defaultParseWidth:"any"}),quarter:Fu({matchPatterns:pwe,defaultMatchWidth:"wide",parsePatterns:gwe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fu({matchPatterns:ywe,defaultMatchWidth:"wide",parsePatterns:bwe,defaultParseWidth:"any"}),day:Fu({matchPatterns:xwe,defaultMatchWidth:"wide",parsePatterns:vwe,defaultParseWidth:"any"}),dayPeriod:Fu({matchPatterns:jwe,defaultMatchWidth:"any",parsePatterns:wwe,defaultParseWidth:"any"})},Cwe={code:"en-US",formatDistance:Gje,formatLong:Xje,formatRelative:Zje,localize:iwe,match:Nwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Swe(t,e){const r=wn(t,e==null?void 0:e.in);return qje(r,Wje(r))+1}function Awe(t,e){const r=wn(t,e==null?void 0:e.in),n=+P0(r)-+Vje(r);return Math.round(n/_U)+1}function LU(t,e){var d,f,m,h;const r=wn(t,e==null?void 0:e.in),n=r.getFullYear(),a=Ej(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,i=As((e==null?void 0:e.in)||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=Rf(i,e),c=As((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Rf(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function Twe(t,e){var l,c,u,d;const r=Ej(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=LU(t,e),s=As((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Rf(s,e)}function kwe(t,e){const r=wn(t,e==null?void 0:e.in),n=+Rf(r,e)-+Twe(r,e);return Math.round(n/_U)+1}function at(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Us={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return at(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):at(r+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return at(a,e.length)}},Nl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Z$={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Us.y(t,e)},Y:function(t,e,r,n){const a=LU(t,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return at(i,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):at(s,e.length)},R:function(t,e){const r=MU(t);return at(r,e.length)},u:function(t,e){const r=t.getFullYear();return at(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return at(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return at(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Us.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return at(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=kwe(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):at(a,e.length)},I:function(t,e,r){const n=Awe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):at(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Us.d(t,e)},D:function(t,e,r){const n=Swe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):at(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return at(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return at(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return at(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=Nl.noon:n===0?a=Nl.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=Nl.evening:n>=12?a=Nl.afternoon:n>=4?a=Nl.morning:a=Nl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Us.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Us.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Us.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Us.s(t,e)},S:function(t,e){return Us.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return tR(n);case"XXXX":case"XX":return ci(n);case"XXXXX":case"XXX":default:return ci(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return tR(n);case"xxxx":case"xx":return ci(n);case"xxxxx":case"xxx":default:return ci(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+eR(n,":");case"OOOO":default:return"GMT"+ci(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+eR(n,":");case"zzzz":default:return"GMT"+ci(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return at(n,e.length)},T:function(t,e,r){return at(+t,e.length)}};function eR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+at(s,2)}function tR(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):ci(t,e)}function ci(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=at(Math.trunc(n/60),2),s=at(n%60,2);return r+a+e+s}const rR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},FU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Owe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return rR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",rR(n,e)).replace("{{time}}",FU(a,e))},Ewe={p:FU,P:Owe},Iwe=/^D+$/,Pwe=/^Y+$/,Dwe=["D","DD","YY","YYYY"];function _we(t){return Iwe.test(t)}function $we(t){return Pwe.test(t)}function Rwe(t,e,r){const n=Mwe(t,e,r);if(console.warn(n),Dwe.includes(t))throw new RangeError(n)}function Mwe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Bwe=/^'([^]*?)'?$/,qwe=/''/g,Vwe=/[a-zA-Z]/;function nR(t,e,r){var d,f,m,h;const n=Ej(),a=n.locale??Cwe,s=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=n.weekStartsOn??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=wn(t,r==null?void 0:r.in);if(!zje(l))throw new RangeError("Invalid time value");let c=e.match(Fwe).map(g=>{const y=g[0];if(y==="p"||y==="P"){const x=Ewe[y];return x(g,a.formatLong)}return g}).join("").match(Lwe).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:Uwe(g)};if(Z$[y])return{isToken:!0,value:g};if(y.match(Vwe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;($we(y)||_we(y))&&Rwe(y,e,String(t));const x=Z$[y[0]];return x(l,y,a.localize,u)}).join("")}function Uwe(t){const e=t.match(Bwe);return e?e[1].replace(qwe,"'"):t}function aR(t,e){const r=()=>As(e==null?void 0:e.in,NaN),a=Gwe(t);let s;if(a.date){const u=Ywe(a.date,2);s=Kwe(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const i=+s;let l=0,c;if(a.time&&(l=Jwe(a.time),isNaN(l)))return r();if(a.timezone){if(c=Xwe(a.timezone),isNaN(c))return r()}else{const u=new Date(i+l),d=wn(0,e==null?void 0:e.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return wn(i+l+c,e==null?void 0:e.in)}const Vh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},zwe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Wwe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Hwe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Gwe(t){const e={},r=t.split(Vh.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Vh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Vh.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=Vh.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Ywe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Kwe(t,e){if(e===null)return new Date(NaN);const r=t.match(zwe);if(!r)return new Date(NaN);const n=!!r[4],a=Bu(r[1]),s=Bu(r[2])-1,i=Bu(r[3]),l=Bu(r[4]),c=Bu(r[5])-1;if(n)return r1e(e,l,c)?Qwe(e,l,c):new Date(NaN);{const u=new Date(0);return!e1e(e,s,i)||!t1e(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,i)),u)}}function Bu(t){return t?parseInt(t):1}function Jwe(t){const e=t.match(Wwe);if(!e)return NaN;const r=yN(e[1]),n=yN(e[2]),a=yN(e[3]);return n1e(r,n,a)?r*RU+n*$U+a*1e3:NaN}function yN(t){return t&&parseFloat(t.replace(",","."))||0}function Xwe(t){if(t==="Z")return 0;const e=t.match(Hwe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return a1e(n,a)?r*(n*RU+a*$U):NaN}function Qwe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Zwe=[31,null,31,30,31,30,31,31,30,31,30,31];function BU(t){return t%400===0||t%4===0&&t%100!==0}function e1e(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Zwe[e]||(BU(t)?29:28))}function t1e(t,e){return e>=1&&e<=(BU(t)?366:365)}function r1e(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function n1e(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function a1e(t,e){return e>=0&&e<=59}const Vm="https://staging-engine.testthelink.online",s1e=[],bb=M("publicMarketTicketing/fetchPublicMarketTickets",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/publicMarketTicketing`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market tickets");return a}catch(r){return e.rejectWithValue(r.message)}}),bN=M("publicMarketTicketing/fetchPublicMarketTicketById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/publicMarketTicketing/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),xb=M("publicMarketTicketing/addPublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/publicMarketTicketing`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),vb=M("publicMarketTicketing/updatePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/publicMarketTicketing/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update public market ticket");return a}catch(r){return e.rejectWithValue(r.message)}}),jb=M("publicMarketTicketing/deletePublicMarketTicket",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Vm}/publicMarketTicketing/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete public market ticket")}return t}catch(r){return e.rejectWithValue(r.message)}}),qU=pe({name:"publicMarketTicketing",initialState:{tickets:[],currentTicket:null,isLoading:!1,error:null},reducers:{clearCurrentTicket:t=>{t.currentTicket=null}},extraReducers:t=>{t.addCase(bb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bb.fulfilled,(e,r)=>{e.isLoading=!1,e.tickets=Array.isArray(r.payload)?r.payload:[]}).addCase(bb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market tickets",console.warn("Failed to fetch tickets, using mock data.",e.error),e.tickets=s1e}).addCase(bN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(bN.fulfilled,(e,r)=>{e.isLoading=!1,e.currentTicket=r.payload}).addCase(bN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch public market ticket"}).addCase(xb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets.push(r.payload)}).addCase(xb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add public market ticket",console.error("Failed to add ticket:",e.error)}).addCase(vb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vb.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.tickets.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.tickets)||(e.tickets=[]),e.tickets[n]=r.payload),e.currentTicket&&e.currentTicket.ID===r.payload.ID&&(e.currentTicket=r.payload)}).addCase(vb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update public market ticket",console.error("Failed to update ticket:",e.error)}).addCase(jb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.tickets)||(e.tickets=[]),e.tickets=e.tickets.filter(n=>n.ID!==r.payload),e.currentTicket&&e.currentTicket.ID===r.payload&&(e.currentTicket=null)}).addCase(jb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete public market ticket",console.error("Failed to delete ticket:",e.error)})}}),{clearCurrentTicket:pWe}=qU.actions,o1e=qU.reducer,i1e=oe().shape({items:O().required("Items type is required"),startTime:Me().required("Start time is required"),endTime:Me().required("End time is required").min(Of("startTime"),"End time must be after start time"),issuedBy:O().required("Issued by is required"),dateIssued:Me().required("Date issued is required"),postingPeriod:Me().required("Posting period is required"),amountIssued:re().required("Amount issued is required").min(0,"Amount must be greater than or equal to 0"),remarks:O().required("Remarks are required")}),l1e={items:"",startTime:"",endTime:"",issuedBy:"",dateIssued:"",postingPeriod:"",amountIssued:"",remarks:""},c1e=({ticket:t,onClose:e})=>{const r=ue(),[n,a]=v.useState(!1),s=c=>c?(console.log(c),{...c,items:c.Items||"",startTime:c.StartTime?nR(aR(c.StartTime),"yyyy-MM-dd'T'HH:mm"):"",endTime:c.EndTime?nR(aR(c.EndTime),"yyyy-MM-dd'T'HH:mm"):"",issuedBy:c.IssuedBy||"",dateIssued:c.DateIssued||"",postingPeriod:c.PostingPeriod||"",amountIssued:c.AmountIssued||"",remarks:c.Remarks||""}):l1e,i=async c=>{try{a(!0);const u={Items:c.items,StartTime:new Date(c.startTime).toISOString(),EndTime:new Date(c.endTime).toISOString(),IssuedBy:c.issuedBy,DateIssued:c.dateIssued,PostingPeriod:c.postingPeriod,AmountIssued:c.amountIssued,Remarks:c.remarks};t?(await r(vb({ID:t.ID,LinkID:t.LinkID,...u})).unwrap(),De.success("Ticket updated successfully")):(await r(xb(u)).unwrap(),De.success("Ticket added successfully")),e()}catch(u){De.error(u.message||"Something went wrong")}finally{a(!1)}},l=({label:c,name:u,type:d="text",...f})=>{const[m,h]=kce(u);return o.jsxs("div",{className:"space-y-1",children:[c&&o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:c}),o.jsx(A,{...m,...f,type:d,value:m.value||"",onChange:m.onChange,onBlur:m.onBlur,className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm ${h.touched&&h.error?"border-red-500":"border-gray-300"}`}),h.touched&&h.error&&o.jsx("div",{className:"text-red-500 text-xs mt-1",children:h.error})]})};return o.jsx($e,{initialValues:s(t),validationSchema:i1e,onSubmit:i,enableReinitialize:!0,children:({isSubmitting:c,isValid:u,dirty:d,values:f})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsx(l,{label:"Items:",name:"items",type:"text",placeholder:"Enter items"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(l,{label:"Date Issued:",name:"dateIssued",type:"date",max:new Date().toISOString().split("T")[0]}),o.jsx(l,{label:"Posting Period:",name:"postingPeriod",type:"date",min:f.dateIssued})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(l,{label:"Start Time:",name:"startTime",type:"datetime-local"}),o.jsx(l,{label:"End Time:",name:"endTime",type:"datetime-local",min:f.startTime})]}),o.jsx(l,{label:"Issued By:",name:"issuedBy",type:"text",placeholder:"Enter issuer name"}),o.jsx(l,{label:"Amount Issued:",name:"amountIssued",type:"number",placeholder:"0.00",min:"0",step:"0.01"}),o.jsx(l,{label:"Remarks:",name:"remarks",type:"textarea",placeholder:"Enter remarks",rows:4}),o.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[o.jsx("button",{type:"button",onClick:e,disabled:c,className:"px-6 py-2 rounded-md border border-gray-300 shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:c||!u||!d,className:"px-6 py-2 rounded-md border border-transparent shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:c?"Saving...":t?"Update Ticket":"Add Ticket"})]})]})})},u1e=()=>{const t=ue(),[e,r]=v.useState(!1),[n,a]=v.useState(null),{tickets:s,isLoading:i,error:l}=V(h=>h.publicMarketTicketing);v.useEffect(()=>{t(bb())},[t]),v.useEffect(()=>{l&&De.error(l)},[l]);const c=()=>{a(null),r(!0)},u=async h=>{if(console.log("Deleting ticket:",h),window.confirm("Are you sure you want to delete this ticket?"))try{await t(jb(h)).unwrap(),De.success("Ticket deleted successfully")}catch(g){De.error(g.message||"Failed to delete ticket")}},d=[{key:"Items",header:"Items",accessorKey:"items"},{key:"StartTime",header:"Start Time",accessorKey:"startTime",cell:({row:h})=>new Date(h.original.startTime).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"EndTime",header:"End Time",accessorKey:"endTime",cell:({row:h})=>new Date(h.original.endTime).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},{key:"IssuedBy",header:"Issued By",accessorKey:"issuedBy"},{key:"DateIssued",header:"Date Issued",accessorKey:"dateIssued",cell:({row:h})=>new Date(h.original.dateIssued).toLocaleDateString()},{key:"PostingPeriod",header:"Posting Period",accessorKey:"postingPeriod",cell:({row:h})=>new Date(h.original.postingPeriod).toLocaleDateString()},{key:"AmountIssued",header:"Amount Issued",accessorKey:"amountIssued",cell:({row:h})=>{var g;return`${(g=h.original.amountIssued)==null?void 0:g.toLocaleString()}`}},{key:"Remarks",header:"Remarks",accessorKey:"remarks"}],m=[{icon:Yq,title:"Edit",onClick:h=>{console.log("Edit ticket:",h),a(h),r(!0)},className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:ul,title:"Delete",onClick:u,className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-50"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Public Market Tickets"}),o.jsxs(dt,{onClick:c,disabled:i,children:[o.jsx(Pde,{className:"w-5 h-5 mr-2"}),"Add Ticket"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:d,data:s,isLoading:i,actions:m})}),o.jsx(ae,{isOpen:e,onClose:()=>r(!1),title:n?"Edit Ticket":"Add Ticket",children:o.jsx(c1e,{ticket:n,onClose:()=>r(!1)})})]})};oe().shape({budgetName:O().required("Budget Name is required"),fiscalYear:O().required("Fiscal Year is required"),department:O().required("Department is required"),subDepartment:O().required("Sub-Department is required"),chartOfAccounts:O().required("Chart of Accounts is required"),fund:O().required("Fund is required"),project:O().required("Project is required"),january:O().required("January is required"),february:O().required("February is required"),march:O().required("March is required"),april:O().required("April is required"),may:O().required("May is required"),june:O().required("June is required"),july:O().required("July is required"),august:O().required("August is required"),september:O().required("September is required"),october:O().required("October is required"),november:O().required("November is required"),december:O().required("December is required")});const d1e=oe().shape({budgetName:O().required("Budget name is required"),fiscalYear:O().required("Fiscal year is required"),department:O().required("Department is required"),subDepartment:O().required("Sub department is required"),chartOfAccounts:O().required("Chart of accounts is required"),fund:O().required("Fund is required"),project:O().required("Project is required"),january:O().required("January is required"),february:O().required("February is required"),march:O().required("March is required"),april:O().required("April is required"),may:O().required("May is required"),june:O().required("June is required"),july:O().required("July is required"),august:O().required("August is required"),september:O().required("September is required"),october:O().required("October is required"),november:O().required("November is required"),december:O().required("December is required")}),sR={budgetName:"",fiscalYear:1,department:1,subDepartment:1,chartOfAccounts:1,fund:1,project:1,appropriation:0,charges:0,totalAmount:0,balance:0,january:0,february:0,march:0,april:0,may:0,june:0,july:0,august:0,september:0,october:0,november:0,december:0},f1e=[{value:1,label:"FY 202324"},{value:2,label:"FY 202425"},{value:3,label:"FY 202526"}],m1e=[{value:1,label:"Finance"},{value:2,label:"Human Resources"},{value:3,label:"Information Technology"}],h1e=[{value:1,label:"Accounts Payable"},{value:2,label:"Recruitment"},{value:3,label:"Infrastructure Support"}],p1e=[{value:1,label:"Cash and Cash Equivalents"},{value:2,label:"Accounts Receivable"},{value:3,label:"Office Supplies Expense"}],g1e=[{value:1,label:"ERP Implementation"},{value:2,label:"Employee Onboarding Automation"},{value:3,label:"Cloud Migration"}];function Ij({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...sR}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(sR)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:d1e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Budget Name",name:"budgetName",type:"text",onChange:u,onBlur:d,value:i.budgetName,error:l.budgetName,touched:c.budgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"fiscalYear",type:"select",onChange:u,onBlur:d,value:i.fiscalYear,error:l.fiscalYear,touched:c.fiscalYear,options:f1e,required:!0}),o.jsx(A,{label:"Department",name:"department",type:"select",onChange:u,onBlur:d,value:i.department,error:l.department,touched:c.department,options:m1e,required:!0}),o.jsx(A,{label:"Sub-Department",name:"subDepartment",type:"select",onChange:u,onBlur:d,value:i.subDepartment,error:l.subDepartment,touched:c.subDepartment,options:h1e,required:!0}),o.jsx(A,{label:"Chart of Accounts",name:"chartOfAccounts",type:"select",onChange:u,onBlur:d,value:i.chartOfAccounts,error:l.chartOfAccounts,touched:c.chartOfAccounts,options:p1e,required:!0}),o.jsx(A,{label:"Fund",name:"fund",type:"select",onChange:u,onBlur:d,value:i.fund,error:l.fund,touched:c.fund,options:[{value:"1",label:"General Fund"}],required:!0}),o.jsx(A,{label:"Project",name:"project",type:"select",onChange:u,onBlur:d,value:i.project,error:l.project,touched:c.project,options:g1e,required:!0}),o.jsx(A,{label:"Appropriation",name:"appropriation",onChange:u,onBlur:d,value:i.appropriation,error:l.appropriation,touched:c.appropriation,type:"number",required:!0}),o.jsx(A,{label:"Charges",name:"charges",type:"number",onChange:u,onBlur:d,value:i.charges,error:l.charges,touched:c.charges,required:!0}),o.jsx(A,{label:"Total Amount",name:"totalAmount",type:"number",onChange:u,onBlur:d,value:i.totalAmount,error:l.totalAmount,touched:c.totalAmount,required:!0}),o.jsx(A,{label:"Balance",name:"balance",type:"number",onChange:u,onBlur:d,value:i.balance,error:l.balance,touched:c.balance,required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(A,{label:"January",name:"january",type:"number",onChange:u,onBlur:d,value:i.january,error:l.january,touched:c.january}),o.jsx(A,{label:"February",name:"february",type:"number",onChange:u,onBlur:d,value:i.february,error:l.february,touched:c.february}),o.jsx(A,{label:"March",name:"march",type:"number",onChange:u,onBlur:d,value:i.march,error:l.march,touched:c.march}),o.jsx(A,{label:"April",name:"april",type:"number",onChange:u,onBlur:d,value:i.april,error:l.april,touched:c.april}),o.jsx(A,{label:"May",name:"may",type:"number",onChange:u,onBlur:d,value:i.may,error:l.may,touched:c.may}),o.jsx(A,{label:"June",name:"june",type:"number",onChange:u,onBlur:d,value:i.june,error:l.june,touched:c.june}),o.jsx(A,{label:"July",name:"july",type:"number",onChange:u,onBlur:d,value:i.july,error:l.july,touched:c.july}),o.jsx(A,{label:"August",name:"august",type:"number",onChange:u,onBlur:d,value:i.august,error:l.august,touched:c.august}),o.jsx(A,{label:"September",name:"september",type:"number",onChange:u,onBlur:d,value:i.september,error:l.september,touched:c.september}),o.jsx(A,{label:"October",name:"october",type:"number",onChange:u,onBlur:d,value:i.october,error:l.october,touched:c.october}),o.jsx(A,{label:"November",name:"november",type:"number",onChange:u,onBlur:d,value:i.november,error:l.november,touched:c.november}),o.jsx(A,{label:"December",name:"december",type:"number",onChange:u,onBlur:d,value:i.december,error:l.december,touched:c.december})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const y1e=[{value:"2024",label:"2024"},{value:"2025",label:"2025"}],b1e=[{value:"dept1",label:"Department 1"},{value:"dept2",label:"Department 2"}],x1e=[{value:"sub1",label:"Sub-Department 1"},{value:"sub2",label:"Sub-Department 2"}],v1e=[{value:"coa1",label:"Chart 1"},{value:"coa2",label:"Chart 2"}],j1e=[{value:"fund1",label:"Fund 1"},{value:"fund2",label:"Fund 2"}],oR=[{value:"proj1",label:"Project A",appropriation:"A1",charges:"C1",total:"10000",balance:"5000"},{value:"proj2",label:"Project B",appropriation:"A2",charges:"C2",total:"20000",balance:"15000"}],ZA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],w1e=oe().shape({budgetName:O().required("Required"),fiscalYear:O().required("Required"),department:O().required("Required"),subDepartment:O().required("Required"),chartOfAccount:O().required("Required"),fund:O().required("Required"),project:O().required("Required"),monthlyAmounts:oe().shape(ZA.reduce((t,e)=>(t[e]=re().min(0,"Must be >= 0").required("Required"),t),{}))});function N1e(){const[t,e]=v.useState({});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"New Budget"}),o.jsx($e,{initialValues:{budgetName:"",fiscalYear:"",department:"",subDepartment:"",chartOfAccount:"",fund:"",project:"",monthlyAmounts:ZA.reduce((r,n)=>({...r,[n]:""}),{})},validationSchema:w1e,onSubmit:r=>{console.log("Submitted:",r)},children:({values:r,handleChange:n,setFieldValue:a})=>(v.useEffect(()=>{const s=oR.find(i=>i.value===r.project);s&&e(s)},[r.project]),o.jsxs(Be,{className:"space-y-4",children:[o.jsx(A,{name:"budgetName",label:"Budget Name",type:"text",required:!0,value:r.budgetName,onChange:n}),o.jsx(A,{name:"fiscalYear",label:"Fiscal Year",type:"select",required:!0,options:y1e,value:r.fiscalYear,onChange:n}),o.jsx(A,{name:"department",label:"Department",type:"select",required:!0,options:b1e,value:r.department,onChange:n}),o.jsx(A,{name:"subDepartment",label:"Sub-Department",type:"select",required:!0,options:x1e,value:r.subDepartment,onChange:n}),o.jsx(A,{name:"chartOfAccount",label:"Chart of Accounts",type:"select",required:!0,options:v1e,value:r.chartOfAccount,onChange:n}),o.jsx(A,{name:"fund",label:"Fund",type:"select",required:!0,options:j1e,value:r.fund,onChange:n}),o.jsx(A,{name:"project",label:"Project",type:"select",required:!0,options:oR.map(s=>({value:s.value,label:s.label})),value:r.project,onChange:n}),r.project&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-neutral-50 p-4 rounded-lg border",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Appropriation:"})," ",t.appropriation]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Charges:"})," ",t.charges]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Total Amount:"})," ",t.total]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Balance:"})," ",t.balance]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:ZA.map(s=>o.jsx(A,{name:`monthlyAmounts.${s}`,label:s,type:"number",value:r.monthlyAmounts[s],onChange:n,min:"0",step:"0.01"},s))}),o.jsx("div",{className:"pt-6",children:o.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit Budget"})})]}))})]})}oe().shape({Status:O().oneOf(["Requested"]).required(),APAR:O().oneOf(["Budget Supplemental"]).required(),DocumentTypeID:re().oneOf([21]).required(),RequestedBy:re().required("Requested by (lngUser) is required"),InvoiceDate:Me().required("Invoice date is required"),InvoiceNumber:O().required("Invoice number is required"),Total:re().typeError("Total must be a number").positive("Total must be positive").required("Total is required"),Active:Yi().required("Active is required"),Remarks:O().nullable(),CreatedBy:O().required("Created by is required"),CreatedDate:Me().required("Created date is required"),ApprovalProgress:re().min(0).required("Approval progress is required"),BudgetID:re().required("Budget id is requeired"),ApprovalVersion:re().required("Approval version is required")});const Pj="https://staging-engine.testthelink.online",C1e=[],xN=M("subFunds/fetchSubFunds",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Pj}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),vN=M("subFunds/addSubFund",async(t,e)=>{try{const r=await fetch(`${Pj}/subFunds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add");return n}catch(r){return e.rejectWithValue(r.message)}}),iR=M("subFunds/updateSubFund",async(t,e)=>{try{const r=await fetch(`${Pj}/subFunds/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to update");return n}catch(r){return e.rejectWithValue(r.message)}}),jN=M("subFunds/deleteSubFund",async(t,e)=>{try{const r=await fetch(`${Pj}/subFunds/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to delete")}return t}catch(r){return e.rejectWithValue(r.message)}}),S1e=pe({name:"subFunds",initialState:{subFunds:[],isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(xN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(xN.fulfilled,(e,r)=>{e.isLoading=!1,e.subFunds=Array.isArray(r.payload)?r.payload:[]}).addCase(xN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to fetch sub funds",console.warn("Failed to fetch sub funds, using mock data.",e.error),e.subFunds=C1e}).addCase(vN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(vN.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds.push(r.payload)}).addCase(vN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to add sub fund",console.error("Failed to add sub fund:",e.error)}).addCase(iR.pending,e=>{e.isLoading=!0,e.error=null}).addCase(iR.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.subFunds.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds[n]=r.payload)}).addCase(jN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(jN.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.subFunds)||(e.subFunds=[]),e.subFunds=e.subFunds.filter(n=>n.ID!==r.payload)}).addCase(jN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message||"Failed to delete sub fund",console.error("Failed to delete sub fund:",e.error)})}}),A1e=S1e.reducer;function T1e(){ue();const[t,e]=v.useState(!1),[r,n]=v.useState(null),{budgets:a,isLoading:s}=V(m=>m.budget),i=[{id:1,budgetName:"2024 Operating Budget",fiscalYear:"2024",department:"Department 1",subDepartment:"Sub-Department 1",chartOfAccounts:"Chart of Accounts 1",fund:"General Fund",project:"Project 1",appropriation:1e6,charges:5e5,totalAmount:15e5,balance:1e6,status:"active"},{id:2,budgetName:"2024 Capital Budget",fiscalYear:"2024",department:"Department 2",subDepartment:"Sub-Department 2",chartOfAccounts:"Chart of Accounts 2",fund:"General Fund",project:"Project 2",appropriation:2e6,charges:1e6,totalAmount:3e6,balance:2e6,status:"active"}],l=[{header:"Budget Name",accessorKey:"budgetName",enableSorting:!0},{header:"Fiscal Year",accessorKey:"fiscalYear",enableSorting:!0},{header:"Department",accessorKey:"department",enableSorting:!0},{header:"Sub-Department",accessorKey:"subDepartment"},{header:"Project",accessorKey:"project"},{header:"Total Amount",accessorKey:"totalAmount",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.totalAmount)},{header:"Balance",accessorKey:"balance",cell:({row:m})=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m.original.balance)},{header:"Status",accessorKey:"status",cell:({row:m})=>o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m.original.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.original.status})}],c=()=>{n(null),e(!0)},u=m=>{n(m),e(!0)},d=m=>{console.log("Delete record:",m)},f=async m=>{try{console.log(r?"Update record:":"Create record:",m),e(!1)}catch(h){console.error("Error saving record:",h)}};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Budget Management"}),o.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(Te,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add New Budget"]})]}),o.jsx("div",{className:"bg-white shadow rounded-lg",children:o.jsx(ye,{columns:l,data:i,isLoading:s,onEdit:u,onDelete:d})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(Ij,{initialData:r,onSubmit:f,onClose:()=>e(!1)})})]})}const k1e=()=>{const t=ue(),[e,r]=v.useState(null);v.useEffect(()=>{t(Ii()),t(vo()),t(xo()),t(Ei()),a()},[t]);const n="https://staging-engine.testthelink.online",a=async()=>{try{const C=localStorage.getItem("token"),j=await fetch(`${n}/lgu`,{headers:{Authorization:`Bearer ${C}`}});if(!j.ok)throw new Error("Failed to fetch LGU data");const w=await j.json();f(w),h(w.Logo||"https://placehold.co/150x150?text=LGU+Logo")}catch(C){console.error("Error loading LGU data:",C)}},s=async(C,j)=>{try{const w=localStorage.getItem("token"),S=new FormData;Object.entries(C).forEach(([I,E])=>{S.append(I,E)}),j&&S.append("Logo",j);const T=await fetch(`${n}/lgu/${C.ID}`,{method:"PUT",headers:{Authorization:`Bearer ${w}`},body:S});if(!T.ok)throw new Error("Failed to update LGU");const k=await T.json();return f(k),h(k.Logo||"https://placehold.co/150x150?text=LGU+Logo"),!0}catch(w){return console.error("Update error:",w),!1}},{barangays:i}=V(C=>C.barangays),{municipalities:l}=V(C=>C.municipalities),{provinces:c}=V(C=>C.provinces),{regions:u}=V(C=>C.regions),[d,f]=v.useState({ID:"1",Code:"",Name:"",TIN:"",RDO:"",StreetAddress:"",BarangayName:"",MunicipalityName:"",ProvinceName:"",RegionName:"",ZIPCode:"",PhoneNumber:"",EmailAddress:"",Website:""}),[m,h]=v.useState("https://placehold.co/150x150?text=LGU+Logo"),[g,y]=v.useState(!1),x=oe({Code:O().required("Code is required"),Name:O().required("Name is required"),TIN:O().required("TIN is required"),RDO:O().required("RDO is required"),StreetAddress:O().required("Street Address is required"),BarangayID:O().required("Barangay is required"),MunicipalityID:O().required("Municipality is required"),ProvinceID:O().required("Province is required"),RegionID:O().required("Region is required"),ZIPCode:O().required("Zip Code is required"),PhoneNumber:O().required("Phone Number is required"),EmailAddress:O().email("Invalid email").required("Email is required"),Website:O().required("Website is required")}),p=tt({initialValues:d,validationSchema:x,enableReinitialize:!0,onSubmit:async(C,{setSubmitting:j})=>{await s(C,e)&&y(!1),j(!1)}}),b=C=>{var w;const j=(w=C.target.files)==null?void 0:w[0];if(j){r(j);const S=new FileReader;S.onloadend=()=>{h(S.result)},S.readAsDataURL(j)}},N=[{ID:1,Name:"RDO 1"},{ID:2,Name:"RDO 2"},{ID:3,Name:"RDO 3"},{ID:4,Name:"RDO 4"},{ID:5,Name:"RDO 5"}];return o.jsxs("div",{className:"py-6 px-4",children:[o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-blue-800",children:"LGU Maintenance"}),o.jsx("p",{className:"mt-2 text-gray-600",children:"Manage Local Government Unit information"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Wq,{className:"h-5 w-5 mr-2 text-blue-600"}),o.jsx("h2",{className:"text-lg font-semibold",children:"LGU Information"})]}),!g&&o.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition-colors w-full sm:w-auto text-center",children:"Edit Information"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("img",{src:m,className:"h-[150px] w-[150px] rounded-full object-cover",alt:"LGU Logo"}),g&&o.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"mt-2"})]}),g?o.jsxs("form",{onSubmit:p.handleSubmit,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"LGU Code",name:"Code",value:p.values.Code,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.Code,touched:p.touched.Code,required:!0}),o.jsx(A,{label:"LGU Name",name:"Name",value:p.values.Name,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.Name,touched:p.touched.Name,required:!0}),o.jsx(A,{label:"TIN",name:"TIN",value:p.values.TIN,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.TIN,touched:p.touched.TIN,required:!0}),o.jsx(A,{label:"RDO",name:"RDO",type:"select",options:N.map(C=>({value:C.ID,label:C.Name})),value:p.values.RDO,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.RDO,touched:p.touched.RDO,required:!0}),o.jsx(A,{label:"Street Address",name:"StreetAddress",value:p.values.StreetAddress,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.StreetAddress,touched:p.touched.StreetAddress,required:!0}),o.jsx(A,{label:"Barangay",name:"BarangayID",type:"select",value:p.values.BarangayID,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.BarangayID,touched:p.touched.BarangayID,options:i.map(C=>({value:C.ID,label:C.Name})),required:!0}),o.jsx(A,{label:"Municipality",name:"MunicipalityID",type:"select",value:p.values.MunicipalityID,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.MunicipalityID,touched:p.touched.MunicipalityID,options:l.map(C=>({value:C.ID,label:C.Name})),required:!0}),o.jsx(A,{label:"Province",name:"ProvinceID",type:"select",value:p.values.ProvinceID,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.ProvinceID,touched:p.touched.ProvinceID,options:c.map(C=>({value:C.ID,label:C.Name})),required:!0}),o.jsx(A,{label:"Region",name:"RegionID",type:"select",value:p.values.RegionID,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.RegionID,touched:p.touched.RegionID,options:u.map(C=>({value:C.ID,label:C.Name})),required:!0}),o.jsx(A,{label:"Zip Code",name:"ZIPCode",value:p.values.ZIPCode,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.ZIPCode,touched:p.touched.ZIPCode,required:!0}),o.jsx(A,{label:"Mobile Number",name:"PhoneNumber",value:p.values.PhoneNumber,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.PhoneNumber,touched:p.touched.PhoneNumber,required:!0}),o.jsx(A,{label:"Email",name:"EmailAddress",type:"email",value:p.values.EmailAddress,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.EmailAddress,touched:p.touched.EmailAddress,required:!0}),o.jsx(A,{label:"Website",name:"Website",value:p.values.Website,onChange:p.handleChange,onBlur:p.handleBlur,error:p.errors.Website,touched:p.touched.Website,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>{p.resetForm(),y(!1)},className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p.isSubmitting,children:p.isSubmitting?"Saving...":"Save"})]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({Code:"LGU Code",Name:"LGU Name",TIN:"TIN",RDO:"RDO",StreetAddress:"Street Address",BarangayName:"Barangay",MunicipalityName:"Municipality",ProvinceName:"Province",RegionName:"Region",ZIPCode:"ZIP Code",PhoneNumber:"Phone Number",EmailAddress:"Email Address",Website:"Website"}).map(([C,j])=>o.jsxs("div",{className:"space-y-1",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-500",children:j}),o.jsx("p",{className:"mt-1 text-sm text-gray-900",children:d[C]})]},C))})]})]})]})},O1e=({formData:t,handleInputChange:e,handleSave:r,onCancel:n,isEdit:a,handleFileUpload:s,handleRemoveAttachment:i})=>o.jsxs("div",{className:" sm:p-4 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"I. Applicant Session"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Applicant Type",name:"applicantType",type:"radio-group",options:[{value:"new",label:"New"},{value:"renewal",label:"Renewal"}],value:t.applicantType,onChange:l=>e("applicantType",l)}),o.jsx(A,{label:"Mode of Payment",name:"modeOfPayment",type:"radio-group",options:[{value:"annually",label:"Annually"},{value:"semi-annually",label:"Semi-Annually"},{value:"quarterly",label:"Quarterly"}],value:t.modeOfPayment,onChange:l=>e("modeOfPayment",l)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Date of Application",name:"dateOfApplication",type:"date",value:t.dateOfApplication,onChange:l=>e("dateOfApplication",l)}),o.jsx(A,{label:"DTI/SEC/CDA Registration No.",name:"dtiSecCdaRegistrationNo",type:"text",value:t.dtiSecCdaRegistrationNo,onChange:l=>e("dtiSecCdaRegistrationNo",l),placeholder:"Enter registration number"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"TIN No.",name:"tinNo",type:"text",value:t.tinNo,onChange:l=>e("tinNo",l),placeholder:"Enter TIN number"}),o.jsx(A,{label:"DTI/SEC/CDA Registration Date",name:"dtiSecCdaRegistrationDate",type:"date",value:t.dtiSecCdaRegistrationDate,onChange:l=>e("dtiSecCdaRegistrationDate",l)})]}),o.jsx(A,{label:"Type of Business",name:"typeOfBusiness",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"},{value:"cooperative",label:"Cooperative"}],value:t.typeOfBusiness,onChange:l=>e("typeOfBusiness",l)}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Amendment"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"From",name:"amendmentFrom",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentFrom,onChange:l=>e("amendmentFrom",l)}),o.jsx(A,{label:"To",name:"amendmentTo",type:"radio-group",options:[{value:"single",label:"Single"},{value:"partnership",label:"Partnership"},{value:"corporation",label:"Corporation"}],value:t.amendmentTo,onChange:l=>e("amendmentTo",l)})]})]}),o.jsx(A,{label:"Are you enjoying tax incentive from any Government Entity?",name:"taxIncentiveFromGovEntity",type:"radio-group",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:t.taxIncentiveFromGovEntity,onChange:l=>e("taxIncentiveFromGovEntity",l),className:"mt-4"})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Name of Taxpayer/Registrant"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(A,{label:"Last Name",name:"lastName",type:"text",value:t.lastName,onChange:l=>e("lastName",l),placeholder:"Enter last name"}),o.jsx(A,{label:"First Name",name:"firstName",type:"text",value:t.firstName,onChange:l=>e("firstName",l),placeholder:"Enter first name"}),o.jsx(A,{label:"Middle Name",name:"middleName",type:"text",value:t.middleName,onChange:l=>e("middleName",l),placeholder:"Enter middle name"})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsx(A,{label:"Business Name",name:"businessName",type:"text",value:t.businessName,onChange:l=>e("businessName",l),placeholder:"Enter business name"}),o.jsx(A,{label:"Trade Name/Franchise",name:"tradeNameFranchise",type:"text",value:t.tradeNameFranchise,onChange:l=>e("tradeNameFranchise",l),placeholder:"Enter trade name or franchise"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"II. Other Information"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Region",name:"businessRegion",type:"select",value:t.businessRegion,onChange:l=>e("businessRegion",l),options:[{value:"",label:"Select Region"},{value:"REGION II (CAGAYAN VALLEY)",label:"REGION II (CAGAYAN VALLEY)"},{value:"REGION I (ILOCOS REGION)",label:"REGION I (ILOCOS REGION)"},{value:"REGION III (CENTRAL LUZON)",label:"REGION III (CENTRAL LUZON)"},{value:"NCR",label:"NCR"}]}),o.jsx(A,{label:"Province",name:"businessProvince",type:"select",value:t.businessProvince,onChange:l=>e("businessProvince",l),options:[{value:"",label:"Select Province"},{value:"BATANES",label:"BATANES"},{value:"CAGAYAN",label:"CAGAYAN"},{value:"ISABELA",label:"ISABELA"},{value:"NUEVA VIZCAYA",label:"NUEVA VIZCAYA"}]}),o.jsx(A,{label:"Municipality",name:"businessMunicipality",type:"select",value:t.businessMunicipality,onChange:l=>e("businessMunicipality",l),options:[{value:"",label:"Select Municipality"},{value:"BASCO (Capital)",label:"BASCO (Capital)"},{value:"ITBAYAT",label:"ITBAYAT"},{value:"IVANA",label:"IVANA"},{value:"MAHATAO",label:"MAHATAO"}]}),o.jsx(A,{label:"Barangay",name:"businessBarangay",type:"select",value:t.businessBarangay,onChange:l=>e("businessBarangay",l),options:[{value:"",label:"Select Barangay"},{value:"San Antonio",label:"San Antonio"},{value:"Kayhuvokan",label:"Kayhuvokan"},{value:"Nakanmuan",label:"Nakanmuan"},{value:"Chanarian",label:"Chanarian"}]})]}),o.jsx(A,{label:"Street Address",name:"businessStreetAddress",type:"text",value:t.businessStreetAddress,onChange:l=>e("businessStreetAddress",l),placeholder:"Enter street address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Postal Code",name:"postalCode",type:"text",value:t.postalCode,onChange:l=>e("postalCode",l),placeholder:"Enter postal code"}),o.jsx(A,{label:"Email Address",name:"emailAddress",type:"email",value:t.emailAddress,onChange:l=>e("emailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsx(A,{label:"Telephone No.",name:"telephoneNo",type:"text",value:t.telephoneNo,onChange:l=>e("telephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(A,{label:"Mobile No.",name:"mobileNo",type:"text",value:t.mobileNo,onChange:l=>e("mobileNo",l),placeholder:"Enter mobile number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Owner's Address"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Street Address",name:"ownerStreetAddress",type:"text",value:t.ownerStreetAddress,onChange:l=>e("ownerStreetAddress",l),placeholder:"Street address"}),o.jsx(A,{label:"Barangay",name:"ownerBarangay",type:"text",value:t.ownerBarangay,onChange:l=>e("ownerBarangay",l),placeholder:"Barangay"}),o.jsx(A,{label:"Municipality",name:"ownerMunicipality",type:"text",value:t.ownerMunicipality,onChange:l=>e("ownerMunicipality",l),placeholder:"Municipality"}),o.jsx(A,{label:"Region",name:"ownerRegion",type:"text",value:t.ownerRegion,onChange:l=>e("ownerRegion",l),placeholder:"Region"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Postal Code",name:"ownerPostalCode",type:"text",value:t.ownerPostalCode,onChange:l=>e("ownerPostalCode",l),placeholder:"Enter postal code"}),o.jsx(A,{label:"Email Address",name:"ownerEmailAddress",type:"email",value:t.ownerEmailAddress,onChange:l=>e("ownerEmailAddress",l),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsx(A,{label:"Telephone No.",name:"ownerTelephoneNo",type:"text",value:t.ownerTelephoneNo,onChange:l=>e("ownerTelephoneNo",l),placeholder:"Enter telephone number"}),o.jsx(A,{label:"Mobile No.",name:"ownerMobileNo",type:"text",value:t.ownerMobileNo,onChange:l=>e("ownerMobileNo",l),placeholder:"Enter mobile number"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"In Case of emergency, provide name of contact person"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(A,{label:"Contact Person",name:"emergencyContactPerson",type:"text",value:t.emergencyContactPerson,onChange:l=>e("emergencyContactPerson",l),placeholder:"Enter contact person name"}),o.jsx(A,{label:"Telephone/Mobile No.",name:"emergencyContactNumber",type:"text",value:t.emergencyContactNumber,onChange:l=>e("emergencyContactNumber",l),placeholder:"Enter contact number"}),o.jsx(A,{label:"Email Address",name:"emergencyContactEmail",type:"email",value:t.emergencyContactEmail,onChange:l=>e("emergencyContactEmail",l),placeholder:"Enter email address"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsx(A,{label:"Business Area (in sqm)",name:"businessArea",type:"number",value:t.businessArea,onChange:l=>e("businessArea",l),placeholder:"Enter business area"}),o.jsx(A,{label:"Total Employees in Establishment",name:"totalEmployees",type:"number",value:t.totalEmployees,onChange:l=>e("totalEmployees",l),placeholder:"Enter total employees"}),o.jsx(A,{label:"No. of Employees Residing with LGLI",name:"employeesResidingWithLgli",type:"number",value:t.employeesResidingWithLgli,onChange:l=>e("employeesResidingWithLgli",l),placeholder:"Enter number"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Note: Fill up Only if Business Place is Rented"}),o.jsx(A,{label:"Lessor's Full Name",name:"lessorFullName",type:"text",value:t.lessorFullName,onChange:l=>e("lessorFullName",l),placeholder:"Enter lessor's full name"}),o.jsx(A,{label:"Lessor's Full Address",name:"lessorAddress",type:"text",value:t.lessorAddress,onChange:l=>e("lessorAddress",l),placeholder:"Enter lessor's address",className:"mt-4"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(A,{label:"Lessor's Telephone/Mobile No.",name:"lessorContactNumber",type:"text",value:t.lessorContactNumber,onChange:l=>e("lessorContactNumber",l),placeholder:"Enter contact number"}),o.jsx(A,{label:"Lessor's Email Address",name:"lessorEmail",type:"email",value:t.lessorEmail,onChange:l=>e("lessorEmail",l),placeholder:"Enter email address"})]}),o.jsx(A,{label:"Monthly Rental",name:"monthlyRental",type:"number",value:t.monthlyRental,onChange:l=>e("monthlyRental",l),placeholder:"Enter monthly rental amount",className:"mt-4"})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"III. Business Activity"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx(A,{label:"Line of Business",name:"lineOfBusiness",type:"text",value:t.lineOfBusiness,onChange:l=>e("lineOfBusiness",l),placeholder:"Enter line of business"}),o.jsx(A,{label:"No. Units",name:"numberOfUnits",type:"number",value:t.numberOfUnits,onChange:l=>e("numberOfUnits",l),placeholder:"Enter number of units"}),o.jsx(A,{label:"Capitalization",name:"capitalization",type:"number",value:t.capitalization,onChange:l=>e("capitalization",l),placeholder:"Enter capitalization"}),o.jsx(A,{label:"Gross Sales",name:"grossSales",type:"number",value:t.grossSales,onChange:l=>e("grossSales",l),placeholder:"Enter gross sales"})]})]}),o.jsxs("div",{className:"pb-6",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"IV. Attachments"}),o.jsxs("div",{className:"flex items-center mb-4 gap-4 justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mr-2",children:"Add Attachment"}),o.jsx("input",{type:"file",onChange:s,className:"hidden",id:"fileUpload",multiple:!0}),o.jsx("button",{type:"button",onClick:()=>document.getElementById("fileUpload").click(),className:"btn btn-outline",children:"Add"})]}),o.jsx("div",{className:"space-y-2",children:t.attachments&&t.attachments.length>0?t.attachments.map((l,c)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsx("span",{className:"text-sm truncate",children:l.name}),o.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700",children:"Delete"})]},c)):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:n,className:"btn btn-outline",children:"Cancel"}),o.jsx("button",{type:"button",onClick:r,className:"btn btn-primary",children:a?"Update Application":"Create Application"})]})]});function E1e(){const[t,e]=v.useState(!1),[r,n]=v.useState(null),[a,s]=v.useState(""),i=[{id:1,applicantType:"Renewal",modeOfPayment:"Annually",applicationDate:"1/13/2025",dtiSecCdaRegistration:"21447756",dtiRegistrationDate:"1/13/2025",businessName:"ABC Store",ownerName:"John Smith",status:"Active"},{id:2,applicantType:"New",modeOfPayment:"Semi-Annually",applicationDate:"1/14/2025",dtiSecCdaRegistration:"21447757",dtiRegistrationDate:"1/14/2025",businessName:"XYZ Restaurant",ownerName:"Jane Doe",status:"Pending"}],[l,c]=v.useState({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),u=[{key:"applicantType",header:"Applicant Type",sortable:!0},{key:"modeOfPayment",header:"Mode of Payment",sortable:!0},{key:"applicationDate",header:"Application Date",sortable:!0},{key:"dtiSecCdaRegistration",header:"DTI/SEC/CDA Registration",sortable:!0},{key:"status",header:"Status",sortable:!0,render:b=>o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b==="Active"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:b})}],d=[{icon:Gq,title:"View",onClick:b=>h(b)},{icon:Yq,title:"Edit",onClick:b=>g(b)},{icon:ul,title:"Delete",onClick:b=>y(b)}],f=(b,N)=>{c(C=>({...C,[b]:N}))},m=()=>{n(null),c({applicantType:"new",modeOfPayment:"annually",dateOfApplication:"",dtiSecCdaRegistrationNo:"",dtiSecCdaRegistrationDate:"",tinNo:"",typeOfBusiness:"single",amendmentFrom:"single",amendmentTo:"single",taxIncentiveFromGovEntity:"no",lastName:"",firstName:"",middleName:"",businessName:"",tradeNameFranchise:"",businessRegion:"",businessProvince:"",businessMunicipality:"",businessBarangay:"",businessStreetAddress:"",postalCode:"",emailAddress:"",telephoneNo:"",mobileNo:"",ownerStreetAddress:"",ownerBarangay:"",ownerMunicipality:"",ownerRegion:"",status:"Pending"}),e(!0)},h=b=>{n(b),e(!0)},g=b=>{n(b),e(!0)},y=b=>{window.confirm("Are you sure you want to delete this permit?")&&console.log("Deleting permit:",b)},x=()=>{console.log("Saving form data:",l),e(!1)},p=i.filter(b=>b.businessName.toLowerCase().includes(a.toLowerCase())||b.ownerName.toLowerCase().includes(a.toLowerCase())||b.dtiSecCdaRegistration.includes(a));return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Business Permit Applications"}),o.jsx("p",{children:"Manage business permit applications and registrations"})]}),o.jsxs("button",{type:"button",onClick:m,className:"btn btn-primary flex items-center",children:[o.jsx(NO,{className:"h-5 w-5 mr-2"}),"New Application"]})]})}),o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsx("input",{type:"text",value:a,onChange:b=>s(b.target.value),className:"w-full md:w-1/3 px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Search applications..."})}),o.jsx(ye,{columns:u,data:p,actions:d,pagination:!0})]})}),o.jsx(ae,{isOpen:t,onClose:()=>e(!1),title:r?"Edit Business Application":"New Business Application",size:"xl",children:o.jsx(O1e,{formData:l,handleInputChange:f,handleSave:x,onCancel:()=>e(!1),isEdit:!!r})})]})}function I1e(){var N;const[t,e]=v.useState({payee:"",amount:"",date:new Date().toISOString().split("T")[0],bank:"",accountNumber:"",particulars:"",checkNumber:"",brstn:"",dv:""}),[r,n]=v.useState({type:"Double",bank:"BDO-MSL - BDO Makati",dv:"10420252213355100"}),[a,s]=v.useState(""),[i,l]=v.useState(""),[c,u]=v.useState(""),d=[{value:"LBP",label:"Land Bank of the Philippines"},{value:"DBP",label:"Development Bank of the Philippines"},{value:"PNB",label:"Philippine National Bank"},{value:"BDO",label:"BDO-MSL - BDO Makati"}],f=[{id:1,name:"Leah, Bugarin, Marquez - 00000"},{id:2,name:"MElvin, Alvarez - 00001"},{id:3,name:"John, Doe - 00002"}],[m,h]=v.useState([{id:1,status:"Cheq...",linkId:"1112...",disbursementId:"8",bankType:"",signalType:"123",accountNumber:"Pedro",accountName:"456",checkNumber:"789",brstn:"1...",chP:"J.S.f.",pA:"1",vS:"6",sR:"1",aFP:"1"},{id:3,status:"Posted",linkId:"1102...",disbursementId:"1042025...",bankType:"2",signalType:"Dou...",accountNumber:"1231...",accountName:"YES",checkNumber:"0000...",brstn:"112",chP:"1...",pA:"M.I.E.",vS:"6",sR:"1",aFP:"1"},{id:4,status:"Posted",linkId:"1212...",disbursementId:"2",bankType:"Sin...",signalType:"3860...",accountNumber:"BLS IN...",accountName:"0002...",checkNumber:"010...",brstn:"2...",chP:"M.5.F.",pA:"1",vS:"2",sR:"",aFP:""},{id:5,status:"Posted",linkId:"1242...",disbursementId:"2",bankType:"Dou...",signalType:"3860...",accountNumber:"BLS IN...",accountName:"0002...",checkNumber:"010...",brstn:"2...",chP:"D.T.T.",pA:"1",vS:"2",sR:"",aFP:""},{id:6,status:"Posted",linkId:"2252...",disbursementId:"2252025...",bankType:"6",signalType:"Dou...",accountNumber:"3971...",accountName:"TESTI...",checkNumber:"0000...",brstn:"201",chP:"1...",pA:"C.9.N.",vS:"1",sR:"1",aFP:"2"},{id:7,status:"Posted",linkId:"2252...",disbursementId:"2252025...",bankType:"8",signalType:"Dou...",accountNumber:"1005...",accountName:"test",checkNumber:"2132...",brstn:"1231",chP:"2...",pA:"C.1.N.",vS:"4",sR:"1",aFP:"2"},{id:8,status:"Posted",linkId:"2262...",disbursementId:"2262025...",bankType:"5",signalType:"Dou...",accountNumber:"1202...",accountName:"PNB",checkNumber:"1221...",brstn:"121",chP:"2...",pA:"C.7.S.",vS:"1",sR:"1",aFP:"2"},{id:9,status:"Posted",linkId:"2262...",disbursementId:"2262025...",bankType:"6",signalType:"Dou...",accountNumber:"3123...",accountName:"wewe",checkNumber:"2312...",brstn:"121",chP:"1...",pA:"C.6.S.",vS:"2",sR:"3",aFP:"2"},{id:10,status:"Posted",linkId:"3042...",disbursementId:"3042025...",bankType:"6",signalType:"Dou...",accountNumber:"2132...",accountName:"cedric",checkNumber:"1231...",brstn:"213",chP:"0...",pA:"C.9.N.",vS:"6",sR:"1",aFP:"2"},{id:11,status:"Posted",linkId:"3052...",disbursementId:"3052025...",bankType:"5",signalType:"Dou...",accountNumber:"2131...",accountName:"test",checkNumber:"2132...",brstn:"1332",chP:"0...",pA:"C.1.O.",vS:"1",sR:"1",aFP:"2"}]),g=C=>{const{name:j,value:w}=C.target;e(S=>({...S,[j]:w}))},y=(C,j)=>{n(w=>({...w,[C]:j}))},x=()=>{window.print()},p=C=>C?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(C)+" ONLY":"Enter Amount",b=m.filter(C=>Object.values(C).some(j=>j.toString().toLowerCase().includes(a.toLowerCase())));return o.jsxs("div",{className:"md:p-6 bg-gray-50 min-h-screen",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Cheque Generator"}),o.jsx("p",{className:"text-gray-600",children:"Generate and print cheques"})]}),o.jsxs("button",{type:"button",onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center hover:bg-blue-700",children:[o.jsx(oA,{className:"h-5 w-5 mr-2"}),"Print Cheque"]})]}),o.jsxs("div",{className:"grid grid-cols-1  xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Cheque Template"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bank:"}),o.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:r.bank})]}),o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Single",checked:r.type==="Single",onChange:C=>y("type",C.target.value),className:"mr-2"}),"Single"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",name:"chequeType",value:"Double",checked:r.type==="Double",onChange:C=>y("type",C.target.value),className:"mr-2"}),"Double"]})]})}),o.jsx("button",{className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded hover:bg-gray-300",children:"Choose Bank"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"DV:"}),o.jsx("input",{type:"text",value:r.dv,onChange:C=>y("dv",C.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-yellow-700",children:"Cheque Details"}),o.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:"Status: Posted"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Number:"}),o.jsx("input",{type:"text",name:"accountNumber",value:"1231312123",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Account Name:"}),o.jsx("input",{type:"text",value:"YES",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Check Number:"}),o.jsx("input",{type:"text",name:"checkNumber",value:"00007111",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"BRSTN:"}),o.jsx("input",{type:"text",name:"brstn",value:"112",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date:"}),o.jsx("input",{type:"date",name:"date",value:"2024-11-11",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pay to the order of:"}),o.jsx("input",{type:"text",name:"payee",value:"MElvin Alvarez",onChange:g,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount:"}),o.jsx("input",{type:"number",name:"amount",value:"18600.00",onChange:g,className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",step:"0.01"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount in Words:"}),o.jsx("input",{type:"text",value:"EIGHTEEN THOUSAND SIX HUNDRED PESOS",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 text-yellow-700",children:"Signatories"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("button",{className:"w-full bg-blue-100 text-blue-800 py-2 px-4 rounded hover:bg-blue-200",children:"Choose number 1"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Signatory 1:"}),o.jsxs("select",{value:i,onChange:C=>l(C.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"Select signatory"}),f.map(C=>o.jsx("option",{value:C.name,children:C.name},C.id))]})]})]}),o.jsxs("div",{children:[o.jsx("button",{className:"w-full bg-blue-100 text-blue-800 py-2 px-4 rounded hover:bg-blue-200",children:"Choose number 2"}),o.jsxs("div",{className:"mt-2",children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Signatory 2:"}),o.jsxs("select",{value:c,onChange:C=>u(C.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[o.jsx("option",{value:"",children:"Select signatory"}),f.map(C=>o.jsx("option",{value:C.name,children:C.name},C.id))]})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-700",children:"Additional Info"}),o.jsx("textarea",{placeholder:"Additional information...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3"})]})]})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 gap-4 flex-wrap",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"Check List"}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(sfe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:C=>s(C.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-xs border-collapse border border-gray-300",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Status"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Link ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Disbursement ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Bank Type"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Signal Type"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Account Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Account Name"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Check Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"BRSTN"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"Ch P"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"P A"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"V S"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"S R"}),o.jsx("th",{className:"border border-gray-300 p-2 text-left min-w-fit whitespace-nowrap",children:"A FP"})]})}),o.jsx("tbody",{children:b.map((C,j)=>o.jsxs("tr",{className:j%2===0?"bg-white":"bg-gray-50",children:[o.jsx("td",{className:"border border-gray-300 p-2",children:C.id}),o.jsx("td",{className:"border border-gray-300 p-2",children:o.jsx("span",{className:`px-2 py-1 rounded text-xs ${C.status==="Posted"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:C.status})}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.linkId}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.disbursementId}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.bankType}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.signalType}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.accountNumber}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.accountName}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.checkNumber}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.brstn}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.chP}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.pA}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.vS}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.sR}),o.jsx("td",{className:"border border-gray-300 p-2",children:C.aFP})]},C.id))})]})})]}),o.jsxs("div",{className:"mt-6 bg-white p-6 rounded-lg shadow border",children:[o.jsx("h2",{className:"text-lg font-medium mb-4",children:"Cheque Preview"}),o.jsx("div",{className:"border border-gray-300 p-6 rounded-lg bg-white shadow",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Bank"}),o.jsx("p",{className:"font-medium",children:((N=d.find(C=>C.value===t.bank))==null?void 0:N.label)||"BDO-MSL - BDO Makati"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),o.jsx("p",{className:"font-medium",children:t.date?new Date(t.date).toLocaleDateString():new Date().toLocaleDateString()})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Pay to the Order of"}),o.jsx("p",{className:"font-medium text-lg border-b border-gray-300 pb-1",children:t.payee||"MElvin Alvarez"})]}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount in Words"}),o.jsx("p",{className:"font-medium",children:t.amount?p(t.amount):"EIGHTEEN THOUSAND SIX HUNDRED PESOS ONLY"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-gray-500",children:"Amount"}),o.jsx("p",{className:"font-medium text-lg",children:t.amount?new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(t.amount):"18,600.00"})]})]}),o.jsx("div",{className:"mt-12 pt-4 border-t border-gray-300",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Authorized Signature"})})})]})})]})]})}function P1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=oe({ChartofAccountsID:O().required("Chart of Accounts is required"),CutOffDate:O().required("Cut Off Date is required"),FundID:O().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:y,setFieldValue:x})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Chart of Accounts",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:e,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsID",value:e.find(p=>String(p.value)===String(d.ChartofAccountsID))||null,onChange:p=>x("ChartofAccountsID",(p==null?void 0:p.value)||""),onBlur:g}),f.ChartofAccountsID&&m.ChartofAccountsID&&o.jsx("p",{className:"mt-1 text-sm text-error-600",children:f.ChartofAccountsID})]}),o.jsx(A,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:g,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundID",options:t.map(p=>({value:p.ID,label:p.Name})),value:d.FundID,onChange:h,onBlur:g,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const D1e="https://staging-engine.testthelink.online",_1e={generalLedgers:[],isLoading:!1,error:null},wb=M("generalLedger/fetchGeneralLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${D1e}/generalLedger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching general ledgers:",r),e.rejectWithValue(r.message)}}),wN=M("generalLedger/exportGeneralLedgers",async t=>!0),VU=pe({name:"generalLedger",initialState:_1e,reducers:{resetGeneralLedgerState:t=>{t.generalLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(wb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wb.fulfilled,(e,r)=>{e.isLoading=!1,e.generalLedgers=r.payload}).addCase(wb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(wN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(wN.fulfilled,e=>{e.isLoading=!1}).addCase(wN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetGeneralLedgerState:$1e}=VU.actions,R1e=VU.reducer;function M1e(){const t="https://staging-engine.testthelink.online",e=ue(),{generalLedgers:r,isLoading:n,error:a}=V(f=>f.generalLedger),{funds:s}=V(f=>f.funds),{accounts:i}=V(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e($1e()),e(Xr()),e(pn())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"ap_ar",header:"AP AR",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"invoice_number",header:"Invoice Number",sortable:!0},{key:"account_code_display",header:"Account Code Display",sortable:!0},{key:"account_name_display",header:"Account Name Display",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/generalLedger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:f.startDate,endDate:f.endDate,fundID:f.fundID})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),g=m.headers.get("Content-Disposition");let y="General_Ledger.xlsx";g&&g.includes("filename=")&&(y=g.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(h),p=document.createElement("a");p.href=x,p.download=y,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export general ledger")}},d=f=>{e(wb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"General Ledger"}),o.jsx("p",{children:"Generate general ledger reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(P1e,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:c,data:r,loading:n,pagination:!0})})]})}function L1e({funds:t=[],accountOptions:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=oe({ChartofAccountsID:O().required("Chart of Accounts is required"),CutOffDate:O().required("Cut Off Date is required"),FundID:O().required("Fund is required")}),c={ChartofAccountsID:"",CutOffDate:"",FundID:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:y,setFieldValue:x})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"form-label",children:["Chart of Accounts",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx(xr,{options:e,placeholder:"Select a chart of account...",isSearchable:!0,name:"ChartofAccountsID",value:e.find(p=>String(p.value)===String(d.ChartofAccountsID))||null,onChange:p=>x("ChartofAccountsID",(p==null?void 0:p.value)||""),onBlur:g}),f.ChartofAccountsID&&m.ChartofAccountsID&&o.jsx("p",{className:"mt-1 text-sm text-error-600",children:f.ChartofAccountsID})]}),o.jsx(A,{label:"Cut Off Date",name:"CutOffDate",type:"date",value:d.CutOffDate,onChange:h,onBlur:g,error:f.CutOffDate,touched:m.CutOffDate,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"FundID",options:t.map(p=>({value:p.ID,label:p.Name})),value:d.FundID,onChange:h,onBlur:g,error:f.FundID,touched:m.FundID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Ledger"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const F1e="https://staging-engine.testthelink.online",B1e={subsidiaryLedgers:[],isLoading:!1,error:null},Nb=M("subsidiaryLedger/fetchSubsidiaryLedgers",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${F1e}/subsidiaryLeadger/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching subsidiary ledger:",r),e.rejectWithValue(r.message)}}),NN=M("subsidiaryLedger/exportSubsidiaryLedgers",async t=>!0),UU=pe({name:"subsidiaryLedger",initialState:B1e,reducers:{resetSubsidiaryLedgerState:t=>{t.subsidiaryLedgers=[],t.error=null}},extraReducers:t=>{t.addCase(Nb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Nb.fulfilled,(e,r)=>{e.isLoading=!1,e.subsidiaryLedgers=r.payload}).addCase(Nb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(NN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(NN.fulfilled,e=>{e.isLoading=!1}).addCase(NN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetSubsidiaryLedgerState:q1e}=UU.actions,V1e=UU.reducer;function U1e(){const t="https://staging-engine.testthelink.online",e=ue(),{subsidiaryLedgers:r,isLoading:n,error:a}=V(f=>f.subsidiaryLedger),{funds:s}=V(f=>f.funds),{accounts:i}=V(f=>f.chartOfAccounts),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(q1e()),e(Xr()),e(pn())},[e]);const c=[{key:"id",header:"ID",sortable:!0},{key:"fund",header:"Fund",sortable:!0},{key:"account_name",header:"Account Name",sortable:!0},{key:"account_code",header:"Account Code",sortable:!0},{key:"date",header:"Date",sortable:!0},{key:"ledger_item",header:"Ledger Item",sortable:!0},{key:"debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:f=>l(f),className:"text-right"},{key:"municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/subsidiaryLeadger/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startDate:f.startDate,endDate:f.endDate,fundID:f.fundID})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),g=m.headers.get("Content-Disposition");let y="Subsidiary_Ledger.xlsx";g&&g.includes("filename=")&&(y=g.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(h),p=document.createElement("a");p.href=x,p.download=y,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export subsidiary ledger")}},d=f=>{e(Nb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Subsidiary Ledger"}),o.jsx("p",{children:"Generate subsidiary ledger reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(L1e,{funds:s,accountOptions:i.map(f=>({value:f.ID,label:`${f.AccountCode} - ${f.Name}`})),onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:c,data:r,loading:n,pagination:!0})})]})}function z1e({onView:t,onGenerateJournal:e,onExportExcel:r}){const n=v.useRef(null),a=oe({year:O().required("Year is required")}),s={year:new Date().getFullYear()-1},i=(l,{setSubmitting:c})=>{const u=n.current;u==="view"?t(l):u==="generate"?e(l):u==="export"&&r(l),c(!1),n.current=null};return o.jsx($e,{initialValues:s,validationSchema:a,onSubmit:i,validateOnMount:!0,children:({values:l,errors:c,touched:u,handleChange:d,handleBlur:f,isSubmitting:m,setFieldValue:h})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-1",children:o.jsx(A,{label:"Year",name:"year",type:"number",value:l.year,onChange:d,onBlur:f,error:c.year,touched:u.year,required:!0})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:m,onClick:()=>n.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:m,children:"Generate FSP"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:m,onClick:()=>n.current="export",children:"Export to Excel"})]})]})})}const W1e="https://staging-engine.testthelink.online",H1e={financialStatements:[],isLoading:!1,error:null},Cb=M("financialStatement/fetchFinancialStatements",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${W1e}/financialStatementsReports/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching financial statements:",r),e.rejectWithValue(r.message)}}),CN=M("financialStatement/exportFinancialStatements",async t=>!0),zU=pe({name:"financialStatement",initialState:H1e,reducers:{resetFinancialStatementState:t=>{t.financialStatements=[],t.error=null}},extraReducers:t=>{t.addCase(Cb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Cb.fulfilled,(e,r)=>{e.isLoading=!1,e.financialStatements=r.payload}).addCase(Cb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(CN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(CN.fulfilled,e=>{e.isLoading=!1}).addCase(CN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetFinancialStatementState:G1e}=zU.actions,Y1e=zU.reducer;function K1e(){const t="https://staging-engine.testthelink.online",e=ue(),{financialStatements:r,isLoading:n,error:a}=V(u=>u.financialStatementsReports);v.useEffect(()=>{e(G1e())},[e]);const s=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),i=[{key:"Type",header:"Type",sortable:!0},{key:"Term",header:"Term",sortable:!0},{key:"SubType",header:"Sub Type",sortable:!0},{key:"Notes",header:"Notes",sortable:!0},{key:"Values",header:"Values",sortable:!0,render:u=>s(u),className:"text-right"},{key:"Comparison",header:"Comparison",sortable:!0,render:u=>s(u),className:"text-right"}],l=async u=>{try{const d=await fetch(`${t}/financialStatementsReports/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({year:u.year})});if(!d.ok)throw new Error("Server response was not ok");const f=await d.blob(),m=d.headers.get("Content-Disposition");let h="Consolidated_Statement_of_Financial_Position.xlsx";m&&m.includes("filename=")&&(h=m.split("filename=")[1].replace(/['"]/g,""));const g=window.URL.createObjectURL(f),y=document.createElement("a");y.href=g,y.download=h,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(g)}catch(d){console.error("Export failed:",d),alert(d.message||"Failed to export")}},c=u=>{e(Cb(u))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Consolidated Comparison"}),o.jsx("p",{children:"Generate reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(z1e,{onExportExcel:l,onView:c,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:i,data:r,loading:n,pagination:!0})})]})}function lR(){const[t,e]=v.useState({year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),reportType:"summary",fund:""}),r=[{value:"General Fund",label:"General Fund"},{value:"Special Education Fund",label:"Special Education Fund"},{value:"Trust Fund",label:"Trust Fund"}],n=[{value:"summary",label:"Budget Summary"},{value:"saaob",label:"Statement of Appropriations, Allotments and Obligations"},{value:"scba",label:"Statement of Comparison of Budget and Actual Amounts"}],a=c=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(c),s=c=>new Intl.NumberFormat("en-PH",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(c),i=[{id:1,accountCode:"5-01-01-010",accountTitle:"Personal Services - Regular",appropriation:5e6,allotment:45e5,obligation:35e5,balance:1e6,utilizationRate:.78},{id:2,accountCode:"5-02-01-010",accountTitle:"Traveling Expenses - Local",appropriation:1e6,allotment:8e5,obligation:6e5,balance:2e5,utilizationRate:.75}],l=[{key:"accountCode",header:"Account Code",sortable:!0,className:"font-medium text-neutral-900"},{key:"accountTitle",header:"Account Title",sortable:!0},{key:"appropriation",header:"Appropriation",sortable:!0,render:c=>a(c),className:"text-right"},{key:"allotment",header:"Allotment",sortable:!0,render:c=>a(c),className:"text-right"},{key:"obligation",header:"Obligation",sortable:!0,render:c=>a(c),className:"text-right"},{key:"balance",header:"Balance",sortable:!0,render:c=>a(c),className:"text-right"},{key:"utilizationRate",header:"Utilization",sortable:!0,render:c=>s(c),className:"text-right"}];return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Budget Reports"}),o.jsx("p",{children:"View and generate budget utilization reports"})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(nB,{className:"h-5 w-5 mr-2"}),"Export"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center",children:[o.jsx(tl,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(A,{label:"Year",name:"year",type:"number",value:t.year,onChange:c=>e({...t,year:c.target.value}),min:"2000",max:"2100"}),o.jsx(A,{label:"Month",name:"month",type:"select",value:t.month,onChange:c=>e({...t,month:c.target.value}),options:[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}]}),o.jsx(A,{label:"Report Type",name:"reportType",type:"select",value:t.reportType,onChange:c=>e({...t,reportType:c.target.value}),options:n}),o.jsx(A,{label:"Fund",name:"fund",type:"select",value:t.fund,onChange:c=>e({...t,fund:c.target.value}),options:r})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{},children:"Generate Report"})})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Local Government Unit"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Statement of Appropriations, Allotments and Obligations"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the Month Ended ",new Date(t.year,t.month-1).toLocaleDateString("en-PH",{month:"long",year:"numeric"})]})]}),o.jsx(ye,{columns:l,data:i,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Appropriation"}),o.jsx("p",{className:"text-lg font-semibold",children:a(i.reduce((c,u)=>c+u.appropriation,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Allotment"}),o.jsx("p",{className:"text-lg font-semibold",children:a(i.reduce((c,u)=>c+u.allotment,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Obligation"}),o.jsx("p",{className:"text-lg font-semibold",children:a(i.reduce((c,u)=>c+u.obligation,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Overall Utilization"}),o.jsx("p",{className:"text-lg font-semibold",children:s(i.reduce((c,u)=>c+u.obligation,0)/i.reduce((c,u)=>c+u.appropriation,0))})]})]})})]})]})}function J1e(){const[t,e]=v.useState({startDate:"2024-01-01",endDate:"2024-01-31",year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString().padStart(2,"0"),formType:"2307",payeeType:"vendor",vendor:"1"}),r=[{value:"1",label:"ABC Office Supplies"},{value:"2",label:"XYZ Construction"},{value:"3",label:"Tech Solutions Inc."},{value:"4",label:"Global Logistics"},{value:"5",label:"Premium Services Co."}],n=[{value:"101",label:"Juan Dela Cruz"},{value:"102",label:"Maria Santos"},{value:"103",label:"Pedro Reyes"},{value:"104",label:"Ana Lopez"},{value:"105",label:"Luis Garcia"}],a=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(u),s=[{id:1,date:"2024-01-15",reference:"DV-2024-01-0015",description:"Payment for office supplies",grossAmount:5e4,taxRate:.02,taxWithheld:1e3,netAmount:49e3},{id:2,date:"2024-01-20",reference:"DV-2024-01-0023",description:"Payment for IT equipment",grossAmount:1e5,taxRate:.02,taxWithheld:2e3,netAmount:98e3},{id:3,date:"2024-01-25",reference:"DV-2024-01-0032",description:"Payment for maintenance services",grossAmount:75e3,taxRate:.02,taxWithheld:1500,netAmount:73500},{id:4,date:"2024-01-28",reference:"DV-2024-01-0041",description:"Payment for office furniture",grossAmount:12e4,taxRate:.02,taxWithheld:2400,netAmount:117600}],i=[{key:"date",header:"Date",sortable:!0,render:u=>new Date(u).toLocaleDateString()},{key:"reference",header:"Reference",sortable:!0,className:"font-medium text-neutral-900"},{key:"description",header:"Description",sortable:!0},{key:"grossAmount",header:"Gross Amount",sortable:!0,render:u=>a(u),className:"text-right"},{key:"taxRate",header:"Tax Rate",sortable:!0,render:u=>`${(u*100).toFixed(2)}%`,className:"text-right"},{key:"taxWithheld",header:"Tax Withheld",sortable:!0,render:u=>a(u),className:"text-right"},{key:"netAmount",header:"Net Amount",sortable:!0,render:u=>a(u),className:"text-right"}],c=(()=>{if(t.payeeType==="employee")return{tin:"987-654-321-000",name:(n.find(d=>d.value===t.vendor)||n[0]).label,address:"Employee Address, City",zipCode:"1000"};{const u=r.find(d=>d.value===t.vendor)||r[0];return{tin:"123-456-789-000",name:u.label,address:`${u.label} Street, Business District`,zipCode:"2000"}}})();return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-[200px]",children:[o.jsx("h1",{className:"text-lg font-semibold",children:"BIR Reports"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Generate BIR forms and reports"})]}),o.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap w-full sm:w-auto gap-2 sm:justify-end",children:[o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(nB,{className:"h-5 w-5 mr-2"}),"Export"]}),o.jsxs("button",{type:"button",className:"btn btn-outline flex items-center justify-center flex-1 sm:flex-initial",children:[o.jsx(tl,{className:"h-5 w-5 mr-2"}),"Print"]})]})]})}),o.jsxs("div",{className:"mt-4 card p-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(A,{label:"From Date",name:"startDate",type:"date",value:t.startDate,onChange:u=>e({...t,startDate:u.target.value})}),o.jsx(A,{label:"To Date",name:"endDate",type:"date",value:t.endDate,onChange:u=>e({...t,endDate:u.target.value})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payee Type"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"employee",checked:t.payeeType==="employee",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Employee"})]}),o.jsxs("label",{className:"inline-flex items-center",children:[o.jsx("input",{type:"radio",className:"form-radio",name:"payeeType",value:"vendor",checked:t.payeeType==="vendor",onChange:u=>e({...t,payeeType:u.target.value,vendor:""})}),o.jsx("span",{className:"ml-2",children:"Vendor"})]})]})]}),o.jsx(A,{label:t.payeeType==="employee"?"Employee":"Vendor",name:"vendor",type:"select",value:t.vendor,onChange:u=>e({...t,vendor:u.target.value}),options:t.payeeType==="employee"?n:r})]}),o.jsx("div",{className:"flex justify-end mt-4",children:o.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Generating report with filters:",t)},children:"Generate Report"})})]}),t.formType==="2307"&&o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"text-center space-y-2 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Certificate of Creditable Tax Withheld at Source"}),o.jsx("h3",{className:"text-lg font-semibold",children:"BIR Form No. 2307"}),o.jsxs("p",{className:"text-sm text-neutral-600",children:["For the period from"," ",new Date(t.startDate).toLocaleDateString()," to"," ",new Date(t.endDate).toLocaleDateString()]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payor Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," 000-123-456-789"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," Local Government Unit of Sample City"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," City Hall Building, Main Street"]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," 4100"]})]})]}),o.jsxs("div",{className:"card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Payee Details"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"TIN:"})," ",c.tin]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Name:"})," ",c.name]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"Address:"})," ",c.address]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-neutral-500",children:"ZIP Code:"})," ",c.zipCode]})]})]})]}),o.jsx(ye,{columns:i,data:s,pagination:!0}),o.jsx("div",{className:"mt-4 p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Gross Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.grossAmount,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Tax Withheld"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.taxWithheld,0))})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-600",children:"Total Net Amount"}),o.jsx("p",{className:"text-lg font-semibold",children:a(s.reduce((u,d)=>u+d.netAmount,0))})]})]})}),o.jsxs("div",{className:"mt-6 card p-4",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Certification"}),o.jsx("p",{className:"text-sm mb-4",children:"I/We certify under penalty of perjury that this certificate has been made in good faith, verified by me/us, and to the best of my/our knowledge and belief, is true and correct."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Prepared by:"}),o.jsx("p",{className:"font-medium",children:"Juan Dela Cruz"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Accounting Staff"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-500",children:"Certified correct by:"}),o.jsx("p",{className:"font-medium",children:"Maria Santos"}),o.jsx("p",{className:"text-sm text-neutral-600",children:"Treasurer"})]})]})]})]})]})}const cR="https://staging-engine.testthelink.online",SN={view:!1,add:!1,edit:!1,delete:!1,print:!1,mayor:!1};function X1e(){const t=ue(),{userroles:e,isLoading:r,error:n}=V(h=>h.userroles),a=V(h=>h.modules.modules),[s,i]=v.useState(null),[l,c]=v.useState({});v.useEffect(()=>{t(ec()),t(Rd())},[t]),v.useEffect(()=>{e.length>0&&!s&&i(e[0])},[e]),v.useEffect(()=>{if(!(s!=null&&s.ID)||a.length===0)return;(async()=>{try{const g=await fetch(`${cR}/moduleAccess/${s.ID}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),y=await g.json();if(!g.ok)throw new Error(y.message||"Failed to fetch access");const x={};y.forEach(b=>{x[b.ModuleID]={id:b.ID,view:!!b.View,add:!!b.Add,edit:!!b.Edit,delete:!!b.Delete,print:!!b.Print,mayor:!!b.Mayor}});const p={};a.forEach(b=>{p[b.ID]=x[b.ID]||{...SN}}),c(p)}catch(g){console.error("Error loading module access:",g.message)}})()},[s,a]);const u=(h,g)=>{c(y=>({...y,[h]:{...y[h],[g]:!y[h][g]}}))},d=h=>{const g={};a.forEach(y=>{g[y.ID]={...l[y.ID]||SN,view:h,add:h,edit:h,delete:h,print:h,mayor:h}}),c(g)},f=(h,g)=>{const y={...l};a.forEach(x=>{y[x.ID]={...y[x.ID]||SN,[h]:g}}),c(y)},m=async()=>{if(!(s!=null&&s.ID))return;const h=Object.entries(l).map(([g,y])=>({id:y.id||null,ModuleID:parseInt(g),View:y.view?1:0,Add:y.add?1:0,Edit:y.edit?1:0,Delete:y.delete?1:0,Print:y.print?1:0,Mayor:y.mayor?1:0}));try{const g=await fetch(`${cR}/moduleAccess`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({UserAccessID:s.ID,modules:h})});if(!g.ok){const y=await g.json();throw new Error(y.message||"Failed to save permissions")}alert("Permissions saved successfully!")}catch(g){console.error("Save failed:",g.message),alert("Error saving permissions.")}};return o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("header",{className:"page-header space-y-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"User Access"}),o.jsx("p",{className:"text-gray-600",children:"Manage user roles and module access."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[o.jsx("input",{type:"text",placeholder:"Search role...",className:"border px-3 py-2 rounded-md w-full sm:w-60"}),o.jsx("button",{className:"btn btn-primary flex items-center",onClick:m,children:"Save"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3 bg-white border rounded shadow",children:[o.jsx("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:"Roles"}),r?o.jsx("div",{className:"p-4 text-center",children:"Loading roles..."}):n?o.jsx("div",{className:"p-4 text-center text-red-500",children:n}):e.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No roles found."}):o.jsx("ul",{children:e.map(h=>o.jsx("li",{onClick:()=>i(h),className:`px-4 py-2 cursor-pointer hover:bg-blue-50 ${(s==null?void 0:s.ID)===h.ID?"bg-blue-200 font-semibold":""}`,children:h.Description},h.ID))})]}),o.jsxs("div",{className:"lg:col-span-9 bg-white border rounded shadow overflow-x-auto",children:[o.jsxs("div",{className:"border-b p-2 bg-blue-100 font-medium text-center",children:["Permissions for: ",(s==null?void 0:s.Description)||""]}),o.jsxs("table",{className:"min-w-[700px] w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2",children:"Module"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("th",{className:"px-2 capitalize text-center",children:o.jsx("div",{className:"flex flex-col items-center",children:o.jsx("span",{children:h})})},h))]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("td",{className:"px-4 py-1 font-medium",children:"Select All"}),["view","add","edit","delete","print","mayor"].map(h=>o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:a.every(g=>{var y;return(y=l[g.ID])==null?void 0:y[h]}),onChange:g=>f(h,g.target.checked),className:"accent-blue-600"})},`select-all-${h}`))]}),a.map(h=>o.jsxs("tr",{className:"border-t",children:[o.jsx("td",{className:"px-4 py-1",children:h.Description}),["view","add","edit","delete","print","mayor"].map(g=>{var y;return o.jsx("td",{className:"text-center",children:o.jsx("input",{type:"checkbox",checked:((y=l[h.ID])==null?void 0:y[g])||!1,onChange:()=>u(h.ID,g),className:"accent-blue-600"})},g)})]},h.ID))]})]}),o.jsxs("div",{className:"p-2 border-t space-x-2",children:[o.jsx("button",{onClick:()=>d(!0),className:"btn btn-outline",children:"Select All"}),o.jsx("button",{onClick:()=>d(!1),className:"btn btn-outline",children:"Deselect All"})]})]})]})]})}const Q1e=()=>{const t=wm(),[e,r]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""});ue();const[n,a]=v.useState({current:!1,new:!1,confirm:!1}),s=u=>{r(d=>({...d,[u.target.name]:u.target.value}))},i=u=>{a(d=>({...d,[u]:!d[u]}))},l=async u=>{if(u.preventDefault(),!e.currentPassword||!e.newPassword||!e.confirmPassword){vr.error("Please fill out all fields");return}if(e.newPassword!==e.confirmPassword){vr.error("New passwords do not match");return}try{await new Promise(d=>setTimeout(d,1e3)),vr.success("Password updated successfully!"),t("/dashboard")}catch(d){vr.error(d.message)}finally{r({currentPassword:"",newPassword:"",confirmPassword:""})}},c=(u,d,f)=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:u}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:n[f]?"text":"password",name:d,value:e[d],onChange:s,className:"block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 pr-10"}),o.jsx("button",{type:"button",onClick:()=>i(f),className:"absolute inset-y-0 right-2 flex items-center text-gray-500 hover:text-gray-700",children:n[f]?o.jsx(Yde,{size:18}):o.jsx(Gq,{size:18})})]})]});return o.jsxs("div",{className:"p-6 max-w-3xl mx-auto animate-fade-in bg-white rounded-lg shadow-sm border border-gray-100",children:[o.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center text-blue-600 hover:text-blue-800 mb-6 transition",children:[o.jsx(Wde,{className:"h-5 w-5 mr-2"}),o.jsx("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]}),o.jsx("h1",{className:"text-3xl font-bold text-blue-800 mb-4",children:"Change Password"}),o.jsxs("form",{className:"space-y-4",onSubmit:l,children:[c("Current Password","currentPassword","current"),c("New Password","newPassword","new"),c("Confirm New Password","confirmPassword","confirm"),o.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition",children:"Update Password"})]})]})},Z1e={approved:"bg-green-100 text-green-700",requested:"bg-blue-100 text-blue-700",pending:"bg-yellow-100 text-yellow-700",rejected:"bg-red-100 text-red-700"},eNe=({documents:t})=>o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[o.jsx("thead",{className:"bg-gray-100 text-left text-sm font-medium text-gray-600",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Status"}),o.jsx("th",{className:"px-4 py-3",children:"AP AR"}),o.jsx("th",{className:"px-4 py-3",children:"Invoice Date"}),o.jsx("th",{className:"px-4 py-3",children:"Invoice #"}),o.jsx("th",{className:"px-4 py-3 text-right",children:"Total"}),o.jsx("th",{className:"px-4 py-3",children:"Funds"})]})}),o.jsx("tbody",{className:"text-sm text-gray-700 divide-y divide-gray-200",children:t.map(e=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-4 py-3",children:o.jsx("div",{className:"flex gap-2 flex-wrap",children:e.status.map(r=>o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z1e[r]}`,children:r},r))})}),o.jsx("td",{className:"px-4 py-3",children:e.apar}),o.jsx("td",{className:"px-4 py-3",children:e.invoiceDate}),o.jsx("td",{className:"px-4 py-3",children:e.invoiceNumber}),o.jsx("td",{className:"px-4 py-3 text-right",children:e.total}),o.jsx("td",{className:"px-4 py-3",children:e.funds})]},e.id))})]})}),qu=[{id:1,status:["approved"],apar:"Disbursement Voucher",invoiceDate:"2024-06-01",invoiceNumber:"INV-001",total:"$15,000.00",funds:"General Fund",owner:"Me"},{id:2,status:["requested","pending"],apar:"Obligation Request",invoiceDate:"2024-06-03",invoiceNumber:"INV-002",total:"$25,000.00",funds:"Special Fund",owner:"Department"},{id:3,status:["rejected"],apar:"Disbursement Voucher",invoiceDate:"2024-06-05",invoiceNumber:"INV-003",total:"$5,000.00",funds:"General Fund",owner:"All"}],tNe=()=>{const[t,e]=v.useState("Me"),r=qu.filter(a=>t==="All"?!0:a.owner===t),n={total:qu.length,approved:qu.filter(a=>a.status.includes("approved")).length,requested:qu.filter(a=>a.status.includes("requested")).length,rejected:qu.filter(a=>a.status.includes("rejected")).length};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Mue,{className:"w-20 h-20 text-gray-400"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Welcome, John Doe"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Position: Accountant"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Department: Finance"})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx(Jl,{to:"/budget-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm",children:"Budget"})}),o.jsx(Jl,{to:"/disbursement-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm",children:"Disbursement"})}),o.jsx(Jl,{to:"/collection-dashboard",children:o.jsx("button",{className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"Collection"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(Uh,{title:"Total Documents",value:n.total,icon:Pue}),o.jsx(Uh,{title:"Approved",value:n.approved,icon:Cue}),o.jsx(Uh,{title:"Requested",value:n.requested,icon:Eue}),o.jsx(Uh,{title:"Rejected",value:n.rejected,icon:Fue})]}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Owner:"}),["Me","Department","All"].map(a=>o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"owner",value:a,checked:t===a,onChange:()=>e(a),className:"text-blue-600"}),o.jsx("span",{className:"text-sm",children:a})]},a))]}),o.jsx(eNe,{documents:r})]})},Uh=({title:t,value:e,icon:r})=>o.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4 flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:o.jsx(r,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm text-gray-500",children:t}),o.jsx("p",{className:"text-xl font-semibold text-gray-800",children:e})]})]}),rNe="https://staging-engine.testthelink.online",nNe={chart1:{title:"Budget vs Charges",data:[{name:"Budget Amount",value:5e5},{name:"Charges",value:3e5}]},chart2:{title:"PreEncumbrance, Encumbrance & Charges",data:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:15e4},{name:"Charges",value:5e4}]},table:[{label:"Accounts Payable (AP)",total:25e4},{label:"Accounts Receivable (AR)",total:18e4}]},AN=M("budgetDashboard/fetchBudgetData",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${rNe}/subFunds`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch");return a}catch(r){return e.rejectWithValue(r.message)}}),aNe=pe({name:"budgetDashboard",initialState:{budgetData:{chart1:null,chart2:null,table:[]},isLoading:!1,error:null},reducers:{},extraReducers:t=>{t.addCase(AN.pending,e=>{e.isLoading=!0,e.error=null}).addCase(AN.fulfilled,(e,r)=>{e.isLoading=!1,e.budgetData={chart1:r.payload.chart1,chart2:r.payload.chart2,table:Array.isArray(r.payload.table)?r.payload.table:[]}}).addCase(AN.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||r.error.message||"Failed to fetch budget data",console.warn("Failed to fetch budget data, using mock data.",e.error),e.budgetData=nNe})}}),sNe=aNe.reducer;var oNe=Array.isArray,rn=oNe,iNe=typeof Qm=="object"&&Qm&&Qm.Object===Object&&Qm,WU=iNe,lNe=WU,cNe=typeof self=="object"&&self&&self.Object===Object&&self,uNe=lNe||cNe||Function("return this")(),qa=uNe,dNe=qa,fNe=dNe.Symbol,Um=fNe,uR=Um,HU=Object.prototype,mNe=HU.hasOwnProperty,hNe=HU.toString,Vu=uR?uR.toStringTag:void 0;function pNe(t){var e=mNe.call(t,Vu),r=t[Vu];try{t[Vu]=void 0;var n=!0}catch{}var a=hNe.call(t);return n&&(e?t[Vu]=r:delete t[Vu]),a}var gNe=pNe,yNe=Object.prototype,bNe=yNe.toString;function xNe(t){return bNe.call(t)}var vNe=xNe,dR=Um,jNe=gNe,wNe=vNe,NNe="[object Null]",CNe="[object Undefined]",fR=dR?dR.toStringTag:void 0;function SNe(t){return t==null?t===void 0?CNe:NNe:fR&&fR in Object(t)?jNe(t):wNe(t)}var $s=SNe;function ANe(t){return t!=null&&typeof t=="object"}var Rs=ANe,TNe=$s,kNe=Rs,ONe="[object Symbol]";function ENe(t){return typeof t=="symbol"||kNe(t)&&TNe(t)==ONe}var ou=ENe,INe=rn,PNe=ou,DNe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_Ne=/^\w*$/;function $Ne(t,e){if(INe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||PNe(t)?!0:_Ne.test(t)||!DNe.test(t)||e!=null&&t in Object(e)}var VO=$Ne;function RNe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uo=RNe;const iu=et(Uo);var MNe=$s,LNe=Uo,FNe="[object AsyncFunction]",BNe="[object Function]",qNe="[object GeneratorFunction]",VNe="[object Proxy]";function UNe(t){if(!LNe(t))return!1;var e=MNe(t);return e==BNe||e==qNe||e==FNe||e==VNe}var UO=UNe;const Ve=et(UO);var zNe=qa,WNe=zNe["__core-js_shared__"],HNe=WNe,TN=HNe,mR=function(){var t=/[^.]+$/.exec(TN&&TN.keys&&TN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GNe(t){return!!mR&&mR in t}var YNe=GNe,KNe=Function.prototype,JNe=KNe.toString;function XNe(t){if(t!=null){try{return JNe.call(t)}catch{}try{return t+""}catch{}}return""}var GU=XNe,QNe=UO,ZNe=YNe,eCe=Uo,tCe=GU,rCe=/[\\^$.*+?()[\]{}|]/g,nCe=/^\[object .+?Constructor\]$/,aCe=Function.prototype,sCe=Object.prototype,oCe=aCe.toString,iCe=sCe.hasOwnProperty,lCe=RegExp("^"+oCe.call(iCe).replace(rCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cCe(t){if(!eCe(t)||ZNe(t))return!1;var e=QNe(t)?lCe:nCe;return e.test(tCe(t))}var uCe=cCe;function dCe(t,e){return t==null?void 0:t[e]}var fCe=dCe,mCe=uCe,hCe=fCe;function pCe(t,e){var r=hCe(t,e);return mCe(r)?r:void 0}var dl=pCe,gCe=dl,yCe=gCe(Object,"create"),Dj=yCe,hR=Dj;function bCe(){this.__data__=hR?hR(null):{},this.size=0}var xCe=bCe;function vCe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var jCe=vCe,wCe=Dj,NCe="__lodash_hash_undefined__",CCe=Object.prototype,SCe=CCe.hasOwnProperty;function ACe(t){var e=this.__data__;if(wCe){var r=e[t];return r===NCe?void 0:r}return SCe.call(e,t)?e[t]:void 0}var TCe=ACe,kCe=Dj,OCe=Object.prototype,ECe=OCe.hasOwnProperty;function ICe(t){var e=this.__data__;return kCe?e[t]!==void 0:ECe.call(e,t)}var PCe=ICe,DCe=Dj,_Ce="__lodash_hash_undefined__";function $Ce(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=DCe&&e===void 0?_Ce:e,this}var RCe=$Ce,MCe=xCe,LCe=jCe,FCe=TCe,BCe=PCe,qCe=RCe;function lu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}lu.prototype.clear=MCe;lu.prototype.delete=LCe;lu.prototype.get=FCe;lu.prototype.has=BCe;lu.prototype.set=qCe;var VCe=lu;function UCe(){this.__data__=[],this.size=0}var zCe=UCe;function WCe(t,e){return t===e||t!==t&&e!==e}var zO=WCe,HCe=zO;function GCe(t,e){for(var r=t.length;r--;)if(HCe(t[r][0],e))return r;return-1}var _j=GCe,YCe=_j,KCe=Array.prototype,JCe=KCe.splice;function XCe(t){var e=this.__data__,r=YCe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():JCe.call(e,r,1),--this.size,!0}var QCe=XCe,ZCe=_j;function eSe(t){var e=this.__data__,r=ZCe(e,t);return r<0?void 0:e[r][1]}var tSe=eSe,rSe=_j;function nSe(t){return rSe(this.__data__,t)>-1}var aSe=nSe,sSe=_j;function oSe(t,e){var r=this.__data__,n=sSe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var iSe=oSe,lSe=zCe,cSe=QCe,uSe=tSe,dSe=aSe,fSe=iSe;function cu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}cu.prototype.clear=lSe;cu.prototype.delete=cSe;cu.prototype.get=uSe;cu.prototype.has=dSe;cu.prototype.set=fSe;var $j=cu,mSe=dl,hSe=qa,pSe=mSe(hSe,"Map"),WO=pSe,pR=VCe,gSe=$j,ySe=WO;function bSe(){this.size=0,this.__data__={hash:new pR,map:new(ySe||gSe),string:new pR}}var xSe=bSe;function vSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var jSe=vSe,wSe=jSe;function NSe(t,e){var r=t.__data__;return wSe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Rj=NSe,CSe=Rj;function SSe(t){var e=CSe(this,t).delete(t);return this.size-=e?1:0,e}var ASe=SSe,TSe=Rj;function kSe(t){return TSe(this,t).get(t)}var OSe=kSe,ESe=Rj;function ISe(t){return ESe(this,t).has(t)}var PSe=ISe,DSe=Rj;function _Se(t,e){var r=DSe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var $Se=_Se,RSe=xSe,MSe=ASe,LSe=OSe,FSe=PSe,BSe=$Se;function uu(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}uu.prototype.clear=RSe;uu.prototype.delete=MSe;uu.prototype.get=LSe;uu.prototype.has=FSe;uu.prototype.set=BSe;var HO=uu,YU=HO,qSe="Expected a function";function GO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(qSe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=t.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(GO.Cache||YU),r}GO.Cache=YU;var KU=GO;const VSe=et(KU);var USe=KU,zSe=500;function WSe(t){var e=USe(t,function(n){return r.size===zSe&&r.clear(),n}),r=e.cache;return e}var HSe=WSe,GSe=HSe,YSe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,KSe=/\\(\\)?/g,JSe=GSe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(YSe,function(r,n,a,s){e.push(a?s.replace(KSe,"$1"):n||r)}),e}),XSe=JSe;function QSe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var YO=QSe,gR=Um,ZSe=YO,eAe=rn,tAe=ou,yR=gR?gR.prototype:void 0,bR=yR?yR.toString:void 0;function JU(t){if(typeof t=="string")return t;if(eAe(t))return ZSe(t,JU)+"";if(tAe(t))return bR?bR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var rAe=JU,nAe=rAe;function aAe(t){return t==null?"":nAe(t)}var XU=aAe,sAe=rn,oAe=VO,iAe=XSe,lAe=XU;function cAe(t,e){return sAe(t)?t:oAe(t,e)?[t]:iAe(lAe(t))}var QU=cAe,uAe=ou;function dAe(t){if(typeof t=="string"||uAe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Mj=dAe,fAe=QU,mAe=Mj;function hAe(t,e){e=fAe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[mAe(e[r++])];return r&&r==n?t:void 0}var KO=hAe,pAe=KO;function gAe(t,e,r){var n=t==null?void 0:pAe(t,e);return n===void 0?r:n}var ZU=gAe;const ua=et(ZU);function yAe(t){return t==null}var bAe=yAe;const Ge=et(bAe);var xAe=$s,vAe=rn,jAe=Rs,wAe="[object String]";function NAe(t){return typeof t=="string"||!vAe(t)&&jAe(t)&&xAe(t)==wAe}var CAe=NAe;const zm=et(CAe);var ez={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO=Symbol.for("react.element"),XO=Symbol.for("react.portal"),Lj=Symbol.for("react.fragment"),Fj=Symbol.for("react.strict_mode"),Bj=Symbol.for("react.profiler"),qj=Symbol.for("react.provider"),Vj=Symbol.for("react.context"),SAe=Symbol.for("react.server_context"),Uj=Symbol.for("react.forward_ref"),zj=Symbol.for("react.suspense"),Wj=Symbol.for("react.suspense_list"),Hj=Symbol.for("react.memo"),Gj=Symbol.for("react.lazy"),AAe=Symbol.for("react.offscreen"),tz;tz=Symbol.for("react.module.reference");function Gn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JO:switch(t=t.type,t){case Lj:case Bj:case Fj:case zj:case Wj:return t;default:switch(t=t&&t.$$typeof,t){case SAe:case Vj:case Uj:case Gj:case Hj:case qj:return t;default:return e}}case XO:return e}}}ut.ContextConsumer=Vj;ut.ContextProvider=qj;ut.Element=JO;ut.ForwardRef=Uj;ut.Fragment=Lj;ut.Lazy=Gj;ut.Memo=Hj;ut.Portal=XO;ut.Profiler=Bj;ut.StrictMode=Fj;ut.Suspense=zj;ut.SuspenseList=Wj;ut.isAsyncMode=function(){return!1};ut.isConcurrentMode=function(){return!1};ut.isContextConsumer=function(t){return Gn(t)===Vj};ut.isContextProvider=function(t){return Gn(t)===qj};ut.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JO};ut.isForwardRef=function(t){return Gn(t)===Uj};ut.isFragment=function(t){return Gn(t)===Lj};ut.isLazy=function(t){return Gn(t)===Gj};ut.isMemo=function(t){return Gn(t)===Hj};ut.isPortal=function(t){return Gn(t)===XO};ut.isProfiler=function(t){return Gn(t)===Bj};ut.isStrictMode=function(t){return Gn(t)===Fj};ut.isSuspense=function(t){return Gn(t)===zj};ut.isSuspenseList=function(t){return Gn(t)===Wj};ut.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lj||t===Bj||t===Fj||t===zj||t===Wj||t===AAe||typeof t=="object"&&t!==null&&(t.$$typeof===Gj||t.$$typeof===Hj||t.$$typeof===qj||t.$$typeof===Vj||t.$$typeof===Uj||t.$$typeof===tz||t.getModuleId!==void 0)};ut.typeOf=Gn;ez.exports=ut;var TAe=ez.exports,kAe=$s,OAe=Rs,EAe="[object Number]";function IAe(t){return typeof t=="number"||OAe(t)&&kAe(t)==EAe}var rz=IAe;const PAe=et(rz);var DAe=rz;function _Ae(t){return DAe(t)&&t!=+t}var $Ae=_Ae;const Wm=et($Ae);var Fn=function(e){return e===0?0:e>0?1:-1},wi=function(e){return zm(e)&&e.indexOf("%")===e.length-1},ge=function(e){return PAe(e)&&!Wm(e)},nr=function(e){return ge(e)||zm(e)},RAe=0,Yj=function(e){var r=++RAe;return"".concat(e||"").concat(r)},Hr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!zm(e))return n;var s;if(wi(e)){var i=e.indexOf("%");s=r*parseFloat(e.slice(0,i))/100}else s=+e;return Wm(s)&&(s=n),a&&s>r&&(s=r),s},Al=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},MAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},xR=function(e,r){return ge(e)&&ge(r)?function(n){return e+n*(r-e)}:function(){return r}};function eT(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ua(n,e))===r})}function tT(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function rT(t){"@babel/helpers - typeof";return rT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rT(t)}var LAe=["viewBox","children"],FAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],vR=["points","pathLength"],kN={svg:LAe,polygon:vR,polyline:vR},QO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],D0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),!iu(n))return null;var a={};return Object.keys(n).forEach(function(s){QO.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},BAe=function(e,r,n){return function(a){return e(r,n,a),null}},Kj=function(e,r,n){if(!iu(e)||rT(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var i=e[s];QO.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=BAe(i,r,n))}),a},qAe=["children"],VAe=["children"];function jR(t,e){if(t==null)return{};var r=UAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var wR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},gs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},NR=null,ON=null,ZO=function t(e){if(e===NR&&Array.isArray(ON))return ON;var r=[];return v.Children.forEach(e,function(n){Ge(n)||(TAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),ON=r,NR=e,r};function $a(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return gs(a)}):n=[gs(e)],ZO(t).forEach(function(a){var s=ua(a,"type.displayName")||ua(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function _n(t,e){var r=$a(t,e);return r&&r[0]}var CR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!ge(n)||n<=0||!ge(a)||a<=0)},zAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],WAe=function(e){return e&&e.type&&zm(e.type)&&zAe.indexOf(e.type)>=0},HAe=function(e,r,n,a){var s,i=(s=kN==null?void 0:kN[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ve(e)&&(a&&i.includes(r)||FAe.includes(r))||n&&QO.includes(r)},qe=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(v.isValidElement(e)&&(a=e.props),!iu(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;HAe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},nT=function t(e,r){if(e===r)return!0;var n=v.Children.count(e);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return SR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!t(s,i))return!1}else if(!SR(s,i))return!1}return!0},SR=function(e,r){if(Ge(e)&&Ge(r))return!0;if(!Ge(e)&&!Ge(r)){var n=e.props||{},a=n.children,s=jR(n,qAe),i=r.props||{},l=i.children,c=jR(i,VAe);return a&&l?tT(s,c)&&nT(a,l):!a&&!l?tT(s,c):!1}return!1},AR=function(e,r){var n=[],a={};return ZO(e).forEach(function(s,i){if(WAe(s))n.push(s);else if(s){var l=gs(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},GAe=function(e){var r=e&&e.type;return r&&wR[r]?wR[r]:null},YAe=function(e,r){return ZO(r).indexOf(e)},KAe=["children","width","height","viewBox","className","style","title","desc"];function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aT.apply(this,arguments)}function JAe(t,e){if(t==null)return{};var r=XAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sT(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,i=t.style,l=t.title,c=t.desc,u=JAe(t,KAe),d=a||{width:r,height:n,x:0,y:0},f=_e("recharts-surface",s);return q.createElement("svg",aT({},qe(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),q.createElement("title",null,l),q.createElement("desc",null,c),e)}var QAe=["children","className"];function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oT.apply(this,arguments)}function ZAe(t,e){if(t==null)return{};var r=eTe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qt=q.forwardRef(function(t,e){var r=t.children,n=t.className,a=ZAe(t,QAe),s=_e("recharts-layer",n);return q.createElement("g",oT({className:s},qe(a,!0),{ref:e}),r)}),ys=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function tTe(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(a);++n<a;)s[n]=t[n+e];return s}var rTe=tTe,nTe=rTe;function aTe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:nTe(t,e,r)}var sTe=aTe,oTe="\\ud800-\\udfff",iTe="\\u0300-\\u036f",lTe="\\ufe20-\\ufe2f",cTe="\\u20d0-\\u20ff",uTe=iTe+lTe+cTe,dTe="\\ufe0e\\ufe0f",fTe="\\u200d",mTe=RegExp("["+fTe+oTe+uTe+dTe+"]");function hTe(t){return mTe.test(t)}var nz=hTe;function pTe(t){return t.split("")}var gTe=pTe,az="\\ud800-\\udfff",yTe="\\u0300-\\u036f",bTe="\\ufe20-\\ufe2f",xTe="\\u20d0-\\u20ff",vTe=yTe+bTe+xTe,jTe="\\ufe0e\\ufe0f",wTe="["+az+"]",iT="["+vTe+"]",lT="\\ud83c[\\udffb-\\udfff]",NTe="(?:"+iT+"|"+lT+")",sz="[^"+az+"]",oz="(?:\\ud83c[\\udde6-\\uddff]){2}",iz="[\\ud800-\\udbff][\\udc00-\\udfff]",CTe="\\u200d",lz=NTe+"?",cz="["+jTe+"]?",STe="(?:"+CTe+"(?:"+[sz,oz,iz].join("|")+")"+cz+lz+")*",ATe=cz+lz+STe,TTe="(?:"+[sz+iT+"?",iT,oz,iz,wTe].join("|")+")",kTe=RegExp(lT+"(?="+lT+")|"+TTe+ATe,"g");function OTe(t){return t.match(kTe)||[]}var ETe=OTe,ITe=gTe,PTe=nz,DTe=ETe;function _Te(t){return PTe(t)?DTe(t):ITe(t)}var $Te=_Te,RTe=sTe,MTe=nz,LTe=$Te,FTe=XU;function BTe(t){return function(e){e=FTe(e);var r=MTe(e)?LTe(e):void 0,n=r?r[0]:e.charAt(0),a=r?RTe(r,1).join(""):e.slice(1);return n[t]()+a}}var qTe=BTe,VTe=qTe,UTe=VTe("toUpperCase"),zTe=UTe;const Jj=et(zTe);function bt(t){return function(){return t}}const uz=Math.cos,_0=Math.sin,ha=Math.sqrt,$0=Math.PI,Xj=2*$0,cT=Math.PI,uT=2*cT,ui=1e-6,WTe=uT-ui;function dz(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function HTe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return dz;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class GTe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?dz:HTe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,i){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-e,u=a-r,d=i-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>ui)if(!(Math.abs(f*c-u*d)>ui)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-i,g=a-l,y=c*c+u*u,x=h*h+g*g,p=Math.sqrt(y),b=Math.sqrt(m),N=s*Math.tan((cT-Math.acos((y+m-x)/(2*p*b)))/2),C=N/b,j=N/p;Math.abs(C-1)>ui&&this._append`L${e+C*d},${r+C*f}`,this._append`A${s},${s},0,0,${+(f*h>d*g)},${this._x1=e+j*c},${this._y1=r+j*u}`}}arc(e,r,n,a,s,i){if(e=+e,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^i,m=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ui||Math.abs(this._y1-d)>ui)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%uT+uT),m>WTe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>ui&&this._append`A${n},${n},0,${+(m>=cT)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function eE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new GTe(e)}function tE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fz(t){this._context=t}fz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qj(t){return new fz(t)}function mz(t){return t[0]}function hz(t){return t[1]}function pz(t,e){var r=bt(!0),n=null,a=Qj,s=null,i=eE(l);t=typeof t=="function"?t:t===void 0?mz:bt(t),e=typeof e=="function"?e:e===void 0?hz:bt(e);function l(c){var u,d=(c=tE(c)).length,f,m=!1,h;for(n==null&&(s=a(h=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:bt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function zh(t,e,r){var n=null,a=bt(!0),s=null,i=Qj,l=null,c=eE(u);t=typeof t=="function"?t:t===void 0?mz:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?hz:bt(+r);function u(f){var m,h,g,y=(f=tE(f)).length,x,p=!1,b,N=new Array(y),C=new Array(y);for(s==null&&(l=i(b=c())),m=0;m<=y;++m){if(!(m<y&&a(x=f[m],m,f))===p)if(p=!p)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=h;--g)l.point(N[g],C[g]);l.lineEnd(),l.areaEnd()}p&&(N[m]=+t(x,m,f),C[m]=+e(x,m,f),l.point(n?+n(x,m,f):N[m],r?+r(x,m,f):C[m]))}if(b)return l=null,b+""||null}function d(){return pz().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:bt(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:bt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:bt(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class gz{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function YTe(t){return new gz(t,!0)}function KTe(t){return new gz(t,!1)}const rE={draw(t,e){const r=ha(e/$0);t.moveTo(r,0),t.arc(0,0,r,0,Xj)}},JTe={draw(t,e){const r=ha(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},yz=ha(1/3),XTe=yz*2,QTe={draw(t,e){const r=ha(e/XTe),n=r*yz;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},ZTe={draw(t,e){const r=ha(e),n=-r/2;t.rect(n,n,r,r)}},e2e=.8908130915292852,bz=_0($0/10)/_0(7*$0/10),t2e=_0(Xj/10)*bz,r2e=-uz(Xj/10)*bz,n2e={draw(t,e){const r=ha(e*e2e),n=t2e*r,a=r2e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const i=Xj*s/5,l=uz(i),c=_0(i);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},EN=ha(3),a2e={draw(t,e){const r=-ha(e/(EN*3));t.moveTo(0,r*2),t.lineTo(-EN*r,-r),t.lineTo(EN*r,-r),t.closePath()}},In=-.5,Pn=ha(3)/2,dT=1/ha(12),s2e=(dT/2+1)*3,o2e={draw(t,e){const r=ha(e/s2e),n=r/2,a=r*dT,s=n,i=r*dT+r,l=-s,c=i;t.moveTo(n,a),t.lineTo(s,i),t.lineTo(l,c),t.lineTo(In*n-Pn*a,Pn*n+In*a),t.lineTo(In*s-Pn*i,Pn*s+In*i),t.lineTo(In*l-Pn*c,Pn*l+In*c),t.lineTo(In*n+Pn*a,In*a-Pn*n),t.lineTo(In*s+Pn*i,In*i-Pn*s),t.lineTo(In*l+Pn*c,In*c-Pn*l),t.closePath()}};function i2e(t,e){let r=null,n=eE(a);t=typeof t=="function"?t:bt(t||rE),e=typeof e=="function"?e:bt(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:bt(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:bt(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function R0(){}function M0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function xz(t){this._context=t}xz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:M0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:M0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function l2e(t){return new xz(t)}function vz(t){this._context=t}vz.prototype={areaStart:R0,areaEnd:R0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:M0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function c2e(t){return new vz(t)}function jz(t){this._context=t}jz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:M0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function u2e(t){return new jz(t)}function wz(t){this._context=t}wz.prototype={areaStart:R0,areaEnd:R0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function d2e(t){return new wz(t)}function TR(t){return t<0?-1:1}function kR(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),i=(r-t._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(TR(s)+TR(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function OR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function IN(t,e,r){var n=t._x0,a=t._y0,s=t._x1,i=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,i-l*r,s,i)}function L0(t){this._context=t}L0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IN(this,this._t0,OR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,IN(this,OR(this,r=kR(this,t,e)),r);break;default:IN(this,this._t0,r=kR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Nz(t){this._context=new Cz(t)}(Nz.prototype=Object.create(L0.prototype)).point=function(t,e){L0.prototype.point.call(this,e,t)};function Cz(t){this._context=t}Cz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function f2e(t){return new L0(t)}function m2e(t){return new Nz(t)}function Sz(t){this._context=t}Sz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=ER(t),a=ER(e),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[i],e[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ER(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,i[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,i[e]-=n*i[e-1];for(a[r-1]=i[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(i[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function h2e(t){return new Sz(t)}function Zj(t,e){this._context=t,this._t=e}Zj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function p2e(t){return new Zj(t,.5)}function g2e(t){return new Zj(t,0)}function y2e(t){return new Zj(t,1)}function Ac(t,e){if((i=t.length)>1)for(var r=1,n,a,s=t[e[0]],i,l=s.length;r<i;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function fT(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function b2e(t,e){return t[e]}function x2e(t){const e=[];return e.key=t,e}function v2e(){var t=bt([]),e=fT,r=Ac,n=b2e;function a(s){var i=Array.from(t.apply(this,arguments),x2e),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=tE(e(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:bt(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:bt(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?fT:typeof s=="function"?s:bt(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Ac,a):r},a}function j2e(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r<n;++r)t[r][a][1]/=i}Ac(t,e)}}function w2e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=t[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ac(t,e)}}function N2e(t,e){if(!(!((i=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,g=0;g<l;++g){var y=t[e[g]],x=y[n][1]||0,p=y[n-1][1]||0;h+=x-p}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ac(t,e)}}function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var C2e=["type","size","sizeType"];function mT(){return mT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mT.apply(this,arguments)}function IR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(r),!0).forEach(function(n){S2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S2e(t,e,r){return e=A2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A2e(t){var e=T2e(t,"string");return Mf(e)=="symbol"?e:e+""}function T2e(t,e){if(Mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k2e(t,e){if(t==null)return{};var r=O2e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Az={symbolCircle:rE,symbolCross:JTe,symbolDiamond:QTe,symbolSquare:ZTe,symbolStar:n2e,symbolTriangle:a2e,symbolWye:o2e},E2e=Math.PI/180,I2e=function(e){var r="symbol".concat(Jj(e));return Az[r]||rE},P2e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*E2e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},D2e=function(e,r){Az["symbol".concat(Jj(e))]=r},nE=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,i=e.sizeType,l=i===void 0?"area":i,c=k2e(e,C2e),u=PR(PR({},c),{},{type:n,size:s,sizeType:l}),d=function(){var x=I2e(n),p=i2e().type(x).size(P2e(s,l,n));return p()},f=u.className,m=u.cx,h=u.cy,g=qe(u,!0);return m===+m&&h===+h&&s===+s?q.createElement("path",mT({},g,{className:_e("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};nE.registerSymbol=D2e;function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hT.apply(this,arguments)}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){Lf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R2e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kz(n.key),n)}}function M2e(t,e,r){return e&&R2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L2e(t,e,r){return e=F0(e),F2e(t,Tz()?Reflect.construct(e,r||[],F0(t).constructor):e.apply(t,r))}function F2e(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B2e(t)}function B2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tz=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F0(t)}function q2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pT(t,e)}function pT(t,e){return pT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pT(t,e)}function Lf(t,e,r){return e=kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kz(t){var e=V2e(t,"string");return Tc(e)=="symbol"?e:e+""}function V2e(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dn=32,aE=function(t){function e(){return $2e(this,e),L2e(this,e,arguments)}return q2e(e,t),M2e(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=Dn/2,i=Dn/6,l=Dn/3,c=n.inactive?a:n.color;if(n.type==="plainline")return q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Dn,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Dn,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Dn/8,"h").concat(Dn,"v").concat(Dn*3/4,"h").concat(-Dn,"z"),className:"recharts-legend-icon"});if(q.isValidElement(n.legendIcon)){var u=_2e({},n);return delete u.legendIcon,q.cloneElement(n.legendIcon,u)}return q.createElement(nE,{fill:c,cx:s,cy:s,size:Dn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Dn,height:Dn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,g){var y=h.formatter||c,x=_e(Lf(Lf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var p=Ve(h.value)?null:h.value;ys(!Ve(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?u:h.color;return q.createElement("li",hT({className:x,style:f,key:"legend-item-".concat(g)},Kj(n.props,h,g)),q.createElement(sT,{width:i,height:i,viewBox:d,style:m},n.renderIcon(h)),q.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},y?y(p,h,g):p))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Lf(aE,"displayName","Legend");Lf(aE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var U2e=$j;function z2e(){this.__data__=new U2e,this.size=0}var W2e=z2e;function H2e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var G2e=H2e;function Y2e(t){return this.__data__.get(t)}var K2e=Y2e;function J2e(t){return this.__data__.has(t)}var X2e=J2e,Q2e=$j,Z2e=WO,eke=HO,tke=200;function rke(t,e){var r=this.__data__;if(r instanceof Q2e){var n=r.__data__;if(!Z2e||n.length<tke-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new eke(n)}return r.set(t,e),this.size=r.size,this}var nke=rke,ake=$j,ske=W2e,oke=G2e,ike=K2e,lke=X2e,cke=nke;function du(t){var e=this.__data__=new ake(t);this.size=e.size}du.prototype.clear=ske;du.prototype.delete=oke;du.prototype.get=ike;du.prototype.has=lke;du.prototype.set=cke;var Oz=du,uke="__lodash_hash_undefined__";function dke(t){return this.__data__.set(t,uke),this}var fke=dke;function mke(t){return this.__data__.has(t)}var hke=mke,pke=HO,gke=fke,yke=hke;function B0(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new pke;++e<r;)this.add(t[e])}B0.prototype.add=B0.prototype.push=gke;B0.prototype.has=yke;var Ez=B0;function bke(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Iz=bke;function xke(t,e){return t.has(e)}var Pz=xke,vke=Ez,jke=Iz,wke=Pz,Nke=1,Cke=2;function Ske(t,e,r,n,a,s){var i=r&Nke,l=t.length,c=e.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&Cke?new vke:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var g=t[f],y=e[f];if(n)var x=i?n(y,g,f,e,t,s):n(g,y,f,t,e,s);if(x!==void 0){if(x)continue;m=!1;break}if(h){if(!jke(e,function(p,b){if(!wke(h,b)&&(g===p||a(g,p,r,n,s)))return h.push(b)})){m=!1;break}}else if(!(g===y||a(g,y,r,n,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var Dz=Ske,Ake=qa,Tke=Ake.Uint8Array,kke=Tke;function Oke(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var Eke=Oke;function Ike(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var sE=Ike,_R=Um,$R=kke,Pke=zO,Dke=Dz,_ke=Eke,$ke=sE,Rke=1,Mke=2,Lke="[object Boolean]",Fke="[object Date]",Bke="[object Error]",qke="[object Map]",Vke="[object Number]",Uke="[object RegExp]",zke="[object Set]",Wke="[object String]",Hke="[object Symbol]",Gke="[object ArrayBuffer]",Yke="[object DataView]",RR=_R?_R.prototype:void 0,PN=RR?RR.valueOf:void 0;function Kke(t,e,r,n,a,s,i){switch(r){case Yke:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Gke:return!(t.byteLength!=e.byteLength||!s(new $R(t),new $R(e)));case Lke:case Fke:case Vke:return Pke(+t,+e);case Bke:return t.name==e.name&&t.message==e.message;case Uke:case Wke:return t==e+"";case qke:var l=_ke;case zke:var c=n&Rke;if(l||(l=$ke),t.size!=e.size&&!c)return!1;var u=i.get(t);if(u)return u==e;n|=Mke,i.set(t,e);var d=Dke(l(t),l(e),n,a,s,i);return i.delete(t),d;case Hke:if(PN)return PN.call(t)==PN.call(e)}return!1}var Jke=Kke;function Xke(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var _z=Xke,Qke=_z,Zke=rn;function eOe(t,e,r){var n=e(t);return Zke(t)?n:Qke(n,r(t))}var tOe=eOe;function rOe(t,e){for(var r=-1,n=t==null?0:t.length,a=0,s=[];++r<n;){var i=t[r];e(i,r,t)&&(s[a++]=i)}return s}var nOe=rOe;function aOe(){return[]}var sOe=aOe,oOe=nOe,iOe=sOe,lOe=Object.prototype,cOe=lOe.propertyIsEnumerable,MR=Object.getOwnPropertySymbols,uOe=MR?function(t){return t==null?[]:(t=Object(t),oOe(MR(t),function(e){return cOe.call(t,e)}))}:iOe,dOe=uOe;function fOe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var mOe=fOe,hOe=$s,pOe=Rs,gOe="[object Arguments]";function yOe(t){return pOe(t)&&hOe(t)==gOe}var bOe=yOe,LR=bOe,xOe=Rs,$z=Object.prototype,vOe=$z.hasOwnProperty,jOe=$z.propertyIsEnumerable,wOe=LR(function(){return arguments}())?LR:function(t){return xOe(t)&&vOe.call(t,"callee")&&!jOe.call(t,"callee")},oE=wOe,q0={exports:{}};function NOe(){return!1}var COe=NOe;q0.exports;(function(t,e){var r=qa,n=COe,a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(q0,q0.exports);var Rz=q0.exports,SOe=9007199254740991,AOe=/^(?:0|[1-9]\d*)$/;function TOe(t,e){var r=typeof t;return e=e??SOe,!!e&&(r=="number"||r!="symbol"&&AOe.test(t))&&t>-1&&t%1==0&&t<e}var iE=TOe,kOe=9007199254740991;function OOe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kOe}var lE=OOe,EOe=$s,IOe=lE,POe=Rs,DOe="[object Arguments]",_Oe="[object Array]",$Oe="[object Boolean]",ROe="[object Date]",MOe="[object Error]",LOe="[object Function]",FOe="[object Map]",BOe="[object Number]",qOe="[object Object]",VOe="[object RegExp]",UOe="[object Set]",zOe="[object String]",WOe="[object WeakMap]",HOe="[object ArrayBuffer]",GOe="[object DataView]",YOe="[object Float32Array]",KOe="[object Float64Array]",JOe="[object Int8Array]",XOe="[object Int16Array]",QOe="[object Int32Array]",ZOe="[object Uint8Array]",eEe="[object Uint8ClampedArray]",tEe="[object Uint16Array]",rEe="[object Uint32Array]",Nt={};Nt[YOe]=Nt[KOe]=Nt[JOe]=Nt[XOe]=Nt[QOe]=Nt[ZOe]=Nt[eEe]=Nt[tEe]=Nt[rEe]=!0;Nt[DOe]=Nt[_Oe]=Nt[HOe]=Nt[$Oe]=Nt[GOe]=Nt[ROe]=Nt[MOe]=Nt[LOe]=Nt[FOe]=Nt[BOe]=Nt[qOe]=Nt[VOe]=Nt[UOe]=Nt[zOe]=Nt[WOe]=!1;function nEe(t){return POe(t)&&IOe(t.length)&&!!Nt[EOe(t)]}var aEe=nEe;function sEe(t){return function(e){return t(e)}}var Mz=sEe,V0={exports:{}};V0.exports;(function(t,e){var r=WU,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();t.exports=l})(V0,V0.exports);var oEe=V0.exports,iEe=aEe,lEe=Mz,FR=oEe,BR=FR&&FR.isTypedArray,cEe=BR?lEe(BR):iEe,Lz=cEe,uEe=mOe,dEe=oE,fEe=rn,mEe=Rz,hEe=iE,pEe=Lz,gEe=Object.prototype,yEe=gEe.hasOwnProperty;function bEe(t,e){var r=fEe(t),n=!r&&dEe(t),a=!r&&!n&&mEe(t),s=!r&&!n&&!a&&pEe(t),i=r||n||a||s,l=i?uEe(t.length,String):[],c=l.length;for(var u in t)(e||yEe.call(t,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hEe(u,c)))&&l.push(u);return l}var xEe=bEe,vEe=Object.prototype;function jEe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||vEe;return t===r}var wEe=jEe;function NEe(t,e){return function(r){return t(e(r))}}var Fz=NEe,CEe=Fz,SEe=CEe(Object.keys,Object),AEe=SEe,TEe=wEe,kEe=AEe,OEe=Object.prototype,EEe=OEe.hasOwnProperty;function IEe(t){if(!TEe(t))return kEe(t);var e=[];for(var r in Object(t))EEe.call(t,r)&&r!="constructor"&&e.push(r);return e}var PEe=IEe,DEe=UO,_Ee=lE;function $Ee(t){return t!=null&&_Ee(t.length)&&!DEe(t)}var ew=$Ee,REe=xEe,MEe=PEe,LEe=ew;function FEe(t){return LEe(t)?REe(t):MEe(t)}var cE=FEe,BEe=tOe,qEe=dOe,VEe=cE;function UEe(t){return BEe(t,VEe,qEe)}var zEe=UEe,qR=zEe,WEe=1,HEe=Object.prototype,GEe=HEe.hasOwnProperty;function YEe(t,e,r,n,a,s){var i=r&WEe,l=qR(t),c=l.length,u=qR(e),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var m=l[f];if(!(i?m in e:GEe.call(e,m)))return!1}var h=s.get(t),g=s.get(e);if(h&&g)return h==e&&g==t;var y=!0;s.set(t,e),s.set(e,t);for(var x=i;++f<c;){m=l[f];var p=t[m],b=e[m];if(n)var N=i?n(b,p,m,e,t,s):n(p,b,m,t,e,s);if(!(N===void 0?p===b||a(p,b,r,n,s):N)){y=!1;break}x||(x=m=="constructor")}if(y&&!x){var C=t.constructor,j=e.constructor;C!=j&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof j=="function"&&j instanceof j)&&(y=!1)}return s.delete(t),s.delete(e),y}var KEe=YEe,JEe=dl,XEe=qa,QEe=JEe(XEe,"DataView"),ZEe=QEe,eIe=dl,tIe=qa,rIe=eIe(tIe,"Promise"),nIe=rIe,aIe=dl,sIe=qa,oIe=aIe(sIe,"Set"),Bz=oIe,iIe=dl,lIe=qa,cIe=iIe(lIe,"WeakMap"),uIe=cIe,gT=ZEe,yT=WO,bT=nIe,xT=Bz,vT=uIe,qz=$s,fu=GU,VR="[object Map]",dIe="[object Object]",UR="[object Promise]",zR="[object Set]",WR="[object WeakMap]",HR="[object DataView]",fIe=fu(gT),mIe=fu(yT),hIe=fu(bT),pIe=fu(xT),gIe=fu(vT),di=qz;(gT&&di(new gT(new ArrayBuffer(1)))!=HR||yT&&di(new yT)!=VR||bT&&di(bT.resolve())!=UR||xT&&di(new xT)!=zR||vT&&di(new vT)!=WR)&&(di=function(t){var e=qz(t),r=e==dIe?t.constructor:void 0,n=r?fu(r):"";if(n)switch(n){case fIe:return HR;case mIe:return VR;case hIe:return UR;case pIe:return zR;case gIe:return WR}return e});var yIe=di,DN=Oz,bIe=Dz,xIe=Jke,vIe=KEe,GR=yIe,YR=rn,KR=Rz,jIe=Lz,wIe=1,JR="[object Arguments]",XR="[object Array]",Wh="[object Object]",NIe=Object.prototype,QR=NIe.hasOwnProperty;function CIe(t,e,r,n,a,s){var i=YR(t),l=YR(e),c=i?XR:GR(t),u=l?XR:GR(e);c=c==JR?Wh:c,u=u==JR?Wh:u;var d=c==Wh,f=u==Wh,m=c==u;if(m&&KR(t)){if(!KR(e))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new DN),i||jIe(t)?bIe(t,e,r,n,a,s):xIe(t,e,c,r,n,a,s);if(!(r&wIe)){var h=d&&QR.call(t,"__wrapped__"),g=f&&QR.call(e,"__wrapped__");if(h||g){var y=h?t.value():t,x=g?e.value():e;return s||(s=new DN),a(y,x,r,n,s)}}return m?(s||(s=new DN),vIe(t,e,r,n,a,s)):!1}var SIe=CIe,AIe=SIe,ZR=Rs;function Vz(t,e,r,n,a){return t===e?!0:t==null||e==null||!ZR(t)&&!ZR(e)?t!==t&&e!==e:AIe(t,e,r,n,Vz,a)}var uE=Vz,TIe=Oz,kIe=uE,OIe=1,EIe=2;function IIe(t,e,r,n){var a=r.length,s=a,i=!n;if(t==null)return!s;for(t=Object(t);a--;){var l=r[a];if(i&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<s;){l=r[a];var c=l[0],u=t[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new TIe;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?kIe(d,u,OIe|EIe,n,f):m))return!1}}return!0}var PIe=IIe,DIe=Uo;function _Ie(t){return t===t&&!DIe(t)}var Uz=_Ie,$Ie=Uz,RIe=cE;function MIe(t){for(var e=RIe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,$Ie(a)]}return e}var LIe=MIe;function FIe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var zz=FIe,BIe=PIe,qIe=LIe,VIe=zz;function UIe(t){var e=qIe(t);return e.length==1&&e[0][2]?VIe(e[0][0],e[0][1]):function(r){return r===t||BIe(r,t,e)}}var zIe=UIe;function WIe(t,e){return t!=null&&e in Object(t)}var HIe=WIe,GIe=QU,YIe=oE,KIe=rn,JIe=iE,XIe=lE,QIe=Mj;function ZIe(t,e,r){e=GIe(e,t);for(var n=-1,a=e.length,s=!1;++n<a;){var i=QIe(e[n]);if(!(s=t!=null&&r(t,i)))break;t=t[i]}return s||++n!=a?s:(a=t==null?0:t.length,!!a&&XIe(a)&&JIe(i,a)&&(KIe(t)||YIe(t)))}var ePe=ZIe,tPe=HIe,rPe=ePe;function nPe(t,e){return t!=null&&rPe(t,e,tPe)}var aPe=nPe,sPe=uE,oPe=ZU,iPe=aPe,lPe=VO,cPe=Uz,uPe=zz,dPe=Mj,fPe=1,mPe=2;function hPe(t,e){return lPe(t)&&cPe(e)?uPe(dPe(t),e):function(r){var n=oPe(r,t);return n===void 0&&n===e?iPe(r,t):sPe(e,n,fPe|mPe)}}var pPe=hPe;function gPe(t){return t}var mu=gPe;function yPe(t){return function(e){return e==null?void 0:e[t]}}var bPe=yPe,xPe=KO;function vPe(t){return function(e){return xPe(e,t)}}var jPe=vPe,wPe=bPe,NPe=jPe,CPe=VO,SPe=Mj;function APe(t){return CPe(t)?wPe(SPe(t)):NPe(t)}var TPe=APe,kPe=zIe,OPe=pPe,EPe=mu,IPe=rn,PPe=TPe;function DPe(t){return typeof t=="function"?t:t==null?EPe:typeof t=="object"?IPe(t)?OPe(t[0],t[1]):kPe(t):PPe(t)}var zo=DPe;function _Pe(t,e,r,n){for(var a=t.length,s=r+(n?1:-1);n?s--:++s<a;)if(e(t[s],s,t))return s;return-1}var $Pe=_Pe;function RPe(t){return t!==t}var MPe=RPe;function LPe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var FPe=LPe,BPe=$Pe,qPe=MPe,VPe=FPe;function UPe(t,e,r){return e===e?VPe(t,e,r):BPe(t,qPe,r)}var zPe=UPe,WPe=zPe;function HPe(t,e){var r=t==null?0:t.length;return!!r&&WPe(t,e,0)>-1}var GPe=HPe;function YPe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var KPe=YPe;function JPe(){}var XPe=JPe,_N=Bz,QPe=XPe,ZPe=sE,eDe=1/0,tDe=_N&&1/ZPe(new _N([,-0]))[1]==eDe?function(t){return new _N(t)}:QPe,rDe=tDe,nDe=Ez,aDe=GPe,sDe=KPe,oDe=Pz,iDe=rDe,lDe=sE,cDe=200;function uDe(t,e,r){var n=-1,a=aDe,s=t.length,i=!0,l=[],c=l;if(r)i=!1,a=sDe;else if(s>=cDe){var u=e?null:iDe(t);if(u)return lDe(u);i=!1,a=oDe,c=new nDe}else c=e?[]:l;e:for(;++n<s;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var dDe=uDe,fDe=zo,mDe=dDe;function hDe(t,e){return t&&t.length?mDe(t,fDe(e)):[]}var pDe=hDe;const eM=et(pDe);function Wz(t,e,r){return e===!0?eM(t,r):Ve(e)?eM(t,e):t}function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}var gDe=["ref"];function tM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(r),!0).forEach(function(n){tw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gz(n.key),n)}}function bDe(t,e,r){return e&&rM(t.prototype,e),r&&rM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xDe(t,e,r){return e=U0(e),vDe(t,Hz()?Reflect.construct(e,r||[],U0(t).constructor):e.apply(t,r))}function vDe(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jDe(t)}function jDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!t})()}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U0(t)}function wDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jT(t,e)}function jT(t,e){return jT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jT(t,e)}function tw(t,e,r){return e=Gz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gz(t){var e=NDe(t,"string");return kc(e)=="symbol"?e:e+""}function NDe(t,e){if(kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CDe(t,e){if(t==null)return{};var r=SDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ADe(t){return t.value}function TDe(t,e){if(q.isValidElement(t))return q.cloneElement(t,e);if(typeof t=="function")return q.createElement(t,e);e.ref;var r=CDe(e,gDe);return q.createElement(aE,r)}var nM=1,Ra=function(t){function e(){var r;yDe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=xDe(this,e,[].concat(a)),tw(r,"lastBoundingBox",{width:-1,height:-1}),r}return wDe(e,t),bDe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>nM||Math.abs(a.height-this.lastBoundingBox.height)>nM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ha({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();m={top:((d||0)-g.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ha(Ha({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ha(Ha({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return q.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},TDe(s,Ha(Ha({},this.props),{},{payload:Wz(d,u,ADe)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Ha(Ha({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&ge(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);tw(Ra,"displayName","Legend");tw(Ra,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aM=Um,kDe=oE,ODe=rn,sM=aM?aM.isConcatSpreadable:void 0;function EDe(t){return ODe(t)||kDe(t)||!!(sM&&t&&t[sM])}var IDe=EDe,PDe=_z,DDe=IDe;function Yz(t,e,r,n,a){var s=-1,i=t.length;for(r||(r=DDe),a||(a=[]);++s<i;){var l=t[s];e>0&&r(l)?e>1?Yz(l,e-1,r,n,a):PDe(a,l):n||(a[a.length]=l)}return a}var Kz=Yz;function _De(t){return function(e,r,n){for(var a=-1,s=Object(e),i=n(e),l=i.length;l--;){var c=i[t?l:++a];if(r(s[c],c,s)===!1)break}return e}}var $De=_De,RDe=$De,MDe=RDe(),LDe=MDe,FDe=LDe,BDe=cE;function qDe(t,e){return t&&FDe(t,e,BDe)}var Jz=qDe,VDe=ew;function UDe(t,e){return function(r,n){if(r==null)return r;if(!VDe(r))return t(r,n);for(var a=r.length,s=e?a:-1,i=Object(r);(e?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var zDe=UDe,WDe=Jz,HDe=zDe,GDe=HDe(WDe),dE=GDe,YDe=dE,KDe=ew;function JDe(t,e){var r=-1,n=KDe(t)?Array(t.length):[];return YDe(t,function(a,s,i){n[++r]=e(a,s,i)}),n}var Xz=JDe;function XDe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var QDe=XDe,oM=ou;function ZDe(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,s=oM(t),i=e!==void 0,l=e===null,c=e===e,u=oM(e);if(!l&&!u&&!s&&t>e||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&t<e||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var e_e=ZDe,t_e=e_e;function r_e(t,e,r){for(var n=-1,a=t.criteria,s=e.criteria,i=a.length,l=r.length;++n<i;){var c=t_e(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var n_e=r_e,$N=YO,a_e=KO,s_e=zo,o_e=Xz,i_e=QDe,l_e=Mz,c_e=n_e,u_e=mu,d_e=rn;function f_e(t,e,r){e.length?e=$N(e,function(s){return d_e(s)?function(i){return a_e(i,s.length===1?s[0]:s)}:s}):e=[u_e];var n=-1;e=$N(e,l_e(s_e));var a=o_e(t,function(s,i,l){var c=$N(e,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return i_e(a,function(s,i){return c_e(s,i,r)})}var m_e=f_e;function h_e(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var p_e=h_e,g_e=p_e,iM=Math.max;function y_e(t,e,r){return e=iM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,s=iM(n.length-e,0),i=Array(s);++a<s;)i[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(i),g_e(t,this,l)}}var b_e=y_e;function x_e(t){return function(){return t}}var v_e=x_e,j_e=dl,w_e=function(){try{var t=j_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Qz=w_e,N_e=v_e,lM=Qz,C_e=mu,S_e=lM?function(t,e){return lM(t,"toString",{configurable:!0,enumerable:!1,value:N_e(e),writable:!0})}:C_e,A_e=S_e,T_e=800,k_e=16,O_e=Date.now;function E_e(t){var e=0,r=0;return function(){var n=O_e(),a=k_e-(n-r);if(r=n,a>0){if(++e>=T_e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var I_e=E_e,P_e=A_e,D_e=I_e,__e=D_e(P_e),$_e=__e,R_e=mu,M_e=b_e,L_e=$_e;function F_e(t,e){return L_e(M_e(t,e,R_e),t+"")}var B_e=F_e,q_e=zO,V_e=ew,U_e=iE,z_e=Uo;function W_e(t,e,r){if(!z_e(r))return!1;var n=typeof e;return(n=="number"?V_e(r)&&U_e(e,r.length):n=="string"&&e in r)?q_e(r[e],t):!1}var rw=W_e,H_e=Kz,G_e=m_e,Y_e=B_e,cM=rw,K_e=Y_e(function(t,e){if(t==null)return[];var r=e.length;return r>1&&cM(t,e[0],e[1])?e=[]:r>2&&cM(e[0],e[1],e[2])&&(e=[e[0]]),G_e(t,H_e(e,1),[])}),J_e=K_e;const fE=et(J_e);function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function wT(){return wT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wT.apply(this,arguments)}function X_e(t,e){return t$e(t)||e$e(t,e)||Z_e(t,e)||Q_e()}function Q_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z_e(t,e){if(t){if(typeof t=="string")return uM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uM(t,e)}}function uM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function t$e(t){if(Array.isArray(t))return t}function dM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(r),!0).forEach(function(n){r$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r$e(t,e,r){return e=n$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n$e(t){var e=a$e(t,"string");return Ff(e)=="symbol"?e:e+""}function a$e(t,e){if(Ff(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s$e(t){return Array.isArray(t)&&nr(t[0])&&nr(t[1])?t.join(" ~ "):t}var o$e=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,i=e.itemStyle,l=i===void 0?{}:i,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,g=e.labelClassName,y=e.label,x=e.labelFormatter,p=e.accessibilityLayer,b=p===void 0?!1:p,N=function(){if(d&&d.length){var P={padding:0,margin:0},L=(m?fE(d,m):d).map(function($,_){if($.type==="none")return null;var B=RN({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),U=$.formatter||f||s$e,D=$.value,R=$.name,F=D,G=R;if(U&&F!=null&&G!=null){var W=U(D,R,$,_,d);if(Array.isArray(W)){var Z=X_e(W,2);F=Z[0],G=Z[1]}else F=W}return q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:B},nr(G)?q.createElement("span",{className:"recharts-tooltip-item-name"},G):null,nr(G)?q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,q.createElement("span",{className:"recharts-tooltip-item-value"},F),q.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return q.createElement("ul",{className:"recharts-tooltip-item-list",style:P},L)}return null},C=RN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=RN({margin:0},u),w=!Ge(y),S=w?y:"",T=_e("recharts-default-tooltip",h),k=_e("recharts-tooltip-label",g);w&&x&&d!==void 0&&d!==null&&(S=x(y,d));var I=b?{role:"status","aria-live":"assertive"}:{};return q.createElement("div",wT({className:T,style:C},I),q.createElement("p",{className:k,style:j},q.isValidElement(S)?S:"".concat(S)),N())};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Hh(t,e,r){return e=i$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i$e(t){var e=l$e(t,"string");return Bf(e)=="symbol"?e:e+""}function l$e(t,e){if(Bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uu="recharts-tooltip-wrapper",c$e={visibility:"hidden"};function u$e(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return _e(Uu,Hh(Hh(Hh(Hh({},"".concat(Uu,"-right"),ge(r)&&e&&ge(e.x)&&r>=e.x),"".concat(Uu,"-left"),ge(r)&&e&&ge(e.x)&&r<e.x),"".concat(Uu,"-bottom"),ge(n)&&e&&ge(e.y)&&n>=e.y),"".concat(Uu,"-top"),ge(n)&&e&&ge(e.y)&&n<e.y))}function fM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ge(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return i[n]?d:f;if(i[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,y=c[n]+u;return g>y?Math.max(d,c[n]):Math.max(f,c[n])}function d$e(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function f$e(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,i=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=fM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=fM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=d$e({translateX:d,translateY:f,useTranslate3d:l})):u=c$e,{cssProperties:u,cssClasses:u$e({translateX:d,translateY:f,coordinate:r})}}function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function mM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function hM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(r),!0).forEach(function(n){CT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e8(n.key),n)}}function p$e(t,e,r){return e&&h$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g$e(t,e,r){return e=z0(e),y$e(t,Zz()?Reflect.construct(e,r||[],z0(t).constructor):e.apply(t,r))}function y$e(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b$e(t)}function b$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zz=function(){return!!t})()}function z0(t){return z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z0(t)}function x$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NT(t,e)}function NT(t,e){return NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NT(t,e)}function CT(t,e,r){return e=e8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e8(t){var e=v$e(t,"string");return Oc(e)=="symbol"?e:e+""}function v$e(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pM=1,j$e=function(t){function e(){var r;m$e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=g$e(this,e,[].concat(a)),CT(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),CT(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return x$e(e,t),p$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>pM||Math.abs(n.height-this.state.lastBoundingBox.height)>pM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,g=a.position,y=a.reverseDirection,x=a.useTranslate3d,p=a.viewBox,b=a.wrapperStyle,N=f$e({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:p}),C=N.cssClasses,j=N.cssProperties,w=hM(hM({transition:m&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return q.createElement("div",{tabIndex:-1,className:C,style:w,ref:function(T){n.wrapperNode=T}},u)}}])}(v.PureComponent),w$e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},nw={isSsr:w$e()};function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function gM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(r),!0).forEach(function(n){mE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r8(n.key),n)}}function S$e(t,e,r){return e&&C$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A$e(t,e,r){return e=W0(e),T$e(t,t8()?Reflect.construct(e,r||[],W0(t).constructor):e.apply(t,r))}function T$e(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k$e(t)}function k$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W0(t)}function O$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ST(t,e)}function ST(t,e){return ST=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ST(t,e)}function mE(t,e,r){return e=r8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r8(t){var e=E$e(t,"string");return Ec(e)=="symbol"?e:e+""}function E$e(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function I$e(t){return t.dataKey}function P$e(t,e){return q.isValidElement(t)?q.cloneElement(t,e):typeof t=="function"?q.createElement(t,e):q.createElement(o$e,e)}var Ja=function(t){function e(){return N$e(this,e),A$e(this,e,arguments)}return O$e(e,t),S$e(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,g=a.payload,y=a.payloadUniqBy,x=a.position,p=a.reverseDirection,b=a.useTranslate3d,N=a.viewBox,C=a.wrapperStyle,j=g??[];f&&j.length&&(j=Wz(g.filter(function(S){return S.value!=null&&(S.hide!==!0||n.props.includeHidden)}),y,I$e));var w=j.length>0;return q.createElement(j$e,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:s,coordinate:d,hasPayload:w,offset:h,position:x,reverseDirection:p,useTranslate3d:b,viewBox:N,wrapperStyle:C},P$e(u,yM(yM({},this.props),{},{payload:j})))}}])}(v.PureComponent);mE(Ja,"displayName","Tooltip");mE(Ja,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!nw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var D$e=qa,_$e=function(){return D$e.Date.now()},$$e=_$e,R$e=/\s/;function M$e(t){for(var e=t.length;e--&&R$e.test(t.charAt(e)););return e}var L$e=M$e,F$e=L$e,B$e=/^\s+/;function q$e(t){return t&&t.slice(0,F$e(t)+1).replace(B$e,"")}var V$e=q$e,U$e=V$e,bM=Uo,z$e=ou,xM=NaN,W$e=/^[-+]0x[0-9a-f]+$/i,H$e=/^0b[01]+$/i,G$e=/^0o[0-7]+$/i,Y$e=parseInt;function K$e(t){if(typeof t=="number")return t;if(z$e(t))return xM;if(bM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=bM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=U$e(t);var r=H$e.test(t);return r||G$e.test(t)?Y$e(t.slice(2),r?2:8):W$e.test(t)?xM:+t}var n8=K$e,J$e=Uo,MN=$$e,vM=n8,X$e="Expected a function",Q$e=Math.max,Z$e=Math.min;function eRe(t,e,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(X$e);e=vM(e)||0,J$e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?Q$e(vM(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function h(w){var S=n,T=a;return n=a=void 0,u=w,i=t.apply(T,S),i}function g(w){return u=w,l=setTimeout(p,e),d?h(w):i}function y(w){var S=w-c,T=w-u,k=e-S;return f?Z$e(k,s-T):k}function x(w){var S=w-c,T=w-u;return c===void 0||S>=e||S<0||f&&T>=s}function p(){var w=MN();if(x(w))return b(w);l=setTimeout(p,y(w))}function b(w){return l=void 0,m&&n?h(w):(n=a=void 0,i)}function N(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function C(){return l===void 0?i:b(MN())}function j(){var w=MN(),S=x(w);if(n=arguments,a=this,c=w,S){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(p,e),h(c)}return l===void 0&&(l=setTimeout(p,e)),i}return j.cancel=N,j.flush=C,j}var tRe=eRe,rRe=tRe,nRe=Uo,aRe="Expected a function";function sRe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(aRe);return nRe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),rRe(t,e,{leading:n,maxWait:e,trailing:a})}var oRe=sRe;const a8=et(oRe);function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function jM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(r),!0).forEach(function(n){iRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iRe(t,e,r){return e=lRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lRe(t){var e=cRe(t,"string");return qf(e)=="symbol"?e:e+""}function cRe(t,e){if(qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uRe(t,e){return hRe(t)||mRe(t,e)||fRe(t,e)||dRe()}function dRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fRe(t,e){if(t){if(typeof t=="string")return wM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wM(t,e)}}function wM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function hRe(t){if(Array.isArray(t))return t}var aw=v.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,i=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,g=t.debounce,y=g===void 0?0:g,x=t.id,p=t.className,b=t.onResize,N=t.style,C=N===void 0?{}:N,j=v.useRef(null),w=v.useRef();w.current=b,v.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var S=v.useState({containerWidth:a.width,containerHeight:a.height}),T=uRe(S,2),k=T[0],I=T[1],E=v.useCallback(function(L,$){I(function(_){var B=Math.round(L),U=Math.round($);return _.containerWidth===B&&_.containerHeight===U?_:{containerWidth:B,containerHeight:U}})},[]);v.useEffect(function(){var L=function(R){var F,G=R[0].contentRect,W=G.width,Z=G.height;E(W,Z),(F=w.current)===null||F===void 0||F.call(w,W,Z)};y>0&&(L=a8(L,y,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),_=j.current.getBoundingClientRect(),B=_.width,U=_.height;return E(B,U),$.observe(j.current),function(){$.disconnect()}},[E,y]);var P=v.useMemo(function(){var L=k.containerWidth,$=k.containerHeight;if(L<0||$<0)return null;ys(wi(i)||wi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),ys(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=wi(i)?L:i,B=wi(c)?$:c;r&&r>0&&(_?B=_/r:B&&(_=B*r),m&&B>m&&(B=m)),ys(_>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,B,i,c,d,f,r);var U=!Array.isArray(h)&&gs(h.type).endsWith("Chart");return q.Children.map(h,function(D){return q.isValidElement(D)?v.cloneElement(D,Gh({width:_,height:B},U?{style:Gh({height:"100%",width:"100%",maxHeight:B,maxWidth:_},D.props.style)}:{})):D})},[r,h,c,m,f,d,k,i]);return q.createElement("div",{id:x?"".concat(x):void 0,className:_e("recharts-responsive-container",p),style:Gh(Gh({},C),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:j},P)}),hu=function(e){return null};hu.displayName="Cell";function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function NM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(r),!0).forEach(function(n){pRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pRe(t,e,r){return e=gRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gRe(t){var e=yRe(t,"string");return Vf(e)=="symbol"?e:e+""}function yRe(t,e){if(Vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cl={widthCache:{},cacheCount:0},bRe=2e3,xRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CM="recharts_measurement_span";function vRe(t){var e=AT({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var SM=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||nw.isSsr)return{width:0,height:0};var n=vRe(r),a=JSON.stringify({text:e,copyStyle:n});if(Cl.widthCache[a])return Cl.widthCache[a];try{var s=document.getElementById(CM);s||(s=document.createElement("span"),s.setAttribute("id",CM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=AT(AT({},xRe),n);Object.assign(s.style,i),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Cl.widthCache[a]=c,++Cl.cacheCount>bRe&&(Cl.cacheCount=0,Cl.widthCache={}),c}catch{return{width:0,height:0}}},jRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function H0(t,e){return SRe(t)||CRe(t,e)||NRe(t,e)||wRe()}function wRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NRe(t,e){if(t){if(typeof t=="string")return AM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(t,e)}}function AM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function SRe(t){if(Array.isArray(t))return t}function ARe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kRe(n.key),n)}}function TRe(t,e,r){return e&&TM(t.prototype,e),r&&TM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kRe(t){var e=ORe(t,"string");return Uf(e)=="symbol"?e:e+""}function ORe(t,e){if(Uf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ERe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IRe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,s8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},PRe=Object.keys(s8),Bl="NaN";function DRe(t,e){return t*s8[e]}var Yh=function(){function t(e,r){ARe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!ERe.test(r)&&(this.num=NaN,this.unit=""),PRe.includes(r)&&(this.num=DRe(e,r),this.unit="px")}return TRe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=IRe.exec(r))!==null&&n!==void 0?n:[],s=H0(a,3),i=s[1],l=s[2];return new t(parseFloat(i),l??"")}}])}();function o8(t){if(t.includes(Bl))return Bl;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=kM.exec(e))!==null&&r!==void 0?r:[],a=H0(n,4),s=a[1],i=a[2],l=a[3],c=Yh.parse(s??""),u=Yh.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Bl;e=e.replace(kM,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=OM.exec(e))!==null&&f!==void 0?f:[],h=H0(m,4),g=h[1],y=h[2],x=h[3],p=Yh.parse(g??""),b=Yh.parse(x??""),N=y==="+"?p.add(b):p.subtract(b);if(N.isNaN())return Bl;e=e.replace(OM,N.toString())}return e}var EM=/\(([^()]*)\)/;function _Re(t){for(var e=t;e.includes("(");){var r=EM.exec(e),n=H0(r,2),a=n[1];e=e.replace(EM,o8(a))}return e}function $Re(t){var e=t.replace(/\s+/g,"");return e=_Re(e),e=o8(e),e}function RRe(t){try{return $Re(t)}catch{return Bl}}function LN(t){var e=RRe(t.slice(5,-1));return e===Bl?"":e}var MRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],LRe=["dx","dy","angle","className","breakAll"];function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TT.apply(this,arguments)}function IM(t,e){if(t==null)return{};var r=FRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PM(t,e){return URe(t)||VRe(t,e)||qRe(t,e)||BRe()}function BRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qRe(t,e){if(t){if(typeof t=="string")return DM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DM(t,e)}}function DM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VRe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function URe(t){if(Array.isArray(t))return t}var i8=/[ \f\n\r\t\v\u2028\u2029]+/,l8=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Ge(r)||(n?s=r.toString().split(""):s=r.toString().split(i8));var i=s.map(function(c){return{word:c,width:SM(c,a).width}}),l=n?0:SM("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},zRe=function(e,r,n,a,s){var i=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ge(i),f=l,m=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _.reduce(function(B,U){var D=U.word,R=U.width,F=B[B.length-1];if(F&&(a==null||s||F.width+R+n<Number(a)))F.words.push(D),F.width+=R+n;else{var G={words:[D],width:R};B.push(G)}return B},[])},h=m(r),g=function(_){return _.reduce(function(B,U){return B.width>U.width?B:U})};if(!d)return h;for(var y="",x=function(_){var B=f.slice(0,_),U=l8({breakAll:u,style:c,children:B+y}).wordsWithComputedWidth,D=m(U),R=D.length>i||g(D).width>Number(a);return[R,D]},p=0,b=f.length-1,N=0,C;p<=b&&N<=f.length-1;){var j=Math.floor((p+b)/2),w=j-1,S=x(w),T=PM(S,2),k=T[0],I=T[1],E=x(j),P=PM(E,1),L=P[0];if(!k&&!L&&(p=j+1),k&&L&&(b=j-1),!k&&L){C=I;break}N++}return C||h},_M=function(e){var r=Ge(e)?[]:e.toString().split(i8);return[{words:r}]},WRe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,i=e.breakAll,l=e.maxLines;if((r||n)&&!nw.isSsr){var c,u,d=l8({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return _M(a);return zRe({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return _M(a)},$M="#808080",Ic=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.lineHeight,l=i===void 0?"1em":i,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,g=e.verticalAnchor,y=g===void 0?"end":g,x=e.fill,p=x===void 0?$M:x,b=IM(e,MRe),N=v.useMemo(function(){return WRe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),C=b.dx,j=b.dy,w=b.angle,S=b.className,T=b.breakAll,k=IM(b,LRe);if(!nr(n)||!nr(s))return null;var I=n+(ge(C)?C:0),E=s+(ge(j)?j:0),P;switch(y){case"start":P=LN("calc(".concat(u,")"));break;case"middle":P=LN("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=LN("calc(".concat(N.length-1," * -").concat(l,")"));break}var L=[];if(f){var $=N[0].width,_=b.width;L.push("scale(".concat((ge(_)?_/$:1)/$,")"))}return w&&L.push("rotate(".concat(w,", ").concat(I,", ").concat(E,")")),L.length&&(k.transform=L.join(" ")),q.createElement("text",TT({},qe(k,!0),{x:I,y:E,className:_e("recharts-text",S),textAnchor:h,fill:p.includes("url")?$M:p}),N.map(function(B,U){var D=B.words.join(T?"":" ");return q.createElement("tspan",{x:I,dy:U===0?P:l,key:"".concat(D,"-").concat(U)},D)}))};function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function HRe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hE(t){let e,r,n;t.length!==2?(e=No,r=(l,c)=>No(t(l),c),n=(l,c)=>t(l)-c):(e=t===No||t===HRe?t:GRe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function GRe(){return 0}function c8(t){return t===null?NaN:+t}function*YRe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const KRe=hE(No),Hm=KRe.right;hE(c8).center;class RM extends Map{constructor(e,r=QRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(MM(this,e))}has(e){return super.has(MM(this,e))}set(e,r){return super.set(JRe(this,e),r)}delete(e){return super.delete(XRe(this,e))}}function MM({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function JRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function XRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function QRe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ZRe(t=No){if(t===No)return u8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function u8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eMe=Math.sqrt(50),tMe=Math.sqrt(10),rMe=Math.sqrt(2);function G0(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=eMe?10:s>=tMe?5:s>=rMe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?G0(t,e,r*2):[l,c,u]}function kT(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,i]=n?G0(e,t,r):G0(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function OT(t,e,r){return e=+e,t=+t,r=+r,G0(t,e,r)[2]}function ET(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?OT(e,t,r):OT(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function LM(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FM(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function d8(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?u8:ZRe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),g=Math.min(n,Math.floor(e+(c-u)*f/c+m));d8(t,e,h,g,a)}const s=t[e];let i=r,l=n;for(zu(t,r,e),a(t[n],s)>0&&zu(t,r,n);i<l;){for(zu(t,i,l),++i,--l;a(t[i],s)<0;)++i;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?zu(t,r,l):(++l,zu(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function zu(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function nMe(t,e,r){if(t=Float64Array.from(YRe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return FM(t);if(e>=1)return LM(t);var n,a=(n-1)*e,s=Math.floor(a),i=LM(d8(t,s).subarray(0,s+1)),l=FM(t.subarray(s+1));return i+(l-i)*(a-s)}}function aMe(t,e,r=c8){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),i=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return i+(l-i)*(a-s)}}function sMe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Yn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ms(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const IT=Symbol("implicit");function pE(){var t=new RM,e=[],r=[],n=IT;function a(s){let i=t.get(s);if(i===void 0){if(n!==IT)return n;t.set(s,i=e.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new RM;for(const i of s)t.has(i)||t.set(i,e.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return pE(e,r).unknown(n)},Yn.apply(a,arguments),a}function zf(){var t=pE().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,g=h?a:n,y=h?n:a;s=(y-g)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),g+=(y-g-s*(m-c))*d,i=s*(1-c),l&&(g=Math.round(g),i=Math.round(i));var x=sMe(m).map(function(p){return g+s*p});return r(h?x.reverse():x)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return i},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return zf(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Yn.apply(f(),arguments)}function f8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return f8(e())},t}function zd(){return f8(zf.apply(null,arguments).paddingInner(1))}function gE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function m8(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Gm(){}var Wf=.7,Y0=1/Wf,uc="\\s*([+-]?\\d+)\\s*",Hf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oMe=/^#([0-9a-f]{3,8})$/,iMe=new RegExp(`^rgb\\(${uc},${uc},${uc}\\)$`),lMe=new RegExp(`^rgb\\(${Ma},${Ma},${Ma}\\)$`),cMe=new RegExp(`^rgba\\(${uc},${uc},${uc},${Hf}\\)$`),uMe=new RegExp(`^rgba\\(${Ma},${Ma},${Ma},${Hf}\\)$`),dMe=new RegExp(`^hsl\\(${Hf},${Ma},${Ma}\\)$`),fMe=new RegExp(`^hsla\\(${Hf},${Ma},${Ma},${Hf}\\)$`),BM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gE(Gm,Gf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qM,formatHex:qM,formatHex8:mMe,formatHsl:hMe,formatRgb:VM,toString:VM});function qM(){return this.rgb().formatHex()}function mMe(){return this.rgb().formatHex8()}function hMe(){return h8(this).formatHsl()}function VM(){return this.rgb().formatRgb()}function Gf(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=oMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?UM(e):r===3?new Gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Kh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Kh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=iMe.exec(t))?new Gr(e[1],e[2],e[3],1):(e=lMe.exec(t))?new Gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cMe.exec(t))?Kh(e[1],e[2],e[3],e[4]):(e=uMe.exec(t))?Kh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dMe.exec(t))?HM(e[1],e[2]/100,e[3]/100,1):(e=fMe.exec(t))?HM(e[1],e[2]/100,e[3]/100,e[4]):BM.hasOwnProperty(t)?UM(BM[t]):t==="transparent"?new Gr(NaN,NaN,NaN,0):null}function UM(t){return new Gr(t>>16&255,t>>8&255,t&255,1)}function Kh(t,e,r,n){return n<=0&&(t=e=r=NaN),new Gr(t,e,r,n)}function pMe(t){return t instanceof Gm||(t=Gf(t)),t?(t=t.rgb(),new Gr(t.r,t.g,t.b,t.opacity)):new Gr}function PT(t,e,r,n){return arguments.length===1?pMe(t):new Gr(t,e,r,n??1)}function Gr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gE(Gr,PT,m8(Gm,{brighter(t){return t=t==null?Y0:Math.pow(Y0,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Wf:Math.pow(Wf,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gr(_i(this.r),_i(this.g),_i(this.b),K0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zM,formatHex:zM,formatHex8:gMe,formatRgb:WM,toString:WM}));function zM(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}`}function gMe(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}${Ni((isNaN(this.opacity)?1:this.opacity)*255)}`}function WM(){const t=K0(this.opacity);return`${t===1?"rgb(":"rgba("}${_i(this.r)}, ${_i(this.g)}, ${_i(this.b)}${t===1?")":`, ${t})`}`}function K0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _i(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ni(t){return t=_i(t),(t<16?"0":"")+t.toString(16)}function HM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ra(t,e,r,n)}function h8(t){if(t instanceof ra)return new ra(t.h,t.s,t.l,t.opacity);if(t instanceof Gm||(t=Gf(t)),!t)return new ra;if(t instanceof ra)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(e===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-e)/l+2:i=(e-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new ra(i,l,c,t.opacity)}function yMe(t,e,r,n){return arguments.length===1?h8(t):new ra(t,e,r,n??1)}function ra(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gE(ra,yMe,m8(Gm,{brighter(t){return t=t==null?Y0:Math.pow(Y0,t),new ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Wf:Math.pow(Wf,t),new ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Gr(FN(t>=240?t-240:t+120,a,n),FN(t,a,n),FN(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ra(GM(this.h),Jh(this.s),Jh(this.l),K0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=K0(this.opacity);return`${t===1?"hsl(":"hsla("}${GM(this.h)}, ${Jh(this.s)*100}%, ${Jh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GM(t){return t=(t||0)%360,t<0?t+360:t}function Jh(t){return Math.max(0,Math.min(1,t||0))}function FN(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const yE=t=>()=>t;function bMe(t,e){return function(r){return t+r*e}}function xMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function vMe(t){return(t=+t)==1?p8:function(e,r){return r-e?xMe(e,r,t):yE(isNaN(e)?r:e)}}function p8(t,e){var r=e-t;return r?bMe(t,r):yE(isNaN(t)?e:t)}const YM=function t(e){var r=vMe(e);function n(a,s){var i=r((a=PT(a)).r,(s=PT(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=p8(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function jMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function wMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function NMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=pu(t[i],e[i]);for(;i<r;++i)s[i]=e[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function CMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function J0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function SMe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=pu(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var DT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BN=new RegExp(DT.source,"g");function AMe(t){return function(){return t}}function TMe(t){return function(e){return t(e)+""}}function kMe(t,e){var r=DT.lastIndex=BN.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(t=t+"",e=e+"";(n=DT.exec(t))&&(a=BN.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:J0(n,a)})),r=BN.lastIndex;return r<e.length&&(s=e.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?TMe(c[0].x):AMe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function pu(t,e){var r=typeof e,n;return e==null||r==="boolean"?yE(e):(r==="number"?J0:r==="string"?(n=Gf(e))?(e=n,YM):kMe:e instanceof Gf?YM:e instanceof Date?CMe:wMe(e)?jMe:Array.isArray(e)?NMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?SMe:J0)(t,e)}function bE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function OMe(t,e){e===void 0&&(e=t,t=pu);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function EMe(t){return function(){return t}}function X0(t){return+t}var KM=[0,1];function _r(t){return t}function _T(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:EMe(isNaN(e)?NaN:.5)}function IMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function PMe(t,e,r){var n=t[0],a=t[1],s=e[0],i=e[1];return a<n?(n=_T(a,n),s=r(i,s)):(n=_T(n,a),s=r(s,i)),function(l){return s(n(l))}}function DMe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),i=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++i<n;)a[i]=_T(t[i],t[i+1]),s[i]=r(e[i],e[i+1]);return function(l){var c=Hm(t,l,1,n)-1;return s[c](a[c](l))}}function Ym(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sw(){var t=KM,e=KM,r=pu,n,a,s,i=_r,l,c,u;function d(){var m=Math.min(t.length,e.length);return i!==_r&&(i=IMe(t[0],t[m-1])),l=m>2?DMe:PMe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(n),e,r)))(n(i(m)))}return f.invert=function(m){return i(a((u||(u=l(e,t.map(n),J0)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,X0),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=bE,d()},f.clamp=function(m){return arguments.length?(i=m?!0:_r,d()):i!==_r},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,h){return n=m,a=h,d()}}function xE(){return sw()(_r,_r)}function _Me(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Q0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Pc(t){return t=Q0(Math.abs(t)),t?t[1]:NaN}function $Me(t,e){return function(r,n){for(var a=r.length,s=[],i=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[i=(i+1)%t.length];return s.reverse().join(e)}}function RMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var MMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yf(t){if(!(e=MMe.exec(t)))throw new Error("invalid format: "+t);var e;return new vE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yf.prototype=vE.prototype;function vE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}vE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LMe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var g8;function FMe(t,e){var r=Q0(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(g8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Q0(t,Math.max(0,e+s-1))[0]}function JM(t,e){var r=Q0(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const XM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:_Me,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>JM(t*100,e),r:JM,s:FMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function QM(t){return t}var ZM=Array.prototype.map,eL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BMe(t){var e=t.grouping===void 0||t.thousands===void 0?QM:$Me(ZM.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?QM:RMe(ZM.call(t.numerals,String)),i=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Yf(f);var m=f.fill,h=f.align,g=f.sign,y=f.symbol,x=f.zero,p=f.width,b=f.comma,N=f.precision,C=f.trim,j=f.type;j==="n"?(b=!0,j="g"):XM[j]||(N===void 0&&(N=12),C=!0,j="g"),(x||m==="0"&&h==="=")&&(x=!0,m="0",h="=");var w=y==="$"?r:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=y==="$"?n:/[%p]/.test(j)?i:"",T=XM[j],k=/[defgprs%]/.test(j);N=N===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function I(E){var P=w,L=S,$,_,B;if(j==="c")L=T(E)+L,E="";else{E=+E;var U=E<0||1/E<0;if(E=isNaN(E)?c:T(Math.abs(E),N),C&&(E=LMe(E)),U&&+E==0&&g!=="+"&&(U=!1),P=(U?g==="("?g:l:g==="-"||g==="("?"":g)+P,L=(j==="s"?eL[8+g8/3]:"")+L+(U&&g==="("?")":""),k){for($=-1,_=E.length;++$<_;)if(B=E.charCodeAt($),48>B||B>57){L=(B===46?a+E.slice($+1):E.slice($))+L,E=E.slice(0,$);break}}}b&&!x&&(E=e(E,1/0));var D=P.length+E.length+L.length,R=D<p?new Array(p-D+1).join(m):"";switch(b&&x&&(E=e(R+E,R.length?p-L.length:1/0),R=""),h){case"<":E=P+E+L+R;break;case"=":E=P+R+E+L;break;case"^":E=R.slice(0,D=R.length>>1)+P+E+L+R.slice(D);break;default:E=R+P+E+L;break}return s(E)}return I.toString=function(){return f+""},I}function d(f,m){var h=u((f=Yf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Pc(m)/3)))*3,y=Math.pow(10,-g),x=eL[8+g/3];return function(p){return h(y*p)+x}}return{format:u,formatPrefix:d}}var Xh,jE,y8;qMe({thousands:",",grouping:[3],currency:["$",""]});function qMe(t){return Xh=BMe(t),jE=Xh.format,y8=Xh.formatPrefix,Xh}function VMe(t){return Math.max(0,-Pc(Math.abs(t)))}function UMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pc(e)/3)))*3-Pc(Math.abs(t)))}function zMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pc(e)-Pc(t))+1}function b8(t,e,r,n){var a=ET(t,e,r),s;switch(n=Yf(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=UMe(a,i))&&(n.precision=s),y8(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=zMe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=VMe(a))&&(n.precision=s-(n.type==="%")*2);break}}return jE(n)}function Wo(t){var e=t.domain;return t.ticks=function(r){var n=e();return kT(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return b8(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=OT(i,l,r),u===c)return n[a]=i,n[s]=l,e(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Z0(){var t=xE();return t.copy=function(){return Ym(t,Z0())},Yn.apply(t,arguments),Wo(t)}function x8(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,X0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return x8(t).unknown(e)},t=arguments.length?Array.from(t,X0):[0,1],Wo(r)}function v8(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),t[r]=e.floor(a),t[n]=e.ceil(s),t}function tL(t){return Math.log(t)}function rL(t){return Math.exp(t)}function WMe(t){return-Math.log(-t)}function HMe(t){return-Math.exp(-t)}function GMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function YMe(t){return t===10?GMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function KMe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nL(t){return(e,r)=>-t(-e,r)}function wE(t){const e=t(tL,rL),r=e.domain;let n=10,a,s;function i(){return a=KMe(n),s=YMe(n),r()[0]<0?(a=nL(a),s=nL(s),t(WMe,HMe)):t(tL,rL),e}return e.base=function(l){return arguments.length?(n=+l,i()):n},e.domain=function(l){return arguments.length?(r(l),i()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),g,y;const x=l==null?10:+l;let p=[];if(!(n%1)&&h-m<x){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(g=1;g<n;++g)if(y=m<0?g/s(-m):g*s(m),!(y<u)){if(y>d)break;p.push(y)}}else for(;m<=h;++m)for(g=n-1;g>=1;--g)if(y=m>0?g/s(-m):g*s(m),!(y<u)){if(y>d)break;p.push(y)}p.length*2<x&&(p=kT(u,d,x))}else p=kT(m,h,Math.min(h-m,x)).map(s);return f?p.reverse():p},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Yf(c)).precision==null&&(c.trim=!0),c=jE(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(v8(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function j8(){const t=wE(sw()).domain([1,10]);return t.copy=()=>Ym(t,j8()).base(t.base()),Yn.apply(t,arguments),t}function aL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NE(t){var e=1,r=t(aL(e),sL(e));return r.constant=function(n){return arguments.length?t(aL(e=+n),sL(e)):e},Wo(r)}function w8(){var t=NE(sw());return t.copy=function(){return Ym(t,w8()).constant(t.constant())},Yn.apply(t,arguments)}function oL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function JMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function XMe(t){return t<0?-t*t:t*t}function CE(t){var e=t(_r,_r),r=1;function n(){return r===1?t(_r,_r):r===.5?t(JMe,XMe):t(oL(r),oL(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Wo(e)}function SE(){var t=CE(sw());return t.copy=function(){return Ym(t,SE()).exponent(t.exponent())},Yn.apply(t,arguments),t}function QMe(){return SE.apply(null,arguments).exponent(.5)}function iL(t){return Math.sign(t)*t*t}function ZMe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function N8(){var t=xE(),e=[0,1],r=!1,n;function a(s){var i=ZMe(t(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return t.invert(iL(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,X0)).map(iL)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return N8(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Yn.apply(a,arguments),Wo(a)}function C8(){var t=[],e=[],r=[],n;function a(){var i=0,l=Math.max(1,e.length);for(r=new Array(l-1);++i<l;)r[i-1]=aMe(t,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:e[Hm(r,i)]}return s.invertExtent=function(i){var l=e.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let l of i)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(No),a()},s.range=function(i){return arguments.length?(e=Array.from(i),a()):e.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return C8().domain(t).range(e).unknown(n)},Yn.apply(s,arguments)}function S8(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[Hm(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return i}return i.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return S8().domain([t,e]).range(a).unknown(s)},Yn.apply(Wo(i),arguments)}function A8(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[Hm(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var i=e.indexOf(s);return[t[i-1],t[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return A8().domain(t).range(e).unknown(r)},Yn.apply(a,arguments)}const qN=new Date,VN=new Date;function ar(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(e(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<i);return c},a.filter=s=>ar(i=>{if(i>=i)for(;t(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;e(i,-1),!s(i););else for(;--l>=0;)for(;e(i,1),!s(i););}),r&&(a.count=(s,i)=>(qN.setTime(+s),VN.setTime(+i),t(qN),t(VN),Math.floor(r(qN,VN))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const ex=ar(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ex.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ar(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):ex);ex.range;const is=1e3,Bn=is*60,ls=Bn*60,Ts=ls*24,AE=Ts*7,lL=Ts*30,UN=Ts*365,Ci=ar(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getUTCSeconds());Ci.range;const TE=ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*is)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getMinutes());TE.range;const kE=ar(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bn)},(t,e)=>(e-t)/Bn,t=>t.getUTCMinutes());kE.range;const OE=ar(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*is-t.getMinutes()*Bn)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getHours());OE.range;const EE=ar(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCHours());EE.range;const Km=ar(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bn)/Ts,t=>t.getDate()-1);Km.range;const ow=ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>t.getUTCDate()-1);ow.range;const T8=ar(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ts,t=>Math.floor(t/Ts));T8.range;function fl(t){return ar(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Bn)/AE)}const iw=fl(0),tx=fl(1),eLe=fl(2),tLe=fl(3),Dc=fl(4),rLe=fl(5),nLe=fl(6);iw.range;tx.range;eLe.range;tLe.range;Dc.range;rLe.range;nLe.range;function ml(t){return ar(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/AE)}const lw=ml(0),rx=ml(1),aLe=ml(2),sLe=ml(3),_c=ml(4),oLe=ml(5),iLe=ml(6);lw.range;rx.range;aLe.range;sLe.range;_c.range;oLe.range;iLe.range;const IE=ar(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IE.range;const PE=ar(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());PE.range;const ks=ar(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ar(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ks.range;const Os=ar(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ar(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Os.range;function k8(t,e,r,n,a,s){const i=[[Ci,1,is],[Ci,5,5*is],[Ci,15,15*is],[Ci,30,30*is],[s,1,Bn],[s,5,5*Bn],[s,15,15*Bn],[s,30,30*Bn],[a,1,ls],[a,3,3*ls],[a,6,6*ls],[a,12,12*ls],[n,1,Ts],[n,2,2*Ts],[r,1,AE],[e,1,lL],[e,3,3*lL],[t,1,UN]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,f){const m=Math.abs(d-u)/f,h=hE(([,,x])=>x).right(i,m);if(h===i.length)return t.every(ET(u/UN,d/UN,f));if(h===0)return ex.every(Math.max(ET(u,d,f),1));const[g,y]=i[m/i[h-1][2]<i[h][2]/m?h-1:h];return g.every(y)}return[l,c]}const[lLe,cLe]=k8(Os,PE,lw,T8,EE,kE),[uLe,dLe]=k8(ks,IE,iw,Km,OE,TE);function zN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function WN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wu(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function fLe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,i=t.shortDays,l=t.months,c=t.shortMonths,u=Hu(a),d=Gu(a),f=Hu(s),m=Gu(s),h=Hu(i),g=Gu(i),y=Hu(l),x=Gu(l),p=Hu(c),b=Gu(c),N={a:U,A:D,b:R,B:F,c:null,d:hL,e:hL,f:$Le,g:WLe,G:GLe,H:PLe,I:DLe,j:_Le,L:O8,m:RLe,M:MLe,p:G,q:W,Q:yL,s:bL,S:LLe,u:FLe,U:BLe,V:qLe,w:VLe,W:ULe,x:null,X:null,y:zLe,Y:HLe,Z:YLe,"%":gL},C={a:Z,A:fe,b:Ce,B:ne,c:null,d:pL,e:pL,f:QLe,g:l5e,G:u5e,H:KLe,I:JLe,j:XLe,L:I8,m:ZLe,M:e5e,p:K,q:ie,Q:yL,s:bL,S:t5e,u:r5e,U:n5e,V:a5e,w:s5e,W:o5e,x:null,X:null,y:i5e,Y:c5e,Z:d5e,"%":gL},j={a:I,A:E,b:P,B:L,c:$,d:fL,e:fL,f:kLe,g:dL,G:uL,H:mL,I:mL,j:CLe,L:TLe,m:NLe,M:SLe,p:k,q:wLe,Q:ELe,s:ILe,S:ALe,u:yLe,U:bLe,V:xLe,w:gLe,W:vLe,x:_,X:B,y:dL,Y:uL,Z:jLe,"%":OLe};N.x=w(r,N),N.X=w(n,N),N.c=w(e,N),C.x=w(r,C),C.X=w(n,C),C.c=w(e,C);function w(X,ee){return function(H){var z=[],he=-1,je=0,ke=X.length,Ne,sr,An;for(H instanceof Date||(H=new Date(+H));++he<ke;)X.charCodeAt(he)===37&&(z.push(X.slice(je,he)),(sr=cL[Ne=X.charAt(++he)])!=null?Ne=X.charAt(++he):sr=Ne==="e"?" ":"0",(An=ee[Ne])&&(Ne=An(H,sr)),z.push(Ne),je=he+1);return z.push(X.slice(je,he)),z.join("")}}function S(X,ee){return function(H){var z=Wu(1900,void 0,1),he=T(z,X,H+="",0),je,ke;if(he!=H.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ee&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(je=WN(Wu(z.y,0,1)),ke=je.getUTCDay(),je=ke>4||ke===0?rx.ceil(je):rx(je),je=ow.offset(je,(z.V-1)*7),z.y=je.getUTCFullYear(),z.m=je.getUTCMonth(),z.d=je.getUTCDate()+(z.w+6)%7):(je=zN(Wu(z.y,0,1)),ke=je.getDay(),je=ke>4||ke===0?tx.ceil(je):tx(je),je=Km.offset(je,(z.V-1)*7),z.y=je.getFullYear(),z.m=je.getMonth(),z.d=je.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),ke="Z"in z?WN(Wu(z.y,0,1)).getUTCDay():zN(Wu(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(ke+5)%7:z.w+z.U*7-(ke+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,WN(z)):zN(z)}}function T(X,ee,H,z){for(var he=0,je=ee.length,ke=H.length,Ne,sr;he<je;){if(z>=ke)return-1;if(Ne=ee.charCodeAt(he++),Ne===37){if(Ne=ee.charAt(he++),sr=j[Ne in cL?ee.charAt(he++):Ne],!sr||(z=sr(X,H,z))<0)return-1}else if(Ne!=H.charCodeAt(z++))return-1}return z}function k(X,ee,H){var z=u.exec(ee.slice(H));return z?(X.p=d.get(z[0].toLowerCase()),H+z[0].length):-1}function I(X,ee,H){var z=h.exec(ee.slice(H));return z?(X.w=g.get(z[0].toLowerCase()),H+z[0].length):-1}function E(X,ee,H){var z=f.exec(ee.slice(H));return z?(X.w=m.get(z[0].toLowerCase()),H+z[0].length):-1}function P(X,ee,H){var z=p.exec(ee.slice(H));return z?(X.m=b.get(z[0].toLowerCase()),H+z[0].length):-1}function L(X,ee,H){var z=y.exec(ee.slice(H));return z?(X.m=x.get(z[0].toLowerCase()),H+z[0].length):-1}function $(X,ee,H){return T(X,e,ee,H)}function _(X,ee,H){return T(X,r,ee,H)}function B(X,ee,H){return T(X,n,ee,H)}function U(X){return i[X.getDay()]}function D(X){return s[X.getDay()]}function R(X){return c[X.getMonth()]}function F(X){return l[X.getMonth()]}function G(X){return a[+(X.getHours()>=12)]}function W(X){return 1+~~(X.getMonth()/3)}function Z(X){return i[X.getUTCDay()]}function fe(X){return s[X.getUTCDay()]}function Ce(X){return c[X.getUTCMonth()]}function ne(X){return l[X.getUTCMonth()]}function K(X){return a[+(X.getUTCHours()>=12)]}function ie(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ee=w(X+="",N);return ee.toString=function(){return X},ee},parse:function(X){var ee=S(X+="",!1);return ee.toString=function(){return X},ee},utcFormat:function(X){var ee=w(X+="",C);return ee.toString=function(){return X},ee},utcParse:function(X){var ee=S(X+="",!0);return ee.toString=function(){return X},ee}}}var cL={"-":"",_:" ",0:"0"},mr=/^\s*\d+/,mLe=/^%/,hLe=/[\\^$*+?|[\]().{}]/g;function Xe(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function pLe(t){return t.replace(hLe,"\\$&")}function Hu(t){return new RegExp("^(?:"+t.map(pLe).join("|")+")","i")}function Gu(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function gLe(t,e,r){var n=mr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function yLe(t,e,r){var n=mr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function bLe(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function xLe(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function vLe(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function uL(t,e,r){var n=mr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function dL(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jLe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function wLe(t,e,r){var n=mr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function NLe(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function fL(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function CLe(t,e,r){var n=mr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function mL(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function SLe(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ALe(t,e,r){var n=mr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function TLe(t,e,r){var n=mr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function kLe(t,e,r){var n=mr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function OLe(t,e,r){var n=mLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ELe(t,e,r){var n=mr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function ILe(t,e,r){var n=mr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function hL(t,e){return Xe(t.getDate(),e,2)}function PLe(t,e){return Xe(t.getHours(),e,2)}function DLe(t,e){return Xe(t.getHours()%12||12,e,2)}function _Le(t,e){return Xe(1+Km.count(ks(t),t),e,3)}function O8(t,e){return Xe(t.getMilliseconds(),e,3)}function $Le(t,e){return O8(t,e)+"000"}function RLe(t,e){return Xe(t.getMonth()+1,e,2)}function MLe(t,e){return Xe(t.getMinutes(),e,2)}function LLe(t,e){return Xe(t.getSeconds(),e,2)}function FLe(t){var e=t.getDay();return e===0?7:e}function BLe(t,e){return Xe(iw.count(ks(t)-1,t),e,2)}function E8(t){var e=t.getDay();return e>=4||e===0?Dc(t):Dc.ceil(t)}function qLe(t,e){return t=E8(t),Xe(Dc.count(ks(t),t)+(ks(t).getDay()===4),e,2)}function VLe(t){return t.getDay()}function ULe(t,e){return Xe(tx.count(ks(t)-1,t),e,2)}function zLe(t,e){return Xe(t.getFullYear()%100,e,2)}function WLe(t,e){return t=E8(t),Xe(t.getFullYear()%100,e,2)}function HLe(t,e){return Xe(t.getFullYear()%1e4,e,4)}function GLe(t,e){var r=t.getDay();return t=r>=4||r===0?Dc(t):Dc.ceil(t),Xe(t.getFullYear()%1e4,e,4)}function YLe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xe(e/60|0,"0",2)+Xe(e%60,"0",2)}function pL(t,e){return Xe(t.getUTCDate(),e,2)}function KLe(t,e){return Xe(t.getUTCHours(),e,2)}function JLe(t,e){return Xe(t.getUTCHours()%12||12,e,2)}function XLe(t,e){return Xe(1+ow.count(Os(t),t),e,3)}function I8(t,e){return Xe(t.getUTCMilliseconds(),e,3)}function QLe(t,e){return I8(t,e)+"000"}function ZLe(t,e){return Xe(t.getUTCMonth()+1,e,2)}function e5e(t,e){return Xe(t.getUTCMinutes(),e,2)}function t5e(t,e){return Xe(t.getUTCSeconds(),e,2)}function r5e(t){var e=t.getUTCDay();return e===0?7:e}function n5e(t,e){return Xe(lw.count(Os(t)-1,t),e,2)}function P8(t){var e=t.getUTCDay();return e>=4||e===0?_c(t):_c.ceil(t)}function a5e(t,e){return t=P8(t),Xe(_c.count(Os(t),t)+(Os(t).getUTCDay()===4),e,2)}function s5e(t){return t.getUTCDay()}function o5e(t,e){return Xe(rx.count(Os(t)-1,t),e,2)}function i5e(t,e){return Xe(t.getUTCFullYear()%100,e,2)}function l5e(t,e){return t=P8(t),Xe(t.getUTCFullYear()%100,e,2)}function c5e(t,e){return Xe(t.getUTCFullYear()%1e4,e,4)}function u5e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?_c(t):_c.ceil(t),Xe(t.getUTCFullYear()%1e4,e,4)}function d5e(){return"+0000"}function gL(){return"%"}function yL(t){return+t}function bL(t){return Math.floor(+t/1e3)}var Sl,D8,_8;f5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function f5e(t){return Sl=fLe(t),D8=Sl.format,Sl.parse,_8=Sl.utcFormat,Sl.utcParse,Sl}function m5e(t){return new Date(t)}function h5e(t){return t instanceof Date?+t:+new Date(+t)}function DE(t,e,r,n,a,s,i,l,c,u){var d=xE(),f=d.invert,m=d.domain,h=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),p=u("%a %d"),b=u("%b %d"),N=u("%B"),C=u("%Y");function j(w){return(c(w)<w?h:l(w)<w?g:i(w)<w?y:s(w)<w?x:n(w)<w?a(w)<w?p:b:r(w)<w?N:C)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?m(Array.from(w,h5e)):m().map(m5e)},d.ticks=function(w){var S=m();return t(S[0],S[S.length-1],w??10)},d.tickFormat=function(w,S){return S==null?j:u(S)},d.nice=function(w){var S=m();return(!w||typeof w.range!="function")&&(w=e(S[0],S[S.length-1],w??10)),w?m(v8(S,w)):d},d.copy=function(){return Ym(d,DE(t,e,r,n,a,s,i,l,c,u))},d}function p5e(){return Yn.apply(DE(uLe,dLe,ks,IE,iw,Km,OE,TE,Ci,D8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function g5e(){return Yn.apply(DE(lLe,cLe,Os,PE,lw,ow,EE,kE,Ci,_8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cw(){var t=0,e=1,r,n,a,s,i=_r,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(m){var h,g;return arguments.length?([h,g]=m,i=f(h,g),u):[i(0),i(1)]}}return u.range=d(pu),u.rangeRound=d(bE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function Ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function $8(){var t=Wo(cw()(_r));return t.copy=function(){return Ho(t,$8())},Ms.apply(t,arguments)}function R8(){var t=wE(cw()).domain([1,10]);return t.copy=function(){return Ho(t,R8()).base(t.base())},Ms.apply(t,arguments)}function M8(){var t=NE(cw());return t.copy=function(){return Ho(t,M8()).constant(t.constant())},Ms.apply(t,arguments)}function _E(){var t=CE(cw());return t.copy=function(){return Ho(t,_E()).exponent(t.exponent())},Ms.apply(t,arguments)}function y5e(){return _E.apply(null,arguments).exponent(.5)}function L8(){var t=[],e=_r;function r(n){if(n!=null&&!isNaN(n=+n))return e((Hm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(No),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>nMe(t,s/n))},r.copy=function(){return L8(e).domain(t)},Ms.apply(r,arguments)}function uw(){var t=0,e=.5,r=1,n=1,a,s,i,l,c,u=_r,d,f=!1,m;function h(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([t,e,r]=y,a=d(t=+t),s=d(e=+e),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h):[t,e,r]},h.clamp=function(y){return arguments.length?(f=!!y,h):f},h.interpolator=function(y){return arguments.length?(u=y,h):u};function g(y){return function(x){var p,b,N;return arguments.length?([p,b,N]=x,u=OMe(y,[p,b,N]),h):[u(0),u(.5),u(1)]}}return h.range=g(pu),h.rangeRound=g(bE),h.unknown=function(y){return arguments.length?(m=y,h):m},function(y){return d=y,a=y(t),s=y(e),i=y(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,h}}function F8(){var t=Wo(uw()(_r));return t.copy=function(){return Ho(t,F8())},Ms.apply(t,arguments)}function B8(){var t=wE(uw()).domain([.1,1,10]);return t.copy=function(){return Ho(t,B8()).base(t.base())},Ms.apply(t,arguments)}function q8(){var t=NE(uw());return t.copy=function(){return Ho(t,q8()).constant(t.constant())},Ms.apply(t,arguments)}function $E(){var t=CE(uw());return t.copy=function(){return Ho(t,$E()).exponent(t.exponent())},Ms.apply(t,arguments)}function b5e(){return $E.apply(null,arguments).exponent(.5)}const xL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zf,scaleDiverging:F8,scaleDivergingLog:B8,scaleDivergingPow:$E,scaleDivergingSqrt:b5e,scaleDivergingSymlog:q8,scaleIdentity:x8,scaleImplicit:IT,scaleLinear:Z0,scaleLog:j8,scaleOrdinal:pE,scalePoint:zd,scalePow:SE,scaleQuantile:C8,scaleQuantize:S8,scaleRadial:N8,scaleSequential:$8,scaleSequentialLog:R8,scaleSequentialPow:_E,scaleSequentialQuantile:L8,scaleSequentialSqrt:y5e,scaleSequentialSymlog:M8,scaleSqrt:QMe,scaleSymlog:w8,scaleThreshold:A8,scaleTime:p5e,scaleUtc:g5e,tickFormat:b8},Symbol.toStringTag,{value:"Module"}));var x5e=ou;function v5e(t,e,r){for(var n=-1,a=t.length;++n<a;){var s=t[n],i=e(s);if(i!=null&&(l===void 0?i===i&&!x5e(i):r(i,l)))var l=i,c=s}return c}var dw=v5e;function j5e(t,e){return t>e}var V8=j5e,w5e=dw,N5e=V8,C5e=mu;function S5e(t){return t&&t.length?w5e(t,C5e,N5e):void 0}var A5e=S5e;const fw=et(A5e);function T5e(t,e){return t<e}var U8=T5e,k5e=dw,O5e=U8,E5e=mu;function I5e(t){return t&&t.length?k5e(t,E5e,O5e):void 0}var P5e=I5e;const mw=et(P5e);var D5e=YO,_5e=zo,$5e=Xz,R5e=rn;function M5e(t,e){var r=R5e(t)?D5e:$5e;return r(t,_5e(e))}var L5e=M5e,F5e=Kz,B5e=L5e;function q5e(t,e){return F5e(B5e(t,e),1)}var V5e=q5e;const U5e=et(V5e);var z5e=uE;function W5e(t,e){return z5e(t,e)}var H5e=W5e;const RE=et(H5e);var gu=1e9,G5e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LE,Pt=!0,Hn="[DecimalError] ",$i=Hn+"Invalid argument: ",ME=Hn+"Exponent out of range: ",yu=Math.floor,fi=Math.pow,Y5e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,on,ir=1e7,Ct=7,z8=9007199254740991,nx=yu(z8/Ct),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ct;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xe.dividedBy=xe.div=function(t){return bs(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,r=e.constructor;return ht(bs(e,new r(t),0,1),r.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return Xt(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(on))throw Error(Hn+"NaN");if(r.s<1)throw Error(Hn+(r.s?"NaN":"-Infinity"));return r.eq(on)?new n(0):(Pt=!1,e=bs(Kf(r,s),Kf(t,s),s),Pt=!0,ht(e,a))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?G8(e,t):W8(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Hn+"NaN");return r.s?(Pt=!1,e=bs(r,t,0,1).times(t),Pt=!0,r.minus(e)):ht(new n(r),a)};xe.naturalExponential=xe.exp=function(){return H8(this)};xe.naturalLogarithm=xe.ln=function(){return Kf(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?W8(e,t):G8(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($i+t);if(e=Xt(a)+1,n=a.d.length-1,r=n*Ct+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xe.squareRoot=xe.sqrt=function(){var t,e,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Hn+"NaN")}for(t=Xt(l),Pt=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Aa(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=yu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(bs(l,s,i+2)).times(.5),Aa(s.d).slice(0,i)===(e=Aa(n.d)).slice(0,i)){if(e=e.slice(i-3,i+1),a==i&&e=="4999"){if(ht(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;i+=4}return Pt=!0,ht(n,r)};xe.times=xe.mul=function(t){var e,r,n,a,s,i,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(s=m,m=h,h=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+h[n]*m[a-n-1]+e,s[a--]=l%ir|0,e=l/ir|0;s[a]=(s[a]+e)%ir|0}for(;!s[--i];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Pt?ht(t,f.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Fa(t,0,gu),e===void 0?e=n.rounding:Fa(e,0,8),ht(r,t+Xt(r)+1,e))};xe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Xi(n,!0):(Fa(t,0,gu),e===void 0?e=a.rounding:Fa(e,0,8),n=ht(new a(n),t+1,e),r=Xi(n,!0,t+1)),r};xe.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?Xi(a):(Fa(t,0,gu),e===void 0?e=s.rounding:Fa(e,0,8),n=ht(new s(a),t+Xt(a)+1,e),r=Xi(n.abs(),!1,t+Xt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return ht(new e(t),Xt(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(on);if(l=new c(l),!l.s){if(t.s<1)throw Error(Hn+"Infinity");return l}if(l.eq(on))return l;if(n=c.precision,t.eq(on))return ht(l,n);if(e=t.e,r=t.d.length-1,i=e>=r,s=l.s,i){if((r=d<0?-d:d)<=z8){for(a=new c(on),e=Math.ceil(n/Ct+4),Pt=!1;r%2&&(a=a.times(l),jL(a.d,e)),r=yu(r/2),r!==0;)l=l.times(l),jL(l.d,e);return Pt=!0,t.s<0?new c(on).div(a):ht(a,n)}}else if(s<0)throw Error(Hn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Pt=!1,a=t.times(Kf(l,n+u)),Pt=!0,a=H8(a),a.s=s,a};xe.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=Xt(a),n=Xi(a,r<=s.toExpNeg||r>=s.toExpPos)):(Fa(t,1,gu),e===void 0?e=s.rounding:Fa(e,0,8),a=ht(new s(a),t,e),r=Xt(a),n=Xi(a,t<=r||r<=s.toExpNeg,t)),n};xe.toSignificantDigits=xe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Fa(t,1,gu),e===void 0?e=n.rounding:Fa(e,0,8)),ht(new n(r),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xt(t),r=t.constructor;return Xi(t,e<=r.toExpNeg||e>=r.toExpPos)};function W8(t,e){var r,n,a,s,i,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Pt?ht(e,f):e;if(c=t.d,u=e.d,i=t.e,a=e.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Ct),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/ir|0,c[s]%=ir;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Pt?ht(e,f):e}function Fa(t,e,r){if(t!==~~t||t<e||t>r)throw Error($i+t)}function Aa(t){var e,r,n,a=t.length-1,s="",i=t[0];if(a>0){for(s+=i,e=1;e<a;e++)n=t[e]+"",r=Ct-n.length,r&&(s+=Ks(r)),s+=n;i=t[e],n=i+"",r=Ct-n.length,r&&(s+=Ks(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var bs=function(){function t(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%ir|0,i=s/ir|0;return i&&n.unshift(i),n}function e(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*ir+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,m,h,g,y,x,p,b,N,C,j,w,S,T,k=n.constructor,I=n.s==a.s?1:-1,E=n.d,P=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Hn+"Division by zero");for(c=n.e-a.e,S=P.length,j=E.length,h=new k(I),g=h.d=[],u=0;P[u]==(E[u]||0);)++u;if(P[u]>(E[u]||0)&&--c,s==null?b=s=k.precision:i?b=s+(Xt(n)-Xt(a))+1:b=s,b<0)return new k(0);if(b=b/Ct+2|0,u=0,S==1)for(d=0,P=P[0],b++;(u<j||d)&&b--;u++)N=d*ir+(E[u]||0),g[u]=N/P|0,d=N%P|0;else{for(d=ir/(P[0]+1)|0,d>1&&(P=t(P,d),E=t(E,d),S=P.length,j=E.length),C=S,y=E.slice(0,S),x=y.length;x<S;)y[x++]=0;T=P.slice(),T.unshift(0),w=P[0],P[1]>=ir/2&&++w;do d=0,l=e(P,y,S,x),l<0?(p=y[0],S!=x&&(p=p*ir+(y[1]||0)),d=p/w|0,d>1?(d>=ir&&(d=ir-1),f=t(P,d),m=f.length,x=y.length,l=e(f,y,m,x),l==1&&(d--,r(f,S<m?T:P,m))):(d==0&&(l=d=1),f=P.slice()),m=f.length,m<x&&f.unshift(0),r(y,f,x),l==-1&&(x=y.length,l=e(P,y,S,x),l<1&&(d++,r(y,S<x?T:P,x))),x=y.length):l===0&&(d++,y=[0]),g[u++]=d,l&&y[0]?y[x++]=E[C]||0:(y=[E[C]],x=1);while((C++<j||y[0]!==void 0)&&b--)}return g[0]||g.shift(),h.e=c,ht(h,i?s+Xt(h)+1:s)}}();function H8(t,e){var r,n,a,s,i,l,c=0,u=0,d=t.constructor,f=d.precision;if(Xt(t)>16)throw Error(ME+Xt(t));if(!t.s)return new d(on);for(Pt=!1,l=f,i=new d(.03125);t.abs().gte(.1);)t=t.times(i),u+=5;for(n=Math.log(fi(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(on),d.precision=l;;){if(a=ht(a.times(t),l),r=r.times(++c),i=s.plus(bs(a,r,l)),Aa(i.d).slice(0,l)===Aa(s.d).slice(0,l)){for(;u--;)s=ht(s.times(s),l);return d.precision=f,e==null?(Pt=!0,ht(s,f)):s}s=i}}function Xt(t){for(var e=t.e*Ct,r=t.d[0];r>=10;r/=10)e++;return e}function HN(t,e,r){if(e>t.LN10.sd())throw Pt=!0,r&&(t.precision=r),Error(Hn+"LN10 precision limit exceeded");return ht(new t(t.LN10),e)}function Ks(t){for(var e="";t--;)e+="0";return e}function Kf(t,e){var r,n,a,s,i,l,c,u,d,f=1,m=10,h=t,g=h.d,y=h.constructor,x=y.precision;if(h.s<1)throw Error(Hn+(h.s?"NaN":"-Infinity"));if(h.eq(on))return new y(0);if(e==null?(Pt=!1,u=x):u=e,h.eq(10))return e==null&&(Pt=!0),HN(y,u);if(u+=m,y.precision=u,r=Aa(g),n=r.charAt(0),s=Xt(h),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Aa(h.d),n=r.charAt(0),f++;s=Xt(h),n>1?(h=new y("0."+r),s++):h=new y(n+"."+r.slice(1))}else return c=HN(y,u+2,x).times(s+""),h=Kf(new y(n+"."+r.slice(1)),u-m).plus(c),y.precision=x,e==null?(Pt=!0,ht(h,x)):h;for(l=i=h=bs(h.minus(on),h.plus(on),u),d=ht(h.times(h),u),a=3;;){if(i=ht(i.times(d),u),c=l.plus(bs(i,new y(a),u)),Aa(c.d).slice(0,u)===Aa(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(HN(y,u+2,x).times(s+""))),l=bs(l,new y(f),u),y.precision=x,e==null?(Pt=!0,ht(l,x)):l;l=c,a+=2}}function vL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=yu(r/Ct),t.d=[],n=(r+1)%Ct,r<0&&(n+=Ct),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Ct;n<a;)t.d.push(+e.slice(n,n+=Ct));e=e.slice(n),n=Ct-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Pt&&(t.e>nx||t.e<-nx))throw Error(ME+r)}else t.s=0,t.e=0,t.d=[0];return t}function ht(t,e,r){var n,a,s,i,l,c,u,d,f=t.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=e-i,n<0)n+=Ct,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/Ct),s=f.length,d>=s)return t;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Ct,a=n-Ct+i}if(r!==void 0&&(s=fi(10,i-a-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/fi(10,i-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=Xt(t),f.length=1,e=e-s-1,f[0]=fi(10,(Ct-e%Ct)%Ct),t.e=yu(-e/Ct)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=fi(10,Ct-n),f[d]=a>0?(u/fi(10,i-a)%fi(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ir&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=ir)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Pt&&(t.e>nx||t.e<-nx))throw Error(ME+Xt(t));return t}function G8(t,e){var r,n,a,s,i,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Pt?ht(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/Ct),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=ir-1;--c[s],c[a]+=ir}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Pt?ht(e,h):e):new m(0)}function Xi(t,e,r){var n,a=Xt(t),s=Aa(t.d),i=s.length;return e?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Ks(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ks(-a-1)+s,r&&(n=r-i)>0&&(s+=Ks(n))):a>=i?(s+=Ks(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Ks(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Ks(n))),t.s<0?"-"+s:s}function jL(t,e){if(t.length>e)return t.length=e,!0}function Y8(t){var e,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error($i+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return vL(i,s.toString())}else if(typeof s!="string")throw Error($i+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,Y5e.test(s))vL(i,s);else throw Error($i+s)}if(a.prototype=xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Y8,a.config=a.set=K5e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function K5e(t){if(!t||typeof t!="object")throw Error(Hn+"Object expected");var e,r,n,a=["precision",1,gu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(yu(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error($i+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error($i+r+": "+n);return this}var LE=Y8(G5e);on=new LE(1);const ft=LE;function J5e(t){return eFe(t)||Z5e(t)||Q5e(t)||X5e()}function X5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q5e(t,e){if(t){if(typeof t=="string")return $T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $T(t,e)}}function Z5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function eFe(t){if(Array.isArray(t))return $T(t)}function $T(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tFe=function(e){return e},K8={},J8=function(e){return e===K8},wL=function(e){return function r(){return arguments.length===0||arguments.length===1&&J8(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},rFe=function t(e,r){return e===1?r:wL(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==K8}).length;return i>=e?r.apply(void 0,a):t(e-i,wL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return J8(f)?c.shift():f});return r.apply(void 0,J5e(d).concat(c))}))})},hw=function(e){return rFe(e.length,e)},RT=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},nFe=hw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),aFe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return tFe;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},MT=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},X8=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function sFe(t){var e;return t===0?e=1:e=Math.floor(new ft(t).abs().log(10).toNumber())+1,e}function oFe(t,e,r){for(var n=new ft(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var iFe=hw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),lFe=hw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),cFe=hw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const pw={rangeStep:oFe,getDigitCount:sFe,interpolateNumber:iFe,uninterpolateNumber:lFe,uninterpolateTruncation:cFe};function LT(t){return fFe(t)||dFe(t)||Q8(t)||uFe()}function uFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fFe(t){if(Array.isArray(t))return FT(t)}function Jf(t,e){return pFe(t)||hFe(t,e)||Q8(t,e)||mFe()}function mFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q8(t,e){if(t){if(typeof t=="string")return FT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FT(t,e)}}function FT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hFe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=t[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function pFe(t){if(Array.isArray(t))return t}function Z8(t){var e=Jf(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function e7(t,e,r){if(t.lte(0))return new ft(0);var n=pw.getDigitCount(t.toNumber()),a=new ft(10).pow(n),s=t.div(a),i=n!==1?.05:.1,l=new ft(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return e?c:new ft(Math.ceil(c))}function gFe(t,e,r){var n=1,a=new ft(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new ft(10).pow(pw.getDigitCount(t)-1),a=new ft(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ft(Math.floor(t)))}else t===0?a=new ft(Math.floor((e-1)/2)):r||(a=new ft(Math.floor(t)));var i=Math.floor((e-1)/2),l=aFe(nFe(function(c){return a.add(new ft(c-i).mul(n)).toNumber()}),RT);return l(0,e)}function t7(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new ft(0),tickMin:new ft(0),tickMax:new ft(0)};var s=e7(new ft(e).sub(t).div(r-1),n,a),i;t<=0&&e>=0?i=new ft(0):(i=new ft(t).add(e).div(2),i=i.sub(new ft(i).mod(s)));var l=Math.ceil(i.sub(t).div(s).toNumber()),c=Math.ceil(new ft(e).sub(i).div(s).toNumber()),u=l+c+1;return u>r?t7(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:i.sub(new ft(l).mul(s)),tickMax:i.add(new ft(c).mul(s))})}function yFe(t){var e=Jf(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=Z8([r,n]),c=Jf(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(LT(RT(0,a-1).map(function(){return 1/0}))):[].concat(LT(RT(0,a-1).map(function(){return-1/0})),[d]);return r>n?MT(f):f}if(u===d)return gFe(u,a,s);var m=t7(u,d,i,s),h=m.step,g=m.tickMin,y=m.tickMax,x=pw.rangeStep(g,y.add(new ft(.1).mul(h)),h);return r>n?MT(x):x}function bFe(t,e){var r=Jf(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Z8([n,a]),l=Jf(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=e7(new ft(u).sub(c).div(d-1),s,0),m=[].concat(LT(pw.rangeStep(new ft(c),new ft(u).sub(new ft(.99).mul(f)),f)),[u]);return n>a?MT(m):m}var xFe=X8(yFe),vFe=X8(bFe),jFe="Invariant failed";function $c(t,e){throw new Error(jFe)}var wFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ax.apply(this,arguments)}function NFe(t,e){return TFe(t)||AFe(t,e)||SFe(t,e)||CFe()}function CFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SFe(t,e){if(t){if(typeof t=="string")return NL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NL(t,e)}}function NL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function TFe(t){if(Array.isArray(t))return t}function kFe(t,e){if(t==null)return{};var r=OFe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a7(n.key),n)}}function PFe(t,e,r){return e&&IFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DFe(t,e,r){return e=sx(e),_Fe(t,r7()?Reflect.construct(e,r||[],sx(t).constructor):e.apply(t,r))}function _Fe(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Fe(t)}function $Fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!t})()}function sx(t){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sx(t)}function RFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BT(t,e)}function BT(t,e){return BT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BT(t,e)}function n7(t,e,r){return e=a7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a7(t){var e=MFe(t,"string");return Rc(e)=="symbol"?e:e+""}function MFe(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FE=function(t){function e(){return EFe(this,e),DFe(this,e,arguments)}return RFe(e,t),PFe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=kFe(n,wFe),h=qe(m,!1);this.props.direction==="x"&&d.type!=="number"&&$c();var g=c.map(function(y){var x=u(y,l),p=x.x,b=x.y,N=x.value,C=x.errorVal;if(!C)return null;var j=[],w,S;if(Array.isArray(C)){var T=NFe(C,2);w=T[0],S=T[1]}else w=S=C;if(s==="vertical"){var k=d.scale,I=b+a,E=I+i,P=I-i,L=k(N-w),$=k(N+S);j.push({x1:$,y1:E,x2:$,y2:P}),j.push({x1:L,y1:I,x2:$,y2:I}),j.push({x1:L,y1:E,x2:L,y2:P})}else if(s==="horizontal"){var _=f.scale,B=p+a,U=B-i,D=B+i,R=_(N-w),F=_(N+S);j.push({x1:U,y1:F,x2:D,y2:F}),j.push({x1:B,y1:R,x2:B,y2:F}),j.push({x1:U,y1:R,x2:D,y2:R})}return q.createElement(qt,ax({className:"recharts-errorBar",key:"bar-".concat(j.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},h),j.map(function(G){return q.createElement("line",ax({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return q.createElement(qt,{className:"recharts-errorBars"},g)}}])}(q.Component);n7(FE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});n7(FE,"displayName","ErrorBar");function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){LFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LFe(t,e,r){return e=FFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FFe(t){var e=BFe(t,"string");return Xf(e)=="symbol"?e:e+""}function BFe(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s7=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,i=_n(r,Ra);if(!i)return null;var l=Ra.defaultProps,c=l!==void 0?ti(ti({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(y){return{type:i.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?ti(ti({},m),f.props):{},g=h.dataKey,y=h.name,x=h.legendType,p=h.hide;return{inactive:p,dataKey:g,type:c.iconType||x||"square",color:BE(f),value:y||g,payload:h}}),ti(ti(ti({},c),Ra.getWithHeight(i,a)),{},{payload:u,item:i})};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function SL(t){return zFe(t)||UFe(t)||VFe(t)||qFe()}function qFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VFe(t,e){if(t){if(typeof t=="string")return qT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qT(t,e)}}function UFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zFe(t){if(Array.isArray(t))return qT(t)}function qT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function AL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(r),!0).forEach(function(n){dc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dc(t,e,r){return e=WFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WFe(t){var e=HFe(t,"string");return Qf(e)=="symbol"?e:e+""}function HFe(t,e){if(Qf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ln(t,e,r){return Ge(t)||Ge(e)?r:nr(e)?ua(t,e,r):Ve(e)?e(t):r}function Wd(t,e,r,n){var a=U5e(t,function(l){return ln(l,e)});if(r==="number"){var s=a.filter(function(l){return ge(l)||parseFloat(l)});return s.length?[mw(s),fw(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!Ge(l)}):a;return i.map(function(l){return nr(l)||l instanceof Date?l:""})}var GFe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(Fn(f-d)!==Fn(m-f)){var g=[];if(Fn(m-f)===Fn(c[1]-c[0])){h=m;var y=f+c[1]-c[0];g[0]=Math.min(y,(y+d)/2),g[1]=Math.max(y,(y+d)/2)}else{h=d;var x=m+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var p=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>p[0]&&e<=p[1]||e>=g[0]&&e<=g[1]){i=a[u].index;break}}else{var b=Math.min(d,m),N=Math.max(d,m);if(e>(b+f)/2&&e<=(N+f)/2){i=a[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){i=n[C].index;break}return i},BE=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},YFe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var g=d[f[m]],y=g.items,x=g.cateAxisId,p=y.filter(function(S){return gs(S.type).indexOf("Bar")>=0});if(p&&p.length){var b=p[0].type.defaultProps,N=b!==void 0?Bt(Bt({},b),p[0].props):p[0].props,C=N.barSize,j=N[x];i[j]||(i[j]=[]);var w=Ge(C)?r:C;i[j].push({item:p[0],stackList:p.slice(1),barSize:Ge(w)?void 0:Hr(w,n,0)})}}return i},KFe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,i=s===void 0?[]:s,l=e.maxBarSize,c=i.length;if(c<1)return null;var u=Hr(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var m=!1,h=a/c,g=i.reduce(function(C,j){return C+j.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&h>0&&(m=!0,h*=.9,g=c*h);var y=(a-g)/2>>0,x={offset:y-u,size:0};d=i.reduce(function(C,j){var w={item:j.item,position:{offset:x.offset+x.size+u,size:m?h:j.barSize}},S=[].concat(SL(C),[w]);return x=S[S.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){S.push({item:T,position:x})}),S},f)}else{var p=Hr(n,a,0,!0);a-2*p-(c-1)*u<=0&&(u=0);var b=(a-2*p-(c-1)*u)/c;b>1&&(b>>=0);var N=l===+l?Math.min(b,l):b;d=i.reduce(function(C,j,w){var S=[].concat(SL(C),[{item:j.item,position:{offset:p+(b+u)*w+(b-N)/2,size:N}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(T){S.push({item:T,position:S[S.length-1].position})}),S},f)}return d},JFe=function(e,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=s7({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&h!=="center"&&ge(e[h]))return Bt(Bt({},e),{},dc({},h,e[h]+(f||0)));if((y==="horizontal"||y==="vertical"&&h==="center")&&g!=="middle"&&ge(e[g]))return Bt(Bt({},e),{},dc({},g,e[g]+(m||0)))}return e},XFe=function(e,r,n){return Ge(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},o7=function(e,r,n,a,s){var i=r.props.children,l=$a(i,FE).filter(function(u){return XFe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ln(d,n);if(Ge(f))return u;var m=Array.isArray(f)?[mw(f),fw(f)]:[f,f],h=c.reduce(function(g,y){var x=ln(d,y,0),p=m[0]-Math.abs(Array.isArray(x)?x[0]:x),b=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(p,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},QFe=function(e,r,n,a,s){var i=r.map(function(l){return o7(e,l,n,s,a)}).filter(function(l){return!Ge(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},i7=function(e,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&o7(e,c,u,a)||Wd(e,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},l7=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},dd=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,i=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Fn(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=s?s.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!Wm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:s?s[f]:f,index:m,offset:u}})},GN=new WeakMap,Qh=function(e,r){if(typeof r!="function")return e;GN.has(e)||GN.set(e,new WeakMap);var n=GN.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},ZFe=function(e,r,n){var a=e.scale,s=e.type,i=e.layout,l=e.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:zf(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:Z0(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0)?{scale:zd(),realScaleType:"point"}:s==="category"?{scale:zf(),realScaleType:"band"}:{scale:Z0(),realScaleType:"linear"};if(zm(a)){var c="scale".concat(Jj(a));return{scale:(xL[c]||zd)(),realScaleType:xL[c]?c:"point"}}return Ve(a)?{scale:a}:{scale:zd(),realScaleType:"point"}},TL=1e-4,e4e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-TL,i=Math.max(a[0],a[1])+TL,l=e(r[0]),c=e(r[n-1]);(l<s||l>i||c<s||c>i)&&e.domain([r[0],r[n-1]])}},t4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=Wm(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1])}},r4e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=Wm(e[i][n][1])?e[i][n][0]:e[i][n][1];l>=0?(e[i][n][0]=s,e[i][n][1]=s+l,s=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}},n4e={sign:t4e,expand:j2e,none:Ac,silhouette:w2e,wiggle:N2e,positive:r4e},a4e=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=n4e[n],i=v2e().keys(a).value(function(l,c){return+ln(l,c,0)}).order(fT).offset(s);return i(e)},s4e=function(e,r,n,a,s,i){if(!e)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,m){var h,g=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Bt(Bt({},m.type.defaultProps),m.props):m.props,y=g.stackId,x=g.hide;if(x)return f;var p=g[n],b=f[p]||{hasStack:!1,stackGroups:{}};if(nr(y)){var N=b.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(m),b.hasStack=!0,b.stackGroups[y]=N}else b.stackGroups[Yj("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Bt(Bt({},f),{},dc({},p,b))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(y,x){var p=h.stackGroups[x];return Bt(Bt({},y),{},dc({},x,{numericAxisId:n,cateAxisId:a,items:p.items,stackedData:a4e(e,p.items,s)}))},g)}return Bt(Bt({},f),{},dc({},m,h))},d)},o4e=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=xFe(u,s,l);return e.domain([mw(d),fw(d)]),{niceTicks:d}}if(s&&a==="number"){var f=e.domain(),m=vFe(f,s,l);return{niceTicks:m}}return null},i4e=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(nr(s)){var i=r[s];if(i){var l=i.items.indexOf(e);return l>=0?i.stackedData[l]:null}}return null},l4e=function(e){return e.reduce(function(r,n){return[mw(n.concat([r[0]]).filter(ge)),fw(n.concat([r[1]]).filter(ge))]},[1/0,-1/0])},c7=function(e,r,n){return Object.keys(e).reduce(function(a,s){var i=e[s],l=i.stackedData,c=l.reduce(function(u,d){var f=l4e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},kL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VT=function(e,r,n){if(Ve(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(ge(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(kL.test(e[0])){var s=+kL.exec(e[0])[1];a[0]=r[0]-s}else Ve(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(ge(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(OL.test(e[1])){var i=+OL.exec(e[1])[1];a[1]=r[1]+i}else Ve(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},UT=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=fE(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},EL=function(e,r,n){return!e||!e.length||RE(e,ua(n,"type.defaultProps.domain"))?r:e},c4e=function(e,r){var n=e.type.defaultProps?Bt(Bt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Bt(Bt({},qe(e,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:BE(e),value:ln(r,a),type:c,payload:r,chartType:u,hide:d})};function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function IL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(r),!0).forEach(function(n){u7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u7(t,e,r){return e=u4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u4e(t){var e=d4e(t,"string");return Zf(e)=="symbol"?e:e+""}function d4e(t,e){if(Zf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f4e(t,e){return g4e(t)||p4e(t,e)||h4e(t,e)||m4e()}function m4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h4e(t,e){if(t){if(typeof t=="string")return PL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PL(t,e)}}function PL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function g4e(t){if(Array.isArray(t))return t}var ox=Math.PI/180,y4e=function(e){return e*180/Math.PI},vt=function(e,r,n,a){return{x:e+Math.cos(-ox*a)*n,y:r+Math.sin(-ox*a)*n}},d7=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},b4e=function(e,r,n,a,s){var i=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Hr(e.cx,i,i/2),f=Hr(e.cy,l,l/2),m=d7(i,l,n),h=Hr(e.innerRadius,m,0),g=Hr(e.outerRadius,m,m*.8),y=Object.keys(r);return y.reduce(function(x,p){var b=r[p],N=b.domain,C=b.reversed,j;if(Ge(b.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[h,g]),C&&(j=[j[1],j[0]]);else{j=b.range;var w=j,S=f4e(w,2);c=S[0],u=S[1]}var T=ZFe(b,s),k=T.realScaleType,I=T.scale;I.domain(N).range(j),e4e(I);var E=o4e(I,Xa(Xa({},b),{},{realScaleType:k})),P=Xa(Xa(Xa({},b),E),{},{range:j,radius:g,realScaleType:k,scale:I,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:c,endAngle:u});return Xa(Xa({},x),{},u7({},p,P))},{})},x4e=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},v4e=function(e,r){var n=e.x,a=e.y,s=r.cx,i=r.cy,l=x4e({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:y4e(u),angleInRadian:u}},j4e=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},w4e=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return e+l*360},DL=function(e,r){var n=e.x,a=e.y,s=v4e({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=j4e(r),f=d.startAngle,m=d.endAngle,h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?Xa(Xa({},r),{},{radius:i,angle:w4e(h,r)}):null},f7=function(e){return!v.isValidElement(e)&&!Ve(e)&&typeof e!="boolean"?e.className:""};function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}var N4e=["offset"];function C4e(t){return k4e(t)||T4e(t)||A4e(t)||S4e()}function S4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A4e(t,e){if(t){if(typeof t=="string")return zT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zT(t,e)}}function T4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k4e(t){if(Array.isArray(t))return zT(t)}function zT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O4e(t,e){if(t==null)return{};var r=E4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){I4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I4e(t,e,r){return e=P4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P4e(t){var e=D4e(t,"string");return em(e)=="symbol"?e:e+""}function D4e(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tm.apply(this,arguments)}var _4e=function(e){var r=e.value,n=e.formatter,a=Ge(e.children)?r:e.children;return Ve(n)?n(a):a},$4e=function(e,r){var n=Fn(r-e),a=Math.min(Math.abs(r-e),360);return n*a},R4e=function(e,r,n){var a=e.position,s=e.viewBox,i=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,g=c.endAngle,y=c.clockWise,x=(f+m)/2,p=$4e(h,g),b=p>=0?1:-1,N,C;a==="insideStart"?(N=h+b*i,C=y):a==="insideEnd"?(N=g-b*i,C=!y):a==="end"&&(N=g+b*i,C=y),C=p<=0?C:!C;var j=vt(u,d,x,N),w=vt(u,d,x,N+(C?1:-1)*359),S="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(w.x,",").concat(w.y),T=Ge(e.id)?Yj("recharts-radial-line-"):e.id;return q.createElement("text",tm({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",l)}),q.createElement("defs",null,q.createElement("path",{id:T,d:S})),q.createElement("textPath",{xlinkHref:"#".concat(T)},r))},M4e=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,m=(d+f)/2;if(a==="outside"){var h=vt(i,l,u+n,m),g=h.x,y=h.y;return{x:g,y,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,p=vt(i,l,x,m),b=p.x,N=p.y;return{x:b,y:N,textAnchor:"middle",verticalAnchor:"middle"}},L4e=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,x=y*a,p=y>0?"end":"start",b=y>0?"start":"end";if(s==="top"){var N={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return Zt(Zt({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:g};return Zt(Zt({},C),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-x,y:c+d/2,textAnchor:p,verticalAnchor:"middle"};return Zt(Zt({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(s==="right"){var w={x:l+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Zt(Zt({},w),n?{width:Math.max(n.x+n.width-w.x,0),height:d}:{})}var S=n?{width:u,height:d}:{};return s==="insideLeft"?Zt({x:l+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},S):s==="insideRight"?Zt({x:l+u-x,y:c+d/2,textAnchor:p,verticalAnchor:"middle"},S):s==="insideTop"?Zt({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:g},S):s==="insideBottom"?Zt({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},S):s==="insideTopLeft"?Zt({x:l+x,y:c+m,textAnchor:b,verticalAnchor:g},S):s==="insideTopRight"?Zt({x:l+u-x,y:c+m,textAnchor:p,verticalAnchor:g},S):s==="insideBottomLeft"?Zt({x:l+x,y:c+d-m,textAnchor:b,verticalAnchor:h},S):s==="insideBottomRight"?Zt({x:l+u-x,y:c+d-m,textAnchor:p,verticalAnchor:h},S):iu(s)&&(ge(s.x)||wi(s.x))&&(ge(s.y)||wi(s.y))?Zt({x:l+Hr(s.x,u),y:c+Hr(s.y,d),textAnchor:"end",verticalAnchor:"end"},S):Zt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)},F4e=function(e){return"cx"in e&&ge(e.cx)};function br(t){var e=t.offset,r=e===void 0?5:e,n=O4e(t,N4e),a=Zt({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!s||Ge(l)&&Ge(c)&&!v.isValidElement(u)&&!Ve(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var h;if(Ve(u)){if(h=v.createElement(u,a),v.isValidElement(h))return h}else h=_4e(a);var g=F4e(s),y=qe(a,!0);if(g&&(i==="insideStart"||i==="insideEnd"||i==="end"))return R4e(a,h,y);var x=g?M4e(a):L4e(a);return q.createElement(Ic,tm({className:_e("recharts-label",f)},y,x,{breakAll:m}),h)}br.displayName="Label";var m7=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,i=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,g=e.left,y=e.width,x=e.height,p=e.clockWise,b=e.labelViewBox;if(b)return b;if(ge(y)&&ge(x)){if(ge(f)&&ge(m))return{x:f,y:m,width:y,height:x};if(ge(h)&&ge(g))return{x:h,y:g,width:y,height:x}}return ge(f)&&ge(m)?{x:f,y:m,width:0,height:0}:ge(r)&&ge(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:p}:e.viewBox?e.viewBox:{}},B4e=function(e,r){return e?e===!0?q.createElement(br,{key:"label-implicit",viewBox:r}):nr(e)?q.createElement(br,{key:"label-implicit",viewBox:r,value:e}):v.isValidElement(e)?e.type===br?v.cloneElement(e,{key:"label-implicit",viewBox:r}):q.createElement(br,{key:"label-implicit",content:e,viewBox:r}):Ve(e)?q.createElement(br,{key:"label-implicit",content:e,viewBox:r}):iu(e)?q.createElement(br,tm({viewBox:r},e,{key:"label-implicit"})):null:null},q4e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=m7(e),i=$a(a,br).map(function(c,u){return v.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=B4e(e.label,r||s);return[l].concat(C4e(i))};br.parseViewBox=m7;br.renderCallByParent=q4e;function V4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var U4e=V4e;const z4e=et(U4e);function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}var W4e=["valueAccessor"],H4e=["data","dataKey","clockWise","id","textBreakAll"];function G4e(t){return X4e(t)||J4e(t)||K4e(t)||Y4e()}function Y4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K4e(t,e){if(t){if(typeof t=="string")return WT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WT(t,e)}}function J4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X4e(t){if(Array.isArray(t))return WT(t)}function WT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ix.apply(this,arguments)}function $L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(r),!0).forEach(function(n){Q4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q4e(t,e,r){return e=Z4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z4e(t){var e=e3e(t,"string");return rm(e)=="symbol"?e:e+""}function e3e(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ML(t,e){if(t==null)return{};var r=t3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var r3e=function(e){return Array.isArray(e.value)?z4e(e.value):e.value};function Ri(t){var e=t.valueAccessor,r=e===void 0?r3e:e,n=ML(t,W4e),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=ML(n,H4e);return!a||!a.length?null:q.createElement(qt,{className:"recharts-label-list"},a.map(function(d,f){var m=Ge(s)?r(d,f):ln(d&&d.payload,s),h=Ge(l)?{}:{id:"".concat(l,"-").concat(f)};return q.createElement(br,ix({},qe(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:br.parseViewBox(Ge(i)?d:RL(RL({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Ri.displayName="LabelList";function n3e(t,e){return t?t===!0?q.createElement(Ri,{key:"labelList-implicit",data:e}):q.isValidElement(t)||Ve(t)?q.createElement(Ri,{key:"labelList-implicit",data:e,content:t}):iu(t)?q.createElement(Ri,ix({data:e},t,{key:"labelList-implicit"})):null:null}function a3e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=$a(n,Ri).map(function(i,l){return v.cloneElement(i,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=n3e(t.label,e);return[s].concat(G4e(a))}Ri.renderCallByParent=a3e;function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function HT(){return HT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HT.apply(this,arguments)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){s3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s3e(t,e,r){return e=o3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o3e(t){var e=i3e(t,"string");return nm(e)=="symbol"?e:e+""}function i3e(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l3e=function(e,r){var n=Fn(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Zh=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,i=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/ox,m=u?s:s+i*f,h=vt(r,n,d,m),g=vt(r,n,a,m),y=u?s-i*f:s,x=vt(r,n,d*Math.cos(f*ox),y);return{center:h,circleTangency:g,lineTangency:x,theta:f}},h7=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.startAngle,l=e.endAngle,c=l3e(i,l),u=i+c,d=vt(r,n,s,i),f=vt(r,n,s,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=vt(r,n,a,i),g=vt(r,n,a,u);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},c3e=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,i=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Fn(d-u),m=Zh({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),h=m.circleTangency,g=m.lineTangency,y=m.theta,x=Zh({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),p=x.circleTangency,b=x.lineTangency,N=x.theta,C=c?Math.abs(u-d):Math.abs(u-d)-y-N;if(C<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):h7({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var w=Zh({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),S=w.circleTangency,T=w.lineTangency,k=w.theta,I=Zh({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),E=I.circleTangency,P=I.lineTangency,L=I.theta,$=c?Math.abs(u-d):Math.abs(u-d)-k-L;if($<0&&i===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},u3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},p7=function(e){var r=FL(FL({},u3e),e),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(i<s||d===f)return null;var h=_e("recharts-sector",m),g=i-s,y=Hr(l,g,0,!0),x;return y>0&&Math.abs(d-f)<360?x=c3e({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=h7({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),q.createElement("path",HT({},qe(r,!0),{className:h,d:x,role:"img"}))};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GT.apply(this,arguments)}function BL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(r),!0).forEach(function(n){d3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d3e(t,e,r){return e=f3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f3e(t){var e=m3e(t,"string");return am(e)=="symbol"?e:e+""}function m3e(t,e){if(am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VL={curveBasisClosed:c2e,curveBasisOpen:u2e,curveBasis:l2e,curveBumpX:YTe,curveBumpY:KTe,curveLinearClosed:d2e,curveLinear:Qj,curveMonotoneX:f2e,curveMonotoneY:m2e,curveNatural:h2e,curveStep:p2e,curveStepAfter:y2e,curveStepBefore:g2e},ep=function(e){return e.x===+e.x&&e.y===+e.y},Yu=function(e){return e.x},Ku=function(e){return e.y},h3e=function(e,r){if(Ve(e))return e;var n="curve".concat(Jj(e));return(n==="curveMonotone"||n==="curveBump")&&r?VL["".concat(n).concat(r==="vertical"?"Y":"X")]:VL[n]||Qj},p3e=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,i=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=h3e(n,l),f=u?s.filter(function(y){return ep(y)}):s,m;if(Array.isArray(i)){var h=u?i.filter(function(y){return ep(y)}):i,g=f.map(function(y,x){return qL(qL({},y),{},{base:h[x]})});return l==="vertical"?m=zh().y(Ku).x1(Yu).x0(function(y){return y.base.x}):m=zh().x(Yu).y1(Ku).y0(function(y){return y.base.y}),m.defined(ep).curve(d),m(g)}return l==="vertical"&&ge(i)?m=zh().y(Ku).x1(Yu).x0(i):ge(i)?m=zh().x(Yu).y1(Ku).y0(i):m=pz().x(Yu).y(Ku),m.defined(ep).curve(d),m(f)},YT=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?p3e(e):a;return v.createElement("path",GT({},qe(e,!1),D0(e),{className:_e("recharts-curve",r),d:i,ref:s}))},g7={exports:{}},g3e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y3e=g3e,b3e=y3e;function y7(){}function b7(){}b7.resetWarningCache=y7;var x3e=function(){function t(n,a,s,i,l,c){if(c!==b3e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:b7,resetWarningCache:y7};return r.PropTypes=r,r};g7.exports=x3e();var v3e=g7.exports;const rt=et(v3e);var j3e=Object.getOwnPropertyNames,w3e=Object.getOwnPropertySymbols,N3e=Object.prototype.hasOwnProperty;function UL(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function tp(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function zL(t){return j3e(t).concat(w3e(t))}var C3e=Object.hasOwn||function(t,e){return N3e.call(t,e)};function hl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var S3e="__v",A3e="__o",T3e="_owner",WL=Object.getOwnPropertyDescriptor,HL=Object.keys;function k3e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function O3e(t,e){return hl(t.getTime(),e.getTime())}function E3e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function I3e(t,e){return t===e}function GL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=i.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var P3e=hl;function D3e(t,e,r){var n=HL(t),a=n.length;if(HL(e).length!==a)return!1;for(;a-- >0;)if(!x7(t,e,r,n[a]))return!1;return!0}function Ju(t,e,r){var n=zL(t),a=n.length;if(zL(e).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!x7(t,e,r,s)||(i=WL(t,s),l=WL(e,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function _3e(t,e){return hl(t.valueOf(),e.valueOf())}function $3e(t,e){return t.source===e.source&&t.flags===e.flags}function YL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),i,l;(i=s.next())&&!i.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function R3e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function M3e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function x7(t,e,r,n){return(n===T3e||n===A3e||n===S3e)&&(t.$$typeof||e.$$typeof)?!0:C3e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var L3e="[object Arguments]",F3e="[object Boolean]",B3e="[object Date]",q3e="[object Error]",V3e="[object Map]",U3e="[object Number]",z3e="[object Object]",W3e="[object RegExp]",H3e="[object Set]",G3e="[object String]",Y3e="[object URL]",K3e=Array.isArray,KL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,JL=Object.assign,J3e=Object.prototype.toString.call.bind(Object.prototype.toString);function X3e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,i=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(g,y,x){if(g===y)return!0;if(g==null||y==null)return!1;var p=typeof g;if(p!==typeof y)return!1;if(p!=="object")return p==="number"?i(g,y,x):p==="function"?a(g,y,x):!1;var b=g.constructor;if(b!==y.constructor)return!1;if(b===Object)return l(g,y,x);if(K3e(g))return e(g,y,x);if(KL!=null&&KL(g))return f(g,y,x);if(b===Date)return r(g,y,x);if(b===RegExp)return u(g,y,x);if(b===Map)return s(g,y,x);if(b===Set)return d(g,y,x);var N=J3e(g);return N===B3e?r(g,y,x):N===W3e?u(g,y,x):N===V3e?s(g,y,x):N===H3e?d(g,y,x):N===z3e?typeof g.then!="function"&&typeof y.then!="function"&&l(g,y,x):N===Y3e?m(g,y,x):N===q3e?n(g,y,x):N===L3e?l(g,y,x):N===F3e||N===U3e||N===G3e?c(g,y,x):!1}}function Q3e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Ju:k3e,areDatesEqual:O3e,areErrorsEqual:E3e,areFunctionsEqual:I3e,areMapsEqual:n?UL(GL,Ju):GL,areNumbersEqual:P3e,areObjectsEqual:n?Ju:D3e,arePrimitiveWrappersEqual:_3e,areRegExpsEqual:$3e,areSetsEqual:n?UL(YL,Ju):YL,areTypedArraysEqual:n?Ju:R3e,areUrlsEqual:M3e};if(r&&(a=JL({},a,r(a))),e){var s=tp(a.areArraysEqual),i=tp(a.areMapsEqual),l=tp(a.areObjectsEqual),c=tp(a.areSetsEqual);a=JL({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function Z3e(t){return function(e,r,n,a,s,i,l){return t(e,r,l)}}function eBe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var tBe=Go();Go({strict:!0});Go({circular:!0});Go({circular:!0,strict:!0});Go({createInternalComparator:function(){return hl}});Go({strict:!0,createInternalComparator:function(){return hl}});Go({circular:!0,createInternalComparator:function(){return hl}});Go({circular:!0,createInternalComparator:function(){return hl},strict:!0});function Go(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,i=s===void 0?!1:s,l=Q3e(t),c=X3e(l),u=n?n(c):Z3e(c);return eBe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function rBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function XL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):rBe(a)};requestAnimationFrame(n)}function KT(t){"@babel/helpers - typeof";return KT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KT(t)}function nBe(t){return iBe(t)||oBe(t)||sBe(t)||aBe()}function aBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sBe(t,e){if(t){if(typeof t=="string")return QL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QL(t,e)}}function QL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iBe(t){if(Array.isArray(t))return t}function lBe(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=nBe(i),c=l[0],u=l.slice(1);if(typeof c=="number"){XL(a.bind(null,u),c);return}a(c),XL(a.bind(null,u));return}KT(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function e5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){v7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v7(t,e,r){return e=cBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cBe(t){var e=uBe(t,"string");return sm(e)==="symbol"?e:String(e)}function uBe(t,e){if(sm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dBe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},fBe=function(e){return e},mBe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Hd=function(e,r){return Object.keys(r).reduce(function(n,a){return e5(e5({},n),{},v7({},a,e(a,r[a])))},{})},t5=function(e,r,n){return e.map(function(a){return"".concat(mBe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function hBe(t,e){return yBe(t)||gBe(t,e)||j7(t,e)||pBe()}function pBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function yBe(t){if(Array.isArray(t))return t}function bBe(t){return jBe(t)||vBe(t)||j7(t)||xBe()}function xBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j7(t,e){if(t){if(typeof t=="string")return JT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JT(t,e)}}function vBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jBe(t){if(Array.isArray(t))return JT(t)}function JT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lx=1e-4,w7=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},N7=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},r5=function(e,r){return function(n){var a=w7(e,r);return N7(a,n)}},wBe=function(e,r){return function(n){var a=w7(e,r),s=[].concat(bBe(a.map(function(i,l){return i*l}).slice(1)),[0]);return N7(s,n)}},n5=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=hBe(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=r5(a,i),m=r5(s,l),h=wBe(a,i),g=function(p){return p>1?1:p<0?0:p},y=function(p){for(var b=p>1?1:p,N=b,C=0;C<8;++C){var j=f(N)-b,w=h(N);if(Math.abs(j-b)<lx||w<lx)return m(N);N=g(N-j/w)}return m(N)};return y.isStepper=!1,y},NBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,i=e.dt,l=i===void 0?17:i,c=function(d,f,m){var h=-(d-f)*n,g=m*s,y=m+(h-g)*l/1e3,x=m*l/1e3+d;return Math.abs(x-f)<lx&&Math.abs(y)<lx?[f,0]:[x,y]};return c.isStepper=!0,c.dt=l,c},CBe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n5(a);case"spring":return NBe();default:if(a.split("(")[0]==="cubic-bezier")return n5(a)}return typeof a=="function"?a:null};function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function a5(t){return TBe(t)||ABe(t)||C7(t)||SBe()}function SBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ABe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TBe(t){if(Array.isArray(t))return QT(t)}function s5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(r),!0).forEach(function(n){XT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XT(t,e,r){return e=kBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kBe(t){var e=OBe(t,"string");return om(e)==="symbol"?e:String(e)}function OBe(t,e){if(om(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EBe(t,e){return DBe(t)||PBe(t,e)||C7(t,e)||IBe()}function IBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7(t,e){if(t){if(typeof t=="string")return QT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QT(t,e)}}function QT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function DBe(t){if(Array.isArray(t))return t}var cx=function(e,r,n){return e+(r-e)*n},ZT=function(e){var r=e.from,n=e.to;return r!==n},_Be=function t(e,r,n){var a=Hd(function(s,i){if(ZT(i)){var l=e(i.from,i.to,i.velocity),c=EBe(l,2),u=c[0],d=c[1];return pr(pr({},i),{},{from:u,velocity:d})}return i},r);return n<1?Hd(function(s,i){return ZT(i)?pr(pr({},i),{},{velocity:cx(i.velocity,a[s].velocity,n),from:cx(i.from,a[s].from,n)}):i},r):t(e,a,n-1)};const $Be=function(t,e,r,n,a){var s=dBe(t,e),i=s.reduce(function(x,p){return pr(pr({},x),{},XT({},p,[t[p],e[p]]))},{}),l=s.reduce(function(x,p){return pr(pr({},x),{},XT({},p,{from:t[p],velocity:0,to:e[p]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Hd(function(p,b){return b.from},l)},h=function(){return!Object.values(l).filter(ZT).length},g=function(p){u||(u=p);var b=p-u,N=b/r.dt;l=_Be(r,l,N),a(pr(pr(pr({},t),e),m())),u=p,h()||(c=requestAnimationFrame(f))},y=function(p){d||(d=p);var b=(p-d)/n,N=Hd(function(j,w){return cx.apply(void 0,a5(w).concat([r(b)]))},i);if(a(pr(pr(pr({},t),e),N)),b<1)c=requestAnimationFrame(f);else{var C=Hd(function(j,w){return cx.apply(void 0,a5(w).concat([r(1)]))},i);a(pr(pr(pr({},t),e),C))}};return f=r.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}var RBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function MBe(t,e){if(t==null)return{};var r=LBe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LBe(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function YN(t){return VBe(t)||qBe(t)||BBe(t)||FBe()}function FBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BBe(t,e){if(t){if(typeof t=="string")return e2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e2(t,e)}}function qBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VBe(t){if(Array.isArray(t))return e2(t)}function e2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o5(Object(r),!0).forEach(function(n){fd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fd(t,e,r){return e=S7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S7(n.key),n)}}function WBe(t,e,r){return e&&zBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S7(t){var e=HBe(t,"string");return Mc(e)==="symbol"?e:String(e)}function HBe(t,e){if(Mc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t2(t,e)}function t2(t,e){return t2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t2(t,e)}function YBe(t){var e=KBe();return function(){var n=ux(t),a;if(e){var s=ux(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return r2(this,a)}}function r2(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n2(t)}function n2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ux(t){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ux(t)}var Po=function(t){GBe(r,t);var e=YBe(r);function r(n,a){var s;UBe(this,r),s=e.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,m=i.children,h=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(n2(s)),s.changeStyle=s.changeStyle.bind(n2(s)),!l||h<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),r2(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof m=="function")return s.state={style:u},r2(s);s.state={style:c?fd({},c,u):u}}else s.state={style:{}};return s}return WBe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,m=this.state.style;if(l){if(!i){var h={style:c?fd({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(tBe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:a.to;if(this.state&&m){var x={style:c?fd({},c,y):y};(c&&m[c]!==y||!c&&m!==y)&&this.setState(x)}this.runAnimation(Xn(Xn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=$Be(i,l,CBe(u),c,this.changeStyle),g=function(){s.stopJSAnimation=h()};this.manager.start([m,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(y,x,p){if(p===0)return y;var b=x.duration,N=x.easing,C=N===void 0?"ease":N,j=x.style,w=x.properties,S=x.onAnimationEnd,T=p>0?i[p-1]:x,k=w||Object.keys(j);if(typeof C=="function"||C==="spring")return[].concat(YN(y),[s.runJSAnimation.bind(s,{from:T.style,to:j,duration:b,easing:C}),b]);var I=t5(k,b,C),E=Xn(Xn(Xn({},T.style),j),{},{transition:I});return[].concat(YN(y),[E,b,S]).filter(fBe)};return this.manager.start([c].concat(YN(i.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=lBe());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var y=l?fd({},l,c):c,x=t5(Object.keys(y),i,u);g.start([d,s,Xn(Xn({},y),{},{transition:x}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=MBe(a,RBe),u=v.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(h){var g=h.props,y=g.style,x=y===void 0?{}:y,p=g.className,b=v.cloneElement(h,Xn(Xn({},c),{},{style:Xn(Xn({},x),d),className:p}));return b};return u===1?f(v.Children.only(s)):q.createElement("div",null,v.Children.map(s,function(m){return f(m)}))}}]),r}(v.PureComponent);Po.displayName="Animate";Po.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Po.propTypes={from:rt.oneOfType([rt.object,rt.string]),to:rt.oneOfType([rt.object,rt.string]),attributeName:rt.string,duration:rt.number,begin:rt.number,easing:rt.oneOfType([rt.string,rt.func]),steps:rt.arrayOf(rt.shape({duration:rt.number.isRequired,style:rt.object.isRequired,easing:rt.oneOfType([rt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),rt.func]),properties:rt.arrayOf("string"),onAnimationEnd:rt.func})),children:rt.oneOfType([rt.node,rt.func]),isActive:rt.bool,canBegin:rt.bool,onAnimationEnd:rt.func,shouldReAnimate:rt.bool,onAnimationStart:rt.func,onAnimationReStart:rt.func};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function dx(){return dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dx.apply(this,arguments)}function JBe(t,e){return e6e(t)||ZBe(t,e)||QBe(t,e)||XBe()}function XBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QBe(t,e){if(t){if(typeof t=="string")return i5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i5(t,e)}}function i5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function e6e(t){if(Array.isArray(t))return t}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function c5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){t6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t6e(t,e,r){return e=r6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r6e(t){var e=n6e(t,"string");return im(e)=="symbol"?e:e+""}function n6e(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u5=function(e,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=s[m]>i?i:s[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var g=Math.min(i,s);d="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},a6e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),m=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},s6e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qE=function(e){var r=c5(c5({},s6e),e),n=v.useRef(),a=v.useState(-1),s=JBe(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,g=r.animationEasing,y=r.animationDuration,x=r.animationBegin,p=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=_e("recharts-rectangle",h);return b?q.createElement(Po,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:g,isActive:b},function(C){var j=C.width,w=C.height,S=C.x,T=C.y;return q.createElement(Po,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:p,easing:g},q.createElement("path",dx({},qe(r,!0),{className:N,d:u5(S,T,j,w,m),ref:n})))}):q.createElement("path",dx({},qe(r,!0),{className:N,d:u5(c,u,d,f,m)}))},o6e=["points","className","baseLinePoints","connectNulls"];function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ql.apply(this,arguments)}function i6e(t,e){if(t==null)return{};var r=l6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d5(t){return f6e(t)||d6e(t)||u6e(t)||c6e()}function c6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u6e(t,e){if(t){if(typeof t=="string")return a2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(t,e)}}function d6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f6e(t){if(Array.isArray(t))return a2(t)}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f5=function(e){return e&&e.x===+e.x&&e.y===+e.y},m6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){f5(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),f5(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Gd=function(e,r){var n=m6e(e);r&&(n=[n.reduce(function(s,i){return[].concat(d5(s),d5(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},h6e=function(e,r,n){var a=Gd(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Gd(r.reverse(),n).slice(1))},p6e=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,i=i6e(e,o6e);if(!r||!r.length)return null;var l=_e("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=h6e(r,a,s);return q.createElement("g",{className:l},q.createElement("path",ql({},qe(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?q.createElement("path",ql({},qe(i,!0),{fill:"none",d:Gd(r,s)})):null,c?q.createElement("path",ql({},qe(i,!0),{fill:"none",d:Gd(a,s)})):null)}var d=Gd(r,s);return q.createElement("path",ql({},qe(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s2.apply(this,arguments)}var VE=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,i=_e("recharts-dot",s);return r===+r&&n===+n&&a===+a?v.createElement("circle",s2({},qe(e,!1),D0(e),{className:i,cx:r,cy:n,r:a})):null};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}var g6e=["x","y","top","left","width","height","className"];function o2(){return o2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o2.apply(this,arguments)}function m5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function y6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m5(Object(r),!0).forEach(function(n){b6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b6e(t,e,r){return e=x6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x6e(t){var e=v6e(t,"string");return lm(e)=="symbol"?e:e+""}function v6e(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j6e(t,e){if(t==null)return{};var r=w6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var N6e=function(e,r,n,a,s,i){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},C6e=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,i=e.top,l=i===void 0?0:i,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,g=e.className,y=j6e(e,g6e),x=y6e({x:n,y:s,top:l,left:u,width:f,height:h},y);return!ge(n)||!ge(s)||!ge(f)||!ge(h)||!ge(l)||!ge(u)?null:q.createElement("path",o2({},qe(x,!0),{className:_e("recharts-cross",g),d:N6e(n,s,f,h,l,u)}))},S6e=dw,A6e=V8,T6e=zo;function k6e(t,e){return t&&t.length?S6e(t,T6e(e),A6e):void 0}var O6e=k6e;const E6e=et(O6e);var I6e=dw,P6e=zo,D6e=U8;function _6e(t,e){return t&&t.length?I6e(t,P6e(e),D6e):void 0}var $6e=_6e;const R6e=et($6e);var M6e=["cx","cy","angle","ticks","axisLine"],L6e=["ticks","tick","angle","tickFormatter","stroke"];function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yd.apply(this,arguments)}function h5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h5(Object(r),!0).forEach(function(n){gw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p5(t,e){if(t==null)return{};var r=F6e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T7(n.key),n)}}function q6e(t,e,r){return e&&g5(t.prototype,e),r&&g5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function V6e(t,e,r){return e=fx(e),U6e(t,A7()?Reflect.construct(e,r||[],fx(t).constructor):e.apply(t,r))}function U6e(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z6e(t)}function z6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A7=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fx(t)}function W6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i2(t,e)}function i2(t,e){return i2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i2(t,e)}function gw(t,e,r){return e=T7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T7(t){var e=H6e(t,"string");return Lc(e)=="symbol"?e:e+""}function H6e(t,e){if(Lc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yw=function(t){function e(){return B6e(this,e),V6e(this,e,arguments)}return W6e(e,t),q6e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return vt(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=E6e(l,function(d){return d.coordinate||0}),u=R6e(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=p5(n,M6e),d=l.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),f=vt(a,s,d[0],i),m=vt(a,s,d[1],i),h=ri(ri(ri({},qe(u,!1)),{},{fill:"none"},qe(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return q.createElement("line",Yd({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=p5(a,L6e),f=this.getTickTextAnchor(),m=qe(d,!1),h=qe(i,!1),g=s.map(function(y,x){var p=n.getTickValueCoord(y),b=ri(ri(ri(ri({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(p.x,", ").concat(p.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:x},p),{},{payload:y});return q.createElement(qt,Yd({className:_e("recharts-polar-radius-axis-tick",f7(i)),key:"tick-".concat(y.coordinate)},Kj(n.props,y,x)),e.renderTickItem(i,b,c?c(y.value,x):y.value))});return q.createElement(qt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:q.createElement(qt,{className:_e("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),br.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return q.isValidElement(n)?i=q.cloneElement(n,a):Ve(n)?i=n(a):i=q.createElement(Ic,Yd({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(v.PureComponent);gw(yw,"displayName","PolarRadiusAxis");gw(yw,"axisType","radiusAxis");gw(yw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function mi(){return mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mi.apply(this,arguments)}function y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(r),!0).forEach(function(n){bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O7(n.key),n)}}function Y6e(t,e,r){return e&&b5(t.prototype,e),r&&b5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K6e(t,e,r){return e=mx(e),J6e(t,k7()?Reflect.construct(e,r||[],mx(t).constructor):e.apply(t,r))}function J6e(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X6e(t)}function X6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k7=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(t)}function Q6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l2(t,e)}function l2(t,e){return l2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l2(t,e)}function bw(t,e,r){return e=O7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O7(t){var e=Z6e(t,"string");return Fc(e)=="symbol"?e:e+""}function Z6e(t,e){if(Fc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eqe=Math.PI/180,x5=1e-5,xw=function(t){function e(){return G6e(this,e),K6e(this,e,arguments)}return Q6e(e,t),Y6e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=vt(s,i,l,n.coordinate),m=vt(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*eqe),i;return s>x5?i=a==="outer"?"start":"end":s<-x5?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=ni(ni({},qe(this.props,!1)),{},{fill:"none"},qe(l,!1));if(c==="circle")return q.createElement(VE,mi({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(m){return vt(a,s,i,m.coordinate)});return q.createElement(p6e,mi({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=qe(this.props,!1),f=qe(i,!1),m=ni(ni({},d),{},{fill:"none"},qe(l,!1)),h=s.map(function(g,y){var x=n.getTickLineCoord(g),p=n.getTickTextAnchor(g),b=ni(ni(ni({textAnchor:p},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:g,x:x.x2,y:x.y2});return q.createElement(qt,mi({className:_e("recharts-polar-angle-axis-tick",f7(i)),key:"tick-".concat(g.coordinate)},Kj(n.props,g,y)),l&&q.createElement("line",mi({className:"recharts-polar-angle-axis-tick-line"},m,x)),i&&e.renderTickItem(i,b,c?c(g.value,y):g.value))});return q.createElement(qt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:q.createElement(qt,{className:_e("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return q.isValidElement(n)?i=q.cloneElement(n,a):Ve(n)?i=n(a):i=q.createElement(Ic,mi({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(v.PureComponent);bw(xw,"displayName","PolarAngleAxis");bw(xw,"axisType","angleAxis");bw(xw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tqe=Fz,rqe=tqe(Object.getPrototypeOf,Object),nqe=rqe,aqe=$s,sqe=nqe,oqe=Rs,iqe="[object Object]",lqe=Function.prototype,cqe=Object.prototype,E7=lqe.toString,uqe=cqe.hasOwnProperty,dqe=E7.call(Object);function fqe(t){if(!oqe(t)||aqe(t)!=iqe)return!1;var e=sqe(t);if(e===null)return!0;var r=uqe.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&E7.call(r)==dqe}var mqe=fqe;const hqe=et(mqe);var pqe=$s,gqe=Rs,yqe="[object Boolean]";function bqe(t){return t===!0||t===!1||gqe(t)&&pqe(t)==yqe}var xqe=bqe;const vqe=et(xqe);function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hx.apply(this,arguments)}function jqe(t,e){return Sqe(t)||Cqe(t,e)||Nqe(t,e)||wqe()}function wqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nqe(t,e){if(t){if(typeof t=="string")return v5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v5(t,e)}}function v5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Sqe(t){if(Array.isArray(t))return t}function j5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function w5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j5(Object(r),!0).forEach(function(n){Aqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aqe(t,e,r){return e=Tqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tqe(t){var e=kqe(t,"string");return cm(e)=="symbol"?e:e+""}function kqe(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N5=function(e,r,n,a,s){var i=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-i/2,",").concat(r+s),l+="L ".concat(e+n-i/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},Oqe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eqe=function(e){var r=w5(w5({},Oqe),e),n=v.useRef(),a=v.useState(-1),s=jqe(a,2),i=s[0],l=s[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,g=r.animationEasing,y=r.animationDuration,x=r.animationBegin,p=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var b=_e("recharts-trapezoid",h);return p?q.createElement(Po,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:y,animationEasing:g,isActive:p},function(N){var C=N.upperWidth,j=N.lowerWidth,w=N.height,S=N.x,T=N.y;return q.createElement(Po,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:g},q.createElement("path",hx({},qe(r,!0),{className:b,d:N5(S,T,C,j,w),ref:n})))}):q.createElement("g",null,q.createElement("path",hx({},qe(r,!0),{className:b,d:N5(c,u,d,f,m)})))},Iqe=["option","shapeType","propTransformer","activeClassName","isActive"];function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function Pqe(t,e){if(t==null)return{};var r=Dqe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Dqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function C5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function px(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C5(Object(r),!0).forEach(function(n){_qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _qe(t,e,r){return e=$qe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $qe(t){var e=Rqe(t,"string");return um(e)=="symbol"?e:e+""}function Rqe(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mqe(t,e){return px(px({},e),t)}function Lqe(t,e){return t==="symbols"}function S5(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return q.createElement(qE,r);case"trapezoid":return q.createElement(Eqe,r);case"sector":return q.createElement(p7,r);case"symbols":if(Lqe(e))return q.createElement(nE,r);break;default:return null}}function Fqe(t){return v.isValidElement(t)?t.props:t}function Bqe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?Mqe:n,s=t.activeClassName,i=s===void 0?"recharts-active-shape":s,l=t.isActive,c=Pqe(t,Iqe),u;if(v.isValidElement(e))u=v.cloneElement(e,px(px({},c),Fqe(e)));else if(Ve(e))u=e(c);else if(hqe(e)&&!vqe(e)){var d=a(e,c);u=q.createElement(S5,{shapeType:r,elementProps:d})}else{var f=c;u=q.createElement(S5,{shapeType:r,elementProps:f})}return l?q.createElement(qt,{className:i},u):u}function vw(t,e){return e!=null&&"trapezoids"in t.props}function jw(t,e){return e!=null&&"sectors"in t.props}function dm(t,e){return e!=null&&"points"in t.props}function qqe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function Vqe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Uqe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function zqe(t,e){var r;return vw(t,e)?r=qqe:jw(t,e)?r=Vqe:dm(t,e)&&(r=Uqe),r}function Wqe(t,e){var r;return vw(t,e)?r="trapezoids":jw(t,e)?r="sectors":dm(t,e)&&(r="points"),r}function Hqe(t,e){if(vw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(jw(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return dm(t,e)?e.payload:{}}function Gqe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Wqe(r,e),s=Hqe(r,e),i=n.filter(function(c,u){var d=RE(s,c),f=r.props[a].filter(function(g){var y=zqe(r,e);return y(g,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(i[i.length-1]);return l}var Sb;function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function Vl(){return Vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vl.apply(this,arguments)}function A5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(r),!0).forEach(function(n){Mn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P7(n.key),n)}}function Kqe(t,e,r){return e&&T5(t.prototype,e),r&&T5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jqe(t,e,r){return e=gx(e),Xqe(t,I7()?Reflect.construct(e,r||[],gx(t).constructor):e.apply(t,r))}function Xqe(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qqe(t)}function Qqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I7=function(){return!!t})()}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(t)}function Zqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c2(t,e)}function c2(t,e){return c2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c2(t,e)}function Mn(t,e,r){return e=P7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P7(t){var e=eVe(t,"string");return Bc(e)=="symbol"?e:e+""}function eVe(t,e){if(Bc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kn=function(t){function e(r){var n;return Yqe(this,e),n=Jqe(this,e,[r]),Mn(n,"pieRef",null),Mn(n,"sectorRefs",[]),Mn(n,"id",Yj("recharts-pie-")),Mn(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ve(a)&&a()}),Mn(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ve(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Zqe(e,t),Kqe(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=qe(this.props,!1),f=qe(i,!1),m=qe(l,!1),h=i&&i.offsetRadius||20,g=n.map(function(y,x){var p=(y.startAngle+y.endAngle)/2,b=vt(y.cx,y.cy,y.outerRadius+h,p),N=gt(gt(gt(gt({},d),y),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(b.x,y.cx)},b),C=gt(gt(gt(gt({},d),y),{},{fill:"none",stroke:y.fill},m),{},{index:x,points:[vt(y.cx,y.cy,y.outerRadius,p),b]}),j=c;return Ge(c)&&Ge(u)?j="value":Ge(c)&&(j=u),q.createElement(qt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(x)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(i,N,ln(y,j)))});return q.createElement(qt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?i:m,g=gt(gt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return q.createElement(qt,Vl({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Kj(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),q.createElement(Bqe,Vl({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return q.createElement(Po,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,x=[],p=s&&s[0],b=p.startAngle;return s.forEach(function(N,C){var j=m&&m[C],w=C>0?ua(N,"paddingAngle",0):0;if(j){var S=xR(j.endAngle-j.startAngle,N.endAngle-N.startAngle),T=gt(gt({},N),{},{startAngle:b+w,endAngle:b+S(y)+w});x.push(T),b=T.endAngle}else{var k=N.endAngle,I=N.startAngle,E=xR(0,k-I),P=E(y),L=gt(gt({},N),{},{startAngle:b+w,endAngle:b+P+w});x.push(L),b=L.endAngle}}),q.createElement(qt,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!RE(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,g=this.state.isAnimationFinished;if(s||!i||!i.length||!ge(u)||!ge(d)||!ge(f)||!ge(m))return null;var y=_e("recharts-pie",l);return q.createElement(qt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(p){n.pieRef=p}},this.renderSectors(),c&&this.renderLabels(i),br.renderCallByParent(this.props,null,!1),(!h||g)&&Ri.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(q.isValidElement(n))return q.cloneElement(n,a);if(Ve(n))return n(a);var i=_e("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return q.createElement(YT,Vl({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(q.isValidElement(n))return q.cloneElement(n,a);var i=s;if(Ve(n)&&(i=n(a),q.isValidElement(i)))return i;var l=_e("recharts-pie-label-text",typeof n!="boolean"&&!Ve(n)?n.className:"");return q.createElement(Ic,Vl({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(v.PureComponent);Sb=Kn;Mn(Kn,"displayName","Pie");Mn(Kn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!nw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Mn(Kn,"parseDeltaAngle",function(t,e){var r=Fn(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Mn(Kn,"getRealPieData",function(t){var e=t.data,r=t.children,n=qe(t,!1),a=$a(r,hu);return e&&e.length?e.map(function(s,i){return gt(gt(gt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return gt(gt({},n),s.props)}):[]});Mn(Kn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,i=d7(a,s),l=n+Hr(t.cx,a,a/2),c=r+Hr(t.cy,s,s/2),u=Hr(t.innerRadius,i,0),d=Hr(t.outerRadius,i,i*.8),f=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Mn(Kn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?gt(gt({},e.type.defaultProps),e.props):e.props,a=Sb.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),g=Sb.parseCoordinateOfPie(n,r),y=Sb.parseDeltaAngle(i,l),x=Math.abs(y),p=u;Ge(u)&&Ge(f)?(ys(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):Ge(u)&&(ys(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=f);var b=a.filter(function(T){return ln(T,p,0)!==0}).length,N=(x>=360?b:b-1)*c,C=x-b*h-N,j=a.reduce(function(T,k){var I=ln(k,p,0);return T+(ge(I)?I:0)},0),w;if(j>0){var S;w=a.map(function(T,k){var I=ln(T,p,0),E=ln(T,d,k),P=(ge(I)?I:0)/j,L;k?L=S.endAngle+Fn(y)*c*(I!==0?1:0):L=i;var $=L+Fn(y)*((I!==0?h:0)+P*C),_=(L+$)/2,B=(g.innerRadius+g.outerRadius)/2,U=[{name:E,value:I,payload:T,dataKey:p,type:m}],D=vt(g.cx,g.cy,B,_);return S=gt(gt(gt({percent:P,cornerRadius:s,name:E,tooltipPayload:U,midAngle:_,middleRadius:B,tooltipPosition:D},T),g),{},{value:ln(T,p),startAngle:L,endAngle:$,payload:T,paddingAngle:Fn(y)*c}),S})}return gt(gt({},g),{},{sectors:w,data:a})});var tVe=Math.ceil,rVe=Math.max;function nVe(t,e,r,n){for(var a=-1,s=rVe(tVe((e-t)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=t,t+=r;return i}var aVe=nVe,sVe=n8,k5=1/0,oVe=17976931348623157e292;function iVe(t){if(!t)return t===0?t:0;if(t=sVe(t),t===k5||t===-k5){var e=t<0?-1:1;return e*oVe}return t===t?t:0}var lVe=iVe,cVe=aVe,uVe=rw,KN=lVe;function dVe(t){return function(e,r,n){return n&&typeof n!="number"&&uVe(e,r,n)&&(r=n=void 0),e=KN(e),r===void 0?(r=e,e=0):r=KN(r),n=n===void 0?e<r?1:-1:KN(n),cVe(e,r,n,t)}}var fVe=dVe,mVe=fVe,hVe=mVe(),pVe=hVe;const yx=et(pVe);function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function O5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function E5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(r),!0).forEach(function(n){D7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D7(t,e,r){return e=gVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gVe(t){var e=yVe(t,"string");return fm(e)=="symbol"?e:e+""}function yVe(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bVe=["Webkit","Moz","O","ms"],xVe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=bVe.reduce(function(s,i){return E5(E5({},s),{},D7({},i+n,r))},{});return a[e]=r,a};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bx.apply(this,arguments)}function I5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(r),!0).forEach(function(n){an(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$7(n.key),n)}}function jVe(t,e,r){return e&&P5(t.prototype,e),r&&P5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wVe(t,e,r){return e=xx(e),NVe(t,_7()?Reflect.construct(e,r||[],xx(t).constructor):e.apply(t,r))}function NVe(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CVe(t)}function CVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(t)}function SVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u2(t,e)}function u2(t,e){return u2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},u2(t,e)}function an(t,e,r){return e=$7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $7(t){var e=AVe(t,"string");return qc(e)=="symbol"?e:e+""}function AVe(t,e){if(qc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TVe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,i=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=zd().domain(yx(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},D5=function(e){return e.changedTouches&&!!e.changedTouches.length},Vc=function(t){function e(r){var n;return vVe(this,e),n=wVe(this,e,[r]),an(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),an(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),an(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),an(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),an(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),an(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),an(n,"handleSlideDragStart",function(a){var s=D5(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return SVe(e,t),jVe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),m=Math.max(a,s),h=e.getIndexInRange(i,f),g=e.getIndexInRange(i,m);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=ln(s[n],l,n);return Ve(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,g=c.onChange,y=n.pageX-s;y>0?y=Math.min(y,u+d-f-l,u+d-f-i):y<0&&(y=Math.max(y,u-i,u-l));var x=this.getIndex({startX:i+y,endX:l+y});(x.startIndex!==m||x.endIndex!==h)&&g&&g(x),this.setState({startX:i+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=D5(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,g=d.onChange,y=d.gap,x=d.data,p={startX:this.state.startX,endX:this.state.endX},b=n.pageX-s;b>0?b=Math.min(b,f+m-h-u):b<0&&(b=Math.max(b,f-u)),p[i]=u+b;var N=this.getIndex(p),C=N.startIndex,j=N.endIndex,w=function(){var T=x.length-1;return i==="startX"&&(l>c?C%y===0:j%y===0)||l<c&&j===T||i==="endX"&&(l>c?j%y===0:C%y===0)||l>c&&j===T};this.setState(an(an({},i,u+b),"brushMoveStartX",n.pageX),function(){g&&w()&&g(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(an({},a,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return q.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?q.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,g=c.data,y=c.startIndex,x=c.endIndex,p=Math.max(n,this.props.x),b=JN(JN({},qe(this.props,!1)),{},{x:p,y:u,width:d,height:f}),N=h||"Min value: ".concat((s=g[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=g[x])===null||i===void 0?void 0:i.name);return q.createElement(qt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,b))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,g={pointerEvents:"none",fill:u};return q.createElement(qt,{className:"recharts-brush-texts"},q.createElement(Ic,bx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:i+l/2},g),this.getTextOfTick(a)),q.createElement(Ic,bx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:i+l/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,g=m.endX,y=m.isTextActive,x=m.isSlideMoving,p=m.isTravellerMoving,b=m.isTravellerFocused;if(!a||!a.length||!ge(l)||!ge(c)||!ge(u)||!ge(d)||u<=0||d<=0)return null;var N=_e("recharts-brush",s),C=q.Children.count(i)===1,j=xVe("userSelect","none");return q.createElement(qt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(y||x||p||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return q.createElement(q.Fragment,null,q.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),q.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),q.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return q.isValidElement(n)?s=q.cloneElement(n,a):Ve(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return JN({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?TVe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(v.PureComponent);an(Vc,"displayName","Brush");an(Vc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kVe=dE;function OVe(t,e){var r;return kVe(t,function(n,a,s){return r=e(n,a,s),!r}),!!r}var EVe=OVe,IVe=Iz,PVe=zo,DVe=EVe,_Ve=rn,$Ve=rw;function RVe(t,e,r){var n=_Ve(t)?IVe:DVe;return r&&$Ve(t,e,r)&&(e=void 0),n(t,PVe(e))}var MVe=RVe;const LVe=et(MVe);var La=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},_5=Qz;function FVe(t,e,r){e=="__proto__"&&_5?_5(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var BVe=FVe,qVe=BVe,VVe=Jz,UVe=zo;function zVe(t,e){var r={};return e=UVe(e),VVe(t,function(n,a,s){qVe(r,a,e(n,a,s))}),r}var WVe=zVe;const HVe=et(WVe);function GVe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var YVe=GVe,KVe=dE;function JVe(t,e){var r=!0;return KVe(t,function(n,a,s){return r=!!e(n,a,s),r}),r}var XVe=JVe,QVe=YVe,ZVe=XVe,eUe=zo,tUe=rn,rUe=rw;function nUe(t,e,r){var n=tUe(t)?QVe:ZVe;return r&&rUe(t,e,r)&&(e=void 0),n(t,eUe(e))}var aUe=nUe;const sUe=et(aUe);function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function oUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R7(n.key),n)}}function iUe(t,e,r){return e&&$5(t.prototype,e),r&&$5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(r),!0).forEach(function(n){UE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UE(t,e,r){return e=R7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R7(t){var e=lUe(t,"string");return mm(e)=="symbol"?e:e+""}function lUe(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M7=function(e,r){var n=e.x,a=e.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},cUe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return M7({x:r,y:n},{x:a,y:s})},L7=function(){function t(e){oUe(this,t),this.scale=e}return iUe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();UE(L7,"EPS",1e-4);var zE=function(e){var r=Object.keys(e).reduce(function(n,a){return rp(rp({},n),{},UE({},a,L7.create(e[a])))},{});return rp(rp({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return HVe(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return sUe(a,function(s,i){return r[i].isInRange(s)})}})},uUe=VSe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),F7=v.createContext(void 0),B7=v.createContext(void 0),q7=v.createContext(void 0),dUe=v.createContext({}),V7=v.createContext(void 0),fUe=v.createContext(0),mUe=v.createContext(0),M5=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=e.clipPathId,l=e.children,c=e.width,u=e.height,d=uUe(s);return q.createElement(F7.Provider,{value:n},q.createElement(B7.Provider,{value:a},q.createElement(dUe.Provider,{value:s},q.createElement(q7.Provider,{value:d},q.createElement(V7.Provider,{value:i},q.createElement(fUe.Provider,{value:u},q.createElement(mUe.Provider,{value:c},l)))))))},hUe=function(){return v.useContext(V7)},pUe=function(e){var r=v.useContext(F7);r==null&&$c();var n=r[e];return n==null&&$c(),n},gUe=function(e){var r=v.useContext(B7);r==null&&$c();var n=r[e];return n==null&&$c(),n},yUe=function(){var e=v.useContext(q7);return e};function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function bUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z7(n.key),n)}}function vUe(t,e,r){return e&&xUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jUe(t,e,r){return e=vx(e),wUe(t,U7()?Reflect.construct(e,r||[],vx(t).constructor):e.apply(t,r))}function wUe(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NUe(t)}function NUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U7=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vx(t)}function CUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d2(t,e)}function d2(t,e){return d2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d2(t,e)}function L5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function F5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(r),!0).forEach(function(n){WE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WE(t,e,r){return e=z7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z7(t){var e=SUe(t,"string");return Uc(e)=="symbol"?e:e+""}function SUe(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AUe(t,e){return EUe(t)||OUe(t,e)||kUe(t,e)||TUe()}function TUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kUe(t,e){if(t){if(typeof t=="string")return B5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B5(t,e)}}function B5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function EUe(t){if(Array.isArray(t))return t}function f2(){return f2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f2.apply(this,arguments)}var IUe=function(e,r){var n;return q.isValidElement(e)?n=q.cloneElement(e,r):Ve(e)?n=e(r):n=q.createElement("line",f2({},r,{className:"recharts-reference-line-line"})),n},PUe=function(e,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,m=s.width,h=s.height;if(n){var g=u.y,y=e.y.apply(g,{position:i});if(La(u,"discard")&&!e.y.isInRange(y))return null;var x=[{x:d+m,y},{x:d,y}];return c==="left"?x.reverse():x}if(r){var p=u.x,b=e.x.apply(p,{position:i});if(La(u,"discard")&&!e.x.isInRange(b))return null;var N=[{x:b,y:f+h},{x:b,y:f}];return l==="top"?N.reverse():N}if(a){var C=u.segment,j=C.map(function(w){return e.apply(w,{position:i})});return La(u,"discard")&&LVe(j,function(w){return!e.isInRange(w)})?null:j}return null};function DUe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,i=t.shape,l=t.className,c=t.alwaysShow,u=hUe(),d=pUe(a),f=gUe(s),m=yUe();if(!u||!m)return null;ys(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=zE({x:d.scale,y:f.scale}),g=nr(e),y=nr(r),x=n&&n.length===2,p=PUe(h,g,y,x,m,t.position,d.orientation,f.orientation,t);if(!p)return null;var b=AUe(p,2),N=b[0],C=N.x,j=N.y,w=b[1],S=w.x,T=w.y,k=La(t,"hidden")?"url(#".concat(u,")"):void 0,I=F5(F5({clipPath:k},qe(t,!0)),{},{x1:C,y1:j,x2:S,y2:T});return q.createElement(qt,{className:_e("recharts-reference-line",l)},IUe(i,I),br.renderCallByParent(t,cUe({x1:C,y1:j,x2:S,y2:T})))}var HE=function(t){function e(){return bUe(this,e),jUe(this,e,arguments)}return CUe(e,t),vUe(e,[{key:"render",value:function(){return q.createElement(DUe,this.props)}}])}(q.Component);WE(HE,"displayName","ReferenceLine");WE(HE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function m2(){return m2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m2.apply(this,arguments)}function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function q5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function V5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(r),!0).forEach(function(n){ww(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Ue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H7(n.key),n)}}function RUe(t,e,r){return e&&$Ue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MUe(t,e,r){return e=jx(e),LUe(t,W7()?Reflect.construct(e,r||[],jx(t).constructor):e.apply(t,r))}function LUe(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FUe(t)}function FUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W7=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(t)}function BUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h2(t,e)}function h2(t,e){return h2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h2(t,e)}function ww(t,e,r){return e=H7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H7(t){var e=qUe(t,"string");return zc(e)=="symbol"?e:e+""}function qUe(t,e){if(zc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VUe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,i=zE({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return La(e,"discard")&&!i.isInRange(l)?null:l},Nw=function(t){function e(){return _Ue(this,e),MUe(this,e,arguments)}return BUe(e,t),RUe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=nr(a),d=nr(s);if(ys(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=VUe(this.props);if(!f)return null;var m=f.x,h=f.y,g=this.props,y=g.shape,x=g.className,p=La(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=V5(V5({clipPath:p},qe(this.props,!0)),{},{cx:m,cy:h});return q.createElement(qt,{className:_e("recharts-reference-dot",x)},e.renderDot(y,b),br.renderCallByParent(this.props,{x:m-i,y:h-i,width:2*i,height:2*i}))}}])}(q.Component);ww(Nw,"displayName","ReferenceDot");ww(Nw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ww(Nw,"renderDot",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Ve(t)?r=t(e):r=q.createElement(VE,m2({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function p2(){return p2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p2.apply(this,arguments)}function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function U5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function z5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(r),!0).forEach(function(n){Cw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y7(n.key),n)}}function WUe(t,e,r){return e&&zUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HUe(t,e,r){return e=wx(e),GUe(t,G7()?Reflect.construct(e,r||[],wx(t).constructor):e.apply(t,r))}function GUe(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YUe(t)}function YUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G7=function(){return!!t})()}function wx(t){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wx(t)}function KUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g2(t,e)}function g2(t,e){return g2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},g2(t,e)}function Cw(t,e,r){return e=Y7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y7(t){var e=JUe(t,"string");return Wc(e)=="symbol"?e:e+""}function JUe(t,e){if(Wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XUe=function(e,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var m=zE({x:d.scale,y:f.scale}),h={x:e?m.x.apply(i,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},g={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return La(s,"discard")&&(!m.isInRange(h)||!m.isInRange(g))?null:M7(h,g)},Sw=function(t){function e(){return UUe(this,e),HUe(this,e,arguments)}return KUe(e,t),WUe(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ys(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=nr(a),m=nr(s),h=nr(i),g=nr(l),y=this.props.shape;if(!f&&!m&&!h&&!g&&!y)return null;var x=XUe(f,m,h,g,this.props);if(!x&&!y)return null;var p=La(this.props,"hidden")?"url(#".concat(d,")"):void 0;return q.createElement(qt,{className:_e("recharts-reference-area",c)},e.renderRect(y,z5(z5({clipPath:p},qe(this.props,!0)),x)),br.renderCallByParent(this.props,x))}}])}(q.Component);Cw(Sw,"displayName","ReferenceArea");Cw(Sw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Cw(Sw,"renderRect",function(t,e){var r;return q.isValidElement(t)?r=q.cloneElement(t,e):Ve(t)?r=t(e):r=q.createElement(qE,p2({},e,{className:"recharts-reference-area-rect"})),r});function W5(t){return tze(t)||eze(t)||ZUe(t)||QUe()}function QUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZUe(t,e){if(t){if(typeof t=="string")return y2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y2(t,e)}}function eze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tze(t){if(Array.isArray(t))return y2(t)}function y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b2=function(e,r,n,a,s){var i=$a(e,HE),l=$a(e,Nw),c=[].concat(W5(i),W5(l)),u=$a(e,Sw),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(y,x){if(x.props[d]===n&&La(x.props,"extendDomain")&&ge(x.props[f])){var p=x.props[f];return[Math.min(y[0],p),Math.max(y[1],p)]}return y},m)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");m=u.reduce(function(y,x){if(x.props[d]===n&&La(x.props,"extendDomain")&&ge(x.props[h])&&ge(x.props[g])){var p=x.props[h],b=x.props[g];return[Math.min(y[0],p,b),Math.max(y[1],p,b)]}return y},m)}return s&&s.length&&(m=s.reduce(function(y,x){return ge(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},m)),m},K7={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,g=new Array(h);m<h;m++)g[m]=f[m].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,g){var y=r?r+u:u;if(!this._events[y])return!1;var x=this._events[y],p=arguments.length,b,N;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),p){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,m),!0;case 5:return x.fn.call(x.context,d,f,m,h),!0;case 6:return x.fn.call(x.context,d,f,m,h,g),!0}for(N=1,b=new Array(p-1);N<p;N++)b[N-1]=arguments[N];x.fn.apply(x.context,b)}else{var C=x.length,j;for(N=0;N<C;N++)switch(x[N].once&&this.removeListener(u,x[N].fn,void 0,!0),p){case 1:x[N].fn.call(x[N].context);break;case 2:x[N].fn.call(x[N].context,d);break;case 3:x[N].fn.call(x[N].context,d,f);break;case 4:x[N].fn.call(x[N].context,d,f,m);break;default:if(!b)for(j=1,b=new Array(p-1);j<p;j++)b[j-1]=arguments[j];x[N].fn.apply(x[N].context,b)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return i(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&i(this,h);else{for(var y=0,x=[],p=g.length;y<p;y++)(g[y].fn!==d||m&&!g[y].once||f&&g[y].context!==f)&&x.push(g[y]);x.length?this._events[h]=x.length===1?x[0]:x:i(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(K7);var rze=K7.exports;const nze=et(rze);var XN=new nze,QN="recharts.syncMouseEvents";function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function aze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,J7(n.key),n)}}function oze(t,e,r){return e&&sze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZN(t,e,r){return e=J7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J7(t){var e=ize(t,"string");return hm(e)=="symbol"?e:e+""}function ize(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lze=function(){function t(){aze(this,t),ZN(this,"activeIndex",0),ZN(this,"coordinateList",[]),ZN(this,"layout","horizontal")}return oze(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,m=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function cze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&ge(n)&&ge(a))return!0}return!1}function uze(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function X7(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,i=vt(e,r,n,a),l=vt(e,r,n,s);return{points:[i,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function dze(t,e,r){var n,a,s,i;if(t==="horizontal")n=e.x,s=n,a=r.top,i=r.top+r.height;else if(t==="vertical")a=e.y,i=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=vt(l,c,u,f),h=vt(l,c,d,f);n=m.x,a=m.y,s=h.x,i=h.y}else return X7(e);return[{x:n,y:a},{x:s,y:i}]}function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function H5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H5(Object(r),!0).forEach(function(n){fze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fze(t,e,r){return e=mze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mze(t){var e=hze(t,"string");return pm(e)=="symbol"?e:e+""}function hze(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pze(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,i=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!s||!i||m!=="ScatterChart"&&a!=="axis")return null;var g,y=YT;if(m==="ScatterChart")g=i,y=C6e;else if(m==="BarChart")g=uze(f,i,c,d),y=qE;else if(f==="radial"){var x=X7(i),p=x.cx,b=x.cy,N=x.radius,C=x.startAngle,j=x.endAngle;g={cx:p,cy:b,startAngle:C,endAngle:j,innerRadius:N,outerRadius:N},y=p7}else g={points:dze(f,i,c)},y=YT;var w=np(np(np(np({stroke:"#ccc",pointerEvents:"none"},c),g),qe(h,!1)),{},{payload:l,payloadIndex:u,className:_e("recharts-tooltip-cursor",h.className)});return v.isValidElement(h)?v.cloneElement(h,w):v.createElement(y,w)}var gze=["item"],yze=["children","className","width","height","style","compact","title","desc"];function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ul.apply(this,arguments)}function G5(t,e){return vze(t)||xze(t,e)||Z7(t,e)||bze()}function bze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function vze(t){if(Array.isArray(t))return t}function Y5(t,e){if(t==null)return{};var r=jze(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eW(n.key),n)}}function Cze(t,e,r){return e&&Nze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sze(t,e,r){return e=Nx(e),Aze(t,Q7()?Reflect.construct(e,r||[],Nx(t).constructor):e.apply(t,r))}function Aze(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tze(t)}function Tze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q7=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(t)}function kze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x2(t,e)}function x2(t,e){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x2(t,e)}function Gc(t){return Ize(t)||Eze(t)||Z7(t)||Oze()}function Oze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z7(t,e){if(t){if(typeof t=="string")return v2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v2(t,e)}}function Eze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ize(t){if(Array.isArray(t))return v2(t)}function v2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function K5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K5(Object(r),!0).forEach(function(n){Ee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ee(t,e,r){return e=eW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eW(t){var e=Pze(t,"string");return Hc(e)=="symbol"?e:e+""}function Pze(t,e){if(Hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dze={xAxis:["bottom","top"],yAxis:["left","right"]},_ze={width:"100%",height:"100%"},tW={x:0,y:0};function ap(t){return t}var $ze=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Rze=function(e,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,l=a.radius;return te(te(te({},a),vt(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return te(te(te({},a),vt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return tW},Aw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Gc(l),Gc(u)):l},[]);return i.length>0?i:e&&e.length&&ge(a)&&ge(s)?e.slice(a,s+1):[]};function rW(t){return t==="number"?[0,"auto"]:void 0}var j2=function(e,r,n,a){var s=e.graphicalItems,i=e.tooltipAxis,l=Aw(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(i.dataKey&&!i.allowDuplicatedCategory){var h=f===void 0?l:f;m=eT(h,i.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(Gc(c),[c4e(u,m)]):c},[])},J5=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},i=$ze(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=GFe(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=j2(e,r,d,f),h=Rze(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},Mze=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=l7(d,s);return n.reduce(function(g,y){var x,p=y.type.defaultProps!==void 0?te(te({},y.type.defaultProps),y.props):y.props,b=p.type,N=p.dataKey,C=p.allowDataOverflow,j=p.allowDuplicatedCategory,w=p.scale,S=p.ticks,T=p.includeHidden,k=p[i];if(g[k])return g;var I=Aw(e.data,{graphicalItems:a.filter(function(W){var Z,fe=i in W.props?W.props[i]:(Z=W.type.defaultProps)===null||Z===void 0?void 0:Z[i];return fe===k}),dataStartIndex:c,dataEndIndex:u}),E=I.length,P,L,$;cze(p.domain,C,b)&&(P=VT(p.domain,null,C),h&&(b==="number"||w!=="auto")&&($=Wd(I,N,"category")));var _=rW(b);if(!P||P.length===0){var B,U=(B=p.domain)!==null&&B!==void 0?B:_;if(N){if(P=Wd(I,N,b),b==="category"&&h){var D=MAe(P);j&&D?(L=P,P=yx(0,E)):j||(P=EL(U,P,y).reduce(function(W,Z){return W.indexOf(Z)>=0?W:[].concat(Gc(W),[Z])},[]))}else if(b==="category")j?P=P.filter(function(W){return W!==""&&!Ge(W)}):P=EL(U,P,y).reduce(function(W,Z){return W.indexOf(Z)>=0||Z===""||Ge(Z)?W:[].concat(Gc(W),[Z])},[]);else if(b==="number"){var R=QFe(I,a.filter(function(W){var Z,fe,Ce=i in W.props?W.props[i]:(Z=W.type.defaultProps)===null||Z===void 0?void 0:Z[i],ne="hide"in W.props?W.props.hide:(fe=W.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return Ce===k&&(T||!ne)}),N,s,d);R&&(P=R)}h&&(b==="number"||w!=="auto")&&($=Wd(I,N,"category"))}else h?P=yx(0,E):l&&l[k]&&l[k].hasStack&&b==="number"?P=m==="expand"?[0,1]:c7(l[k].stackGroups,c,u):P=i7(I,a.filter(function(W){var Z=i in W.props?W.props[i]:W.type.defaultProps[i],fe="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return Z===k&&(T||!fe)}),b,d,!0);if(b==="number")P=b2(f,P,k,s,S),U&&(P=VT(U,P,C));else if(b==="category"&&U){var F=U,G=P.every(function(W){return F.indexOf(W)>=0});G&&(P=F)}}return te(te({},g),{},Ee({},k,te(te({},p),{},{axisType:s,domain:P,categoricalDomain:$,duplicateDomain:L,originalDomain:(x=p.domain)!==null&&x!==void 0?x:_,isCategorical:h,layout:d})))},{})},Lze=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=Aw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,g=l7(d,s),y=-1;return n.reduce(function(x,p){var b=p.type.defaultProps!==void 0?te(te({},p.type.defaultProps),p.props):p.props,N=b[i],C=rW("number");if(!x[N]){y++;var j;return g?j=yx(0,h):l&&l[N]&&l[N].hasStack?(j=c7(l[N].stackGroups,c,u),j=b2(f,j,N,s)):(j=VT(C,i7(m,n.filter(function(w){var S,T,k=i in w.props?w.props[i]:(S=w.type.defaultProps)===null||S===void 0?void 0:S[i],I="hide"in w.props?w.props.hide:(T=w.type.defaultProps)===null||T===void 0?void 0:T.hide;return k===N&&!I}),"number",d),a.defaultProps.allowDataOverflow),j=b2(f,j,N,s)),te(te({},x),{},Ee({},N,te(te({axisType:s},a.defaultProps),{},{hide:!0,orientation:ua(Dze,"".concat(s,".").concat(y%2),null),domain:j,originalDomain:C,isCategorical:g,layout:d})))}return x},{})},Fze=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=$a(d,s),h={};return m&&m.length?h=Mze(e,{axes:m,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(h=Lze(e,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},Bze=function(e){var r=Al(e),n=dd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:fE(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:UT(r,n)}},X5=function(e){var r=e.children,n=e.defaultShowTooltip,a=_n(r,Vc),s=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},qze=function(e){return!e||!e.length?!1:e.some(function(r){var n=gs(r&&r.type);return n&&n.indexOf("Bar")>=0})},Q5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vze=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,i=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=_n(f,Vc),g=_n(f,Ra),y=Object.keys(c).reduce(function(j,w){var S=c[w],T=S.orientation;return!S.mirror&&!S.hide?te(te({},j),{},Ee({},T,j[T]+S.width)):j},{left:m.left||0,right:m.right||0}),x=Object.keys(i).reduce(function(j,w){var S=i[w],T=S.orientation;return!S.mirror&&!S.hide?te(te({},j),{},Ee({},T,ua(j,"".concat(T))+S.height)):j},{top:m.top||0,bottom:m.bottom||0}),p=te(te({},x),y),b=p.bottom;h&&(p.bottom+=h.props.height||Vc.defaultProps.height),g&&r&&(p=JFe(p,a,n,r));var N=u-p.left-p.right,C=d-p.top-p.bottom;return te(te({brushBottom:b},p),{},{width:Math.max(N,0),height:Math.max(C,0)})},Uze=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},zze=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,i=e.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(p,b){var N=b.graphicalItems,C=b.stackGroups,j=b.offset,w=b.updateId,S=b.dataStartIndex,T=b.dataEndIndex,k=p.barSize,I=p.layout,E=p.barGap,P=p.barCategoryGap,L=p.maxBarSize,$=Q5(I),_=$.numericAxisName,B=$.cateAxisName,U=qze(N),D=[];return N.forEach(function(R,F){var G=Aw(p.data,{graphicalItems:[R],dataStartIndex:S,dataEndIndex:T}),W=R.type.defaultProps!==void 0?te(te({},R.type.defaultProps),R.props):R.props,Z=W.dataKey,fe=W.maxBarSize,Ce=W["".concat(_,"Id")],ne=W["".concat(B,"Id")],K={},ie=c.reduce(function(kn,J){var Y=b["".concat(J.axisType,"Map")],de=W["".concat(J.axisType,"Id")];Y&&Y[de]||J.axisType==="zAxis"||$c();var ce=Y[de];return te(te({},kn),{},Ee(Ee({},J.axisType,ce),"".concat(J.axisType,"Ticks"),dd(ce)))},K),X=ie[B],ee=ie["".concat(B,"Ticks")],H=C&&C[Ce]&&C[Ce].hasStack&&i4e(R,C[Ce].stackGroups),z=gs(R.type).indexOf("Bar")>=0,he=UT(X,ee),je=[],ke=U&&YFe({barSize:k,stackGroups:C,totalSize:Uze(ie,B)});if(z){var Ne,sr,An=Ge(fe)?L:fe,Tn=(Ne=(sr=UT(X,ee,!0))!==null&&sr!==void 0?sr:An)!==null&&Ne!==void 0?Ne:0;je=KFe({barGap:E,barCategoryGap:P,bandSize:Tn!==he?Tn:he,sizeList:ke[ne],maxBarSize:An}),Tn!==he&&(je=je.map(function(kn){return te(te({},kn),{},{position:te(te({},kn.position),{},{offset:kn.position.offset-Tn/2})})}))}var Ls=R&&R.type&&R.type.getComposedData;Ls&&D.push({props:te(te({},Ls(te(te({},ie),{},{displayedData:G,props:p,dataKey:Z,item:R,bandSize:he,barPosition:je,offset:j,stackedData:H,layout:I,dataStartIndex:S,dataEndIndex:T}))),{},Ee(Ee(Ee({key:R.key||"item-".concat(F)},_,ie[_]),B,ie[B]),"animationId",w)),childIndex:YAe(R,p.children),item:R})}),D},h=function(p,b){var N=p.props,C=p.dataStartIndex,j=p.dataEndIndex,w=p.updateId;if(!CR({props:N}))return null;var S=N.children,T=N.layout,k=N.stackOffset,I=N.data,E=N.reverseStackOrder,P=Q5(T),L=P.numericAxisName,$=P.cateAxisName,_=$a(S,n),B=s4e(I,_,"".concat(L,"Id"),"".concat($,"Id"),k,E),U=c.reduce(function(W,Z){var fe="".concat(Z.axisType,"Map");return te(te({},W),{},Ee({},fe,Fze(N,te(te({},Z),{},{graphicalItems:_,stackGroups:Z.axisType===L&&B,dataStartIndex:C,dataEndIndex:j}))))},{}),D=Vze(te(te({},U),{},{props:N,graphicalItems:_}),b==null?void 0:b.legendBBox);Object.keys(U).forEach(function(W){U[W]=d(N,U[W],D,W.replace("Map",""),r)});var R=U["".concat($,"Map")],F=Bze(R),G=m(N,te(te({},U),{},{dataStartIndex:C,dataEndIndex:j,updateId:w,graphicalItems:_,stackGroups:B,offset:D}));return te(te({formattedGraphicalItems:G,graphicalItems:_,offset:D,stackGroups:B},F),U)},g=function(x){function p(b){var N,C,j;return wze(this,p),j=Sze(this,p,[b]),Ee(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(j,"accessibilityManager",new lze),Ee(j,"handleLegendBBoxUpdate",function(w){if(w){var S=j.state,T=S.dataStartIndex,k=S.dataEndIndex,I=S.updateId;j.setState(te({legendBBox:w},h({props:j.props,dataStartIndex:T,dataEndIndex:k,updateId:I},te(te({},j.state),{},{legendBBox:w}))))}}),Ee(j,"handleReceiveSyncEvent",function(w,S,T){if(j.props.syncId===w){if(T===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),Ee(j,"handleBrushChange",function(w){var S=w.startIndex,T=w.endIndex;if(S!==j.state.dataStartIndex||T!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return te({dataStartIndex:S,dataEndIndex:T},h({props:j.props,dataStartIndex:S,dataEndIndex:T,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:T})}}),Ee(j,"handleMouseEnter",function(w){var S=j.getMouseInfo(w);if(S){var T=te(te({},S),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var k=j.props.onMouseEnter;Ve(k)&&k(T,w)}}),Ee(j,"triggeredAfterMouseMove",function(w){var S=j.getMouseInfo(w),T=S?te(te({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(T),j.triggerSyncEvent(T);var k=j.props.onMouseMove;Ve(k)&&k(T,w)}),Ee(j,"handleItemMouseEnter",function(w){j.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Ee(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ee(j,"handleMouseMove",function(w){w.persist(),j.throttleTriggeredAfterMouseMove(w)}),Ee(j,"handleMouseLeave",function(w){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var T=j.props.onMouseLeave;Ve(T)&&T(S,w)}),Ee(j,"handleOuterEvent",function(w){var S=GAe(w),T=ua(j.props,"".concat(S));if(S&&Ve(T)){var k,I;/.*touch.*/i.test(S)?I=j.getMouseInfo(w.changedTouches[0]):I=j.getMouseInfo(w),T((k=I)!==null&&k!==void 0?k:{},w)}}),Ee(j,"handleClick",function(w){var S=j.getMouseInfo(w);if(S){var T=te(te({},S),{},{isTooltipActive:!0});j.setState(T),j.triggerSyncEvent(T);var k=j.props.onClick;Ve(k)&&k(T,w)}}),Ee(j,"handleMouseDown",function(w){var S=j.props.onMouseDown;if(Ve(S)){var T=j.getMouseInfo(w);S(T,w)}}),Ee(j,"handleMouseUp",function(w){var S=j.props.onMouseUp;if(Ve(S)){var T=j.getMouseInfo(w);S(T,w)}}),Ee(j,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Ee(j,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&j.handleMouseDown(w.changedTouches[0])}),Ee(j,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&j.handleMouseUp(w.changedTouches[0])}),Ee(j,"handleDoubleClick",function(w){var S=j.props.onDoubleClick;if(Ve(S)){var T=j.getMouseInfo(w);S(T,w)}}),Ee(j,"handleContextMenu",function(w){var S=j.props.onContextMenu;if(Ve(S)){var T=j.getMouseInfo(w);S(T,w)}}),Ee(j,"triggerSyncEvent",function(w){j.props.syncId!==void 0&&XN.emit(QN,j.props.syncId,w,j.eventEmitterSymbol)}),Ee(j,"applySyncEvent",function(w){var S=j.props,T=S.layout,k=S.syncMethod,I=j.state.updateId,E=w.dataStartIndex,P=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)j.setState(te({dataStartIndex:E,dataEndIndex:P},h({props:j.props,dataStartIndex:E,dataEndIndex:P,updateId:I},j.state)));else if(w.activeTooltipIndex!==void 0){var L=w.chartX,$=w.chartY,_=w.activeTooltipIndex,B=j.state,U=B.offset,D=B.tooltipTicks;if(!U)return;if(typeof k=="function")_=k(D,w);else if(k==="value"){_=-1;for(var R=0;R<D.length;R++)if(D[R].value===w.activeLabel){_=R;break}}var F=te(te({},U),{},{x:U.left,y:U.top}),G=Math.min(L,F.x+F.width),W=Math.min($,F.y+F.height),Z=D[_]&&D[_].value,fe=j2(j.state,j.props.data,_),Ce=D[_]?{x:T==="horizontal"?D[_].coordinate:G,y:T==="horizontal"?W:D[_].coordinate}:tW;j.setState(te(te({},w),{},{activeLabel:Z,activeCoordinate:Ce,activePayload:fe,activeTooltipIndex:_}))}else j.setState(w)}),Ee(j,"renderCursor",function(w){var S,T=j.state,k=T.isTooltipActive,I=T.activeCoordinate,E=T.activePayload,P=T.offset,L=T.activeTooltipIndex,$=T.tooltipAxisBandSize,_=j.getTooltipEventType(),B=(S=w.props.active)!==null&&S!==void 0?S:k,U=j.props.layout,D=w.key||"_recharts-cursor";return q.createElement(pze,{key:D,activeCoordinate:I,activePayload:E,activeTooltipIndex:L,chartName:r,element:w,isActive:B,layout:U,offset:P,tooltipAxisBandSize:$,tooltipEventType:_})}),Ee(j,"renderPolarAxis",function(w,S,T){var k=ua(w,"type.axisType"),I=ua(j.state,"".concat(k,"Map")),E=w.type.defaultProps,P=E!==void 0?te(te({},E),w.props):w.props,L=I&&I[P["".concat(k,"Id")]];return v.cloneElement(w,te(te({},L),{},{className:_e(k,L.className),key:w.key||"".concat(S,"-").concat(T),ticks:dd(L,!0)}))}),Ee(j,"renderPolarGrid",function(w){var S=w.props,T=S.radialLines,k=S.polarAngles,I=S.polarRadius,E=j.state,P=E.radiusAxisMap,L=E.angleAxisMap,$=Al(P),_=Al(L),B=_.cx,U=_.cy,D=_.innerRadius,R=_.outerRadius;return v.cloneElement(w,{polarAngles:Array.isArray(k)?k:dd(_,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(I)?I:dd($,!0).map(function(F){return F.coordinate}),cx:B,cy:U,innerRadius:D,outerRadius:R,key:w.key||"polar-grid",radialLines:T})}),Ee(j,"renderLegend",function(){var w=j.state.formattedGraphicalItems,S=j.props,T=S.children,k=S.width,I=S.height,E=j.props.margin||{},P=k-(E.left||0)-(E.right||0),L=s7({children:T,formattedGraphicalItems:w,legendWidth:P,legendContent:u});if(!L)return null;var $=L.item,_=Y5(L,gze);return v.cloneElement($,te(te({},_),{},{chartWidth:k,chartHeight:I,margin:E,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ee(j,"renderTooltip",function(){var w,S=j.props,T=S.children,k=S.accessibilityLayer,I=_n(T,Ja);if(!I)return null;var E=j.state,P=E.isTooltipActive,L=E.activeCoordinate,$=E.activePayload,_=E.activeLabel,B=E.offset,U=(w=I.props.active)!==null&&w!==void 0?w:P;return v.cloneElement(I,{viewBox:te(te({},B),{},{x:B.left,y:B.top}),active:U,label:_,payload:U?$:[],coordinate:L,accessibilityLayer:k})}),Ee(j,"renderBrush",function(w){var S=j.props,T=S.margin,k=S.data,I=j.state,E=I.offset,P=I.dataStartIndex,L=I.dataEndIndex,$=I.updateId;return v.cloneElement(w,{key:w.key||"_recharts-brush",onChange:Qh(j.handleBrushChange,w.props.onChange),data:k,x:ge(w.props.x)?w.props.x:E.left,y:ge(w.props.y)?w.props.y:E.top+E.height+E.brushBottom-(T.bottom||0),width:ge(w.props.width)?w.props.width:E.width,startIndex:P,endIndex:L,updateId:"brush-".concat($)})}),Ee(j,"renderReferenceElement",function(w,S,T){if(!w)return null;var k=j,I=k.clipPathId,E=j.state,P=E.xAxisMap,L=E.yAxisMap,$=E.offset,_=w.type.defaultProps||{},B=w.props,U=B.xAxisId,D=U===void 0?_.xAxisId:U,R=B.yAxisId,F=R===void 0?_.yAxisId:R;return v.cloneElement(w,{key:w.key||"".concat(S,"-").concat(T),xAxis:P[D],yAxis:L[F],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:I})}),Ee(j,"renderActivePoints",function(w){var S=w.item,T=w.activePoint,k=w.basePoint,I=w.childIndex,E=w.isRange,P=[],L=S.props.key,$=S.item.type.defaultProps!==void 0?te(te({},S.item.type.defaultProps),S.item.props):S.item.props,_=$.activeDot,B=$.dataKey,U=te(te({index:I,dataKey:B,cx:T.x,cy:T.y,r:4,fill:BE(S.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},qe(_,!1)),D0(_));return P.push(p.renderActiveDot(_,U,"".concat(L,"-activePoint-").concat(I))),k?P.push(p.renderActiveDot(_,te(te({},U),{},{cx:k.x,cy:k.y}),"".concat(L,"-basePoint-").concat(I))):E&&P.push(null),P}),Ee(j,"renderGraphicChild",function(w,S,T){var k=j.filterFormatItem(w,S,T);if(!k)return null;var I=j.getTooltipEventType(),E=j.state,P=E.isTooltipActive,L=E.tooltipAxis,$=E.activeTooltipIndex,_=E.activeLabel,B=j.props.children,U=_n(B,Ja),D=k.props,R=D.points,F=D.isRange,G=D.baseLine,W=k.item.type.defaultProps!==void 0?te(te({},k.item.type.defaultProps),k.item.props):k.item.props,Z=W.activeDot,fe=W.hide,Ce=W.activeBar,ne=W.activeShape,K=!!(!fe&&P&&U&&(Z||Ce||ne)),ie={};I!=="axis"&&U&&U.props.trigger==="click"?ie={onClick:Qh(j.handleItemMouseEnter,w.props.onClick)}:I!=="axis"&&(ie={onMouseLeave:Qh(j.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:Qh(j.handleItemMouseEnter,w.props.onMouseEnter)});var X=v.cloneElement(w,te(te({},k.props),ie));function ee(J){return typeof L.dataKey=="function"?L.dataKey(J.payload):null}if(K)if($>=0){var H,z;if(L.dataKey&&!L.allowDuplicatedCategory){var he=typeof L.dataKey=="function"?ee:"payload.".concat(L.dataKey.toString());H=eT(R,he,_),z=F&&G&&eT(G,he,_)}else H=R==null?void 0:R[$],z=F&&G&&G[$];if(ne||Ce){var je=w.props.activeIndex!==void 0?w.props.activeIndex:$;return[v.cloneElement(w,te(te(te({},k.props),ie),{},{activeIndex:je})),null,null]}if(!Ge(H))return[X].concat(Gc(j.renderActivePoints({item:k,activePoint:H,basePoint:z,childIndex:$,isRange:F})))}else{var ke,Ne=(ke=j.getItemByXY(j.state.activeCoordinate))!==null&&ke!==void 0?ke:{graphicalItem:X},sr=Ne.graphicalItem,An=sr.item,Tn=An===void 0?w:An,Ls=sr.childIndex,kn=te(te(te({},k.props),ie),{},{activeIndex:Ls});return[v.cloneElement(Tn,kn),null,null]}return F?[X,null,null]:[X,null]}),Ee(j,"renderCustomized",function(w,S,T){return v.cloneElement(w,te(te({key:"recharts-customized-".concat(T)},j.props),j.state))}),Ee(j,"renderMap",{CartesianGrid:{handler:ap,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:ap},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:ap},YAxis:{handler:ap},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((N=b.id)!==null&&N!==void 0?N:Yj("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=a8(j.triggeredAfterMouseMove,(C=b.throttleDelay)!==null&&C!==void 0?C:1e3/60),j.state={},j}return kze(p,x),Cze(p,[{key:"componentDidMount",value:function(){var N,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,C=N.children,j=N.data,w=N.height,S=N.layout,T=_n(C,Ja);if(T){var k=T.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,E=j2(this.state,j,k,I),P=this.state.tooltipTicks[k].coordinate,L=(this.state.offset.top+w)/2,$=S==="horizontal",_=$?{x:P,y:L}:{y:P,x:L},B=this.state.formattedGraphicalItems.find(function(D){var R=D.item;return R.type.name==="Scatter"});B&&(_=te(te({},_),B.props.points[k].tooltipPosition),E=B.props.points[k].tooltipPayload);var U={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:I,activePayload:E,activeCoordinate:_};this.setState(U),this.renderCursor(T),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var j,w;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(N){nT([_n(N.children,Ja)],[_n(this.props.children,Ja)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=_n(this.props.children,Ja);if(N&&typeof N.props.shared=="boolean"){var C=N.props.shared?"axis":"item";return l.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var C=this.container,j=C.getBoundingClientRect(),w=jRe(j),S={chartX:Math.round(N.pageX-w.left),chartY:Math.round(N.pageY-w.top)},T=j.width/C.offsetWidth||1,k=this.inRange(S.chartX,S.chartY,T);if(!k)return null;var I=this.state,E=I.xAxisMap,P=I.yAxisMap,L=this.getTooltipEventType(),$=J5(this.state,this.props.data,this.props.layout,k);if(L!=="axis"&&E&&P){var _=Al(E).scale,B=Al(P).scale,U=_&&_.invert?_.invert(S.chartX):null,D=B&&B.invert?B.invert(S.chartY):null;return te(te({},S),{},{xValue:U,yValue:D},$)}return $?te(te({},S),$):null}},{key:"inRange",value:function(N,C){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,S=N/j,T=C/j;if(w==="horizontal"||w==="vertical"){var k=this.state.offset,I=S>=k.left&&S<=k.left+k.width&&T>=k.top&&T<=k.top+k.height;return I?{x:S,y:T}:null}var E=this.state,P=E.angleAxisMap,L=E.radiusAxisMap;if(P&&L){var $=Al(P);return DL({x:S,y:T},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,C=this.getTooltipEventType(),j=_n(N,Ja),w={};j&&C==="axis"&&(j.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=D0(this.props,this.handleOuterEvent);return te(te({},S),w)}},{key:"addListener",value:function(){XN.on(QN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){XN.removeListener(QN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,C,j){for(var w=this.state.formattedGraphicalItems,S=0,T=w.length;S<T;S++){var k=w[S];if(k.item===N||k.props.key===N.key||C===gs(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,C=this.state.offset,j=C.left,w=C.top,S=C.height,T=C.width;return q.createElement("defs",null,q.createElement("clipPath",{id:N},q.createElement("rect",{x:j,y:w,height:S,width:T})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(C,j){var w=G5(j,2),S=w[0],T=w[1];return te(te({},C),{},Ee({},S,T.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(C,j){var w=G5(j,2),S=w[0],T=w[1];return te(te({},C),{},Ee({},S,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(N){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[N])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(N){var C=this.state,j=C.formattedGraphicalItems,w=C.activeItem;if(j&&j.length)for(var S=0,T=j.length;S<T;S++){var k=j[S],I=k.props,E=k.item,P=E.type.defaultProps!==void 0?te(te({},E.type.defaultProps),E.props):E.props,L=gs(E.type);if(L==="Bar"){var $=(I.data||[]).find(function(D){return a6e(N,D)});if($)return{graphicalItem:k,payload:$}}else if(L==="RadialBar"){var _=(I.data||[]).find(function(D){return DL(N,D)});if(_)return{graphicalItem:k,payload:_}}else if(vw(k,w)||jw(k,w)||dm(k,w)){var B=Gqe({graphicalItem:k,activeTooltipItem:w,itemData:P.data}),U=P.activeIndex===void 0?B:P.activeIndex;return{graphicalItem:te(te({},k),{},{childIndex:U}),payload:dm(k,w)?P.data[B]:k.props.data[B]}}}return null}},{key:"render",value:function(){var N=this;if(!CR(this))return null;var C=this.props,j=C.children,w=C.className,S=C.width,T=C.height,k=C.style,I=C.compact,E=C.title,P=C.desc,L=Y5(C,yze),$=qe(L,!1);if(I)return q.createElement(M5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement(sT,Ul({},$,{width:S,height:T,title:E,desc:P}),this.renderClipPath(),AR(j,this.renderMap)));if(this.props.accessibilityLayer){var _,B;$.tabIndex=(_=this.props.tabIndex)!==null&&_!==void 0?_:0,$.role=(B=this.props.role)!==null&&B!==void 0?B:"application",$.onKeyDown=function(D){N.accessibilityManager.keyboardEvent(D)},$.onFocus=function(){N.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return q.createElement(M5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},q.createElement("div",Ul({className:_e("recharts-wrapper",w),style:te({position:"relative",cursor:"default",width:S,height:T},k)},U,{ref:function(R){N.container=R}}),q.createElement(sT,Ul({},$,{width:S,height:T,title:E,desc:P,style:_ze}),this.renderClipPath(),AR(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Ee(g,"displayName",r),Ee(g,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ee(g,"getDerivedStateFromProps",function(x,p){var b=x.dataKey,N=x.data,C=x.children,j=x.width,w=x.height,S=x.layout,T=x.stackOffset,k=x.margin,I=p.dataStartIndex,E=p.dataEndIndex;if(p.updateId===void 0){var P=X5(x);return te(te(te({},P),{},{updateId:0},h(te(te({props:x},P),{},{updateId:0}),p)),{},{prevDataKey:b,prevData:N,prevWidth:j,prevHeight:w,prevLayout:S,prevStackOffset:T,prevMargin:k,prevChildren:C})}if(b!==p.prevDataKey||N!==p.prevData||j!==p.prevWidth||w!==p.prevHeight||S!==p.prevLayout||T!==p.prevStackOffset||!tT(k,p.prevMargin)){var L=X5(x),$={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},_=te(te({},J5(p,N,S)),{},{updateId:p.updateId+1}),B=te(te(te({},L),$),_);return te(te(te({},B),h(te({props:x},B),p)),{},{prevDataKey:b,prevData:N,prevWidth:j,prevHeight:w,prevLayout:S,prevStackOffset:T,prevMargin:k,prevChildren:C})}if(!nT(C,p.prevChildren)){var U,D,R,F,G=_n(C,Vc),W=G&&(U=(D=G.props)===null||D===void 0?void 0:D.startIndex)!==null&&U!==void 0?U:I,Z=G&&(R=(F=G.props)===null||F===void 0?void 0:F.endIndex)!==null&&R!==void 0?R:E,fe=W!==I||Z!==E,Ce=!Ge(N),ne=Ce&&!fe?p.updateId:p.updateId+1;return te(te({updateId:ne},h(te(te({props:x},p),{},{updateId:ne,dataStartIndex:W,dataEndIndex:Z}),p)),{},{prevChildren:C,dataStartIndex:W,dataEndIndex:Z})}return null}),Ee(g,"renderActiveDot",function(x,p,b){var N;return v.isValidElement(x)?N=v.cloneElement(x,p):Ve(x)?N=x(p):N=q.createElement(VE,p),q.createElement(qt,{className:"recharts-active-dot",key:b},N)});var y=v.forwardRef(function(p,b){return q.createElement(g,Ul({},p,{ref:b}))});return y.displayName=g.displayName,y},Tw=zze({chartName:"PieChart",GraphicalChild:Kn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:xw},{axisType:"radiusAxis",AxisComp:yw}],formatAxisMap:b4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Z5=["#0088FE","#FF8042"];function Wze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Budget vs Charges"}),o.jsxs("div",{className:"w-full h-72",children:[" ",o.jsx(aw,{width:"100%",height:"100%",children:o.jsxs(Tw,{margin:{top:20,right:20,bottom:20,left:20},children:[o.jsx(Kn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"70%",label:!0,children:t.map((e,r)=>o.jsx(hu,{fill:Z5[r%Z5.length]},`cell-${r}`))}),o.jsx(Ra,{})]})})]})]})}const eF=["#0088FE","#FF8042","#00C49F"];function Hze({data:t}){return!t||t.length===0?o.jsx("div",{className:"text-center text-gray-500",children:"No data"}):o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Encumbrance vs Charges"}),o.jsxs("div",{className:"w-full h-64",children:[" ",o.jsx(aw,{width:"100%",height:"100%",children:o.jsxs(Tw,{children:[o.jsx(Kn,{data:t,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:t.map((e,r)=>o.jsx(hu,{fill:eF[r%eF.length]},`cell-${r}`))}),o.jsx(Ra,{})]})})]})]})}function Gze(){ue();const[t,e]=v.useState(""),[r,n]=v.useState(""),[a,s]=v.useState([]),[i,l]=v.useState([]),[c,u]=v.useState({chart1:[],chart2:[],table:[]}),[d,f]=v.useState(!1),m=[{ID:"dept1",Name:"Finance"},{ID:"dept2",Name:"Operations"}],h={dept1:[{ID:"sub1",Name:"Accounts Payable"},{ID:"sub2",Name:"Budgeting"}],dept2:[{ID:"sub3",Name:"Logistics"},{ID:"sub4",Name:"Maintenance"}]},g={chart1:[{name:"Budget Amount",value:6e5},{name:"Charges",value:45e4}],chart2:[{name:"PreEncumbrance",value:1e5},{name:"Encumbrance",value:2e5},{name:"Charges",value:15e4}],table:[{name:"Accounts Payable",total:"250,000"},{name:"Accounts Receivable",total:"300,000"}]};v.useEffect(()=>{s(m)},[]),v.useEffect(()=>{t&&(l(h[t]||[]),n(""),u({chart1:[],chart2:[],table:[]}))},[t]),v.useEffect(()=>{r&&(f(!0),setTimeout(()=>{u(g),f(!1)},800))},[r]);const y=[{key:"name",header:"AP AR",sortable:!1},{key:"total",header:"Total",sortable:!1}];return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Budget Dashboard"}),o.jsx("p",{children:"Analyze department-wise budget allocations and expenses."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(A,{label:"Department",name:"Department",type:"select",value:t,onChange:x=>e(x.target.value),options:a.map(x=>({value:x.ID,label:x.Name})),required:!0}),o.jsx(A,{label:"Sub-Department",name:"SubDepartment",type:"select",value:r,onChange:x=>n(x.target.value),options:i.map(x=>({value:x.ID,label:x.Name})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsx(Wze,{data:c==null?void 0:c.chart1,loading:d}),o.jsx(Hze,{data:c==null?void 0:c.chart2,loading:d})]}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:y,data:(c==null?void 0:c.table)||[],loading:d,emptyMessage:"No budget data found for selected sub-department."})})]})}const tF=["#0088FE","#00C49F","#FF8042"],rF={year:{disbursed:"PHP 10,00,00,000",obligated:"PHP 8,50,00,000"},month:{disbursed:"PHP 2,50,00,000",obligated:"PHP 2,00,00,000"},day:{disbursed:"PHP 10,00,000",obligated:"PHP 8,00,000"}},Yze={year:{disbursement:[{name:"Posted",value:80},{name:"Rejected",value:20}],obligation:[{name:"Posted",value:60},{name:"Requested",value:30},{name:"Rejected",value:10}],travel:[{name:"Posted",value:40},{name:"Requested",value:40},{name:"Rejected",value:20}]},month:{disbursement:[{name:"Posted",value:70},{name:"Rejected",value:30}],obligation:[{name:"Posted",value:50},{name:"Requested",value:40},{name:"Rejected",value:10}],travel:[{name:"Posted",value:60},{name:"Requested",value:30},{name:"Rejected",value:10}]},day:{disbursement:[{name:"Posted",value:90},{name:"Rejected",value:10}],obligation:[{name:"Posted",value:55},{name:"Requested",value:35},{name:"Rejected",value:10}],travel:[{name:"Posted",value:65},{name:"Requested",value:25},{name:"Rejected",value:10}]}};function Kze(){var g,y;const[t,e]=v.useState("year"),[r,n]=v.useState(""),[a,s]=v.useState("year"),[i,l]=v.useState(""),c=((g=rF[t])==null?void 0:g.disbursed)||"",u=((y=rF[t])==null?void 0:y.obligated)||"",d=Yze[a],f=[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}],m=[{value:"dept1",label:"Department A"},{value:"dept2",label:"Department B"}],h=(x,p)=>o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:x}),o.jsx("div",{className:"w-full h-64",children:o.jsx(aw,{width:"100%",height:"100%",children:o.jsxs(Tw,{children:[o.jsx(Kn,{data:p,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:p.map((b,N)=>o.jsx(hu,{fill:tF[N%tF.length]},N))}),o.jsx(Ra,{})]})})})]});return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsx("h1",{children:"Disbursement Dashboard"})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(A,{label:"Timeframe",type:"select",value:t,onChange:x=>e(x.target.value),options:f}),o.jsx(A,{label:"Department",type:"select",value:r,onChange:x=>n(x.target.value),options:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-primary-700",children:["Disbursed Amount: ",c]}),o.jsxs("div",{className:"card p-6 text-center text-lg font-medium text-amber-700",children:["Obligated Amount: ",u]})]}),o.jsx("hr",{className:"my-8 border-t"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Timeframe",type:"select",value:a,onChange:x=>s(x.target.value),options:f}),o.jsx(A,{label:"Department",type:"select",value:i,onChange:x=>l(x.target.value),options:m})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[h("Disbursement",d.disbursement),h("Obligation",d.obligation),h("Travel",d.travel)]})]})}const nF=["#0088FE","#FF8042","#00C49F"],sp={general:0,marriage:0,burial:0,cedula:0},eC={general:[{name:"Paid",value:60},{name:"Unpaid",value:40}],marriage:[{name:"Paid",value:80},{name:"Unpaid",value:20}],burial:[{name:"Paid",value:70},{name:"Unpaid",value:30}]};function tC({title:t,data:e}){return o.jsxs("div",{className:"card p-4 h-full",children:[o.jsx("h3",{className:"font-semibold text-lg mb-4",children:t}),o.jsx("div",{className:"w-full h-64",children:o.jsx(aw,{width:"100%",height:"100%",children:o.jsxs(Tw,{children:[o.jsx(Kn,{data:e,dataKey:"value",nameKey:"name",outerRadius:"80%",label:!0,children:e.map((r,n)=>o.jsx(hu,{fill:nF[n%nF.length]},n))}),o.jsx(Ra,{})]})})})]})}function Jze(){return o.jsxs("div",{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 items-start",children:[o.jsx("div",{children:o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cedula"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"font-semibold text-xl",children:"Revenue"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:o.jsx(A,{label:"Select View",type:"select",options:[{value:"year",label:"Year"},{value:"month",label:"Month"},{value:"day",label:"Day"}]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"General Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",sp.general.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Marriage Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",sp.marriage.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Burial Service Invoice"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",sp.burial.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Cedula"}),o.jsxs("p",{className:"text-lg text-primary-700 font-semibold",children:["PHP ",sp.cedula.toFixed(2)]})]})]})]})]}),o.jsx("hr",{className:"my-6 border-gray-300"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[o.jsx(tC,{title:"General Service Invoice",data:eC.general}),o.jsx(tC,{title:"Marriage Service Invoice",data:eC.marriage}),o.jsx(tC,{title:"Burial Service Invoice",data:eC.burial})]})]})}const Jm="https://staging-engine.testthelink.online",Xze=[],fc=M("generalServiceReceipts/fetchGeneralServiceReceipts",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await lt.get(`${Jm}/generalservicerecipt`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),rC=M("generalServiceReceipts/fetchGeneralServiceReceiptById",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await lt.get(`${Jm}/api/general-service-receipts/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),Ab=M("generalServiceReceipts/createGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return(await lt.post(`${Jm}/generalservicerecipt`,t,{headers:{Authorization:`Bearer ${a}`}})).data}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),nC=M("generalServiceReceipts/updateGeneralServiceReceipt",async({id:t,...e},r)=>{var n,a;try{const s=localStorage.getItem("token");return(await lt.put(`${Jm}/generalservicerecipt/${t}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}})).data}catch(s){return r.rejectWithValue(((a=(n=s.response)==null?void 0:n.data)==null?void 0:a.message)||s.message)}}),Tb=M("generalServiceReceipts/deleteGeneralServiceReceipt",async(t,e)=>{var r,n;try{const a=localStorage.getItem("token");return await lt.delete(`${Jm}/generalservicerecipt/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}}),t}catch(a){return e.rejectWithValue(((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||a.message)}}),nW=pe({name:"generalServiceReceipts",initialState:{receipts:[],currentReceipt:null,isLoading:!1,error:null},reducers:{clearError:t=>{t.error=null},clearCurrentReceipt:t=>{t.currentReceipt=null}},extraReducers:t=>{t.addCase(fc.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fc.fulfilled,(e,r)=>{e.isLoading=!1,e.receipts=Array.isArray(r.payload)?r.payload:[]}).addCase(fc.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipts",console.warn("Failed to fetch general service receipts, using mock data.",e.error),e.receipts=Xze}).addCase(rC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(rC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentReceipt=r.payload}).addCase(rC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch general service receipt"}).addCase(Ab.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ab.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts.push(r.payload)}).addCase(Ab.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to create general service receipt",console.error("Failed to create general service receipt:",e.error)}).addCase(nC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(nC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.receipts.findIndex(a=>a.id===r.payload.id);n!==-1&&(Array.isArray(e.receipts)||(e.receipts=[]),e.receipts[n]=r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload.id&&(e.currentReceipt=r.payload)}).addCase(nC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update general service receipt",console.error("Failed to update general service receipt:",e.error)}).addCase(Tb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Tb.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.receipts)||(e.receipts=[]),e.receipts=e.receipts.filter(n=>n.id!==r.payload),e.currentReceipt&&e.currentReceipt.id===r.payload&&(e.currentReceipt=null)}).addCase(Tb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete general service receipt",console.error("Failed to delete general service receipt:",e.error)})}}),{clearError:gWe,clearCurrentReceipt:yWe}=nW.actions,Qze=nW.reducer,Zze=oe().shape({Status:O().required("Status is required"),InvoiceNumber:O().required("Invoice number is required"),InvoiceDate:Me().required("Date is required"),FundsID:re().required("Fund is required"),Agency:O().required("Agency is required"),PaymentMethodID:re().required("Payment method is required"),Total:re().required("Total amount is required"),CustomerID:re().required("Customer is required"),CustomerName:O().required("Customer name is required"),Remarks:O(),TransactionItemsAll:hn().of(oe().shape({ItemID:re().required("Item ID is required"),ChargeAccountID:re().required("Charges account is required"),Quantity:re().required("Quantity is required").min(1,"Quantity must be at least 1"),Price:re().required("Price is required").min(0,"Price cannot be negative"),Vatable:Yi()})).min(1,"At least one item is required")});function e8e({isOpen:t,onClose:e,selectedReceipt:r,onSubmit:n}){const[a,s]=v.useState("Individual"),[i,l]=v.useState(!1),{customers:c}=V(S=>S.customers),{vendorDetails:u}=V(S=>S.vendorDetails),{funds:d}=V(S=>S.funds),{items:f}=V(S=>S.items),{budgets:m}=V(S=>S.budget),h=ue();v.useEffect(()=>{h(Da()),h(ms()),h(Xr()),h(hs()),h(wo())},[h]);const g=u==null?void 0:u.map(S=>({value:S.ID,label:S.Name})),y=c==null?void 0:c.map(S=>({value:S.ID,label:S.Name})),x=d==null?void 0:d.map(S=>({value:S.ID,label:S.Name})),p=f==null?void 0:f.map(S=>({value:S.ID,label:S.Name})),b=m==null?void 0:m.map(S=>({value:S.ID,label:S.Name})),N={Status:(r==null?void 0:r.Status)||"Requested",InvoiceNumber:(r==null?void 0:r.InvoiceNumber)||"",InvoiceDate:(r==null?void 0:r.InvoiceDate)||new Date().toISOString().split("T")[0],FundsID:(r==null?void 0:r.FundsID)||"",Agency:(r==null?void 0:r.Agency)||"",CustomerName:(r==null?void 0:r.CustomerName)||"",CustomerID:(r==null?void 0:r.CustomerID)||"",Total:(r==null?void 0:r.Total)||0,Remarks:(r==null?void 0:r.Remarks)||"",CheckNumber:(r==null?void 0:r.CheckNumber)||"",MoneyOrder:(r==null?void 0:r.MoneyOrder)||"",PayeeBank:(r==null?void 0:r.PayeeBank)||"",CheckDate:(r==null?void 0:r.CheckDate)||"",MoneyOrderDate:(r==null?void 0:r.MoneyOrderDate)||"",Attachments:(r==null?void 0:r.Attachments)||[],PaymentMethodID:2,TransactionItemsAll:(r==null?void 0:r.TransactionItemsAll)||[]},C=(S,T,k)=>{const E=Array.from(S.target.files).map(P=>P);T("Attachments",[...k.Attachments,...E])},j=(S,T,k)=>{const I=[...k.Attachments];I.splice(S,1),T("Attachments",I)},w=async S=>{const T=new FormData;for(const k in S)if(k!=="Attachments"){const I=typeof S[k]=="object"?JSON.stringify(S[k]):S[k];k==="TransactionItemsAll"?T.append("Items",I):T.append(k,I)}S.Attachments.forEach((k,I)=>{T.append(`Attachments[${I}].File`,k)}),r?(T.append("IsNew","false"),T.append("LinkID",r.LinkID),T.append("ID",r.ID)):T.append("IsNew","true");try{await n(T),console.log("Form submitted with values:",T)}catch(k){console.error("Error submitting form:",k)}finally{e()}};return o.jsxs(ae,{isOpen:t,onClose:e,title:r?"Edit General Service Receipt":"New General Service Receipt",size:"xl",children:[o.jsxs("div",{className:"w-full py-4 flex justify-end gap-4 items-center",children:[o.jsx("button",{type:"button",className:"btn btn-secondary flex-initial",children:"Show List"}),o.jsx("button",{className:"btn btn-primary flex-initial",onClick:()=>l(!0),children:"Add Attachments"}),o.jsx("button",{className:"btn btn-outline flex-initial",children:"Print"})]}),o.jsx($e,{initialValues:N,validationSchema:Zze,onSubmit:w,enableReinitialize:!0,children:({values:S,setFieldValue:T,handleChange:k,isSubmitting:I,errors:E,touched:P})=>o.jsxs(Be,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Basic Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:S==null?void 0:S.Status.toUpperCase()})]}),o.jsx(A,{label:"Invoice Number",name:"InvoiceNumber",type:"text",required:!0,onChange:k,value:S.InvoiceNumber,error:E.InvoiceNumber,touched:P.InvoiceNumber})]}),o.jsx(A,{label:"Date",name:"InvoiceDate",type:"date",onChange:k,value:S.InvoiceDate,required:!0,error:E.InvoiceDate&&P.InvoiceDate}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Agency",name:"Agency",placeholder:"Enter Agency",type:"text",required:!0,onChange:k,value:S.Agency,error:E.Agency,touched:P.Agency}),o.jsx(A,{label:"Fund",name:"FundsID",type:"select",options:x,required:!0,onChange:k,value:S.FundsID,error:E.FundsID,touched:P.FundsID})]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payor Information"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxpayer Type"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>{s("Individual"),T("PayorType","Individual"),T("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Individual"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Individual"}),o.jsx("button",{type:"button",onClick:()=>{s("Corporation"),T("PayorType","Corporation"),T("PayorName","")},className:`px-4 py-2 rounded-md ${a==="Corporation"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Corporation"})]})]}),o.jsx(Sa,{label:"Payor",name:"CustomerName",type:"select",options:a==="Individual"?y:g,required:!0,placeholder:"Select Payor",onSelect:L=>{const $=a==="Individual"?y.find(_=>_.value===L):g.find(_=>_.value===L);T("CustomerName",($==null?void 0:$.label)||""),T("CustomerID",($==null?void 0:$.value)||"")},selectedValue:S.CustomerID,error:E.CustomerName,touched:P.CustomerName})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Items"}),o.jsx(Wr,{name:"TransactionItemsAll",children:({push:L,remove:$})=>o.jsxs("div",{className:"space-y-4",children:[S.TransactionItemsAll.map((_,B)=>{var U,D,R,F,G,W,Z,fe,Ce,ne,K,ie,X,ee,H,z;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end",children:[o.jsx(A,{label:"Item ID",name:`TransactionItemsAll.${B}.ItemID`,type:"select",options:p,required:!0,value:_.ItemID,onChange:k,error:(D=(U=E.TransactionItemsAll)==null?void 0:U[B])==null?void 0:D.ItemID,touched:(F=(R=P.TransactionItemsAll)==null?void 0:R[B])==null?void 0:F.ItemID}),o.jsx(A,{label:"Account",name:`TransactionItemsAll.${B}.ChargeAccountID`,type:"select",options:b,required:!0,value:_.ChargeAccountID,onChange:k,error:(W=(G=E.TransactionItemsAll)==null?void 0:G[B])==null?void 0:W.ChargeAccountID,touched:(fe=(Z=P.TransactionItemsAll)==null?void 0:Z[B])==null?void 0:fe.ChargeAccountID}),o.jsx(A,{label:"Qty",name:`TransactionItemsAll.${B}.Quantity`,type:"number",required:!0,min:"1",value:_.Quantity,onChange:k,error:(ne=(Ce=E.TransactionItemsAll)==null?void 0:Ce[B])==null?void 0:ne.Quantity,touched:(ie=(K=P.TransactionItemsAll)==null?void 0:K[B])==null?void 0:ie.Quantity}),o.jsx(A,{label:"Price",name:`TransactionItemsAll.${B}.Price`,type:"number",required:!0,min:"0",value:_.Price,onChange:k,error:(ee=(X=E.TransactionItemsAll)==null?void 0:X[B])==null?void 0:ee.Price,touched:(z=(H=P.TransactionItemsAll)==null?void 0:H[B])==null?void 0:z.Price}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`TransactionItemsAll.${B}.Vatable`,name:`TransactionItemsAll.${B}.Vatable`,checked:_.Vatable,onChange:()=>T(`TransactionItemsAll.${B}.Vatable`,!_.Vatable),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded"}),o.jsx("label",{htmlFor:`TransactionItemsAll.${B}.Vatable`,className:"ml-2 block text-sm text-neutral-700",children:"Vatable"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"text-sm font-medium",children:["Subtotal:"," ",(_.Quantity*_.Price).toFixed(2)]}),B>0&&o.jsx("button",{type:"button",onClick:()=>$(B),className:"text-red-500 hover:text-red-700",children:o.jsx(dfe,{})})]})]},B)}),o.jsx("button",{type:"button",onClick:()=>L({ItemID:"",ChargeAccountID:"",Quantity:1,Price:0}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Item"})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),o.jsx("div",{className:"mt-1 px-3 py-2 bg-gray-100 rounded-md",children:S.TransactionItemsAll.reduce((L,$)=>L+$.Quantity*$.Price,0).toFixed(2)})]}),o.jsx(A,{label:"Amount in Words",name:"amountInWords",type:"text",value:XV(S.TransactionItemsAll.reduce((L,$)=>L+$.Quantity*$.Price,0)),readOnly:!0})," "]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Payment Method"}),o.jsx("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[{value:2,label:"Cash"},{value:3,label:"Check"},{value:8,label:"Money Order"},{value:9,label:"Treasury Warrant"}].map((L,$)=>o.jsx("button",{type:"button",onClick:()=>T("PaymentMethodID",L.value),className:`px-4 py-2 text-sm font-medium border ${S.PaymentMethodID===L.value?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"} ${$===0?"rounded-l-md":$===3?"rounded-r-md":"border-l-0"}`,children:L.label},L.value))})]}),S.PaymentMethodID===3&&o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Check Number",name:"CheckNumber",type:"text",value:S.CheckNumber,onChange:k,error:E.CheckNumber&&P.CheckNumber}),o.jsx(A,{label:"Bank",name:"PayeeBank",type:"text",value:S.PayeeBank,onChange:k}),o.jsx(A,{label:"Check Date",name:"CheckDate",type:"date",value:S.CheckDate,onChange:k,error:E.CheckDate&&P.CheckDate})]}),S.PaymentMethodID===8&&o.jsxs(o.Fragment,{children:[o.jsx(A,{label:"Money Order Number",name:"MoneyOrder",type:"text",value:S.MoneyOrder,onChange:k,error:E.MoneyOrder&&P.MoneyOrder}),o.jsx(A,{label:"Money Order Date",name:"MoneyOrderDate",type:"date",value:S.MoneyOrderDate,onChange:k,error:E.MoneyOrderDate&&P.MoneyOrderDate})]}),o.jsx(A,{label:"Remarks",name:"Remarks",type:"textarea",value:S.Remarks,onChange:k,rows:2,error:E.Remarks&&P.Remarks})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-4",children:[o.jsx("h3",{className:"font-medium text-lg",children:"Attachments"}),S.Attachments.length>0?o.jsx("div",{className:"space-y-2",children:S.Attachments.map((L,$)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Q_,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("span",{className:"text-sm",children:L.name||L.DataName})]}),o.jsx("button",{type:"button",onClick:()=>j($,T,S),className:"text-red-500 hover:text-red-700",children:o.jsx(un,{className:"h-4 w-4"})})]},$))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No attachments added"})]}),i&&o.jsx(ae,{isOpen:i,onClose:()=>l(!1),title:"Attachments",size:"md",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:o.jsx("label",{className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col items-center justify-center",children:[o.jsx(Q_,{className:"h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to browse or drag and drop files"}),o.jsx("input",{type:"file",className:"hidden",multiple:!0,onChange:L=>{C(L,T,S),l(!1)}})]})})})})}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"save"})]})]})})]})}function aF(){const t=ue(),{receipts:e,isLoading:r}=V(j=>j.generalReceipts),[n,a]=v.useState(!1),[s,i]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null);v.useEffect(()=>{t(fc())},[t]),console.log("generalReceipts",e);const f=()=>{d(null),c(!0)},m=j=>{d(j),i(!0)},h=j=>{d(j),c(!0)},g=()=>{i(!1),d(null)},y=()=>{c(!1),d(null)},x=j=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(j),p=async j=>{try{await t(Tb(j.ID)).unwrap(),t(fc()),vr.success("Receipt deleted successfully.")}catch(w){console.error("Error deleting receipt:",w),vr.error("Failed to delete receipt.")}},b=[{key:"ID",header:"Invoice",sortable:!0,className:"font-medium text-neutral-900",render:j=>o.jsx("div",{className:"flex items-center gap-1",children:j})},{key:"Status",header:"Status",sortable:!0,render:j=>o.jsx("span",{className:`px-2 py-1 rounded ${j==="Posted"?"bg-green-100 text-green-800":j==="Rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:j})},{key:"InvoiceDate",header:"Date",sortable:!0},{key:"CustomerName",header:"Customer Name",sortable:!0,render:j=>(j==null?void 0:j.trim())||"N/A"},{key:"InvoiceNumber",header:"Order No.",sortable:!0},{key:"Total",header:"Amount",sortable:!0,render:j=>x(j),className:"text-right font-medium"},{key:"Remarks",header:"Remarks",sortable:!1,render:j=>j||"",className:"text-gray-500"},{key:"FundsID",header:"Fund",sortable:!0,render:j=>({1:"General Fund",2:"Special Education Fund"})[j]||""},{key:"CheckNumber",header:"Check",sortable:!0,render:j=>j||""},{key:"MoneyOrder",header:"Money Order",sortable:!0,render:j=>j||""},{key:"MoneyOrderDate",header:"Money Order Date",sortable:!0,render:j=>j||""}],N=[{icon:Cm,title:"View",onClick:m,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Se,title:"Edit",onClick:h,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:ul,title:"Delete",onClick:p,className:"text-error-600 hover:text-error-900 p-1 rounded-full hover:bg-error-50"}],C=async j=>{if(j)try{const w=await t(Ab(j)).unwrap();console.log("Operation successful:",w,j),t(fc()),vr.success("Receipt saved successfully.")}catch(w){console.error("Submission failed:",w),vr.error(w.message||"Failed to save receipt")}finally{}};return o.jsxs("div",{children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{children:"General Service Receipt"}),o.jsx("p",{children:"Manage official receipts and collections"})]}),o.jsx("div",{className:"flex space-x-2",children:o.jsxs("button",{type:"button",onClick:f,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Service Receipt"]})})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(ye,{columns:b,data:e,actions:N,loading:r,onRowClick:m})}),o.jsx(e8e,{isOpen:l,onClose:y,selectedReceipt:u,onSubmit:C}),o.jsx(ae,{isOpen:s,onClose:g,title:"General Receipt Details",size:"lg",children:u&&o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 rounded-lg bg-neutral-50 border border-neutral-200",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Receipt Details"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"OR Number"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.receiptNumber})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Date"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:new Date(u.receiptDate).toLocaleDateString()})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Fund"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.fund})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Mode of Payment"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.modeOfPayment})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Payor Information"}),o.jsxs("dl",{className:"space-y-2",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Name"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorName})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx("dt",{className:"text-sm font-medium text-neutral-500",children:"Address"}),o.jsx("dd",{className:"text-sm text-neutral-900 col-span-2",children:u.payorAddress||"N/A"})]})]})]})]}),o.jsx("div",{className:"p-4 bg-success-50 rounded-lg border border-success-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-success-700",children:"Total Amount"}),o.jsx("span",{className:"text-2xl font-bold text-success-700",children:x(u.totalAmount)})]})}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"button",onClick:g,className:"btn btn-outline",children:"Close"}),o.jsx("button",{type:"button",onClick:()=>h(u),className:"btn btn-primary",children:"Edit"})]})]})})]})}const sF=()=>{const[t,e]=v.useState({owner:"",municipality:"MAKATI",checkNumber:"0",previousPayment:"0",receivedFrom:"CEDRIC",taxDeclarationNumber:"",address:"",block:"",lot:"",amountReceived:"",remainingBalance:"0",receivedFrom2:"",advancePayment:!1,year:"2025",until:"2025",amountInWords:"",basicFund:!0,specialEducationFund:!1,previousLandValues:"0",previousImprovement:"0",previousTotalAssessed:"0",previousTotal:"0",presentLandValues:"0",presentImprovement:"0",presentTotalAssessed:"0",discountRate:"0",penaltyRate:"0",payment:"0",dueDateYear:"",installmentPayment:!1,fullPayment:!0}),[r,n]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),[a,s]=v.useState([{id:"1",ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""}]),i=(f,m)=>{e(h=>({...h,[f]:m}))},l=(f,m)=>{const h={id:Date.now().toString(),ownerAddress:"",lotNumber:"",blockNumber:"",tdNo:"",land:"",improvement:"",totalAssessed:"",taxDue:"",payment:""};m([...f,h])},c=(f,m,h)=>{m.length>1&&h(m.filter(g=>g.id!==f))},u=(f,m,h,g,y)=>{y(g.map(x=>x.id===f?{...x,[m]:h}:x))},d=({entries:f,setEntries:m,title:h})=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[o.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-t-lg flex justify-between items-center",children:[o.jsx("h3",{className:"text-lg font-semibold",children:h}),o.jsx("div",{className:"flex gap-2",children:o.jsx(dt,{type:"button",onClick:()=>l(f,m),className:"bg-green-600 hover:bg-green-700 text-white p-2 h-8 w-8",children:o.jsx(NO,{className:"h-4 w-4"})})})]}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner ID"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Owner Address"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Lot Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Block Number"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"T.D No"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Land"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Improvement"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Total Assessed"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Tax Due"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Full Payment"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Penalty"}),o.jsx("th",{className:"border border-gray-300 p-2 text-sm font-medium",children:"Actions"})]})}),o.jsx("tbody",{children:f.map((g,y)=>o.jsxs("tr",{children:[o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:y+1,readOnly:!0,className:"w-full p-1 text-sm bg-gray-50 border-none text-center"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.ownerAddress,onChange:x=>u(g.id,"ownerAddress",x.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.lotNumber,onChange:x=>u(g.id,"lotNumber",x.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.blockNumber,onChange:x=>u(g.id,"blockNumber",x.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.tdNo,onChange:x=>u(g.id,"tdNo",x.target.value,f,m),className:"w-full p-1 text-sm border-none"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.land,onChange:x=>u(g.id,"land",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.improvement,onChange:x=>u(g.id,"improvement",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.totalAssessed,onChange:x=>u(g.id,"totalAssessed",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.taxDue,onChange:x=>u(g.id,"taxDue",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1",children:o.jsx("input",{type:"text",value:g.payment,onChange:x=>u(g.id,"payment",x.target.value,f,m),className:"w-full p-1 text-sm border-none text-right"})}),o.jsx("td",{className:"border border-gray-300 p-1 text-center",children:o.jsx("button",{type:"button",onClick:()=>c(g.id,f,m),className:"btn btn-danger ",disabled:f.length===1,children:o.jsx(un,{className:"h-3 w-3"})})})]},g.id))})]})})})]});return o.jsx("div",{className:"min-h-screen bg-white md:p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(Xde,{className:"h-5 w-5"}),"Basic Information"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(A,{label:"Owner",name:"owner",type:"select",options:[{value:"owner1",label:"Owner 1"},{value:"owner2",label:"Owner 2"}],value:t.owner,onChange:f=>i("owner",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Municipality",name:"municipality",value:t.municipality,onChange:f=>i("municipality",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Check Number",name:"checkNumber",value:t.checkNumber,onChange:f=>i("checkNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Previous Payment",name:"previousPayment",value:t.previousPayment,onChange:f=>i("previousPayment",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Received From",name:"receivedFrom",value:t.receivedFrom,onChange:f=>i("receivedFrom",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(A,{label:"Tax Declaration Number",name:"taxDeclarationNumber",type:"select",options:[{value:"taxDeclarationNumber1",label:"Tax Declaration Number 1"},{value:"taxDeclarationNumber2",label:"Tax Declaration Number 2"}],value:t.taxDeclarationNumber,onChange:f=>i("taxDeclarationNumber",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Address",name:"address",value:t.address,onChange:f=>i("address",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Block",name:"block",value:t.block,onChange:f=>i("block",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Lot",name:"lot",value:t.lot,onChange:f=>i("lot",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Previous Balance Land Values"})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Land Values",name:"previousLandValues",value:t.previousLandValues,onChange:f=>i("previousLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Improvement",name:"previousImprovement",value:t.previousImprovement,onChange:f=>i("previousImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Total Assessed Value",name:"previousTotalAssessed",value:t.previousTotalAssessed,onChange:f=>i("previousTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"General Revision (Year)",name:"dueDateYear",type:"select",options:[{value:"2024",label:"2024"},{value:"2025",label:"2025"},{value:"2026",label:"2026"}],value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"btn btn-primary ",children:"Add"}),o.jsx("button",{className:"btn btn-outline",children:"Remove"})]})]})})]}),o.jsx(d,{entries:r,setEntries:n,title:"Previous Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg",children:[o.jsx("div",{className:"bg-gray-100 p-4 rounded-t-lg",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Present Year Balance"})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Land Values",name:"presentLandValues",value:t.presentLandValues,onChange:f=>i("presentLandValues",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Improvement",name:"presentImprovement",value:t.presentImprovement,onChange:f=>i("presentImprovement",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Total Assessed Value",name:"presentTotalAssessed",value:t.presentTotalAssessed,onChange:f=>i("presentTotalAssessed",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Label10"})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[o.jsx(A,{label:"Discount Rate",name:"discountRate",value:t.discountRate,onChange:f=>i("discountRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Penalty Rate",name:"penaltyRate",value:t.penaltyRate,onChange:f=>i("penaltyRate",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Total",name:"previousTotal",value:t.previousTotal,onChange:f=>i("previousTotal",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsx(A,{label:"Payment",name:"payment",value:t.payment,onChange:f=>i("payment",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsx(A,{label:"Due Date (Year)",name:"dueDateYear",value:t.dueDateYear,onChange:f=>i("dueDateYear",f.target.value),className:"border-gray-200 focus:border-green-500 focus:ring-green-500"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.installmentPayment,onChange:()=>{i("installmentPayment",!0),i("fullPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Installment Payment"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"paymentType",checked:t.fullPayment,onChange:()=>{i("fullPayment",!0),i("installmentPayment",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Full Payment"})]})]})]})]})]})]}),o.jsx(d,{entries:a,setEntries:s,title:"Present Year Balance - Detailed Property List"}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:o.jsxs("h3",{className:"text-2xl font-semibold flex items-center gap-2",children:[o.jsx(wO,{className:"h-5 w-5"}),"Payment Summary"]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(A,{label:"Amount Received",name:"amountReceived",value:t.amountReceived,onChange:f=>i("amountReceived",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"}),o.jsx(A,{label:"Remaining Balance",name:"remainingBalance",value:t.remainingBalance,onChange:f=>i("remainingBalance",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 text-right font-mono"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsx(A,{label:"Received From",name:"receivedFrom2",value:t.receivedFrom2,onChange:f=>i("receivedFrom2",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500"}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:t.advancePayment,onChange:f=>i("advancePayment",f.target.checked),className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm font-medium",children:"Advance Payment"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(A,{label:"Year",name:"year",value:t.year,onChange:f=>i("year",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Until"}),o.jsx(A,{label:"",name:"until",value:t.until,onChange:f=>i("until",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500 w-20"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fund Type"}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.basicFund,onChange:()=>{i("basicFund",!0),i("specialEducationFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Basic Fund"})]}),o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"radio",name:"fundType",checked:t.specialEducationFund,onChange:()=>{i("specialEducationFund",!0),i("basicFund",!1)},className:"text-green-600 focus:ring-green-500"}),o.jsx("span",{className:"text-sm",children:"Special Education Fund"})]})]})]})]}),o.jsx(A,{label:"Amount In Words",name:"amountInWords",value:t.amountInWords,onChange:f=>i("amountInWords",f.target.value),className:"border-green-200 focus:border-green-500 focus:ring-green-500",placeholder:"Enter amount in words..."})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pb-8",children:[o.jsx("button",{variant:"outline",className:"btn btn-outline",children:"Cancel"}),o.jsx(dt,{className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:"Save Draft"})]})]})})},t8e=[{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"Active"},{id:2,tdNo:"TD-002",owner:"Maria Santos",address:"456 Pine St",beneficialUser:"Carlos Santos",beneficialAddress:"456 Pine St",octTctCloaNo:"OCT-456",cct:"CCT-789",dated:"2024-02-15",propertyIdentificationNo:"67890",tin:"456-789-012",ownerTelephoneNo:"9876543210",beneficialTin:"456-789-012",beneficialTelephoneNo:"9876543210",surveyNo:"S-002",lotNo:"L-002",blockNo:"B-002",boundaries:{taxable:!0,north:"Street E",south:"Street F",east:"Street G",west:"Street H"},cancelledTdNo:"",cancelledOwner:"",effectivityOfAssessment:"2024-01-01",previousOwner:"",previousAssessedValue:"0",propertyDetails:{kind:"Land",numberOf:"1",description:"Commercial lot"},assessmentDetails:{kind:"Land",actualUse:"Commercial",classification:"Class 2",areaSize:"Large",assessmentLevel:"30%",marketValue:"2500000"},status:"Active"}];function r8e(){ue();const{realPropertyTaxes:t,isLoading:e}=V(b=>b.realPropertyTax),[r,n]=v.useState("list"),[a,s]=v.useState(null),[i,l]=v.useState(""),c=t&&t.length>0?t:t8e,u=()=>{s(null),n("form")},d=b=>{s(b),n("details")},f=b=>{s(b),n("form")},m=b=>{console.log("Print property:",b)},h=()=>{n("list"),s(null)},g=c==null?void 0:c.filter(b=>{const N=i.toLowerCase();return b.tdNo.toLowerCase().includes(N)||b.owner.toLowerCase().includes(N)||b.address.toLowerCase().includes(N)||b.propertyIdentificationNo.toLowerCase().includes(N)}),y=[{key:"tdNo",header:"TD No.",sortable:!0,className:"font-medium text-neutral-900"},{key:"owner",header:"Owner",sortable:!0},{key:"address",header:"Address",sortable:!0},{key:"propertyIdentificationNo",header:"Property ID",sortable:!0},{key:"dated",header:"Date",sortable:!0,render:b=>new Date(b).toLocaleDateString()},{key:"status",header:"Status",sortable:!0,render:b=>x(b)}],x=b=>{let N="bg-neutral-100 text-neutral-800";switch(b){case"Active":N="bg-success-100 text-success-800";break;case"Inactive":N="bg-warning-100 text-warning-800";break;case"Cancelled":N="bg-error-100 text-error-800";break}return o.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${N}`,children:b})},p=[{icon:Cm,title:"View",onClick:d,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"},{icon:Se,title:"Edit",onClick:f,className:"text-primary-600 hover:text-primary-900 p-1 rounded-full hover:bg-primary-50"}];return o.jsxs("div",{className:"container mx-auto  md:px-4 md:py-8",children:[r==="list"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Real Property Tax Records"}),o.jsx("p",{className:"text-gray-600",children:"Manage real property tax assessments"})]}),o.jsxs("button",{type:"button",onClick:u,className:"btn btn-primary flex items-center",children:[o.jsx(Te,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"New Property"]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsx(ye,{columns:y,data:g,actions:p,loading:e,onRowClick:d})})]}),r==="form"&&o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a?"Edit Real Property Tax Record":"Create New Real Property Tax Record"}),o.jsx("p",{className:"text-gray-600",children:a?"Update the property details":"Fill out the form to create a new property record"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(sF,{initialData:a,onCancel:h,onSubmitSuccess:h})})]}),r==="details"&&a&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-6 gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:h,className:"mr-4 p-1 rounded-full hover:bg-neutral-100",children:o.jsx(fa,{className:"h-5 w-5 text-neutral-600"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Property Details"}),o.jsx("p",{className:"text-gray-600",children:"View and manage property tax details"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>f(a),className:"btn btn-primary flex items-center",children:[o.jsx(Se,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Edit"]}),o.jsxs("button",{type:"button",onClick:()=>m(a),className:"btn btn-outline flex items-center",children:[o.jsx(tl,{className:"h-5 w-5 mr-2","aria-hidden":"true"}),"Print"]})]})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-2 sm:p-6",children:o.jsx(sF,{initialData:a,readOnly:!0,onBack:h})})]})]})}function n8e({funds:t=[],employees:e=[],accLoading:r=!1,onView:n,onGenerateJournal:a,onExportExcel:s}){const i=v.useRef(null),l=oe({endDate:O().required("Date End is required"),fundID:O().required("Fund is required"),approverID:O().required("Approver is required"),ledger:O().required("Ledger is required")}),c={endDate:"",fundID:"",approverID:"",ledger:""},u=(d,{setSubmitting:f})=>{const m=i.current;m==="view"?n(d):m==="generate"?a(d):m==="export"&&s(d),f(!1),i.current=null};return o.jsx($e,{initialValues:c,validationSchema:l,onSubmit:u,validateOnMount:!0,children:({values:d,errors:f,touched:m,handleChange:h,handleBlur:g,isSubmitting:y,setFieldValue:x})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[o.jsx(A,{label:"Date End",name:"endDate",type:"date",value:d.endDate,onChange:h,onBlur:g,error:f.endDate,touched:m.endDate,required:!0}),o.jsx(A,{type:"select",label:"Fund",name:"fundID",options:t.map(p=>({value:p.ID,label:p.Name})),value:d.fundID,onChange:h,onBlur:g,error:f.fundID,touched:m.fundID,required:!0}),o.jsx(A,{label:"Ledger",name:"ledger",type:"select",value:d.ledger,onChange:h,onBlur:g,options:[{value:"General Ledger",label:"General Ledger"},{value:"Subsidiary Ledger",label:"Subsidiary Ledger"}],error:f.ledger,touched:m.ledger,required:!0}),o.jsx(A,{label:"Approver",name:"approverID",type:"select",options:e.map(p=>{var b;return{value:p.ID,label:p.FirstName+" "+p.MiddleName+" "+p.LastName+" - "+((b=p==null?void 0:p.Department)==null?void 0:b.Name)}}),value:d.approverID,onChange:h,onBlur:g,error:f.approverID,touched:m.approverID,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,onClick:()=>i.current="view",children:"View"}),o.jsx("button",{type:"button",className:"btn btn-secondary",disabled:y,children:"Generate Cashbook"}),o.jsx("button",{type:"submit",className:"btn btn-outline",disabled:y,onClick:()=>i.current="export",children:"Export to Excel"})]})]})})}const a8e="https://staging-engine.testthelink.online",s8e={trialBalances:[],isLoading:!1,error:null},kb=M("trialBalance/fetchTrialBalances",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${a8e}/trialBalanceReport/view`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.error||a.message||"Failed to fetch");return a}catch(r){return console.error("Error fetching trial balance:",r),e.rejectWithValue(r.message)}}),aC=M("trialBalance/exportTrialBalances",async t=>!0),aW=pe({name:"trialBalance",initialState:s8e,reducers:{resetTrialBalanceState:t=>{t.trialBalances=[],t.error=null}},extraReducers:t=>{t.addCase(kb.pending,e=>{e.isLoading=!0,e.error=null}).addCase(kb.fulfilled,(e,r)=>{e.isLoading=!1,e.trialBalances=r.payload}).addCase(kb.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(aC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(aC.fulfilled,e=>{e.isLoading=!1}).addCase(aC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),{resetTrialBalanceState:o8e}=aW.actions,i8e=aW.reducer;function l8e(){const t="https://staging-engine.testthelink.online",e=ue(),{trialBalances:r,isLoading:n,error:a}=V(f=>f.trialBalance),{funds:s}=V(f=>f.funds),{employees:i}=V(f=>f.employees),l=f=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(f);v.useEffect(()=>{e(o8e()),e(Xr()),e(Un())},[e]);const c=[{key:"AccountCode",header:"Account Code",sortable:!0},{key:"AccountName",header:"Account Name",sortable:!0},{key:"Debit",header:"Debit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"Credit",header:"Credit",sortable:!0,render:f=>l(f),className:"text-right"},{key:"EndDate",header:"End Date",sortable:!0},{key:"Funds",header:"Funds",sortable:!0},{key:"FullName",header:"Full Name",sortable:!0},{key:"Position",header:"Position",sortable:!0},{key:"Municipality",header:"Municipality",sortable:!0}],u=async f=>{try{const m=await fetch(`${t}/trialBalanceReport/exportExcel`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endDate:f.endDate,fundID:f.fundID,approverID:f.approverID,ledger:f.ledger})});if(!m.ok)throw new Error("Server response was not ok");const h=await m.blob(),g=m.headers.get("Content-Disposition");let y="Trial_Balance.xlsx";g&&g.includes("filename=")&&(y=g.split("filename=")[1].replace(/['"]/g,""));const x=window.URL.createObjectURL(h),p=document.createElement("a");p.href=x,p.download=y,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(x)}catch(m){console.error("Export failed:",m),alert(m.message||"Failed to export trial balance")}},d=f=>{e(kb(f))};return o.jsxs("div",{children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{children:"Trial Balance"}),o.jsx("p",{children:"Generate trial balance reports."})]}),o.jsx("div",{className:"mt-4 p-6 bg-white rounded-md shadow",children:o.jsx(n8e,{funds:s,employees:i,onExportExcel:u,onView:d,onClose:()=>{}})}),a&&o.jsx("div",{className:"mt-4 p-4 bg-error-50 border border-error-200 rounded-md",children:o.jsx("p",{className:"text-error-700",children:a})}),o.jsx("div",{className:"mt-6",children:o.jsx(ye,{columns:c,data:r,loading:n,pagination:!0})})]})}const c8e=oe().shape({budgetName:O().required("Budget name is required"),fiscalYear:O().required("Fiscal year is required"),department:O().required("Department is required"),subDepartment:O().required("Sub department is required"),chartOfAccounts:O().required("Chart of accounts is required"),fund:O().required("Fund is required"),project:O().required("Project is required"),allotment:re().integer().required("Allotment is required"),remarks:O().required("Remarks is required"),appropriation:re().integer().required("Appropriation is required"),balance:re().integer().required("Balance is required"),releasedAllotments:re().integer().required("Released allotments is required"),releasedBalance:re().integer().required("Released balance is required")}),oF={budgetName:"",fiscalYear:1,department:1,subDepartment:1,chartOfAccounts:1,fund:1,project:1,appropriation:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",releasedAllotments:0,releasedBalance:0},u8e=[{value:1,label:"FY 202324"},{value:2,label:"FY 202425"},{value:3,label:"FY 202526"}],d8e=[{value:1,label:"Finance"},{value:2,label:"Human Resources"},{value:3,label:"Information Technology"}],f8e=[{value:1,label:"Accounts Payable"},{value:2,label:"Recruitment"},{value:3,label:"Infrastructure Support"}],m8e=[{value:1,label:"Cash and Cash Equivalents"},{value:2,label:"Accounts Receivable"},{value:3,label:"Office Supplies Expense"}],h8e=[{value:1,label:"ERP Implementation"},{value:2,label:"Employee Onboarding Automation"},{value:3,label:"Cloud Migration"}];function p8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...oF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance}):a(oF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:c8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Budget Name",name:"budgetName",type:"text",onChange:u,onBlur:d,value:i.budgetName,error:l.budgetName,touched:c.budgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"fiscalYear",type:"select",onChange:u,onBlur:d,value:i.fiscalYear,error:l.fiscalYear,touched:c.fiscalYear,options:u8e,required:!0}),o.jsx(A,{label:"Department",name:"department",type:"select",onChange:u,onBlur:d,value:i.department,error:l.department,touched:c.department,options:d8e,required:!0}),o.jsx(A,{label:"Sub-Department",name:"subDepartment",type:"select",onChange:u,onBlur:d,value:i.subDepartment,error:l.subDepartment,touched:c.subDepartment,options:f8e,required:!0}),o.jsx(A,{label:"Chart of Accounts",name:"chartOfAccounts",type:"select",onChange:u,onBlur:d,value:i.chartOfAccounts,error:l.chartOfAccounts,touched:c.chartOfAccounts,options:m8e,required:!0}),o.jsx(A,{label:"Fund",name:"fund",type:"select",onChange:u,onBlur:d,value:i.fund,error:l.fund,touched:c.fund,options:[{value:"1",label:"General Fund"}],required:!0}),o.jsx(A,{label:"Project",name:"project",type:"select",onChange:u,onBlur:d,value:i.project,error:l.project,touched:c.project,options:h8e,required:!0}),o.jsx(A,{label:"Allotment",name:"allotment",onChange:u,onBlur:d,value:i.allotment,error:l.allotment,touched:c.allotment,type:"number",required:!0}),o.jsx(A,{label:"Appropriation",name:"appropriation",type:"number",onChange:u,onBlur:d,value:i.appropriation,error:l.appropriation,touched:c.appropriation,required:!0}),o.jsx(A,{label:"Balance",name:"balance",type:"number",onChange:u,onBlur:d,value:i.balance,error:l.balance,touched:c.balance,required:!0}),o.jsx(A,{label:"Released Allotments",name:"releasedAllotments",type:"number",onChange:u,onBlur:d,value:i.releasedAllotments,error:l.releasedAllotments,touched:c.releasedAllotments,required:!0}),o.jsx(A,{type:"number",label:"Released Balance",name:"releasedBalance",onChange:u,onBlur:d,value:i.releasedBalance,error:l.releasedBalance,touched:c.releasedBalance,required:!0}),o.jsx(A,{label:"Remarks",name:"remarks",type:"textarea",onChange:u,onBlur:d,value:i.remarks,error:l.remarks,touched:c.remarks,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const sC="https://staging-engine.testthelink.online",g8e=()=>{const{user:t}=V(h=>h.auth),[e,r]=v.useState([]),[n,a]=v.useState(!1),[s,i]=v.useState(!1),l=["Name","Fiscal Year","Department","Sub Department","Chart of Accounts","Fund","Project","Appropriation","Appropriation Balance","Total Amount","Allotment","Allotment Balance"],c=async()=>{try{const g=await(await fetch(`${sC}/getAllotmentList`,{method:"GET"})).json();if(g!=null&&g.status){const{data:y,status:x}=g||{};r(y||[])}else console.log("Something went wrong")}catch(h){throw new Error(h.message)}},u=async h=>{try{await(await fetch(`${sC}/budget/createOrUpdateBudgetAllotment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({IsNew:"true",AppropriationBalance:123.45,budgetId:2,amount:100,remarks:"this is ok",linkID:"",attachments:"",fiscalYear:8,departmentId:1,subDepartmentId:1,projectName:"dfsaf",fundSource:"2",userId:t==null?void 0:t.ID,ChartofAccountsID:123,Appropriation:123.45,TotalAmount:123.45,Change:123.45,Supplemental:123.45,Transfer:123.45,Released:123.45,isNew:"true",AllotmentBalance:123.45,ChargedAllotment:123.45})})).json()&&(c(),a(!1),toast.success("Allotment added successfully"))}catch(g){throw new Error(g.message)}},d=async h=>{try{await(await fetch(`${sC}/budget/${h==null?void 0:h.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({IsNew:"true",AppropriationBalance:123.45,budgetId:2,amount:100,remarks:"this is ok",linkID:"",attachments:"",fiscalYear:8,departmentId:1,subDepartmentId:1,projectName:"dfsaf",fundSource:"2",userId:t==null?void 0:t.ID,ChartofAccountsID:123,Appropriation:123.45,TotalAmount:123.45,Change:123.45,Supplemental:123.45,Transfer:123.45,Released:123.45,isNew:"true",AllotmentBalance:123.45,ChargedAllotment:123.45})})).json()&&(c(),a(!1),toast.success("Budget updated successfully"))}catch(g){throw new Error(g.message)}},f=h=>{s?d(h):u()},m=h=>{i(h),a(!0)};return v.useEffect(()=>{(e==null?void 0:e.length)===0&&c()},[e]),o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Budget Allotment"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("div",{className:"w-full md:w-56",children:o.jsx("input",{type:"text",placeholder:"Search..."})}),o.jsx("div",{children:o.jsxs("select",{name:"department",id:"department",children:[o.jsx("option",{value:"",children:"Select Department"}),o.jsx("option",{value:"operation",children:"Operation"}),o.jsx("option",{value:"management",children:"Management"})]})}),o.jsx("div",{children:o.jsxs("select",{name:"subDepartment",id:"subDepartment",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),o.jsx("option",{value:"operation",children:"Operation"}),o.jsx("option",{value:"management",children:"Management"})]})}),o.jsx("div",{children:o.jsxs("select",{name:"chartOfAccounts",id:"chartOfAccounts",children:[o.jsx("option",{value:"",children:"Select Account"}),o.jsx("option",{value:"operation",children:"Operation"}),o.jsx("option",{value:"management",children:"Management"})]})})]}),o.jsx("div",{children:o.jsxs("button",{onClick:()=>m(null),className:"btn",children:[o.jsx(ru,{className:"-ml-0.5 mr-2 h-5 w-5","aria-hidden":"true"}),"Add"]})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[l==null?void 0:l.map((h,g)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:h})),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(h=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.Name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.FiscalYear}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.Department}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.SubDepartment}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.ChartOfAccounts}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.Fund}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.Project}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.Appropriation}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.AppropriationBalance}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.TotalAmount}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.Allotment}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:h.AllotmentBalance}),o.jsxs("td",{className:"px-6 py-4 flex items-center space-x-4 text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>m(item),className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Edit"}),o.jsx("button",{className:"hidden text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Delete"})]})]},h.email))})]})})})})]})]}),o.jsx(ae,{size:"md",isOpen:n,onClose:()=>a(!1),title:s?"Edit Allotment":"Add New Allotment",children:o.jsx(p8e,{onSubmit:f,initialData:s,onClose:()=>a(!1)})})]})},y8e=()=>o.jsx("div",{className:"bg-white shadow-sm rounded-lg border border-neutral-200 py-12",children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),o.jsx("h3",{className:"text-lg font-medium text-neutral-400",children:"There is no record to display"})]})}),op="https://staging-engine.testthelink.online",b8e=()=>{const{user:t}=V(p=>p.auth),{departments:e}=V(p=>p.departments),{subdepartments:r}=V(p=>p.subdepartments),{accounts:n}=V(p=>p.chartOfAccounts),[a,s]=v.useState([]),[i,l]=v.useState(!1),[c,u]=v.useState(!1),d=["Name","Fiscal Year","Department","Sub Department","Chart of Accounts","Fund","Project","Appropriation","Appropriation Balance","Total Amount","Allotment","Allotment Balance","Charges","Pre Encumbr","Encumbrance","January","February","March","April","May","June","July","August","September","October","November","December"],f=async()=>{try{const b=await(await fetch(`${op}/budget`,{method:"GET"})).json();if(b!=null&&b.status){const{items:N,status:C,...j}=b||{};s((b==null?void 0:b.items)||[])}else console.log("Something went wrong")}catch(p){throw new Error(p.message)}},m=async p=>{try{await(await fetch(`${op}/budget/${p}`,{method:"DELETE"})).json()&&(f(),De.success("Budget deleted successfully"))}catch(b){throw new Error(b.message)}},h=async p=>{try{await(await fetch(`${op}/budget`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({FiscalYearID:p==null?void 0:p.fiscalYear,FundID:p==null?void 0:p.fund,ProjectID:p==null?void 0:p.project,Name:p==null?void 0:p.budgetName,DepartmentID:p==null?void 0:p.department,SubDepartmentID:p==null?void 0:p.subDepartment,ChartofAccountsID:p==null?void 0:p.chartOfAccounts,Appropriation:p==null?void 0:p.appropriation,TotalAmount:p==null?void 0:p.totalAmount,AppropriationBalance:p==null?void 0:p.charges,Charges:p==null?void 0:p.charges,January:p==null?void 0:p.january,February:p==null?void 0:p.february,March:p==null?void 0:p.march,April:p==null?void 0:p.april,May:p==null?void 0:p.may,June:p==null?void 0:p.june,July:p==null?void 0:p.july,August:p==null?void 0:p.august,September:p==null?void 0:p.september,October:p==null?void 0:p.october,November:p==null?void 0:p.november,December:p==null?void 0:p.december,CreatedBy:t==null?void 0:t.UserName,CreatedDate:new Date().toISOString(),ModifyBy:t==null?void 0:t.UserName,ModifyDate:new Date().toISOString()})})).json()&&(f(),l(!1),De.success("Budget added successfully"))}catch(b){throw new Error(b.message)}},g=async p=>{try{await(await fetch(`${op}/budget/${p==null?void 0:p.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({FiscalYearID:p==null?void 0:p.fiscalYear,FundID:p==null?void 0:p.fund,ProjectID:p==null?void 0:p.project,Name:p==null?void 0:p.budgetName,DepartmentID:p==null?void 0:p.department,SubDepartmentID:p==null?void 0:p.subDepartment,ChartofAccountsID:p==null?void 0:p.chartOfAccounts,Appropriation:p==null?void 0:p.appropriation,TotalAmount:p==null?void 0:p.totalAmount,AppropriationBalance:p==null?void 0:p.charges,Charges:p==null?void 0:p.charges,January:p==null?void 0:p.january,February:p==null?void 0:p.february,March:p==null?void 0:p.march,April:p==null?void 0:p.april,May:p==null?void 0:p.may,June:p==null?void 0:p.june,July:p==null?void 0:p.july,August:p==null?void 0:p.august,September:p==null?void 0:p.september,October:p==null?void 0:p.october,November:p==null?void 0:p.november,December:p==null?void 0:p.december,CreatedBy:t==null?void 0:t.UserName,CreatedDate:new Date().toISOString(),ModifyBy:t==null?void 0:t.UserName,ModifyDate:new Date().toISOString()})})).json()&&(f(),l(!1),De.success("Budget updated successfully"))}catch(b){throw new Error(b.message)}},y=p=>{c?g(p):h(p)},x=p=>{u(p),l(!0)};return v.useEffect(()=>{(a==null?void 0:a.length)===0&&f()},[a]),o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Budget Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("div",{className:"w-full md:w-56",children:o.jsx("input",{type:"text",placeholder:"Search..."})}),o.jsx("div",{children:o.jsxs("select",{name:"department",id:"department",children:[o.jsx("option",{value:"",children:"Select Department"}),e==null?void 0:e.map(p=>o.jsx("option",{value:p==null?void 0:p.ID,children:p==null?void 0:p.Name},p==null?void 0:p.ID))]})}),o.jsx("div",{children:o.jsxs("select",{name:"subDepartment",id:"subDepartment",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),r==null?void 0:r.map(p=>o.jsx("option",{value:p==null?void 0:p.ID,children:p==null?void 0:p.Name},p==null?void 0:p.ID))]})}),o.jsx("div",{children:o.jsxs("select",{name:"chartOfAccounts",id:"chartOfAccounts",children:[o.jsx("option",{value:"",children:"Select Account"}),n==null?void 0:n.map(p=>o.jsx("option",{value:p==null?void 0:p.ID,children:p==null?void 0:p.Name},p==null?void 0:p.ID))]})})]}),o.jsx("div",{children:o.jsxs("button",{onClick:()=>x(null),className:"btn",children:[o.jsx(ru,{className:"-ml-0.5 mr-2 h-5 w-5","aria-hidden":"true"}),"Add"]})})]}),(a==null?void 0:a.length)>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[d==null?void 0:d.map((p,b)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:p},p)),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((p,b)=>{var N,C,j;return o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.FiscalYear)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((N=p==null?void 0:p.Department)==null?void 0:N.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((C=p==null?void 0:p.SubDepartment)==null?void 0:C.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((j=p==null?void 0:p.ChartofAccounts)==null?void 0:j.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.FundId)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.ProjectID)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.Appropriation)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.AppropriationBalance)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.TotalAmount)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.Allotment)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.AllotmentBalance)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.ChargedAllotment)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.PreEncumbrance)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.Encumbrance)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.January)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.February)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.March)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.April)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.May)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.June)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.June)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.August)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.September)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.October)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.November)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(p==null?void 0:p.December)||"N/A"}),o.jsxs("td",{className:"px-6 py-4 flex items-center space-x-4 text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>x(p),className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Edit"}),o.jsx("button",{onClick:()=>m(p==null?void 0:p.ID),className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Delete"})]})]},b)})})]})})})}):o.jsx(y8e,{})]})]}),o.jsx(ae,{size:"md",isOpen:i,onClose:()=>l(!1),title:c?"Edit Budget":"Add New Budget",children:o.jsx(Ij,{onSubmit:y,initialData:c,onClose:()=>l(!1)})})]})},x8e="https://staging-engine.testthelink.online",v8e=()=>{const{departments:t}=V(l=>l.departments),{subdepartments:e}=V(l=>l.subdepartments),{accounts:r}=V(l=>l.chartOfAccounts),[n,a]=v.useState([]),s=["Name","Fiscal Year","Department","Sub Department","Chart of Accounts","Fund","Project","Appropriation","Appropriation Balance","Total Amount","Allotment","Allotment Balance","Charges","Pre Encumbr","Encumbrance","January","February","March","April","May","June","July","August","September","October","November","December"],i=async()=>{try{const c=await(await fetch(`${x8e}/budget/budgetlist`,{method:"GET"})).json();c.success?a(c.data||[]):console.log("Something went wrong")}catch(l){throw new Error(l.message)}};return v.useEffect(()=>{(n==null?void 0:n.length)===0&&i()},[n]),o.jsx(o.Fragment,{children:o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Budget Summary"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("div",{className:"w-full md:w-56",children:o.jsx("input",{type:"text",placeholder:"Search..."})}),o.jsx("div",{children:o.jsxs("select",{name:"department",id:"department",children:[o.jsx("option",{value:"",children:"Select Department"}),t==null?void 0:t.map(l=>o.jsx("option",{value:l==null?void 0:l.ID,children:l==null?void 0:l.Name},l==null?void 0:l.ID))]})}),o.jsx("div",{children:o.jsxs("select",{name:"subDepartment",id:"subDepartment",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),e==null?void 0:e.map(l=>o.jsx("option",{value:l==null?void 0:l.ID,children:l==null?void 0:l.Name},l==null?void 0:l.ID))]})}),o.jsx("div",{children:o.jsxs("select",{name:"chartOfAccounts",id:"chartOfAccounts",children:[o.jsx("option",{value:"",children:"Select Account"}),r==null?void 0:r.map(l=>o.jsx("option",{value:l==null?void 0:l.ID,children:l==null?void 0:l.Name},l==null?void 0:l.ID))]})})]}),o.jsx("div",{})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:s==null?void 0:s.map((l,c)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:l},c))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n==null?void 0:n.map(l=>{var c,u,d,f;return o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.FiscalYearID)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((c=l==null?void 0:l.Department)==null?void 0:c.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((u=l==null?void 0:l.SubDepartment)==null?void 0:u.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.ChartOfAccounts)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((d=l==null?void 0:l.Funds)==null?void 0:d.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((f=l==null?void 0:l.Project)==null?void 0:f.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.Appropriation)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.AppropriationBalance)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.TotalAmount)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.ChargedAllotment)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.AllotmentBalance)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.Charges)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.PreEncumbrance)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.Encumbrance)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.January)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.February)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.March)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.April)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.May)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.June)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.June)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.August)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.September)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.October)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.November)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(l==null?void 0:l.December)||"N/A"})]},l.email)})})]})})})})]})]})})},j8e=oe().shape({budgetName:O().required("Budget name is required"),fiscalYear:O().required("Fiscal year is required"),department:O().required("Department is required"),subDepartment:O().required("Sub department is required"),chartOfAccounts:O().required("Chart of accounts is required"),fund:O().required("Fund is required"),project:O().required("Project is required"),supplemental:re().integer().required("Allotment is required"),remarks:O().required("Remarks is required"),appropriation:re().integer().required("Appropriation is required"),balance:re().integer().required("Balance is required"),releasedAllotments:re().integer().required("Released allotments is required"),releasedBalance:re().integer().required("Released balance is required")}),iF={budgetName:"",fiscalYear:1,department:1,subDepartment:1,chartOfAccounts:1,fund:1,project:1,supplemental:0,charges:0,totalAmount:0,balance:0,allotment:0,remarks:"",appropriation:0,releasedAllotments:0,releasedBalance:0},w8e=[{value:1,label:"FY 202324"},{value:2,label:"FY 202425"},{value:3,label:"FY 202526"}],N8e=[{value:1,label:"Finance"},{value:2,label:"Human Resources"},{value:3,label:"Information Technology"}],C8e=[{value:1,label:"Accounts Payable"},{value:2,label:"Recruitment"},{value:3,label:"Infrastructure Support"}],S8e=[{value:1,label:"Cash and Cash Equivalents"},{value:2,label:"Accounts Receivable"},{value:3,label:"Office Supplies Expense"}],A8e=[{value:1,label:"ERP Implementation"},{value:2,label:"Employee Onboarding Automation"},{value:3,label:"Cloud Migration"}];function T8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...iF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance}):a(iF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:j8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Budget Name",name:"budgetName",type:"text",onChange:u,onBlur:d,value:i.budgetName,error:l.budgetName,touched:c.budgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"fiscalYear",type:"select",onChange:u,onBlur:d,value:i.fiscalYear,error:l.fiscalYear,touched:c.fiscalYear,options:w8e,required:!0}),o.jsx(A,{label:"Department",name:"department",type:"select",onChange:u,onBlur:d,value:i.department,error:l.department,touched:c.department,options:N8e,required:!0}),o.jsx(A,{label:"Sub-Department",name:"subDepartment",type:"select",onChange:u,onBlur:d,value:i.subDepartment,error:l.subDepartment,touched:c.subDepartment,options:C8e,required:!0}),o.jsx(A,{label:"Chart of Accounts",name:"chartOfAccounts",type:"select",onChange:u,onBlur:d,value:i.chartOfAccounts,error:l.chartOfAccounts,touched:c.chartOfAccounts,options:S8e,required:!0}),o.jsx(A,{label:"Fund",name:"fund",type:"select",onChange:u,onBlur:d,value:i.fund,error:l.fund,touched:c.fund,options:[{value:"1",label:"General Fund"}],required:!0}),o.jsx(A,{label:"Project",name:"project",type:"select",onChange:u,onBlur:d,value:i.project,error:l.project,touched:c.project,options:A8e,required:!0}),o.jsx(A,{label:"Supplemental",name:"supplemental",onChange:u,onBlur:d,value:i.supplemental,error:l.supplemental,touched:c.supplemental,type:"number",required:!0}),o.jsx(A,{label:"Appropriation",name:"appropriation",type:"number",onChange:u,onBlur:d,value:i.appropriation,error:l.appropriation,touched:c.appropriation,required:!0}),o.jsx(A,{label:"Balance",name:"balance",type:"number",onChange:u,onBlur:d,value:i.balance,error:l.balance,touched:c.balance,required:!0}),o.jsx(A,{label:"Released Allotments",name:"releasedAllotments",type:"number",onChange:u,onBlur:d,value:i.releasedAllotments,error:l.releasedAllotments,touched:c.releasedAllotments,required:!0}),o.jsx(A,{type:"number",label:"Released Balance",name:"releasedBalance",onChange:u,onBlur:d,value:i.releasedBalance,error:l.releasedBalance,touched:c.releasedBalance,required:!0}),o.jsx(A,{label:"Remarks",name:"remarks",type:"textarea",onChange:u,onBlur:d,value:i.remarks,error:l.remarks,touched:c.remarks,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const k8e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(!1),a=["Name","Fiscal Year","Department","Sub Department","Chart of Accounts","Fund","Project","Appropriation","Appropriation Balance","Total Amount","Allotment","Allotment Balance"],s=[{Name:"Travelling E...",FiscalYear:"january to d...",Department:"Municipal Di...",SubDepartment:"Network Op...",ChartOfAccounts:"Travelling E...",Fund:"General Fund",Project:"No Project",Appropriation:"1,00,000.00",AppropriationBalance:"-8,45,000.00",TotalAmount:"1,55,000.00",Allotment:"1,00,000.00",AllotmentBalance:"1,00,000.00"},{Name:"Accountable...",FiscalYear:"january to d...",Department:"Accounting",SubDepartment:"Network Op...",ChartOfAccounts:"Accountable...",Fund:"General Fund",Project:"No Project",Appropriation:"21.00",AppropriationBalance:"0.00",TotalAmount:"21.00",Allotment:"250.00",AllotmentBalance:"250.00"},{Name:"Investments",FiscalYear:"feb aug",Department:"Accounting",SubDepartment:"Payroll",ChartOfAccounts:"Investments",Fund:"General Fund",Project:"No Project",Appropriation:"60,000.00",AppropriationBalance:"60,000.00",TotalAmount:"60,000.00",Allotment:"0.00",AllotmentBalance:"0.00"},{Name:"Cash - Local...",FiscalYear:"january to d...",Department:"Office of the...",SubDepartment:"Network Op...",ChartOfAccounts:"Cash - Local...",Fund:"General Fund",Project:"No Project",Appropriation:"0.00",AppropriationBalance:"0.00",TotalAmount:"10.00",Allotment:"0.00",AllotmentBalance:"0.00"},{Name:"Allowance f...",FiscalYear:"january to d...",Department:"Office of the...",SubDepartment:"Network Op...",ChartOfAccounts:"Allowance f...",Fund:"General Fund",Project:"No Project",Appropriation:"10,00,000.00",AppropriationBalance:"7,20,000.00",TotalAmount:"9,70,000.00",Allotment:"2,50,000.00",AllotmentBalance:"2,50,000.00"},{Name:"Due to LGUs",FiscalYear:"feb aug",Department:"Accounting",SubDepartment:"Payroll",ChartOfAccounts:"Due to LGUs",Fund:"General Fund",Project:"No Project",Appropriation:"0.00",AppropriationBalance:"0.00",TotalAmount:"0.00",Allotment:"1,00,000.00",AllotmentBalance:"1,00,000.00"}],i=c=>{console.log(r?"Updated":"Created")},l=c=>{n(c),e(!0)};return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Budget Supplemental"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsx("div",{className:"w-full md:w-56",children:o.jsx("input",{type:"text",placeholder:"Search..."})}),o.jsx("div",{children:o.jsxs("select",{name:"department",id:"department",children:[o.jsx("option",{value:"",children:"Select Department"}),o.jsx("option",{value:"operation",children:"Operation"}),o.jsx("option",{value:"management",children:"Management"})]})}),o.jsx("div",{children:o.jsxs("select",{name:"subDepartment",id:"subDepartment",children:[o.jsx("option",{value:"",children:"Select Sub Department"}),o.jsx("option",{value:"operation",children:"Operation"}),o.jsx("option",{value:"management",children:"Management"})]})}),o.jsx("div",{children:o.jsxs("select",{name:"chartOfAccounts",id:"chartOfAccounts",children:[o.jsx("option",{value:"",children:"Select Account"}),o.jsx("option",{value:"operation",children:"Operation"}),o.jsx("option",{value:"management",children:"Management"})]})})]}),o.jsx("div",{children:o.jsxs("button",{onClick:()=>e(!0),className:"btn",children:[o.jsx(ru,{className:"-ml-0.5 mr-2 h-5 w-5","aria-hidden":"true"}),"Add"]})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[a==null?void 0:a.map((c,u)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:c})),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(c=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.FiscalYear}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Department}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.SubDepartment}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.ChartOfAccounts}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Fund}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Project}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Appropriation}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.AppropriationBalance}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.TotalAmount}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Allotment}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.AllotmentBalance}),o.jsxs("td",{className:"px-6 py-4 flex items-center space-x-4 text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>l(item),className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Edit"}),o.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Delete"})]})]},c.email))})]})})})})]})]}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Request":"Add New Request",children:o.jsx(T8e,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},O8e=oe({sourceBudgetName:O().required("Code is required"),sourceFiscalYear:O().required("Code is required"),sourceDepartment:O().required("Code is required"),sourceSubDepartment:O().required("Code is required"),sourceAccounts:O().required("Code is required"),sourceFund:O().required("Code is required"),sourceProject:O().required("Code is required"),sourceTransfer:re().required("Amount is required").min(0,"Amount must be positive"),sourceRemarks:O().required("Year is required"),sourceAppropriation:re().required("Amount is required").min(0,"Amount must be positive"),sourceAppropriationBalance:re().required("Amount is required").min(0,"Amount must be positive"),sourceReleasedAllotments:re().required("Amount is required").min(0,"Amount must be positive"),sourceAllotmentBalance:re().required("Amount is required").min(0,"Amount must be positive"),targetBudgetName:O().required("Code is required"),targetFiscalYear:O().required("Code is required"),targetDepartment:O().required("Code is required"),targetSubDepartment:O().required("Code is required"),targetAccounts:O().required("Code is required"),targetFund:O().required("Code is required"),targetProject:O().required("Code is required"),targetTransfer:re().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:O().required("Year is required"),targetAppropriation:re().required("Amount is required").min(0,"Amount must be positive"),targetAppropriationBalance:re().required("Amount is required").min(0,"Amount must be positive"),targetReleasedAllotments:re().required("Amount is required").min(0,"Amount must be positive"),targetAllotmentBalance:re().required("Amount is required").min(0,"Amount must be positive")}),lF={sourceBudgetName:"",sourceFiscalYear:"",sourceDepartment:"",sourceSubDepartment:"",sourceAccounts:"",sourceFund:"",sourceProject:"",sourceTransfer:0,sourceRemarks:"",sourceAppropriation:0,sourceAppropriationBalance:0,sourceReleasedAllotments:0,sourceAllotmentBalance:0,targetBudgetName:"",targetFiscalYear:"",targetDepartment:"",targetSubDepartment:"",targetAccounts:"",targetFund:"",targetProject:"",targetTransfer:0,targetRemarks:"",targetAppropriation:0,targetAppropriationBalance:0,targetReleasedAllotments:0,targetAllotmentBalance:0};function E8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...lF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(lF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:O8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(A,{label:"Budget Name",name:"sourceBudgetName",type:"text",onChange:u,onBlur:d,value:i.sourceBudgetName,error:l.sourceBudgetName,touched:c.sourceBudgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"sourceFiscalYear",type:"text",onChange:u,onBlur:d,value:i.sourceFiscalYear,error:l.sourceFiscalYear,touched:c.sourceFiscalYear,required:!0}),o.jsx(A,{label:"Department",name:"sourceDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceDepartment,error:l.sourceDepartment,touched:c.sourceDepartment,required:!0}),o.jsx(A,{label:"Sub Department",name:"sourceSubDepartment",type:"text",onChange:u,onBlur:d,value:i.sourceSubDepartment,error:l.sourceSubDepartment,touched:c.sourceSubDepartment,required:!0}),o.jsx(A,{name:"sourceAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.sourceAccounts,error:l.sourceAccounts,touched:c.sourceAccounts,required:!0}),o.jsx(A,{name:"sourceFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.sourceFund,error:l.sourceFund,touched:c.sourceFund,required:!0}),o.jsx(A,{name:"sourceProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.sourceProject,error:l.sourceProject,touched:c.sourceProject,required:!0}),o.jsx(A,{name:"sourceTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(A,{name:"sourceAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.sourceAppropriation,error:l.sourceAppropriation,touched:c.sourceAppropriation,required:!0})," ",o.jsx(A,{name:"sourceAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.sourceAppropriationBalance,error:l.sourceAppropriationBalance,touched:c.sourceAppropriationBalance,required:!0}),o.jsx(A,{name:"Remarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("p",{className:"font-medium",children:"Account Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(A,{label:"Budget Name",name:"targetBudgetName",type:"text",onChange:u,onBlur:d,value:i.targetBudgetName,error:l.targetBudgetName,touched:c.targetBudgetName,required:!0}),o.jsx(A,{label:"Fiscal Year",name:"targetFiscalYear",type:"text",onChange:u,onBlur:d,value:i.targetFiscalYear,error:l.targetFiscalYear,touched:c.targetFiscalYear,required:!0}),o.jsx(A,{label:"Department",name:"targetDepartment",type:"text",onChange:u,onBlur:d,value:i.targetDepartment,error:l.targetDepartment,touched:c.targetDepartment,required:!0}),o.jsx(A,{label:"Sub Department",name:"targetSubDepartment",type:"text",onChange:u,onBlur:d,value:i.targetSubDepartment,error:l.targetSubDepartment,touched:c.targetSubDepartment,required:!0}),o.jsx(A,{name:"targetAccounts",type:"text",label:"Chat of Accounts",onChange:u,onBlur:d,value:i.targetAccounts,error:l.targetAccounts,touched:c.targetAccounts,required:!0}),o.jsx(A,{name:"targetFund",type:"text",label:"Fund",onChange:u,onBlur:d,value:i.targetFund,error:l.targetFund,touched:c.targetFund,required:!0}),o.jsx(A,{name:"targetProject",type:"text",label:"Project",onChange:u,onBlur:d,value:i.targetProject,error:l.targetProject,touched:c.targetProject,required:!0}),o.jsx(A,{name:"targetTransfer",type:"number",label:"Transfer",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(A,{name:"targetAppropriation",type:"number",label:"Appropriation",onChange:u,onBlur:d,value:i.targetAppropriation,error:l.targetAppropriation,touched:c.targetAppropriation,required:!0})," ",o.jsx(A,{name:"targetAppropriationBalance",type:"number",label:"Appropriation Balance",onChange:u,onBlur:d,value:i.targetAppropriationBalance,error:l.targetAppropriationBalance,touched:c.targetAppropriationBalance,required:!0}),o.jsx(A,{name:"targetRemarks ",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const I8e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(!1),a=["InvoiceNumber","Budget","Status","InvoiceDate","Total","Remarks"],s=[{InvoiceNumber:"BT-18-2025",Budget:"Traveling Expenses",Status:"Posted",InvoiceDate:"03-03-2025",Total:"5,000.00",Remarks:""},{InvoiceNumber:"BT-17-2025",Budget:"Electricity Expenses",Status:"Posted",InvoiceDate:"25-02-2025",Total:"99,00,000.00",Remarks:"testing"},{InvoiceNumber:"BT-16-2025",Budget:"Electricity Expenses",Status:"Posted",InvoiceDate:"23-02-2025",Total:"10.00",Remarks:"fasd"},{InvoiceNumber:"BT-15-2025",Budget:"Allowance for Officers",Status:"Posted",InvoiceDate:"20-02-2025",Total:"10,00,000.00",Remarks:""},{InvoiceNumber:"BT-14-2024",Budget:"Electricity Expenses",Status:"Posted",InvoiceDate:"15-01-2025",Total:"1,000.00",Remarks:"test"}],i=c=>{console.log(r?"Updated":"Created")},l=c=>{n(c),e(!0)};return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Budget Transfer"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsx("div",{className:"flex flex-wrap gap-3",children:o.jsx("div",{className:"w-full md:w-56",children:o.jsx("input",{type:"text",placeholder:"Search..."})})}),o.jsx("div",{children:o.jsxs("button",{onClick:()=>l(null),className:"btn",children:[o.jsx(ru,{className:"-ml-0.5 mr-2 h-5 w-5","aria-hidden":"true"}),"Add"]})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[a==null?void 0:a.map((c,u)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:c})),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((c,u)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.InvoiceNumber}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Budget}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Status}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.InvoiceDate}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Total}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Remarks===""?"N/A":c.Remarks}),o.jsxs("td",{className:"px-6 py-4 flex items-center space-x-4 text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>l(c),className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Edit"}),o.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Delete"})]})]},u))})]})})})})]})]}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Transfer":"Add New Transfer",children:o.jsx(E8e,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},P8e=oe({code:O().required("Code is required"),name:O().required("Name is required"),desc:O().required("Description is required"),amount:re().required("Amount is required").min(0,"Amount must be positive")}),cF={code:"",name:"",desc:"",amount:0};function D8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...cF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:(t==null?void 0:t.ID)||"",code:(t==null?void 0:t.Code)||"",name:(t==null?void 0:t.Name)||"",desc:(t==null?void 0:t.Description)||"",amount:(t==null?void 0:t.OriginalAmount)||""}):a(cF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:P8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(A,{label:"Code",name:"code",type:"text",onChange:u,onBlur:d,value:i.code,error:l.code,touched:c.code,required:!0}),o.jsx(A,{label:"Name",name:"name",type:"text",onChange:u,onBlur:d,value:i.name,error:l.name,touched:c.name,required:!0}),o.jsx(A,{label:"Amount",name:"amount",type:"text",onChange:u,onBlur:d,value:i.amount,error:l.amount,touched:c.amount,required:!0}),o.jsx(A,{name:"desc",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.desc,error:l.desc,touched:c.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const ip="https://staging-engine.testthelink.online",_8e=()=>{const[t,e]=v.useState([]),[r,n]=v.useState(!1),[a,s]=v.useState(!1),i=["Code","Name","Description","Original Amount"],l=async()=>{try{const g=await(await fetch(`${ip}/funds`,{method:"GET"})).json();g?e(g||[]):console.log("Something went wrong")}catch(h){throw new Error(h.message)}},c=async h=>{try{await(await fetch(`${ip}/funds/${h}`,{method:"DELETE"})).json()&&(l(),De.success("Fund deleted successfully"))}catch(g){throw new Error(g.message)}},u=async h=>{try{await(await fetch(`${ip}/funds`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({LinkID:1,Code:h==null?void 0:h.code,Name:h==null?void 0:h.name,Description:h==null?void 0:h.desc,OriginalAmount:h==null?void 0:h.amount})})).json()&&(l(),n(!1),De.success("Fund added successfully"))}catch(g){throw new Error(g.message)}},d=async h=>{try{await(await fetch(`${ip}/funds/${h==null?void 0:h.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({LinkID:1,Code:h==null?void 0:h.code,Name:h==null?void 0:h.name,Description:h==null?void 0:h.desc,OriginalAmount:h==null?void 0:h.amount})})).json()&&(l(),n(!1),De.success("Fund updated successfully"))}catch(g){throw new Error(g.message)}},f=h=>{a?d(h):u(h)},m=h=>{s(h),n(!0)};return v.useEffect(()=>{(t==null?void 0:t.length)===0&&l()},[t]),o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Budget Fund"}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsx("div",{className:"flex flex-wrap gap-3",children:o.jsx("div",{className:"w-full md:w-56",children:o.jsx("input",{type:"text",placeholder:"Search..."})})}),o.jsx("div",{children:o.jsx("button",{onClick:()=>m(null),className:"btn",children:"Add"})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[i==null?void 0:i.map((h,g)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:h})),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((h,g)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(h==null?void 0:h.Code)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(h==null?void 0:h.Name)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(h==null?void 0:h.Description)||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(h==null?void 0:h.OriginalAmount)||"N/A"}),o.jsxs("td",{className:"px-6 py-4 flex items-center space-x-4 text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>m(h),className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Edit"}),o.jsx("button",{onClick:()=>c(h==null?void 0:h.ID),className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Delete"})]})]},g))})]})})})})]}),o.jsx(ae,{size:"sm",isOpen:r,onClose:()=>n(!1),title:a?"Edit Fund":"Add New Fund",children:o.jsx(D8e,{onSubmit:f,initialData:a,onClose:()=>n(!1)})})]})},$8e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(!1),a=["Type","SubID","Subtype","Category","ChartOfAccounts","AccountCode","Original","Final","Difference","Actual","Difference2","Period","Original_Sum","Final_Sum","Difference_Sum","Actual_Sum","Difference2_Sum","Municipality","Province"],s=[{Type:"Asset",SubID:"7",Subtype:"Cash",Category:"Cash on Hand",ChartOfAccounts:"Cash - Local Treasury",AccountCode:"10101010",Original:"1.00",Final:"1.00",Difference:"0.00",Actual:"0.00",Difference2:"1.00",Period:"31-08-2024",Original_Sum:"1.00",Final_Sum:"1.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"1.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"7",Subtype:"Cash",Category:"Cash on Hand",ChartOfAccounts:"Petty Cash",AccountCode:"10101020",Original:"10,40,000.00",Final:"10,90,000.00",Difference:"-50,000.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"10,40,000.00",Final_Sum:"10,90,000.00",Difference_Sum:"-50,000.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"8",Subtype:"Investments",Category:"Financial Assets - Bonds",ChartOfAccounts:"Investments in Bonds - Local",AccountCode:"10203020",Original:"60,000.00",Final:"60,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"60,000.00",Final_Sum:"60,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"8",Subtype:"Investments",Category:"Investments in Treasury Bills",ChartOfAccounts:"Treasury Bills",AccountCode:"10201030",Original:"28,20,001.00",Final:"28,20,001.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"28,20,001.00",Final_Sum:"28,20,001.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"8",Subtype:"Investments",Category:"Guaranty Deposits",ChartOfAccounts:"Guaranty Deposits",AccountCode:"10205020",Original:"40,000.00",Final:"40,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"40,000.00",Final_Sum:"40,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"9",Subtype:"Receivables",Category:"Loans and Accounts Receivable",ChartOfAccounts:"Notes Receivable",AccountCode:"10301040",Original:"4,80,000.00",Final:"4,80,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"4,80,000.00",Final_Sum:"4,80,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"9",Subtype:"Receivables",Category:"Loans and Accounts Receivable",ChartOfAccounts:"Real Property Tax Receivable",AccountCode:"10301020",Original:"30,000.00",Final:"30,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"30,000.00",Final_Sum:"30,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"10",Subtype:"Inventories",Category:"Inventory Held for Consumption",ChartOfAccounts:"Finished Goods Inventory",AccountCode:"10403030",Original:"8,00,000.00",Final:"8,00,000.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"8,00,000.00",Final_Sum:"8,00,000.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Asset",SubID:"12",Subtype:"Investment Property",Category:"Land and Buildings",ChartOfAccounts:"Investment Property, Land",AccountCode:"10601010",Original:"50.00",Final:"50.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"50.00",Final_Sum:"50.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Expenses",SubID:"34",Subtype:"Maintenance And Other Operating Expenses",Category:"Traveling Expenses",ChartOfAccounts:"Traveling Expenses",AccountCode:"50201010",Original:"10,000.00",Final:"5,000.00",Difference:"5,000.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"10,000.00",Final_Sum:"5,000.00",Difference_Sum:"5,000.00",Actual_Sum:"0.00",Difference2_Sum:"5,000.00",Municipality:"SAN DIONISIO",Province:"ILOILO"},{Type:"Liability",SubID:"17",Subtype:"Inter-Agency Payables",Category:"Inter-Agency Payables",ChartOfAccounts:"Due to LGUs",AccountCode:"20201070",Original:"0.00",Final:"0.00",Difference:"0.00",Actual:"0.00",Difference2:"0.00",Period:"31-08-2024",Original_Sum:"0.00",Final_Sum:"0.00",Difference_Sum:"0.00",Actual_Sum:"0.00",Difference2_Sum:"0.00",Municipality:"SAN DIONISIO",Province:"ILOILO"}],i=l=>{console.log(r?"Updated":"Created")};return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Summary of Comparison of Budget and Actual Amount"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full flex flex-wrap items-end gap-3",children:[o.jsxs("div",{className:"w-52",children:[o.jsx("label",{htmlFor:"fiscalYear",children:"Fiscal Year"}),o.jsxs("select",{name:"fiscalYear",id:"fiscalYear",children:[o.jsx("option",{value:"",children:"-- Select --"}),o.jsx("option",{value:"feb-aug",children:"Feb Aug"}),o.jsx("option",{value:"mar-aug",children:"Mar Aug"})]})]}),o.jsxs("div",{className:"space-x-3",children:[o.jsx("button",{className:"btn",children:"View"}),o.jsx("button",{className:"btn",children:"Generate Journal"}),o.jsx("button",{className:"btn",children:"Export to Excel"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:a==null?void 0:a.map((l,c)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:l}))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((l,c)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.SubID}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Subtype}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Category}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.ChartOfAccounts}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.AccountCode}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Original}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Final}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Difference}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Actual}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Difference2}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Period}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Original_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Final_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Difference_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Actual_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Difference2_Sum}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Municipality}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Province})]},c))})]})})})})]})]}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(Ij,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},R8e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(!1),a=["Fund","Year","MonthEnd","AccountCode","ID","Category","Name","Appropriation","Allotment","Obligation","UnobligatedAppropriation","UnobligatedAllotment","Municipality","Province","RequestedBy","Position"],s=[{Fund:"General Fund",Year:"2025",MonthEnd:"03-31-2025",AccountCode:"10101020",ID:"A001",Category:"Cash",Name:"Petty Cash",Appropriation:"500,000.00",Allotment:"400,000.00",Obligation:"350,000.00",UnobligatedAppropriation:"150,000.00",UnobligatedAllotment:"50,000.00",Municipality:"SAN DIONISIO",Province:"ILOILO",RequestedBy:"Juan Dela Cruz",Position:"Budget Officer"},{Fund:"Special Education Fund",Year:"2025",MonthEnd:"03-31-2025",AccountCode:"10301040",ID:"A002",Category:"Receivables",Name:"Notes Receivable",Appropriation:"200,000.00",Allotment:"150,000.00",Obligation:"120,000.00",UnobligatedAppropriation:"80,000.00",UnobligatedAllotment:"30,000.00",Municipality:"SAN DIONISIO",Province:"ILOILO",RequestedBy:"Maria Santos",Position:"Accounting Clerk"},{Fund:"Trust Fund",Year:"2025",MonthEnd:"03-31-2025",AccountCode:"10205020",ID:"A003",Category:"Investments",Name:"Guaranty Deposits",Appropriation:"300,000.00",Allotment:"250,000.00",Obligation:"200,000.00",UnobligatedAppropriation:"100,000.00",UnobligatedAllotment:"50,000.00",Municipality:"SAN DIONISIO",Province:"ILOILO",RequestedBy:"Carlos Reyes",Position:"Treasurer"},{Fund:"General Fund",Year:"2025",MonthEnd:"03-31-2025",AccountCode:"10403030",ID:"A004",Category:"Inventories",Name:"Finished Goods Inventory",Appropriation:"100,000.00",Allotment:"80,000.00",Obligation:"70,000.00",UnobligatedAppropriation:"30,000.00",UnobligatedAllotment:"10,000.00",Municipality:"SAN DIONISIO",Province:"ILOILO",RequestedBy:"Ana Lopez",Position:"Supply Officer"}],i=l=>{console.log(r?"Updated":"Created")};return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Statement of Appropriations, Allotment, Obligations and Balances"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"w-full flex flex-wrap items-end gap-3",children:[o.jsxs("div",{className:"w-full md:w-44",children:[o.jsx("label",{htmlFor:"startDate",children:"Start Date"}),o.jsx("input",{type:"date",placeholder:"Select start date"})]}),o.jsxs("div",{className:"w-full md:w-44",children:[o.jsx("label",{htmlFor:"endDate",children:"End Date"}),o.jsx("input",{type:"date",placeholder:"Select start date"})]}),o.jsxs("div",{className:"w-full md:w-36",children:[o.jsx("label",{htmlFor:"fund",children:"Select Fund"}),o.jsxs("select",{name:"fund",id:"fund",children:[o.jsx("option",{value:"",children:"-- Select --"}),o.jsx("option",{value:"operation",children:"Operation"}),o.jsx("option",{value:"management",children:"Management"})]})]}),o.jsxs("div",{className:"w-full md:w-36",children:[o.jsx("label",{htmlFor:"fiscalYear",children:"Fiscal Year"}),o.jsxs("select",{name:"fiscalYear",id:"fiscalYear",children:[o.jsx("option",{value:"",children:"Select -- "}),o.jsx("option",{value:"feb-aug",children:"Feb Aug"}),o.jsx("option",{value:"mar-aug",children:"Mar Aug"})]})]}),o.jsxs("div",{className:"w-full md:w-36",children:[o.jsx("label",{htmlFor:"department",children:"Department"}),o.jsxs("select",{name:"department",id:"department",children:[o.jsx("option",{value:"",children:"Select --"}),o.jsx("option",{value:"operation",children:"Operation"}),o.jsx("option",{value:"management",children:"Management"})]})]}),o.jsxs("div",{className:"space-x-3",children:[o.jsx("button",{className:"btn",children:"View"}),o.jsx("button",{className:"btn",children:"View SAO"}),o.jsx("button",{className:"btn",children:"Generate SAAOB"}),o.jsx("button",{className:"btn",children:"Generate SAO"}),o.jsx("button",{className:"btn",children:"Export to Excel"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsx("tr",{children:a==null?void 0:a.map((l,c)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:l}))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((l,c)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Fund}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Year}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.MonthEnd}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.AccountCode}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.ID}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Category}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Appropriation}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Allotment}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Obligation}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.UnobligatedAppropriation}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.UnobligatedAllotment}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Municipality}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Province}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.RequestedBy}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:l.Position})]},c))})]})})})})]})]}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Budget":"Add New Budget",children:o.jsx(Ij,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},M8e=oe({fund:O().required("Fund is required"),code:O().required("Code is required"),name:O().required("Name is required"),desc:O().required("Description is required"),amount:re().required("Amount is required").min(0,"Amount must be positive")}),uF={code:"",name:"",fund:"",desc:"",amount:0},L8e=[{value:1,label:"Fund 1"},{value:2,label:"Fund 2"},{value:3,label:"Fund 3"}];function F8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...uF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(uF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:M8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[o.jsx(A,{label:"Code",name:"code",type:"text",onChange:u,onBlur:d,value:i.code,error:l.code,touched:c.code,required:!0}),o.jsx(A,{label:"Name",name:"name",type:"text",onChange:u,onBlur:d,value:i.name,error:l.name,touched:c.name,required:!0}),o.jsx(A,{label:"Amount",name:"amount",type:"text",onChange:u,onBlur:d,value:i.amount,error:l.amount,touched:c.amount,required:!0}),o.jsx(A,{label:"Fund",name:"fund",type:"select",onChange:u,onBlur:d,value:i.fund,error:l.fund,touched:c.fund,options:L8e,required:!0}),o.jsx(A,{name:"desc",type:"textarea",label:"Description",onChange:u,onBlur:d,value:i.desc,error:l.desc,touched:c.desc,required:!0})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const B8e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(!1),a=["Fund","Code","Name","Description","Amount"],s=[{Fund:"General Fund",Code:"20%",Name:"20% Fund",Description:"The twenty percent fund.",Amount:"12,000.00"},{Fund:"General Fund",Code:"GF",Name:"General Fund",Description:"The main general fund.",Amount:"20,000.00"},{Fund:"Special Education Fund",Code:"SEF",Name:"Special Education Fund",Description:"The main special education fund.",Amount:"35,000.00"},{Fund:"Trust Fund",Code:"TF",Name:"Trust Fund",Description:"The main trust fund.",Amount:"25,000.00"}],i=c=>{console.log(r?"Updated":"Created")},l=c=>{n(c),e(!0)};return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Sub Funds"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsx("div",{className:"flex flex-wrap gap-3",children:o.jsx("div",{className:"w-full md:w-56",children:o.jsx("input",{type:"text",placeholder:"Search..."})})}),o.jsx("div",{children:o.jsxs("button",{onClick:()=>l(null),className:"btn",children:[o.jsx(ru,{className:"-ml-0.5 mr-2 h-5 w-5","aria-hidden":"true"}),"Add"]})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[a==null?void 0:a.map((c,u)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:c})),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((c,u)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Fund}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Code}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Description}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Amount}),o.jsxs("td",{className:"px-6 py-4 flex items-center space-x-4 text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>l(c),className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Edit"}),o.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Delete"})]})]},u))})]})})})})]})]}),o.jsx(ae,{size:"sm",isOpen:t,onClose:()=>e(!1),title:r?"Edit Sub-Fund":"Add New Sub-Fund",children:o.jsx(F8e,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},q8e=oe({sourceCode:O().required("Code is required"),sourceFundName:O().required("Name is required"),sourceBalance:re().required("Balance is required").min(0,"Balance must be positive"),sourceTransfer:re().required("Amount is required").min(0,"Amount must be positive"),targetRemarks:O().required("Year is required"),targetCode:O().required("Code is required"),targetFundName:O().required("Name is required"),targetBalance:re().required("Balance is required").min(0,"Balance must be positive"),targetTransfer:re().required("Amount is required").min(0,"Amount must be positive")}),dF={sourceCode:"",sourceFundName:"",sourceBalance:0,sourceTransfer:0,sourceRemarks:"",targetCode:"",targetFundName:"",targetBalance:0,targetTransfer:0,targetRemarks:""};function V8e({initialData:t,onSubmit:e,onClose:r}){const[n,a]=v.useState({...dF}),s=(i,{setSubmitting:l})=>{e(i),l(!1),console.log("Form submitted with values:",i)};return v.useEffect(()=>{t!=null&&t.ID?a({id:t==null?void 0:t.ID,budgetName:t==null?void 0:t.Name,fiscalYear:t==null?void 0:t.FiscalYearID,department:t==null?void 0:t.DepartmentID,subDepartment:t==null?void 0:t.SubDepartmentID,chartOfAccounts:t==null?void 0:t.ChartofAccountsID,fund:t==null?void 0:t.FundID,project:t==null?void 0:t.ProjectID,appropriation:t==null?void 0:t.Appropriation,charges:t==null?void 0:t.Charges,totalAmount:t==null?void 0:t.TotalAmount,balance:t==null?void 0:t.AppropriationBalance,january:t==null?void 0:t.January,february:t==null?void 0:t.February,march:t==null?void 0:t.March,april:t==null?void 0:t.April,may:t==null?void 0:t.May,june:t==null?void 0:t.June,july:t==null?void 0:t.July,august:t==null?void 0:t.August,september:t==null?void 0:t.September,october:t==null?void 0:t.October,november:t==null?void 0:t.November,december:t==null?void 0:t.December}):a(dF)},[t]),o.jsx($e,{enableReinitialize:!0,onSubmit:s,initialValues:n,validationSchema:q8e,children:({values:i,errors:l,touched:c,handleChange:u,handleBlur:d,isSubmitting:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Source"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(A,{label:"Code",name:"targeteCode",type:"text",onChange:u,onBlur:d,value:i.targeteCode,error:l.targetCode,touched:c.targetCode,required:!0}),o.jsx(A,{label:"Name",name:"targetFundName",type:"text",onChange:u,onBlur:d,value:i.targetFundName,error:l.targetFundName,touched:c.targetFundName,required:!0}),o.jsx(A,{label:"Balance",name:"targetBalance",type:"text",onChange:u,onBlur:d,value:i.targetBalance,error:l.targetBalance,touched:c.targetBalance,required:!0}),o.jsx(A,{label:"Transfer",name:"targetTransfer",type:"text",onChange:u,onBlur:d,value:i.targetTransfer,error:l.targetTransfer,touched:c.targetTransfer,required:!0}),o.jsx(A,{name:"targetRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.targetRemarks,error:l.targetRemarks,touched:c.targetRemarks,required:!0})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"font-medium",children:"Fund Target"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.jsx(A,{label:"Code",name:"code",type:"text",onChange:u,onBlur:d,value:i.sourceCode,error:l.sourceCode,touched:c.sourceCode,required:!0}),o.jsx(A,{label:"Name",name:"name",type:"text",onChange:u,onBlur:d,value:i.sourceFundName,error:l.sourceFundName,touched:c.sourceFundName,required:!0}),o.jsx(A,{label:"Balance",name:"sourceBalance",type:"text",onChange:u,onBlur:d,value:i.sourceBalance,error:l.sourceBalance,touched:c.sourceBalance,required:!0}),o.jsx(A,{label:"Transfer",name:"sourceTransfer",type:"text",onChange:u,onBlur:d,value:i.sourceTransfer,error:l.sourceTransfer,touched:c.sourceTransfer,required:!0}),o.jsx(A,{name:"sourceRemarks",type:"textarea",label:"Remarks",onChange:u,onBlur:d,value:i.sourceRemarks,error:l.sourceRemarks,touched:c.sourceRemarks,required:!0})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:t?"Update":"Save"})]})]})})}const U8e=()=>{const[t,e]=v.useState(!1),[r,n]=v.useState(!1),a=["Code","Name","Description","Original Amount","Balance","Total"],s=[{Code:"100",Name:"General Fund",Description:"The general fund.",OriginalAmount:"50,10,00,00,050.00",Balance:"50,10,00,00,050.00",Total:"50,10,00,00,050.00"},{Code:"300",Name:"Trust Fund",Description:"The trust fund.",OriginalAmount:"1,99,950.00",Balance:"3,00,000.00",Total:"3,00,000.00"},{Code:"200",Name:"Special Education Fund",Description:"The special education fund.",OriginalAmount:"2,00,000.00",Balance:"2,00,000.00",Total:"2,00,000.00"},{Code:"000",Name:"Test Fund",Description:"This is just a test fund. This will also be deleted.",OriginalAmount:"1,00,000.00",Balance:"1,00,000.00",Total:"1,00,000.00"}],i=c=>{console.log(r?"Updated":"Created")},l=c=>{n(c),e(!0)};return o.jsxs(o.Fragment,{children:[o.jsxs("section",{className:"space-y-8",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Fund Transfer"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsx("div",{children:o.jsx("div",{className:"w-full md:w-56",children:o.jsx("input",{type:"text",placeholder:"Search..."})})}),o.jsx("div",{children:o.jsxs("button",{onClick:()=>l(null),className:"btn",children:[o.jsx(ru,{className:"-ml-0.5 mr-2 h-5 w-5","aria-hidden":"true"}),"Add"]})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsx("div",{className:"py-2 align-middle inline-block min-w-full ",children:o.jsx("div",{className:"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[a==null?void 0:a.map((c,u)=>o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:c})),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((c,u)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Code}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Description}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.OriginalAmount}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Balance}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:c.Total}),o.jsxs("td",{className:"px-6 py-4 flex items-center space-x-4 text-right text-sm font-medium",children:[o.jsx("button",{onClick:()=>l(c),className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Edit"}),o.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 cursor-pointer",children:"Delete"})]})]},u))})]})})})})]})]}),o.jsx(ae,{size:"md",isOpen:t,onClose:()=>e(!1),title:r?"Edit Fund Transfer":"Add Fund Transfer",children:o.jsx(V8e,{onSubmit:i,initialData:r,onClose:()=>e(!1)})})]})},z8e=oe().shape({reportType:O().required("Report type is required"),date:Me().when("reportType",{is:"daily",then:t=>t.required("Date is required")}),action:O().required("Action is required"),month:re().when("reportType",{is:"monthly",then:t=>t.required("Month is required").min(1).max(12)}),year:re().when("reportType",{is:t=>["monthly","quarterly"].includes(t),then:t=>t.required("Year is required").min(2e3).max(2100)}),quarter:re().when("reportType",{is:"quarterly",then:t=>t.required("Quarter is required").min(1).max(4)}),fromDate:Me().when("reportType",{is:"flexible",then:t=>t.required("From date is required")}),toDate:Me().when("reportType",{is:"flexible",then:t=>t.required("To date is required").min(Of("fromDate"),"To date must be after from date")}),notedBy:O().when("reportType",{is:"flexible",then:t=>t.required("Noted by is required")})});function W8e({onSubmitCollectionReport:t,activeReportType:e,setActiveReportType:r}){const n={reportType:"daily",action:"",date:"",month:"",year:new Date().getFullYear(),quarter:"",fromDate:"",toDate:"",notedBy:"",documentTypes:{communityTax:!1,marriageCert:!1,burialCert:!1,generalService:!1,propertyTax:!1,marketTicketing:!1}},a=[{value:"daily",label:"Daily Report"},{value:"monthly",label:"Monthly Report"},{value:"quarterly",label:"Quarterly Report"},{value:"flexible",label:"Flexible Report"}],s=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],i=[{value:1,label:"Q1 (Jan - Mar)"},{value:2,label:"Q2 (Apr - Jun)"},{value:3,label:"Q3 (Jul - Sep)"},{value:4,label:"Q4 (Oct - Dec)"}],l=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"auditor",label:"Auditor"},{value:"clerk",label:"Clerk"}],c=(d,f,m,h)=>{switch(e){case"daily":return o.jsx(A,{label:"Date",name:"date",type:"date",required:!0,className:"w-full",onChange:h,value:m.date,error:d.date,touched:f.date});case"monthly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Month",name:"month",type:"select",options:s,value:m.month,onChange:h,required:!0,error:d.month,touched:f.month}),o.jsx(A,{label:"Year",name:"year",type:"number",required:!0,min:2e3,max:2100,value:m.year,onChange:h,error:d.year,touched:f.year})]});case"quarterly":return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"Quarter",name:"quarter",type:"select",options:i,value:m.quarter,onChange:h,required:!0,error:d.quarter,touched:f.quarter}),o.jsx(A,{label:"Year",name:"year",type:"number",required:!0,value:m.year,onChange:h,min:2e3,max:2100,error:d.year,touched:f.year})]});case"flexible":return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"From Date",name:"fromDate",type:"date",required:!0,value:m.fromDate,onChange:h,error:d.fromDate,touched:f.fromDate}),o.jsx(A,{label:"To Date",name:"toDate",type:"date",required:!0,value:m.toDate,onChange:h,error:d.toDate,touched:f.toDate})]}),o.jsx(A,{label:"Noted By",name:"notedBy",type:"select",options:l,required:!0,value:m.notedBy,onChange:h,error:d.notedBy,touched:f.notedBy})]});default:return null}},u=(d,{setSubmitting:f,setErrors:m})=>{try{const h={ctc:d.documentTypes.communityTax?1:0,btc:d.documentTypes.burialCert?1:0,mrc:d.documentTypes.marriageCert?1:0,gsi:d.documentTypes.generalService?1:0,rpt:d.documentTypes.propertyTax?1:0,pmt:d.documentTypes.marketTicketing?1:0};let g={};switch(d.reportType){case"daily":g={date:d.date};break;case"monthly":g={month:d.month,year:d.year};break;case"quarterly":g={quarter:d.quarter,year:d.year};break;case"flexible":g={startdate:d.fromDate,enddate:d.toDate,note:d.notedBy};break;default:throw new Error("Invalid report type")}const y={...h,...g};t({...d,action:d.action,params:y})}catch(h){console.error("Error submitting form:",h),m({submit:h.message})}finally{f(!1)}};return o.jsx($e,{initialValues:n,validationSchema:z8e,onSubmit:u,children:({values:d,errors:f,touched:m,setFieldValue:h,handleSubmit:g,handleChange:y,setErrors:x,isSubmitting:p})=>o.jsxs(Be,{className:"space-y-4",children:[function(){console.log(e,d,f)}(),o.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:a.map(b=>o.jsx("button",{type:"button",className:`px-4 py-2 rounded-md text-sm font-medium transition-colors sm:w-auto w-full ${e===b.value?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>{r(b.value),h("reportType",b.value)},children:b.label},b.value))}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:c(f,m,d,y)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Types"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{name:"communityTax",label:"Community Tax Certificate"},{name:"marriageCert",label:"Marriage Certificate"},{name:"burialCert",label:"Burial Certificate"},{name:"generalService",label:"General Service Invoice"},{name:"propertyTax",label:"Real Property Tax invoice"},{name:"marketTicketing",label:"Public Market Ticketing"}].map(b=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:`document-${b.name}`,name:`documentTypes.${b.name}`,checked:d.documentTypes[b.name],onChange:N=>{h(`documentTypes.${b.name}`,N.target.checked)},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:`document-${b.name}`,className:"ml-2 block text-sm text-gray-700",children:b.label})]},b.name))})]}),o.jsxs("div",{className:"flex justify-end pt-4 border-t border-neutral-200 gap-4 sm:flex-row flex-col",children:[o.jsx("button",{type:"button",onClick:()=>{h("action","view"),g(),x({})},className:"btn btn-primary sm:w-auto w-full",children:"View"}),o.jsx("button",{type:"button",onClick:()=>{h("action","generate"),g()},className:"btn btn-secondary sm:w-auto w-full",children:"Generate Journal"}),o.jsx("button",{type:"button",onClick:()=>{h("action","export"),g()},className:"btn btn-outline sm:w-auto w-full",children:"Export to Excel"})]})]})})}const sW="https://staging-engine.testthelink.online",H8e=async(t,e)=>{try{const r=localStorage.getItem("token");let n=`${sW}/collectionreport/${t}?`;const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":a.append("date",e.date);break;case"monthly":a.append("month",e.month),a.append("year",e.year);break;case"quarterly":a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":a.append("startdate",e.startDate),a.append("enddate",e.endDate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}n+=a.toString();const s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),i=await s.json();if(!s.ok)throw new Error(i.message||"Failed to fetch report");return i}catch(r){throw console.error(`Error fetching ${t} report:`,r),r}},G8e=async(t,e)=>{try{const r=localStorage.getItem("token");let n="";const a=new URLSearchParams;switch(e.ctc!==void 0&&a.append("ctc",e.ctc?1:0),e.btc!==void 0&&a.append("btc",e.btc?1:0),e.mrc!==void 0&&a.append("mrc",e.mrc?1:0),e.gsi!==void 0&&a.append("gsi",e.gsi?1:0),e.rpt!==void 0&&a.append("rpt",e.rpt?1:0),e.pmt!==void 0&&a.append("pmt",e.pmt?1:0),t){case"daily":n="/collectionreport/dailyExcel",a.append("date",e.date);break;case"monthly":n="/collectionreport/monthlyExcel",a.append("month",e.month),a.append("year",e.year);break;case"quarterly":n="/collectionreport/quarterlyExcel",a.append("quarter",e.quarter),a.append("year",e.year);break;case"flexible":n="/collectionreport/flexibleExcel",a.append("startdate",e.startdate),a.append("enddate",e.enddate),e.note&&a.append("note",e.note);break;default:throw new Error("Invalid report type")}const s=`${sW}${n}?${a.toString()}`,i=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!i.ok){const h=await i.json();throw new Error(h.message||"Failed to export report")}const l=await i.blob(),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c;const d=new Date,f=`${d.getFullYear()}${(d.getMonth()+1).toString().padStart(2,"0")}${d.getDate().toString().padStart(2,"0")}_${d.getHours()}${d.getMinutes()}`;let m="";switch(t){case"daily":m=`Daily_Report_${e.date.replace(/-/g,"")}_${f}.xlsx`;break;case"monthly":m=`Monthly_Report_${e.year}${e.month.toString().padStart(2,"0")}_${f}.xlsx`;break;case"quarterly":m=`Quarterly_Report_Q${e.quarter}_${e.year}_${f}.xlsx`;break;case"flexible":m=`Custom_Report_${e.startdate.replace(/-/g,"")}_to_${e.enddate.replace(/-/g,"")}_${f}.xlsx`;break}u.setAttribute("download",m),document.body.appendChild(u),u.click(),u.remove(),window.URL.revokeObjectURL(c)}catch(r){throw console.error(`Error exporting ${t} report:`,r),r}};function Y8e(){const[t,e]=v.useState({daily:[],monthly:[],quarterly:[],flexible:[]}),[r,n]=v.useState("daily"),[a,s]=v.useState(!1),i=async c=>{s(!0),console.log("Form data:",c);try{switch(c.action){case"view":const u=await H8e(c.reportType,c.params);e(d=>({...d,[c.reportType]:u})),n(c.reportType),console.log(u);break;case"generate":setCollectionData([]);case"export":await G8e(c.reportType,c.params);break;default:break}}catch(u){console.error("Error handling collection report action:",u),vr.error("Failed to handle collection report action.")}finally{s(!1)}},l={daily:[{key:"ChargeAccountID",header:"Charge Account ID",render:c=>c||"-"},{key:"FundsID",header:"Funds ID",render:c=>c||"-"},{key:"Name",header:"Name",render:c=>c||"-"},{key:"Account",header:"Account",render:c=>c||"-"},{key:"SubTotal",header:"Sub-Total",render:c=>c.toLocaleString("en-US",{style:"currency",currency:"PHP"})},{key:"Date",header:"Date",render:c=>new Date(c).toLocaleDateString()},{key:"FullName",header:"Full Name",render:c=>c||"-"},{key:"Position",header:"Position",render:c=>c||"-"}],monthly:[{key:"Month",header:"Month"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"SubTotal",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.Date1} to ${u.Date2}`},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"},{key:"ChartOfAccounts",header:"Chart of Accounts"}],quarterly:[{key:"Quarter",header:"Quarter"},{key:"Year",header:"Year"},{key:"ChargeAccountID",header:"Charge Account ID"},{key:"Name",header:"Expense Name"},{key:"FundName",header:"Fund Name"},{key:"QuarterlyBreakdown",header:"Quarterly Breakdown",render:(c,u)=>`Q1: ${u.First} | Q2: ${u.Second} | Q3: ${u.Third}`},{key:"Total",header:"Total",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"FullName",header:"Processed By"},{key:"Position",header:"Position"}],flexible:[{key:"DateRange",header:"Date Range",render:(c,u)=>`${u.StartDate} to ${u.EndDate}`},{key:"InvoiceNumber",header:"Invoice #"},{key:"CustomerName",header:"Customer"},{key:"Municipality",header:"Municipality"},{key:"Province",header:"Province"},{key:"Total",header:"Amount",render:c=>(c==null?void 0:c.toLocaleString("en-US",{style:"currency",currency:"PHP"}))||"-"},{key:"ProcessedBy",header:"Processed By",render:(c,u)=>`${u.Prepare} (${u.PreparePosition})`},{key:"NotedBy",header:"Noted By",render:(c,u)=>`${u.Poster} (${u.NotedPosition})`},{key:"Note",header:"Remarks"}]};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Collection Report"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:o.jsx(W8e,{onSubmitCollectionReport:i,activeReportType:r,setActiveReportType:n})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:l[r],data:t[r],loading:a,emptyMessage:"No collection entries found for the selected date."})})]})}const K8e=oe().shape({StartDate:Me().required("From Date is required").max(Of("EndDate"),"From Date must be before or equal to To Date"),EndDate:Me().required("To Date is required").min(Of("StartDate"),"To Date must be after or equal to From Date"),fund:O().required("Fund is required")});function J8e({onSubmit:t}){const e={StartDate:"",EndDate:"",fund:""},{funds:r}=V(i=>i.funds),n=ue();v.useEffect(()=>{n(Xr())},[n]);const a=r==null?void 0:r.map(i=>({value:i.ID,label:i.Name})),s=(i,{setSubmitting:l})=>{const c={...i,FundID:i.fund};delete c.fund,t(c),l(!1)};return o.jsx($e,{initialValues:e,validationSchema:K8e,onSubmit:s,children:({values:i,errors:l,touched:c,handleSubmit:u,setFieldValue:d,handleChange:f})=>o.jsxs(Be,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(A,{label:"From Date",name:"StartDate",type:"date",required:!0,value:i.StartDate,onChange:f,error:l.StartDate,touched:c.StartDate}),o.jsx(A,{label:"To Date",name:"EndDate",type:"date",required:!0,value:i.EndDate,onChange:f,error:l.EndDate,touched:c.EndDate})]}),o.jsx(A,{label:"Fund",name:"fund",type:"select",required:!0,value:i.fund,onChange:f,error:l.fund,touched:c.fund,options:a}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-neutral-200",children:[o.jsx("button",{type:"submit",onClick:()=>d("action","view"),className:"btn btn-primary",children:"View"}),o.jsx("button",{type:"submit",onClick:()=>d("action","generate"),className:"btn btn-secondary",children:"Generate Cashbook"}),o.jsx("button",{type:"submit",onClick:()=>d("action","export"),className:"btn btn-outline",children:"Export to Excel"})]})]})})}const oW="https://staging-engine.testthelink.online",X8e=async t=>{try{const e=localStorage.getItem("token"),r=`${oW}/cashbook/view`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch cashbook data");return a}catch(e){throw console.error("Error fetching cashbook:",e),e}},Q8e=async t=>{try{const e=localStorage.getItem("token"),r=`${oW}/cashbook/exportExcel`,n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({StartDate:t.StartDate,EndDate:t.EndDate,FundID:t.FundID})});if(!n.ok){const m=await n.json();throw new Error(m.message||"Failed to export cashbook")}const a=await n.blob(),s=window.URL.createObjectURL(a),i=document.createElement("a");i.href=s;const l=t.StartDate.replace(/-/g,""),c=t.EndDate.replace(/-/g,""),u=new Date,d=`${u.getFullYear()}${(u.getMonth()+1).toString().padStart(2,"0")}${u.getDate().toString().padStart(2,"0")}_${u.getHours()}${u.getMinutes()}`,f=`Cashbook_${l}_to_${c}_${d}.xlsx`;i.setAttribute("download",f),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(s)}catch(e){throw console.error("Error exporting cashbook:",e),e}};function Z8e(){const[t,e]=v.useState([]),[r,n]=v.useState(!1),a=async i=>{n(!0);const{action:l,...c}=i;try{switch(l){case"view":const u=await X8e(c);e(u);break;case"generate":break;case"export":await Q8e(c);break;default:break}}catch(u){console.error("Error handling cashbook action:",u)}finally{n(!1)}},s=[{key:"Year",header:"Year",render:i=>i||"-"},{key:"Officer",header:"Officer",render:i=>i||"-"},{key:"Fund",header:"Fund",render:i=>i||"-"},{key:"InvoiceDate",header:"Invoice Date",render:i=>i?new Date(i).toLocaleDateString():"-"},{key:"APAR",header:"AP AR",render:i=>i||"-"},{key:"InvoiceNumber",header:"Invoice Number",render:i=>i||"-"},{key:"Debit",header:"Debit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Credit",header:"Credit",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"},{key:"Balance",header:"Balance",render:i=>i?i.toLocaleString("en-US",{style:"currency",currency:"PHP"}):"0.00"}];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Cashbook"})}),o.jsx("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:o.jsx(J8e,{onSubmit:a})}),o.jsx("div",{className:"bg-white rounded-lg shadow",children:o.jsx(ye,{columns:s,data:t,loading:r,emptyMessage:"No cashbook entries found for the selected date range."})})]})}function e7e(){const{isAuthenticated:t,isLoading:e}=V(a=>a.auth),r=ue(),n=Mo();return v.useEffect(()=>{const a=localStorage.getItem("token");a&&r(wp(a))},[r]),v.useEffect(()=>{},[n.pathname]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):o.jsxs(o.Fragment,{children:[o.jsx(ZK,{position:"top-right"}),o.jsxs(tY,{children:[o.jsxs(se,{element:o.jsx(BZ,{}),children:[o.jsx(se,{path:"/login",element:t?o.jsx(Au,{to:"/",replace:!0}):o.jsx(qZ,{})}),o.jsx(se,{path:"/register",element:t?o.jsx(Au,{to:"/",replace:!0}):o.jsx(VZ,{})}),o.jsx(se,{path:"/forgot-password",element:t?o.jsx(Au,{to:"/",replace:!0}):o.jsx(UZ,{})}),o.jsx(se,{path:"/reset-password",element:t?o.jsx(Au,{to:"/",replace:!0}):o.jsx(zZ,{})})]}),o.jsxs(se,{element:o.jsx(FZ,{}),children:[o.jsx(se,{path:"/dashboard",element:o.jsx(ese,{})}),o.jsx(se,{path:"/profile",element:o.jsx(tNe,{})}),o.jsx(se,{path:"/budget-dashboard",element:o.jsx(Gze,{})}),o.jsx(se,{path:"/disbursement-dashboard",element:o.jsx(Kze,{})}),o.jsx(se,{path:"/collection-dashboard",element:o.jsx(Jze,{})}),o.jsx(se,{path:"/settings/departments",element:o.jsx(Wue,{})}),o.jsx(se,{path:"/settings/customer",element:o.jsx(Ipe,{})}),o.jsx(se,{path:"/settings/lgu-maintenance",element:o.jsx(k1e,{})}),o.jsx(se,{path:"/settings/subdepartments",element:o.jsx(ede,{})}),o.jsx(se,{path:"/settings/modules",element:o.jsx(lme,{})}),o.jsx(se,{path:"/settings/users",element:o.jsx(dde,{})}),o.jsx(se,{path:"/settings/user-roles",element:o.jsx(Nme,{})}),o.jsx(se,{path:"/settings/user-access",element:o.jsx(X1e,{})}),o.jsx(se,{path:"/settings/chart-of-accounts",element:o.jsx(ffe,{})}),o.jsx(se,{path:"/settings/account-group",element:o.jsx(hfe,{})}),o.jsx(se,{path:"/settings/major-account-group",element:o.jsx(gfe,{})}),o.jsx(se,{path:"/settings/sub-major-account-group",element:o.jsx(bfe,{})}),o.jsx(se,{path:"/settings/vendors",element:o.jsx(Jfe,{})}),o.jsx(se,{path:"/settings/vendor-customer-type",element:o.jsx(tme,{})}),o.jsx(se,{path:"/settings/vendor-type",element:o.jsx(nme,{})}),o.jsx(se,{path:"/settings/employees",element:o.jsx(yme,{})}),o.jsx(se,{path:"/settings/employmentStatus",element:o.jsx(xme,{})}),o.jsx(se,{path:"/settings/positions",element:o.jsx(jme,{})}),o.jsx(se,{path:"/settings/nationalities",element:o.jsx(kme,{})}),o.jsx(se,{path:"/settings/locations",element:o.jsx(Pme,{})}),o.jsx(se,{path:"/settings/ppe",element:o.jsx(Gme,{})}),o.jsx(se,{path:"/settings/ppe-categories",element:o.jsx(Kme,{})}),o.jsx(se,{path:"/settings/ppe-suppliers",element:o.jsx(Xme,{})}),o.jsx(se,{path:"/settings/approval-matrix",element:o.jsx(ihe,{})}),o.jsx(se,{path:"/settings/bank",element:o.jsx(Ahe,{})}),o.jsx(se,{path:"/settings/currency",element:o.jsx(Jue,{})}),o.jsx(se,{path:"/settings/document-details",element:o.jsx(Ihe,{})}),o.jsx(se,{path:"/settings/document-type-categories",element:o.jsx(Dhe,{})}),o.jsx(se,{path:"/settings/items",element:o.jsx(qhe,{})}),o.jsx(se,{path:"/settings/items/invoice-charge-accounts",element:o.jsx(Khe,{})}),o.jsx(se,{path:"/settings/items/units",element:o.jsx(Xhe,{})}),o.jsx(se,{path:"/settings/project-type",element:o.jsx(rpe,{})}),o.jsx(se,{path:"/settings/financial-statement",element:o.jsx(fpe,{})}),o.jsx(se,{path:"/settings/fiscal-year",element:o.jsx(ype,{})}),o.jsx(se,{path:"/settings/tax-code",element:o.jsx(vpe,{})}),o.jsx(se,{path:"/settings/mode-of-payment",element:o.jsx(wpe,{})}),o.jsx(se,{path:"/settings/payment-terms",element:o.jsx(Cpe,{})}),o.jsx(se,{path:"/settings/industry",element:o.jsx(Ape,{})}),o.jsx(se,{path:"/settings/project-details",element:o.jsx(ipe,{})}),o.jsx(se,{path:"/settings/tax-declaration",element:o.jsx(Lpe,{})}),o.jsx(se,{path:"/settings/base-unit-value",element:o.jsx(Ype,{})}),o.jsx(se,{path:"/settings/general-revision",element:o.jsx(Upe,{})}),o.jsx(se,{path:"/disbursement/obligation-requests",element:o.jsx(H0e,{})}),o.jsx(se,{path:"/disbursement/vouchers",element:o.jsx(X0e,{})}),o.jsx(se,{path:"/disbursement/travel-orders",element:o.jsx(nxe,{})}),o.jsx(se,{path:"/disbursement/journal-entry-vouchers",element:o.jsx(cxe,{})}),o.jsx(se,{path:"/disbursement/disbursement-journals",element:o.jsx(pxe,{})}),o.jsx(se,{path:"/disbursement/general-journals",element:o.jsx(jxe,{})}),o.jsx(se,{path:"/disbursement/beginning-balance",element:o.jsx(kxe,{})}),o.jsx(se,{path:"/disbursement/purchase-requests",element:o.jsx($xe,{})}),o.jsx(se,{path:"/disbursement/fund-utilization-requests",element:o.jsx(qxe,{})}),o.jsx(se,{path:"/collections/receipts",element:o.jsx(aF,{})}),o.jsx(se,{path:"/collections/community-tax",element:o.jsx(Wxe,{})}),o.jsx(se,{path:"/collections/community-tax-corporation",element:o.jsx(Kxe,{})}),o.jsx(se,{path:"/collections/real-property-tax",element:o.jsx(r8e,{})}),o.jsx(se,{path:"/collections/market",element:o.jsx(Jxe,{})}),o.jsx(se,{path:"/collections/general-service-receipts",element:o.jsx(aF,{})}),o.jsx(se,{path:"/collections/burial-service-receipts",element:o.jsx(_je,{})}),o.jsx(se,{path:"/collections/marriage-service-receipts",element:o.jsx(Mje,{})}),o.jsx(se,{path:"/collections/cashbook",element:o.jsx(Z8e,{})}),o.jsx(se,{path:"/collections/reports",element:o.jsx(Y8e,{})}),o.jsx(se,{path:"/collections/public-market-tickets",element:o.jsx(u1e,{})}),o.jsx(se,{path:"/budget",element:o.jsx(T1e,{})}),o.jsx(se,{path:"/budget/allotment",element:o.jsx(g8e,{})}),o.jsx(se,{path:"/budget/details",element:o.jsx(b8e,{})}),o.jsx(se,{path:"/budget/new",element:o.jsx(N1e,{})}),o.jsx(se,{path:"/budget/summary",element:o.jsx(v8e,{})}),o.jsx(se,{path:"/budget/supplemental",element:o.jsx(k8e,{})}),o.jsx(se,{path:"/budget/transfer",element:o.jsx(I8e,{})}),o.jsx(se,{path:"/budget/report",element:o.jsx(lR,{})}),o.jsx(se,{path:"/budget/funds",element:o.jsx(_8e,{})}),o.jsx(se,{path:"/budget/sub-funds",element:o.jsx(B8e,{})}),o.jsx(se,{path:"/budget/fund-transfer",element:o.jsx(U8e,{})}),o.jsx(se,{path:"/budget/statement-comparison",element:o.jsx($8e,{})}),o.jsx(se,{path:"/budget/statement-appropriation",element:o.jsx(R8e,{})}),o.jsx(se,{path:"/applications/business-permits",element:o.jsx(E1e,{})}),o.jsx(se,{path:"/applications/cheque-generator",element:o.jsx(I1e,{})}),o.jsx(se,{path:"/reports/general-ledger",element:o.jsx(M1e,{})}),o.jsx(se,{path:"/reports/subsidiary-ledger",element:o.jsx(U1e,{})}),o.jsx(se,{path:"/reports/financial-statements",element:o.jsx(K1e,{})}),o.jsx(se,{path:"/reports/budget",element:o.jsx(lR,{})}),o.jsx(se,{path:"/reports/bir",element:o.jsx(J1e,{})}),o.jsx(se,{path:"/reports/trial-balance",element:o.jsx(l8e,{})}),o.jsx(se,{path:"/change-password",element:o.jsx(Q1e,{})})]}),o.jsx(se,{path:"/",element:o.jsx(Au,{to:"/dashboard\\",replace:!0})}),o.jsx(se,{path:"*",element:o.jsx(tse,{})})]})]})}const iW=[{id:1,vendorCode:"V001",vendorName:"ABC Office Supplies",address:"123 Main St., City",contactPerson:"John Smith",contactNumber:"09123456789",email:"abc@example.com",tin:"123-456-789-000",category:"Office Supplies",accreditationDate:"2024-01-01",accreditationExpiry:"2025-01-01",bankAccount:"1234-5678-9012",bankName:"Sample Bank",status:"Active"}],t7e={vendors:iW,vendor:null,isLoading:!1,error:null},oC=M("vendors/fetchVendors",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(iW)},500)})}catch(r){return e.rejectWithValue(r.message)}}),iC=M("vendors/addVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{const n={...t,id:Date.now(),vendorCode:`V${String(Math.floor(Math.random()*900)+100)}`};r(n)},500)})}catch(r){return e.rejectWithValue(r.message)}}),lC=M("vendors/updateVendor",async(t,e)=>{try{return new Promise(r=>{setTimeout(()=>{r(t)},500)})}catch(r){return e.rejectWithValue(r.message)}}),lW=pe({name:"vendors",initialState:t7e,reducers:{setVendor:(t,e)=>{t.vendor=e.payload},resetVendorState:t=>{t.vendor=null,t.error=null}},extraReducers:t=>{t.addCase(oC.pending,e=>{e.isLoading=!0}).addCase(oC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors=r.payload,e.error=null}).addCase(oC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(iC.pending,e=>{e.isLoading=!0}).addCase(iC.fulfilled,(e,r)=>{e.isLoading=!1,e.vendors.push(r.payload),e.error=null}).addCase(iC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(lC.pending,e=>{e.isLoading=!0}).addCase(lC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.vendors.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.vendors[n]=r.payload),e.error=null}).addCase(lC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{setVendor:bWe,resetVendorState:xWe}=lW.actions,r7e=lW.reducer,cC=M("realPropertyTax/fetchRealPropertyTaxes",async()=>new Promise(t=>{setTimeout(()=>{t([{id:1,tdNo:"TD-001",owner:"John Doe",address:"123 Main St",beneficialUser:"Jane Doe",beneficialAddress:"456 Oak St",octTctCloaNo:"OCT-123",cct:"CCT-456",dated:"2024-03-20",propertyIdentificationNo:"12345",tin:"123-456-789",ownerTelephoneNo:"1234567890",beneficialTin:"987-654-321",beneficialTelephoneNo:"0987654321",surveyNo:"S-001",lotNo:"L-001",blockNo:"B-001",boundaries:{taxable:!0,north:"Street A",south:"Street B",east:"Street C",west:"Street D"},cancelledTdNo:"TD-000",cancelledOwner:"Previous Owner",effectivityOfAssessment:"2024-01-01",previousOwner:"Previous Owner",previousAssessedValue:"1000000",propertyDetails:{kind:"Land",numberOf:"1",description:"Residential lot"},assessmentDetails:{kind:"Land",actualUse:"Residential",classification:"Class 1",areaSize:"Medium",assessmentLevel:"20%",marketValue:"1500000"},status:"active"}])},1e3)})),uC=M("realPropertyTax/createRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e({id:Date.now(),...t})},1e3)})),dC=M("realPropertyTax/updateRealPropertyTax",async({id:t,data:e})=>new Promise(r=>{setTimeout(()=>{r({id:t,...e})},1e3)})),fC=M("realPropertyTax/deleteRealPropertyTax",async t=>new Promise(e=>{setTimeout(()=>{e(t)},1e3)})),n7e={realPropertyTaxes:[],isLoading:!1,error:null},a7e=pe({name:"realPropertyTax",initialState:n7e,reducers:{},extraReducers:t=>{t.addCase(cC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(cC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=r.payload}).addCase(cC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(uC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(uC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes.push(r.payload)}).addCase(uC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(dC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(dC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.realPropertyTaxes.findIndex(a=>a.id===r.payload.id);n!==-1&&(e.realPropertyTaxes[n]=r.payload)}).addCase(dC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message}).addCase(fC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(fC.fulfilled,(e,r)=>{e.isLoading=!1,e.realPropertyTaxes=e.realPropertyTaxes.filter(n=>n.id!==r.payload)}).addCase(fC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.error.message})}}),s7e=a7e.reducer,Xm="https://staging-engine.testthelink.online",o7e=[],mC=M("marriageRecords/fetchMarriageRecords",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/marriageRecord`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage records");return a}catch(r){return e.rejectWithValue(r.message)}}),hC=M("marriageRecords/fetchMarriageRecordById",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/marriageRecord/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to fetch marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),pC=M("marriageRecords/addMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/marriageRecord`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to add marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),gC=M("marriageRecords/updateMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/marriageRecord/${t.ID}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)}),a=await n.json();if(!n.ok)throw new Error(a.message||"Failed to update marriage record");return a}catch(r){return e.rejectWithValue(r.message)}}),yC=M("marriageRecords/deleteMarriageRecord",async(t,e)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Xm}/marriageRecord/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok){const a=await n.json();throw new Error(a.message||"Failed to delete marriage record")}return t}catch(r){return e.rejectWithValue(r.message)}}),cW=pe({name:"marriageRecords",initialState:{records:[],currentRecord:null,isLoading:!1,error:null},reducers:{clearCurrentRecord:t=>{t.currentRecord=null}},extraReducers:t=>{t.addCase(mC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(mC.fulfilled,(e,r)=>{e.isLoading=!1,e.records=Array.isArray(r.payload)?r.payload:[]}).addCase(mC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage records",console.warn("Failed to fetch marriage records, using mock data.",e.error),e.records=o7e}).addCase(hC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(hC.fulfilled,(e,r)=>{e.isLoading=!1,e.currentRecord=r.payload}).addCase(hC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to fetch marriage record"}).addCase(pC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(pC.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records.push(r.payload)}).addCase(pC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to add marriage record",console.error("Failed to add marriage record:",e.error)}).addCase(gC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(gC.fulfilled,(e,r)=>{e.isLoading=!1;const n=e.records.findIndex(a=>a.ID===r.payload.ID);n!==-1&&(Array.isArray(e.records)||(e.records=[]),e.records[n]=r.payload),e.currentRecord&&e.currentRecord.ID===r.payload.ID&&(e.currentRecord=r.payload)}).addCase(gC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to update marriage record",console.error("Failed to update marriage record:",e.error)}).addCase(yC.pending,e=>{e.isLoading=!0,e.error=null}).addCase(yC.fulfilled,(e,r)=>{e.isLoading=!1,Array.isArray(e.records)||(e.records=[]),e.records=e.records.filter(n=>n.ID!==r.payload),e.currentRecord&&e.currentRecord.ID===r.payload&&(e.currentRecord=null)}).addCase(yC.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload||"Failed to delete marriage record",console.error("Failed to delete marriage record:",e.error)})}}),{clearCurrentRecord:vWe}=cW.actions,i7e=cW.reducer,l7e=MY({reducer:{auth:cK,departments:zue,currencies:Yue,subdepartments:Zue,users:nde,chartOfAccounts:hde,accountGroups:yde,majorAccountGroups:vde,subMajorAccountGroups:Nde,vendors:r7e,employees:ode,obligationRequests:R0e,fundUtilizations:Lxe,disbursementVouchers:Y0e,travelOrders:rxe,ppes:Ume,ppeCategories:$me,ppeSuppliers:Lme,approvalMatrix:ohe,banks:Nhe,documentDetails:ehe,documentTypeCategories:Ehe,items:Rhe,invoiceChargeAccounts:Yhe,itemUnits:Fhe,projectDetails:ope,projectTypes:tpe,financialStatements:dpe,fiscalYears:gpe,taxCodes:Ufe,modeOfPayments:Kfe,paymentTerms:Hfe,industries:Bfe,employmentStatuses:hme,positions:dme,userroles:cde,nationalities:Tme,vendorCustomerTypes:eme,vendorTypes:Mfe,journalEntries:lxe,purchaseRequests:_xe,taxDeclarations:Mpe,baseUnits:Gpe,regions:Sfe,provinces:kfe,municipalities:Ife,barangays:_fe,generalRevisions:qpe,modules:ime,generalServiceReceipts:kje,disbursementJournal:hxe,beginningBalance:Cxe,generalJournal:vxe,generalLedger:R1e,trialBalance:i8e,subsidiaryLedger:V1e,financialStatementsReports:Y1e,budget:W0e,subFunds:A1e,funds:q0e,budgetDashboard:sNe,vendorDetails:wfe,burialRecords:Dje,marriageRecords:i7e,publicMarketTicketing:o1e,communityTax:zxe,corporateCommunityTax:Yxe,generalReceipts:Qze,realPropertyTax:s7e,customers:Epe},middleware:t=>t({serializableCheck:!1})});xC.createRoot(document.getElementById("root")).render(o.jsx(q.StrictMode,{children:o.jsx(aG,{store:l7e,children:o.jsx(lY,{children:o.jsx(e7e,{})})})}))});export default c7e();
